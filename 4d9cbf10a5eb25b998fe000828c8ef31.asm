push    ebp
mov     ebp, esp
push    ecx
lea     eax, [ebp+var_4]
push    eax
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    sub_277b16a2
add     esp, 14h
test    eax, eax
jnz     loc_277c6d3e
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    ds:defwindowproca
leave
retn    10h
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_10]
push    esi
mov     esi, [ebp+lparam]
push    edi
mov     edi, [ebp+arg_4]
xor     eax, eax
cmp     edi, 39h
mov     [ebx], eax
jbe     short loc_277b1712
cmp     edi, 4eh
jz      loc_277c63d1
cmp     edi, 111h
jz      loc_277c636d
cmp     edi, 113h
jbe     short loc_277b1703
cmp     edi, 115h
jbe     loc_277c636d
cmp     edi, 132h
jbe     short loc_277b1703
cmp     edi, 138h
jbe     loc_277c636d
cmp     edi, 210h
jz      loc_277c63bd
test    eax, eax
jnz     loc_277c63e0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn
cmp     edi, 39h
jz      loc_277c63ad
cmp     edi, 2bh
jz      loc_277c639d
cmp     edi, 2ch
jz      loc_277c6384
cmp     edi, 2dh
jz      loc_277c6374
jbe     short loc_277b1703
jmp     loc_277c6364
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+fdwreason]
test    esi, esi
push    edi
mov     eax, 1
jnz     short loc_277b175c
mov     ecx, dword_27826000
test    ecx, ecx
jz      loc_277c9697
mov     edi, [esp+10h+lpreserved]
mov     ebx, [esp+10h+hinstdll]
cmp     esi, 1
jz      short loc_277b1797
cmp     esi, 2
jz      short loc_277b1797
push    edi
push    esi
push    ebx
call    sub_277b1bfc
cmp     esi, 1
mov     ebp, eax
jnz     short loc_277b1785
test    ebp, ebp
jz      loc_277c96b3
test    esi, esi
jz      short loc_277b17be
cmp     esi, 3
jz      short loc_277b17be
pop     edi
mov     eax, ebp
pop     esi
pop     ebp
pop     ebx
retn    0ch
mov     ecx, dword_27826004
test    ecx, ecx
jnz     loc_277c96a0
test    eax, eax
jz      loc_277c96aa
push    edi
push    esi
push    ebx
call    sub_277b17e1
test    eax, eax
jnz     short loc_277b176e
jmp     loc_277c96aa
push    edi
push    esi
push    ebx
call    sub_277b17e1
test    eax, eax
jz      loc_277c96c0
test    ebp, ebp
jz      short loc_277b178e
mov     eax, dword_27826004
test    eax, eax
jnz     loc_277c96c7
jmp     short loc_277b178e
mov     eax, [esp+arg_4]
cmp     eax, 1
jnz     loc_277b18ce
call    ds:getversion
mov     ecx, dword_2782600c
mov     dword_27826010, eax
test    ecx, ecx
jnz     short loc_277b182e
cmp     al, 3
jz      loc_277c9636
push    offset modulename
call    ds:getmodulehandlea
test    eax, eax
jz      short loc_277b182e
push    offset procname
push    eax
call    ds:getprocaddress
test    eax, eax
jnz     loc_277c9650
call    sub_277b2740
test    eax, eax
jz      locret_277c965f
mov     ecx, dword_27826010
xor     edx, edx
mov     eax, ecx
mov     dl, ch
and     eax, 0ffh
mov     dword_2782601c, edx
mov     dword_27826018, eax
shl     eax, 8
add     eax, edx
shr     ecx, 10h
mov     dword_27826014, eax
mov     dword_27826010, ecx
call    sub_277b2866
test    eax, eax
jz      loc_277c9662
call    ds:getcommandlinea
mov     dword_27826024, eax
call    sub_277b2999
mov     ecx, dword_27826024
mov     dword_27826008, eax
test    ecx, ecx
jz      loc_277c966c
test    eax, eax
jz      loc_277c966c
call    sub_277b2a57
call    sub_277b2b5c
call    sub_277b2c4f
call    sub_277b2ea0
call    sub_277b2f86
mov     eax, dword_27826000
inc     eax
mov     dword_27826000, eax
mov     eax, 1
retn    0ch
test    eax, eax
jnz     loc_277c9680
mov     eax, dword_27826000
test    eax, eax
jle     loc_277c967b
mov     ecx, eax
mov     eax, dword_27826020
dec     ecx
test    eax, eax
mov     dword_27826000, ecx
jnz     short loc_277b18fa
call    sub_277b2353
call    sub_277b25b1
call    sub_277b2613
call    sub_277b26e5
mov     eax, 1
retn    0ch
push    ebp
mov     ebp, esp
push    edi
mov     edi, [ebp+arg_0]
mov     eax, lpcriticalsection[edi*4]
test    eax, eax
jz      short loc_277b1934
mov     eax, lpcriticalsection[edi*4]
push    eax
call    ds:entercriticalsection
pop     edi
pop     ebp
retn
push    esi
push    18h
call    sub_277b1a7a
mov     esi, eax
add     esp, 4
test    esi, esi
jz      loc_277c9b8c
push    11h
call    sub_277b1911
mov     eax, lpcriticalsection[edi*4]
add     esp, 4
test    eax, eax
push    esi
jnz     loc_277c9b9b
call    ds:initializecriticalsection
mov     lpcriticalsection[edi*4], esi
push    11h
call    sub_277b1a64
add     esp, 4
pop     esi
jmp     short loc_277b1923
push    ecx
mov     ecx, off_27828194
push    ebx
mov     ebx, [esp+8+arg_0]
push    ebp
push    esi
push    edi
mov     [esp+14h+var_4], ecx
mov     eax, [ecx+10h]
cmp     eax, 0ffffffffh
jz      loc_277c9d1a
mov     edi, [ecx+8]
lea     ebp, [ecx+2018h]
mov     esi, edi
sub     esi, ecx
sub     esi, 18h
sar     esi, 3
shl     esi, 0ch
add     esi, eax
cmp     edi, ebp
jnb     loc_277c9cdb
mov     eax, [edi]
cmp     eax, ebx
jl      short loc_277b19f3
cmp     [edi+4], ebx
jbe     short loc_277b19f3
push    ebx
push    eax
push    esi
call    sub_277b1a05
add     esp, 0ch
test    eax, eax
jz      loc_277c9ccf
mov     ecx, [esp+14h+var_4]
mov     off_27828194, ecx
mov     edx, [edi]
sub     edx, ebx
mov     [edi], edx
mov     [ecx+8], edi
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn
add     edi, 8
add     esi, 1000h
cmp     edi, ebp
jb      short loc_277b19bc
jmp     loc_277c9cdb
mov     edx, [esp+arg_8]
push    ebx
push    ebp
push    esi
push    edi
mov     edi, [esp+10h+arg_0]
mov     eax, [edi+4]
mov     ecx, [edi]
cmp     eax, edx
mov     [esp+10h+arg_0], ecx
mov     esi, ecx
lea     ebx, [edi+0f8h]
jb      loc_277c9e8d
lea     eax, [ecx+edx]
mov     [ecx], dl
cmp     eax, ebx
jnb     short loc_277b1a56
mov     esi, [edi]
mov     eax, [edi+4]
add     esi, edx
sub     eax, edx
mov     [edi], esi
mov     [edi+4], eax
lea     eax, [edi+edi*2]
lea     eax, [eax+eax*4]
mov     edx, eax
lea     eax, [ecx+8]
shl     eax, 4
sub     eax, edx
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
lea     edx, [edi+8]
mov     dword ptr [edi+4], 0
mov     [edi], edx
jmp     short loc_277b1a41
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
mov     ecx, lpcriticalsection[eax*4]
push    ecx
call    ds:leavecriticalsection
pop     ebp
retn
mov     eax, dword_27828198
mov     ecx, [esp+arg_0]
push    eax
push    ecx
call    sub_277b1a8e
add     esp, 8
retn
push    esi
mov     esi, [esp+4+arg_0]
cmp     esi, 0ffffffe0h
push    edi
ja      loc_277c9c1d
test    esi, esi
jz      loc_277c9bf3
mov     edi, [esp+8+arg_4]
cmp     esi, 0ffffffe0h
ja      loc_277c9bfd
push    esi
call    sub_277b1ac6
add     esp, 4
test    eax, eax
jz      loc_277c9c04
pop     edi
pop     esi
retn
mov     eax, [esp+arg_0]
push    esi
push    edi
lea     esi, [eax+0fh]
mov     eax, dword_27828190
and     esi, 0fffffff0h
cmp     esi, eax
ja      short loc_277b1b08
push    9
call    sub_277b1911
mov     ecx, esi
add     esp, 4
shr     ecx, 4
push    ecx
call    sub_277b197d
add     esp, 4
mov     edi, eax
push    9
call    sub_277b1a64
add     esp, 4
test    edi, edi
jz      short loc_277b1b08
mov     eax, edi
pop     edi
pop     esi
retn
mov     edx, hheap
push    esi
push    0
push    edx
call    ds:heapalloc
pop     edi
pop     esi
retn
push    ecx
push    esi
mov     esi, [esp+8+lpmem]
test    esi, esi
jz      short loc_277b1b80
push    9
call    sub_277b1911
add     esp, 4
lea     eax, [esp+8+lpmem]
lea     ecx, [esp+8+var_4]
push    eax
push    ecx
push    esi
call    sub_277b1b83
add     esp, 0ch
test    eax, eax
jz      short loc_277b1b66
mov     edx, [esp+8+lpmem]
push    eax
mov     eax, [esp+0ch+var_4]
push    edx
push    eax
call    sub_277b26a8
add     esp, 0ch
push    9
call    sub_277b1a64
add     esp, 4
pop     esi
pop     ecx
retn
push    9
call    sub_277b1a64
mov     ecx, hheap
add     esp, 4
push    esi
push    0
push    ecx
call    ds:heapfree
pop     esi
pop     ecx
retn
mov     ecx, [esp+arg_0]
mov     eax, offset off_27826048
cmp     ecx, [eax+10h]
jbe     short loc_277b1bce
cmp     ecx, [eax+14h]
jnb     short loc_277b1bce
test    cl, 0fh
jnz     short loc_277b1bd7
mov     edx, ecx
and     edx, 0fffh
cmp     edx, 100h
jb      short loc_277b1bd7
mov     edx, [esp+arg_4]
mov     [edx], eax
mov     edx, [esp+arg_8]
mov     eax, ecx
and     eax, 0fffff000h
sub     ecx, eax
mov     [edx], eax
sub     ecx, 100h
sar     ecx, 4
lea     eax, [ecx+eax+8]
retn
mov     eax, [eax]
cmp     eax, offset off_27826048
jnz     short loc_277b1b8c
xor     eax, eax
retn
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+arg_4]
cmp     esi, edi
jnb     short loc_277b1bf5
mov     eax, [esi]
test    eax, eax
jnz     short loc_277b1bf8
add     esi, 4
cmp     esi, edi
jb      short loc_277b1be8
pop     edi
pop     esi
retn
call    eax
jmp     short loc_277b1bee
mov     eax, [esp+arg_4]
push    esi
push    edi
xor     edi, edi
sub     eax, edi
jz      loc_277b1ca3
dec     eax
jnz     loc_277b1ce0
call    ds:getversion
xor     ecx, ecx
push    1
mov     ch, al
cmp     eax, 80000000h
mov     cl, ah
mov     dword_278282cc, edi
mov     dword_278282d0, edi
mov     dword_278282d4, edi
pop     esi
jnb     loc_277c6d46
cmp     ecx, 334h
mov     dword_278282cc, esi
sbb     eax, eax
inc     eax
mov     dword_278282f4, eax
push    offset criticalsection
call    ds:initializecriticalsection
mov     eax, dword_278282f0
cmp     eax, edi
jnz     short loc_277b1c7a
call    ds:getprocessheap
cmp     eax, edi
mov     dword_278282f0, eax
jz      loc_277c6d65
mov     eax, [esp+8+hlibmodule]
push    eax
mov     hinstance, eax
call    ds:disablethreadlibrarycalls
push    2ah
call    ds:getsystemmetrics
mov     dword_278282fc, eax
call    sub_277b3046
mov     eax, esi
pop     edi
pop     esi
retn    0ch
push    offset criticalsection
call    ds:deletecriticalsection
call    sub_277b2235
call    sub_277b22ac
mov     eax, hmodule
mov     esi, ds:freelibrary
cmp     eax, edi
jz      short loc_277b1cd3
cmp     eax, hinstance
jnz     loc_277c6d6c
mov     eax, dword_278282f8
cmp     eax, edi
jnz     loc_277c6d74
push    1
pop     eax
jmp     short loc_277b1c9e
mov     eax, [esp+arg_4]
sub     eax, 0
jz      short loc_277b1d07
dec     eax
jnz     short loc_277b1d10
push    [esp+hlibmodule]
call    ds:disablethreadlibrarycalls
push    [esp+hlibmodule]
call    sub_277b3061
retn    0ch
push    [esp+hlibmodule]
call    sub_277b22d4
push    1
pop     eax
jmp     short locret_277b1d04
push    esi
mov     esi, [esp+4+lpmem]
dec     dword ptr [esi+4]
mov     eax, [esi+4]
jz      short loc_277b1d26
pop     esi
retn    4
test    esi, esi
jz      short loc_277b1d38
mov     ecx, esi
call    sub_277b2209
push    esi
call    sub_277b221b
pop     ecx
xor     eax, eax
jmp     short loc_277b1d22
cmp     [esp+arg_4], 0
push    offset addend
jz      short loc_277b1d53
call    ds:interlockedincrement
xor     eax, eax
retn    8
call    ds:interlockeddecrement
jmp     short loc_277b1d4e
retn
mov     eax, ppv
test    eax, eax
jnz     loc_277c6d9b
xor     eax, eax
cmp     addend, eax
setnz   al
retn
push    offset addend
mov     dword ptr [ecx], offset off_277b21c0
call    ds:interlockeddecrement
retn
cmp     [esp+lpmem], 0
jz      short locret_277b2234
push    [esp+lpmem]
push    0
push    dword_278282f0
call    ds:heapfree
retn
cmp     word_278286a0, 0ffffh
push    esi
push    edi
mov     edi, ds:unregisterclassa
jz      short loc_277b2261
mov     esi, offset word_278286a0
mov     eax, esi
cmp     word ptr [eax], 2
jz      short loc_277b2295
add     esi, 8
mov     eax, esi
cmp     word ptr [esi], 0ffffh
jnz     short loc_277b224f
mov     eax, hwnd
test    eax, eax
jz      short loc_277b2285
push    eax
call    ds:destroywindow
push    hinstance
and     hwnd, 0
push    offset classname
call    edi
cmp     byte_278288b8, 0
jnz     loc_277c6d82
pop     edi
pop     esi
retn
mov     eax, [esi+4]
cmp     word ptr [eax+48h], 0
jz      short loc_277b2255
push    hinstance
push    dword ptr [eax+44h]
call    edi
jmp     short loc_277b2255
mov     eax, hlibmodule
test    eax, eax
jnz     loc_277c43f0
push    offset stru_27828300
call    ds:deletecriticalsection
push    0
push    0
push    hinstance
call    sub_277b1ce5
retn
call    sub_277b22f3
call    sub_277b2326
dec     dword_27828330
jnz     short loc_277b22eb
call    sub_277b2332
call    sub_277b2347
retn    4
push    edi
xor     edi, edi
cmp     dword_278288c0, edi
jle     short loc_277b2316
push    esi
mov     esi, offset dword_2782876c
cmp     dword ptr [esi], 0
jnz     short loc_277b2318
inc     edi
add     esi, 10h
cmp     edi, dword_278288c0
jl      short loc_277b2304
pop     esi
pop     edi
retn
push    dword_27828334
call    dword ptr [esi-8]
and     dword ptr [esi], 0
jmp     short loc_277b2309
push    offset stru_27828318
call    ds:entercriticalsection
retn
mov     eax, dword_278288c4
test    eax, eax
jnz     loc_277c937e
and     dword_278288c4, 0
retn
push    offset stru_27828318
call    ds:leavecriticalsection
retn
push    1
push    0
push    0
call    sub_277b2362
add     esp, 0ch
retn
push    ebx
push    ebp
push    esi
call    sub_277b23db
mov     eax, dword_278288e0
mov     ebp, [esp+0ch+uexitcode]
cmp     eax, 1
jz      loc_277c96da
mov     eax, [esp+0ch+arg_4]
mov     ebx, [esp+0ch+arg_8]
test    eax, eax
mov     dword_27826020, 1
mov     byte_278288dc, bl
jnz     short loc_277b23b8
mov     ecx, dword_278288e4
test    ecx, ecx
jnz     loc_277c96ed
push    offset dword_278288d0
push    offset dword_278288c8
call    sub_277b1bda
add     esp, 8
push    offset dword_278288d8
push    offset dword_278288d4
call    sub_277b1bda
add     esp, 8
test    ebx, ebx
jz      loc_277c9719
call    sub_277b25a6
pop     esi
pop     ebp
pop     ebx
retn
push    0dh
call    sub_277b1911
add     esp, 4
retn
call    sub_277b2449
mov     al, byte_278288dc
test    al, al
jz      nullsub_9
push    ebp
push    esi
push    2
xor     ebp, ebp
call    sub_277b1911
mov     eax, dword_278282c0
mov     esi, 3
add     esp, 4
cmp     eax, esi
jle     short loc_277b243a
push    edi
mov     edi, ds:deletecriticalsection
push    ebx
mov     bl, 83h
mov     eax, dword_278282a0
mov     eax, [eax+esi*4]
test    eax, eax
jnz     loc_277b258f
mov     eax, dword_278282c0
inc     esi
cmp     esi, eax
jl      short loc_277b241e
pop     ebx
pop     edi
push    2
call    sub_277b1a64
add     esp, 4
mov     eax, ebp
pop     esi
pop     ebp
retn
push    1
call    sub_277b2454
add     esp, 4
retn
push    ecx
push    ebx
push    ebp
push    esi
push    edi
xor     esi, esi
push    2
mov     [esp+18h+var_4], esi
xor     ebp, ebp
call    sub_277b1911
mov     eax, dword_278282c0
mov     edi, [esp+18h+arg_0]
add     esp, 4
cmp     eax, esi
jle     short loc_277b2490
mov     bl, 83h
mov     eax, dword_278282a0
mov     eax, [eax+esi*4]
test    eax, eax
jnz     short loc_277b24ad
mov     eax, dword_278282c0
inc     esi
cmp     esi, eax
jl      short loc_277b247a
push    2
call    sub_277b1a64
mov     eax, [esp+18h+var_4]
add     esp, 4
cmp     edi, 1
jnz     loc_277ca0d8
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn
test    [eax+0ch], bl
jz      short loc_277b2486
push    eax
push    esi
call    sub_277b24fc
mov     ecx, dword_278282a0
add     esp, 8
mov     eax, [ecx+esi*4]
mov     ecx, [eax+0ch]
test    bl, cl
jz      short loc_277b24e7
cmp     edi, 1
jnz     loc_277ca0ae
push    eax
call    sub_277b2519
add     esp, 4
cmp     eax, 0ffffffffh
jz      short loc_277b24e7
inc     [esp+14h+var_4]
mov     edx, dword_278282a0
mov     eax, [edx+esi*4]
push    eax
push    esi
call    sub_277b2572
add     esp, 8
jmp     short loc_277b2486
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
cmp     eax, 14h
jge     loc_277c9ba8
add     eax, 1ch
push    eax
call    sub_277b1911
add     esp, 4
pop     ebp
retn
push    esi
mov     esi, [esp+4+arg_0]
push    esi
call    sub_277b253f
add     esp, 4
test    eax, eax
jnz     loc_277ca04b
mov     eax, [esi+0ch]
test    ah, 40h
jnz     loc_277ca050
xor     eax, eax
pop     esi
retn
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
xor     ebx, ebx
push    edi
mov     eax, [esi+0ch]
mov     ecx, eax
and     ecx, 3
cmp     cl, 2
jnz     short loc_277b2560
test    eax, 108h
jnz     loc_277ca062
mov     eax, [esi+8]
mov     dword ptr [esi+4], 0
mov     [esi], eax
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
cmp     eax, 14h
jge     loc_277c9bb7
add     eax, 1ch
push    eax
call    sub_277b1a64
add     esp, 4
pop     ebp
retn
test    [eax+0ch], bl
jnz     loc_277ca001
cmp     esi, 14h
jl      loc_277b242e
jmp     loc_277ca019
push    0dh
call    sub_277b1a64
add     esp, 4
retn
push    ebx
push    ebp
mov     ebp, ds:deletecriticalsection
push    esi
push    edi
mov     ebx, offset dword_278281a0
mov     esi, [ebx]
test    esi, esi
jnz     short loc_277b25d6
add     ebx, 4
cmp     ebx, offset dword_278282a0
jl      short loc_277b25c0
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
lea     eax, [esi+480h]
cmp     esi, eax
jnb     short loc_277b2600
lea     edi, [esi+0ch]
mov     eax, [edi-4]
test    eax, eax
jnz     loc_277c9864
mov     ecx, [ebx]
add     esi, 24h
add     ecx, 480h
add     edi, 24h
cmp     esi, ecx
jb      short loc_277b25e3
mov     edx, [ebx]
push    edx
call    sub_277b1b1b
add     esp, 4
mov     dword ptr [ebx], 0
jmp     short loc_277b25c6
call    sub_277b2634
mov     eax, dwtlsindex
cmp     eax, 0ffffffffh
jz      short locret_277b2633
push    eax
call    ds:tlsfree
mov     dwtlsindex, 0ffffffffh
retn
push    esi
push    edi
mov     edi, ds:deletecriticalsection
mov     esi, offset lpcriticalsection
mov     eax, [esi]
test    eax, eax
jnz     short loc_277b2678
add     esi, 4
cmp     esi, offset dword_27828130
jl      short loc_277b2641
mov     ecx, off_27828094
push    ecx
call    edi
mov     edx, off_278280a4
push    edx
call    edi
mov     eax, off_278280b4
push    eax
call    edi
mov     ecx, off_27828074
push    ecx
call    edi
pop     edi
pop     esi
retn
cmp     esi, offset off_278280b4
jz      short loc_277b2647
cmp     esi, offset off_278280a4
jz      short loc_277b2647
cmp     esi, offset off_27828094
jz      short loc_277b2647
cmp     esi, offset off_27828074
jz      short loc_277b2647
push    eax
call    edi
mov     eax, [esi]
push    eax
call    sub_277b1b1b
add     esp, 4
jmp     short loc_277b2647
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
push    esi
xor     edx, edx
sub     ecx, [eax+10h]
sar     ecx, 0ch
mov     esi, [eax+ecx*8+18h]
lea     eax, [eax+ecx*8+18h]
mov     ecx, [esp+4+arg_8]
mov     dl, [ecx]
add     esi, edx
mov     [eax], esi
mov     byte ptr [ecx], 0
mov     ecx, [eax]
mov     dword ptr [eax+4], 0f1h
cmp     ecx, 0f0h
jz      loc_277c9cac
pop     esi
retn
push    esi
push    edi
mov     edi, ds:virtualfree
mov     esi, offset off_27826048
mov     eax, [esi+10h]
test    eax, eax
jz      short loc_277b2703
push    8000h
push    0
push    eax
call    edi
mov     esi, [esi]
cmp     esi, offset off_27826048
jnz     short loc_277b26f2
mov     eax, hheap
push    eax
call    ds:heapdestroy
pop     edi
pop     esi
retn
push    [esp+hinstance]
push    offset amsvblibupdown
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibanimate_0
call    ds:unregisterclassa
retn    4
push    0
push    1000h
push    0
call    ds:heapcreate
test    eax, eax
mov     hheap, eax
jz      nullsub_4
call    sub_277b276f
test    eax, eax
jz      loc_277c9b7d
mov     eax, 1
retn
mov     eax, dword_27826058
push    ebp
push    esi
cmp     eax, 0ffffffffh
push    edi
jnz     loc_277c9c24
mov     ebp, offset off_27826048
mov     edi, ds:virtualalloc
push    4
push    2000h
push    400000h
push    0
call    edi
mov     esi, eax
test    esi, esi
jz      loc_277c9c93
push    4
push    1000h
push    10000h
push    esi
call    edi
test    eax, eax
jz      loc_277c9c85
cmp     ebp, offset off_27826048
jnz     loc_277c9c65
mov     eax, off_27826048
test    eax, eax
jz      loc_277c9c47
mov     eax, off_2782604c
test    eax, eax
jz      loc_277c9c56
lea     eax, [esi+400000h]
lea     ecx, [ebp+18h]
lea     edx, [ebp+98h]
mov     [ebp+14h], eax
mov     [ebp+10h], esi
mov     [ebp+8], ecx
mov     [ebp+0ch], edx
xor     eax, eax
mov     edi, 0f1h
xor     edx, edx
cmp     eax, 10h
setnl   dl
dec     edx
add     ecx, 8
and     edx, edi
dec     edx
inc     eax
mov     [ecx-8], edx
mov     [ecx-4], edi
cmp     eax, 400h
jl      short loc_277b2804
mov     ecx, 4000h
xor     eax, eax
mov     edi, esi
rep stosd
mov     eax, [ebp+10h]
add     eax, 10000h
cmp     esi, eax
jnb     short loc_277b2860
mov     ecx, 0f0h
mov     al, 0ffh
lea     edx, [esi+8]
mov     [esi+4], ecx
mov     [esi], edx
mov     [esi+0f8h], al
mov     edx, [ebp+10h]
add     esi, 1000h
add     edx, 10000h
cmp     esi, edx
jb      short loc_277b283f
mov     eax, ebp
pop     edi
pop     esi
pop     ebp
retn
push    esi
call    sub_277b28ca
call    ds:tlsalloc
cmp     eax, 0ffffffffh
mov     dwtlsindex, eax
jz      loc_277c972e
push    74h
push    1
call    sub_277b28f5
mov     esi, eax
add     esp, 8
test    esi, esi
jz      loc_277c972e
mov     eax, dwtlsindex
push    esi
push    eax
call    ds:tlssetvalue
test    eax, eax
jz      loc_277c972e
push    esi
call    sub_277b2986
add     esp, 4
call    ds:getcurrentthreadid
mov     [esi], eax
mov     dword ptr [esi+4], 0ffffffffh
mov     eax, 1
pop     esi
retn
mov     eax, off_278280b4
push    esi
mov     esi, ds:initializecriticalsection
push    eax
call    esi
mov     ecx, off_278280a4
push    ecx
call    esi
mov     edx, off_27828094
push    edx
call    esi
mov     eax, off_27828074
push    eax
call    esi
pop     esi
retn
push    ebx
mov     ebx, [esp+4+arg_4]
imul    ebx, [esp+4+arg_0]
push    ebp
push    esi
cmp     ebx, 0ffffffe0h
push    edi
ja      short loc_277b2915
test    ebx, ebx
jbe     loc_277c9bc6
add     ebx, 0fh
and     ebx, 0fffffff0h
mov     ebp, ds:heapalloc
xor     esi, esi
cmp     ebx, 0ffffffe0h
ja      short loc_277b2977
cmp     ebx, dword_27828190
ja      short loc_277b2966
push    9
call    sub_277b1911
mov     eax, ebx
add     esp, 4
shr     eax, 4
push    eax
call    sub_277b197d
add     esp, 4
mov     esi, eax
push    9
call    sub_277b1a64
add     esp, 4
test    esi, esi
jz      short loc_277b296a
mov     ecx, ebx
xor     eax, eax
mov     edx, ecx
mov     edi, esi
shr     ecx, 2
rep stosd
mov     ecx, edx
and     ecx, 3
rep stosb
test    esi, esi
jnz     short loc_277b297f
mov     eax, hheap
push    ebx
push    8
push    eax
call    ebp
mov     esi, eax
test    esi, esi
jz      loc_277c9bd0
mov     eax, esi
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
mov     eax, [esp+arg_0]
mov     dword ptr [eax+50h], offset dword_278288e8
mov     dword ptr [eax+14h], 1
retn
mov     eax, dword_27828960
push    ebx
push    ebp
mov     ebp, ds:getenvironmentstrings
push    esi
xor     esi, esi
xor     ebx, ebx
push    edi
mov     edi, ds:getenvironmentstringsw
test    eax, eax
jnz     short loc_277b29cc
call    edi
mov     esi, eax
test    esi, esi
jz      loc_277c9acc
mov     eax, 1
mov     dword_27828960, eax
cmp     eax, 1
jnz     loc_277c9b0f
test    esi, esi
jz      loc_277c9ade
cmp     word ptr [esi], 0
mov     eax, esi
jz      short loc_277b29f7
add     eax, 2
cmp     word ptr [eax], 0
jnz     short loc_277b29e5
add     eax, 2
cmp     word ptr [eax], 0
jnz     short loc_277b29e5
sub     eax, esi
push    0
sar     eax, 1
inc     eax
push    0
mov     ebp, eax
push    0
push    0
push    ebp
push    esi
push    0
push    0
call    ds:widechartomultibyte
mov     edi, eax
test    edi, edi
jz      loc_277c9b01
push    edi
call    sub_277b1a7a
mov     ebx, eax
add     esp, 4
test    ebx, ebx
jz      loc_277c9b01
push    0
push    0
push    edi
push    ebx
push    ebp
push    esi
push    0
push    0
call    ds:widechartomultibyte
test    eax, eax
jz      loc_277c9af1
push    esi
call    ds:freeenvironmentstringsw
mov     eax, ebx
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
sub     esp, 48h
push    ebx
push    ebp
push    esi
push    edi
push    480h
call    sub_277b1a7a
mov     esi, eax
xor     edi, edi
add     esp, 4
cmp     esi, edi
jz      loc_277c9732
lea     eax, [esi+480h]
mov     dword_278281a0, esi
cmp     esi, eax
mov     unumber, 20h
mov     bl, 0ah
jnb     short loc_277b2ab6
mov     byte ptr [esi+4], 0
mov     dword ptr [esi], 0ffffffffh
mov     [esi+5], bl
mov     [esi+8], edi
mov     ecx, dword_278281a0
add     esi, 24h
add     ecx, 480h
cmp     esi, ecx
jb      short loc_277b2a93
lea     edx, [esp+58h+startupinfo]
push    edx
call    ds:getstartupinfoa
cmp     [esp+58h+startupinfo.cbreserved2], di
jnz     loc_277c9741
mov     ebx, ds:getstdhandle
xor     ebp, ebp
jmp     short loc_277b2aeb
mov     eax, 0fffffff6h
jmp     short loc_277b2b16
mov     al, [esi+4]
or      al, 40h
mov     [esi+4], al
inc     ebp
cmp     ebp, 3
jge     short loc_277b2b47
mov     ecx, dword_278281a0
lea     eax, [ebp+ebp*8+0]
lea     esi, [ecx+eax*4]
mov     eax, [ecx+eax*4]
cmp     eax, 0ffffffffh
jnz     loc_277c985a
test    ebp, ebp
mov     byte ptr [esi+4], 81h
jz      short loc_277b2ad6
mov     eax, ebp
dec     eax
neg     eax
sbb     eax, eax
add     eax, 0fffffff5h
push    eax
call    ebx
mov     edi, eax
cmp     edi, 0ffffffffh
jz      short loc_277b2add
push    edi
call    ds:getfiletype
test    eax, eax
jz      short loc_277b2add
and     eax, 0ffh
mov     [esi], edi
cmp     eax, 2
jz      loc_277c9850
cmp     eax, 3
jnz     short loc_277b2ae5
mov     al, [esi+4]
or      al, 8
jmp     short loc_277b2ae2
mov     edx, unumber
push    edx
call    ds:sethandlecount
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 48h
retn
push    0fffffffdh
call    sub_277b2b67
add     esp, 4
retn
sub     esp, 14h
push    ebx
push    ebp
push    esi
push    edi
push    19h
call    sub_277b1911
mov     eax, [esp+28h+arg_0]
add     esp, 4
push    eax
call    sub_277b2c1f
mov     ebp, eax
mov     eax, dword_27828b5c
add     esp, 4
cmp     ebp, eax
mov     [esp+24h+arg_0], ebp
jz      loc_277c9939
xor     esi, esi
cmp     ebp, esi
jz      loc_277c99c9
xor     edx, edx
mov     eax, offset dword_27828968
cmp     [eax], ebp
jz      loc_277c99f7
add     eax, 30h
inc     edx
cmp     eax, offset byte_27828a58
jb      short loc_277b2ba9
lea     ecx, [esp+24h+cpinfo]
push    ecx
push    ebp
call    ds:getcpinfo
cmp     eax, 1
jnz     loc_277c99c1
mov     ecx, 40h
xor     eax, eax
mov     edi, offset byte_27828a58
rep stosd
stosb
cmp     [esp+24h+cpinfo.maxcharsize], 1
ja      loc_277c994d
mov     dword_27828b5c, esi
mov     dword_27828b60, esi
xor     edx, edx
push    19h
mov     dword_27828b68, edx
mov     dword_27828b6c, edx
mov     dword_27828b70, edx
call    sub_277b1a64
add     esp, 4
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 14h
retn
mov     eax, [esp+arg_0]
mov     dword_27828b74, 0
cmp     eax, 0fffffffeh
jz      loc_277c9aa7
cmp     eax, 0fffffffdh
jnz     loc_277c9ab7
mov     dword_27828b74, 1
jmp     ds:getacp
sub     esp, 8
push    esi
push    edi
push    104h
push    offset filename
push    0
call    ds:getmodulefilenamea
mov     edi, dword_27826024
mov     dword_27828b80, offset filename
cmp     byte ptr [edi], 0
jz      loc_277c988a
lea     eax, [esp+10h+var_4]
lea     ecx, [esp+10h+var_8]
push    eax
push    ecx
push    0
push    0
push    edi
call    sub_277b2ce6
mov     edx, [esp+24h+var_4]
mov     eax, [esp+24h+var_8]
add     esp, 14h
lea     ecx, [edx+eax*4]
push    ecx
call    sub_277b1a7a
mov     esi, eax
add     esp, 4
test    esi, esi
jz      loc_277c9894
mov     ecx, [esp+10h+var_8]
lea     edx, [esp+10h+var_4]
push    edx
lea     eax, [esp+14h+var_8]
lea     edx, [esi+ecx*4]
push    eax
push    edx
push    esi
push    edi
call    sub_277b2ce6
mov     eax, [esp+24h+var_8]
add     esp, 14h
dec     eax
mov     dword_27828b7c, esi
pop     edi
mov     dword_27828b78, eax
pop     esi
add     esp, 8
retn
mov     eax, [esp+arg_c]
push    ebx
push    ebp
mov     ebp, [esp+8+arg_4]
push    esi
mov     esi, [esp+0ch+arg_8]
push    edi
mov     edi, [esp+10h+arg_10]
test    ebp, ebp
mov     dword ptr [edi], 0
mov     dword ptr [eax], 1
mov     eax, [esp+10h+arg_0]
mov     ebx, 4
jz      short loc_277b2d1c
mov     [ebp+0], esi
add     ebp, ebx
mov     [esp+10h+arg_4], ebp
cmp     byte ptr [eax], 22h
jnz     short loc_277b2d55
jmp     loc_277c98a3
mov     cl, [eax]
inc     eax
mov     byte ptr [esp+10h+arg_10], cl
mov     edx, [esp+10h+arg_10]
and     edx, 0ffh
test    byte_27828a59[edx], bl
jnz     loc_277c9900
cmp     cl, 20h
jz      short loc_277b2d65
test    cl, cl
jz      loc_277c9914
cmp     cl, 9
jz      short loc_277b2d65
mov     edx, [edi]
inc     edx
test    esi, esi
mov     [edi], edx
jz      short loc_277b2d26
mov     cl, [eax]
mov     [esi], cl
inc     esi
jmp     short loc_277b2d26
test    cl, cl
jz      loc_277c9914
test    esi, esi
jz      short loc_277b2d75
mov     byte ptr [esi-1], 0
xor     edx, edx
mov     [esp+10h+arg_10], edx
jmp     loc_277b2e51
inc     eax
jmp     loc_277b2e56
mov     bl, [eax+1]
inc     eax
inc     ecx
cmp     bl, 5ch
jnz     short loc_277b2df1
jmp     short loc_277b2d86
test    cl, 1
jnz     short loc_277b2db6
test    edx, edx
jz      short loc_277b2da5
cmp     byte ptr [eax+1], 22h
jz      loc_277c991a
xor     ebp, ebp
mov     ebx, [esp+10h+arg_10]
xor     edx, edx
test    ebx, ebx
setz    dl
mov     [esp+10h+arg_10], edx
shr     ecx, 1
jmp     short loc_277b2df6
inc     ecx
test    esi, esi
jz      short loc_277b2dc3
mov     byte ptr [esi], 5ch
inc     esi
mov     ebx, [edi]
inc     ebx
dec     ecx
mov     [edi], ebx
jz      short loc_277b2dfd
jmp     short loc_277b2dbb
and     ecx, 0ffh
test    byte_27828a59[ecx], 4
jnz     loc_277c992e
inc     dword ptr [edi]
inc     eax
mov     bl, [eax]
xor     ecx, ecx
cmp     bl, 5ch
mov     ebp, 1
jz      short loc_277b2d86
cmp     byte ptr [eax], 22h
jz      short loc_277b2d92
mov     ebx, ecx
dec     ecx
test    ebx, ebx
jnz     short loc_277b2dba
mov     cl, [eax]
test    cl, cl
jz      short loc_277b2e3b
test    edx, edx
jnz     short loc_277b2e11
cmp     cl, 20h
jz      short loc_277b2e3b
cmp     cl, 9
jz      short loc_277b2e3b
test    ebp, ebp
jz      short loc_277b2de2
test    esi, esi
jz      short loc_277b2dcd
mov     ebx, ecx
and     ebx, 0ffh
test    byte_27828a59[ebx], 4
jnz     loc_277c9920
mov     cl, [eax]
mov     [esi], cl
mov     ecx, [edi]
inc     esi
inc     ecx
mov     [edi], ecx
inc     eax
jmp     short loc_277b2de3
test    esi, esi
jz      short loc_277b2e43
mov     byte ptr [esi], 0
inc     esi
mov     ecx, [edi]
mov     ebp, [esp+10h+arg_4]
inc     ecx
mov     ebx, 4
mov     [edi], ecx
cmp     byte ptr [eax], 0
jz      short loc_277b2e87
mov     cl, [eax]
cmp     cl, 20h
jz      loc_277b2d80
cmp     cl, 9
jz      loc_277b2d80
cmp     byte ptr [eax], 0
jz      short loc_277b2e87
test    ebp, ebp
jz      short loc_277b2e7c
mov     [ebp+0], esi
add     ebp, ebx
mov     [esp+10h+arg_4], ebp
mov     ecx, [esp+10h+arg_c]
inc     dword ptr [ecx]
jmp     loc_277b2de3
test    ebp, ebp
jz      short loc_277b2e92
mov     dword ptr [ebp+0], 0
mov     eax, [esp+10h+arg_c]
pop     edi
pop     esi
pop     ebp
mov     ecx, [eax]
pop     ebx
inc     ecx
mov     [eax], ecx
retn
push    ecx
mov     edx, dword_27826008
push    ebx
push    ebp
push    esi
mov     al, [edx]
xor     esi, esi
test    al, al
push    edi
jnz     short loc_277b2f20
lea     eax, ds:4[esi*4]
push    eax
call    sub_277b1a7a
mov     esi, eax
add     esp, 4
test    esi, esi
mov     [esp+14h+var_4], esi
mov     dword_27828c8c, esi
jz      loc_277c986c
mov     ebp, dword_27826008
mov     dl, [ebp+0]
test    dl, dl
jnz     short loc_277b2f31
mov     eax, dword_27826008
push    eax
call    sub_277b1b1b
add     esp, 4
mov     dword_27826008, 0
mov     dword ptr [esi], 0
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn
mov     edi, edx
or      ecx, 0ffffffffh
xor     eax, eax
repne scasb
not     ecx
dec     ecx
mov     al, [edx+ecx+1]
lea     edx, [edx+ecx+1]
test    al, al
jz      short loc_277b2eb3
cmp     al, 3dh
jz      short loc_277b2f08
inc     esi
jmp     short loc_277b2f08
mov     dl, [ebp+ebx+0]
add     ebp, ebx
test    dl, dl
jz      short loc_277b2ee4
mov     edi, ebp
or      ecx, 0ffffffffh
xor     eax, eax
repne scasb
not     ecx
dec     ecx
mov     ebx, ecx
inc     ebx
cmp     dl, 3dh
jz      short loc_277b2f27
push    ebx
call    sub_277b1a7a
add     esp, 4
mov     [esi], eax
test    eax, eax
jz      loc_277c987b
mov     edi, ebp
or      ecx, 0ffffffffh
xor     eax, eax
repne scasb
mov     eax, [esp+14h+var_4]
not     ecx
sub     edi, ecx
mov     edx, ecx
mov     esi, edi
mov     edi, [eax]
shr     ecx, 2
rep movsd
mov     ecx, edx
and     ecx, 3
add     eax, 4
rep movsb
mov     [esp+14h+var_4], eax
mov     esi, eax
jmp     short loc_277b2f27
mov     eax, dword_27828ca4
test    eax, eax
jnz     loc_277c96d3
push    offset dword_27828ca0
push    offset dword_27828c98
call    sub_277b1bda
add     esp, 8
push    offset dword_27828c94
push    offset dword_27828c90
call    sub_277b1bda
add     esp, 8
retn
mov     eax, dword_278282c0
push    esi
test    eax, eax
jnz     loc_277c9fb6
mov     eax, 200h
mov     dword_278282c0, eax
push    4
push    eax
call    sub_277b28f5
add     esp, 8
mov     dword_278282a0, eax
test    eax, eax
jz      loc_277c9fc9
xor     edx, edx
mov     ecx, offset off_27828ca8
mov     [eax+edx], ecx
add     ecx, 20h
add     edx, 4
cmp     ecx, offset dword_27828f28
jge     short loc_277b3007
mov     eax, dword_278282a0
jmp     short loc_277b2fef
xor     ecx, ecx
mov     edx, offset dword_27828cb8
jmp     short loc_277b301c
add     edx, 20h
inc     ecx
cmp     edx, offset dword_27828d18
jge     short loc_277b3044
mov     esi, ecx
mov     eax, ecx
sar     esi, 5
and     eax, 1fh
mov     esi, dword_278281a0[esi*4]
lea     eax, [eax+eax*8]
mov     eax, [esi+eax*4]
cmp     eax, 0ffffffffh
jz      short loc_277b303c
test    eax, eax
jnz     short loc_277b3010
mov     dword ptr [edx], 0ffffffffh
jmp     short loc_277b3010
pop     esi
retn
push    0
push    1
push    hinstance
call    sub_277b1ce5
push    offset stru_27828300
call    ds:initializecriticalsection
retn
mov     eax, [esp+arg_0]
push    offset stru_27828318
mov     dword_27828334, eax
call    ds:initializecriticalsection
push    1
call    sub_277b30df
test    eax, eax
mov     dword_27829f44, eax
jz      loc_277c7c00
push    6
call    sub_277b30df
push    4
mov     dword_27829f48, eax
call    sub_277b30df
mov     dword_27829f4c, eax
inc     dword_27828330
push    offset string
call    ds:globaladdatoma
test    ax, ax
jz      short loc_277b30bd
mov     word_27829f40, ax
push    0
call    sub_277b3170
call    sub_277b344b
call    sub_277b351b
call    ds:getacp
push    1
mov     dword_27829f50, eax
pop     eax
retn    4
cmp     dword_27829fec, 0
push    esi
push    1
pop     esi
jz      short loc_277b312f
mov     eax, [esp+4+arg_0]
sub     eax, 0
jz      loc_277c9371
dec     eax
jz      short loc_277b3162
dec     eax
jz      loc_277c9369
dec     eax
jz      loc_277c9350
dec     eax
jz      short loc_277b314c
dec     eax
jz      loc_277c9324
dec     eax
jnz     short loc_277b315e
cmp     versioninformation.dwplatformid, 2
jnz     short loc_277b315e
cmp     versioninformation.dwmajorversion, 3
jb      short loc_277b315e
mov     eax, esi
pop     esi
retn    4
push    offset versioninformation
mov     dword_27829fec, esi
mov     versioninformation.dwosversioninfosize, 94h
call    ds:getversionexa
jmp     short loc_277b30ec
cmp     versioninformation.dwplatformid, 2
jnz     short loc_277b315e
cmp     versioninformation.dwmajorversion, 5
jnb     short loc_277b3129
xor     eax, eax
jmp     short loc_277b312b
xor     eax, eax
cmp     versioninformation.dwplatformid, 2
setz    al
jmp     short loc_277b312b
push    ebp
mov     ebp, esp
sub     esp, 15ch
push    ebx
push    esi
xor     esi, esi
push    edi
cmp     dword_2782a040, esi
jnz     short loc_277b31a6
cmp     dword_27829f44, esi
mov     dword_2782a040, 1
jz      loc_277c926c
mov     dword_2782a054, 20ah
cmp     dword_27829f44, esi
mov     edi, ds:systemparametersinfoa
jz      loc_277c92b0
push    esi
push    offset dword_27829ff0
push    esi
push    68h
call    edi
push    0bh
call    sub_277b339b
push    0ch
mov     dword_2782a090, eax
call    sub_277b339b
push    26h
mov     dword_2782a0a4, eax
call    sub_277b339b
push    27h
mov     dword_2782a04c, eax
call    sub_277b339b
cmp     [ebp+hkey], esi
mov     dword_2782a058, eax
jnz     loc_277c92eb
push    esi
push    offset dword_2782a0a0
push    4
push    26h
call    edi
mov     ebx, ds:regopenkeyexa
lea     eax, [ebp+phkresult]
push    eax
push    20019h
push    esi
push    offset subkey
push    80000001h
mov     data, 1
call    ebx
test    eax, eax
jnz     short loc_277b325b
lea     eax, [ebp+cbdata]
mov     [ebp+cbdata], 4
push    eax
push    offset data
push    esi
push    esi
push    offset valuename
push    [ebp+phkresult]
call    ds:regqueryvalueexa
push    [ebp+phkresult]
call    ds:regclosekey
cmp     [ebp+hkey], esi
jnz     loc_277c92fa
push    2dh
call    sub_277b339b
push    2eh
mov     dword_2782a06c, eax
call    sub_277b339b
push    5
mov     dy, eax
call    sub_277b339b
push    6
mov     w, eax
call    sub_277b339b
push    esi
mov     y, eax
call    sub_277b339b
push    1
mov     dword_2782a050, eax
call    sub_277b339b
push    20h
mov     dword_2782a07c, eax
call    sub_277b339b
push    21h
mov     dword_2782a05c, eax
call    sub_277b339b
mov     dword_2782a064, eax
lea     ecx, [ebp+pvparam]
mov     eax, 154h
push    esi
push    ecx
push    eax
push    29h
mov     [ebp+pvparam], eax
call    edi
mov     eax, [ebp+var_154]
push    24h
mov     dword_2782a08c, eax
mov     dword_2782a074, eax
mov     eax, [ebp+var_150]
mov     dword_2782a078, eax
mov     dword_2782a084, eax
mov     eax, w
shl     eax, 3
mov     dword_2782a080, eax
mov     eax, dy
mov     dword_2782a044, eax
add     eax, eax
mov     dword_2782a094, eax
mov     eax, dword_2782a06c
mov     dword_2782a068, eax
call    sub_277b339b
push    25h
mov     dword_2782a098, eax
call    sub_277b339b
mov     dword_2782a070, eax
lea     eax, [ebp+hkey]
mov     dword_2782a060, esi
push    eax
push    20019h
push    esi
push    offset acontrolpanelmo
push    80000001h
call    ebx
test    eax, eax
jnz     short loc_277b3394
push    4
lea     eax, [ebp+cbdata]
pop     edi
push    eax
lea     eax, [ebp+phkresult]
push    offset dword_2782a060
push    eax
push    esi
push    offset amousehovertime
push    [ebp+hkey]
mov     [ebp+cbdata], edi
call    ds:regqueryvalueexa
test    eax, eax
jz      loc_277c9309
mov     dword_2782a060, esi
push    [ebp+hkey]
call    ds:regclosekey
pop     edi
pop     esi
pop     ebx
leave
retn    4
call    sub_277b33bf
test    eax, eax
jnz     loc_277c7ca1
mov     eax, [esp+nindex]
cmp     eax, 4ch
jge     loc_277c7cb0
push    eax
call    ds:getsystemmetrics
retn    4
push    ebx
xor     ebx, ebx
cmp     dword_2782a0f8, ebx
push    ebp
push    esi
push    edi
jz      short loc_277b33dd
xor     eax, eax
cmp     dword_2782a0f0, ebx
setnz   al
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
push    offset auser32
call    ds:getmodulehandlea
mov     edi, eax
push    1
cmp     edi, ebx
pop     ebp
jz      short loc_277b341d
mov     esi, ds:getprocaddress
push    offset agetsystemmetri
push    edi
call    esi
cmp     eax, ebx
mov     dword_2782a0e0, eax
jz      short loc_277b341d
push    offset amonitorfromwin
push    edi
call    esi
cmp     eax, ebx
mov     dword_2782a0e4, eax
jnz     loc_277c7c18
mov     dword_2782a0e0, ebx
mov     dword_2782a0e4, ebx
mov     dword_2782a0e8, ebx
mov     dword_2782a0ec, ebx
mov     dword_2782a0f0, ebx
mov     dword_2782a0f4, ebx
mov     dword_2782a0f8, ebp
xor     eax, eax
jmp     short loc_277b33d8
push    esi
mov     esi, ds:getsyscolor
push    5
call    esi
push    8
mov     dword_2782a10c, eax
call    esi
push    6
mov     dword_2782a108, eax
call    esi
push    11h
mov     dword_2782a120, eax
call    esi
push    12h
mov     dword_2782a138, eax
call    esi
push    0fh
mov     dword_2782a128, eax
call    esi
push    10h
mov     color, eax
call    esi
push    14h
mov     dword_2782a14c, eax
call    esi
push    0dh
mov     dword_2782a118, eax
call    esi
push    0eh
mov     dword_2782a114, eax
call    esi
push    17h
mov     dword_2782a130, eax
call    esi
push    18h
mov     dword_2782a140, eax
call    esi
mov     esi, ds:getsyscolorbrush
push    11h
mov     dword_2782a12c, eax
call    esi
push    5
mov     dword_2782a148, eax
call    esi
push    8
mov     dword_2782a110, eax
call    esi
push    6
mov     dword_2782a104, eax
call    esi
push    0fh
mov     dword_2782a144, eax
call    esi
push    14h
mov     hbr, eax
call    esi
push    10h
mov     dword_2782a100, eax
call    esi
push    0dh
mov     dword_2782a13c, eax
call    esi
push    0dh
mov     dword_2782a0fc, eax
call    ds:getstockobject
mov     dword_2782a124, eax
pop     esi
retn
push    esi
push    edi
push    4ah
call    sub_277b339b
push    2ah
mov     dword_2782a154, eax
call    sub_277b339b
test    eax, eax
mov     dword_2782a150, eax
jnz     loc_277c7b01
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     [ebp+ppv], 0
push    esi
push    edi
jz      loc_277c6dad
push    [ebp+rclsid]
call    sub_277b35a3
mov     esi, eax
pop     ecx
cmp     esi, 0ffffffffh
jz      loc_277c6db7
push    0ch
call    sub_277b35e7
test    eax, eax
pop     ecx
jz      loc_277c6dfc
push    esi
mov     ecx, eax
call    sub_277b3602
mov     esi, eax
test    esi, esi
jz      loc_277c6e03
push    [ebp+ppv]
mov     eax, [esi]
push    [ebp+riid]
push    esi
call    dword ptr [eax]
mov     edi, eax
mov     eax, [esi]
push    esi
call    dword ptr [eax+8]
mov     eax, edi
pop     edi
pop     esi
leave
retn    0ch
push    ebx
xor     eax, eax
cmp     word_278286a0, 0ffffh
push    esi
push    edi
jz      loc_277c6e0d
mov     edx, offset off_278286a4
mov     ecx, [edx]
mov     edi, [ecx]
test    edi, edi
jz      short loc_277b35d1
mov     esi, [esp+0ch+arg_0]
push    10h
pop     ecx
xor     ebx, ebx
repe cmpsb
jz      short loc_277b35e3
add     edx, 8
inc     eax
cmp     word ptr [edx-4], 0ffffh
jz      loc_277c6e0d
jmp     short loc_277b35bc
pop     edi
pop     esi
pop     ebx
retn
mov     eax, dword_278282f0
test    eax, eax
jz      loc_277c5e02
push    [esp+dwbytes]
push    0
push    eax
call    ds:heapalloc
retn
mov     eax, [esp+arg_0]
push    esi
mov     esi, ecx
push    offset addend
mov     [esi+8], eax
mov     dword ptr [esi], offset off_277b21c0
call    ds:interlockedincrement
mov     dword ptr [esi+4], 1
mov     eax, esi
pop     esi
retn    4
mov     edx, [esp+arg_4]
push    ebx
push    esi
push    edi
mov     eax, [edx]
cmp     eax, ds:dword_277b5ac0
jnz     loc_277c6e15
push    10h
mov     edi, offset dword_277b5ac0
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jnz     loc_277c6e15
mov     esi, [esp+0ch+arg_0]
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [esp+0ch+arg_8]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     eax, [esp+arg_0]
inc     dword ptr [eax+4]
mov     eax, [eax+4]
retn    4
push    ebp
mov     ebp, esp
cmp     [ebp+arg_c], 0
push    esi
jz      loc_277c6e7b
mov     esi, offset criticalsection
push    esi
call    ds:entercriticalsection
cmp     dword_2782a158, 0
jz      short loc_277b36cb
push    esi
call    ds:leavecriticalsection
cmp     dword_2782a160, 0
jz      loc_277c6e85
push    [ebp+arg_8]
mov     eax, [ebp+arg_0]
push    [ebp+arg_c]
push    dword ptr [eax+8]
push    [ebp+arg_4]
call    sub_277b3973
add     esp, 10h
pop     esi
pop     ebp
retn    10h
call    sub_277b36e1
mov     dword_2782a160, eax
mov     dword_2782a158, 1
jmp     short loc_277b369b
push    ebp
mov     ebp, esp
sub     esp, 104h
push    ebx
push    esi
mov     ebx, offset widecharstr
push    edi
mov     edi, ds:lstrlenw
push    ebx
call    edi
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
xor     esi, esi
push    esi
push    esi
push    [ebp+cbmultibyte]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    ebx
mov     ebx, ds:widechartomultibyte
push    esi
push    esi
call    ebx
mov     eax, [ebp+lpmultibytestr]
push    offset a9e799bf1881711
mov     [ebp+cbmultibyte], eax
call    edi
lea     edi, [eax+eax+2]
lea     ecx, [ebp+var_84]
push    edi
call    sub_277b37aa
push    esi
push    esi
push    edi
push    [ebp+var_84]
push    0ffffffffh
push    offset a9e799bf1881711
push    esi
push    esi
call    ebx
push    [ebp+cbmultibyte]
mov     edi, [ebp+var_84]
call    sub_277b37e6
test    eax, eax
pop     ecx
jz      loc_277c4414
push    1
pop     ebx
cmp     [ebp+var_84], esi
mov     edi, ds:heapfree
jz      short loc_277b378e
test    [ebp+var_8], 1
jnz     loc_277c442a
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277b37a3
test    [ebp+var_88], 1
jnz     loc_277c443e
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
leave
retn
push    esi
push    edi
mov     edi, [esp+8+dwbytes]
mov     esi, ecx
cmp     edi, 78h
ja      loc_277c43dc
lea     eax, [esi+4]
push    78h
mov     edx, [esi+7ch]
pop     ecx
mov     [esi], eax
cmp     ecx, edi
sbb     ecx, ecx
and     edx, 0fffffffeh
neg     ecx
and     ecx, 1
or      ecx, edx
test    eax, eax
mov     [esi+7ch], ecx
jz      short loc_277b37df
and     word ptr [eax], 0
mov     eax, esi
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 0d0h
and     [ebp+var_4], 0
push    esi
push    edi
mov     edi, [ebp+lpsubkey]
test    edi, edi
jz      short loc_277b3858
mov     esi, ds:regopenkeya
lea     eax, [ebp+phkresult]
push    eax
push    offset alicenses
push    80000000h
call    esi
test    eax, eax
jnz     short loc_277b3858
cmp     [edi], al
push    ebx
mov     ebx, ds:regclosekey
jz      short loc_277b3852
lea     eax, [ebp+lpsubkey]
push    eax
push    edi
push    [ebp+phkresult]
call    esi
test    eax, eax
jnz     short loc_277b3852
lea     eax, [ebp+string2]
push    eax
push    edi
push    [ebp+lpsubkey]
call    sub_277b385f
add     esp, 0ch
test    eax, eax
jz      short loc_277b384d
mov     [ebp+var_4], 1
push    [ebp+lpsubkey]
call    ebx
push    [ebp+phkresult]
call    ebx
pop     ebx
mov     eax, [ebp+var_4]
pop     edi
pop     esi
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 0cch
push    esi
xor     esi, esi
push    [ebp+lpstring]
call    ds:lstrlena
inc     eax
cmp     eax, 9
mov     [ebp+cbdata], eax
jl      loc_277ca0df
lea     eax, [ebp+data]
push    eax
push    [ebp+lpstring2]
push    [ebp+lpstring]
call    sub_277b38cb
add     esp, 0ch
lea     eax, [ebp+cbdata]
push    eax
lea     eax, [ebp+data]
push    eax
push    esi
push    [ebp+hkey]
call    ds:regqueryvaluea
test    eax, eax
jnz     short loc_277b38c6
push    [ebp+lpstring2]
lea     eax, [ebp+data]
push    eax
call    ds:lstrcmpa
mov     esi, eax
neg     esi
sbb     esi, esi
inc     esi
mov     eax, esi
pop     esi
leave
retn
push    ebp
mov     ebp, esp
push    ecx
mov     ecx, [ebp+arg_0]
push    ebx
xor     ebx, ebx
push    esi
cmp     [ecx], bl
push    edi
mov     [ebp+var_4], ebx
mov     edx, ecx
jz      short loc_277b38e5
inc     edx
cmp     [edx], bl
jnz     short loc_277b38e0
mov     esi, [ebp+arg_8]
dec     edx
mov     edi, esi
cmp     edx, ecx
jb      short loc_277b38f7
mov     al, [edx]
dec     edx
mov     [edi], al
inc     edi
jmp     short loc_277b38eb
mov     [edi], bl
cmp     [esi], bl
mov     edx, esi
jz      short loc_277b3904
inc     edx
cmp     [edx], bl
jnz     short loc_277b38ff
dec     edx
cmp     [ecx], bl
mov     [ebp+arg_0], edx
mov     edi, ecx
jz      short loc_277b3913
inc     edi
cmp     [edi], bl
jnz     short loc_277b390e
dec     edi
cmp     ecx, edi
jnb     short loc_277b3932
mov     edx, esi
sub     edx, ecx
mov     al, [ecx]
xor     [ecx+edx], al
movsx   eax, byte ptr [ecx+edx]
add     [ebp+var_4], eax
inc     ecx
cmp     ecx, edi
jb      short loc_277b391c
mov     edx, [ebp+arg_0]
xor     ebx, ebx
cmp     esi, edx
mov     ecx, esi
jnb     short loc_277b393e
inc     ecx
dec     edx
cmp     ecx, edx
jb      short loc_277b3938
mov     eax, [ebp+var_4]
push    0ah
lea     edi, [ecx-1]
xor     edx, edx
pop     ecx
div     ecx
mov     eax, [ebp+arg_4]
add     dl, 61h
cmp     esi, edi
ja      short loc_277b396c
mov     cl, [esi]
and     cl, 0fh
add     cl, dl
mov     [eax], cl
mov     cl, [esi]
sar     cl, 4
inc     eax
add     cl, dl
mov     [eax], cl
inc     eax
inc     esi
jmp     short loc_277b3951
pop     edi
mov     [eax], bl
pop     esi
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
lea     esi, off_278286a4[eax*8]
mov     eax, off_278286a4[eax*8]
mov     eax, [eax+14h]
test    eax, eax
jnz     loc_277c6e8f
mov     eax, [esi]
mov     eax, [eax+10h]
test    eax, eax
jz      loc_277c6e9e
push    [ebp+arg_0]
call    eax
mov     ebx, eax
pop     ecx
test    ebx, ebx
jz      loc_277c6ea8
cmp     [ebp+arg_0], 0
jnz     loc_277c6eb2
push    [ebp+arg_8]
mov     eax, [ebx]
push    [ebp+arg_c]
push    ebx
call    dword ptr [eax]
mov     esi, eax
mov     eax, [ebx]
push    ebx
call    dword ptr [eax+8]
mov     eax, esi
pop     edi
pop     esi
pop     ebx
pop     ebp
retn
cmp     [esp+hheap], 0
jz      loc_277c47e4
push    [esp+dwbytes]
push    0
push    [esp+8+hheap]
call    ds:heapalloc
retn
push    esi
push    edi
push    [esp+8+arg_8]
mov     esi, ecx
push    [esp+0ch+arg_4]
push    [esp+10h+arg_0]
call    sub_277b3b4b
mov     dword ptr [esi+38h], offset off_277b5fa8
mov     dword ptr [esi+3ch], offset off_277b5f88
mov     dword ptr [esi+40h], offset off_277b5f58
mov     dword ptr [esi+44h], offset off_277b5f30
mov     dword ptr [esi+48h], offset off_277b5ef0
mov     dword ptr [esi+4ch], offset off_277b5ed0
mov     dword ptr [esi+50h], offset off_277b5ea8
mov     dword ptr [esi+54h], offset off_277b5e80
mov     dword ptr [esi+58h], offset off_277b5e70
mov     dword ptr [esi+5ch], offset off_277b5e60
mov     dword ptr [esi+60h], offset off_277b5e48
mov     dword ptr [esi+64h], offset off_277b5e30
xor     ecx, ecx
mov     dword ptr [esi+68h], offset off_277b5e20
xor     eax, eax
lea     edi, [esi+90h]
mov     dword ptr [esi], offset off_277b5d98
mov     dword ptr [esi+1ch], offset off_277b5d80
mov     dword ptr [esi+38h], offset off_277b5d20
mov     dword ptr [esi+3ch], offset off_277b5d00
mov     dword ptr [esi+40h], offset off_277b5cd0
mov     dword ptr [esi+44h], offset off_277b5ca8
mov     dword ptr [esi+48h], offset off_277b5c68
mov     dword ptr [esi+4ch], offset off_277b5c48
mov     dword ptr [esi+50h], offset off_277b5c20
mov     dword ptr [esi+54h], offset off_277b5bf8
mov     dword ptr [esi+58h], offset off_277b5be8
mov     dword ptr [esi+5ch], offset off_277b5bd8
mov     dword ptr [esi+60h], offset off_277b5bc0
mov     dword ptr [esi+64h], offset off_277b5ba8
mov     dword ptr [esi+68h], offset off_277b5b98
mov     [esi+6ch], ecx
mov     [esi+70h], ecx
mov     [esi+74h], ecx
mov     [esi+78h], ecx
mov     [esi+7ch], ecx
mov     [esi+0ach], ecx
mov     dword ptr [esi+88h], 64h
mov     dword ptr [esi+8ch], 32h
stosd
stosd
stosd
stosd
lea     eax, [esi+0bch]
mov     [esi+0a0h], ecx
mov     [esi+0a4h], ecx
mov     [esi+0b4h], ecx
mov     [esi+80h], ecx
mov     [esi+0a8h], ecx
mov     [esi+0b8h], ecx
mov     [esi+84h], ecx
mov     ecx, [eax]
and     dword ptr [esi+0b0h], 0ffffffd0h
and     cx, 0fe21h
pop     edi
or      ecx, 1
mov     [eax], ecx
mov     eax, esi
pop     esi
retn    0ch
push    esi
mov     esi, ecx
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277b3b9b
mov     eax, offset off_277b6080
mov     dword ptr [esi+1ch], offset off_277b6068
xor     ecx, ecx
mov     [esi+20h], eax
mov     [esi+28h], cl
mov     [esi+24h], ecx
mov     [esi+2ah], cx
mov     [esi+2ch], eax
mov     byte ptr [esi+34h], 1
mov     [esi+30h], ecx
mov     [esi+36h], cx
mov     dword ptr [esi], offset off_277b6030
mov     dword ptr [esi+1ch], offset off_277b6018
mov     eax, esi
pop     esi
retn    0ch
push    esi
mov     esi, ecx
push    [esp+4+arg_8]
push    [esp+8+arg_0]
call    sub_277b3bc2
mov     eax, [esp+4+arg_4]
and     byte ptr [esi+18h], 0
mov     [esi+14h], eax
mov     dword ptr [esi], offset off_277b60a0
mov     eax, esi
pop     esi
retn    0ch
mov     eax, [esp+arg_0]
push    esi
test    eax, eax
mov     esi, ecx
jnz     short loc_277b3bd0
lea     eax, [esi+0ch]
mov     [esi+4], eax
mov     eax, [esp+4+arg_4]
mov     dword ptr [esi+0ch], offset off_277b60f0
push    offset addend
mov     [esi+8], eax
mov     dword ptr [esi+10h], 1
mov     dword ptr [esi], offset off_277b60d8
call    ds:interlockedincrement
mov     eax, esi
pop     esi
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_8]
push    edi
mov     edi, [ebp+arg_18]
push    1
mov     eax, ecx
mov     ecx, [ebp+arg_0]
pop     edx
and     edi, edx
and     esi, edx
shl     edi, 1
mov     [eax+4], ecx
mov     ecx, [ebp+arg_10]
or      esi, edi
mov     edi, [ebp+arg_4]
mov     [eax+20h], ecx
mov     ecx, [ebp+arg_14]
shl     esi, 1
and     edi, edx
mov     [eax+24h], ecx
mov     ecx, [ebp+arg_c]
or      esi, edi
mov     edi, [eax+2ch]
mov     [eax+30h], ecx
shl     esi, 8
and     di, 0f800h
xor     ecx, ecx
or      esi, edi
pop     edi
mov     [eax+2ch], esi
mov     dword ptr [eax], offset off_277b6100
mov     [eax+10h], ecx
mov     [eax+0ch], ecx
mov     [eax+14h], ecx
mov     [eax+8], ecx
mov     [eax+18h], ecx
mov     [eax+1ch], ecx
mov     [eax+28h], ecx
mov     [eax+38h], ecx
mov     [eax+40h], ecx
mov     [eax+3ch], ecx
mov     [eax+44h], ecx
mov     [eax+48h], edx
pop     esi
pop     ebp
retn    1ch
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    esi
push    edi
mov     ecx, [eax]
cmp     ecx, ds:dword_277b6118
jz      short loc_277b3ca1
mov     ecx, [ebp+arg_0]
push    [ebp+arg_8]
add     ecx, 0fffffff4h
push    eax
mov     edx, [ecx]
call    dword ptr [edx+0ch]
pop     edi
pop     esi
pop     ebp
retn    0ch
push    10h
mov     edi, offset dword_277b6118
pop     ecx
mov     esi, eax
xor     edx, edx
repe cmpsb
jnz     short loc_277b3c8c
mov     eax, [ebp+arg_0]
mov     ecx, [ebp+arg_8]
inc     dword ptr [eax+4]
mov     [ecx], eax
xor     eax, eax
jmp     short loc_277b3c9b
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+4]
cmp     eax, 1
jz      short loc_277b3cd5
dec     eax
mov     [esi+4], eax
pop     esi
retn    4
mov     eax, [esi-0ch]
push    edi
lea     edi, [esi-0ch]
mov     dword ptr [esi+4], 2
mov     ecx, edi
call    dword ptr [eax+10h]
and     dword ptr [esi+4], 0
test    edi, edi
jz      short loc_277b3cf8
mov     eax, [edi]
push    1
mov     ecx, edi
call    dword ptr [eax]
xor     eax, eax
pop     edi
jmp     short loc_277b3cd1
push    ebp
mov     ebp, esp
sub     esp, 418h
push    ebx
push    esi
push    edi
push    offset criticalsection
call    ds:entercriticalsection
mov     edi, hmodule
mov     eax, lcid
xor     ebx, ebx
cmp     edi, ebx
jz      short loc_277b3d7c
cmp     [ebp+locale], ebx
jnz     loc_277c5e39
test    edi, edi
mov     eax, hinstance
jz      loc_277b3f33
cmp     hmodule, 0
mov     ebx, [ebp+locale]
jz      loc_277b3f3a
cmp     dword_2782a1f0, 0
jz      loc_277b3f55
cmp     ebx, lcid
jz      short loc_277b3d68
test    ebx, ebx
jnz     loc_277b3f55
push    offset criticalsection
call    ds:leavecriticalsection
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    4
cmp     ds:word_277b6148, bx
jz      short loc_277b3d2e
cmp     [ebp+locale], ebx
jnz     short loc_277b3d8d
mov     [ebp+locale], eax
mov     esi, ds:getlocaleinfoa
lea     eax, [ebp+lcdata]
push    5
push    eax
push    3
push    [ebp+locale]
call    esi
cmp     eax, ebx
jz      short loc_277b3d2e
mov     ebx, 104h
lea     eax, [ebp+buffer]
push    ebx
push    eax
push    3e9h
push    hinstance
call    ds:loadstringa
test    eax, eax
jz      loc_277b3d2e
lea     eax, [ebp+lcdata]
push    eax
lea     eax, [ebp+buffer]
push    eax
lea     eax, [ebp+var_210]
push    offset assdll
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     eax, [ebp+filename]
push    ebx
push    eax
push    hinstance
call    ds:getmodulefilenamea
lea     eax, [ebp+libfilename]
push    eax
lea     eax, [ebp+var_210]
push    eax
lea     eax, [ebp+filename]
push    eax
call    sub_277b420c
mov     ebx, ds:loadlibrarya
add     esp, 0ch
lea     eax, [ebp+libfilename]
push    eax
call    ebx
mov     edi, eax
test    edi, edi
jnz     loc_277b3d30
lea     eax, [ebp+lcdata]
push    eax
call    ds:lstrlena
cmp     eax, 2
jle     short loc_277b3e8f
lea     eax, [ebp+lcdata]
and     [ebp+var_6], 0
push    eax
lea     eax, [ebp+buffer]
push    eax
lea     eax, [ebp+var_210]
push    offset assdll_0
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     eax, [ebp+libfilename]
push    eax
lea     eax, [ebp+var_210]
push    eax
lea     eax, [ebp+filename]
push    eax
call    sub_277b420c
add     esp, 0ch
lea     eax, [ebp+libfilename]
push    eax
call    ebx
mov     edi, eax
test    edi, edi
jnz     loc_277b3d30
lea     eax, [ebp+lcdata]
push    5
push    eax
mov     eax, lcid
and     eax, 3ffh
push    3
or      ah, 4
push    eax
call    esi
test    eax, eax
jz      loc_277b3d2e
lea     eax, [ebp+libfilename]
push    eax
call    ds:lstrlena
lea     eax, [ebp+eax+libfilename]
lea     esi, [ebp+lcdata]
lea     edi, [eax-7]
lea     eax, [ebp+libfilename]
movsw
push    eax
movsb
call    ebx
mov     edi, eax
test    edi, edi
jnz     loc_277b3d30
lea     eax, [ebp+buffer]
push    eax
lea     eax, [ebp+var_210]
push    [ebp+locale]
push    offset ausdll
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     eax, [ebp+libfilename]
push    eax
lea     eax, [ebp+var_210]
push    eax
lea     eax, [ebp+filename]
push    eax
call    sub_277b420c
add     esp, 0ch
lea     eax, [ebp+libfilename]
push    eax
call    ebx
mov     edi, eax
jmp     loc_277b3d2e
mov     edi, eax
jmp     loc_277b3d3b
test    ebx, ebx
jz      short loc_277b3f4a
cmp     ebx, lcid
jnz     loc_277b3d4b
mov     hmodule, edi
jmp     loc_277b3d4b
push    1
cmp     edi, eax
pop     esi
jnz     loc_277c5e47
test    ebx, ebx
jz      short loc_277b3f70
cmp     ebx, lcid
jnz     loc_277b3d68
mov     dword_2782a1f0, esi
jmp     loc_277b3d68
push    ebp
mov     ebp, [esp+4+arg_4]
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     edx, ecx
mov     eax, [esi]
cmp     eax, 127h
jbe     short loc_277b4004
cmp     eax, 1c2056cch
jbe     loc_277b40e4
cmp     eax, 3af24292h
jbe     loc_277b4108
cmp     eax, 7fd52380h
jbe     loc_277b4156
cmp     eax, 0b196b288h
ja      loc_277b41b5
jnz     loc_277b41a5
cmp     ds:dword_277b6170, 0b196b288h
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277b6170
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+3ch]
lea     eax, [edx+3ch]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     eax, 127h
jz      loc_277c600f
lea     edi, [eax-10ah]
cmp     edi, 0dh
ja      def_277b4026
xor     ecx, ecx
mov     cl, ds:byte_277b61e0[edi]
jmp     ds:jpt_277b4026[ecx*4]
cmp     eax, ds:dword_277b61b0
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277b61b0
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+38h]
lea     eax, [edx+38h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     eax, ds:dword_277b6150
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277b6150
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+40h]
lea     eax, [edx+40h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     eax, ds:dword_277b61a0
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277b61a0
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+48h]
lea     eax, [edx+48h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
jz      loc_277c6091
cmp     eax, 0d97180h
jz      loc_277c6050
mov     ecx, [esp+0ch+arg_4]
push    ecx
push    esi
mov     ecx, edx
call    sub_277b47c1
pop     edi
pop     esi
pop     ebp
retn    8
jz      loc_277c60d2
cmp     eax, 37d84f60h
jnz     short def_277b4026
cmp     ds:dword_277b6190, 37d84f60h
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277b6190
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+4ch]
lea     eax, [edx+4ch]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
jz      short loc_277b4164
cmp     eax, 55980ba0h
jnz     short def_277b4026
jmp     loc_277c6113
cmp     ds:dword_277b6180, 7fd52380h
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277b6180
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+50h]
lea     eax, [edx+50h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     eax, 0b196b283h
jnz     def_277b4026
jmp     loc_277c6154
cmp     eax, 0b196b28bh
jz      loc_277c6189
cmp     eax, 0cf51ed10h
jnz     def_277b4026
cmp     ds:dword_277b6160, 0cf51ed10h
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277b6160
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+64h]
lea     eax, [edx+64h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, ds:lstrcpya
push    esi
mov     esi, [ebp+lpstring1]
push    [ebp+lpstring2]
push    esi
call    ebx
cmp     byte ptr [esi], 0
mov     [ebp+lpstring2], esi
jz      short loc_277b423f
push    edi
mov     edi, ds:charnexta
cmp     byte ptr [esi], 5ch
jz      short loc_277b424b
push    esi
call    edi
mov     esi, eax
cmp     byte ptr [esi], 0
jnz     short loc_277b422f
pop     edi
push    [ebp+arg_4]
push    [ebp+lpstring2]
call    ebx
pop     esi
pop     ebx
pop     ebp
retn
push    esi
call    edi
mov     [ebp+lpstring2], eax
jmp     short loc_277b4234
mov     eax, [ecx+4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
retn
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
test    edi, edi
jz      loc_277c6472
mov     ebx, [ebp+arg_8]
test    ebx, ebx
jz      loc_277c6472
cmp     dword ptr [edi], 38h
jb      loc_277c6472
cmp     dword ptr [ebx], 18h
jb      loc_277c6472
mov     ecx, [edi+4]
mov     esi, [ebp+arg_0]
test    ecx, ecx
jz      short loc_277b42a8
mov     edx, [esi-2ch]
lea     eax, [esi-2ch]
push    ecx
push    eax
call    dword ptr [edx+0ch]
test    eax, eax
jl      loc_277b4351
cmp     dword ptr [edi+2ch], 0
jz      short loc_277b42d5
push    offset criticalsection
call    ds:entercriticalsection
mov     eax, [edi+2ch]
push    offset criticalsection
mov     lcid, eax
mov     word_2782a1f4, 1
call    ds:leavecriticalsection
test    byte ptr [edi+14h], 40h
jz      short loc_277b42df
or      dword ptr [esi+58h], 3
mov     eax, [edi+0ch]
test    eax, eax
jnz     short loc_277b4358
cmp     dword ptr [edi+10h], 0
jz      short loc_277b4308
mov     ecx, [esi-44h]
lea     edx, [ebx+0ch]
push    edx
lea     eax, [esi-44h]
push    dword ptr [edi+10h]
push    eax
call    dword ptr [ecx+14h]
test    eax, eax
mov     [ebp+arg_4], eax
jl      loc_277c648d
mov     ecx, [edi+8]
test    ecx, ecx
jz      short loc_277b4322
mov     edx, [esi-1ch]
lea     eax, [esi-1ch]
push    ecx
push    0
push    1
push    eax
call    dword ptr [edx+1ch]
test    eax, eax
jl      short loc_277b4351
mov     eax, [esi-50h]
lea     edx, [ebx+8]
push    edx
push    edi
mov     eax, off_278286a4[eax*8]
mov     ecx, [eax+34h]
mov     [ebx+4], ecx
xor     ecx, ecx
cmp     [eax+3ch], cx
mov     eax, [eax+38h]
mov     [ebx+14h], eax
mov     eax, [esi-64h]
setnz   cl
mov     [edx], ecx
lea     ecx, [esi-64h]
call    dword ptr [eax+70h]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
lea     eax, [ebx+10h]
lea     ecx, [esi-38h]
push    eax
push    dword ptr [edi+0ch]
call    sub_277b4509
test    eax, eax
mov     [ebp+arg_4], eax
jl      loc_277c647c
jmp     loc_277b42e6
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     eax, [esi+34h]
test    eax, eax
jnz     short loc_277b43e3
mov     eax, [esi+38h]
lea     ebx, [esi+38h]
test    eax, eax
jnz     short loc_277b43ef
mov     eax, [esi+48h]
lea     edi, [esi+48h]
test    eax, eax
jnz     loc_277c64be
mov     eax, [esp+0ch+arg_4]
test    eax, eax
mov     [esi+34h], eax
jnz     short loc_277b43fa
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_277b43bf
mov     ecx, [eax]
and     dword ptr [esi+3ch], 0
push    eax
call    dword ptr [ecx+8]
mov     eax, [esi+74h]
test    eax, eax
jnz     loc_277c64df
mov     eax, [esi+4ch]
test    eax, eax
jnz     short loc_277b4424
mov     eax, [esi-38h]
lea     ecx, [esi-38h]
call    dword ptr [eax+80h]
pop     edi
pop     esi
pop     ebx
retn    8
mov     ecx, [eax]
and     dword ptr [esi+34h], 0
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277b438b
mov     ecx, [eax]
and     dword ptr [ebx], 0
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277b4395
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
mov     eax, [esi+34h]
push    ebx
push    offset dword_277b61f0
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
mov     eax, [esi-24h]
mov     eax, off_278286a4[eax*8]
test    byte ptr [eax+36h], 1
jnz     loc_277c64cc
jmp     short loc_277b43d1
mov     ecx, [eax]
and     dword ptr [esi+4ch], 0
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277b43d1
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+34h]
test    eax, eax
mov     [ecx], eax
jz      short loc_277b4447
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
xor     eax, eax
retn    8
push    ebx
mov     ebx, ds:entercriticalsection
push    ebp
push    esi
push    edi
mov     edi, offset criticalsection
mov     esi, ecx
push    edi
call    ebx
cmp     [esp+10h+arg_0], 0
jnz     short loc_277b44b6
mov     ebp, ds:leavecriticalsection
push    edi
call    ebp
push    edi
call    ebx
xor     ebx, ebx
cmp     [esp+10h+arg_0], ebx
jnz     short loc_277b44d1
push    edi
call    ebp
mov     eax, [esi+14h]
cmp     eax, ebx
jnz     loc_277c7922
mov     eax, [esi+8]
cmp     eax, ebx
jnz     loc_277c7930
mov     eax, [esi+18h]
cmp     eax, ebx
jnz     short loc_277b44eb
mov     eax, [esi+1ch]
cmp     eax, ebx
jnz     loc_277c793e
mov     eax, [esi+38h]
cmp     eax, ebx
jnz     short loc_277b44f6
pop     edi
pop     esi
pop     ebp
xor     eax, eax
pop     ebx
retn    4
cmp     dword_2782a1f8, 0
jnz     short loc_277b4467
push    offset szformat
call    ds:registerclipboardformata
mov     dword_2782a1f8, eax
jmp     short loc_277b4467
cmp     dword_2782a1fc, ebx
jnz     short loc_277b447b
push    offset alink
call    ds:registerclipboardformata
mov     dword_2782a1fc, eax
jmp     short loc_277b447b
mov     ecx, [eax]
push    eax
mov     [esi+18h], ebx
call    dword ptr [ecx+8]
jmp     short loc_277b449b
push    eax
push    ebx
push    dword_278282f0
call    ds:heapfree
mov     [esi+38h], ebx
jmp     short loc_277b44ad
push    esi
mov     esi, ecx
mov     cx, [esi+0ah]
movsx   eax, cx
mov     edx, eax
sub     edx, 0
jnz     loc_277c6aba
mov     ecx, [esp+4+arg_0]
mov     [esi+4], ecx
mov     eax, [esp+4+arg_4]
inc     word ptr [esi+0ah]
mov     [eax], ecx
xor     eax, eax
pop     esi
retn    8
push    esi
mov     esi, ecx
push    edi
mov     ax, [esi+0ah]
test    ax, ax
jnz     short loc_277b4547
pop     edi
pop     esi
retn    4
cmp     ax, 1
jnz     loc_277c6c4e
mov     esi, [esi+4]
push    [esp+8+arg_0]
mov     eax, [esi]
push    esi
call    dword ptr [eax+0ch]
jmp     short loc_277b4542
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, [ebp+arg_0]
mov     eax, 80004005h
cmp     byte ptr [edi+8], 0
jnz     loc_277c6aa7
mov     ecx, [edi-0ch]
mov     esi, [ebp+arg_4]
mov     ecx, off_278286a4[ecx*8]
mov     ecx, [ecx+24h]
test    ecx, ecx
jz      short loc_277b4595
mov     eax, [esi]
lea     edx, [ebp+arg_4]
push    edx
push    ecx
push    esi
call    dword ptr [eax]
test    eax, eax
jl      loc_277c6a8c
push    [ebp+arg_8]
mov     ecx, edi
push    [ebp+arg_4]
call    sub_277b4509
pop     edi
pop     esi
pop     ebp
retn    0ch
mov     eax, [ecx+0b0h]
shr     eax, 1
test    al, 1
jz      short loc_277b45ca
push    1
push    [esp+4+lprect]
call    sub_277b96c7
retn    4
mov     eax, [ecx]
call    dword ptr [eax+34h]
jmp     short locret_277b45c7
test    [esp+arg_4], 1
jz      loc_277c692e
mov     eax, [esp+arg_8]
push    esi
mov     esi, [esp+4+arg_0]
and     eax, 6
shl     eax, 2
mov     ecx, [esi+74h]
and     ecx, 0ffffffe7h
or      eax, ecx
mov     [esi+74h], eax
mov     eax, [esi+70h]
test    eax, eax
jz      short loc_277b4607
mov     ecx, [eax]
and     dword ptr [esi+70h], 0
push    eax
call    dword ptr [ecx+8]
mov     eax, [esp+4+arg_c]
test    eax, eax
mov     [esi+70h], eax
jz      short loc_277b4618
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
mov     eax, [esi+74h]
shr     eax, 3
test    al, 1
jnz     loc_277c6938
xor     eax, eax
pop     esi
retn    10h
push    esi
mov     esi, ecx
push    edi
mov     eax, [esi+0b8h]
test    eax, eax
jnz     short loc_277b463d
pop     edi
pop     esi
retn
test    byte ptr [esi+0bdh], 1
lea     edi, [esi+0bch]
jnz     short loc_277b463a
mov     ecx, [eax]
push    0ffffffffh
push    1
push    eax
call    dword ptr [ecx+10h]
mov     eax, [edi]
shr     eax, 4
test    al, 1
jnz     loc_277c68cb
jmp     short loc_277b463a
xor     eax, eax
retn    8
mov     eax, [ecx+4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    esi
push    [ebp+arg_8]
lea     esi, [eax-4ch]
push    [ebp+arg_4]
mov     ecx, esi
call    sub_277b46a0
test    eax, eax
jl      short loc_277b469b
push    [ebp+arg_8]
mov     eax, [esi]
push    [ebp+arg_4]
push    esi
call    dword ptr [eax+40h]
pop     esi
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
push    edi
push    64h
mov     esi, [ebp+arg_0]
pop     ebx
push    32h
and     [ebp+var_14], 0
mov     eax, [esi]
pop     edi
push    [ebp+arg_4]
mov     [ebp+var_4], ecx
lea     ecx, [ebp+var_1c]
mov     [ebp+var_c], ebx
push    ecx
push    offset aextentx
push    esi
mov     [ebp+var_8], edi
mov     [ebp+var_1c], 3
call    dword ptr [eax+0ch]
test    eax, eax
jl      loc_277c6906
push    [ebp+arg_4]
mov     eax, [ebp+var_14]
and     [ebp+var_14], 0
lea     ecx, [ebp+var_1c]
mov     [ebp+var_c], eax
mov     eax, [esi]
push    ecx
push    offset aextenty
push    esi
call    dword ptr [eax+0ch]
test    eax, eax
jl      loc_277c6906
mov     eax, [ebp+var_14]
mov     [ebp+var_8], eax
mov     eax, [ebp+var_4]
add     eax, 88h
push    eax
lea     eax, [ebp+var_c]
push    eax
call    sub_277b4726
pop     ecx
pop     ecx
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    8
push    ebx
push    esi
push    edi
call    sub_277b4768
mov     esi, [esp+0ch+arg_0]
mov     ecx, 4f6h
mov     ebx, 9ech
mov     eax, [esi]
mov     edi, ebx
imul    eax, dword_2782a228
add     eax, ecx
cdq
idiv    edi
mov     edi, [esp+0ch+arg_4]
mov     [edi], eax
mov     eax, [esi+4]
imul    eax, dword_2782a22c
add     eax, ecx
cdq
idiv    ebx
mov     [edi+4], eax
pop     edi
pop     esi
pop     ebx
retn
push    ebx
mov     ebx, offset criticalsection
push    ebx
call    ds:entercriticalsection
cmp     byte_2782a230, 0
jz      short loc_277b4787
push    ebx
call    ds:leavecriticalsection
pop     ebx
retn
push    edi
push    esi
push    0
call    ds:getdc
mov     edi, ds:getdevicecaps
mov     esi, eax
push    58h
push    esi
call    edi
push    5ah
push    esi
mov     dword_2782a228, eax
call    edi
push    esi
push    0
mov     dword_2782a22c, eax
call    ds:releasedc
pop     esi
mov     byte_2782a230, 1
pop     edi
jmp     short loc_277b477e
mov     edx, [esp+arg_0]
mov     eax, ecx
push    ebx
push    esi
mov     ecx, [edx]
push    edi
cmp     ecx, ds:dword_277b6230
jz      short loc_277b47e6
push    [esp+0ch+arg_4]
mov     ecx, eax
push    edx
call    sub_277b480f
pop     edi
pop     esi
pop     ebx
retn    8
push    10h
mov     edi, offset dword_277b6230
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jnz     short loc_277b47d4
lea     ecx, [eax+1ch]
neg     eax
sbb     eax, eax
and     eax, ecx
mov     ecx, [esp+0ch+arg_4]
push    eax
mov     [ecx], eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
xor     eax, eax
jmp     short loc_277b47e0
mov     edx, [esp+arg_0]
mov     eax, ecx
push    ebx
push    esi
mov     ecx, [edx]
push    edi
cmp     ecx, ds:dword_277b6200
jz      short loc_277b4834
push    [esp+0ch+arg_4]
mov     ecx, eax
push    edx
call    sub_277b4857
pop     edi
pop     esi
pop     ebx
retn    8
push    10h
mov     edi, offset dword_277b6200
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jnz     short loc_277b4822
mov     ecx, [esp+0ch+arg_4]
mov     eax, [eax+8]
push    eax
mov     [ecx], eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
xor     eax, eax
jmp     short loc_277b482e
mov     eax, [esp+arg_4]
and     dword ptr [eax], 0
mov     eax, 80004002h
retn    8
push    ebp
mov     ebp, esp
sub     esp, 84h
mov     eax, [ebp+ppunk]
push    ebx
push    esi
cmp     eax, 0fffffff9h
push    edi
jz      loc_277c657d
cmp     eax, 0fffffffah
jle     loc_277c653b
cmp     eax, 0fffffffch
jg      short loc_277b48ad
mov     esi, [ebp+lpszcaption]
mov     ecx, [ebp+ppageclsid]
test    esi, esi
jz      short loc_277b489d
lea     edi, [ecx+58h]
movsd
movsd
movsd
movsd
push    eax
add     ecx, 0ffffffc8h
call    sub_277b48e2
pop     edi
pop     esi
pop     ebx
leave
retn    1ch
cmp     eax, 0fffffffdh
jz      short loc_277b48bd
cmp     eax, 0ffffffffh
jnz     loc_277c6532
jmp     short loc_277b488c
mov     esi, [ebp+ppageclsid]
mov     ecx, [esi+8]
lea     eax, [esi+8]
push    eax
call    dword ptr [ecx+18h]
mov     eax, [esi+78h]
shr     eax, 2
test    al, 1
jz      short loc_277b48de
push    0
lea     ecx, [esi-38h]
call    sub_277b5256
xor     eax, eax
jmp     short loc_277b48a6
push    ebp
mov     ebp, esp
sub     esp, 44h
push    ebx
push    esi
mov     esi, ecx
push    edi
xor     edi, edi
mov     ecx, [esi+6ch]
mov     [ebp+var_4], edi
cmp     ecx, edi
mov     [ebp+var_c], edi
jz      loc_277b4ab0
mov     eax, [esi+0ach]
lea     ebx, [esi+0ach]
cmp     eax, edi
jnz     short loc_277b4948
mov     eax, [esi+74h]
cmp     eax, edi
jnz     short loc_277b4948
mov     eax, [esi+14h]
mov     eax, off_278286a4[eax*8]
cmp     [eax+3eh], di
jnz     loc_277c6783
cmp     [ebx], edi
jnz     short loc_277b4948
mov     eax, [esi+6ch]
lea     edx, [esi+74h]
push    edx
push    offset dword_277b6250
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
cmp     eax, edi
jl      loc_277b4ab2
mov     eax, [ebx]
cmp     eax, edi
jnz     loc_277c6793
mov     eax, [esi+6ch]
lea     edx, [ebp+var_4]
push    edx
push    offset dword_277b6240
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
mov     eax, [esi+0b0h]
test    al, 2
jnz     loc_277b4ab9
push    1
shr     eax, 1
pop     edi
and     eax, edi
mov     [ebp+var_8], eax
jnz     loc_277b4ac3
mov     eax, [ebx]
test    eax, eax
jnz     loc_277c67a1
test    edi, edi
jz      short loc_277b49a2
mov     eax, [esi+74h]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
mov     edi, eax
test    edi, edi
jnz     loc_277c67f8
cmp     [ebp+var_8], 0
jnz     short loc_277b49d6
mov     eax, [ebp+var_4]
test    eax, eax
jz      loc_277c6801
xor     edx, edx
mov     ecx, [eax]
cmp     [ebx], edx
setnz   dl
push    edx
lea     edx, [ebp+var_c]
push    edx
push    eax
call    dword ptr [ecx+3ch]
mov     edi, eax
test    edi, edi
jl      loc_277c67dd
or      dword ptr [esi+0b0h], 2
mov     ebx, [ebx]
mov     [ebp+var_44], 14h
test    ebx, ebx
mov     eax, ebx
jnz     short loc_277b49e8
mov     eax, [esi+74h]
mov     ecx, [eax]
lea     edx, [ebp+hwndnewparent]
push    edx
push    eax
call    dword ptr [ecx+0ch]
mov     edi, eax
test    edi, edi
jl      loc_277c67dd
mov     eax, [esi+78h]
lea     ebx, [esi+78h]
test    eax, eax
jnz     loc_277b4aca
mov     eax, [esi+7ch]
lea     edi, [esi+7ch]
test    eax, eax
jnz     loc_277c680f
mov     eax, [esi+0ach]
test    eax, eax
jnz     short loc_277b4a25
mov     eax, [esi+74h]
lea     edx, [ebp+var_44]
mov     ecx, [eax]
push    edx
lea     edx, [ebp+var_30]
push    edx
lea     edx, [ebp+x]
push    edx
push    edi
push    ebx
push    eax
call    dword ptr [ecx+20h]
mov     edi, eax
test    edi, edi
jl      loc_277c67dd
cmp     [ebp+var_8], 0
jnz     short loc_277b4a81
cmp     dword ptr [esi+0ach], 0
jnz     short loc_277b4a81
push    [ebp+hwndnewparent]
mov     ecx, esi
call    sub_277b4b43
push    [ebp+var_c]
mov     ecx, esi
push    [ebp+y]
push    [ebp+x]
call    sub_277b4b64
test    eax, eax
jz      loc_277c67fa
mov     eax, [esi+6ch]
test    eax, eax
jz      short loc_277b4a81
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+18h]
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277b4a92
and     [ebp+var_4], 0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
test    byte ptr [esi+0b0h], 4
jnz     short loc_277b4aa4
push    1
mov     ecx, esi
call    sub_277b5256
cmp     [ebp+arg_0], 0
jz      short loc_277b4ad8
cmp     [ebp+arg_0], 0fffffffch
jz      short loc_277b4ad8
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
test    al, 4
jz      loc_277b4971
jmp     short loc_277b4a81
xor     edi, edi
jmp     loc_277b498b
mov     ecx, [eax]
and     dword ptr [ebx], 0
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b4a0a
mov     eax, [esi+0b0h]
test    al, 8
jnz     short loc_277b4ab0
or      al, 8
mov     [esi+0b0h], eax
mov     eax, [esi+0ach]
test    eax, eax
jnz     short loc_277b4af7
mov     eax, [esi+74h]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+1ch]
push    1
mov     ecx, esi
call    sub_277b5460
mov     eax, [esi+78h]
mov     edi, esi
neg     edi
lea     ecx, [esi+44h]
sbb     edi, edi
xor     ebx, ebx
and     edi, ecx
mov     ecx, [eax]
push    ebx
push    edi
push    eax
call    dword ptr [ecx+20h]
mov     eax, [esi+7ch]
cmp     eax, ebx
jnz     loc_277c681d
mov     eax, [esi+78h]
push    ebx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+1ch]
mov     esi, [esi+7ch]
cmp     esi, ebx
jnz     loc_277c682a
jmp     loc_277b4ab0
mov     edx, [esp+hwndnewparent]
lea     eax, [ecx+0a4h]
cmp     [eax], edx
jz      short locret_277b4b61
mov     [eax], edx
mov     eax, [ecx+0a0h]
test    eax, eax
jnz     loc_277c628c
retn    4
push    ebp
mov     ebp, esp
sub     esp, 90h
push    ebx
push    esi
mov     esi, ecx
xor     ebx, ebx
push    edi
mov     eax, [esi+0a0h]
cmp     eax, ebx
jz      short loc_277b4b85
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edi, offset criticalsection
push    edi
call    ds:entercriticalsection
mov     eax, [esi+14h]
mov     eax, off_278286a4[eax*8]
cmp     [eax+48h], bx
jz      loc_277b4ce5
push    edi
call    ds:leavecriticalsection
mov     eax, [esi]
lea     ecx, [ebp+windowname]
push    ecx
lea     ecx, [ebp+dwexstyle]
push    ecx
lea     ecx, [ebp+dwstyle]
push    ecx
mov     ecx, esi
mov     [ebp+dwexstyle], ebx
mov     [ebp+dwstyle], ebx
mov     [ebp+windowname], bl
call    dword ptr [eax+58h]
test    eax, eax
jz      loc_277c61ea
or      byte ptr [ebp+dwstyle+3], 44h
cmp     [esi+0a4h], ebx
jz      loc_277c61f1
push    dword ptr [esi+0a4h]
call    ds:iswindowvisible
mov     [ebp+var_a+2], eax
mov     eax, [esi+14h]
mov     eax, off_278286a4[eax*8]
cmp     [eax+58h], ebx
jz      loc_277c6271
call    sub_277b4d86
cmp     [esi+0a4h], eax
jz      loc_277c6271
test    byte ptr [esi+0bch], 2
jz      loc_277c6201
test    byte ptr [esi+0bch], 1
jz      loc_277c6230
push    edi
call    ds:entercriticalsection
mov     eax, [esi+0b4h]
or      dword ptr [esi+0b0h], 10h
cmp     eax, ebx
mov     dwnewlong, esi
mov     ecx, eax
jnz     short loc_277b4c59
mov     ecx, [esi+0a4h]
push    ebx
push    hinstance
push    ebx
push    ecx
mov     ecx, eax
push    dword ptr [esi+8ch]
neg     ecx
sbb     ecx, ecx
push    dword ptr [esi+88h]
not     ecx
and     ecx, [ebp+y]
neg     eax
sbb     eax, eax
push    ecx
not     eax
and     eax, [ebp+x]
push    eax
lea     eax, [ebp+windowname]
push    [ebp+dwstyle]
push    eax
mov     eax, [esi+14h]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+44h]
push    [ebp+dwexstyle]
call    ds:createwindowexa
and     dword ptr [esi+0b0h], 0ffffffefh
push    edi
mov     [esi+0a0h], eax
mov     dwnewlong, ebx
call    ds:leavecriticalsection
cmp     [esi+0a0h], ebx
jz      short loc_277b4cda
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+78h]
test    eax, eax
jz      loc_277c627b
cmp     [ebp+var_a+2], ebx
jnz     short loc_277b4d09
mov     eax, [esi+0a0h]
jmp     loc_277b4b7e
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+50h]
test    eax, eax
jz      loc_277c61e3
mov     eax, [esi+14h]
mov     eax, off_278286a4[eax*8]
mov     word ptr [eax+48h], 1
jmp     loc_277b4ba5
mov     eax, [ebp+arg_8]
neg     eax
sbb     eax, eax
and     eax, 8
or      al, 47h
push    eax
push    ebx
push    ebx
push    ebx
push    ebx
push    ebx
push    dword ptr [esi+0a0h]
call    ds:setwindowpos
jmp     short loc_277b4cda
push    esi
push    edi
mov     edi, [esp+8+arg_0]
test    edi, edi
jz      loc_277c7c11
cmp     dword ptr [edi], 8
jnz     loc_277c7c11
test    dword ptr [edi+4], 0ffffc000h
jnz     loc_277c7c11
mov     esi, offset off_27828760
mov     eax, [esi+8]
test    [edi+4], eax
jnz     short loc_277b4d6d
add     esi, 10h
cmp     esi, offset hwnd
jb      short loc_277b4d52
push    1
pop     eax
pop     edi
pop     esi
retn    4
push    dword_27828334
call    dword ptr [esi]
test    eax, eax
jz      loc_277c7c11
mov     dword ptr [esi+0ch], 1
jmp     short loc_277b4d5a
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
mov     ebx, offset criticalsection
push    edi
push    ebx
call    ds:entercriticalsection
xor     esi, esi
cmp     hwnd, esi
jz      short loc_277b4db6
push    ebx
call    ds:leavecriticalsection
mov     eax, hwnd
pop     edi
pop     esi
pop     ebx
leave
retn
push    0ah
xor     eax, eax
pop     ecx
lea     edi, [ebp+wndclass]
rep stosd
mov     eax, dword_2782a268
cmp     eax, esi
mov     [ebp+wndclass.lpfnwndproc], eax
jnz     short loc_277b4dd3
mov     [ebp+wndclass.lpfnwndproc], offset sub_277b1668
mov     eax, hinstance
mov     [ebp+wndclass.lpszclassname], offset actlframeworkpa_0
mov     [ebp+wndclass.hinstance], eax
lea     eax, [ebp+wndclass]
push    eax
call    ds:registerclassa
test    ax, ax
jz      short loc_277b4da5
push    esi
push    hinstance
push    esi
push    esi
push    esi
push    esi
push    esi
push    esi
push    80000000h
push    esi
push    offset actlframeworkpa_1
push    esi
call    ds:createwindowexa
mov     hwnd, eax
jmp     short loc_277b4da5
push    ebp
mov     ebp, esp
sub     esp, 54h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hwnd]
push    0ffffffebh
push    edi
call    ds:getwindowlonga
and     [ebp+hwnd], 0
mov     esi, eax
test    esi, esi
jz      loc_277b4ebf
cmp     esi, 0ffffffffh
jz      loc_277c62e7
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+4]
mov     eax, [esi+80h]
test    eax, eax
jnz     loc_277c62a5
mov     eax, [ebp+msg]
dec     eax
dec     eax
jz      loc_277b4f26
sub     eax, 0dh
jz      short loc_277b4eda
push    [ebp+lparam]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+wparam]
push    [ebp+msg]
call    dword ptr [eax+4ch]
mov     [ebp+hwnd], eax
mov     eax, [ebp+msg]
cmp     eax, 5
jz      loc_277b4f7d
cmp     eax, 6
jbe     short loc_277b4ea0
cmp     eax, 8
jbe     loc_277b4f50
cmp     eax, 82h
jz      loc_277b4f32
mov     eax, [esi+80h]
test    eax, eax
jnz     loc_277c62cb
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+8]
mov     eax, [ebp+hwnd]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     esi, dwnewlong
push    esi
push    0ffffffebh
push    edi
call    ds:setwindowlonga
mov     [esi+0a0h], edi
jmp     loc_277b4e43
mov     ebx, [ebp+wparam]
test    ebx, ebx
jnz     short loc_277b4eee
lea     eax, [ebp+paint]
push    eax
push    edi
call    ds:beginpaint
mov     ebx, eax
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:getclientrect
mov     eax, [esi]
push    1
push    0
lea     ecx, [ebp+rect]
push    0
push    ecx
push    ebx
push    1
push    esi
call    dword ptr [eax+48h]
cmp     [ebp+wparam], 0
jnz     loc_277b4e7b
lea     eax, [ebp+paint]
push    eax
push    edi
call    ds:endpaint
jmp     loc_277b4e7b
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+5ch]
jmp     loc_277b4e68
push    0ffffffffh
push    0ffffffebh
push    edi
call    ds:setwindowlonga
and     dword ptr [esi+0a4h], 0
and     dword ptr [esi+0a0h], 0
jmp     loc_277b4ea0
test    byte ptr [esi+0b0h], 2
jz      loc_277b4ea0
mov     eax, [esi+70h]
test    eax, eax
jz      loc_277b4ea0
mov     ecx, [eax]
xor     edx, edx
cmp     [ebp+msg], 7
setz    dl
push    edx
push    eax
call    dword ptr [ecx+20h]
jmp     loc_277b4ea0
test    byte ptr [esi+0b0h], 10h
jnz     loc_277b4ea0
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+34h]
jmp     loc_277b4ea0
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, ecx
xor     ebx, ebx
push    edi
test    byte ptr [esi+2ch], 8
jnz     short loc_277b4fe6
call    sub_277b50a8
test    eax, eax
jnz     short loc_277b4fbc
mov     eax, [esi+4]
test    byte ptr [eax+0b0h], 2
jnz     short loc_277b4fde
xor     edi, edi
cmp     [ebp+arg_0], ebx
jnz     loc_277b508b
mov     eax, [esi+0ch]
cmp     eax, ebx
jnz     loc_277b509a
mov     [esi+28h], ebx
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    4
cmp     [eax+0ach], ebx
jnz     short loc_277b4fbc
lea     eax, [ebp+hwnd]
mov     ecx, esi
push    eax
call    sub_277b5186
cmp     [ebp+hwnd], ebx
jz      short loc_277b4fbc
cmp     [ebp+arg_0], ebx
jz      short loc_277b5010
mov     eax, [esi+2ch]
test    eax, 0c0h
ja      short loc_277b5029
cmp     [ebp+arg_0], ebx
jz      short loc_277b5010
test    byte ptr [esi+2ch], 0c0h
jnz     short loc_277b4fbc
mov     eax, [esi+2ch]
test    al, 8
jz      short loc_277b4fbc
push    [ebp+hwnd]
and     al, 0f7h
mov     [esi+2ch], eax
call    ds:revokedragdrop
mov     edi, eax
jmp     short loc_277b4fbe
test    al, 8
jnz     short loc_277b5005
push    dword_278282f0
push    18h
call    sub_277b39d6
mov     edi, eax
pop     ecx
cmp     edi, ebx
pop     ecx
jz      loc_277c79b2
mov     ecx, esi
call    sub_277b9977
push    eax
push    esi
push    esi
mov     ecx, edi
call    sub_277b9a01
cmp     eax, ebx
mov     [esi+0ch], eax
jz      loc_277c79b9
push    eax
push    [ebp+hwnd]
call    ds:registerdragdrop
mov     ecx, [esi+2ch]
mov     edi, eax
xor     eax, eax
cmp     edi, ebx
setnl   al
and     eax, 1
and     ecx, 0fffffff7h
shl     eax, 3
or      eax, ecx
mov     [esi+2ch], eax
jmp     loc_277b4fbe
test    byte ptr [esi+2ch], 8
jz      loc_277b4fc7
jmp     loc_277b4fd5
mov     ecx, [eax]
push    eax
mov     [esi+0ch], ebx
call    dword ptr [ecx+8]
jmp     loc_277b4fd2
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
lea     eax, [ebp+pvarg]
push    edi
xor     ebx, ebx
mov     edi, ecx
push    eax
mov     [ebp+var_4], ebx
mov     [ebp+var_8], ebx
call    ds:variantinit
cmp     [edi+18h], ebx
lea     esi, [edi+18h]
jz      short loc_277b5110
xor     eax, eax
lea     edi, [ebp+var_28]
stosd
stosd
push    ebx
lea     edx, [ebp+pvarg]
stosd
push    ebx
push    edx
lea     edx, [ebp+var_28]
stosd
mov     eax, [esi]
push    edx
push    2
push    ebx
mov     ecx, [eax]
push    offset dword_277b6008
push    0fffffd3bh
push    eax
call    dword ptr [ecx+18h]
mov     eax, [ebp+var_4]
cmp     eax, ebx
jnz     short loc_277b5154
mov     eax, [ebp+var_8]
cmp     eax, ebx
jnz     short loc_277b515f
xor     eax, eax
cmp     byte ptr [ebp+pvarg.anonymous_0+8], bl
pop     edi
pop     esi
setz    al
pop     ebx
leave
retn
mov     eax, [edi+4]
lea     edx, [ebp+var_4]
add     eax, 1ch
push    edx
push    offset dword_277b61b0
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
cmp     eax, ebx
jl      short loc_277b50f5
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
cmp     eax, ebx
jl      short loc_277b50f5
mov     eax, [ebp+var_8]
cmp     eax, ebx
jz      short loc_277b50f5
mov     ecx, [eax]
push    esi
push    offset dword_277b6200
push    eax
call    dword ptr [ecx]
cmp     eax, ebx
jl      short loc_277b50f5
jmp     loc_277b50cd
mov     [ebp+var_4], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277b50fc
mov     [ebp+var_8], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277b5103
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
push    [esp+arg_8]
mov     eax, [eax-18h]
push    [esp+4+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_0]
push    ebx
push    esi
push    edi
lea     edi, [ecx+28h]
xor     esi, esi
mov     [ebp+var_4], esi
mov     [ebp+var_8], esi
cmp     [edi], esi
mov     [eax], esi
jnz     short loc_277b5209
mov     ecx, [ecx+4]
lea     edx, [ebp+var_4]
push    edx
push    offset dword_277b61b0
lea     eax, [ecx+1ch]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
cmp     eax, esi
jl      short loc_277b5212
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_8]
push    edx
push    offset dword_277b6150
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
mov     ebx, eax
mov     eax, [ebp+var_4]
cmp     eax, esi
jz      short loc_277b51dd
mov     [ebp+var_4], esi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     ebx, esi
jl      loc_277c79f4
mov     eax, [ebp+var_8]
push    edi
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
mov     ebx, eax
mov     eax, [ebp+var_8]
cmp     eax, esi
jz      short loc_277b5201
mov     [ebp+var_8], esi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     ebx, esi
jl      loc_277c79f4
mov     ecx, [ebp+arg_0]
mov     eax, [edi]
mov     [ecx], eax
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esp+arg_0]
cmp     dword ptr [eax+6ch], 0
jnz     loc_277c6779
test    byte ptr [eax+70h], 2
jz      loc_277c6779
mov     ecx, [eax+74h]
test    ecx, ecx
jnz     loc_277c6772
mov     eax, [eax+60h]
mov     ecx, [esp+arg_4]
mov     [ecx], eax
neg     eax
sbb     eax, eax
and     eax, 7fff0001h
add     eax, 8000ffffh
retn    8
push    esi
mov     esi, ecx
push    edi
mov     edi, [esp+8+arg_0]
mov     edx, [esi+0b0h]
lea     eax, [esi+0b0h]
mov     ecx, edi
and     edx, 0fffffffbh
and     ecx, 1
shl     ecx, 2
or      ecx, edx
mov     [eax], ecx
mov     eax, [esi+0a0h]
test    eax, eax
jz      short loc_277b52aa
mov     ecx, [esi+0b4h]
test    ecx, ecx
jnz     loc_277c68e0
push    0fffffff0h
push    eax
call    ds:getwindowlonga
shr     eax, 1ch
and     eax, 1
jz      short loc_277b52a6
test    edi, edi
jz      short loc_277b52af
test    eax, eax
jz      short loc_277b52c3
pop     edi
pop     esi
retn    4
mov     eax, [esi+0b4h]
test    eax, eax
jnz     short loc_277b52bf
mov     eax, [esi+0a0h]
push    0
jmp     short loc_277b52d9
test    edi, edi
jz      short loc_277b52aa
mov     eax, [esi+0b4h]
test    eax, eax
jnz     short loc_277b52d7
mov     eax, [esi+0a0h]
push    8
push    eax
call    ds:showwindow
jmp     short loc_277b52aa
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_8]
push    edi
mov     eax, [esi]
cmp     eax, ds:dword_277b6008
jnz     loc_277c6a3f
push    10h
mov     edi, offset dword_277b6008
pop     ecx
xor     eax, eax
repe cmpsb
jnz     loc_277c6a3f
mov     esi, [ebp+arg_0]
lea     ecx, [ebp+arg_8]
push    ecx
xor     edi, edi
push    [ebp+arg_c]
mov     eax, [esi]
push    edi
push    esi
call    dword ptr [eax+18h]
cmp     eax, edi
jl      short loc_277b5354
push    edi
push    edi
call    ds:seterrorinfo
push    [ebp+arg_20]
mov     eax, [ebp+arg_8]
push    [ebp+arg_1c]
mov     ecx, [eax]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_4]
push    dword ptr [esi+8]
push    eax
call    dword ptr [ecx+2ch]
mov     esi, eax
mov     eax, [ebp+arg_8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, esi
pop     edi
pop     esi
pop     ebp
retn    24h
push    ebp
mov     ebp, esp
sub     esp, 188h
cmp     [ebp+arg_4], 0
push    ebx
push    esi
push    edi
jnz     loc_277c6946
mov     edi, [ebp+arg_c]
test    edi, edi
jz      loc_277c6950
and     dword ptr [edi], 0
push    offset criticalsection
call    ds:entercriticalsection
mov     ebx, [ebp+arg_0]
mov     eax, [ebx+14h]
mov     eax, off_278286a4[eax*8]
cmp     dword ptr [eax+2ch], 0
lea     esi, [eax+2ch]
jz      short loc_277b53c1
mov     eax, [esi]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
mov     eax, [esi]
mov     [edi], eax
xor     edi, edi
push    offset criticalsection
call    ds:leavecriticalsection
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    10h
lea     ecx, [ebp+pptlib]
push    ecx
mov     cx, [eax+1ch]
mov     ax, [eax+18h]
push    0
push    ecx
push    eax
push    phkresult
call    ds:loadregtypelib
test    eax, eax
jl      loc_277c695a
mov     eax, [ebp+pptlib]
lea     edx, [ebp+arg_4]
push    edx
mov     edx, [ebx+14h]
mov     ecx, [eax]
mov     edx, off_278286a4[edx*8]
push    dword ptr [edx+20h]
push    eax
call    dword ptr [ecx+18h]
mov     edi, eax
mov     eax, [ebp+pptlib]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    edi, edi
jl      short loc_277b53ad
mov     eax, [ebp+arg_4]
lea     edx, [ebp+arg_0]
push    edx
push    0ffffffffh
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+20h]
mov     edi, eax
mov     eax, [ebp+arg_4]
test    edi, edi
mov     ecx, [eax]
jl      loc_277c6a2c
push    esi
push    [ebp+arg_0]
push    eax
call    dword ptr [ecx+38h]
mov     edi, eax
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    edi, edi
jl      loc_277b53ad
mov     eax, [ebx+14h]
mov     edi, [ebp+arg_c]
mov     byte ptr [ebx+18h], 1
mov     eax, off_278286a4[eax*8]
inc     dword ptr [eax+30h]
jmp     loc_277b539f
push    esi
mov     esi, ecx
push    edi
cmp     dword ptr [esi+0ach], 0
jnz     loc_277c62fc
mov     eax, [esi+0b0h]
mov     ecx, eax
shr     ecx, 1
test    cl, 1
jz      loc_277c635d
cmp     [esp+8+arg_0], 0
jz      loc_277c6335
mov     edi, [esi+0a0h]
test    al, 8
jz      loc_277c6340
push    edi
call    ds:setfocus
sub     eax, edi
neg     eax
sbb     eax, eax
inc     eax
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    esi
mov     esi, ecx
test    byte ptr [esi+0bch], 4
jz      short loc_277b54d1
mov     eax, [esi+0bch]
not     eax
shr     eax, 6
and     eax, 1
pop     esi
leave
retn
lea     eax, [ebp+var_4]
mov     [ebp+var_4], 1
push    eax
push    0bh
push    0fffffd3bh
call    sub_277b550a
test    eax, eax
jz      short loc_277b54ce
mov     eax, [ebp+var_4]
mov     ecx, [esi+0bch]
and     eax, 1
and     ecx, 0ffffffbfh
shl     eax, 6
or      eax, ecx
or      al, 4
mov     [esi+0bch], eax
jmp     short loc_277b54c0
push    ebp
mov     ebp, esp
sub     esp, 30h
mov     edx, [ecx+84h]
push    ebx
push    esi
lea     esi, [ecx+84h]
xor     ebx, ebx
push    edi
cmp     edx, ebx
mov     word ptr [ebp+pvarsrc.anonymous_0], bx
mov     dword ptr [ebp+pvarsrc.anonymous_0+8], ebx
mov     word ptr [ebp+pvargdest.anonymous_0], bx
mov     dword ptr [ebp+pvargdest.anonymous_0+8], ebx
jnz     short loc_277b554f
mov     ecx, [ecx+6ch]
cmp     ecx, ebx
jz      short loc_277b5545
mov     eax, [ecx]
push    esi
push    offset dword_277b6200
push    ecx
call    dword ptr [eax]
mov     edx, [esi]
cmp     edx, ebx
jz      loc_277c6406
xor     eax, eax
lea     edi, [ebp+var_30]
stosd
push    ebx
lea     ecx, [ebp+pvarsrc]
push    ebx
push    ecx
stosd
lea     ecx, [ebp+var_30]
push    ecx
push    2
stosd
push    ebx
push    offset dword_277b6008
push    [ebp+arg_0]
stosd
mov     eax, [edx]
push    edx
call    dword ptr [eax+18h]
cmp     eax, ebx
jl      loc_277c6406
push    dword ptr [ebp+vt]
lea     eax, [ebp+pvarsrc]
push    ebx
push    eax
lea     eax, [ebp+pvargdest]
push    eax
call    ds:variantchangetype
cmp     eax, ebx
jl      loc_277c63fc
movzx   eax, [ebp+vt]
mov     edi, [ebp+arg_8]
lea     esi, [ebp+pvargdest.anonymous_0+8]
movzx   ecx, ds:byte_277b6270[eax]
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
lea     eax, [ebp+pvarsrc]
and     ecx, 3
push    eax
rep movsb
call    ds:variantclear
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
xor     esi, esi
mov     ebx, ecx
push    esi
push    esi
push    esi
call    sub_277b4b64
cmp     eax, esi
mov     [ebp+hwnd], eax
jz      loc_277c6924
lea     ecx, [ebp+rect]
push    edi
push    ecx
push    eax
call    ds:getclientrect
mov     esi, [ebp+arg_4]
mov     ecx, [ebp+rect.right]
sub     ecx, [ebp+rect.left]
mov     edi, [ebp+hdc]
mov     eax, [esi+8]
sub     eax, [esi]
cmp     ecx, eax
jnz     short loc_277b5663
lea     eax, [ebp+pt]
push    eax
push    0
push    0
push    edi
call    ds:setwindoworgex
lea     eax, [ebp+var_24]
push    eax
push    dword ptr [esi+4]
push    dword ptr [esi]
push    edi
call    ds:setviewportorgex
mov     eax, dword_278282f4
mov     ecx, eax
neg     ecx
sbb     ecx, ecx
and     ecx, 14h
neg     eax
sbb     eax, eax
push    ecx
and     eax, 308h
push    edi
add     eax, 0fh
push    eax
mov     eax, [ebx+14h]
push    [ebp+hwnd]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+58h]
call    ds:callwindowproca
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebp+rect.bottom]
mov     ecx, [esi+0ch]
sub     eax, [ebp+rect.top]
sub     ecx, [esi+4]
cmp     eax, ecx
jz      short loc_277b5608
push    8
push    edi
call    ds:setmapmode
lea     eax, [ebp+sz]
push    eax
push    [ebp+rect.bottom]
push    [ebp+rect.right]
push    edi
call    ds:setwindowextex
lea     eax, [ebp+var_14]
push    eax
mov     eax, [esi+0ch]
sub     eax, [esi+4]
push    eax
mov     eax, [esi+8]
sub     eax, [esi]
push    eax
push    edi
call    ds:setviewportextex
jmp     loc_277b5608
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+70h]
test    al, 2
jz      loc_277c6836
shr     eax, 3
test    al, 1
push    edi
jnz     short loc_277b5714
mov     eax, [esi+6ch]
test    eax, eax
jnz     short loc_277b56cc
mov     eax, [esi+34h]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+2ch]
and     dword ptr [esi+70h], 0fffffff9h
mov     eax, [esi+60h]
test    eax, eax
jz      short loc_277b56f1
mov     edi, ds:destroywindow
push    eax
call    edi
mov     eax, [esi+74h]
test    eax, eax
jnz     loc_277c683d
mov     eax, [esi+38h]
test    eax, eax
jz      short loc_277b5702
mov     ecx, [eax]
and     dword ptr [esi+38h], 0
push    eax
call    dword ptr [ecx+8]
mov     eax, [esi+3ch]
test    eax, eax
jnz     loc_277c6856
xor     eax, eax
pop     edi
pop     esi
retn    4
mov     eax, [esi]
push    esi
call    dword ptr [eax+18h]
jmp     short loc_277b56c2
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+78h]
shr     eax, 1
test    al, 1
jnz     loc_277c64ee
cmp     [esp+4+arg_4], 0
jz      loc_277c6505
cmp     [esp+4+arg_4], 2
jz      loc_277c6505
xor     eax, eax
pop     esi
retn    8
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    ebx
push    esi
push    edi
mov     eax, [eax-8]
mov     eax, off_278286a4[eax*8]
mov     edi, [eax+24h]
mov     eax, [ebp+arg_4]
test    edi, edi
jz      short loc_277b5794
mov     ecx, [eax]
cmp     ecx, [edi]
jnz     short loc_277b5794
push    10h
mov     esi, eax
pop     ecx
xor     edx, edx
repe cmpsb
jnz     short loc_277b5794
mov     eax, [ebp+arg_0]
lea     ecx, [eax+4]
mov     eax, [ebp+arg_8]
mov     [eax], ecx
mov     eax, ecx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     edx, [eax]
cmp     edx, ds:dword_277b6200
jz      loc_277c6a69
cmp     edx, ds:dword_277b6280
jnz     loc_277c6a82
push    10h
mov     esi, eax
pop     ecx
mov     edi, offset dword_277b6280
xor     eax, eax
repe cmpsb
jnz     loc_277c6a82
mov     eax, [ebp+arg_0]
lea     ecx, [eax+10h]
jmp     short loc_277b577e
mov     ecx, [esp+arg_0]
mov     al, [ecx+8]
neg     al
sbb     eax, eax
and     eax, 0ch
add     eax, 20h
sub     ecx, eax
mov     eax, [ecx]
call    dword ptr [eax+4]
retn    4
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_4]
test    edi, edi
jz      short loc_277b5818
mov     ebx, [esp+0ch+arg_0]
movsx   eax, word ptr [ebx+0ah]
mov     ecx, eax
dec     ecx
jnz     loc_277c6b29
cmp     [ebx+4], edi
jnz     loc_277c6bc1
and     dword ptr [ebx+4], 0
mov     eax, [edi]
dec     word ptr [ebx+0ah]
push    edi
call    dword ptr [eax+8]
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     ecx, [esp+arg_0]
mov     al, [ecx+8]
neg     al
sbb     eax, eax
and     eax, 0ch
add     eax, 20h
sub     ecx, eax
mov     eax, [ecx]
call    dword ptr [eax+8]
retn    4
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+70h]
test    al, 8
jz      short loc_277b587d
and     al, 0f7h
push    edi
mov     [esi+70h], eax
mov     eax, [esi+3ch]
xor     edi, edi
cmp     eax, edi
jnz     loc_277c6865
mov     eax, [esi+38h]
push    edi
push    edi
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+20h]
mov     eax, [esi+6ch]
cmp     eax, edi
jnz     short loc_277b586f
mov     eax, [esi+34h]
mov     ecx, [eax]
push    edi
push    eax
call    dword ptr [ecx+28h]
xor     eax, eax
pop     edi
pop     esi
retn    4
xor     eax, eax
jmp     short loc_277b5879
mov     eax, [ecx+0a0h]
push    esi
lea     esi, [ecx+0a0h]
test    eax, eax
jnz     loc_277c61d4
pop     esi
retn
push    esi
mov     esi, ecx
push    edi
mov     dword ptr [esi], offset off_277b6100
call    sub_277b58ee
mov     eax, [esi+0ch]
xor     edi, edi
cmp     eax, edi
jnz     loc_277c78c6
mov     eax, [esi+14h]
cmp     eax, edi
jnz     loc_277c78d4
mov     eax, [esi+8]
cmp     eax, edi
jnz     loc_277c78e2
mov     eax, [esi+18h]
cmp     eax, edi
jnz     loc_277c78f0
mov     eax, [esi+1ch]
cmp     eax, edi
jnz     loc_277c78fe
mov     eax, [esi+38h]
cmp     eax, edi
jnz     loc_277c790c
pop     edi
pop     esi
retn
push    esi
mov     esi, ecx
cmp     dword ptr [esi+3ch], 0
jnz     loc_277c79c3
pop     esi
retn
push    esi
mov     esi, ecx
push    edi
mov     eax, [esi+0b4h]
lea     edi, [esi+0b4h]
test    eax, eax
mov     dword ptr [esi], offset off_277b5d98
mov     dword ptr [esi+1ch], offset off_277b5d80
mov     dword ptr [esi+38h], offset off_277b5d20
mov     dword ptr [esi+3ch], offset off_277b5d00
mov     dword ptr [esi+40h], offset off_277b5cd0
mov     dword ptr [esi+44h], offset off_277b5ca8
mov     dword ptr [esi+48h], offset off_277b5c68
mov     dword ptr [esi+4ch], offset off_277b5c48
mov     dword ptr [esi+50h], offset off_277b5c20
mov     dword ptr [esi+54h], offset off_277b5bf8
mov     dword ptr [esi+58h], offset off_277b5be8
mov     dword ptr [esi+5ch], offset off_277b5bd8
mov     dword ptr [esi+60h], offset off_277b5bc0
mov     dword ptr [esi+64h], offset off_277b5ba8
mov     dword ptr [esi+68h], offset off_277b5b98
jnz     loc_277c5e95
mov     eax, [esi+6ch]
test    eax, eax
jnz     loc_277c5ead
mov     eax, [esi+70h]
test    eax, eax
jnz     loc_277c5eb8
mov     eax, [esi+74h]
test    eax, eax
jnz     loc_277c5ec3
mov     eax, [esi+78h]
test    eax, eax
jnz     loc_277c5ece
mov     eax, [esi+7ch]
test    eax, eax
jnz     loc_277c5ed9
mov     eax, [esi+80h]
test    eax, eax
jnz     loc_277c5ee4
mov     eax, [esi+0a8h]
test    eax, eax
jnz     loc_277c5eef
mov     eax, [esi+0b8h]
test    eax, eax
jnz     loc_277c5efa
mov     eax, [esi+84h]
test    eax, eax
jnz     loc_277c5f05
mov     eax, [esi+0ach]
test    eax, eax
jnz     loc_277c5f10
mov     ecx, esi
call    sub_277b5a04
pop     edi
pop     esi
retn
push    esi
mov     esi, ecx
lea     ecx, [esi+2ch]
mov     dword ptr [esi], offset off_277b6030
mov     dword ptr [esi+1ch], offset off_277b6018
call    sub_277b5a2d
lea     ecx, [esi+20h]
call    sub_277b5a2d
mov     ecx, esi
call    sub_277b5a47
pop     esi
retn
push    esi
mov     esi, ecx
push    edi
mov     ax, [esi+0ah]
mov     dword ptr [esi], offset off_277b6080
test    ax, ax
jnz     loc_277c6bcb
pop     edi
pop     esi
retn
push    esi
mov     esi, ecx
cmp     byte ptr [esi+18h], 0
mov     dword ptr [esi], offset off_277b60a0
jnz     short loc_277b5a69
push    offset addend
mov     dword ptr [esi], offset off_277b60d8
call    ds:interlockeddecrement
pop     esi
retn
push    edi
mov     edi, offset criticalsection
push    edi
call    ds:entercriticalsection
mov     eax, [esi+14h]
mov     eax, off_278286a4[eax*8]
dec     dword ptr [eax+30h]
jnz     short loc_277b5a9c
mov     eax, [eax+2ch]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, [esi+14h]
mov     eax, off_278286a4[eax*8]
and     dword ptr [eax+2ch], 0
push    edi
call    ds:leavecriticalsection
pop     edi
jmp     short loc_277b5a56
retf
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
mov     esi, offset amsvblibupdown
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     loc_277c8624
mov     [ebp+wndclass.lpszclassname], esi
xor     esi, esi
push    7f00h
push    esi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277b8343
mov     [ebp+wndclass.hinstance], edi
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hicon], esi
mov     [ebp+wndclass.lpszmenuname], esi
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.style], 3
mov     [ebp+wndclass.cbclsextra], esi
mov     [ebp+wndclass.cbwndextra], 4
call    ds:registerclassa
movzx   eax, ax
pop     edi
pop     esi
leave
retn    4
mov     ecx, [esp+wparam]
mov     eax, [esp+arg_8]
push    esi
mov     esi, [esp+4+arg_0]
push    3
push    ecx
mov     [esi], ecx
mov     edx, [eax+0ch]
mov     [esi+4], edx
mov     eax, [eax+20h]
and     dword ptr [esi+14h], 0
push    55h
push    edx
mov     [esi+8], eax
call    ds:sendmessagea
dec     eax
dec     eax
neg     eax
sbb     eax, eax
inc     eax
mov     [esi+10h], eax
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 20h
mov     eax, [ebp+arg_0]
push    ebx
push    esi
xor     esi, esi
cmp     eax, esi
push    edi
mov     [ebp+var_c], esi
mov     [ebp+var_8], esi
mov     [ebp+var_10], esi
mov     [ebp+var_20], esi
mov     [ebp+var_1c], esi
mov     [ebp+var_18], esi
mov     [ebp+var_14], esi
mov     [ebp+var_4], 1
jz      loc_277b641a
cmp     [ebp+arg_18], esi
mov     ecx, [eax]
jz      loc_277c4452
lea     edx, [ebp+var_c]
push    edx
push    offset dword_277b6200
push    eax
call    dword ptr [ecx]
cmp     eax, esi
mov     [ebp+var_4], eax
jl      loc_277b641a
lea     eax, [ebp+var_8]
push    eax
push    [ebp+var_c]
call    sub_277b643c
pop     ecx
cmp     eax, esi
pop     ecx
mov     [ebp+var_4], eax
jl      short loc_277b641a
cmp     [ebp+var_4], esi
jl      short loc_277b641a
mov     ebx, [ebp+arg_1c]
cmp     ebx, esi
jnz     short loc_277b63b4
lea     ebx, [ebp+var_10]
cmp     dword ptr [ebx], 0
mov     edi, 800h
mov     esi, offset dword_277b6008
jnz     short loc_277b63d8
mov     eax, [ebp+var_8]
push    ebx
push    edi
lea     edx, [ebp+arg_4]
mov     ecx, [eax]
push    1
push    edx
push    esi
push    eax
call    dword ptr [ecx+14h]
mov     [ebp+var_4], eax
cmp     [ebp+var_4], 0
jl      short loc_277b6418
cmp     [ebp+pvarg], 0
jz      short loc_277b63ed
push    [ebp+pvarg]
call    ds:variantclear
mov     eax, [ebp+arg_10]
push    0
push    0
lea     edx, [ebp+var_20]
push    [ebp+pvarg]
mov     [ebp+var_20], eax
movsx   eax, [ebp+arg_c]
push    edx
mov     [ebp+var_18], eax
push    [ebp+arg_14]
mov     eax, [ebp+var_8]
mov     ecx, [eax]
push    edi
push    esi
push    dword ptr [ebx]
push    eax
call    dword ptr [ecx+18h]
mov     [ebp+var_4], eax
xor     esi, esi
mov     eax, [ebp+var_c]
cmp     eax, esi
jz      short loc_277b6427
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_8]
cmp     eax, esi
jz      short loc_277b6434
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     esi, edi
mov     [ebp+var_4], edi
mov     [ebp+var_8], edi
mov     [ebp+var_c], edi
mov     [ebx], edi
jz      loc_277c6f53
mov     eax, [esi]
lea     ecx, [ebp+var_4]
push    ecx
push    offset dword_277b61b0
push    esi
call    dword ptr [eax]
cmp     eax, edi
jge     short loc_277b6498
mov     eax, [esi]
push    esi
mov     [ebx], esi
call    dword ptr [eax+4]
xor     esi, esi
mov     eax, [ebp+var_4]
cmp     eax, edi
jnz     short loc_277b64dc
mov     eax, [ebp+var_8]
cmp     eax, edi
jnz     short loc_277b64e7
mov     eax, [ebp+var_c]
cmp     eax, edi
jnz     short loc_277b64f2
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
mov     esi, eax
cmp     esi, edi
jl      short loc_277b647c
mov     eax, [ebp+var_8]
cmp     eax, edi
jz      loc_277c6f5a
mov     ecx, [eax]
lea     edx, [ebp+var_c]
push    edx
push    offset dword_277b61f0
push    eax
call    dword ptr [ecx]
mov     esi, eax
cmp     esi, edi
jl      short loc_277b647c
mov     eax, [ebp+var_c]
push    ebx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
mov     esi, eax
cmp     esi, edi
jge     short loc_277b647a
jmp     short loc_277b647c
mov     [ebp+var_4], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277b6483
mov     [ebp+var_8], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277b648a
mov     [ebp+var_c], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277b6491
mov     eax, [ecx+2ch]
push    esi
test    ah, 2
jz      short loc_277b6535
mov     esi, [esp+4+arg_0]
test    esi, esi
jl      loc_277c796f
mov     edx, eax
push    0
shr     edx, 0ah
test    dl, 1
pop     edx
setnz   dl
inc     edx
cmp     esi, edx
jg      loc_277c796f
mov     edx, eax
shr     edx, 6
and     edx, 3
cmp     esi, edx
jnz     short loc_277b653b
xor     eax, eax
pop     esi
retn    4
mov     edx, esi
and     al, 3fh
and     edx, 3
shl     edx, 6
or      edx, eax
xor     eax, eax
test    esi, esi
setnle  al
push    eax
mov     [ecx+2ch], edx
call    sub_277b4f96
jmp     short loc_277b6535
mov     al, ds:3140a050h
cmp     al, 1bh
adc     [eax+2b00082eh], ch
sub     esp, [ebx]
aaa
push    dword_278282f0
push    180h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      loc_277c50e5
push    [esp+arg_0]
mov     ecx, eax
call    sub_277b65b9
add     eax, 0ch
retn
push    ebx
push    ebp
push    esi
mov     esi, ecx
mov     eax, esi
push    edi
neg     eax
lea     edi, [esi+0c0h]
sbb     eax, eax
xor     ebx, ebx
and     eax, edi
push    eax
push    ebx
push    [esp+18h+arg_0]
call    sub_277b39f2
mov     dword ptr [edi], offset off_277b7958
mov     dword ptr [esi+0c4h], offset off_277b5b88
mov     dword ptr [esi+0c8h], offset off_277b6560
mov     [esi+0cch], ebx
push    1
mov     dword ptr [esi+0d0h], offset off_277b5b70
push    dword_2782a274
lea     ecx, [esi+0ech]
push    dword_2782a270
push    offset dword_2782a178
push    1
push    ebx
push    esi
call    sub_277b3bff
mov     dword ptr [esi], offset off_277b78d0
mov     dword ptr [esi+1ch], offset off_277b78b8
mov     dword ptr [esi+38h], offset off_277b7858
mov     dword ptr [esi+3ch], offset off_277b7838
mov     ebp, ds:getsystemmetrics
mov     dword ptr [esi+40h], offset off_277b7808
mov     dword ptr [esi+44h], offset off_277b77e0
mov     dword ptr [esi+48h], offset off_277b77a0
push    6
mov     dword ptr [esi+4ch], offset off_277b7780
mov     dword ptr [edi], offset off_277b7718
mov     dword ptr [esi+50h], offset off_277b76f0
pop     ecx
xor     eax, eax
lea     edi, [esi+0d4h]
mov     dword ptr [esi+54h], offset off_277b76c8
mov     dword ptr [esi+58h], offset off_277b76b8
mov     dword ptr [esi+5ch], offset off_277b76a8
mov     dword ptr [esi+60h], offset off_277b7690
mov     dword ptr [esi+64h], offset off_277b7678
mov     dword ptr [esi+68h], offset off_277b7668
mov     dword ptr [esi+0c4h], offset off_277b7658
mov     dword ptr [esi+0c8h], offset off_277b7638
mov     dword ptr [esi+0d0h], offset off_277b7620
rep stosd
push    0bh
mov     word ptr [esi+0d8h], 1
mov     dword ptr [esi+0e8h], 8000000fh
mov     dword ptr [esi+148h], 8000001h
mov     [esi+154h], ebx
mov     [esi+13ch], ebx
mov     [esi+140h], ebx
mov     [esi+138h], ebx
mov     [esi+144h], ebx
lea     edi, [esi+14ch]
call    ebp
push    0ch
mov     [edi], eax
call    ebp
mov     ecx, [edi]
mov     [esi+150h], eax
add     eax, 6
or      dword ptr [esi+158h], 0ffffffffh
lea     ecx, [ecx+ecx+0ch]
mov     [esi+8ch], eax
mov     [esi+88h], ecx
mov     [esi+15ch], ebx
mov     [esi+160h], ebx
mov     [esi+164h], ebx
mov     [esi+168h], ebx
mov     [esi+16ch], ebx
mov     [esi+170h], ebx
or      dword ptr [esi+178h], 0ffffffffh
mov     [esi+174h], ebx
mov     [esi+17ch], ebx
mov     eax, esi
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
and     dword ptr [eax], 0
push    edi
mov     eax, [esi]
mov     edx, ecx
cmp     eax, ds:dword_277b1e08
jz      loc_277c510a
cmp     eax, ds:dword_277b6138
jz      loc_277c5129
cmp     eax, ds:dword_277b6128
jz      short loc_277b67b9
push    [ebp+arg_4]
mov     ecx, edx
push    [ebp+arg_0]
call    sub_277b3f7b
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6128
xor     eax, eax
repe cmpsb
jnz     short loc_277b67a5
mov     esi, edx
add     edx, 0d0h
neg     esi
sbb     esi, esi
and     esi, edx
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
jmp     short loc_277b67b2
sub     dword ptr [esp+4], 48h
jmp     short sub_277b67f3
sub     dword ptr [esp+4], 1ch
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+4]
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    esi
mov     esi, ecx
cmp     dword ptr [esi+154h], 0
jz      short loc_277b6824
push    dword ptr [esi+6ch]
lea     ecx, [esi+0ech]
call    sub_277b444c
pop     esi
leave
retn
lea     eax, [ebp+var_4]
push    eax
call    sub_277b683b
push    [ebp+var_4]
mov     eax, [esi]
push    esi
call    dword ptr [eax+84h]
jmp     short loc_277b6813
push    ebp
mov     ebp, esp
sub     esp, 18h
and     [ebp+var_4], 0
lea     eax, [ebp+pvarg]
push    edi
mov     edi, ecx
push    eax
mov     [ebp+colorref], 8000001h
call    ds:variantinit
lea     eax, [ebp+var_4]
mov     ecx, edi
push    eax
call    sub_277b68c4
test    eax, eax
jl      loc_277c5464
push    0
push    1
push    2
push    0
lea     eax, [ebp+pvarg]
push    0
push    eax
push    offset abackcolor
push    [ebp+var_4]
call    sub_277b633c
add     esp, 20h
test    eax, eax
jl      loc_277c5464
mov     edi, [ebp+arg_0]
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
mov     [edi], eax
lea     eax, [ebp+colorref]
push    eax
push    0fh
call    ds:getstockobject
push    eax
push    dword ptr [edi]
call    ds:oletranslatecolor
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277b68bc
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+colorref]
pop     edi
leave
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+var_4]
push    edi
push    eax
xor     edi, edi
push    2
push    1dh
mov     [ebp+var_4], edi
mov     [esi], edi
call    sub_277b6937
mov     ebx, eax
cmp     ebx, edi
jl      short loc_277b6921
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
mov     eax, [ebp+var_4]
push    edi
push    esi
push    1
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+0ch]
mov     ebx, eax
mov     eax, [esi]
cmp     eax, edi
jz      short loc_277b690e
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     [esi], edi
cmp     ebx, edi
jl      short loc_277b6921
mov     eax, [ebp+var_4]
push    edi
push    esi
push    1
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+0ch]
mov     ebx, eax
mov     eax, [ebp+var_4]
cmp     eax, edi
jz      short loc_277b692e
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_8]
xor     esi, esi
lea     eax, [ecx+38h]
lea     edx, [ebp+var_4]
mov     [edi], esi
mov     ecx, [eax]
push    edx
push    eax
mov     [ebp+var_4], esi
mov     [ebp+var_8], esi
call    dword ptr [ecx+10h]
cmp     eax, esi
jl      short loc_277b69bc
mov     eax, [ebp+var_4]
cmp     eax, esi
jz      loc_277c5472
mov     ecx, [eax]
lea     edx, [ebp+var_8]
push    edx
push    offset loc_277b6580
push    eax
call    dword ptr [ecx]
mov     ebx, eax
mov     eax, [ebp+var_4]
cmp     eax, esi
jz      short loc_277b6988
mov     [ebp+var_4], esi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     ebx, esi
jl      loc_277c547c
mov     eax, [ebp+var_8]
push    edi
push    [ebp+arg_4]
mov     ecx, [eax]
push    [ebp+arg_0]
push    eax
call    dword ptr [ecx+0ch]
mov     edi, eax
mov     eax, [ebp+var_8]
cmp     eax, esi
jz      short loc_277b69b2
mov     [ebp+var_8], esi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     edi, esi
jl      loc_277c5483
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
lea     eax, [ebp+colorref]
push    edi
push    eax
push    0fh
call    ds:getstockobject
mov     edi, [ebp+clr]
push    eax
push    edi
call    ds:oletranslatecolor
test    eax, eax
jl      short loc_277b6a43
mov     eax, [ebp+colorref]
push    esi
mov     esi, [ebp+arg_0]
test    eax, 80000000h
mov     [esi+0e8h], edi
jnz     loc_277c5591
lea     edi, [esi+144h]
mov     [esi+148h], eax
mov     eax, [edi]
test    eax, eax
jnz     short loc_277b6a48
push    dword ptr [esi+148h]
call    ds:createsolidbrush
push    1
mov     [edi], eax
pop     eax
lea     ecx, [esi+2ch]
or      [esi+0b0h], eax
push    0fffffe0bh
mov     [esi+154h], eax
call    sub_277b4535
push    0
mov     ecx, esi
call    sub_277b45b0
xor     eax, eax
pop     esi
pop     edi
leave
retn    8
push    eax
call    ds:deleteobject
jmp     short loc_277b6a0d
sub     [esp+arg_0], 20h
jmp     sub_277b67f3
sub     [esp+arg_0], 20h
jmp     short sub_277b6a67
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+8]
retn    4
sub     [esp+arg_0], 30h
jmp     sub_277b67f3
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     off_2782a368, 0
push    ebx
push    esi
push    edi
jz      loc_277b6b29
mov     ebx, offset dword_2782a378
jmp     short loc_277b6ae4
mov     eax, [ebx-0ch]
mov     edx, [ebp+arg_0]
lea     esi, [ebp+pvarg.anonymous_0+8]
push    offset abackcolor_0
lea     edi, [eax+edx+0d4h]
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
push    dword ptr [ebx-10h]
call    sub_277b6b4a
test    eax, eax
jnz     loc_277c514b
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
add     ebx, 14h
cmp     dword ptr [ebx-10h], 0
jz      short loc_277b6b29
push    [ebp+arg_8]
mov     ax, [ebx-4]
and     dword ptr [ebp+pvarg.anonymous_0+8], 0
lea     edx, [ebp+pvarg]
mov     word ptr [ebp+pvarg.anonymous_0], ax
mov     eax, [ebp+arg_4]
push    edx
push    dword ptr [ebx-10h]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+0ch]
mov     ecx, [ebx]
test    eax, eax
jge     short loc_277b6a9e
mov     eax, [ebx-0ch]
mov     edx, [ebp+arg_0]
lea     esi, [ebx-8]
lea     edi, [eax+edx+0d4h]
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
jmp     short loc_277b6ad1
mov     eax, [ebp+arg_0]
cmp     word ptr [eax+0d4h], 0
jnz     loc_277c5162
and     dword ptr [eax+0b0h], 0fffffffeh
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    0ch
mov     eax, [esp+arg_0]
test    eax, eax
jz      loc_277c79fb
mov     edx, [esp+arg_4]
test    edx, edx
jz      loc_277c7a18
mov     cx, [eax]
test    cx, cx
jz      short loc_277b6b73
cmp     cx, [edx]
jz      loc_277c7a27
mov     ax, [eax]
sub     ax, [edx]
neg     ax
sbb     eax, eax
inc     eax
retn    8
sub     [esp+arg_0], 30h
jmp     sub_277b6a67
sub     dword ptr [esp+4], 48h
jmp     sub_277b6a67
push    ebp
mov     ebp, esp
sub     esp, 30h
lea     eax, [ebp+var_8]
mov     [ebp+var_8], 8
push    eax
mov     [ebp+var_4], 80h
call    sub_277b4d29
lea     eax, [ebp+wndclass]
push    eax
push    offset amsvblibanimate
push    hinstance
call    ds:getclassinfoa
test    eax, eax
jz      locret_277c50f8
mov     ecx, off_278286a4
mov     eax, [ebp+wndclass.lpfnwndproc]
mov     [ecx+58h], eax
mov     eax, off_278286a4
mov     [ebp+wndclass.lpfnwndproc], offset sub_277b4e17
mov     eax, [eax+44h]
mov     [ebp+wndclass.lpszclassname], eax
mov     eax, hinstance
mov     [ebp+wndclass.hinstance], eax
lea     eax, [ebp+wndclass]
push    eax
call    ds:registerclassa
movzx   eax, ax
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
mov     esi, offset amsvblibanimate_0
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277b6c74
mov     [ebp+wndclass.lpszclassname], esi
xor     esi, esi
push    7f00h
push    esi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277b6f8c
mov     [ebp+wndclass.style], 8
mov     [ebp+wndclass.cbclsextra], esi
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.hicon], esi
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.lpszmenuname], esi
call    ds:registerclassa
test    ax, ax
jz      loc_277c90bf
push    1
pop     eax
pop     edi
pop     esi
leave
retn    4
mov     eax, [esp+arg_0]
or      dword ptr [eax], 3
cmp     word ptr [ecx+0d4h], 0
mov     edx, [eax]
jnz     short loc_277b6cbd
and     edx, 0fffffffbh
mov     [eax], edx
cmp     word ptr [ecx+0d6h], 0
jnz     loc_277c50fa
and     dword ptr [eax], 0fffffffeh
cmp     word ptr [ecx+0dah], 0
jnz     loc_277c5102
or      dword ptr [eax], 2
push    1
pop     eax
retn    0ch
or      edx, 4
jmp     short loc_277b6c93
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
push    edi
mov     edi, [ebp+msg]
mov     esi, ecx
cmp     edi, 14h
mov     ecx, [ebp+wparam]
jbe     short loc_277b6d12
mov     eax, 84h
cmp     edi, eax
ja      loc_277b6d6b
jz      loc_277c537c
cmp     edi, 18h
jz      short loc_277b6d5d
push    [ebp+lparam]
mov     eax, off_278286a4
push    [ebp+wparam]
push    edi
push    dword ptr [esi+0a0h]
push    dword ptr [eax+58h]
call    ds:callwindowproca
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     edi, 14h
jz      short loc_277b6d35
cmp     edi, 7
jnz     short def_277b6dab
mov     eax, [esi+0b0h]
test    al, 2
jz      short def_277b6dab
test    al, 8
jnz     short def_277b6dab
push    0fffffffch
mov     ecx, esi
call    sub_277b48e2
jmp     short def_277b6dab
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+0a0h]
call    ds:getclientrect
push    dword ptr [esi+144h]
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    ds:fillrect
push    1
pop     eax
jmp     short loc_277b6d0b
push    ecx
lea     ecx, [esi+0ech]
call    sub_277b4f96
jmp     short def_277b6dab
mov     eax, 401h
cmp     edi, eax
jbe     short loc_277b6d96
cmp     edi, 2138h
jnz     def_277b6dab
push    dword ptr [esi+148h]
push    [ebp+wparam]
call    ds:setbkcolor
xor     eax, eax
jmp     loc_277b6d0b
jz      loc_277c5407
lea     eax, [edi-200h]
cmp     eax, 9
ja      def_277b6dab
jmp     ds:jpt_277b6dab[eax*4]
cmp     word ptr [esi+0d8h], 0
jz      def_277b6dab
cmp     edi, 201h
jnz     loc_277c53a5
mov     [ebp+var_4], 1
mov     eax, [ebp+lparam]
mov     edi, ds:getkeystate
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    11h
call    edi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
lea     ebx, [ebx+ecx*2]
call    edi
xor     ecx, ecx
test    ax, ax
setl    cl
lea     eax, [ecx+ebx*2]
push    eax
movsx   eax, word ptr [ebp+var_4]
push    eax
push    offset dword_2782a440
push    esi
call    sub_277b9711
nop
mov     edi, [esi+0a0h]
add     esp, 18h
call    ds:getfocus
cmp     eax, edi
jnz     loc_277c53be
mov     edi, [ebp+msg]
jmp     def_277b6dab
xor     eax, eax
cmp     [esi+0d8h], ax
jz      def_277b6dab
cmp     edi, 202h
jnz     loc_277c53ca
mov     [ebp+var_4], 1
cmp     [esi+13ch], eax
jnz     loc_277c53e4
mov     eax, [ebp+lparam]
mov     edi, ds:getkeystate
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    11h
call    edi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
lea     ebx, [ebx+ecx*2]
call    edi
xor     ecx, ecx
test    ax, ax
setl    cl
lea     eax, [ecx+ebx*2]
push    eax
movsx   eax, word ptr [ebp+var_4]
push    eax
push    offset dword_2782a458
push    esi
call    sub_277b9711
add     esp, 18h
push    offset dword_2782a428
push    esi
call    sub_277b9711
pop     ecx
pop     ecx
jmp     loc_277b6e3b
cmp     word ptr [esi+0d8h], 0
jz      def_277b6dab
push    offset dword_2782a434
push    esi
call    sub_277b9711
pop     ecx
mov     dword ptr [esi+13ch], 1
pop     ecx
jmp     def_277b6dab
cmp     word ptr [esi+0d8h], 0
jz      def_277b6dab
mov     eax, [ebp+lparam]
cmp     [esi+140h], eax
jz      def_277b6dab
push    1
pop     eax
test    al, cl
jz      loc_277c53ef
mov     [ebp+var_4], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
mov     edi, ds:getkeystate
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    11h
call    edi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
lea     ebx, [ebx+ecx*2]
call    edi
xor     ecx, ecx
test    ax, ax
setl    cl
lea     eax, [ecx+ebx*2]
push    eax
movsx   eax, word ptr [ebp+var_4]
push    eax
push    offset dword_2782a44c
push    esi
call    sub_277b9711
mov     eax, [ebp+lparam]
add     esp, 18h
mov     [esi+140h], eax
jmp     loc_277b6e3b
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
xor     edi, edi
push    edi
push    ebx
call    ds:getwindowlonga
mov     ecx, [ebp+msg]
mov     esi, eax
cmp     ecx, 5
jbe     short loc_277b7015
cmp     ecx, 14h
jbe     loc_277b7057
mov     eax, 81h
cmp     ecx, eax
jbe     loc_277b7071
mov     eax, ecx
sub     eax, 84h
jz      loc_277c9264
sub     eax, 8fh
jz      loc_277c924b
sub     eax, 205h
jz      loc_277b70e8
sub     eax, 14ch
jz      loc_277b70d6
dec     eax
jz      loc_277b70b9
dec     eax
jz      loc_277c9240
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    ebx
call    ds:defwindowproca
pop     edi
pop     esi
pop     ebx
leave
retn    10h
jz      short loc_277b704b
mov     eax, ecx
dec     eax
dec     eax
jnz     short loc_277b6ffe
cmp     esi, edi
jz      short loc_277b6ffe
push    edi
push    edi
push    464h
push    ebx
call    ds:sendmessagea
lea     eax, [esi+18h]
push    eax
call    ds:deletecriticalsection
push    esi
call    ds:localfree
push    edi
push    edi
push    ebx
call    ds:setwindowlonga
jmp     short loc_277b6ffe
test    byte ptr [esi+0ch], 1
jnz     loc_277c919a
jmp     short loc_277b6ffe
jz      loc_277c921e
mov     eax, ecx
sub     eax, 0fh
jz      loc_277c91f6
dec     eax
jz      loc_277c91e3
jmp     short loc_277b6ffe
jz      short loc_277b707e
cmp     ecx, 7dh
jz      loc_277c922f
jmp     short loc_277b6ffe
push    5ch
push    40h
call    ds:localalloc
mov     esi, eax
cmp     esi, edi
jz      short loc_277b70f1
mov     eax, [ebp+lparam]
mov     [esi], ebx
mov     ecx, [eax+0ch]
mov     [esi+8], ecx
mov     ecx, [eax+8]
mov     [esi+4], ecx
mov     dword ptr [esi+10h], 1
mov     eax, [eax+20h]
mov     [esi+0ch], eax
lea     eax, [esi+18h]
push    eax
call    ds:initializecriticalsection
push    esi
jmp     short loc_277b7041
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277ba719
jmp     loc_277b700e
push    edi
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277b723c
jmp     loc_277b700e
push    [ebp+wparam]
push    esi
call    sub_277b71fd
xor     eax, eax
jmp     loc_277b700e
push    esi
mov     esi, ecx
movsx   eax, word ptr [esi+0dch]
push    eax
lea     ecx, [esi+0ech]
call    sub_277b64fd
push    5
push    dword ptr [esi+0a0h]
call    ds:showwindow
push    1
pop     eax
pop     esi
retn
sub     dword ptr [esp+4], 1ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 24h
jmp     sub_277b67f3
sub     dword ptr [esp+4], 24h
jmp     sub_277b6a67
sub     dword ptr [esp+4], 0a4h
jmp     sub_277b67f3
sub     [esp-4+arg_0], 0c0h
push    ebp
mov     ebp, esp
push    [ebp+arg_20]
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b52e2
pop     ebp
retn    24h
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277b535a
retn    10h
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     ax, [eax+18h]
mov     [ecx], ax
xor     eax, eax
retn    8
sub     [esp+arg_0], 0a4h
jmp     sub_277b6a67
sub     [esp+arg_0], 28h
jmp     sub_277b67f3
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+hdc]
push    esi
push    edi
push    2
push    ebx
call    ds:getdevicecaps
cmp     eax, 5
jz      loc_277c52dd
mov     esi, [ebp+arg_0]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jnz     loc_277c52f3
push    [ebp+lprc]
mov     ecx, esi
push    ebx
call    sub_277b55c8
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    1ch
push    [esp+arg_0]
call    sub_277b7216
push    [esp+hdc]
push    [esp+4+arg_0]
call    sub_277b748c
retn    8
mov     eax, [esp+arg_0]
xor     ecx, ecx
cmp     [eax+10h], ecx
jz      short locret_277b7239
cmp     [eax+40h], ecx
mov     [eax+10h], ecx
jnz     short locret_277b7239
test    byte ptr [eax+0fh], 40h
jz      short locret_277b7239
push    2ah
push    ecx
push    ecx
push    eax
call    sub_277b723c
retn    4
push    ebp
mov     ebp, esp
sub     esp, 114h
cmp     [ebp+arg_c], 2ah
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
jz      short loc_277b728e
xor     edi, edi
cmp     [ebp+hmodule], edi
jnz     short loc_277b7265
push    0fffffffah
push    dword ptr [ebx]
call    ds:getwindowlonga
mov     [ebp+hmodule], eax
push    ebx
call    sub_277b7438
mov     eax, [ebx+14h]
mov     esi, ds:localfree
cmp     eax, edi
jnz     short loc_277b72ad
mov     eax, [ebp+ho]
mov     [ebx+48h], edi
cmp     eax, edi
mov     [ebx+40h], edi
jnz     short loc_277b72bd
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
lea     eax, [ebp+string]
push    104h
push    eax
push    dword ptr [ebx]
call    ds:getwindowtexta
lea     eax, [ebp+string]
mov     [ebp+ho], eax
jmp     short loc_277b7251
push    eax
call    sub_277ba303
push    dword ptr [ebx+14h]
call    esi
mov     [ebx+14h], edi
jmp     short loc_277b7278
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jz      short loc_277b72cc
cmp     byte ptr [eax], 0
jz      short loc_277b7285
push    474h
push    40h
call    ds:localalloc
cmp     eax, edi
mov     [ebx+14h], eax
jz      short loc_277b7285
push    offset type
push    [ebp+ho]
push    [ebp+hmodule]
push    eax
call    sub_277b9fe8
test    eax, eax
jnz     short loc_277b7319
push    [ebp+ho]
push    dword ptr [ebx+14h]
call    sub_277ba018
test    eax, eax
jnz     short loc_277b7319
push    dword ptr [ebx+14h]
call    sub_277ba303
push    dword ptr [ebx+14h]
call    esi
mov     [ebx+14h], edi
jmp     loc_277b7285
mov     eax, [ebx+14h]
mov     ecx, [eax]
mov     [ebx+40h], ecx
mov     ecx, [eax+0ch]
mov     [ebx+44h], ecx
push    dword ptr [eax+8]
lea     ecx, [ebx+30h]
push    dword ptr [eax+4]
push    edi
push    edi
push    ecx
call    ds:setrect
test    byte ptr [ebx+0ch], 2
jz      loc_277b73cb
cmp     [ebx+8], edi
jz      loc_277b73cb
push    dword ptr [ebx]
call    ds:getdc
mov     edi, eax
push    edi
call    ds:createcompatibledc
push    1
push    1
push    edi
mov     esi, eax
call    ds:createcompatiblebitmap
push    eax
push    esi
mov     [ebp+ho], eax
call    ds:selectobject
push    esi
push    ebx
call    sub_277b748c
push    0
push    0
push    esi
call    ds:getpixel
push    esi
mov     [ebp+hmodule], eax
call    ds:deletedc
push    [ebp+ho]
call    ds:deleteobject
push    dword ptr [ebx]
push    edi
push    138h
push    dword ptr [ebx+8]
call    ds:sendmessagea
push    edi
call    ds:getbkcolor
push    edi
mov     esi, eax
push    dword ptr [ebx]
call    ds:releasedc
push    esi
push    [ebp+hmodule]
push    dword ptr [ebx+14h]
call    sub_277ba693
xor     edi, edi
test    byte ptr [ebx+0ch], 1
jnz     loc_277c90c6
lea     esi, [ebx+30h]
lea     edi, [ebp+rect]
movsd
movsd
movsd
push    0ffffffech
push    dword ptr [ebx]
movsd
mov     esi, ds:getwindowlonga
call    esi
xor     edi, edi
push    eax
push    edi
push    0fffffff0h
push    dword ptr [ebx]
call    esi
push    eax
lea     eax, [ebp+rect]
push    eax
call    ds:adjustwindowrectex
mov     eax, [ebp+rect.bottom]
push    16h
sub     eax, [ebp+rect.top]
push    eax
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
push    eax
push    edi
push    edi
push    edi
push    dword ptr [ebx]
call    ds:setwindowpos
test    byte ptr [ebx+0ch], 4
jnz     loc_277c90f9
push    1
push    edi
push    dword ptr [ebx]
call    ds:invalidaterect
push    1
pop     eax
jmp     loc_277b7287
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
push    edi
jz      short loc_277b7449
mov     eax, [esi+58h]
test    eax, eax
jnz     short loc_277b7450
xor     eax, eax
pop     edi
pop     esi
retn    4
test    byte ptr [esi+0ch], 8
jnz     loc_277c9112
lea     edi, [esi+18h]
push    edi
call    ds:entercriticalsection
and     dword ptr [esi+4ch], 0
push    edi
call    ds:leavecriticalsection
push    0ffffffffh
push    dword ptr [esi+58h]
call    ds:waitforsingleobject
push    dword ptr [esi+58h]
call    ds:closehandle
and     dword ptr [esi+58h], 0
push    1
pop     eax
jmp     short loc_277b744b
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
jz      short loc_277b749b
cmp     dword ptr [esi+14h], 0
jnz     short loc_277b749f
pop     esi
retn    8
push    edi
lea     edi, [esi+18h]
push    edi
call    ds:entercriticalsection
push    dword ptr [esi+34h]
push    dword ptr [esi+30h]
push    dword ptr [esi+48h]
push    [esp+14h+hdc]
push    dword ptr [esi+14h]
call    sub_277ba5cf
push    edi
call    ds:leavecriticalsection
pop     edi
jmp     short loc_277b749b
push    0
add     ecx, 0ech
call    sub_277b4f96
retn
sub     [esp+arg_0], 2ch
jmp     sub_277b67f3
sub     [esp+arg_0], 2ch
jmp     sub_277b6a67
sub     [esp+arg_0], 28h
jmp     sub_277b6a67
push    esi
mov     esi, ecx
mov     ecx, [esi+38h]
push    0
lea     eax, [esi+38h]
push    eax
call    dword ptr [ecx+0ch]
mov     ecx, esi
call    sub_277b5881
pop     esi
retn
push    esi
mov     esi, ecx
call    sub_277b7535
test    [esp+4+arg_0], 1
jz      short loc_277b752f
test    esi, esi
jz      short loc_277b752f
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
push    edi
mov     eax, [esi+138h]
lea     edi, [esi+0c8h]
test    eax, eax
mov     dword ptr [esi], offset off_277b78d0
mov     dword ptr [esi+1ch], offset off_277b78b8
mov     dword ptr [esi+38h], offset off_277b7858
mov     dword ptr [esi+3ch], offset off_277b7838
mov     dword ptr [esi+40h], offset off_277b7808
mov     dword ptr [esi+44h], offset off_277b77e0
mov     dword ptr [esi+48h], offset off_277b77a0
mov     dword ptr [esi+4ch], offset off_277b7780
mov     dword ptr [esi+50h], offset off_277b76f0
mov     dword ptr [esi+54h], offset off_277b76c8
mov     dword ptr [esi+58h], offset off_277b76b8
mov     dword ptr [esi+5ch], offset off_277b76a8
mov     dword ptr [esi+60h], offset off_277b7690
mov     dword ptr [esi+64h], offset off_277b7678
mov     dword ptr [esi+68h], offset off_277b7668
mov     dword ptr [esi+0c0h], offset off_277b7718
mov     dword ptr [esi+0c4h], offset off_277b7658
mov     dword ptr [edi], offset off_277b7638
mov     dword ptr [esi+0d0h], offset off_277b7620
jnz     loc_277c50ec
mov     eax, [esi+144h]
test    eax, eax
jz      short loc_277b75ea
push    eax
call    ds:deleteobject
push    dword ptr [esi+160h]
call    ds:sysfreestring
lea     ecx, [esi+0ech]
call    sub_277b5898
mov     eax, esi
mov     ecx, esi
neg     eax
sbb     eax, eax
and     eax, edi
mov     dword ptr [eax], offset off_277b6560
call    sub_277b58fd
pop     edi
pop     esi
retn
push    dword_278282f0
push    1a4h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      loc_277c4750
push    [esp+arg_0]
mov     ecx, eax
call    sub_277b7a36
add     eax, 0ch
retn
push    ebx
push    esi
mov     esi, ecx
push    edi
mov     eax, esi
neg     eax
lea     edi, [esi+0c0h]
sbb     eax, eax
and     eax, edi
push    eax
push    2
push    [esp+14h+arg_0]
call    sub_277b39f2
mov     dword ptr [edi], offset off_277b90d0
mov     dword ptr [esi+0c4h], offset off_277b5b88
mov     dword ptr [esi+0c8h], offset off_277b6560
mov     dword ptr [esi+0cch], 2
mov     dword ptr [esi+0d0h], offset off_277b5b70
push    1
mov     dword ptr [esi+0d4h], offset off_277b90b8
push    dword_2782a274
lea     ecx, [esi+11ch]
push    dword_2782a270
push    offset dword_2782a178
push    1
push    0
push    esi
call    sub_277b3bff
push    0eh
mov     dword ptr [edi], offset off_277b9018
pop     ecx
xor     eax, eax
lea     edi, [esi+0d8h]
mov     dword ptr [esi], offset off_277b8f90
mov     dword ptr [esi+1ch], offset off_277b8f78
mov     dword ptr [esi+38h], offset off_277b8f18
mov     dword ptr [esi+3ch], offset off_277b8ef8
mov     dword ptr [esi+40h], offset off_277b8ec8
mov     dword ptr [esi+44h], offset off_277b8ea0
mov     dword ptr [esi+48h], offset off_277b8e60
mov     dword ptr [esi+4ch], offset off_277b8e40
mov     dword ptr [esi+50h], offset off_277b8e18
mov     dword ptr [esi+54h], offset off_277b8df0
mov     dword ptr [esi+58h], offset off_277b8de0
mov     dword ptr [esi+5ch], offset off_277b8dd0
mov     dword ptr [esi+60h], offset off_277b8db8
mov     dword ptr [esi+64h], offset off_277b8da0
mov     dword ptr [esi+68h], offset off_277b8d90
mov     dword ptr [esi+0c4h], offset off_277b8d80
mov     dword ptr [esi+0c8h], offset off_277b8d60
mov     dword ptr [esi+0d0h], offset off_277b8d48
mov     dword ptr [esi+0d4h], offset off_277b8d30
rep stosd
mov     ecx, esi
call    sub_277b7bbb
push    0
push    7dch
mov     word ptr [esi+1a0h], 1
call    sub_277b7ce6
mov     ebx, ds:sysallocstring
lea     edi, [esi+19ch]
pop     ecx
test    eax, eax
pop     ecx
mov     [edi], eax
jz      loc_277c4757
push    0
push    7ddh
call    sub_277b7ce6
lea     edi, [esi+198h]
pop     ecx
test    eax, eax
pop     ecx
mov     [edi], eax
jz      loc_277c4765
lea     eax, [esi+88h]
mov     ecx, esi
push    eax
call    sub_277b7d8f
mov     eax, esi
pop     edi
pop     esi
pop     ebx
retn    4
push    ebx
push    esi
mov     esi, ecx
push    edi
xor     edi, edi
push    dword ptr [esi+0e4h]
lea     ebx, [esi+0e4h]
mov     [esi+0d8h], edi
mov     [esi+0dch], di
mov     word ptr [esi+0deh], 1
mov     [esi+0e0h], di
call    ds:sysfreestring
or      dword ptr [esi+0e8h], 0ffffffffh
or      word ptr [esi+0ech], 0ffffh
mov     ecx, esi
mov     [ebx], edi
mov     dword ptr [esi+0f0h], 1
mov     dword ptr [esi+0f4h], 0ah
mov     [esi+0f8h], edi
call    sub_277b7c9f
movsx   eax, word ptr [esi+0deh]
or      dword ptr [esi+114h], 0ffffffffh
mov     [esi+17ch], eax
mov     eax, [esi+168h]
mov     [esi+100h], edi
and     al, 0e0h
mov     [esi+104h], edi
or      al, 40h
mov     [esi+108h], edi
mov     [esi+10ch], edi
mov     [esi+0feh], di
mov     [esi+110h], di
mov     [esi+112h], di
mov     [esi+174h], edi
mov     [esi+178h], edi
mov     [esi+18ch], edi
mov     [esi+190h], edi
mov     [esi+194h], edi
mov     word ptr [esi+118h], 1
mov     [esi+168h], eax
pop     edi
pop     esi
pop     ebx
retn
mov     eax, [ecx+0f8h]
push    esi
mov     esi, [ecx+0f4h]
mov     edx, eax
cmp     eax, esi
jg      short loc_277b7cb4
mov     edx, esi
mov     [ecx+180h], edx
cmp     eax, esi
mov     edx, eax
jge     short loc_277b7cd6
cmp     eax, esi
mov     [ecx+184h], edx
jge     short loc_277b7cda
push    1
pop     eax
mov     [ecx+188h], ax
pop     esi
retn
mov     edx, esi
jmp     short loc_277b7cc0
xor     edx, edx
cmp     eax, esi
setle   dl
dec     edx
mov     eax, edx
jmp     short loc_277b7ccd
push    ebp
mov     ebp, esp
sub     esp, 200h
lea     eax, [ebp+buffer]
push    200h
push    eax
movzx   eax, [ebp+arg_0]
push    eax
push    0
call    sub_277b3cfd
push    eax
call    ds:loadstringa
test    eax, eax
jz      locret_277c5e37
push    [ebp+arg_4]
lea     eax, [ebp+buffer]
push    eax
call    sub_277b7d29
pop     ecx
pop     ecx
leave
retn
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
xor     edi, edi
cmp     [ebp+lpmultibytestr], edi
jz      loc_277c5e30
push    edi
push    edi
push    0ffffffffh
push    [ebp+lpmultibytestr]
push    edi
push    edi
call    ds:multibytetowidechar
mov     esi, eax
cmp     esi, edi
jle     loc_277c5e30
movzx   eax, byte ptr [ebp+arg_4]
sub     eax, edi
jnz     loc_277c5e16
lea     eax, [esi-1]
push    eax
push    edi
call    ds:sysallocstringlen
mov     ebx, eax
cmp     ebx, edi
jz      loc_277c5e30
push    esi
push    ebx
push    0ffffffffh
push    [ebp+lpmultibytestr]
push    edi
push    edi
call    ds:multibytetowidechar
mov     [ebx+esi*2-2], di
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
pop     ebp
retn
push    esi
mov     esi, ecx
cmp     word ptr [esi+0feh], 0
jnz     loc_277c48ac
push    2
call    ds:getsystemmetrics
mov     [esi+88h], eax
mov     eax, [esp+4+arg_0]
mov     ecx, [eax+4]
mov     [esi+8ch], ecx
mov     ecx, [esi+88h]
push    1
mov     [eax], ecx
mov     ecx, [esi+8ch]
mov     [eax+4], ecx
pop     eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
and     dword ptr [eax], 0
push    edi
mov     eax, [esi]
mov     edx, ecx
cmp     eax, ds:dword_277b1e38
jz      short loc_277b7e22
cmp     eax, ds:dword_277b6138
jz      loc_277c47a0
cmp     eax, ds:dword_277b6128
jz      short loc_277b7e4d
cmp     eax, ds:dword_277b9170
jz      loc_277c47c2
push    [ebp+arg_4]
mov     ecx, edx
push    [ebp+arg_0]
call    sub_277b3f7b
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    10h
mov     edi, offset dword_277b1e38
pop     ecx
xor     ebx, ebx
repe cmpsb
jnz     short loc_277b7dee
mov     esi, edx
add     edx, 0c0h
neg     esi
sbb     esi, esi
and     esi, edx
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
jmp     short loc_277b7e1b
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6128
xor     ebx, ebx
repe cmpsb
jnz     short loc_277b7e02
mov     esi, edx
add     edx, 0d0h
jmp     short loc_277b7e38
sub     dword ptr [esp+4], 48h
jmp     short loc_277b7e77
sub     [esp+arg_0], 0a4h
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+4]
retn    4
push    dword ptr [ecx+6ch]
add     ecx, 11ch
call    sub_277b444c
retn
sub     [esp+arg_0], 20h
jmp     short loc_277b7e77
sub     [esp+arg_0], 20h
jmp     short loc_277b7eac
sub     [esp+arg_0], 0a4h
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+8]
retn    4
sub     [esp+arg_0], 30h
jmp     short loc_277b7e77
push    ebx
mov     ebx, [esp+4+arg_0]
push    esi
mov     ecx, ebx
call    sub_277b7bbb
lea     esi, [ebx+0d8h]
mov     ecx, ebx
push    esi
push    [esp+0ch+arg_8]
push    [esp+10h+arg_4]
call    sub_277b7f2d
test    eax, eax
jl      short loc_277b7f28
mov     eax, [ebx+0f8h]
mov     ecx, [ebx+0f4h]
cmp     eax, ecx
push    edi
jge     loc_277c4821
mov     edx, [esi]
mov     edi, ecx
cmp     ecx, edx
jl      short loc_277b7f09
mov     edi, edx
cmp     eax, edi
jg      short loc_277b7f15
cmp     ecx, edx
mov     eax, ecx
jl      short loc_277b7f15
mov     eax, edx
mov     ecx, ebx
mov     [esi], eax
call    sub_277b7c9f
and     dword ptr [ebx+0b0h], 0fffffffeh
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 14h
push    esi
push    edi
mov     edi, ecx
mov     [ebp+var_4], edi
push    dword ptr [edi+0e4h]
lea     esi, [edi+0e4h]
call    ds:sysfreestring
and     dword ptr [esi], 0
cmp     off_2782a628, 0
jz      short loc_277b7fbf
push    ebx
mov     ebx, offset dword_2782a638
jmp     short loc_277b7f94
cmp     word ptr [ebp+pvarg.anonymous_0], 8
jz      loc_277c47fd
mov     ecx, [ebx]
lea     esi, [ebp+pvarg.anonymous_0+8]
mov     eax, [ebx-0ch]
lea     edi, [eax+edi+0d8h]
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
mov     edi, [ebp+var_4]
add     ebx, 14h
cmp     dword ptr [ebx-10h], 0
jz      short loc_277b7fbe
push    [ebp+arg_4]
mov     ax, [ebx-4]
and     dword ptr [ebp+pvarg.anonymous_0+8], 0
lea     edx, [ebp+pvarg]
mov     word ptr [ebp+pvarg.anonymous_0], ax
mov     eax, [ebp+arg_0]
push    edx
push    dword ptr [ebx-10h]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jge     short loc_277b7f60
mov     ecx, [ebx]
lea     esi, [ebx-8]
jmp     short loc_277b7f70
pop     ebx
mov     ecx, edi
call    sub_277b7fce
pop     edi
xor     eax, eax
pop     esi
leave
retn    0ch
xor     eax, eax
cmp     [ecx+0e4h], eax
jnz     short locret_277b7ff6
cmp     dword ptr [ecx+0e8h], 0ffffffffh
jnz     short locret_277b7ff6
or      dword ptr [ecx+114h], 0ffffffffh
mov     [ecx+0e0h], ax
mov     [ecx+110h], ax
retn
sub     [esp+arg_0], 30h
jmp     loc_277b7eac
sub     dword ptr [esp+4], 48h
jmp     loc_277b7eac
sub     [esp+arg_0], 1ch
jmp     loc_277b7e77
push    ebp
mov     ebp, esp
sub     esp, 30h
lea     eax, [ebp+var_8]
mov     [ebp+var_8], 8
push    eax
mov     [ebp+var_4], 10h
call    sub_277b4d29
lea     eax, [ebp+wndclass]
push    eax
push    offset amsvblibupdown_0
push    hinstance
call    ds:getclassinfoa
test    eax, eax
jz      locret_277c478b
mov     ecx, off_278286b4
mov     eax, [ebp+wndclass.lpfnwndproc]
mov     [ecx+58h], eax
mov     eax, off_278286b4
mov     [ebp+wndclass.lpfnwndproc], offset sub_277b4e17
mov     eax, [eax+44h]
mov     [ebp+wndclass.lpszclassname], eax
mov     eax, hinstance
mov     [ebp+wndclass.hinstance], eax
lea     eax, [ebp+wndclass]
push    eax
call    ds:registerclassa
movzx   eax, ax
leave
retn
mov     ax, [ecx+0feh]
dec     ax
neg     ax
sbb     eax, eax
and     al, 0c0h
add     eax, 0c0h
cmp     word ptr [ecx+112h], 0
jnz     loc_277c478d
mov     edx, [esp+arg_0]
or      [edx], eax
cmp     word ptr [ecx+118h], 0
mov     eax, [edx]
jz      loc_277c4794
push    1
pop     eax
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 0ch
and     [ebp+var_8], 0
push    ebx
push    esi
push    edi
mov     edi, [ebp+msg]
mov     esi, ecx
mov     ecx, [ebp+wparam]
cmp     edi, 18h
jbe     short loc_277b814d
mov     eax, 281h
cmp     edi, eax
ja      loc_277b82e4
jz      loc_277b833c
mov     eax, edi
sub     eax, 200h
jz      loc_277c49c4
dec     eax
jz      loc_277b8227
dec     eax
jz      short loc_277b817e
dec     eax
dec     eax
jz      loc_277c48d2
dec     eax
jz      short loc_277b817e
dec     eax
dec     eax
jz      loc_277c48d2
dec     eax
jz      short loc_277b817e
push    [ebp+lparam]
mov     eax, off_278286b4
push    [ebp+wparam]
push    edi
push    dword ptr [esi+0a0h]
push    dword ptr [eax+58h]
call    ds:callwindowproca
cmp     [ebp+var_8], 0
mov     edi, eax
jnz     loc_277c4a74
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     edi, 18h
jz      short loc_277b8170
cmp     edi, 7
jnz     short loc_277b811d
mov     eax, [esi+0b0h]
test    al, 2
jz      short loc_277b811d
test    al, 8
jnz     short loc_277b811d
push    0fffffffch
mov     ecx, esi
call    sub_277b48e2
jmp     short loc_277b811d
push    ecx
lea     ecx, [esi+11ch]
call    sub_277b4f96
jmp     short loc_277b811d
cmp     edi, 202h
jnz     loc_277c4951
mov     [ebp+var_4], 1
mov     eax, [esi+0a0h]
mov     edi, ds:getkeystate
mov     [ebp+var_c], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    11h
call    edi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
lea     ebx, [ebx+ecx*2]
call    edi
xor     ecx, ecx
test    ax, ax
setl    cl
lea     eax, [ecx+ebx*2]
push    eax
movsx   eax, word ptr [ebp+var_4]
push    eax
push    offset dword_2782a814
push    esi
call    sub_277b9711
mov     eax, [esi+174h]
add     esp, 18h
cmp     eax, 1
jnz     loc_277c496a
and     dword ptr [esi+174h], 0
push    offset dword_2782a7f0
push    esi
call    sub_277b9711
pop     ecx
pop     ecx
mov     eax, [ebp+var_c]
cmp     eax, [esi+0a0h]
jnz     loc_277c4a51
mov     edi, [ebp+msg]
jmp     loc_277b811d
mov     ebx, [esi+0a0h]
cmp     word ptr [esi+0feh], 0
push    1
mov     [ebp+var_c], ebx
pop     edi
jnz     loc_277c4992
mov     eax, [esi+8ch]
mov     ecx, [ebp+lparam]
cdq
sub     eax, edx
sar     eax, 1
shr     ecx, 10h
cmp     cx, ax
jnb     loc_277c4984
mov     [esi+174h], edi
test    ebx, ebx
jz      short loc_277b826c
push    ebx
call    ds:setcapture
mov     eax, [ebp+lparam]
mov     edi, ds:getkeystate
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    11h
call    edi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
lea     ebx, [ebx+ecx*2]
call    edi
xor     ecx, ecx
test    ax, ax
setl    cl
lea     eax, [ecx+ebx*2]
push    eax
push    1
pop     ebx
push    ebx
push    offset dword_2782a7fc
push    esi
call    sub_277b9711
mov     edi, [esi+0a0h]
add     esp, 18h
test    edi, edi
jz      short loc_277b82d6
call    ds:getcapture
cmp     eax, edi
jnz     loc_277c49b5
cmp     [ebp+var_c], edi
jnz     loc_277c49bd
jmp     loc_277b821f
cmp     edi, 2114h
jb      loc_277b811d
cmp     edi, 2115h
ja      loc_277b811d
mov     eax, [esi+174h]
test    eax, eax
jz      short loc_277b833c
cmp     word ptr [ebp+wparam], 8
jz      short loc_277b833c
push    eax
mov     ecx, esi
push    dword ptr [esi+0d8h]
call    sub_277c3c68
mov     edx, [esi+0c0h]
or      dword ptr [esi+168h], 2
lea     ecx, [esi+0c0h]
lea     edi, [esi+168h]
push    eax
push    ecx
call    dword ptr [edx+1ch]
and     dword ptr [edi], 0fffffffdh
xor     eax, eax
jmp     loc_277b8146
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
xor     ebx, ebx
push    edi
push    ebx
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     edi, [ebp+msg]
mov     esi, eax
cmp     esi, ebx
jz      short loc_277b8369
cmp     edi, 200h
jnb     short loc_277b83aa
cmp     edi, 0ah
jbe     short loc_277b83bd
cmp     edi, 1ah
jbe     loc_277b848e
mov     eax, 113h
cmp     edi, eax
ja      loc_277b84ab
jz      loc_277c8390
cmp     edi, 55h
jz      loc_277c8382
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
call    ds:defwindowproca
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     edi, 209h
ja      short loc_277b8369
test    byte ptr [esi+9], 1
jz      short loc_277b8369
jmp     loc_277c8303
jz      loc_277b847d
mov     eax, edi
dec     eax
jz      short loc_277b83f3
dec     eax
jnz     short def_277b84e3
cmp     esi, ebx
jz      loc_277b8626
cmp     [esi+18h], ebx
jnz     loc_277c8334
push    esi
call    ds:localfree
push    ebx
push    ebx
push    [ebp+hwnd]
call    ds:setwindowlonga
jmp     loc_277b8626
push    5ch
push    40h
call    ds:localalloc
mov     esi, eax
cmp     esi, ebx
jz      loc_277c833d
push    esi
push    ebx
push    [ebp+hwnd]
call    ds:setwindowlonga
mov     edi, [ebp+lparam]
push    edi
push    [ebp+hwnd]
push    esi
call    sub_277b6303
test    byte ptr [edi+2dh], 2
jnz     loc_277c8345
push    5
mov     dword ptr [esi+20h], 0ah
pop     eax
mov     [esi+24h], ebx
push    ebx
push    esi
mov     dword ptr [esi+28h], 64h
mov     [esi+2ch], ebx
mov     [esi+18h], ebx
mov     [esi+30h], ebx
mov     dword ptr [esi+3ch], 3
mov     [esi+40h], ebx
mov     dword ptr [esi+44h], 1
mov     dword ptr [esi+48h], 2
mov     [esi+4ch], eax
mov     [esi+50h], eax
mov     dword ptr [esi+54h], 14h
call    sub_277b86dd
push    esi
call    sub_277b8804
jmp     loc_277b8626
push    1
push    ebx
push    [ebp+hwnd]
call    ds:invalidaterect
jmp     loc_277b8626
jz      loc_277c834e
cmp     edi, 0fh
jnz     def_277b84e3
push    [ebp+wparam]
push    esi
call    sub_277b8a80
jmp     loc_277b8626
mov     eax, 2a3h
cmp     edi, eax
jbe     short loc_277b84ea
mov     eax, 465h
cmp     edi, eax
jbe     loc_277b85fb
mov     eax, 2005h
cmp     edi, eax
ja      loc_277b86cc
jz      loc_277c860e
lea     eax, [edi-466h]
cmp     eax, 0ah
ja      def_277b84e3
jmp     ds:jpt_277b84e3[eax*4]
jz      loc_277c84db
mov     eax, edi
sub     eax, 200h
jz      loc_277c84cd
dec     eax
jz      short loc_277b8570
dec     eax
jnz     def_277b84e3
mov     eax, [esi+18h]
cmp     eax, ebx
jnz     loc_277c845a
call    ds:getcapture
cmp     eax, [ebp+hwnd]
jnz     loc_277b8626
push    ebx
push    ebx
push    esi
call    sub_277c3ae0
call    ds:releasecapture
push    1
pop     edi
push    edi
push    [ebp+hwnd]
call    ds:killtimer
cmp     [esi+30h], edi
mov     edi, ds:sendmessagea
jz      loc_277c846e
test    byte ptr [esi+8], 40h
push    dword ptr [esi]
movzx   eax, word ptr [esi+2ch]
jnz     loc_277c8480
shl     eax, 10h
or      al, 8
push    eax
push    115h
push    dword ptr [esi+4]
call    edi
jmp     loc_277b8626
mov     eax, [esi+18h]
push    1
pop     edi
cmp     eax, ebx
mov     [ebp+wparam], edi
jnz     loc_277c8490
push    [ebp+hwnd]
call    ds:setcapture
push    esi
call    sub_277c3a67
mov     eax, [esi+30h]
cmp     eax, ebx
ja      loc_277c84a4
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277c3aa1
sub     eax, ebx
jz      loc_277c84c5
dec     eax
jz      loc_277c84bb
dec     eax
jnz     short loc_277b85cd
push    ebx
mov     [esi+34h], ebx
push    edi
push    esi
call    sub_277c3ae0
cmp     [ebp+wparam], ebx
jz      short loc_277b8626
push    ebx
push    212h
push    offset keyname
push    offset appname
call    ds:getprofileinta
push    eax
push    edi
push    [ebp+hwnd]
call    ds:settimer
push    esi
call    sub_277c3b78
jmp     short loc_277b8626
jz      short loc_277b860e
cmp     edi, 318h
jz      loc_277b849d
jmp     def_277b84e3
mov     eax, [ebp+lparam]
push    esi
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [esi+24h], ecx
mov     [esi+28h], eax
call    sub_277b888a
xor     eax, eax
jmp     loc_277b83a3
push    ebx
push    dword ptr [esi+24h]
movsx   edi, word ptr [ebp+lparam]
push    dword ptr [esi+28h]
push    esi
call    sub_277b88f4
push    ebx
push    dword ptr [esi+24h]
test    eax, eax
push    edi
push    esi
jl      loc_277c854b
call    sub_277b88f4
test    eax, eax
jl      short loc_277b868a
push    ebx
push    dword ptr [esi+28h]
push    edi
push    esi
call    sub_277b88f4
test    eax, eax
jg      short loc_277b868f
mov     eax, [esi+2ch]
push    esi
mov     [ebp+hwnd], eax
mov     [esi+2ch], edi
call    sub_277b8804
push    ebx
push    0fffffffch
push    dword ptr [esi]
push    800eh
call    sub_277b8949
mov     eax, [ebp+hwnd]
jmp     loc_277b83a3
mov     edi, [esi+24h]
jmp     short loc_277b8655
mov     edi, [esi+28h]
jmp     short loc_277b8664
mov     edi, [ebp+wparam]
cmp     edi, ebx
jz      short loc_277b8626
cmp     edi, 3
jnb     loc_277c8590
cmp     edi, ebx
mov     [esi+3ch], edi
jle     short loc_277b86c4
mov     eax, [ebp+lparam]
lea     ecx, [esi+40h]
mov     edx, [eax]
add     eax, 8
mov     [ecx], edx
mov     edx, [eax-4]
mov     [ecx+4], edx
add     ecx, 8
dec     edi
jnz     short loc_277b86b1
push    1
pop     eax
jmp     loc_277b83a3
cmp     edi, 2006h
jnz     def_277b84e3
jmp     loc_277c861c
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+hwnd]
mov     eax, [esi+18h]
mov     [esi+18h], edi
test    edi, edi
mov     [ebp+arg_0], eax
jnz     short loc_277b8702
push    esi
call    sub_277b872d
mov     edi, [esi+18h]
cmp     [ebp+arg_0], 0
mov     ebx, offset sub_277e225e
jnz     loc_277c810e
and     dword ptr [esi+30h], 0
test    edi, edi
jnz     loc_277c8127
push    esi
call    sub_277b8740
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    esi
mov     esi, [esp+4+arg_0]
test    byte ptr [esi+8], 10h
jnz     loc_277c7d1c
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 28h
and     [ebp+var_4], 0
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    ebx
and     dword ptr [ebx+1ch], 0fffffff7h
call    sub_277b87f0
mov     eax, [ebx+8]
mov     edi, 800000h
mov     esi, eax
mov     ecx, [ebx+18h]
and     esi, edi
sub     esi, edi
neg     esi
sbb     esi, esi
inc     esi
test    ecx, ecx
jnz     loc_277c7d2e
and     [ebp+arg_0], 0
cmp     [ebp+arg_0], 0
jnz     loc_277c7d42
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getwindowrect
mov     eax, [ebp+rect.bottom]
mov     edi, [ebp+rect.right]
sub     eax, [ebp+rect.top]
sub     edi, [ebp+rect.left]
mov     [ebp+cy], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx+4]
call    ds:screentoclient
mov     edx, [ebp+rect.left]
cmp     [ebp+arg_0], 0
lea     ecx, [edi+edx]
mov     [ebp+rect.right], ecx
jnz     loc_277c7dc7
test    byte ptr [ebx+8], 40h
jnz     short loc_277b87d5
mov     eax, dword_2782a074
lea     eax, [eax+esi*2]
mov     [ebp+arg_0], eax
mov     edi, [ebp+arg_0]
push    34h
push    [ebp+cy]
push    edi
push    [ebp+rect.top]
push    edx
push    0
push    dword ptr [ebx]
call    ds:setwindowpos
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+18h]
test    eax, eax
jnz     loc_277c7cec
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, dword ptr [ebp+lcdata]
push    edi
lea     eax, [ebp+string]
push    esi
mov     edi, [esi+2ch]
mov     [ebp+var_4], eax
call    sub_277b87f0
xor     ebx, ebx
cmp     [esi+18h], ebx
jnz     loc_277c7fcb
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    esi
mov     esi, ecx
call    sub_277b885f
mov     ecx, esi
call    sub_277b8928
mov     ecx, esi
call    sub_277b899b
movsx   eax, word ptr [esi+0fch]
push    eax
lea     ecx, [esi+11ch]
call    sub_277b64fd
push    1
pop     eax
pop     esi
retn
mov     eax, [ecx+0f8h]
cmp     eax, [ecx+0f4h]
jz      loc_277c4b42
push    0a0000h
push    0
push    465h
push    dword ptr [ecx+0a0h]
call    ds:sendmessagea
retn
push    ecx
push    ebx
push    ebp
push    esi
mov     esi, [esp+10h+arg_0]
push    edi
xor     ebp, ebp
mov     edi, [esi+24h]
mov     ebx, [esi+28h]
push    ebp
push    edi
push    ebx
push    esi
mov     [esp+24h+var_4], 1
call    sub_277b88f4
test    eax, eax
jl      loc_277c7e44
test    byte ptr [esi+8], 1
jnz     loc_277c7e4f
push    ebp
push    edi
push    dword ptr [esi+2ch]
push    esi
call    sub_277b88f4
test    eax, eax
jl      loc_277c7e87
push    ebp
push    ebx
push    dword ptr [esi+2ch]
push    esi
call    sub_277b88f4
test    eax, eax
jg      loc_277c7e8f
mov     [esp+14h+var_4], ebp
mov     eax, [esp+14h+var_4]
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn    4
push    ebp
mov     ebp, esp
cmp     [ebp+arg_c], 2
push    1
pop     eax
jz      loc_277c7e2d
mov     ecx, [ebp+arg_0]
test    byte ptr [ecx+1ch], 4
jnz     loc_277c7e24
mov     ecx, [ebp+arg_4]
cmp     ecx, [ebp+arg_8]
jle     short loc_277b891d
pop     ebp
retn    10h
jge     short loc_277b8924
or      eax, 0ffffffffh
jmp     short loc_277b8919
xor     eax, eax
jmp     short loc_277b8919
mov     ax, [ecx+184h]
inc     ax
movzx   eax, ax
push    eax
push    0
push    467h
push    dword ptr [ecx+0a0h]
call    ds:sendmessagea
retn
mov     eax, dword_2782a850
test    eax, eax
jz      short loc_277b896c
cmp     eax, 1
jz      short locret_277b8969
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    eax
retn    10h
push    offset auser32_0
call    ds:getmodulehandlea
test    eax, eax
jz      short loc_277b898c
push    offset anotifywinevent
push    eax
call    ds:getprocaddress
mov     dword_2782a850, eax
mov     eax, dword_2782a850
test    eax, eax
jz      loc_277c9317
jmp     short loc_277b8952
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ecx+0f0h]
and     [ebp+lparam], 0
movsx   edx, word ptr [ecx+0dch]
mov     [ebp+var_c], eax
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
mov     [ebp+var_8], edx
push    eax
push    2
push    46bh
push    dword ptr [ecx+0a0h]
call    ds:sendmessagea
leave
retn
sub     [esp+arg_0], 24h
jmp     loc_277b7e77
sub     [esp+arg_0], 24h
jmp     loc_277b7eac
sub     [esp+arg_0], 1ch
jmp     loc_277b7eac
sub     [esp+arg_0], 0c0h
push    ebp
mov     ebp, esp
push    [ebp+arg_20]
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b52e2
pop     ebp
retn    24h
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277b535a
retn    10h
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     ax, [eax+58h]
mov     [ecx], ax
xor     eax, eax
retn    8
sub     [esp+arg_0], 28h
jmp     loc_277b7e77
push    ebp
mov     ebp, esp
push    2
push    [ebp+hdc]
call    ds:getdevicecaps
push    [ebp+arg_c]
mov     ecx, [ebp+arg_0]
cmp     eax, 5
push    [ebp+hdc]
jz      loc_277c48c6
call    sub_277b55c8
pop     ebp
retn    1ch
push    ebp
mov     ebp, esp
sub     esp, 60h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
mov     esi, ds:iswindowenabled
mov     eax, [ebx+24h]
push    edi
cmp     eax, [ebx+28h]
jz      loc_277c8184
push    dword ptr [ebx]
call    esi
test    eax, eax
jz      loc_277c8184
mov     [ebp+arg_0], 1
mov     eax, [ebx+18h]
test    eax, eax
jnz     loc_277c818d
mov     eax, [ebp+arg_4]
test    eax, eax
jz      loc_277c81af
mov     [ebp+hdc], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
mov     eax, [ebx+1ch]
test    al, 8
jnz     loc_277c81c0
lea     esi, [ebp+rect]
lea     edi, [ebp+var_10]
movsd
movsd
test    byte ptr [ebx+8], 40h
movsd
movsd
jnz     loc_277c81f2
xor     eax, eax
xor     ecx, ecx
test    byte ptr [ebx+1ch], 1
jnz     loc_277c828b
cmp     [ebp+arg_0], eax
mov     edi, 100h
jz      loc_277c8295
cmp     dword_27829f4c, eax
jnz     loc_277c829c
cmp     dword_2782a854, eax
jnz     loc_277c829c
mov     eax, [ebp+rect.bottom]
mov     edx, [ebp+rect.top]
add     eax, edx
mov     esi, ds:drawframecontrol
cdq
sub     eax, edx
push    ecx
sar     eax, 1
mov     [ebp+var_10.bottom], eax
lea     eax, [ebp+var_10]
push    3
push    eax
push    [ebp+hdc]
call    esi
test    byte ptr [ebx+1ch], 2
push    1
pop     ecx
jnz     loc_277c82ae
xor     eax, eax
cmp     [ebp+arg_0], eax
jz      loc_277c82b8
cmp     dword_27829f4c, eax
jnz     loc_277c82bf
cmp     dword_2782a854, eax
jnz     loc_277c82bf
mov     eax, [ebp+rect.bottom]
mov     edx, eax
sub     edx, [ebp+var_10.bottom]
mov     [ebp+var_10.bottom], eax
add     [ebp+var_10.top], edx
push    ecx
lea     eax, [ebp+var_10]
push    3
push    eax
push    [ebp+hdc]
call    esi
cmp     [ebp+arg_4], 0
jz      loc_277c82d1
pop     edi
pop     esi
pop     ebx
leave
retn    8
sub     [esp+arg_0], 28h
jmp     loc_277b7eac
push    0
add     ecx, 11ch
call    sub_277b4f96
retn
sub     [esp+arg_0], 2ch
jmp     loc_277b7e77
sub     [esp+arg_0], 2ch
jmp     loc_277b7eac
push    esi
mov     esi, ecx
mov     ecx, [esi+38h]
push    0
lea     eax, [esi+38h]
push    eax
call    dword ptr [ecx+0ch]
mov     ecx, esi
call    sub_277b5881
pop     esi
retn
push    esi
mov     esi, ecx
call    sub_277b8c12
test    [esp+4+arg_0], 1
jz      short loc_277b8c0c
test    esi, esi
jz      short loc_277b8c0c
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    ebx
push    esi
mov     esi, ecx
push    edi
mov     edi, ds:deleteobject
mov     eax, [esi+18ch]
and     word ptr [esi+1a0h], 0
lea     ebx, [esi+0c8h]
mov     dword ptr [esi], offset off_277b8f90
test    eax, eax
mov     dword ptr [esi+1ch], offset off_277b8f78
mov     dword ptr [esi+38h], offset off_277b8f18
mov     dword ptr [esi+3ch], offset off_277b8ef8
mov     dword ptr [esi+40h], offset off_277b8ec8
mov     dword ptr [esi+44h], offset off_277b8ea0
mov     dword ptr [esi+48h], offset off_277b8e60
mov     dword ptr [esi+4ch], offset off_277b8e40
mov     dword ptr [esi+50h], offset off_277b8e18
mov     dword ptr [esi+54h], offset off_277b8df0
mov     dword ptr [esi+58h], offset off_277b8de0
mov     dword ptr [esi+5ch], offset off_277b8dd0
mov     dword ptr [esi+60h], offset off_277b8db8
mov     dword ptr [esi+64h], offset off_277b8da0
mov     dword ptr [esi+68h], offset off_277b8d90
mov     dword ptr [esi+0c0h], offset off_277b9018
mov     dword ptr [esi+0c4h], offset off_277b8d80
mov     dword ptr [ebx], offset off_277b8d60
mov     dword ptr [esi+0d0h], offset off_277b8d48
mov     dword ptr [esi+0d4h], offset off_277b8d30
jnz     loc_277c4773
mov     eax, [esi+190h]
test    eax, eax
jnz     loc_277c477b
mov     eax, [esi+194h]
test    eax, eax
jnz     loc_277c4783
push    dword ptr [esi+0e4h]
mov     edi, ds:sysfreestring
call    edi
push    dword ptr [esi+19ch]
call    edi
push    dword ptr [esi+198h]
call    edi
lea     ecx, [esi+11ch]
call    sub_277b5898
mov     eax, esi
mov     ecx, esi
neg     eax
sbb     eax, eax
and     eax, ebx
mov     dword ptr [eax], offset off_277b6560
call    sub_277b58fd
pop     edi
pop     esi
pop     ebx
retn
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     eax, [esi]
cmp     eax, ds:dword_277b6008
jnz     loc_277c6a35
push    10h
mov     edi, offset dword_277b6008
pop     ecx
xor     eax, eax
repe cmpsb
jnz     loc_277c6a35
mov     eax, [ebp+arg_0]
lea     edx, [ebp+arg_4]
push    edx
push    [ebp+arg_10]
mov     ecx, [eax]
push    0
push    eax
call    dword ptr [ecx+18h]
test    eax, eax
jl      short loc_277b9219
push    [ebp+arg_14]
mov     eax, [ebp+arg_4]
push    [ebp+arg_c]
mov     ecx, [eax]
push    [ebp+arg_8]
push    eax
call    dword ptr [ecx+28h]
mov     esi, eax
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, esi
pop     edi
pop     esi
pop     ebp
retn    18h
push    esi
push    edi
call    sub_277b4768
mov     esi, [esp+8+arg_0]
mov     ecx, dword_2782a228
mov     edx, ecx
mov     edi, [esp+8+arg_4]
mov     eax, [esi]
imul    eax, 9ech
sar     edx, 1
add     eax, edx
cdq
idiv    ecx
mov     ecx, dword_2782a22c
mov     edx, ecx
sar     edx, 1
mov     [edi], eax
mov     eax, [esi+4]
imul    eax, 9ech
add     eax, edx
cdq
idiv    ecx
mov     [edi+4], eax
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 20h
test    byte ptr [ebp+arg_4], 1
push    ebx
push    esi
push    edi
jz      loc_277c6768
mov     ebx, [ebp+arg_0]
mov     eax, [ebx+84h]
mov     ecx, eax
shr     ecx, 7
test    cl, 1
jnz     loc_277b934e
or      al, 80h
mov     [ebx+84h], eax
lea     eax, [ebp+var_8]
push    eax
push    [ebp+arg_8]
call    sub_277b4726
mov     eax, [ebx+54h]
pop     ecx
mov     edi, [ebx+50h]
pop     ecx
lea     esi, [ebx-38h]
lea     ecx, [ebp+var_8]
mov     [ebp+var_c], eax
push    ecx
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+64h]
xor     ecx, ecx
mov     [ebp+arg_4], eax
cmp     eax, ecx
jz      short loc_277b92d1
mov     eax, [ebp+var_8]
mov     [ebx+50h], eax
mov     eax, [ebp+var_4]
mov     [ebx+54h], eax
cmp     edi, [ebx+50h]
jnz     short loc_277b9352
mov     eax, [ebp+var_c]
cmp     eax, [ebx+54h]
jnz     short loc_277b9352
cmp     [ebx+74h], ecx
jnz     short loc_277b9325
mov     eax, [ebx+78h]
shr     eax, 1
test    al, 1
jz      loc_277c6728
cmp     [ebx+68h], ecx
jz      short loc_277b9325
lea     esi, [ebx+58h]
lea     edi, [ebp+var_20]
movsd
movsd
movsd
movsd
mov     eax, [ebp+var_20]
add     eax, [ebx+50h]
mov     [ebp+var_18], eax
mov     eax, [ebx+54h]
add     eax, [ebp+var_1c]
mov     [ebp+var_14], eax
mov     eax, [ebx+74h]
test    eax, eax
jnz     short loc_277b931b
mov     eax, [ebx+3ch]
mov     ecx, [eax]
lea     edx, [ebp+var_20]
push    edx
push    eax
call    dword ptr [ecx+38h]
test    byte ptr [ebx+78h], 2
jz      loc_277c6752
mov     eax, [ebp+arg_4]
and     byte ptr [ebx+84h], 7fh
neg     eax
sbb     eax, eax
and     eax, 7fffbffbh
add     eax, 80004005h
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     eax, eax
jmp     short loc_277b9347
or      dword ptr [ebx+78h], 1
jmp     short loc_277b92de
push    ebp
mov     ebp, esp
sub     esp, 300h
push    esi
push    edi
mov     edi, 100h
lea     eax, [ebp+multibytestr]
push    edi
push    eax
movzx   eax, [ebp+arg_4]
mov     esi, ecx
push    eax
mov     eax, [esi]
call    dword ptr [eax+28h]
push    eax
call    ds:loadstringa
lea     eax, [ebp+widecharstr]
push    edi
push    eax
lea     eax, [ebp+multibytestr]
push    0ffffffffh
push    eax
push    0
push    0
call    ds:multibytetowidechar
push    [ebp+arg_8]
mov     eax, [esi]
lea     ecx, [ebp+widecharstr]
push    ecx
mov     ecx, esi
push    [ebp+arg_0]
call    dword ptr [eax+2ch]
pop     edi
pop     esi
leave
retn    0ch
cmp     ds:word_277b6148, 0
push    ebx
push    esi
mov     ebx, ecx
jz      loc_277c6448
mov     eax, hmodule
test    eax, eax
jz      short loc_277b93d6
pop     esi
pop     ebx
retn
mov     esi, offset criticalsection
push    esi
call    ds:entercriticalsection
cmp     word_2782a1f4, 0
jz      loc_277c6452
mov     word_2782a1f4, 1
push    esi
call    ds:leavecriticalsection
push    0
call    sub_277b3cfd
jmp     short loc_277b93d3
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
mov     esi, [ebp+lprcsrc1]
push    edi
lea     edi, [ebx+50h]
movsd
movsd
movsd
movsd
cmp     dword ptr [ebx+60h], 0
jz      loc_277b956c
mov     esi, [ebx+7ch]
mov     edi, ds:setwindowrgn
shr     esi, 5
and     esi, 1
cmp     [ebp+lprcsrc2], 0
jz      short loc_277b9467
push    [ebp+lprcsrc2]
lea     eax, [ebp+rcdst]
push    [ebp+lprcsrc1]
push    eax
call    ds:intersectrect
test    eax, eax
jz      short loc_277b9467
push    [ebp+lprcsrc1]
lea     eax, [ebp+rcdst]
push    eax
call    ds:equalrect
test    eax, eax
jz      loc_277c6872
test    esi, esi
jnz     loc_277b9575
mov     eax, [ebx+74h]
and     [ebp+point.y], 0
and     [ebp+point.x], 0
test    eax, eax
jnz     short loc_277b9481
mov     eax, [ebx+60h]
lea     ecx, [ebp+point]
push    ecx
push    eax
call    ds:getparent
push    eax
call    ds:clienttoscreen
mov     eax, [ebx+74h]
test    eax, eax
jnz     short loc_277b949d
mov     eax, [ebx+60h]
lea     ecx, [ebp+rect]
push    ecx
push    eax
call    ds:getwindowrect
mov     eax, [ebp+point.y]
neg     eax
push    eax
mov     eax, [ebp+point.x]
neg     eax
push    eax
lea     eax, [ebp+rect]
push    eax
call    ds:offsetrect
mov     eax, [ebp+lprcsrc1]
mov     [ebp+lprcsrc2], 14h
mov     edx, [eax]
cmp     [ebp+rect.left], edx
jnz     short loc_277b94de
mov     ecx, [ebp+rect.top]
cmp     ecx, [eax+4]
jnz     short loc_277b94de
mov     [ebp+lprcsrc2], 16h
mov     ecx, [ebp+rect.right]
mov     esi, [eax+8]
sub     ecx, [ebp+rect.left]
sub     esi, edx
cmp     ecx, esi
jnz     short loc_277b9501
mov     ecx, [eax+0ch]
mov     edi, [ebp+rect.bottom]
sub     ecx, [eax+4]
sub     edi, [ebp+rect.top]
cmp     edi, ecx
jnz     short loc_277b9501
or      [ebp+lprcsrc2], 1
mov     ecx, [ebx+74h]
test    ecx, ecx
jnz     short loc_277b950b
mov     ecx, [ebx+60h]
push    [ebp+lprcsrc2]
mov     [ebp+lprcsrc1], ecx
mov     ecx, [eax+4]
mov     eax, [eax+0ch]
sub     eax, ecx
push    eax
push    esi
mov     esi, ds:setwindowpos
push    ecx
push    edx
push    0
push    [ebp+lprcsrc1]
call    esi
mov     eax, [ebx+74h]
test    eax, eax
jnz     short loc_277b9534
mov     eax, [ebx+60h]
lea     edi, [ebx+50h]
push    edi
push    eax
call    ds:getwindowrect
mov     eax, [ebp+point.y]
neg     eax
push    eax
mov     eax, [ebp+point.x]
neg     eax
push    eax
push    edi
call    ds:offsetrect
mov     eax, [ebx+60h]
xor     edx, edx
cmp     eax, edx
jz      short loc_277b956c
mov     ecx, [ebx+74h]
cmp     ecx, edx
jnz     short loc_277b9564
mov     ecx, eax
cmp     ecx, eax
jnz     loc_277c68b1
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    0ch
mov     eax, [ebx+74h]
test    eax, eax
jnz     short loc_277b957f
mov     eax, [ebx+60h]
push    1
push    0
push    eax
call    edi
and     dword ptr [ebx+7ch], 0ffffffdfh
jmp     loc_277b946f
push    ebp
mov     ebp, esp
sub     esp, 28ch
push    ebx
lea     eax, [ebp+pperrinfo]
push    esi
mov     esi, ecx
push    eax
call    ds:createerrorinfo
xor     ebx, ebx
cmp     eax, ebx
jl      loc_277c6a49
mov     eax, [esi+14h]
push    edi
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+28h]
call    ds:lstrlena
lea     edi, [eax+eax+2]
lea     ecx, [ebp+lpwidecharstr]
push    edi
call    sub_277b37aa
mov     eax, [esi+14h]
push    edi
push    [ebp+lpwidecharstr]
mov     edi, ds:multibytetowidechar
mov     eax, off_278286a4[eax*8]
push    0ffffffffh
push    dword ptr [eax+28h]
push    ebx
push    ebx
call    edi
mov     edx, [esi+14h]
mov     eax, [ebp+lpwidecharstr]
mov     [ebp+var_c], eax
mov     eax, [ebp+pperrinfo]
mov     edx, off_278286a4[edx*8]
mov     ecx, [eax]
push    dword ptr [edx+20h]
push    eax
call    dword ptr [ecx+0ch]
mov     ecx, [esi+14h]
mov     eax, [ebp+pperrinfo]
mov     ecx, off_278286a4[ecx*8]
mov     eax, [eax]
mov     ecx, [ecx+28h]
neg     ecx
sbb     ecx, ecx
and     ecx, [ebp+var_c]
push    ecx
push    [ebp+pperrinfo]
call    dword ptr [eax+18h]
mov     eax, [ebp+pperrinfo]
push    [ebp+arg_8]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+1ch]
mov     eax, [ebp+pperrinfo]
push    [ebp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
lea     eax, [ebp+widecharstr]
push    100h
push    eax
mov     eax, [esi+14h]
push    0ffffffffh
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+4]
push    ebx
push    ebx
call    edi
mov     eax, [ebp+pperrinfo]
lea     edx, [ebp+widecharstr]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
mov     eax, [ebp+pperrinfo]
lea     edx, [ebp+perrinfo]
push    edx
push    offset dword_277b9828
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
cmp     eax, ebx
jl      short loc_277b96a2
push    [ebp+perrinfo]
push    ebx
call    ds:seterrorinfo
mov     eax, [ebp+perrinfo]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, [ebp+pperrinfo]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
cmp     [ebp+lpwidecharstr], ebx
jz      short loc_277b96bd
test    [ebp+var_10], 1
jnz     loc_277c6a51
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    esi
mov     esi, ecx
push    edi
mov     eax, [esi+0ach]
test    eax, eax
jnz     loc_277c6d17
mov     eax, [esi+0a0h]
lea     edi, [esi+0a0h]
test    eax, eax
jz      loc_277c6d2f
push    eax
call    ds:iswindowvisible
test    eax, eax
jz      loc_277c6d2f
push    [esp+8+berase]
push    [esp+0ch+lprect]
push    dword ptr [edi]
call    ds:invalidaterect
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 218h
push    ebx
push    edi
mov     edi, [ebp+arg_4]
lea     eax, [ebp+arg_8]
mov     edx, [edi+4]
mov     ecx, edx
shl     ecx, 4
test    edx, edx
lea     ebx, [ebp+ecx+var_228]
jle     loc_277b97bf
push    esi
mov     esi, [edi+8]
lea     ecx, [ebx+8]
mov     [ebp+var_4], esi
mov     [ebp+var_8], edx
jmp     short loc_277b9765
push    4
pop     edx
jmp     short loc_277b9789
mov     dx, [eax]
add     eax, 4
mov     [ecx], dx
add     [ebp+var_4], 2
sub     ebx, 10h
sub     ecx, 10h
dec     [ebp+var_8]
jz      short loc_277b97be
mov     edx, [ebp+var_4]
mov     si, [edx]
cmp     si, 0ch
jz      loc_277c6cb4
test    si, 4000h
mov     [ebx], si
jnz     short loc_277b9748
movzx   edx, si
movzx   edx, ds:byte_277b6270[edx]
cmp     edx, 2
jz      short loc_277b974d
cmp     edx, 4
jnz     short loc_277b97a5
cmp     si, dx
jz      loc_277c6cc8
mov     edx, [eax]
add     eax, 4
mov     [ecx], edx
jmp     short loc_277b9756
cmp     si, 5
jz      short loc_277b97b5
cmp     si, 7
jnz     loc_277c6cd5
fld     qword ptr [eax]
add     eax, 8
fstp    qword ptr [ecx]
jmp     short loc_277b9756
pop     esi
lea     eax, [ebp+var_218]
mov     [ebp+var_18], eax
mov     eax, [edi+4]
and     [ebp+var_14], 0
and     [ebp+var_c], 0
mov     [ebp+var_10], eax
lea     eax, [ebp+var_18]
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [edi]
lea     ecx, [eax+20h]
call    sub_277b97eb
pop     edi
pop     ebx
leave
retn
push    ebx
push    esi
mov     esi, ecx
push    edi
xor     edi, edi
mov     ax, [esi+0ah]
cmp     ax, di
jz      short loc_277b9821
cmp     ax, 1
jnz     loc_277c6c15
push    edi
push    edi
mov     esi, [esi+4]
push    edi
push    [esp+18h+arg_4]
mov     eax, [esi]
push    1
push    edi
push    offset dword_277b6008
push    [esp+28h+arg_0]
push    esi
call    dword ptr [eax+18h]
pop     edi
pop     esi
pop     ebx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     [esi+4], edi
jz      loc_277c938a
mov     eax, [esi]
cmp     eax, 0ffffffffh
jz      loc_277c9399
cmp     eax, edi
push    ebx
jz      short loc_277b9883
push    eax
call    ds:getparent
mov     ebx, eax
test    ebx, ebx
jz      short loc_277b9883
push    4
push    dword ptr [esi]
call    ds:getwindow
cmp     ebx, eax
jz      short loc_277b9883
push    dword ptr [esi]
call    ds:getdlgctrlid
mov     edi, eax
mov     eax, [ebp+lparam]
test    eax, eax
jz      loc_277c9391
mov     ecx, [esi]
mov     [eax+4], edi
mov     [eax], ecx
mov     ecx, [ebp+arg_4]
mov     [eax+8], ecx
pop     ebx
push    eax
push    edi
push    4eh
push    dword ptr [esi+4]
call    ds:sendmessagea
pop     edi
pop     esi
leave
retn    0ch
push    ecx
push    ebx
push    ebp
push    esi
mov     esi, ecx
xor     ebp, ebp
push    edi
mov     ebx, [esi+0b0h]
mov     eax, [esi+0a0h]
shr     ebx, 3
and     bl, 1
cmp     eax, ebp
jz      short loc_277b98db
push    3
push    eax
call    ds:getwindow
mov     [esp+14h+hwndinsertafter], eax
mov     eax, [esi+0b0h]
shr     eax, 1
test    al, 1
jz      loc_277c640d
mov     ecx, [esi+40h]
lea     eax, [esi+40h]
push    eax
call    dword ptr [ecx+14h]
cmp     eax, ebp
jl      short loc_277b993e
xor     eax, eax
mov     ecx, esi
test    bl, bl
setnz   al
add     eax, 0fffffffbh
push    eax
call    sub_277b48e2
cmp     eax, ebp
jl      short loc_277b993e
mov     eax, [esi+0a0h]
cmp     eax, ebp
jz      short loc_277b992a
push    13h
push    ebp
push    ebp
push    ebp
push    ebp
push    [esp+28h+hwndinsertafter]
push    eax
call    ds:setwindowpos
mov     eax, [esi+0a0h]
neg     eax
sbb     eax, eax
and     eax, 7fffbffbh
add     eax, 80004005h
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn
push    ebp
mov     ebp, esp
push    ecx
push    ecx
lea     eax, [ebp+var_8]
push    esi
push    eax
mov     esi, ecx
push    [ebp+arg_0]
call    sub_277b921f
pop     ecx
lea     eax, [esi+38h]
pop     ecx
lea     edx, [ebp+var_8]
mov     ecx, [eax]
push    edx
push    1
push    eax
call    dword ptr [ecx+44h]
xor     ecx, ecx
pop     esi
test    eax, eax
setnl   cl
mov     eax, ecx
leave
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, ecx
push    edi
mov     eax, [esi+38h]
test    eax, eax
jnz     short loc_277b99fd
mov     ecx, [esi+30h]
test    ecx, ecx
jz      short loc_277b999d
mov     edx, ecx
cmp     dword ptr [edx], 0
jz      short loc_277b999d
inc     eax
add     edx, 8
test    ecx, ecx
jnz     short loc_277b9990
inc     eax
lea     eax, [eax+eax*2]
shl     eax, 2
push    eax
push    0
push    dword_278282f0
call    ds:heapalloc
test    eax, eax
mov     [esi+38h], eax
jz      short loc_277b99fd
mov     edx, [esi+30h]
and     [ebp+var_4], 0
test    edx, edx
mov     [ebp+var_8], edx
jz      short loc_277b99f3
xor     edi, edi
mov     ecx, [edx]
test    ecx, ecx
jz      short loc_277b99f3
mov     esi, [edx+4]
mov     [edi+eax], ecx
or      ecx, 800a0000h
inc     [ebp+var_4]
mov     [edi+eax+4], esi
mov     [edi+eax+8], ecx
add     edx, 8
add     edi, 0ch
cmp     [ebp+var_8], 0
jnz     short loc_277b99ca
mov     ecx, [ebp+var_4]
lea     ecx, [ecx+ecx*2]
and     dword ptr [eax+ecx*4], 0
pop     edi
pop     esi
leave
retn
mov     eax, ecx
mov     ecx, [esp+arg_0]
and     dword ptr [eax+0ch], 0
mov     [eax+4], ecx
mov     ecx, [esp+arg_8]
mov     dword ptr [eax], offset off_277b9ce8
mov     [eax+10h], ecx
mov     ecx, [esp+arg_4]
mov     dword ptr [eax+8], 1
mov     [eax+14h], ecx
retn    0ch
mov     eax, [esp+arg_0]
inc     dword ptr [eax+8]
mov     eax, [eax+8]
retn    4
push    ebx
push    esi
mov     esi, [esp+8+arg_4]
push    edi
mov     edi, [esp+0ch+arg_0]
cmp     esi, 0fffffd3bh
jz      loc_277c6492
cmp     esi, 0ffffffffh
jz      loc_277c6492
cmp     esi, 0fffffd3fh
jz      loc_277c649e
cmp     esi, 0ffffffffh
jz      loc_277c649e
mov     eax, [edi-3ch]
lea     ecx, [edi-3ch]
push    esi
call    dword ptr [eax+54h]
pop     edi
pop     esi
xor     eax, eax
pop     ebx
retn    8
cmp     [esp+arg_0], 0fffffd3fh
push    esi
mov     esi, ecx
jz      loc_277c794c
pop     esi
retn    4
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax-20h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, [ebp+arg_0]
push    [ebp+arg_4]
lea     esi, [edi-4ch]
mov     ecx, esi
call    sub_277b9aed
test    eax, eax
jl      short loc_277b9ae7
push    [ebp+arg_c]
mov     eax, [esi]
push    [ebp+arg_4]
push    esi
call    dword ptr [eax+44h]
test    eax, eax
jl      short loc_277b9ae7
cmp     [ebp+arg_8], 0
jnz     loc_277c68e7
mov     edi, [edi+5ch]
test    edi, edi
jnz     loc_277c68f0
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 18h
lea     eax, [ebp+var_8]
push    esi
add     ecx, 88h
push    eax
push    ecx
call    sub_277b921f
mov     eax, [ebp+var_8]
mov     esi, [ebp+arg_0]
pop     ecx
mov     [ebp+var_10], eax
mov     eax, [esi]
pop     ecx
lea     ecx, [ebp+var_18]
mov     [ebp+var_18], 3
push    ecx
push    offset aextentx_0
push    esi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277b9b3d
mov     eax, [ebp+var_4]
lea     ecx, [ebp+var_18]
mov     [ebp+var_10], eax
mov     eax, [esi]
push    ecx
push    offset aextenty_0
push    esi
call    dword ptr [eax+10h]
pop     esi
leave
retn    4
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+arg_4]
lea     ecx, [esi-50h]
call    sub_277b9b73
test    eax, eax
jl      short loc_277b9b6f
cmp     [esp+4+arg_8], 0
jz      short loc_277b9b62
and     dword ptr [esi+60h], 0fffffffeh
mov     esi, [esi+58h]
test    esi, esi
jnz     loc_277c68fb
xor     eax, eax
pop     esi
retn    0ch
push    esi
mov     esi, ecx
push    [esp+4+arg_0]
call    sub_277b9b91
test    eax, eax
jl      short loc_277b9b8d
push    [esp+4+arg_0]
mov     eax, [esi]
push    esi
call    dword ptr [eax+3ch]
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
mov     ebx, ecx
push    0
lea     ecx, [ebp+var_8]
mov     eax, [esi]
push    8
push    ecx
push    esi
mov     [ebp+var_8], 12344321h
mov     [ebp+var_4], 8
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277b9bde
lea     eax, [ebp+var_10]
add     ebx, 88h
push    eax
push    ebx
call    sub_277b921f
mov     eax, [esi]
pop     ecx
pop     ecx
push    0
lea     ecx, [ebp+var_10]
push    8
push    ecx
push    esi
call    dword ptr [eax+10h]
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esp+arg_0]
push    esi
push    [esp+4+arg_4]
lea     esi, [eax-50h]
mov     ecx, esi
call    sub_277b9c09
test    eax, eax
jl      short loc_277b9c05
push    [esp+4+arg_4]
mov     eax, [esi]
push    esi
call    dword ptr [eax+38h]
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, ecx
mov     eax, [esi]
push    0
lea     ecx, [ebp+var_8]
push    8
push    ecx
push    esi
call    dword ptr [eax+0ch]
test    eax, eax
jl      short loc_277b9c65
cmp     [ebp+var_8], 12344321h
jnz     loc_277c691a
cmp     [ebp+var_4], 8
jnz     loc_277c691a
mov     eax, [esi]
push    0
lea     ecx, [ebp+var_10]
push    8
push    ecx
push    esi
call    dword ptr [eax+0ch]
test    eax, eax
jl      short loc_277b9c65
add     edi, 88h
lea     eax, [ebp+var_10]
push    edi
push    eax
call    sub_277b4726
pop     ecx
xor     eax, eax
pop     ecx
pop     edi
pop     esi
leave
retn    4
sub     [esp+arg_0], 4
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi-4ch]
lea     ecx, [esi-4ch]
call    dword ptr [eax+74h]
or      dword ptr [esi+64h], 1
pop     esi
neg     eax
sbb     eax, eax
and     eax, 7fffbffbh
add     eax, 80004005h
retn    4
push    1
pop     eax
retn
mov     ecx, [esp+arg_0]
dec     dword ptr [ecx+8]
mov     eax, [ecx+8]
jnz     short locret_277b9cb1
test    ecx, ecx
jz      short loc_277b9caf
mov     eax, [ecx]
push    1
call    dword ptr [eax+1ch]
xor     eax, eax
retn    4
push    esi
mov     esi, ecx
call    sub_277b9cdc
test    [esp+4+arg_0], 1
jz      short loc_277b9cd6
test    esi, esi
jz      short loc_277b9cd6
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277b9ce8
retn
sub     [esp-4+arg_0], 0c0h
push    ebp
mov     ebp, esp
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b91bc
pop     ebp
retn    18h
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     ax, [eax+14h]
mov     [ecx], ax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     di, word ptr [ebp+bstrstring]
mov     ax, [esi+14h]
cmp     ax, di
mov     [ebp+arg_0], eax
jz      short loc_277b9dd1
push    dword ptr [esi+0a0h]
call    ds:sysallocstring
mov     [esi+14h], di
lea     edi, [esi-0c0h]
mov     ecx, edi
mov     [ebp+bstrstring], eax
call    sub_277b98af
mov     ebx, eax
test    ebx, ebx
jl      loc_277c54b8
xor     edi, edi
cmp     [esi+14h], di
jz      short loc_277b9da6
or      dword ptr [esi+0b0h], 0ffffffffh
cmp     [ebp+bstrstring], edi
jnz     loc_277c54d6
push    [ebp+bstrstring]
call    ds:sysfreestring
test    edi, edi
jl      loc_277c54e6
push    1
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
movsx   eax, word ptr [eax+1ah]
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    edi
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jnz     loc_277c54ed
mov     edx, [edi]
mov     eax, 17eh
push    eax
push    eax
push    800a017eh
mov     ecx, edi
call    dword ptr [edx+30h]
pop     edi
pop     esi
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     ax, [eax+16h]
mov     [ecx], ax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jnz     loc_277c5531
mov     edx, [edi]
mov     eax, 17eh
push    eax
push    eax
push    800a017eh
mov     ecx, edi
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
movsx   eax, word ptr [eax+1ch]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_4]
test    edi, edi
jl      short loc_277b9ec2
cmp     edi, 1
jg      short loc_277b9ec2
mov     esi, [esp+0ch+arg_0]
movsx   eax, di
push    eax
lea     ecx, [esi+2ch]
call    sub_277b64fd
mov     ebx, eax
test    ebx, ebx
jl      short loc_277b9eba
mov     [esi+1ch], di
or      dword ptr [esi-10h], 1
push    65h
lea     ecx, [esi-94h]
call    sub_277b4535
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, [esp+0ch+arg_0]
mov     edx, [eax-0c0h]
lea     ecx, [eax-0c0h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277b9ebc
push    ebp
mov     ebp, esp
sub     esp, 80h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     [esi+0a0h], edi
jnz     loc_277c55a2
mov     eax, [ebp+lpstring]
cmp     eax, edi
jz      loc_277c5603
cmp     [eax], di
jz      loc_277c5603
push    eax
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
push    edi
push    edi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+lpstring]
push    edi
push    edi
call    ds:widechartomultibyte
mov     ebx, [ebp+lpmultibytestr]
push    edi
push    80h
push    3
push    edi
push    1
push    80000000h
push    ebx
call    ds:createfilea
cmp     eax, 0ffffffffh
jz      loc_277c55ad
push    eax
call    ds:closehandle
push    ebx
push    edi
push    464h
push    dword ptr [esi-20h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277b9faa
push    [ebp+lpstring]
call    ds:sysallocstring
mov     [esi+0a0h], eax
cmp     [esi+14h], di
jnz     loc_277c55ca
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277b9fa1
test    [ebp+var_4], 1
jnz     loc_277c55d9
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    dword ptr [esi+0a0h]
call    ds:sysfreestring
lea     ecx, [esi-0c0h]
mov     eax, 8ba8h
mov     [esi+0a0h], edi
push    eax
mov     edx, [ecx]
push    eax
push    800a8ba8h
call    dword ptr [edx+30h]
cmp     [ebp+lpmultibytestr], edi
mov     esi, eax
jz      short loc_277b9fe4
test    [ebp+var_4], 1
jnz     loc_277c55ee
mov     eax, esi
jmp     short loc_277b9fa3
push    ebp
mov     ebp, esp
mov     eax, [ebp+lpname]
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jz      short loc_277b9ffd
cmp     byte ptr [eax], 0
jz      short loc_277ba012
push    [ebp+lptype]
push    eax
push    [ebp+hmodule]
call    ds:findresourcea
test    eax, eax
jnz     loc_277c95a6
xor     eax, eax
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
mov     eax, [ebp+lpfilename]
shr     eax, 10h
test    ax, ax
jz      loc_277c959f
lea     eax, [ebp+lpfilename]
push    eax
push    [ebp+lpfilename]
call    sub_277ba050
test    eax, eax
jz      loc_277c959f
push    [ebp+lpfilename]
push    0
push    eax
push    [ebp+arg_0]
call    sub_277ba0c6
pop     ebp
retn    8
push    ebx
push    esi
xor     esi, esi
push    edi
push    esi
push    80h
push    3
push    esi
push    1
push    80000000h
push    [esp+24h+lpfilename]
call    ds:createfilea
mov     edi, eax
cmp     edi, 0ffffffffh
jz      loc_277c9598
push    esi
push    edi
call    ds:getfilesize
mov     ecx, [esp+0ch+arg_4]
cmp     ecx, esi
jz      short loc_277ba08c
mov     [ecx], eax
push    esi
push    esi
push    esi
push    2
push    esi
push    edi
call    ds:createfilemappinga
push    edi
mov     edi, ds:closehandle
mov     ebx, eax
call    edi
cmp     ebx, 0ffffffffh
jz      loc_277c9598
push    esi
push    esi
push    esi
push    4
push    ebx
call    ds:mapviewoffile
push    ebx
mov     esi, eax
call    edi
mov     eax, esi
pop     edi
pop     esi
pop     ebx
retn    8
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     edi, [ebp+arg_0]
cmp     [edi+18h], esi
jz      loc_277ba183
push    edi
call    sub_277ba303
mov     eax, [ebp+arg_8]
mov     [edi+18h], esi
test    esi, esi
mov     [edi+14h], eax
jz      loc_277ba2e6
mov     ecx, [esi]
mov     eax, [esi+4]
add     esi, 4
add     esi, 4
mov     edx, [esi]
add     esi, 4
cmp     [ebp+arg_c], 0
jbe     short loc_277ba111
cmp     eax, [ebp+arg_c]
ja      loc_277ba2e0
cmp     ecx, 46464952h
jnz     loc_277ba2e0
cmp     edx, 20495641h
jnz     loc_277ba2e0
lea     eax, [eax+esi-4]
xor     edx, edx
cmp     esi, eax
mov     [ebp+arg_0], eax
mov     [ebp+arg_c], edx
jb      loc_277ba27f
cmp     [edi], edx
jz      loc_277ba2e0
cmp     [edi+45ch], edx
jz      loc_277ba2e0
cmp     [edi+464h], edx
jz      loc_277ba2e0
cmp     [edi+468h], edx
jz      loc_277ba2e0
cmp     [edi+46ch], edx
jz      loc_277ba2e0
push    edx
push    edi
mov     dword ptr [edi+1ch], 0ffffffd6h
call    sub_277ba4c9
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
mov     [edi+45ch], esi
mov     eax, [esi+10h]
mov     [edi], eax
mov     eax, [esi+20h]
mov     [edi+4], eax
mov     eax, [esi+24h]
mov     [edi+8], eax
mov     eax, [esi]
xor     edx, edx
mov     ecx, 3e8h
div     ecx
mov     [edi+0ch], eax
cmp     dword ptr [esi+14h], 0
jnz     loc_277ba2e0
cmp     dword ptr [esi+18h], 2
ja      loc_277ba2e0
xor     edx, edx
jmp     loc_277ba270
cmp     [edi+468h], edx
lea     eax, [edi+468h]
jnz     loc_277ba270
cmp     [edi+464h], edx
jz      loc_277ba270
mov     [eax], esi
cmp     dword ptr [esi], 28h
jnz     loc_277ba2e0
mov     eax, [esi+10h]
cmp     eax, edx
jz      short loc_277ba206
cmp     eax, 1
jnz     loc_277ba2e0
mov     eax, [esi+4]
cmp     eax, [edi+4]
jnz     loc_277ba2e0
mov     eax, [esi+8]
cmp     eax, [edi+8]
jnz     loc_277ba2e0
push    ebx
lea     eax, [edi+34h]
push    esi
push    eax
call    ds:rtlmovememory
movzx   ecx, word ptr [edi+42h]
mov     eax, [edi+38h]
push    8
imul    eax, ecx
add     eax, 1fh
pop     ecx
and     al, 0e0h
and     dword ptr [edi+48h], 0
cdq
idiv    ecx
imul    eax, [edi+3ch]
mov     [edi+30h], eax
jmp     loc_277ba1c6
mov     eax, [esi]
add     esi, ecx
sub     ebx, ecx
cmp     eax, 69766f6dh
jz      loc_277ba2ed
cmp     eax, 6c726468h
jz      short loc_277ba26e
cmp     eax, 6c727473h
jnz     short loc_277ba270
xor     ebx, ebx
inc     ebx
and     ebx, 0fffffffeh
add     esi, ebx
cmp     esi, [ebp+arg_0]
jnb     loc_277ba13d
mov     eax, [esi]
push    4
pop     ecx
add     esi, ecx
mov     ebx, [esi]
add     esi, ecx
cmp     eax, 31786469h
jz      short loc_277ba2f8
cmp     eax, 5453494ch
jz      short loc_277ba24f
cmp     eax, 66727473h
jz      loc_277ba1cd
cmp     eax, 68697661h
jz      loc_277ba18d
cmp     eax, 68727473h
jnz     short loc_277ba270
inc     [ebp+arg_c]
cmp     [edi+464h], edx
lea     eax, [edi+464h]
jnz     short loc_277ba270
cmp     dword ptr [esi], 73646976h
jnz     short loc_277ba270
mov     ecx, [ebp+arg_c]
mov     [eax], esi
dec     ecx
mov     [edi+460h], ecx
test    byte ptr [esi+0ah], 1
jz      short loc_277ba270
push    edi
call    sub_277ba303
xor     eax, eax
jmp     loc_277ba186
mov     [edi+46ch], esi
jmp     loc_277ba270
mov     [edi+470h], esi
jmp     loc_277ba270
push    esi
mov     esi, [esp+4+arg_0]
push    edi
xor     edi, edi
mov     eax, [esi+10h]
cmp     eax, edi
jnz     loc_277c95d0
mov     ecx, [esi+18h]
cmp     ecx, edi
jnz     short loc_277ba34c
push    1
mov     [esi+10h], edi
mov     [esi+18h], edi
mov     [esi+14h], edi
mov     [esi+45ch], edi
mov     [esi+464h], edi
mov     [esi+468h], edi
mov     [esi+46ch], edi
mov     [esi+470h], edi
pop     eax
pop     edi
pop     esi
retn    4
mov     eax, [esi+14h]
cmp     eax, edi
jnz     loc_277c95dc
push    ecx
call    ds:unmapviewoffile
jmp     short loc_277ba31d
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
cmp     dword ptr [esi+0a0h], 0
jnz     short loc_277ba397
mov     edx, [esi-0c0h]
mov     eax, 8babh
lea     ecx, [esi-0c0h]
push    eax
push    eax
push    800a8babh
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebx
leave
retn    34h
cmp     word ptr [ebp+pvarsrc.anonymous_0], 0ah
jnz     loc_277c5620
or      dword ptr [esi+0b0h], 0ffffffffh
cmp     word ptr [ebp+arg_14.anonymous_0], 0ah
lea     ebx, [esi+0b4h]
jnz     loc_277c565e
and     dword ptr [ebx], 0
cmp     word ptr [ebp+arg_24.anonymous_0], 0ah
lea     edi, [esi+0b8h]
jnz     loc_277c5683
or      dword ptr [edi], 0ffffffffh
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
xor     ecx, ecx
lea     eax, [esi-0c0h]
push    ecx
push    1
push    2
push    ecx
push    ecx
mov     [ebp+arg_0], eax
lea     ecx, [ebp+pvarg]
neg     eax
push    ecx
lea     ecx, [esi-84h]
sbb     eax, eax
push    offset avisible
and     eax, ecx
push    eax
call    sub_277b633c
xor     eax, eax
add     esp, 20h
cmp     word ptr [ebp+pvarg.anonymous_0+8], ax
jz      loc_277c56da
mov     ecx, [ebx]
cmp     ecx, [edi]
jz      loc_277c56da
movzx   eax, word ptr [edi]
movzx   ecx, word ptr [ebx]
shl     eax, 10h
or      eax, ecx
push    eax
push    dword ptr [esi+0b0h]
push    465h
push    dword ptr [esi-20h]
call    ds:sendmessagea
test    eax, eax
jz      loc_277c56bd
mov     dword ptr [esi+0a4h], 1
xor     eax, eax
jmp     loc_277ba390
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
xor     ebx, ebx
cmp     [esi+0a0h], ebx
jz      short loc_277ba4c2
push    edi
push    ebx
push    ebx
push    464h
push    dword ptr [esi-20h]
call    ds:sendmessagea
mov     [esi+0a4h], ebx
mov     [esi+0b0h], ebx
mov     [esi+0b4h], ebx
or      dword ptr [esi+0b8h], 0ffffffffh
push    dword ptr [esi+0a0h]
call    ds:sysfreestring
mov     [esi+0a0h], ebx
lea     edi, [esi-0c0h]
add     esi, 20h
mov     ecx, edi
push    esi
call    sub_277b9944
push    1
push    ebx
mov     ecx, edi
call    sub_277b96c7
pop     edi
pop     esi
xor     eax, eax
pop     ebx
retn    4
mov     ecx, [esp+arg_0]
push    ebx
push    esi
push    edi
test    ecx, ecx
jz      loc_277c9608
cmp     dword ptr [ecx+46ch], 0
jz      loc_277c9608
mov     edx, [esp+0ch+arg_4]
cmp     edx, [ecx]
jge     loc_277c9608
test    edx, edx
jl      loc_277c9608
mov     eax, [ecx+1ch]
cmp     edx, eax
jnz     short loc_277ba509
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    8
test    eax, eax
jl      loc_277ba5c0
cmp     eax, edx
jge     loc_277ba5c0
mov     esi, [ecx+24h]
mov     ebx, [ecx+1ch]
cmp     ebx, edx
jge     short loc_277ba583
mov     edi, [ecx+470h]
mov     eax, esi
shl     eax, 4
add     edi, eax
mov     al, [edi+10h]
add     edi, 10h
inc     esi
cmp     al, 41h
movzx   eax, al
jnb     loc_277c95ef
sub     eax, 30h
mov     dx, [edi]
shr     dx, 8
cmp     dl, 41h
movzx   edx, dl
jnb     loc_277c95f7
sub     edx, 30h
shl     eax, 4
add     eax, edx
movzx   eax, ax
cmp     eax, [ecx+460h]
jnz     short loc_277ba57a
lea     eax, [ebx+1]
mov     [ecx+1ch], eax
test    byte ptr [edi+4], 10h
jz      short loc_277ba57a
mov     [ecx+20h], eax
mov     ebx, [ecx+1ch]
cmp     ebx, [esp+0ch+arg_4]
jl      short loc_277ba530
mov     eax, [ecx+470h]
mov     edx, [ecx+46ch]
mov     [ecx+24h], esi
push    1
shl     esi, 4
add     eax, esi
mov     esi, [eax+8]
lea     edx, [esi+edx+4]
mov     [ecx+28h], edx
mov     eax, [eax+0ch]
mov     edx, eax
mov     [ecx+2ch], eax
cmp     edx, [ecx+30h]
mov     [ecx+48h], eax
pop     eax
jz      loc_277c95ff
mov     [ecx+44h], eax
jmp     loc_277ba503
or      esi, 0ffffffffh
and     dword ptr [ecx+20h], 0
mov     [ecx+1ch], esi
jmp     loc_277ba51c
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    esi, esi
jz      loc_277c960f
cmp     dword ptr [esi+46ch], 0
jz      loc_277c960f
push    [ebp+arg_8]
push    esi
call    sub_277ba4c9
test    eax, eax
mov     [ebp+arg_0], eax
jz      short loc_277ba61a
mov     ebx, [esi+1ch]
mov     edi, [esi+20h]
cmp     edi, ebx
jg      short loc_277ba61a
push    [ebp+ydest]
push    [ebp+xdest]
push    edi
push    [ebp+hdc]
push    esi
call    sub_277ba624
inc     edi
jmp     short loc_277ba603
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    14h
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     esi, edi
jz      loc_277c962f
cmp     [esi+46ch], edi
jz      loc_277c962f
mov     eax, [esi+10h]
cmp     eax, edi
jnz     loc_277c9616
push    [ebp+arg_8]
push    esi
call    sub_277ba4c9
mov     ebx, eax
cmp     ebx, edi
jz      short loc_277ba68a
cmp     [esi+2ch], edi
jbe     short loc_277ba68a
mov     eax, [esi+8]
mov     ecx, [esi+4]
push    0cc0020h
lea     edx, [esi+34h]
push    edi
push    edx
push    dword ptr [esi+28h]
push    eax
push    ecx
push    edi
push    edi
push    eax
push    ecx
push    [ebp+ydest]
push    [ebp+xdest]
push    [ebp+hdc]
call    ds:stretchdibits
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    14h
mov     eax, [esp+arg_4]
xor     ecx, ecx
mov     cl, ah
push    esi
mov     ch, al
xor     edx, edx
shr     eax, 10h
movzx   eax, al
shl     ecx, 8
or      ecx, eax
mov     eax, [esp+4+arg_8]
mov     esi, ecx
xor     ecx, ecx
mov     cl, ah
push    edi
mov     ch, al
shr     eax, 10h
movzx   eax, al
shl     ecx, 8
or      ecx, eax
mov     eax, [esp+8+arg_0]
cmp     eax, edx
mov     edi, ecx
jz      loc_277c95e8
cmp     [eax+468h], edx
jz      loc_277c95e8
mov     ecx, [eax+34h]
cmp     [eax+54h], edx
lea     ecx, [ecx+eax+34h]
jle     short loc_277ba6f6
cmp     [ecx], esi
jz      short loc_277ba6fe
inc     edx
add     ecx, 4
cmp     edx, [eax+54h]
jl      short loc_277ba6e9
push    1
pop     eax
pop     edi
pop     esi
retn    0ch
mov     [ecx], edi
jmp     short loc_277ba6ed
sub     [esp+arg_0], 20h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0a4h
jmp     sub_277b516f
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+lpparameter]
push    edi
xor     edi, edi
cmp     esi, edi
jz      loc_277c9176
cmp     [esi+14h], edi
jz      loc_277c9176
push    esi
call    sub_277b7438
mov     ecx, [esi+40h]
mov     edx, [ebp+arg_4]
cmp     edx, ecx
jge     loc_277c912c
mov     eax, [ebp+arg_8]
cmp     eax, 0ffffffffh
jnz     short loc_277ba753
lea     eax, [ecx-1]
cmp     eax, edi
jl      loc_277c9134
cmp     eax, ecx
jge     loc_277c913b
mov     ecx, [ebp+arg_c]
cmp     edx, edi
mov     [esi+4ch], ecx
mov     [esi+54h], eax
jl      loc_277c9143
mov     [esi+48h], edx
mov     [esi+50h], edx
cmp     edx, eax
jz      loc_277c9166
cmp     ecx, edi
jz      loc_277c9166
push    edi
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
push    dword ptr [esi]
call    ds:updatewindow
test    byte ptr [esi+0ch], 8
jnz     loc_277c914b
lea     eax, [ebp+lpparameter]
push    eax
push    edi
push    esi
push    offset startaddress
push    edi
push    edi
call    ds:createthread
mov     [esi+58h], eax
push    1
pop     eax
pop     edi
pop     esi
pop     ebp
retn    10h
push    esi
mov     esi, [esp+lpparameter]
push    1
push    esi
call    sub_277ba7f5
push    esi
call    sub_277ba820
test    eax, eax
jz      short loc_277ba7e7
push    dword ptr [esi+44h]
call    ds:sleep
jmp     short loc_277ba7d2
push    2
push    esi
call    sub_277ba7f5
xor     eax, eax
pop     esi
retn    4
mov     eax, [esp+arg_0]
mov     ecx, [eax+8]
test    ecx, ecx
jz      short locret_277ba81d
movzx   edx, [esp+arg_4]
push    dword ptr [eax]
movzx   eax, word ptr [eax+4]
shl     edx, 10h
or      edx, eax
push    edx
push    111h
push    ecx
call    ds:postmessagea
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     esi, edi
jz      short loc_277ba899
cmp     [esi+14h], edi
jz      short loc_277ba899
push    ebx
lea     ebx, [esi+18h]
push    ebx
call    ds:entercriticalsection
push    dword ptr [esi]
call    ds:getdc
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:getclipbox
cmp     eax, 1
jz      loc_277c9192
mov     eax, [esi+48h]
cmp     eax, [esi+50h]
jnz     short loc_277ba8a1
push    edi
push    esi
call    sub_277b748c
mov     eax, [esi+48h]
cmp     eax, [esi+54h]
jge     loc_277c917d
inc     eax
mov     [esi+48h], eax
push    edi
push    dword ptr [esi]
call    ds:releasedc
xor     eax, eax
push    ebx
cmp     [esi+4ch], eax
setnz   al
mov     edi, eax
call    ds:leavecriticalsection
pop     ebx
mov     eax, edi
pop     edi
pop     esi
leave
retn    4
push    dword ptr [esi+34h]
push    dword ptr [esi+30h]
push    eax
push    edi
push    dword ptr [esi+14h]
call    sub_277ba624
jmp     short loc_277ba86e
push    esi
mov     esi, ecx
call    sub_277b54b0
test    eax, eax
jnz     loc_277c52ba
push    1
pop     eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
push    esi
push    edi
mov     esi, ecx
push    [ebp+arg_0]
lea     ecx, [esi+0ech]
call    sub_277b9a80
mov     eax, 0fffffd3ah
cmp     [ebp+arg_0], eax
jz      loc_277c51bf
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     di, word ptr [ebp+arg_4]
cmp     [esi+18h], di
jz      short loc_277ba976
mov     [esi+18h], di
mov     eax, [esi-20h]
test    eax, eax
jz      short loc_277ba920
movsx   ecx, di
push    ecx
push    eax
call    ds:enablewindow
test    byte ptr [esi-10h], 8
jz      short loc_277ba955
test    di, di
jnz     short loc_277ba955
mov     eax, [esi-0bch]
lea     edx, [ebp+arg_4]
push    edx
push    offset dword_277b6150
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277ba955
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+18h]
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    0
lea     ecx, [esi-0c0h]
call    sub_277b45b0
push    0fffffdfeh
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
pop     edi
xor     eax, eax
pop     esi
pop     ebp
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_4]
push    ebx
push    esi
lea     edx, [ebp+var_10]
mov     ecx, [eax]
push    edi
push    edx
push    offset aversion
push    eax
mov     [ebp+var_10], 3
mov     [ebp+var_8], 60000h
call    dword ptr [ecx+10h]
test    eax, eax
jl      short loc_277baa09
cmp     off_2782a368, 0
jz      short loc_277baa07
mov     ebx, offset dword_2782a378
cmp     [ebp+arg_8], 0
jz      loc_277c519e
mov     ax, [ebx-4]
mov     edx, [ebp+arg_0]
mov     ecx, [ebx]
mov     [ebp+var_10], ax
mov     eax, [ebx-0ch]
lea     edi, [ebp+var_8]
lea     esi, [eax+edx+0d4h]
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
mov     eax, [ebp+arg_4]
lea     edx, [ebp+var_10]
and     ecx, 3
push    edx
push    dword ptr [ebx-10h]
rep movsb
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+10h]
test    eax, eax
jl      short loc_277baa09
add     ebx, 14h
cmp     dword ptr [ebx-10h], 0
jnz     short loc_277ba9b8
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
sub     [esp+arg_0], 34h
jmp     sub_277b67f3
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     eax, [ebp+arg_0]
push    0
push    18h
mov     [ebp+var_18], 1b8385e0h
mov     cl, [eax+0d4h]
mov     dl, [eax+0d6h]
xor     cl, byte ptr [ebp+var_4]
and     edx, 1
shl     edx, 1
and     ecx, 1
mov     [ebp+var_14], 60000h
xor     word ptr [ebp+var_4], cx
mov     ecx, [ebp+var_4]
and     ecx, 0fffffffdh
or      ecx, edx
mov     dl, [eax+0dah]
mov     word ptr [ebp+var_4], cx
mov     ecx, [ebp+var_4]
and     edx, 3
and     ecx, 0fffffff3h
shl     edx, 2
or      ecx, edx
xor     edx, edx
mov     word ptr [ebp+var_4], cx
mov     cl, [eax+0d8h]
and     cl, 1
mov     dh, cl
mov     ecx, [ebp+var_4]
and     ch, 0feh
or      edx, ecx
mov     ecx, [eax+0e8h]
mov     [ebp+var_8], ecx
mov     cl, [eax+0dch]
mov     word ptr [ebp+var_4], dx
mov     edx, [ebp+var_4]
and     ecx, 3
and     dl, 3fh
shl     ecx, 6
or      ecx, edx
lea     edx, [ebp+var_18]
mov     word ptr [ebp+var_4], cx
mov     ecx, [eax+0e0h]
mov     eax, [eax+0e4h]
mov     [ebp+var_10], ecx
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    6
xor     eax, eax
lea     ebx, [esi+0d4h]
pop     ecx
mov     edi, ebx
push    0
rep stosd
mov     eax, [ebp+arg_4]
lea     edx, [ebp+var_18]
push    18h
push    edx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jl      loc_277baba6
cmp     [ebp+var_18], 1b8385e0h
jnz     loc_277c5188
cmp     [ebp+var_14], 60000h
jnz     loc_277c516e
mov     eax, [ebp+var_4]
push    [ebp+var_8]
mov     cx, ax
shl     cx, 0fh
sar     cx, 0fh
mov     [ebx], cx
mov     cx, ax
shl     cx, 0eh
sar     cx, 0fh
mov     [esi+0d6h], cx
mov     cx, ax
shl     cx, 0ch
sar     cx, 0eh
mov     [esi+0dah], cx
mov     cx, ax
shl     cx, 7
sar     cx, 0fh
mov     [esi+0d8h], cx
mov     ecx, [ebp+var_10]
mov     [esi+0e0h], ecx
mov     ecx, [ebp+var_c]
mov     [esi+0e4h], ecx
xor     ecx, ecx
mov     ch, al
mov     eax, [esi]
sar     cx, 0eh
push    esi
mov     [esi+0dch], cx
call    dword ptr [eax+84h]
cmp     word ptr [ebx], 0
jnz     loc_277c5192
and     dword ptr [esi+0b0h], 0fffffffeh
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
sub     [esp+arg_0], 34h
jmp     sub_277b6a67
sub     dword ptr [esp+4], 0b4h
jmp     sub_277b67f3
mov     eax, [esp+arg_4]
test    eax, eax
jl      loc_277c548a
cmp     eax, 0bh
jg      loc_277c548a
mov     ecx, [esp+arg_8]
mov     eax, ds:dword_277bac10[eax*4]
mov     [ecx], eax
xor     eax, eax
retn    0ch
mov     eax, 80004001h
retn    10h
sub     [esp+arg_0], 0b4h
jmp     sub_277b6a67
push    dword_278282f0
push    2ach
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      loc_277c56f9
push    [esp+arg_0]
mov     ecx, eax
call    sub_277bac59
add     eax, 0ch
retn
push    esi
push    edi
push    0ffh
mov     esi, ecx
push    3edh
push    offset dword_277c0ee8
push    0
mov     eax, esi
push    offset dword_277c0ed8
push    offset dword_277c0ec8
neg     eax
push    offset dword_277c0eb8
lea     edi, [esi+1c4h]
push    60fh
push    0
sbb     eax, eax
push    0bh
and     eax, edi
push    0ch
push    eax
push    6
push    [esp+3ch+arg_0]
call    sub_277bad8f
mov     dword ptr [edi], offset off_277c13c8
mov     dword ptr [esi+1c8h], offset off_277b5b88
mov     dword ptr [esi+1cch], offset off_277c13b0
mov     ecx, esi
mov     dword ptr [esi], offset off_277c12d0
mov     dword ptr [esi+1ch], offset off_277c12b8
mov     dword ptr [esi+38h], offset off_277c1258
mov     dword ptr [esi+3ch], offset off_277c1238
mov     dword ptr [esi+40h], offset off_277c1208
mov     dword ptr [esi+44h], offset off_277c11e0
mov     dword ptr [esi+48h], offset off_277c11a0
mov     dword ptr [esi+4ch], offset off_277c1180
mov     dword ptr [esi+50h], offset off_277c1158
mov     dword ptr [esi+54h], offset off_277c1130
mov     dword ptr [esi+58h], offset off_277c1120
mov     dword ptr [esi+5ch], offset off_277c1110
mov     dword ptr [esi+60h], offset off_277c10f8
mov     dword ptr [esi+64h], offset off_277c10e0
mov     dword ptr [esi+68h], offset off_277c10d0
mov     dword ptr [esi+0c0h], offset off_277c10b0
mov     dword ptr [esi+0c4h], offset off_277c10a0
mov     dword ptr [esi+0c8h], offset off_277c1088
mov     dword ptr [esi+0cch], offset off_277c1070
mov     dword ptr [edi], offset off_277c0f20
mov     dword ptr [esi+1c8h], offset off_277c0f10
mov     dword ptr [esi+1cch], offset off_277c0ef8
call    sub_277bafda
or      byte ptr [esi+101h], 2
mov     dword ptr [esi+0f4h], 0ch
mov     dword ptr [esi+0f8h], 0dh
mov     eax, esi
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     ebx, ecx
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b39f2
xor     edi, edi
lea     esi, [ebx+0c8h]
push    edi
push    edi
push    edi
push    offset dword_2782a178
mov     dword ptr [ebx+0c0h], offset off_277c1880
push    edi
mov     dword ptr [ebx+0c4h], offset off_277c1870
push    edi
mov     dword ptr [esi], offset off_277c1518
push    ebx
lea     ecx, [ebx+0d4h]
mov     dword ptr [ebx+0cch], offset off_277b5b70
call    sub_277b3bff
mov     eax, ebx
push    1
neg     eax
sbb     eax, eax
push    edi
and     eax, esi
push    0fffffe00h
push    eax
lea     ecx, [ebx+1a4h]
call    sub_277bafa8
mov     ax, [ebp+arg_30]
lea     ecx, [ebx+128h]
mov     [ebx+124h], ax
mov     al, [ebp+arg_34]
mov     [ebx+126h], al
mov     eax, [ebp+arg_c]
mov     [ebx+178h], eax
mov     eax, [ebp+arg_10]
mov     [ebx+17ch], eax
mov     eax, [ebp+arg_14]
mov     [ebx+180h], eax
mov     eax, [ebp+arg_18]
mov     [ebx+184h], eax
mov     eax, offset dword_277b6008
mov     dword ptr [esi], offset off_277c1858
mov     esi, eax
mov     edi, ecx
lea     edx, [ebx+138h]
movsd
movsd
movsd
movsd
mov     esi, eax
mov     edi, edx
movsd
movsd
movsd
movsd
mov     dword ptr [ebx], offset off_277c1778
mov     dword ptr [ebx+1ch], offset off_277c1760
mov     dword ptr [ebx+38h], offset off_277c1700
mov     dword ptr [ebx+3ch], offset off_277c16e0
mov     dword ptr [ebx+40h], offset off_277c16b0
mov     dword ptr [ebx+44h], offset off_277c1688
mov     dword ptr [ebx+48h], offset off_277c1648
mov     dword ptr [ebx+4ch], offset off_277c1628
mov     dword ptr [ebx+50h], offset off_277c1600
mov     dword ptr [ebx+54h], offset off_277c15d8
mov     dword ptr [ebx+58h], offset off_277c15c8
mov     dword ptr [ebx+5ch], offset off_277c15b8
mov     dword ptr [ebx+60h], offset off_277c15a0
mov     dword ptr [ebx+64h], offset off_277c1588
mov     dword ptr [ebx+68h], offset off_277c1578
mov     dword ptr [ebx+0c0h], offset off_277c1558
mov     dword ptr [ebx+0c4h], offset off_277c1548
mov     dword ptr [ebx+0cch], offset off_277c1530
lea     edi, [ebx+148h]
mov     esi, eax
movsd
movsd
movsd
movsd
lea     edi, [ebx+158h]
mov     esi, eax
movsd
movsd
movsd
movsd
lea     edi, [ebx+168h]
mov     esi, eax
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_1c]
xor     eax, eax
cmp     esi, eax
jz      short loc_277baf1b
mov     edi, ecx
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_20]
cmp     esi, eax
jz      short loc_277baf28
mov     edi, edx
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_24]
cmp     esi, eax
jz      short loc_277baf39
lea     edi, [ebx+148h]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_28]
cmp     esi, eax
jnz     loc_277c6f64
mov     esi, [ebp+arg_2c]
cmp     esi, eax
jz      short loc_277baf55
lea     edi, [ebx+168h]
movsd
movsd
movsd
movsd
or      dword ptr [ebx+190h], 0ffffffffh
or      dword ptr [ebx+18ch], 0ffffffffh
and     word ptr [ebx+0d0h], 0fec0h
lea     ecx, [ebx+194h]
mov     [ebx+198h], eax
mov     [ebx+19ch], eax
mov     [ebx+1a0h], eax
xor     eax, eax
mov     edi, ecx
stosb
or      byte ptr [ecx], 1
and     [ebx+120h], eax
and     byte ptr [ebx+0d0h], 3fh
and     [ebx+127h], al
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
pop     ebp
retn    38h
mov     eax, ecx
mov     ecx, [esp+arg_0]
mov     [eax+4], ecx
mov     ecx, [esp+arg_8]
mov     [eax+18h], ecx
mov     ecx, [esp+arg_c]
mov     [eax+1ch], ecx
mov     ecx, [esp+arg_4]
mov     [eax+10h], ecx
xor     ecx, ecx
mov     dword ptr [eax], offset off_277c18a0
mov     [eax+8], ecx
mov     [eax+0ch], ecx
mov     [eax+14h], ecx
retn    10h
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
mov     ebx, ecx
push    esi
push    edi
lea     esi, [ebx+1d0h]
push    16h
pop     ecx
xor     eax, eax
mov     edi, esi
push    0eh
rep stosd
pop     ecx
lea     edi, [ebx+238h]
rep stosd
and     [ebx+224h], ax
mov     eax, [esi]
and     ax, 0f88fh
push    5
or      al, 8ah
mov     word ptr [ebx+226h], 7
mov     [esi], eax
lea     eax, [ebp+lcdata]
push    eax
push    100ch
push    400h
mov     word ptr [ebx+1e4h], 270fh
mov     word ptr [ebx+1e6h], 0ch
mov     word ptr [ebx+1e8h], 5
mov     word ptr [ebx+1eah], 1fh
mov     word ptr [ebx+1f4h], 6d9h
mov     word ptr [ebx+1f6h], 1
mov     word ptr [ebx+1f8h], 1
mov     word ptr [ebx+1fah], 1
call    ds:getlocaleinfoa
test    al, al
jle     short loc_277bb097
movsx   eax, [ebp+lcdata]
sub     eax, 30h
push    eax
call    sub_277bb139
pop     ecx
and     eax, 0fh
mov     ecx, [esi]
and     ch, 87h
shl     eax, 0bh
or      ecx, eax
mov     [esi], ecx
lea     esi, [ebx+1d4h]
push    esi
call    ds:getlocaltime
lea     edi, [ebx+204h]
xor     eax, eax
movsd
movsd
movsd
movsd
lea     edi, [ebx+214h]
lea     esi, [ebx+1d4h]
movsd
movsd
movsd
movsd
pop     edi
mov     [ebx+1dch], ax
mov     [ebx+1deh], ax
mov     [ebx+1e0h], ax
mov     [ebx+1e2h], ax
mov     [ebx+270h], eax
mov     dword ptr [ebx+2a0h], 1
mov     [ebx+294h], eax
mov     dword ptr [ebx+22ch], 80000012h
mov     dword ptr [ebx+230h], 8000000fh
mov     dword ptr [ebx+234h], 80000011h
mov     dword ptr [ebx+228h], 80000005h
mov     dword ptr [ebx+88h], 0b4h
mov     dword ptr [ebx+8ch], 9eh
mov     [ebx+2a8h], eax
pop     esi
pop     ebx
leave
retn
mov     eax, [esp+arg_0]
add     eax, 2
cmp     eax, 8
jz      short loc_277bb146
retn
push    1
pop     eax
jmp     short locret_277bb145
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
and     dword ptr [eax], 0
push    edi
mov     eax, [esi]
mov     edx, ecx
cmp     eax, ds:dword_277b1e68
jz      loc_277c570a
cmp     eax, ds:dword_277b6128
jz      loc_277c573c
cmp     eax, ds:dword_277c18c0
jz      loc_277c575b
push    [ebp+arg_4]
mov     ecx, edx
push    [ebp+arg_0]
call    sub_277bb196
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_4]
mov     edx, [ebp+arg_0]
push    ebx
push    esi
and     dword ptr [eax], 0
mov     eax, [edx]
cmp     eax, ds:dword_277b6138
push    edi
mov     [ebp+var_4], ecx
jz      loc_277c6f99
cmp     eax, ds:dword_277c18d0
jz      loc_277c6fce
push    [ebp+arg_4]
mov     ecx, [ebp+var_4]
push    edx
call    sub_277b3f7b
pop     edi
pop     esi
pop     ebx
leave
retn    8
sub     [esp+arg_0], 48h
jmp     short loc_277bb1e5
sub     [esp+arg_0], 1a8h
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+4]
retn    4
push    esi
mov     esi, ecx
cmp     dword ptr [esi+6ch], 0
jnz     short loc_277bb20d
mov     eax, [esi+1a4h]
lea     ecx, [esi+1a4h]
call    dword ptr [eax+18h]
push    dword ptr [esi+6ch]
lea     ecx, [esi+0d4h]
call    sub_277b444c
pop     esi
retn
sub     [esp+arg_0], 20h
jmp     short loc_277bb1e5
sub     [esp+arg_0], 20h
jmp     short loc_277bb233
sub     dword ptr [esp+4], 1a8h
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+8]
retn    4
sub     [esp+arg_0], 30h
jmp     short loc_277bb1e5
push    ebp
mov     ebp, esp
sub     esp, 48h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    [ebp+arg_8]
mov     ecx, esi
mov     ebx, offset off_2782a9e8
push    [ebp+arg_4]
call    sub_277bb33d
test    eax, eax
jl      short loc_277bb2aa
push    16h
xor     eax, eax
pop     ecx
lea     edi, [esi+1d0h]
push    [ebp+arg_8]
rep stosd
lea     eax, [ebp+var_48]
push    eax
push    offset off_2782aa48
push    [ebp+arg_4]
call    sub_277bb5ab
add     esp, 10h
test    eax, eax
jl      short loc_277bb2aa
lea     eax, [ebp+var_48]
mov     ecx, esi
push    eax
call    sub_277bb655
cmp     off_2782a9e8, 0
jnz     short loc_277bb2e3
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
fld     [ebp+var_8]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+60h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      short loc_277bb2aa
mov     eax, [ebx+4]
add     ebx, 18h
lea     edi, [eax+esi+1d0h]
lea     esi, [ebp+systemtime]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_0]
cmp     dword ptr [ebx], 0
jz      short loc_277bb2a8
push    [ebp+arg_8]
mov     ax, [ebx+0ch]
lea     edx, [ebp+var_10]
mov     [ebp+var_10], ax
mov     eax, [ebp+arg_4]
push    edx
push    dword ptr [ebx]
mov     ecx, [eax]
fldz
push    eax
fstp    [ebp+var_8]
call    dword ptr [ecx+0ch]
test    eax, eax
jge     short loc_277bb2b1
test    byte ptr [ebx+14h], 1
jz      short loc_277bb338
lea     eax, [ebp+systemtime]
push    eax
mov     eax, [ebx+8]
push    ecx
push    ecx
fld     qword ptr [eax]
fstp    [esp+60h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      short loc_277bb2aa
mov     eax, [ebx+4]
lea     edi, [eax+esi+1d0h]
lea     esi, [ebp+systemtime]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_0]
add     ebx, 18h
jmp     short loc_277bb2de
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
lea     eax, [ebp+pvarg]
push    edi
mov     esi, ecx
push    eax
call    ds:variantinit
and     dword ptr [ebp+pvarg.anonymous_0+8], 0
mov     edi, [ebp+arg_0]
test    byte ptr [esi+124h], 2
mov     ebx, ds:sysfreestring
mov     word ptr [ebp+pvarg.anonymous_0], 8
jnz     loc_277c71c8
test    byte ptr [esi+124h], 10h
jnz     loc_277c7219
test    byte ptr [esi+124h], 8
mov     word ptr [ebp+pvarg.anonymous_0], 3
jz      short loc_277bb3b8
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aforecolor
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jl      loc_277c726a
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
or      byte ptr [esi+194h], 2
mov     [esi+18ch], eax
test    byte ptr [esi+124h], 1
jz      short loc_277bb3eb
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset abackcolor_1
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jl      loc_277c7276
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
or      byte ptr [esi+194h], 4
mov     [esi+190h], eax
test    byte ptr [esi+124h], 20h
mov     word ptr [ebp+pvarg.anonymous_0], 2
jz      short loc_277bb41b
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aborderstyle
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jge     loc_277c7282
and     dword ptr [esi+188h], 0fffffffeh
test    byte ptr [esi+124h], 80h
jz      short loc_277bb461
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aappearance
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jl      loc_277c72a0
mov     ecx, dword ptr [ebp+pvarg.anonymous_0+8]
mov     edx, [esi+188h]
lea     eax, [esi+188h]
and     ecx, 1
shl     ecx, 2
and     edx, 0fffffffbh
or      ecx, edx
or      byte ptr [esi+194h], 1
mov     [eax], ecx
test    byte ptr [esi+125h], 1
jz      short loc_277bb48d
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset amousepointer
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jge     loc_277c72ac
and     word ptr [esi+188h], 0f807h
test    byte ptr [esi+124h], 40h
mov     word ptr [ebp+pvarg.anonymous_0], 0bh
jz      short loc_277bb4bd
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aenabled
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jge     loc_277c72d2
or      dword ptr [esi+188h], 2
test    byte ptr [esi+124h], 4
mov     word ptr [ebp+pvarg.anonymous_0], 0dh
jz      short loc_277bb4fa
push    [ebp+arg_4]
mov     eax, [edi]
and     dword ptr [ebp+pvarg.anonymous_0+8], 0
lea     ecx, [ebp+pvarg]
push    ecx
push    offset afont
push    edi
call    dword ptr [eax+0ch]
lea     ebx, [esi+19ch]
test    eax, eax
mov     eax, [ebx]
jge     loc_277c72f2
test    eax, eax
jnz     loc_277c7334
test    byte ptr [esi+125h], 2
mov     word ptr [ebp+pvarg.anonymous_0], 0dh
jz      short loc_277bb527
push    [ebp+arg_4]
mov     eax, [edi]
and     dword ptr [ebp+pvarg.anonymous_0+8], 0
lea     ecx, [ebp+pvarg]
push    ecx
push    offset amouseicon
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jge     loc_277c7342
push    [ebp+arg_4]
lea     ecx, [esi+0d4h]
push    edi
call    sub_277bb53f
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
lea     eax, [ebp+pvarg]
push    edi
mov     esi, ecx
push    eax
call    ds:variantinit
mov     eax, [esi+2ch]
mov     edi, [ebp+arg_0]
shr     eax, 8
test    al, 1
mov     word ptr [ebp+pvarg.anonymous_0], 2
jnz     loc_277c797e
mov     eax, [esi+2ch]
shr     eax, 9
test    al, 1
jz      short loc_277bb5a3
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aoledropmode
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jge     short loc_277bb58f
and     word ptr [ebp+pvarg.anonymous_0+8], 0
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
mov     ecx, [esi+2ch]
and     eax, 3
and     cl, 3fh
shl     eax, 6
or      eax, ecx
mov     [esi+2ch], eax
pop     edi
xor     eax, eax
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_4]
lea     eax, [ebp+pvarg]
push    edi
push    eax
call    ds:variantinit
xor     edi, edi
cmp     [ebx], edi
jz      loc_277bb64f
lea     eax, [ebx+8]
push    esi
mov     [ebp+arg_4], eax
jmp     short loc_277bb610
movzx   eax, word ptr [ebp+pvarg.anonymous_0]
cmp     eax, 8
jz      loc_277c73d5
cmp     eax, 0dh
jz      loc_277c736c
mov     ecx, [ebx+10h]
lea     esi, [ebp+pvarg.anonymous_0+8]
mov     edi, [ebx+4]
mov     eax, ecx
add     edi, [ebp+arg_8]
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
add     [ebp+arg_4], 18h
add     ebx, 18h
xor     edi, edi
cmp     [ebx], edi
jz      short loc_277bb64e
test    byte ptr [ebx+14h], 10h
jnz     loc_277c7360
push    [ebp+arg_c]
mov     ax, [ebx+0ch]
mov     esi, [ebp+arg_0]
lea     ecx, [ebp+pvarg]
push    ecx
mov     word ptr [ebp+pvarg.anonymous_0], ax
push    dword ptr [ebx]
mov     eax, [esi]
mov     dword ptr [ebp+pvarg.anonymous_0+8], edi
push    esi
call    dword ptr [eax+0ch]
cmp     eax, edi
jge     short loc_277bb5d3
cmp     word ptr [ebx+0ch], 8
jz      loc_277c73e8
mov     ecx, [ebx+10h]
mov     esi, [ebp+arg_4]
jmp     short loc_277bb5ef
pop     esi
pop     edi
xor     eax, eax
pop     ebx
leave
retn
mov     eax, [esp+arg_0]
push    esi
mov     esi, [ecx+1d0h]
push    edi
mov     edx, [eax+10h]
xor     edx, esi
and     edx, 1
xor     edx, esi
mov     [ecx+1d0h], edx
mov     esi, [eax+14h]
and     esi, 1
and     edx, 0fffffffdh
shl     esi, 1
or      esi, edx
mov     [ecx+1d0h], esi
mov     edx, [eax+18h]
and     edx, 1
and     esi, 0fffffffbh
shl     edx, 2
or      edx, esi
mov     [ecx+1d0h], edx
mov     dx, [eax+1ch]
mov     edi, [ecx+1d0h]
mov     [ecx+224h], dx
mov     dl, [eax+1eh]
and     edi, 0ffffff87h
and     edx, 0fh
shl     edx, 3
mov     esi, edx
or      esi, edi
pop     edi
mov     [ecx+1d0h], esi
mov     dl, [eax+20h]
and     edx, 0fh
and     si, 0f87fh
shl     edx, 7
or      edx, esi
mov     [ecx+1d0h], edx
mov     dx, [eax+22h]
mov     esi, [ecx+1d0h]
mov     [ecx+226h], dx
mov     dl, [eax+24h]
and     esi, 0ffff87ffh
and     edx, 0fh
shl     edx, 0bh
or      edx, esi
pop     esi
mov     [ecx+1d0h], edx
mov     edx, [eax]
mov     [ecx+228h], edx
mov     edx, [eax+4]
mov     [ecx+22ch], edx
mov     edx, [eax+8]
mov     [ecx+230h], edx
mov     eax, [eax+0ch]
mov     [ecx+234h], eax
xor     eax, eax
retn    4
sub     [esp+arg_0], 30h
jmp     loc_277bb233
sub     [esp+arg_0], 48h
jmp     loc_277bb233
sub     [esp+arg_0], 1ch
jmp     loc_277bb1e5
push    ebp
mov     ebp, esp
sub     esp, 30h
lea     eax, [ebp+var_8]
mov     [ebp+var_8], 8
push    eax
mov     [ebp+var_4], 110h
call    sub_277b4d29
lea     eax, [ebp+wndclass]
push    eax
push    offset amsvblibmonthvi
push    hinstance
call    ds:getclassinfoa
test    eax, eax
jz      locret_277c5700
mov     ecx, off_278286d4
mov     eax, [ebp+wndclass.lpfnwndproc]
mov     [ecx+58h], eax
mov     eax, hinstance
mov     [ebp+wndclass.hinstance], eax
mov     eax, off_278286d4
mov     [ebp+wndclass.lpfnwndproc], offset sub_277b4e17
mov     eax, [eax+44h]
or      [ebp+wndclass.style], 8
mov     [ebp+wndclass.lpszclassname], eax
lea     eax, [ebp+wndclass]
push    eax
call    ds:registerclassa
movzx   eax, ax
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, [ebp+hinstance]
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     esi, offset amsvblibmonthvi_0
push    eax
push    esi
push    ebx
call    ds:getclassinfoa
test    eax, eax
jnz     loc_277c862c
xor     edi, edi
push    7f00h
push    edi
mov     [ebp+wndclass.style], edi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277bbc58
mov     [ebp+wndclass.cbclsextra], edi
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.hinstance], ebx
mov     [ebp+wndclass.hicon], edi
call    ds:loadcursora
push    6
mov     [ebp+wndclass.hcursor], eax
pop     ebx
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.lpszclassname], esi
mov     esi, ds:registerclassa
push    eax
mov     [ebp+wndclass.hbrbackground], ebx
mov     [ebp+wndclass.lpszmenuname], edi
call    esi
test    ax, ax
jz      loc_277c8634
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.lpfnwndproc], offset sub_277ebfbb
push    eax
mov     [ebp+wndclass.hbrbackground], ebx
mov     [ebp+wndclass.lpszclassname], offset amsvblibdatetim
call    esi
neg     ax
sbb     eax, eax
neg     eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, ecx
mov     esi, [ebp+arg_0]
mov     eax, [edi+1d0h]
and     eax, 1
cmp     al, 1
jz      short loc_277bb8b1
and     dword ptr [esi], 0fffffffdh
mov     eax, [edi+1d0h]
and     eax, 2
cmp     al, 2
jnz     short loc_277bb8b6
and     dword ptr [esi], 0ffffffefh
mov     eax, [edi+1d0h]
and     eax, 4
cmp     al, 4
jz      loc_277c5702
and     dword ptr [esi], 0fffffffbh
or      dword ptr [esi], 1
push    offset amonthview
push    [ebp+lpstring1]
call    ds:lstrcpya
push    [ebp+lpstring1]
mov     ecx, edi
push    [ebp+arg_4]
push    esi
call    sub_277bb8bb
pop     edi
pop     esi
pop     ebp
retn    0ch
or      dword ptr [esi], 2
jmp     short loc_277bb868
or      dword ptr [esi], 10h
jmp     short loc_277bb878
mov     ax, [ecx+124h]
push    esi
mov     esi, [esp+4+arg_0]
test    al, 40h
jz      short loc_277bb8d8
test    byte ptr [ecx+188h], 2
jz      loc_277c7414
test    al, 80h
jz      short loc_277bb8f6
mov     edx, [ecx+188h]
and     edx, 4
cmp     dl, 4
mov     edx, [esp+4+arg_4]
jnz     loc_277c741d
or      byte ptr [edx+1], 2
test    al, 20h
jz      short loc_277bb90f
mov     eax, [ecx+188h]
and     eax, 1
cmp     al, 1
jz      loc_277c7426
and     byte ptr [esi+2], 7fh
push    1
pop     eax
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 30h
mov     eax, [ebp+msg]
push    ebx
push    esi
cmp     eax, 18h
push    edi
mov     ebx, ecx
jz      loc_277bb9e7
cmp     eax, 100h
jz      loc_277c59d9
cmp     eax, 201h
jz      loc_277c58d6
cmp     eax, 401h
jz      loc_277c588f
mov     edi, [ebp+arg_8]
cmp     eax, 204eh
jz      short loc_277bb99f
xor     esi, esi
mov     eax, 204h
push    esi
cmp     [ebp+msg], eax
jz      loc_277c5939
mov     eax, off_278286d4
push    dword ptr [eax+58h]
push    edi
push    [ebp+wparam]
push    [ebp+msg]
mov     ecx, ebx
call    sub_277bb9fd
cmp     [ebp+msg], 30h
mov     [ebp+wparam], eax
jz      short loc_277bb9cd
cmp     [ebp+msg], 203h
jz      loc_277c5944
mov     eax, [ebp+wparam]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [edi+8]
cmp     eax, 0fffffd13h
jz      loc_277c57fc
cmp     eax, 0fffffd15h
jnz     short loc_277bb9c0
push    edi
mov     ecx, ebx
call    sub_277be52e
xor     eax, eax
jmp     short loc_277bb998
cmp     eax, 0fffffd16h
jz      loc_277c57ad
jmp     short loc_277bb958
lea     eax, [ebx+88h]
mov     ecx, ebx
push    eax
mov     dword ptr [ebx+2a0h], 1
call    sub_277b9944
jmp     short loc_277bb995
push    [ebp+wparam]
lea     ecx, [ebx+0d4h]
call    sub_277b4f96
mov     edi, [ebp+arg_8]
jmp     loc_277bb958
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
push    esi
mov     esi, ecx
push    edi
mov     ecx, [ebp+msg]
xor     edi, edi
mov     ebx, [esi+0a0h]
push    1
cmp     ecx, 0ch
mov     [ebp+var_4], ebx
pop     edx
mov     eax, 100h
jbe     loc_277bbadd
cmp     ecx, eax
jbe     loc_277bbb8d
mov     eax, 200h
cmp     ecx, eax
jbe     loc_277c753d
mov     eax, 2133h
cmp     ecx, eax
ja      short def_277bbba1
jz      loc_277c773f
lea     eax, [ecx-201h]
cmp     eax, 8
jbe     loc_277bbba1
cmp     [ebp+lpprevwndfunc], 0
jz      loc_277c742f
push    [ebp+lparam]
mov     edi, [ebp+msg]
push    [ebp+wparam]
push    edi
push    dword ptr [esi+0a0h]
push    [ebp+lpprevwndfunc]
call    ds:callwindowproca
mov     ebx, eax
cmp     edi, 1fh
jbe     loc_277bbb10
cmp     edi, 201h
jz      loc_277c748f
cmp     edi, 202h
jbe     short loc_277bbad4
cmp     edi, 204h
jbe     loc_277c748f
cmp     edi, 205h
jbe     short loc_277bbad4
cmp     edi, 207h
jbe     loc_277c748f
cmp     edi, 209h
jz      loc_277c748f
cmp     edi, 215h
jz      loc_277c745a
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
leave
retn    14h
jz      loc_277c74e6
cmp     ecx, 7
jnz     def_277bbba1
mov     eax, [esi+0b0h]
test    al, 2
jz      def_277bbba1
test    al, 8
jnz     def_277bbba1
push    0fffffffch
mov     ecx, esi
call    sub_277b48e2
jmp     def_277bbba1
jz      short loc_277bbb72
mov     eax, edi
dec     eax
jnz     short loc_277bbad4
test    byte ptr [esi+124h], 4
jz      short loc_277bbad4
mov     eax, [esi]
lea     ecx, [ebp+msg]
xor     edi, edi
push    ecx
mov     ecx, esi
mov     [ebp+msg], edi
call    dword ptr [eax+0b0h]
mov     eax, [esi+19ch]
cmp     eax, edi
jz      short loc_277bbb5c
lea     edx, [ebp+lparam]
mov     [ebp+lparam], edi
mov     ecx, [eax]
push    edx
push    eax
call    dword ptr [ecx+4ch]
push    edi
push    [ebp+lparam]
push    30h
push    dword ptr [esi+0a0h]
call    ds:sendmessagea
mov     eax, [ebp+msg]
cmp     eax, edi
jz      loc_277bbad4
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277bbad4
or      byte ptr [esi+0d1h], 1
lea     edi, [esi+0d0h]
test    byte ptr [edi], 3fh
jnz     loc_277c7449
jmp     loc_277bbad4
jz      loc_277c758e
cmp     ecx, 20h
jz      loc_277c7502
jmp     def_277bbba1
jmp     ds:jpt_277bbba1[eax*4]
mov     eax, ecx
sub     eax, 202h
jnz     loc_277c76be
push    1
pop     edi
mov     ebx, [ebp+lparam]
mov     ecx, esi
movsx   eax, bx
mov     [ebp+var_c], eax
mov     eax, ebx
shr     eax, 10h
movsx   eax, ax
mov     [ebp+var_8], eax
lea     eax, [ebp+var_c]
push    eax
push    edi
call    sub_277bf7a2
mov     eax, [esi+0a0h]
cmp     eax, [ebp+var_4]
jnz     loc_277c74fb
cmp     [ebp+lpprevwndfunc], 0
push    ebx
push    [ebp+wparam]
push    [ebp+msg]
jz      loc_277c76da
push    eax
push    [ebp+lpprevwndfunc]
call    ds:callwindowproca
mov     ebx, eax
mov     eax, [esi+0b0h]
test    al, 2
jz      short loc_277bbc3d
test    al, 8
jnz     short loc_277bbc3d
mov     edi, ds:getfocus
call    edi
cmp     eax, [esi+0a0h]
jz      loc_277c76e6
call    edi
push    eax
push    dword ptr [esi+0a0h]
call    ds:ischild
test    eax, eax
jnz     loc_277c76e6
test    byte ptr [esi+0d0h], 7
jnz     loc_277bbad4
push    0
mov     ecx, esi
call    sub_277bf815
jmp     loc_277bbad4
push    ebp
mov     ebp, esp
sub     esp, 24h
and     [ebp+var_4], 0
push    ebx
push    esi
push    edi
mov     edi, [ebp+msg]
cmp     edi, 81h
jz      loc_277bbd25
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     esi, [ebp+wparam]
mov     edx, [ebp+lparam]
cmp     edi, 0abcdh
mov     ebx, eax
jz      loc_277bbd32
test    ebx, ebx
jz      loc_277c8683
cmp     dword ptr [ebx+370h], 0
jnz     loc_277c8694
cmp     edi, 5
jbe     loc_277bbd64
cmp     edi, 0fh
jbe     loc_277bbd82
cmp     edi, 1ah
jbe     loc_277bbdff
cmp     edi, 30h
jbe     loc_277bbe13
cmp     edi, 7ch
jbe     loc_277bbe4d
mov     eax, 82h
cmp     edi, eax
jbe     loc_277bbe7f
mov     eax, 113h
cmp     edi, eax
jbe     loc_277bbe9d
mov     eax, 318h
cmp     edi, eax
jbe     loc_277bbeb9
mov     eax, 2005h
cmp     edi, eax
ja      loc_277bc4e0
jz      loc_277c899d
lea     eax, [edi-0fffh]
cmp     eax, 16h
ja      def_277bbd1e
jmp     ds:jpt_277bbd1e[eax*4]
push    [ebp+hwnd]
call    sub_277bc4f1
jmp     loc_277bbe66
cmp     esi, edx
jnz     loc_277bbc93
test    ebx, ebx
mov     dword_2782ac40, edx
jz      short loc_277bbd5c
lea     eax, [ebx+18h]
push    eax
push    ebx
call    sub_277bc730
push    1
push    dword ptr [ebx+37ch]
push    ebx
call    sub_277bc930
push    1
pop     eax
jmp     loc_277bbe66
jz      loc_277bbf00
mov     eax, edi
dec     eax
jnz     def_277bbd1e
push    edx
push    [ebp+hwnd]
push    ebx
call    sub_277bc515
jmp     loc_277bbe60
jz      loc_277bbef2
mov     eax, edi
sub     eax, 8
jz      short loc_277bbdd1
dec     eax
dec     eax
jnz     def_277bbd1e
mov     ax, [ebx+694h]
xor     ecx, ecx
test    esi, esi
mov     edx, eax
setnz   cl
shr     edx, 1
and     edx, 1
cmp     edx, ecx
jz      loc_277bbe63
and     ecx, 1
and     ax, 0fffdh
shl     ecx, 1
or      eax, ecx
push    1
push    0
mov     [ebx+694h], ax
push    dword ptr [ebx]
jmp     loc_277bc3a3
push    ebx
call    sub_277bf76d
mov     eax, [ebx+488h]
and     word ptr [ebx+694h], 0ff7bh
test    eax, eax
jnz     loc_277c86b4
push    1
push    0
push    dword ptr [ebx]
call    ds:invalidaterect
mov     edx, [ebp+lparam]
jmp     short def_277bbd1e
jz      loc_277c86c9
cmp     edi, 14h
jnz     short def_277bbd1e
push    esi
push    ebx
call    sub_277be3bd
jmp     short loc_277bbe66
jnz     short loc_277bbe35
movzx   eax, dx
push    eax
push    esi
push    ebx
call    sub_277bc930
lea     eax, [ebx+5b4h]
push    eax
push    ebx
call    sub_277bd912
push    ebx
call    sub_277bd566
jmp     short loc_277bbe63
cmp     edi, 1fh
jnz     short def_277bbd1e
push    0ffffffffh
push    0
push    202h
push    dword ptr [ebx]
call    ds:postmessagea
jmp     short loc_277bbe63
jz      short loc_277bbe75
cmp     edi, 31h
jz      short loc_277bbe6d
push    edx
push    esi
push    edi
push    [ebp+hwnd]
call    ds:defwindowproca
mov     [ebp+var_4], eax
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [ebx+37ch]
jmp     short loc_277bbe60
push    edx
push    esi
push    ebx
call    sub_277bf4ad
jmp     short loc_277bbe60
jz      short loc_277bbe90
cmp     edi, 7dh
jnz     short def_277bbd1e
push    edx
push    esi
push    ebx
call    sub_277bf4d4
jmp     short loc_277bbe60
push    edx
push    esi
push    ebx
push    [ebp+hwnd]
call    sub_277bffe8
jmp     short loc_277bbe63
jz      loc_277c871f
mov     eax, edi
sub     eax, 100h
jz      loc_277c8712
dec     eax
jz      loc_277c86ee
jmp     short def_277bbd1e
jz      short loc_277bbef2
mov     eax, edi
sub     eax, 200h
jz      loc_277c87be
dec     eax
jz      loc_277c87b1
dec     eax
jz      short loc_277bbee5
dec     eax
jz      loc_277c8738
dec     eax
jz      loc_277c872b
jmp     def_277bbd1e
push    edx
push    esi
push    ebx
call    sub_277bf7f3
jmp     loc_277bbe63
push    esi
push    ebx
call    sub_277be6fc
xor     eax, eax
jmp     loc_277bbe66
cmp     edi, 0fffh
jz      loc_277c87cb
and     [ebp+rect.left], 0
and     [ebp+rect.top], 0
movsx   eax, dx
shr     edx, 10h
mov     [ebp+rect.right], eax
movsx   eax, dx
mov     [ebp+rect.bottom], eax
nop
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_277bd912
jmp     loc_277bbe60
test    byte ptr [ebx+8], 2
jnz     loc_277bbe63
test    edx, edx
jz      loc_277bbe63
xor     eax, eax
mov     edi, edx
stosd
stosd
stosd
stosd
lea     esi, [ebx+3f4h]
mov     edi, edx
movsd
movsd
movsd
push    edx
movsd
call    sub_277c0129
inc     eax
push    7
cdq
pop     ecx
idiv    ecx
mov     eax, [ebp+lparam]
mov     [eax+4], dx
mov     [ebp+var_4], 1
jmp     loc_277bbe63
test    byte ptr [ebx+8], 2
jnz     loc_277bbe63
push    edx
call    sub_277bdfd8
test    eax, eax
jz      loc_277bbe63
lea     eax, [ebx+3f4h]
push    eax
push    [ebp+lparam]
call    sub_277be055
test    eax, eax
jz      short loc_277bbf6d
lea     esi, [ebx+594h]
lea     edi, [ebx+5a4h]
movsd
movsd
push    [ebp+lparam]
or      byte ptr [ebx+694h], 40h
movsd
movsd
lea     esi, [ebx+694h]
push    ebx
call    sub_277be0e8
mov     [ebp+var_4], eax
and     word ptr [esi], 0ffbfh
cmp     [ebp+var_4], 0
jz      short loc_277bbff8
mov     esi, ds:invalidaterect
lea     eax, [ebx+5a4h]
push    0
push    eax
push    dword ptr [ebx]
call    esi
lea     eax, [ebx+594h]
push    0
push    eax
push    dword ptr [ebx]
call    esi
push    dword ptr [ebx]
call    ds:updatewindow
jmp     loc_277bbe63
test    byte ptr [ebx+8], 2
jz      loc_277bbf6d
mov     eax, [ebx+3e0h]
jmp     loc_277bbe60
test    byte ptr [ebx+8], 2
jz      loc_277bbe63
push    1
pop     eax
cmp     esi, eax
jl      loc_277bbe63
mov     [ebx+3e0h], esi
jmp     loc_277bbe60
test    edx, edx
jz      loc_277bbe63
push    8
xor     eax, eax
pop     ecx
mov     edi, edx
rep stosd
test    byte ptr [ebx+8], 2
jz      loc_277bbe63
mov     edi, [ebp+lparam]
lea     esi, [ebx+3f4h]
movsd
movsd
push    [ebp+lparam]
movsd
movsd
call    sub_277c0129
inc     eax
push    7
cdq
pop     ecx
lea     esi, [ebx+404h]
idiv    ecx
mov     eax, [ebp+lparam]
add     eax, 10h
mov     edi, eax
push    eax
mov     [ebp+lparam], eax
mov     [eax-0ch], dx
movsd
movsd
movsd
movsd
call    sub_277c0129
inc     eax
push    7
cdq
pop     ecx
idiv    ecx
mov     eax, [ebp+lparam]
jmp     loc_277bbf69
test    byte ptr [ebx+8], 2
lea     esi, [edx+10h]
mov     [ebp+hwnd], edx
mov     [ebp+wparam], esi
jz      loc_277bbe63
push    edx
call    sub_277bdfd8
test    eax, eax
jz      loc_277bbe63
push    esi
call    sub_277bdfd8
test    eax, eax
jz      loc_277bbe63
push    [ebp+lparam]
call    sub_277be02a
test    eax, eax
jz      loc_277c87dc
push    esi
call    sub_277be02a
test    eax, eax
jz      loc_277c8805
push    esi
push    [ebp+lparam]
call    sub_277be055
test    eax, eax
jg      loc_277c882b
test    byte ptr [ebx+695h], 8
jz      short loc_277bc11e
lea     eax, [ebx+3c0h]
push    eax
push    [ebp+hwnd]
call    sub_277be055
cmp     eax, 0ffffffffh
jz      loc_277bbe63
test    byte ptr [ebx+695h], 10h
push    1
pop     edi
jz      short loc_277bc13f
lea     eax, [ebx+3d0h]
push    eax
push    esi
call    sub_277be055
cmp     eax, edi
jz      loc_277bbe63
push    esi
push    [ebp+hwnd]
call    sub_277c009c
cmp     eax, [ebx+3e0h]
jnb     loc_277bbe63
lea     eax, [ebx+3f4h]
push    eax
push    [ebp+hwnd]
call    sub_277be055
test    eax, eax
jnz     short loc_277bc180
lea     eax, [ebx+404h]
push    eax
push    esi
call    sub_277be055
test    eax, eax
jnz     short loc_277bc180
mov     [ebp+var_4], edi
jmp     loc_277bbe63
lea     edi, [ebx+414h]
lea     esi, [ebx+3f4h]
movsd
movsd
movsd
movsd
lea     esi, [ebx+404h]
lea     edi, [ebx+424h]
movsd
push    [ebp+wparam]
or      byte ptr [ebx+694h], 40h
movsd
movsd
push    ebx
movsd
call    sub_277be0e8
test    eax, eax
mov     [ebp+var_4], eax
jz      short loc_277bc201
mov     esi, [ebp+hwnd]
lea     edi, [ebx+3f4h]
movsd
movsd
movsd
movsd
mov     esi, [ebp+wparam]
lea     edi, [ebx+404h]
movsd
movsd
lea     eax, [ebx+424h]
movsd
push    eax
lea     eax, [ebx+414h]
push    eax
push    ebx
movsd
call    sub_277c0b19
lea     eax, [ebx+404h]
push    eax
lea     eax, [ebx+3f4h]
push    eax
push    ebx
call    sub_277c0b19
push    dword ptr [ebx]
call    ds:updatewindow
and     word ptr [ebx+694h], 0ffbfh
jmp     loc_277bbe63
test    edx, edx
jz      short loc_277bc24b
mov     esi, [ebp+wparam]
push    8
pop     ecx
xor     eax, eax
mov     edi, edx
test    esi, esi
rep stosd
jz      loc_277c8852
cmp     esi, 1
jnz     short loc_277bc24b
mov     eax, [ebp+lparam]
lea     esi, [ebx+444h]
mov     edi, eax
movsd
movsd
movsd
movsd
lea     esi, [ebx+454h]
lea     edi, [eax+10h]
movsd
movsd
movsd
movsd
mov     esi, [ebp+wparam]
mov     eax, [ebx+484h]
cmp     esi, 1
mov     [ebp+var_4], eax
jnz     loc_277bbe63
add     [ebp+var_4], 2
jmp     loc_277bbe63
test    byte ptr [ebx+8], 1
jz      loc_277bbe63
mov     eax, [ebx+484h]
inc     eax
inc     eax
cmp     esi, eax
jnz     loc_277bbe63
test    esi, esi
jle     short loc_277bc297
lea     eax, [ebx+650h]
mov     ecx, [edx]
add     edx, 4
mov     [eax], ecx
add     eax, 4
dec     esi
jnz     short loc_277bc28a
push    ebx
call    sub_277be2b3
jmp     loc_277bbf6d
and     dword ptr [edx], 0
and     dword ptr [edx+4], 0
mov     eax, [ebx+3a4h]
mov     [edx+8], eax
mov     eax, [ebx+3a8h]
mov     [edx+0ch], eax
test    byte ptr [ebx+8], 10h
jnz     short loc_277bc2cc
mov     ecx, [ebx+3b0h]
add     ecx, eax
mov     [edx+0ch], ecx
push    0
push    dword ptr [ebx+8]
push    edx
call    ds:adjustwindowrect
mov     eax, [ebp+lparam]
mov     ecx, [eax]
and     dword ptr [eax], 0
sub     [eax+8], ecx
mov     ecx, [eax+4]
sub     [eax+0ch], ecx
and     dword ptr [eax+4], 0
jmp     loc_277bbf6d
mov     ecx, [ebx+3b4h]
xor     eax, eax
push    eax
mov     [ebp+rect.left], eax
push    dword ptr [ebx+8]
mov     [ebp+rect.top], eax
mov     [ebp+rect.right], ecx
mov     ecx, [ebx+3b0h]
lea     eax, [ebp+rect]
mov     [ebp+rect.bottom], ecx
push    eax
call    ds:adjustwindowrect
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
jmp     loc_277bbe60
cmp     esi, 6
jnb     loc_277c8889
xor     eax, eax
mov     edi, [ebx+esi*4+384h]
test    esi, esi
setz    al
push    eax
lea     ebx, [ebx+esi*4+384h]
push    0
push    [ebp+hwnd]
mov     [ebx], edx
call    ds:invalidaterect
mov     eax, edi
jmp     loc_277bbe66
mov     ax, [ebx+694h]
movzx   ecx, word ptr [ebx+314h]
shr     eax, 9
and     eax, 1
shl     eax, 10h
or      eax, ecx
cmp     edx, 0ffffffffh
mov     [ebp+var_4], eax
jz      loc_277c8891
cmp     edx, 7
jge     short loc_277bc392
or      byte ptr [ebx+695h], 2
movsx   eax, dl
mov     [ebx+314h], eax
lea     eax, [ebx+18h]
push    eax
push    ebx
call    sub_277bc730
push    0
push    0
push    [ebp+hwnd]
call    ds:invalidaterect
jmp     loc_277bbe63
mov     cx, [ebx+694h]
movzx   eax, word ptr [ebx+314h]
and     ecx, 200h
shl     ecx, 7
or      eax, ecx
jmp     loc_277bbe66
test    edx, edx
jz      loc_277bbe63
mov     edi, esi
and     edi, 1
jz      short loc_277bc3ec
push    edx
call    sub_277bdfd8
test    eax, eax
jz      loc_277bbe63
mov     edx, [ebp+lparam]
and     esi, 2
mov     [ebp+hwnd], esi
jz      short loc_277bc408
add     edx, 10h
push    edx
call    sub_277bdfd8
test    eax, eax
jz      loc_277bbe63
mov     edx, [ebp+lparam]
test    edi, edi
jz      short loc_277bc41d
push    edx
call    sub_277be02a
test    eax, eax
jz      loc_277c890b
mov     edx, [ebp+lparam]
test    esi, esi
jz      short loc_277bc435
add     edx, 10h
push    edx
call    sub_277be02a
test    eax, eax
jz      loc_277c8934
mov     edx, [ebp+lparam]
test    edi, edi
jz      short loc_277bc44c
lea     edi, [ebx+3c0h]
mov     esi, edx
movsd
movsd
movsd
movsd
or      byte ptr [ebx+695h], 8
add     edx, 10h
cmp     [ebp+hwnd], 0
jz      short loc_277bc468
lea     edi, [ebx+3d0h]
mov     esi, edx
movsd
movsd
movsd
movsd
or      byte ptr [ebx+695h], 10h
mov     ax, [ebx+694h]
test    ah, 10h
jz      loc_277bbf6d
test    ah, 8
jz      loc_277bbf6d
lea     eax, [ebx+3d0h]
add     ebx, 3c0h
push    eax
push    ebx
mov     [ebp+lparam], eax
call    sub_277be055
test    eax, eax
jle     loc_277bbf6d
jmp     loc_277c895d
test    byte ptr [ebx+695h], 20h
jnz     short loc_277bc4c3
and     [ebp+var_4], 0
test    esi, esi
jnz     short loc_277bc4ce
and     word ptr [ebx+694h], 0dfffh
jmp     loc_277bbe63
mov     eax, [ebx+688h]
mov     [ebp+var_4], eax
jmp     short loc_277bc4b1
or      byte ptr [ebx+695h], 20h
mov     [ebx+688h], esi
jmp     loc_277bbe63
cmp     edi, 2006h
jnz     def_277bbd1e
jmp     loc_277c89a8
push    698h
push    40h
call    ds:localalloc
test    eax, eax
jz      short locret_277bc512
push    eax
push    0
push    [esp+8+hwnd]
call    ds:setwindowlonga
push    1
pop     eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_8]
test    word ptr [esi+20h], 0ffe0h
jnz     loc_277c89b0
push    edi
push    ebx
mov     ebx, [ebp+hdc]
push    esi
push    [ebp+lpnewitem]
push    ebx
call    sub_277b6303
lea     eax, [ebx+18h]
push    eax
push    ebx
call    sub_277bc730
mov     ecx, [ebx+8]
mov     eax, [esi+4]
shr     ecx, 1bh
not     cl
mov     [ebx+368h], eax
mov     ax, [ebx+694h]
and     ecx, 1
and     ax, 0fffdh
shl     ecx, 1
push    0ffh
or      eax, ecx
push    2
push    0
mov     [ebx+694h], ax
call    ds:createpen
mov     esi, ds:createpopupmenu
mov     [ebx+378h], eax
call    esi
mov     edi, ds:appendmenua
mov     [ebx+3b8h], eax
test    eax, eax
jz      short loc_277bc5a6
lea     ecx, [ebx+38h]
push    ecx
push    1
push    0
push    eax
call    edi
call    esi
test    eax, eax
mov     [ebx+3bch], eax
jz      short loc_277bc5d9
lea     ecx, [ebx+0cch]
xor     eax, eax
mov     [ebp+lpnewitem], ecx
push    [ebp+lpnewitem]
lea     esi, [eax+1]
push    esi
push    0
push    dword ptr [ebx+3bch]
call    edi
add     [ebp+lpnewitem], 2ah
mov     eax, esi
cmp     eax, 0ch
jl      short loc_277bc5bd
and     word ptr [ebx+694h], 0f7ffh
lea     esi, [ebx+3e4h]
push    esi
mov     word ptr [ebx+3c6h], 0eh
mov     word ptr [ebx+3c2h], 9
mov     word ptr [ebx+3c0h], 6d8h
call    ds:getlocaltime
lea     edi, [ebx+3f4h]
movsd
movsd
test    byte ptr [ebx+8], 2
movsd
movsd
jnz     loc_277bc71b
lea     eax, [ebx+3e4h]
lea     edi, [ebx+464h]
mov     esi, eax
mov     ecx, [ebp+arg_8]
movsd
movsd
movsd
movsd
lea     edi, [ebx+474h]
mov     esi, eax
movsd
movsd
movsd
movsd
lea     edi, [ebx+444h]
mov     esi, eax
movsd
movsd
movsd
movsd
lea     edi, [ebx+454h]
mov     esi, eax
movsd
movsd
movsd
movsd
mov     dword ptr [ebx+3e0h], 7
mov     ecx, [ecx+0ch]
xor     edi, edi
xor     eax, eax
cmp     ecx, edi
jz      short loc_277bc677
push    edi
push    edi
push    31h
push    ecx
call    ds:sendmessagea
cmp     eax, edi
jz      loc_277c89b8
push    edi
push    eax
push    ebx
call    sub_277bc930
mov     cx, [ebx+3fah]
mov     ax, [ebx+3f4h]
mov     [ebp+var_a], cx
mov     ecx, [ebx+490h]
imul    ecx, [ebx+494h]
lea     esi, [ebx+3f4h]
mov     [ebp+var_10], ax
mov     ax, [ebx+3f6h]
mov     [ebp+var_e], ax
movzx   eax, ax
cmp     eax, ecx
nop
jle     loc_277c89c5
lea     eax, [ebp+var_10]
push    eax
push    ebx
call    sub_277bce68
push    ebx
call    sub_277bd2e0
push    esi
push    ebx
call    sub_277bd3a3
push    ebx
call    sub_277bd4ef
push    ebx
call    sub_277bd566
push    edi
push    1d4c0h
push    2
push    dword ptr [ebx]
call    ds:settimer
mov     [ebx+48ch], eax
lea     eax, [ebx+384h]
push    eax
call    sub_277bd696
mov     [ebx+370h], edi
pop     ebx
xor     eax, eax
pop     edi
pop     esi
leave
retn    0ch
lea     edi, [ebx+404h]
lea     esi, [ebx+3e4h]
movsd
movsd
movsd
movsd
jmp     loc_277bc61e
push    ebp
mov     ebp, esp
sub     esp, 54h
push    ebx
push    esi
mov     esi, [ebp+lpbuffer]
push    edi
push    14h
lea     eax, [esi+60h]
push    eax
push    1046h
call    sub_277bc928
mov     edi, ds:loadstringa
push    eax
call    edi
lea     ebx, [esi+74h]
push    28h
push    ebx
push    1047h
call    sub_277bc928
push    eax
call    edi
lea     eax, [esi+9ch]
push    14h
push    eax
push    1048h
call    sub_277bc928
push    eax
call    edi
mov     eax, ebx
mov     cl, [eax]
test    cl, cl
jz      short loc_277bc794
cmp     cl, 79h
jz      short loc_277bc794
cmp     cl, 4dh
jnz     loc_277c863b
cmp     byte ptr [eax], 79h
jz      loc_277c8647
mov     dword ptr [esi+0b0h], 1
and     [ebp+lpbuffer], 0
mov     edi, ds:getlocaleinfoa
lea     eax, [esi+0b4h]
mov     ebx, 400h
mov     [ebp+lplcdata], eax
mov     eax, [ebp+lpbuffer]
push    2ah
push    [ebp+lplcdata]
add     eax, 38h
push    eax
push    ebx
call    edi
test    eax, eax
jz      loc_277c8653
inc     [ebp+lpbuffer]
add     [ebp+lplcdata], 2ah
cmp     [ebp+lpbuffer], 0ch
jl      short loc_277bc7bf
and     [ebp+lpbuffer], 0
lea     eax, [esi+2ach]
mov     [ebp+lplcdata], eax
mov     eax, [ebp+lpbuffer]
push    0bh
push    [ebp+lplcdata]
add     eax, 31h
push    eax
push    ebx
call    edi
test    eax, eax
jz      loc_277c8653
inc     [ebp+lpbuffer]
add     [ebp+lplcdata], 0bh
cmp     [ebp+lpbuffer], 7
jl      short loc_277bc7f0
mov     eax, [ebp+arg_0]
test    byte ptr [eax+695h], 2
jz      loc_277bc900
lea     eax, [ebp+lcdata]
push    40h
push    eax
push    100dh
push    ebx
call    edi
test    eax, eax
jle     short loc_277bc843
movsx   eax, [ebp+lcdata]
sub     eax, 30h
mov     [esi+300h], eax
push    0ch
lea     eax, [esi+304h]
lea     ecx, [esi+0b4h]
pop     edx
mov     [eax], ecx
add     eax, 4
add     ecx, 2ah
dec     edx
jnz     short loc_277bc852
push    7
lea     eax, [esi+334h]
lea     ecx, [esi+2ach]
pop     edx
mov     [eax], ecx
add     eax, 4
add     ecx, 0bh
dec     edx
jnz     short loc_277bc86c
push    20h
push    esi
push    1043h
call    sub_277bc928
mov     edi, ds:loadstringa
push    eax
call    edi
add     esi, 20h
push    40h
push    esi
push    1044h
call    sub_277bc928
push    eax
call    edi
mov     esi, [ebp+arg_0]
cmp     dword ptr [esi+368h], 0
jz      short loc_277bc8f6
mov     ax, [esi+464h]
mov     [ebp+var_14], ax
mov     ax, [esi+466h]
mov     [ebp+var_12], ax
mov     ax, [esi+46ah]
mov     [ebp+var_e], ax
lea     eax, [ebp+var_14]
push    eax
push    esi
call    sub_277bce68
push    esi
call    sub_277bd2e0
lea     eax, [esi+3f4h]
push    eax
push    esi
call    sub_277bd3a3
push    esi
call    sub_277bd4ef
push    esi
call    sub_277bd566
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+lcdata]
push    40h
push    eax
push    100ch
push    ebx
call    edi
test    eax, eax
jle     loc_277bc824
movsx   eax, [ebp+lcdata]
sub     eax, 30h
mov     [esi+2fch], eax
jmp     loc_277bc824
push    0
call    sub_277b3cfd
retn
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
mov     ebx, [ebp+h]
push    esi
push    edi
test    ebx, ebx
jz      short loc_277bc9b9
lea     eax, [ebp+pv]
push    eax
push    3ch
push    ebx
call    ds:getobjecta
xor     eax, eax
cmp     [ebp+var_2c], 2bch
setl    al
dec     eax
and     eax, 0c8h
add     eax, 320h
mov     [ebp+var_2c], eax
lea     eax, [ebp+pv]
push    eax
call    ds:createfontindirecta
test    eax, eax
mov     [ebp+h], eax
jz      short loc_277bc9b2
mov     esi, [ebp+hdc]
mov     eax, [esi+380h]
lea     edi, [esi+380h]
test    eax, eax
jz      short loc_277bc992
push    eax
call    ds:deleteobject
mov     eax, [ebp+h]
push    ebx
mov     [esi+37ch], ebx
mov     [edi], eax
call    sub_277bc9de
push    esi
mov     [esi+14h], eax
call    sub_277bc9e3
cmp     [ebp+arg_8], 0
jnz     short loc_277bc9c8
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    0dh
call    ds:getstockobject
mov     ebx, eax
jmp     loc_277bc940
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
push    dword ptr [esi]
call    ds:updatewindow
jmp     short loc_277bc9b2
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 0fch
push    ebx
mov     ebx, [ebp+hdc]
push    esi
push    edi
push    dword ptr [ebx]
call    ds:getdc
push    dword ptr [ebx+380h]
mov     [ebp+hdc], eax
push    eax
call    ds:selectobject
mov     [ebp+h], eax
lea     eax, [ebp+datestr]
push    40h
lea     esi, [ebx+3e4h]
push    eax
push    0
push    esi
push    1
push    400h
call    ds:getdateformata
lea     eax, [ebp+datestr]
push    eax
lea     eax, [ebx+18h]
push    eax
lea     eax, [ebp+string]
push    offset ass
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     edi, [ebx+3b0h]
lea     eax, [ebx+3b4h]
push    edi
push    eax
lea     eax, [ebp+string]
push    0ffffffffh
push    eax
push    [ebp+hdc]
call    sub_277bccbe
add     dword ptr [edi], 4
lea     edi, [ebp+date]
movsd
movsd
movsd
movsd
mov     esi, 80h
lea     eax, [ebp+string]
push    esi
push    eax
mov     edi, ds:getdateformata
add     [ebp+date.wyear], 3e8h
lea     eax, [ebx+0b4h]
push    eax
lea     eax, [ebp+date]
push    eax
push    0
push    400h
call    edi
lea     eax, [ebx+3ach]
push    0
push    eax
lea     eax, [ebp+string]
push    0ffffffffh
push    eax
push    [ebp+hdc]
call    sub_277bccbe
lea     eax, [ebp+var_4]
push    eax
lea     eax, [ebp+var_c]
push    eax
push    2
push    offset a0000
push    [ebp+hdc]
call    sub_277bccbe
mov     [ebp+var_10], 1
mov     ax, word ptr [ebp+var_10]
push    esi
mov     [ebp+date.wmonth], ax
lea     eax, [ebp+string]
push    eax
lea     eax, [ebx+8ch]
push    eax
lea     eax, [ebp+date]
push    eax
push    0
push    400h
call    edi
lea     eax, [ebp+var_14]
push    eax
lea     eax, [ebp+var_8]
push    eax
lea     eax, [ebp+string]
push    0ffffffffh
push    eax
push    [ebp+hdc]
call    sub_277bccbe
mov     ecx, [ebx+8]
mov     eax, [ebp+var_8]
shr     ecx, 2
add     eax, 3ch
and     ecx, 1
cdq
add     ecx, 7
idiv    ecx
cmp     eax, [ebp+var_c]
mov     [ebp+var_8], eax
jg      loc_277bcc88
mov     eax, [ebp+var_14]
cmp     eax, [ebp+var_4]
jg      loc_277c89e6
inc     [ebp+var_10]
cmp     [ebp+var_10], 0ch
jle     short loc_277bcada
push    dword ptr [ebx+37ch]
mov     edi, [ebp+hdc]
mov     esi, ds:selectobject
push    edi
call    esi
lea     eax, [ebx+2c4h]
mov     [ebp+var_8], 7
mov     [ebp+hdc], eax
lea     eax, [ebp+var_14]
push    eax
lea     eax, [ebp+var_18]
push    eax
push    0ffffffffh
push    [ebp+hdc]
push    edi
call    sub_277bccbe
mov     eax, [ebp+var_18]
cmp     eax, [ebp+var_c]
jg      loc_277bcc90
mov     eax, [ebp+var_14]
cmp     eax, [ebp+var_4]
jg      loc_277c89ee
add     [ebp+hdc], 0bh
dec     [ebp+var_8]
jnz     short loc_277bcb6f
push    [ebp+h]
push    edi
call    esi
push    edi
push    dword ptr [ebx]
call    ds:releasedc
mov     ecx, [ebx+8]
mov     eax, [ebp+var_c]
shr     ecx, 2
and     ecx, 1
lea     esi, [eax+2]
mov     eax, [ebp+var_4]
add     ecx, 7
imul    ecx, esi
add     eax, 2
lea     edi, [esi+0ch]
add     [ebx+3b4h], edi
inc     ecx
cmp     ecx, [ebx+3b4h]
lea     edx, [eax+eax*8+1]
mov     [ebp+hdc], edx
mov     [ebx+3a8h], edx
lea     edx, [ebx+3b4h]
mov     [ebx+39ch], esi
mov     [ebx+3a0h], eax
mov     [ebx+3a4h], ecx
jle     short loc_277bcc06
mov     [edx], ecx
push    1
lea     edx, [eax+eax+1]
pop     edi
add     eax, edx
test    byte ptr [ebx+8], 4
mov     [ebx+4b8h], edi
mov     [ebx+4bch], edi
mov     [ebx+4c0h], ecx
mov     [ebx+4c4h], edx
mov     [ebx+558h], edi
mov     [ebx+55ch], edx
mov     [ebx+560h], ecx
mov     [ebx+564h], eax
jnz     short loc_277bcc98
imul    esi, 7
mov     ecx, [ebx+558h]
mov     [ebx+57ch], eax
mov     eax, [ebp+hdc]
add     esi, ecx
mov     [ebx+584h], eax
lea     eax, [ebp+rect]
push    eax
mov     [ebx+578h], ecx
push    dword ptr [ebx]
mov     [ebx+580h], esi
call    ds:getclientrect
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_277bcd09
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     [ebp+var_c], eax
jmp     loc_277bcb38
mov     [ebp+var_c], eax
jmp     loc_277bcb8e
mov     edx, [ebp+hdc]
lea     ecx, [esi+1]
mov     [ebx+568h], edi
mov     [ebx+56ch], eax
mov     [ebx+570h], ecx
mov     [ebx+574h], edx
mov     [ebx+558h], ecx
jmp     short loc_277bcc45
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+c]
and     [ebp+sz._cx], 0
and     [ebp+sz.cy], 0
cmp     eax, 0ffffffffh
jnz     short loc_277bccdc
push    [ebp+lpstring]
call    ds:lstrlena
lea     ecx, [ebp+sz]
push    ecx
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    ds:gettextextentpointa
mov     ecx, [ebp+arg_c]
test    ecx, ecx
jz      short loc_277bccf9
mov     edx, [ebp+sz._cx]
mov     [ecx], edx
mov     ecx, [ebp+arg_10]
test    ecx, ecx
jz      short locret_277bcd05
mov     edx, [ebp+sz.cy]
mov     [ecx], edx
leave
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 14h
mov     ecx, [ebp+arg_0]
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
lea     edi, [ecx+5b4h]
mov     esi, eax
mov     edx, [ecx+3a4h]
movsd
movsd
movsd
movsd
mov     edi, [eax+8]
mov     ebx, [eax+0ch]
sub     edi, [eax]
sub     ebx, [eax+4]
lea     esi, [edx+6]
push    1
mov     eax, edi
mov     [ebp+var_4], esi
sub     eax, edx
cdq
idiv    esi
mov     edx, [ecx+3a8h]
mov     esi, [ecx+3b0h]
inc     eax
mov     [ebp+arg_4], eax
mov     [ecx+494h], eax
lea     eax, [edx+6]
mov     [ebp+arg_0], eax
mov     eax, ebx
sub     eax, edx
sub     eax, esi
cdq
idiv    [ebp+arg_0]
pop     edx
inc     eax
cmp     [ebp+arg_4], edx
mov     [ecx+490h], eax
jl      loc_277c8ba2
cmp     eax, edx
jl      loc_277c8bb2
mov     edx, [ecx+490h]
mov     eax, [ecx+494h]
mov     esi, edx
imul    esi, eax
cmp     esi, 0ch
jg      loc_277c8bad
mov     esi, [ecx+494h]
mov     eax, edi
imul    esi, [ebp+var_4]
sub     esi, 6
sub     eax, esi
cdq
sub     eax, edx
sar     eax, 1
mov     [ecx+5c4h], eax
js      loc_277bce57
mov     eax, [ebp+arg_0]
mov     edx, [ecx+3b0h]
imul    eax, [ecx+490h]
add     esi, [ecx+5c4h]
lea     edi, [eax+edx-6]
mov     eax, ebx
sub     eax, edi
mov     [ecx+5cch], esi
cdq
sub     eax, edx
lea     edx, [ecx+5c8h]
sar     eax, 1
mov     [edx], eax
js      short loc_277bce63
mov     eax, [ecx+3a0h]
mov     esi, [edx]
cdq
sub     eax, edx
add     edi, esi
sar     eax, 1
add     eax, esi
mov     [ecx+5d0h], edi
mov     [ebp+var_10], eax
add     eax, 0fh
mov     [ebp+var_8], eax
mov     eax, [ecx+5c4h]
add     eax, 5
lea     edi, [ecx+498h]
mov     [ebp+var_14], eax
add     eax, 14h
lea     esi, [ebp+var_14]
mov     [ebp+var_c], eax
movsd
mov     eax, [ecx+5cch]
movsd
movsd
sub     eax, 5
movsd
mov     [ebp+var_c], eax
add     eax, 0ffffffech
lea     edi, [ecx+4a8h]
lea     esi, [ebp+var_14]
mov     [ebp+var_14], eax
movsd
movsd
movsd
movsd
pop     edi
pop     esi
pop     ebx
leave
retn    8
and     dword ptr [ecx+5c4h], 0
jmp     loc_277bcdbf
and     dword ptr [edx], 0
jmp     short loc_277bcdf2
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
mov     ecx, [esi+494h]
imul    ecx, [esi+490h]
test    byte ptr [esi+695h], 10h
mov     [esi+484h], ecx
jnz     short loc_277bcf0a
test    byte ptr [esi+695h], 8
jnz     loc_277bcf3a
mov     cx, [esi+694h]
test    ch, 10h
jnz     loc_277bcf55
mov     ax, [edi]
lea     ebx, [esi+464h]
test    ch, 8
mov     [ebx], ax
mov     ax, [edi+2]
mov     [esi+466h], ax
mov     word ptr [esi+46ah], 1
jnz     loc_277bcf89
movzx   edi, word ptr [esi+466h]
movzx   eax, word ptr [ebx]
dec     edi
mov     [ebp+arg_0], eax
jz      loc_277c8c6a
mov     eax, [esi+484h]
and     [ebp+var_4], 0
inc     eax
js      loc_277bcff3
lea     eax, [esi+60ch]
mov     [ebp+arg_4], eax
jmp     loc_277bcfc6
movzx   eax, word ptr [esi+3d0h]
movzx   edx, word ptr [edi]
sub     eax, edx
movzx   edx, word ptr [edi+2]
lea     eax, [eax+eax*2]
shl     eax, 2
sub     eax, edx
movzx   edx, word ptr [esi+3d2h]
lea     eax, [eax+edx+1]
cmp     eax, ecx
jge     loc_277bce91
jmp     loc_277c8c1a
lea     ebx, [esi+3c0h]
push    ebx
push    edi
call    sub_277be055
cmp     eax, 0ffffffffh
jnz     loc_277bce9e
jmp     loc_277c8c2b
movzx   eax, word ptr [esi+3d0h]
movzx   edx, word ptr [edi]
sub     eax, edx
movzx   edx, word ptr [edi+2]
lea     eax, [eax+eax*2]
shl     eax, 2
sub     eax, edx
movzx   edx, word ptr [esi+3d2h]
lea     eax, [eax+edx+1]
cmp     eax, [esi+484h]
jge     loc_277bceae
jmp     loc_277c8c4c
lea     eax, [esi+3c0h]
push    eax
push    ebx
call    sub_277be055
cmp     eax, 0ffffffffh
jnz     loc_277bced7
jmp     loc_277c8c57
inc     [ebp+arg_0]
push    1
pop     edi
jmp     short loc_277bcfdd
sub     ebx, eax
mov     eax, [ebp+arg_4]
inc     [ebp+var_4]
add     [ebp+arg_4], 4
mov     [eax], ebx
mov     eax, [esi+484h]
inc     eax
cmp     [ebp+var_4], eax
jg      short loc_277bcff3
push    edi
push    [ebp+arg_0]
call    sub_277bd0f4
mov     ebx, eax
mov     eax, [ebp+arg_4]
inc     edi
cmp     edi, 0ch
mov     [eax-38h], ebx
jg      short loc_277bcfa4
push    edi
push    [ebp+arg_0]
call    sub_277bd151
sub     eax, [esi+314h]
jns     short loc_277bcfac
add     eax, 7
jmp     short loc_277bcfac
mov     eax, [esi+60ch]
cmp     eax, [esi+5d4h]
jz      loc_277bd0cb
mov     eax, [esi+484h]
lea     ebx, [esi+474h]
dec     eax
push    2
push    eax
lea     edi, [esi+464h]
push    ebx
push    edi
call    sub_277bd1d8
mov     eax, [esi+484h]
test    byte ptr [esi+695h], 10h
mov     ax, [esi+eax*4+5d4h]
mov     [esi+47ah], ax
jnz     loc_277bd0d9
mov     dx, [esi+466h]
mov     ax, [edi]
lea     ecx, [esi+446h]
dec     dx
mov     [esi+444h], ax
mov     [ecx], dx
jz      loc_277c8c88
mov     ax, [esi+60ch]
mov     dx, [esi+476h]
inc     ax
inc     dx
mov     [esi+44ah], ax
mov     ax, [ebx]
lea     ecx, [esi+456h]
cmp     dx, 0dh
mov     [esi+454h], ax
mov     [ecx], dx
jz      loc_277c8c9a
mov     eax, [esi+484h]
pop     edi
mov     cx, [esi+eax*4+608h]
sub     cx, [esi+eax*4+5d0h]
sub     cx, [esi+eax*4+5d4h]
add     ecx, 2ah
mov     [esi+45ah], cx
pop     esi
pop     ebx
leave
retn    8
add     eax, 0fffffff9h
mov     [esi+60ch], eax
jmp     loc_277bd005
lea     eax, [esi+3d0h]
push    eax
push    ebx
call    sub_277be055
cmp     eax, 1
jnz     loc_277bd044
jmp     loc_277c8c75
mov     edx, [esp+arg_4]
push    ebx
mov     ebx, [esp+4+arg_0]
push    esi
cmp     ebx, 6d8h
jz      loc_277c94f5
mov     ecx, dword_2782ac58[edx*4]
lea     eax, dword_2782ac58[edx*4]
sub     ecx, [eax-4]
cmp     edx, 2
jz      short loc_277bd127
mov     eax, ecx
pop     esi
pop     ebx
retn    8
test    bl, 3
jnz     short loc_277bd120
cmp     ebx, 6d6h
jle     short loc_277bd14e
mov     eax, ebx
push    64h
cdq
pop     esi
idiv    esi
test    edx, edx
jnz     short loc_277bd14e
mov     eax, ebx
mov     esi, 190h
cdq
idiv    esi
test    edx, edx
jnz     short loc_277bd120
inc     ecx
jmp     short loc_277bd120
mov     ecx, [esp+arg_0]
push    ebx
push    ebp
push    esi
lea     eax, [ecx-1]
push    edi
sar     eax, 2
mov     edi, 190h
lea     esi, [eax+ecx+4]
mov     eax, 6d8h
cmp     ecx, eax
jle     loc_277c94dc
lea     eax, [ecx-6a5h]
push    64h
cdq
pop     ebx
mov     ebp, edi
idiv    ebx
mov     ebx, eax
lea     eax, [ecx-641h]
cdq
idiv    ebp
sub     eax, ebx
lea     esi, [esi+eax-0bh]
mov     eax, [esp+10h+arg_4]
add     esi, dword ptr (a0000+4)[eax*4]
cmp     eax, 2
jle     short loc_277bd1c7
test    cl, 3
jnz     short loc_277bd1c7
cmp     ecx, 6d6h
jle     short loc_277bd1c6
mov     eax, ecx
push    64h
cdq
pop     ebx
idiv    ebx
test    edx, edx
jnz     short loc_277bd1c6
mov     eax, ecx
cdq
idiv    edi
test    edx, edx
jnz     short loc_277bd1c7
inc     esi
mov     eax, esi
push    7
cdq
pop     ecx
pop     edi
idiv    ecx
pop     esi
pop     ebp
pop     ebx
mov     eax, edx
retn    8
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
cmp     esi, ebx
push    edi
jz      short loc_277bd1ee
mov     edi, ebx
movsd
movsd
movsd
movsd
mov     eax, [ebp+arg_c]
dec     eax
jz      loc_277c944d
dec     eax
jnz     short loc_277bd22f
push    0dh
push    1
push    [ebp+arg_8]
lea     esi, [ebx+2]
push    esi
call    sub_277bd29d
test    eax, eax
jnz     short loc_277bd28a
movzx   eax, word ptr [esi]
push    eax
movzx   eax, word ptr [ebx]
push    eax
call    sub_277bd0f4
movzx   ecx, word ptr [ebx+6]
cmp     ecx, eax
jg      loc_277c9455
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
dec     eax
push    0
dec     eax
pop     edi
jnz     short loc_277bd263
mov     esi, [ebp+arg_8]
imul    esi, 7
cmp     esi, edi
jl      loc_277c9409
movzx   eax, word ptr [ebx+2]
push    eax
movzx   eax, word ptr [ebx]
push    eax
call    sub_277bd0f4
movzx   ecx, word ptr [ebx+6]
lea     edx, [esi+ecx]
cmp     edx, eax
jg      short loc_277bd271
add     [ebx+6], si
jmp     short loc_277bd228
sub     eax, 4
jnz     loc_277c93a4
mov     esi, [ebp+arg_8]
jmp     short loc_277bd23c
push    2
sub     ecx, eax
push    1
push    ebx
push    ebx
lea     esi, [esi+ecx-1]
mov     word ptr [ebx+6], 1
call    sub_277bd1d8
jmp     short loc_277bd244
movzx   ecx, word ptr [ebx+2]
add     [ebx], ax
mov     ax, [ebx]
push    ecx
movzx   eax, ax
jmp     loc_277bd216
mov     edx, [esp+arg_0]
push    ebx
push    esi
mov     esi, [esp+8+arg_c]
movzx   ecx, word ptr [edx]
add     ecx, [esp+8+arg_4]
xor     eax, eax
push    edi
mov     edi, [esp+0ch+arg_8]
cmp     ecx, esi
jge     short loc_277bd2ca
test    eax, eax
jnz     short loc_277bd2c1
cmp     ecx, edi
jl      short loc_277bd2d7
pop     edi
pop     esi
mov     [edx], cx
pop     ebx
retn    10h
mov     ebx, edi
sub     ebx, esi
add     ecx, ebx
inc     eax
cmp     ecx, esi
jl      short loc_277bd2b9
jmp     short loc_277bd2ca
mov     ebx, esi
sub     ebx, edi
add     ecx, ebx
dec     eax
jmp     short loc_277bd2bd
push    ebp
mov     ebp, esp
sub     esp, 60h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+8], 1
jz      short loc_277bd332
push    dword ptr [esi]
call    ds:getparent
test    eax, eax
jz      short loc_277bd332
mov     ebx, [esi+484h]
movzx   edx, word ptr [esi+444h]
movzx   eax, word ptr [esi+446h]
inc     ebx
mov     [ebp+var_4], edx
inc     ebx
mov     [ebp+arg_0], eax
cmp     ebx, [esi+64ch]
jnz     short loc_277bd339
cmp     eax, [esi+644h]
jnz     short loc_277bd339
cmp     edx, [esi+648h]
jnz     short loc_277bd339
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    9
xor     eax, eax
pop     ecx
lea     edi, [ebp+lparam]
rep stosd
mov     ax, word ptr [ebp+arg_0]
mov     [ebp+var_1c], dx
mov     [ebp+var_1a], ax
lea     eax, [ebp+var_60]
mov     [ebp+var_8], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffd15h
push    esi
mov     [ebp+var_16], 1
mov     [ebp+var_c], ebx
call    sub_277b9838
test    ebx, ebx
jle     short loc_277bd389
mov     eax, [ebp+var_8]
lea     ecx, [esi+650h]
mov     edx, ebx
mov     edi, [eax]
add     eax, 4
mov     [ecx], edi
add     ecx, 4
dec     edx
jnz     short loc_277bd37c
mov     eax, [ebp+arg_0]
mov     [esi+64ch], ebx
mov     [esi+644h], eax
mov     eax, [ebp+var_4]
mov     [esi+648h], eax
jmp     short loc_277bd332
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     edi, [esp+8+arg_0]
movzx   eax, word ptr [esi+2]
push    eax
movzx   eax, word ptr [esi]
push    eax
push    edi
call    sub_277bd3d8
test    eax, eax
jl      short loc_277bd3d3
lea     ecx, [edi+594h]
push    ecx
movzx   ecx, word ptr [esi+6]
push    ecx
push    eax
push    edi
call    sub_277bd40e
pop     edi
pop     esi
retn    8
mov     ecx, [esp+arg_0]
mov     eax, [esp+arg_4]
movzx   edx, word ptr [ecx+464h]
sub     eax, edx
movzx   edx, word ptr [ecx+466h]
lea     eax, [eax+eax*2]
shl     eax, 2
sub     eax, edx
add     eax, [esp+arg_8]
js      short loc_277bd409
cmp     eax, [ecx+484h]
jge     short loc_277bd409
retn    0ch
or      eax, 0ffffffffh
jmp     short locret_277bd406
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
lea     eax, [ebp+var_10]
push    eax
push    edi
push    esi
call    sub_277bd491
mov     eax, [esi+edi*4+5d4h]
mov     ecx, [ebp+arg_8]
sub     eax, [esi+edi*4+60ch]
push    7
lea     edi, [eax+ecx-1]
pop     ecx
mov     eax, edi
push    7
cdq
idiv    ecx
mov     ecx, [ebp+arg_c]
mov     eax, edi
pop     edi
imul    edx, [esi+39ch]
add     edx, [esi+578h]
add     edx, [ebp+var_10]
mov     [ecx], edx
cdq
idiv    edi
pop     edi
imul    eax, [esi+3a0h]
add     eax, [esi+57ch]
add     eax, [ebp+var_c]
mov     [ecx+4], eax
mov     eax, [ecx]
add     eax, [esi+39ch]
mov     [ecx+8], eax
mov     eax, [ecx+4]
add     eax, [esi+3a0h]
pop     esi
mov     [ecx+0ch], eax
leave
retn    10h
mov     ecx, [esp+arg_0]
mov     eax, [esp+arg_4]
push    ebx
push    esi
mov     esi, [ecx+494h]
push    edi
cdq
idiv    esi
mov     edi, eax
mov     eax, [esp+0ch+arg_4]
cdq
idiv    esi
mov     eax, [esp+0ch+arg_8]
mov     esi, [ecx+5c4h]
mov     [eax], esi
mov     ebx, [ecx+3a4h]
add     ebx, esi
mov     [eax+8], ebx
mov     esi, [ecx+5c8h]
mov     [eax+4], esi
mov     ebx, [ecx+3a8h]
add     ebx, esi
mov     [eax+0ch], ebx
test    edx, edx
jnz     loc_277c8d22
test    edi, edi
jnz     loc_277c8d38
pop     edi
pop     esi
pop     ebx
retn    0ch
push    esi
mov     esi, [esp+4+arg_0]
push    edi
test    byte ptr [esi+8], 8
jnz     short loc_277bd556
movzx   eax, word ptr [esi+3e6h]
push    eax
movzx   eax, word ptr [esi+3e4h]
push    eax
push    esi
call    sub_277bd3d8
test    eax, eax
jl      short loc_277bd55b
or      byte ptr [esi+694h], 20h
mov     ecx, [esi+eax*4+5d4h]
movzx   edx, word ptr [esi+3eah]
sub     ecx, [esi+eax*4+60ch]
mov     [esi+588h], eax
push    7
pop     edi
lea     ecx, [ecx+edx-1]
push    edi
mov     eax, ecx
cdq
idiv    edi
mov     [esi+58ch], eax
mov     eax, ecx
cdq
pop     ecx
idiv    ecx
mov     [esi+590h], edx
pop     edi
pop     esi
retn    4
and     word ptr [esi+694h], 0ffdfh
jmp     short loc_277bd556
push    ebp
mov     ebp, esp
sub     esp, 68h
push    esi
mov     esi, [ebp+arg_0]
push    dword ptr [esi]
call    ds:getdc
push    dword ptr [esi+380h]
mov     [ebp+hdc], eax
push    eax
call    ds:selectobject
mov     [ebp+h], eax
and     [ebp+var_c], 0
movzx   eax, word ptr [esi+464h]
cmp     dword ptr [esi+484h], 0
mov     [ebp+var_8], eax
movzx   eax, word ptr [esi+466h]
mov     [ebp+arg_0], eax
jle     loc_277bd67a
push    edi
push    ebx
mov     ebx, ds:getdateformata
lea     edi, [esi+528h]
mov     ax, word ptr [ebp+var_8]
push    40h
mov     [ebp+date.wyear], ax
mov     ax, word ptr [ebp+arg_0]
mov     [ebp+date.wmonth], ax
lea     eax, [ebp+datestr]
push    eax
lea     eax, [esi+8ch]
push    eax
lea     eax, [ebp+date]
push    eax
push    0
push    400h
mov     [ebp+date.wday], 1
call    ebx
lea     ecx, [ebp+psizl]
push    ecx
push    eax
lea     eax, [ebp+datestr]
push    eax
push    [ebp+hdc]
call    ds:gettextextentpoint32a
mov     eax, [esi+3a4h]
mov     ecx, [ebp+psizl._cx]
sub     eax, ecx
push    40h
cdq
sub     eax, edx
sar     eax, 1
mov     [edi-60h], eax
add     ecx, eax
lea     eax, [ebp+datestr]
mov     [edi], ecx
push    eax
lea     eax, [esi+78h]
push    eax
lea     eax, [ebp+date]
push    eax
push    0
push    400h
call    ebx
lea     ecx, [ebp+psizl]
push    ecx
push    eax
lea     eax, [ebp+datestr]
push    eax
push    [ebp+hdc]
call    ds:gettextextentpoint32a
cmp     dword ptr [esi+0c8h], 0
jz      loc_277c8c01
mov     eax, [ebp+psizl._cx]
add     eax, [edi-60h]
inc     [ebp+arg_0]
mov     [edi-30h], eax
cmp     [ebp+arg_0], 0ch
jg      loc_277c8c0b
inc     [ebp+var_c]
add     edi, 4
mov     eax, [ebp+var_c]
cmp     eax, [esi+484h]
jl      loc_277bd5be
pop     ebx
pop     edi
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+hdc]
push    dword ptr [esi]
call    ds:releasedc
pop     esi
leave
retn    4
push    esi
mov     esi, ds:getsyscolor
push    edi
push    5
call    esi
push    5
mov     edi, [esp+0ch+arg_0]
mov     [edi], eax
call    esi
push    8
mov     [edi+10h], eax
call    esi
push    2
mov     [edi+4], eax
call    esi
push    9
mov     [edi+8], eax
call    esi
push    11h
mov     [edi+0ch], eax
call    esi
mov     [edi+14h], eax
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_0]
push    ebx
push    esi
mov     esi, ecx
push    edi
xor     ebx, ebx
cmp     [esi+19ch], ebx
lea     edi, [esi+19ch]
mov     [eax], ebx
jz      short loc_277bd71e
cmp     dword ptr [esi+1ach], 0
jnz     short loc_277bd708
mov     eax, [esi+1a4h]
push    dword ptr [edi]
lea     ecx, [esi+1a4h]
call    dword ptr [eax+14h]
mov     edi, [edi]
push    [ebp+arg_0]
mov     eax, [edi]
push    offset dword_277c19c0
push    edi
call    dword ptr [eax]
pop     edi
pop     esi
pop     ebx
leave
retn    4
lea     eax, [ebp+var_4]
push    eax
call    sub_277bd769
cmp     eax, ebx
jl      short loc_277bd717
cmp     [ebp+var_4], ebx
jz      loc_277c7164
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
mov     eax, [ebp+var_4]
jnz     loc_277c71a8
mov     ecx, [eax]
push    edi
push    eax
call    dword ptr [ecx+50h]
mov     ebx, eax
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    ebx, ebx
jl      loc_277c71af
or      byte ptr [esi+194h], 8
jmp     short loc_277bd6ee
push    ebp
mov     ebp, esp
lea     eax, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    9
push    0fffffd41h
and     dword ptr [esi], 0
call    sub_277b550a
test    eax, eax
jz      short loc_277bd7a5
mov     eax, [ebp+arg_0]
push    esi
push    offset iidinterface
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
mov     eax, [ebp+arg_0]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
xor     eax, eax
cmp     [esi], eax
setnz   al
pop     esi
pop     ebp
retn    4
push    esi
push    edi
mov     edi, [esp+8+arg_0]
mov     esi, ecx
cmp     edi, [esi+8]
jz      loc_277c78bf
mov     eax, [esi]
push    ebx
mov     ecx, esi
call    dword ptr [eax+18h]
mov     ebx, eax
test    ebx, ebx
jl      short loc_277bd7f4
test    edi, edi
jz      short loc_277bd7f4
lea     eax, [esi+0ch]
push    1
push    eax
push    esi
push    offset dword_277b6280
push    edi
call    sub_277bd840
mov     ebx, eax
test    ebx, ebx
jl      short loc_277bd7f4
cmp     dword ptr [esi+1ch], 0
mov     [esi+8], edi
jz      short loc_277bd7f4
mov     eax, [edi]
push    edi
call    dword ptr [eax+4]
mov     eax, ebx
pop     ebx
pop     edi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277c18a0
push    esi
mov     esi, ecx
mov     eax, [esi+8]
test    eax, eax
jnz     short loc_277bd810
xor     eax, eax
pop     esi
retn
push    edi
push    1
push    dword ptr [esi+0ch]
push    esi
push    offset dword_277b6280
push    eax
call    sub_277bf94f
cmp     dword ptr [esi+1ch], 0
mov     edi, eax
jz      short loc_277bd833
mov     eax, [esi+8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
and     dword ptr [esi+8], 0
and     dword ptr [esi+14h], 0
mov     eax, edi
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_0]
push    esi
lea     edx, [ebp+arg_0]
push    edi
mov     ecx, [eax]
push    edx
push    offset dword_277b6230
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277bd8a5
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_4]
push    edx
push    [ebp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+10h]
mov     esi, eax
mov     eax, [ebp+arg_0]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    esi, esi
jl      loc_277c784e
mov     eax, [ebp+var_4]
push    [ebp+arg_c]
mov     esi, [ebp+arg_8]
mov     ecx, [eax]
push    esi
push    eax
call    dword ptr [ecx+14h]
mov     edi, eax
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
cmp     [ebp+arg_10], 0
jz      loc_277c7855
mov     eax, edi
pop     edi
pop     esi
leave
retn    14h
mov     edx, [esp+arg_4]
push    ebx
push    esi
push    edi
mov     eax, [edx]
cmp     ds:dword_277b6118, eax
jz      loc_277c7886
cmp     ds:dword_277b6280, eax
jnz     loc_277c789f
push    10h
mov     edi, edx
pop     ecx
mov     esi, offset dword_277b6280
xor     eax, eax
repe cmpsb
jnz     loc_277c789f
mov     esi, [esp+0ch+arg_0]
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [esp+0ch+arg_8]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     ecx, [esp+arg_0]
mov     eax, [ecx+4]
test    eax, eax
jz      short loc_277bd90d
cmp     dword ptr [ecx+18h], 0
jnz     loc_277c78a9
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    [ebp+arg_4]
push    esi
call    sub_277bcd09
mov     ax, [esi+464h]
mov     edi, [esi+494h]
movzx   ecx, word ptr [esi+3f4h]
imul    edi, [esi+490h]
mov     [ebp+var_10], ax
mov     ax, [esi+466h]
mov     [ebp+var_e], ax
mov     ax, [esi+46ah]
lea     ebx, [esi+3f4h]
mov     [ebp+var_a], ax
movzx   eax, word ptr [esi+474h]
sub     eax, ecx
sub     edi, [esi+484h]
movzx   ecx, word ptr [esi+3f6h]
lea     eax, [eax+eax*2]
shl     eax, 2
sub     eax, ecx
movzx   ecx, word ptr [esi+476h]
add     eax, ecx
mov     ecx, edi
neg     ecx
cmp     ecx, eax
jg      loc_277c8bc9
test    edi, edi
jnz     loc_277c8be4
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_277bce68
push    esi
call    sub_277bd2e0
push    ebx
push    esi
call    sub_277bd3a3
push    esi
call    sub_277bd4ef
push    esi
call    sub_277bd566
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
push    dword ptr [esi]
call    ds:updatewindow
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ecx
cmp     dword ptr [ecx+0a0h], 0
jz      short loc_277bda31
cmp     dword ptr [ecx+2a8h], 0
lea     eax, [ecx+2a8h]
jnz     short loc_277bda00
mov     dword ptr [eax], 1
mov     eax, [ecx+1d0h]
lea     edx, [ebp+var_8]
push    edx
mov     edx, eax
shr     edx, 3
shr     eax, 7
and     edx, 0fh
and     eax, 0fh
push    edx
push    eax
call    sub_277bda41
mov     eax, [ebp+arg_0]
mov     ecx, [ebp+var_8]
mov     edx, [ebp+var_4]
cmp     ecx, [eax]
jnz     short loc_277bda37
cmp     edx, [eax+4]
jnz     short loc_277bda37
xor     eax, eax
leave
retn    4
mov     [eax], ecx
push    1
mov     [eax+4], edx
pop     eax
jmp     short locret_277bda33
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_8]
push    1
mov     esi, ecx
pop     eax
mov     [edi], eax
mov     [edi+4], eax
mov     eax, [esi+0a0h]
test    eax, eax
jz      short loc_277bdadf
mov     ebx, ds:sendmessagea
lea     ecx, [ebp+lparam]
push    ecx
push    0
push    1009h
push    eax
call    ebx
push    0
push    0
push    1015h
push    dword ptr [esi+0a0h]
call    ebx
cmp     eax, [ebp+var_8]
jg      loc_277c5d6a
mov     ecx, esi
call    sub_277bdae6
movsx   edx, [ebp+arg_4]
mov     eax, [ebp+var_8]
dec     edx
lea     ecx, [eax+6]
imul    ecx, edx
add     ecx, eax
mov     [edi], ecx
mov     eax, [esi+29ch]
movsx   ecx, [ebp+arg_0]
dec     ecx
lea     edx, [eax+6]
imul    ecx, edx
add     ecx, [esi+298h]
add     ecx, eax
mov     [edi+4], ecx
mov     eax, [esi]
lea     ecx, [ebp+arg_8]
push    ecx
mov     ecx, esi
call    dword ptr [eax+84h]
cmp     [ebp+arg_8], 1
jnz     short loc_277bdadf
add     dword ptr [edi], 4
add     dword ptr [edi+4], 4
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 1a4h
push    esi
push    edi
mov     esi, ecx
xor     edi, edi
cmp     [esi+2a0h], edi
jnz     short loc_277bdb01
pop     edi
pop     esi
leave
retn
mov     eax, [esi+0a0h]
cmp     eax, edi
jz      short loc_277bdafd
push    ebx
push    eax
call    ds:getdc
push    edi
push    edi
push    31h
mov     [ebp+hdc], eax
push    dword ptr [esi+0a0h]
call    ds:sendmessagea
lea     ecx, [ebp+pv]
mov     [ebp+h], eax
push    ecx
push    3ch
push    eax
call    ds:getobjecta
xor     eax, eax
cmp     [ebp+var_4c], 2bch
setl    al
dec     eax
and     eax, 0c8h
add     eax, 320h
mov     [ebp+var_4c], eax
lea     eax, [ebp+pv]
push    eax
call    ds:createfontindirecta
push    eax
mov     [ebp+ho], eax
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+var_1c], eax
mov     edi, ds:gettextextentpoint32a
lea     eax, [ebp+psizl]
push    eax
push    2
push    offset a00
push    [ebp+hdc]
call    edi
mov     ebx, [ebp+psizl.cy]
lea     eax, [ebp+datestr]
push    40h
push    eax
lea     eax, [esi+1d4h]
push    0
push    eax
push    1
push    400h
call    ds:getdateformata
lea     eax, [ebp+datestr]
push    eax
lea     eax, [ebp+var_1a4]
push    eax
lea     eax, [ebp+string]
push    offset ass_0
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     eax, [ebp+psizl]
push    eax
lea     eax, [ebp+string]
push    eax
call    ds:lstrlena
push    eax
lea     eax, [ebp+string]
push    eax
push    [ebp+hdc]
call    edi
mov     eax, [ebp+psizl.cy]
cmp     ebx, eax
jg      loc_277c5d5b
add     eax, 4
and     [ebp+lpstring], 0
mov     [esi+298h], eax
lea     eax, [ebp+var_e4]
mov     [ebp+lplcdata], eax
mov     eax, [ebp+lpstring]
push    0ah
push    [ebp+lplcdata]
add     eax, 31h
push    eax
push    400h
call    ds:getlocaleinfoa
inc     [ebp+lpstring]
add     [ebp+lplcdata], 0ah
cmp     [ebp+lpstring], 7
jl      short loc_277bdc04
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
lea     eax, [ebp+var_e4]
mov     [ebp+lplcdata], 7
mov     [ebp+lpstring], eax
lea     eax, [ebp+psizl]
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    edi
cmp     [ebp+psizl.cy], ebx
jg      loc_277c5d62
add     [ebp+lpstring], 0ah
dec     [ebp+lplcdata]
jnz     short loc_277bdc44
push    [ebp+var_1c]
lea     eax, [ebx+ebx*8+14h]
mov     [esi+29ch], eax
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+ho]
call    ds:deleteobject
push    [ebp+hdc]
push    dword ptr [esi+0a0h]
call    ds:releasedc
and     dword ptr [esi+2a0h], 0
pop     ebx
jmp     loc_277bdafd
push    ebp
mov     ebp, esp
push    ecx
push    esi
mov     esi, ecx
and     [ebp+var_4], 0
mov     eax, [esi+188h]
shr     eax, 2
and     eax, 1
cmp     al, 0ffh
jz      loc_277c6fed
mov     eax, [esi+188h]
mov     ecx, [ebp+arg_0]
shr     eax, 2
and     eax, 1
pop     esi
mov     [ecx], eax
xor     eax, eax
leave
retn    4
sub     [esp+arg_0], 1ch
jmp     loc_277bb233
sub     dword ptr [esp+4], 24h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 24h
jmp     loc_277bb233
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
mov     ebx, ecx
push    esi
push    edi
mov     eax, [ebx]
call    dword ptr [eax+28h]
mov     esi, ds:sendmessagea
push    eax
push    eax
push    0abcdh
push    dword ptr [ebx+0a0h]
call    esi
mov     ecx, ebx
call    sub_277b54b0
test    eax, eax
jnz     short loc_277bdd49
mov     eax, [ebx]
lea     ecx, [ebp+benable]
push    ecx
mov     ecx, ebx
call    dword ptr [eax+0b8h]
push    [ebp+benable]
push    dword ptr [ebx+0a0h]
call    ds:enablewindow
lea     eax, [ebp+colorref]
push    eax
push    0
push    dword ptr [ebx+228h]
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277bdf26
push    [ebp+colorref]
mov     edi, 100ah
push    4
push    edi
push    dword ptr [ebx+0a0h]
call    esi
mov     eax, [ebx]
lea     ecx, [ebp+clr]
push    ecx
mov     ecx, ebx
call    dword ptr [eax+8ch]
lea     eax, [ebp+colorref]
push    eax
push    0
push    [ebp+clr]
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277bdf26
push    [ebp+colorref]
push    0
push    edi
push    dword ptr [ebx+0a0h]
call    esi
mov     eax, [ebx]
lea     ecx, [ebp+clr]
push    ecx
mov     ecx, ebx
call    dword ptr [eax+94h]
lea     eax, [ebp+colorref]
push    eax
push    0
push    [ebp+clr]
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277bdf26
push    [ebp+colorref]
push    1
push    edi
push    dword ptr [ebx+0a0h]
call    esi
mov     eax, [ebx+1d0h]
shr     eax, 0bh
and     eax, 0fh
push    eax
push    0
push    100fh
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebp+colorref]
push    eax
push    0
push    dword ptr [ebx+22ch]
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277bdf26
push    [ebp+colorref]
push    3
push    edi
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebp+colorref]
push    eax
push    0
push    dword ptr [ebx+230h]
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277bdf26
push    [ebp+colorref]
push    2
push    edi
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebp+colorref]
push    eax
push    0
push    dword ptr [ebx+234h]
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277bdf26
push    [ebp+colorref]
push    5
push    edi
push    dword ptr [ebx+0a0h]
call    esi
movsx   eax, word ptr [ebx+224h]
push    0
push    eax
push    1014h
push    dword ptr [ebx+0a0h]
call    esi
lea     esi, [ebx+1f4h]
lea     edi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     esi, [ebx+1e4h]
lea     edi, [ebp+var_1c]
movsd
movsd
movsd
movsd
mov     esi, ds:sendmessagea
lea     eax, [ebp+lparam]
push    eax
mov     edi, 1012h
push    1
push    edi
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebp+lparam]
push    eax
push    2
push    edi
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebx+1d4h]
mov     ecx, ebx
push    eax
call    sub_277be099
mov     eax, [ebx+1d0h]
and     eax, 1
cmp     al, 1
jz      short loc_277bdf2b
mov     eax, [ebx+1d0h]
shr     eax, 0bh
and     eax, 0fh
push    eax
call    sub_277be31f
pop     ecx
push    eax
push    0
push    100fh
push    dword ptr [ebx+0a0h]
call    esi
mov     eax, [ebx+1d0h]
and     eax, 1
cmp     al, 1
jz      short loc_277bdf44
and     dword ptr [ebx+2a4h], 0
and     dword ptr [ebx+2a8h], 0
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn
movsx   eax, word ptr [ebx+226h]
push    0
push    eax
push    1004h
push    dword ptr [ebx+0a0h]
call    esi
jmp     short loc_277bdee5
lea     esi, [ebx+204h]
lea     edi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     esi, [ebx+214h]
lea     edi, [ebp+var_1c]
movsd
movsd
lea     eax, [ebp+lparam]
push    eax
push    0
movsd
push    1006h
push    dword ptr [ebx+0a0h]
movsd
call    ds:sendmessagea
jmp     short loc_277bdf15
mov     eax, [ecx+188h]
mov     ecx, [esp+arg_0]
shr     eax, 1
and     al, 1
neg     al
sbb     eax, eax
mov     [ecx], eax
xor     eax, eax
retn    4
push    esi
push    edi
mov     edi, ecx
cmp     dword ptr [edi+190h], 0ffffffffh
lea     esi, [edi+190h]
jz      loc_277c7089
mov     ecx, [esp+8+arg_0]
mov     eax, [esi]
pop     edi
pop     esi
mov     [ecx], eax
xor     eax, eax
retn    4
cmp     dword ptr [ecx+18ch], 0ffffffffh
push    esi
lea     esi, [ecx+18ch]
jz      loc_277c70fe
mov     ecx, [esp+4+arg_0]
mov     eax, [esi]
pop     esi
mov     [ecx], eax
xor     eax, eax
retn    4
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
jz      loc_277c958a
mov     ax, [esi+2]
cmp     ax, 1
jb      loc_277c958a
cmp     ax, 0ch
ja      loc_277c958a
movzx   eax, ax
push    eax
movzx   eax, word ptr [esi]
push    eax
call    sub_277bd0f4
mov     si, [esi+6]
cmp     si, 1
jb      loc_277c958a
movzx   ecx, si
cmp     ecx, eax
jg      loc_277c958a
push    1
pop     eax
pop     esi
retn    4
mov     eax, [esp+arg_0]
cmp     word ptr [eax+8], 17h
ja      loc_277c9591
cmp     word ptr [eax+0ah], 3bh
ja      loc_277c9591
cmp     word ptr [eax+0ch], 3bh
ja      loc_277c9591
push    1
pop     eax
retn    4
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
push    esi
mov     dx, [eax]
mov     si, [ecx]
cmp     dx, si
jb      short loc_277be092
ja      short loc_277be08d
mov     dx, [eax+2]
mov     si, [ecx+2]
cmp     dx, si
jb      short loc_277be092
ja      short loc_277be08d
mov     ax, [eax+6]
mov     cx, [ecx+6]
cmp     cx, ax
ja      short loc_277be092
sbb     eax, eax
neg     eax
jmp     short loc_277be095
push    1
pop     eax
jmp     short loc_277be095
or      eax, 0ffffffffh
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [ebp+lparam]
movsd
movsd
test    byte ptr [ecx+1d0h], 1
movsd
movsd
jnz     short loc_277be0d1
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ecx+0a0h]
call    ds:sendmessagea
pop     edi
pop     esi
leave
retn    4
mov     esi, [ebp+arg_0]
lea     edi, [ebp+var_10]
movsd
movsd
movsd
lea     eax, [ebp+lparam]
push    eax
push    0
movsd
push    1006h
jmp     short loc_277be0bf
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
test    byte ptr [ebx+695h], 8
jz      short loc_277be112
lea     eax, [ebx+3c0h]
push    eax
push    [ebp+arg_4]
call    sub_277be055
cmp     eax, 0ffffffffh
jz      loc_277c8e5d
test    byte ptr [ebx+695h], 10h
jz      short loc_277be133
lea     eax, [ebx+3d0h]
push    eax
push    [ebp+arg_4]
call    sub_277be055
cmp     eax, 1
jz      loc_277c8e5d
mov     esi, [ebp+arg_4]
lea     edi, [ebx+3f4h]
movsd
movsd
test    byte ptr [ebx+8], 2
movsd
movsd
jnz     short loc_277be16a
push    ebx
call    sub_277be179
push    0fffffd13h
push    ebx
call    sub_277be303
push    [ebp+arg_4]
push    ebx
call    sub_277bd3a3
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     esi, [ebp+arg_4]
lea     edi, [ebx+404h]
movsd
movsd
movsd
movsd
jmp     short loc_277be146
mov     eax, [esp+arg_0]
xor     ecx, ecx
push    esi
push    edi
test    byte ptr [eax+8], 2
jnz     short loc_277be203
mov     dx, [eax+3f4h]
mov     si, [eax+3f6h]
mov     di, [eax+464h]
cmp     dx, di
jb      short loc_277be213
jnz     short loc_277be1ac
cmp     si, [eax+466h]
jb      short loc_277be213
mov     dx, [eax+3f4h]
mov     si, [eax+474h]
cmp     dx, si
ja      short loc_277be1d1
jnz     short loc_277be1f1
mov     di, [eax+3f6h]
cmp     di, [eax+476h]
jbe     short loc_277be1f1
movzx   ecx, dx
movzx   edx, si
sub     ecx, edx
movzx   edx, word ptr [eax+476h]
lea     ecx, [ecx+ecx*2]
shl     ecx, 2
sub     ecx, edx
movzx   edx, word ptr [eax+3f6h]
add     ecx, edx
test    ecx, ecx
jz      short loc_277be22f
push    1
push    ecx
push    eax
call    sub_277be233
pop     edi
pop     esi
retn    4
mov     dx, [eax+404h]
mov     si, [eax+406h]
jmp     short loc_277be195
movzx   ecx, dx
movzx   edx, di
sub     ecx, edx
movzx   edx, word ptr [eax+466h]
lea     ecx, [ecx+ecx*2]
shl     ecx, 2
sub     ecx, edx
movzx   edx, si
jmp     short loc_277be1ef
xor     eax, eax
jmp     short loc_277be1fe
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, [ebp+arg_0]
push    2
movzx   ecx, word ptr [ebx+464h]
lea     eax, [ebx+464h]
push    [ebp+arg_4]
mov     [ebp+var_4], ecx
movzx   ecx, word ptr [ebx+466h]
mov     [ebp+var_8], ecx
lea     ecx, [ebp+var_28]
push    ecx
push    eax
call    sub_277bd1d8
lea     eax, [ebp+var_28]
push    eax
push    ebx
call    sub_277bce68
cmp     [ebp+arg_8], 0
jz      loc_277c8d4f
push    ebx
call    sub_277bd2e0
push    ebx
call    sub_277bd4ef
push    ebx
call    sub_277bd566
push    ebx
call    sub_277be2b3
movzx   eax, word ptr [ebx+464h]
sub     eax, [ebp+var_4]
movzx   ecx, word ptr [ebx+466h]
lea     eax, [eax+eax*2]
pop     ebx
shl     eax, 2
sub     eax, [ebp+var_8]
add     eax, ecx
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     ecx, [ebp+arg_0]
push    0
mov     eax, [ecx+5c4h]
mov     [ebp+rect.left], eax
mov     eax, [ecx+5cch]
mov     [ebp+rect.right], eax
mov     eax, [ecx+3a0h]
cdq
sub     eax, edx
sar     eax, 1
add     eax, [ecx+5c8h]
mov     [ebp+rect.top], eax
mov     eax, [ecx+5d0h]
sub     eax, [ecx+3b0h]
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ecx]
call    ds:invalidaterect
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    esi
mov     esi, [ebp+arg_0]
test    byte ptr [esi+694h], 40h
jz      loc_277c8cac
pop     esi
leave
retn    8
mov     eax, [esp+arg_0]
add     eax, 0fffffffeh
cmp     eax, 0ffffffffh
jnz     short locret_277be32e
push    6
pop     eax
retn
sub     [esp+arg_0], 1ch
jmp     sub_277b516f
sub     [esp-4+arg_0], 1c4h
push    ebp
mov     ebp, esp
push    [ebp+arg_20]
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b52e2
pop     ebp
retn    24h
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277b535a
retn    10h
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_4]
lea     edx, [ebp+arg_4]
lea     ecx, [eax-1c4h]
push    edx
and     word ptr [esi], 0
mov     eax, [ecx]
call    dword ptr [eax+0b8h]
test    eax, eax
jl      short loc_277be3ae
mov     ecx, [ebp+arg_4]
neg     ecx
sbb     ecx, ecx
mov     [esi], cx
pop     esi
pop     ebp
retn    8
sub     [esp+arg_0], 28h
jmp     loc_277bb1e5
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:getclipbox
mov     eax, [ebp+arg_0]
push    dword ptr [eax+384h]
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
push    1
pop     eax
leave
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, ds:setbkcolor
push    edi
push    [ebp+color]
push    [ebp+hdc]
call    esi
mov     edi, eax
xor     eax, eax
push    eax
push    eax
push    eax
push    [ebp+lprect]
push    2
push    eax
push    eax
push    [ebp+hdc]
call    ds:exttextouta
push    edi
push    [ebp+hdc]
call    esi
pop     edi
pop     esi
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 4ch
push    ebx
mov     ebx, [ebp+dwnewlong]
push    esi
push    edi
mov     ecx, ebx
call    sub_277b54b0
test    eax, eax
jnz     loc_277c577a
xor     esi, esi
push    2
push    [ebp+hdc]
call    ds:getdevicecaps
cmp     eax, 5
jz      loc_277c5797
mov     eax, [ebx+0a0h]
cmp     eax, esi
jz      short loc_277be465
cmp     [ebx+2a4h], esi
jz      short loc_277be489
cmp     [ebx+0a0h], esi
jz      short loc_277be475
cmp     [ebx+2a8h], esi
jz      short loc_277be4df
push    [ebp+arg_c]
mov     ecx, ebx
push    [ebp+hdc]
call    sub_277b55c8
pop     edi
pop     esi
pop     ebx
leave
retn    1ch
lea     ecx, [ebp+lparam]
push    ecx
push    1
push    1007h
push    eax
call    ds:sendmessagea
lea     esi, [ebp+lparam]
lea     edi, [ebp+var_40]
mov     [ebp+wparam], eax
lea     eax, [ebp+var_4c]
movsd
movsd
movsd
movsd
lea     esi, [ebx+238h]
push    eax
mov     ecx, ebx
mov     [ebp+var_2c], esi
call    sub_277be52e
push    esi
push    [ebp+wparam]
push    1008h
push    dword ptr [ebx+0a0h]
call    ds:sendmessagea
mov     dword ptr [ebx+2a4h], 1
xor     esi, esi
jmp     short loc_277be465
mov     eax, [ebx+1d0h]
lea     ecx, [ebp+var_8]
push    ecx
mov     ecx, eax
shr     ecx, 3
shr     eax, 7
and     ecx, 0fh
and     eax, 0fh
push    ecx
push    eax
mov     ecx, ebx
call    sub_277bda41
mov     eax, [ebx+8ch]
cmp     eax, [ebp+var_4]
jnz     short loc_277be51a
mov     eax, [ebx+88h]
cmp     eax, [ebp+var_8]
jz      loc_277be475
mov     ecx, ebx
call    sub_277bf53e
push    esi
mov     ecx, ebx
call    sub_277b45b0
jmp     loc_277be475
push    ebp
mov     ebp, esp
sub     esp, 54h
push    ebx
push    esi
lea     eax, [ebp+lparam]
push    edi
push    eax
mov     ebx, ecx
push    1
push    1007h
push    dword ptr [ebx+0a0h]
mov     [ebp+var_4], ebx
call    ds:sendmessagea
mov     edi, ds:systemtimetovarianttime
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
xor     esi, esi
push    eax
mov     [ebp+systemtime.wdayofweek], si
mov     [ebp+var_50], si
mov     [ebp+systemtime.whour], si
mov     [ebp+var_4c], si
mov     [ebp+systemtime.wminute], si
mov     [ebp+var_4a], si
mov     [ebp+systemtime.wsecond], si
mov     [ebp+var_48], si
mov     [ebp+systemtime.wmilliseconds], si
mov     [ebp+var_46], si
call    edi
cmp     eax, esi
jz      loc_277be687
lea     eax, [ebp+var_1c]
push    eax
lea     eax, [ebp+systemtime]
push    eax
call    edi
cmp     eax, esi
jz      loc_277be687
fld     [ebp+var_1c]
fsub    [ebp+pvtime]
call    sub_277c433c
mov     edi, eax
add     ebx, 270h
inc     edi
cmp     [ebx], esi
mov     [ebp+var_c], edi
jz      loc_277be68e
xor     eax, eax
cmp     edi, esi
jle     short loc_277be5da
mov     ecx, [ebx]
mov     ecx, [ecx+0ch]
mov     [ecx+eax*2], si
inc     eax
cmp     eax, edi
jl      short loc_277be5cc
mov     ecx, [ebp+var_4]
call    sub_277b54b0
test    eax, eax
jnz     short loc_277be600
fld     [ebp+pvtime]
push    ebx
push    edi
push    ecx
push    ecx
fstp    [esp+70h+vtime]
push    offset dword_2782acc0
push    [ebp+var_4]
call    sub_277b9711
add     esp, 18h
fld     [ebp+pvtime]
cmp     edi, esi
mov     [ebp+var_8], esi
fstp    [ebp+var_14]
jle     short loc_277be663
fld     [ebp+var_14]
lea     eax, [ebp+var_34]
push    eax
push    ecx
push    ecx
fstp    [esp+6ch+vtime+4]
call    ds:varianttimetosystemtime
mov     eax, [ebx]
mov     ecx, [ebp+var_8]
mov     eax, [eax+0ch]
cmp     word ptr [eax+ecx*2], 0ffffh
lea     eax, [ebp+lparam]
push    eax
jz      sub_277c5d42
sub     esp, 10h
lea     esi, [ebp+var_34]
mov     edi, esp
mov     ecx, [ebp+var_4]
movsd
movsd
movsd
movsd
call    sub_277be6a8
fld     [ebp+var_14]
fsub    ds:dbl_277c19f0
inc     [ebp+var_8]
mov     eax, [ebp+var_8]
cmp     eax, [ebp+var_c]
fstp    [ebp+var_14]
jl      short loc_277be60d
xor     esi, esi
mov     eax, [ebp+arg_0]
xor     ecx, ecx
cmp     [eax+1ch], esi
jle     short loc_277be687
mov     edx, [ebp+var_4]
add     edx, 238h
mov     esi, [eax+20h]
mov     edi, [edx]
add     edx, 4
mov     [esi+ecx*4], edi
inc     ecx
cmp     ecx, [eax+1ch]
jl      short loc_277be676
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    24ch
push    esi
push    0bh
call    ds:safearraycreatevector
cmp     eax, esi
mov     [ebx], eax
jnz     loc_277be5c6
jmp     short loc_277be687
push    ebx
push    esi
push    edi
lea     esi, [esp+0ch+arg_0]
push    [esp+0ch+arg_10]
mov     ebx, ecx
sub     esp, 10h
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277be6e1
mov     ecx, [esp+20h+arg_6]
add     esp, 14h
dec     ecx
lea     eax, [ebx+eax*4+238h]
push    1
pop     edx
pop     edi
shl     edx, cl
pop     esi
pop     ebx
not     edx
and     [eax], edx
retn    14h
mov     eax, [esp+arg_10]
push    0ch
movzx   ecx, word ptr [eax+2]
movzx   eax, [esp+4+arg_2]
sub     eax, ecx
pop     ecx
add     eax, 0ch
cdq
idiv    ecx
mov     eax, edx
retn
push    ebp
mov     ebp, esp
sub     esp, 40h
cmp     [ebp+hdc], 0
jz      loc_277c865a
push    [ebp+hdc]
push    [ebp+arg_0]
call    sub_277be71b
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 9ch
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    dword ptr [ebx+388h]
push    0
push    0
call    ds:createpen
push    dword ptr [ebx+38ch]
mov     [ebx+374h], eax
call    ds:createsolidbrush
push    1
mov     [ebp+ho], eax
push    [ebp+hdc]
call    ds:setbkmode
push    dword ptr [ebx+388h]
push    [ebp+hdc]
call    ds:settextcolor
push    7
call    ds:getstockobject
push    eax
push    [ebp+hdc]
call    ds:selectobject
lea     esi, [ebx+5c4h]
lea     edi, [ebp+var_14]
movsd
movsd
push    dword ptr [ebx+394h]
mov     [ebp+h], eax
movsd
movsd
mov     edi, [ebp+hdc]
lea     eax, [ebp+var_14]
push    eax
push    edi
call    sub_277be3ec
push    dword ptr [ebx+374h]
mov     esi, ds:selectobject
push    edi
call    esi
mov     ecx, [ebx+5c4h]
mov     eax, [ebx+3a4h]
mov     edx, [ebx+5c8h]
mov     [ebp+var_14.left], ecx
add     ecx, eax
mov     [ebp+var_14.top], edx
mov     [ebp+var_14.right], ecx
mov     ecx, [ebx+3a8h]
add     edx, ecx
add     eax, 6
mov     [ebp+var_14.bottom], edx
mov     [ebp+var_3c], eax
movzx   edx, word ptr [ebx+466h]
mov     [ebp+arg_0], edx
xor     eax, eax
movzx   edx, word ptr [ebx+464h]
add     ecx, 6
cmp     [ebx+490h], eax
mov     [ebp+var_2c], edx
mov     [ebp+var_34], ecx
mov     [ebp+var_4], eax
mov     [ebp+var_28], eax
jle     loc_277be8a6
lea     esi, [ebp+var_14]
lea     edi, [ebp+rect]
movsd
movsd
movsd
movsd
xor     esi, esi
cmp     [ebx+494h], esi
jle     short loc_277be882
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:rectvisible
test    eax, eax
jz      short loc_277be860
mov     eax, [ebx+484h]
push    [ebp+ho]
dec     eax
xor     ecx, ecx
cmp     [ebp+var_4], eax
setz    cl
xor     eax, eax
push    ecx
cmp     [ebp+var_4], eax
setz    al
push    eax
lea     eax, [ebp+rect]
push    [ebp+var_4]
push    [ebp+var_2c]
push    [ebp+arg_0]
push    eax
push    [ebp+hdc]
push    ebx
call    sub_277bea19
mov     eax, [ebp+var_3c]
add     [ebp+rect.left], eax
add     [ebp+rect.right], eax
inc     [ebp+arg_0]
cmp     [ebp+arg_0], 0ch
jg      loc_277c8a1e
inc     [ebp+var_4]
inc     esi
cmp     esi, [ebx+494h]
jl      short loc_277be81d
mov     eax, [ebp+var_34]
add     [ebp+var_14.top], eax
add     [ebp+var_14.bottom], eax
inc     [ebp+var_28]
mov     eax, [ebp+var_28]
cmp     eax, [ebx+490h]
jl      loc_277be809
mov     edi, [ebp+hdc]
mov     esi, ds:selectobject
test    byte ptr [ebx+8], 10h
jnz     loc_277be9a4
lea     eax, [ebp+var_14]
push    eax
push    ebx
call    sub_277bf0c6
lea     eax, [ebp+var_14]
push    eax
push    edi
call    ds:rectvisible
test    eax, eax
jz      loc_277be9a4
mov     eax, [ebp+var_14.left]
add     eax, 2
test    byte ptr [ebx+8], 8
jnz     short loc_277be90c
mov     ecx, [ebx+39ch]
add     eax, 2
mov     [ebp+rect.left], eax
lea     eax, [ecx+eax-2]
mov     [ebp+rect.right], eax
mov     eax, [ebp+var_14.top]
add     eax, 2
mov     [ebp+rect.top], eax
mov     eax, [ebp+var_14.bottom]
add     eax, 0fffffffeh
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect]
push    eax
push    edi
push    ebx
call    sub_277bf148
mov     eax, [ebp+rect.right]
add     eax, 2
push    dword ptr [ebx+380h]
mov     [ebp+rect.left], eax
mov     eax, [ebp+var_14.right]
add     eax, 0fffffffeh
push    edi
mov     [ebp+rect.right], eax
mov     eax, [ebp+var_14.top]
mov     [ebp+rect.top], eax
mov     eax, [ebp+var_14.bottom]
mov     [ebp+rect.bottom], eax
call    esi
push    dword ptr [ebx+388h]
mov     [ebp+hdc], eax
push    edi
call    ds:settextcolor
lea     eax, [ebp+datestr]
push    20h
push    eax
lea     eax, [ebx+3e4h]
push    0
push    eax
push    1
push    400h
call    ds:getdateformata
lea     eax, [ebp+datestr]
push    eax
lea     eax, [ebx+18h]
push    eax
lea     eax, [ebp+string]
push    offset ass_1
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     eax, [ebp+rect]
push    924h
push    eax
lea     eax, [ebp+string]
push    eax
call    ds:lstrlena
push    eax
lea     eax, [ebp+string]
push    eax
push    edi
call    ds:drawtexta
push    [ebp+hdc]
push    edi
call    esi
lea     eax, [ebx+498h]
push    eax
push    edi
call    ds:rectvisible
test    eax, eax
jz      short loc_277be9ce
xor     eax, eax
cmp     [ebx+488h], eax
jnz     loc_277c8a2d
push    eax
push    1
push    edi
push    ebx
call    sub_277bf1df
lea     eax, [ebx+4a8h]
push    eax
push    edi
call    ds:rectvisible
test    eax, eax
jz      short loc_277be9f9
cmp     dword ptr [ebx+488h], 0
jnz     loc_277c8a42
xor     eax, eax
push    eax
push    0
push    edi
push    ebx
call    sub_277bf1df
push    [ebp+h]
push    edi
call    esi
push    [ebp+ho]
mov     esi, ds:deleteobject
call    esi
push    dword ptr [ebx+374h]
call    esi
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 0ach
and     [ebp+date.wyear], 0
push    ebx
push    esi
push    edi
xor     eax, eax
lea     edi, [ebp+date.wmonth]
stosd
stosd
mov     ebx, [ebp+arg_0]
mov     esi, ds:selectobject
stosd
push    dword ptr [ebx+37ch]
stosw
mov     eax, [ebp+arg_14]
push    [ebp+hdc]
mov     [ebp+var_58], eax
mov     eax, [ebx+388h]
mov     [ebp+var_54], eax
mov     eax, [ebx+398h]
mov     [ebp+color], eax
mov     eax, [ebx+390h]
mov     [ebp+var_68], eax
call    esi
push    dword ptr [ebx+374h]
mov     [ebp+h], eax
push    [ebp+hdc]
call    esi
lea     esi, [ebx+4b8h]
lea     edi, [ebp+rect]
movsd
movsd
mov     ecx, [ebp+arg_8]
movsd
mov     eax, [ecx]
movsd
mov     edx, [ebp+rect.right]
add     [ebp+rect.left], eax
mov     esi, [ebp+hdc]
lea     eax, [edx+eax-1]
mov     [ebp+rect.right], eax
mov     eax, [ecx+4]
add     [ebp+rect.top], eax
add     [ebp+rect.bottom], eax
lea     eax, [ebp+rect]
push    eax
push    esi
call    ds:rectvisible
test    eax, eax
jz      loc_277beb46
push    dword ptr [ebx+38ch]
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_277be3ec
push    dword ptr [ebx+390h]
push    esi
call    ds:settextcolor
push    dword ptr [ebx+380h]
mov     edi, ds:selectobject
push    esi
call    edi
mov     ax, word ptr [ebp+arg_10]
push    40h
mov     [ebp+date.wyear], ax
mov     ax, word ptr [ebp+arg_c]
mov     [ebp+date.wmonth], ax
lea     eax, [ebp+datestr]
push    eax
lea     eax, [ebx+8ch]
push    eax
lea     eax, [ebp+date]
push    eax
push    0
push    400h
mov     [ebp+date.wday], 1
call    ds:getdateformata
lea     eax, [ebp+rect]
push    925h
push    eax
lea     eax, [ebp+datestr]
push    eax
call    ds:lstrlena
push    eax
lea     eax, [ebp+datestr]
push    eax
push    esi
call    ds:drawtexta
push    dword ptr [ebx+37ch]
push    esi
call    edi
push    dword ptr [ebx+38ch]
push    esi
call    ds:settextcolor
lea     esi, [ebx+558h]
lea     edi, [ebp+rect]
movsd
mov     ecx, [ebp+arg_8]
movsd
mov     eax, [ecx]
movsd
movsd
add     [ebp+rect.left], eax
add     [ebp+rect.right], eax
mov     eax, [ecx+4]
add     [ebp+rect.top], eax
add     [ebp+rect.bottom], eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:rectvisible
test    eax, eax
jz      short loc_277bec03
mov     eax, [ebp+rect.bottom]
xor     edi, edi
dec     eax
push    edi
push    eax
mov     eax, [ebp+rect.left]
add     eax, 4
push    eax
push    [ebp+hdc]
call    ds:movetoex
mov     eax, [ebp+rect.bottom]
dec     eax
push    eax
mov     eax, [ebp+rect.right]
add     eax, 0fffffffch
push    eax
push    [ebp+hdc]
call    ds:lineto
mov     eax, [ebp+rect.left]
add     eax, [ebx+39ch]
mov     [ebp+rect.right], eax
mov     eax, edi
push    7
add     eax, [ebx+314h]
pop     ecx
push    825h
cdq
idiv    ecx
lea     eax, [ebp+rect]
push    eax
imul    edx, 0bh
lea     esi, [edx+ebx+2c4h]
push    esi
call    ds:lstrlena
push    eax
push    esi
push    [ebp+hdc]
call    ds:drawtexta
mov     eax, [ebx+39ch]
add     [ebp+rect.left], eax
add     [ebp+rect.right], eax
inc     edi
cmp     edi, 7
jl      short loc_277bebbe
mov     ecx, [ebp+arg_14]
cmp     [ebp+arg_1c], 0
mov     edx, [ebx+ecx*4+5d4h]
mov     esi, [ebx+ecx*4+60ch]
mov     [ebp+var_30], edx
jz      loc_277c8a57
mov     [ebp+var_14], 6
cmp     esi, [ebp+var_30]
jz      loc_277c8a82
dec     [ebp+arg_c]
cmp     [ebp+arg_c], 0
jle     loc_277c8a73
inc     esi
and     [ebp+var_18], 0
mov     [ebp+arg_0], esi
test    byte ptr [ebx+8], 4
jnz     short loc_277becbc
cmp     [ebp+var_18], 0
jnz     loc_277c8a9e
push    [ebp+color]
push    [ebp+hdc]
call    ds:settextcolor
lea     esi, [ebx+578h]
lea     edi, [ebp+rect]
movsd
movsd
mov     ecx, [ebp+arg_8]
movsd
movsd
mov     eax, [ebp+rect.left]
mov     edx, [ebp+rect.top]
add     eax, [ecx]
add     edx, [ecx+4]
xor     ecx, ecx
mov     [ebp+rect.left], eax
add     eax, [ebx+39ch]
mov     [ebp+rect.top], edx
add     edx, [ebx+3a0h]
cmp     [ebp+var_14], ecx
mov     [ebp+rect.right], eax
mov     [ebp+rect.bottom], edx
mov     [ebp+var_3c], ecx
mov     [ebp+arg_8], ecx
mov     [ebp+var_34], ecx
jg      loc_277bf025
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
pop     edi
pop     esi
pop     ebx
leave
retn    24h
lea     esi, [ebx+568h]
lea     edi, [ebp+rect]
movsd
mov     edx, [ebp+arg_8]
movsd
mov     ecx, [edx]
movsd
movsd
add     [ebp+rect.left], ecx
add     [ebp+rect.right], ecx
mov     ecx, [ebp+var_14]
mov     eax, [ebp+rect.top]
imul    ecx, [ebx+3a0h]
add     eax, [edx+4]
mov     [ebp+rect.top], eax
add     ecx, eax
lea     eax, [ebp+rect]
mov     [ebp+rect.bottom], ecx
push    eax
push    [ebp+hdc]
nop
call    ds:rectvisible
test    eax, eax
jz      loc_277bec4c
mov     eax, [ebp+rect.top]
push    0
add     eax, 4
push    eax
mov     eax, [ebp+rect.right]
dec     eax
push    eax
push    [ebp+hdc]
call    ds:movetoex
mov     eax, [ebp+rect.bottom]
add     eax, 0fffffffch
push    eax
mov     eax, [ebp+rect.right]
dec     eax
push    eax
push    [ebp+hdc]
call    ds:lineto
mov     ax, word ptr [ebp+arg_10]
push    dword ptr [ebx+318h]
mov     [ebp+date.wyear], ax
mov     ax, word ptr [ebp+arg_c]
push    dword ptr [ebx+314h]
mov     [ebp+date.wmonth], ax
mov     ax, word ptr [ebp+arg_0]
mov     [ebp+date.wday], ax
lea     eax, [ebp+date]
push    eax
call    sub_277c0543
mov     esi, eax
mov     eax, [ebp+rect.top]
add     eax, [ebx+3a0h]
cmp     [ebp+var_14], 0
mov     [ebp+rect.bottom], eax
jle     loc_277bec4c
mov     edi, [ebp+var_14]
push    esi
lea     eax, [ebp+datestr]
push    offset ad
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+rect]
push    925h
push    eax
xor     eax, eax
cmp     esi, 9
setnle  al
inc     eax
push    eax
lea     eax, [ebp+datestr]
push    eax
push    [ebp+hdc]
call    ds:drawtexta
mov     eax, [ebx+3a0h]
push    4
add     [ebp+rect.top], eax
add     [ebp+rect.bottom], eax
lea     eax, [ebp+date]
push    1
push    eax
lea     eax, [ebp+date]
push    eax
call    sub_277bd1d8
push    dword ptr [ebx+318h]
lea     eax, [ebp+date]
push    dword ptr [ebx+314h]
push    eax
call    sub_277c0543
dec     edi
mov     esi, eax
jz      loc_277bec4c
jmp     short loc_277bed76
cmp     [ebp+arg_18], ecx
jz      loc_277bee85
jmp     loc_277beeb6
push    [ebp+var_68]
push    edi
call    ds:settextcolor
push    [ebp+arg_20]
mov     esi, ds:selectobject
mov     [ebp+var_60], eax
push    edi
call    esi
push    8
mov     [ebp+var_6c], eax
mov     [ebp+var_3c], 1
call    ds:getstockobject
push    eax
push    edi
call    esi
xor     edi, edi
xor     esi, esi
test    byte ptr [ebp+var_38], 3
jz      loc_277c8b0c
mov     eax, [ebp+rc.bottom]
dec     eax
push    eax
mov     eax, [ebp+rc.right]
dec     eax
push    eax
mov     eax, [ebp+rc.top]
add     eax, 2
push    eax
mov     eax, [ebp+rc.left]
add     eax, 2
push    eax
push    [ebp+hdc]
call    ds:ellipse
cmp     [ebp+var_38], 1
jz      loc_277c8adf
cmp     [ebp+var_38], 2
jz      loc_277c8af6
test    edi, edi
jnz     loc_277c8b17
jmp     loc_277bef1e
cmp     [ebp+var_3c], 0
jnz     loc_277bef97
xor     ecx, ecx
mov     eax, [ebx+39ch]
add     [ebp+rc.left], eax
add     [ebp+rc.right], eax
inc     [ebp+arg_0]
mov     eax, [ebp+arg_0]
cmp     eax, [ebp+var_30]
jg      loc_277befb4
inc     [ebp+var_2c]
cmp     [ebp+var_2c], 7
jge     loc_277bf00a
cmp     [ebp+var_18], ecx
jz      loc_277bedec
mov     edi, [ebp+hdc]
lea     eax, [ebp+rc]
push    eax
push    edi
call    ds:rectvisible
test    eax, eax
jz      short loc_277bee83
push    [ebp+arg_0]
lea     eax, [ebp+datestr]
push    offset ad_0
push    eax
call    ds:wsprintfa
add     esp, 0ch
test    byte ptr [ebx+8], 1
jz      short loc_277bef04
push    [ebp+arg_14]
push    [ebp+arg_0]
push    ebx
call    sub_277bf044
test    eax, eax
jnz     loc_277c8aa6
cmp     [ebp+arg_8], 0
jnz     loc_277c8ac9
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_0]
push    ebx
call    sub_277bf072
test    eax, eax
mov     [ebp+var_38], eax
jnz     loc_277bedfa
lea     eax, [ebp+rc]
push    925h
push    eax
xor     eax, eax
cmp     [ebp+arg_0], 9
mov     esi, [ebp+hdc]
setnle  al
inc     eax
push    eax
lea     eax, [ebp+datestr]
push    eax
push    esi
call    ds:drawtexta
test    byte ptr [ebx+8], 8
jnz     loc_277bee79
test    byte ptr [ebx+694h], 20h
jz      loc_277bee79
mov     eax, [ebp+var_58]
cmp     eax, [ebx+588h]
jnz     loc_277bee79
mov     eax, [ebp+var_2c]
cmp     eax, [ebx+590h]
jnz     loc_277bee79
mov     eax, [ebp+var_34]
cmp     eax, [ebx+58ch]
jnz     loc_277bee79
lea     eax, [ebp+rc]
push    eax
push    esi
push    ebx
call    sub_277bf148
jmp     loc_277bee79
push    [ebp+var_60]
push    esi
call    ds:settextcolor
push    [ebp+var_6c]
push    esi
call    ds:selectobject
and     [ebp+var_3c], 0
jmp     loc_277bee83
mov     esi, [ebp+arg_1c]
cmp     esi, ecx
jz      loc_277c8b3c
add     [ebp+var_40], 4
inc     [ebp+arg_14]
mov     edx, [ebp+var_40]
inc     [ebp+arg_c]
cmp     [ebp+arg_c], 0ch
push    1
mov     edx, [edx]
pop     eax
mov     [ebp+arg_0], eax
mov     [ebp+var_30], edx
jg      loc_277c8b4d
xor     eax, eax
cmp     [ebp+var_18], ecx
setz    al
mov     [ebp+var_18], eax
cmp     eax, ecx
mov     eax, [ebp+var_54]
jnz     short loc_277beff6
mov     eax, [ebp+color]
push    eax
push    [ebp+hdc]
call    ds:settextcolor
mov     [ebp+arg_18], esi
xor     ecx, ecx
jmp     loc_277beea0
mov     eax, [ebx+3a0h]
add     [ebp+rect.top], eax
add     [ebp+rect.bottom], eax
inc     [ebp+var_34]
mov     eax, [ebp+var_34]
cmp     eax, [ebp+var_14]
jge     loc_277beca9
lea     esi, [ebp+rect]
lea     edi, [ebp+rc]
movsd
mov     eax, [ebp+arg_14]
mov     [ebp+var_2c], ecx
movsd
movsd
lea     eax, [ebx+eax*4+5d4h]
movsd
mov     [ebp+var_40], eax
jmp     loc_277beead
mov     eax, [esp+arg_0]
lea     ecx, [eax+650h]
test    ecx, ecx
jz      short loc_277bf06d
mov     ecx, [esp+arg_4]
push    1
dec     ecx
pop     edx
shl     edx, cl
mov     ecx, [esp+arg_8]
test    [eax+ecx*4+650h], edx
jnz     loc_277c8b90
xor     eax, eax
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     ax, [ebp+arg_c]
push    ebx
mov     [ebp+var_10], ax
mov     ax, [ebp+arg_8]
push    esi
mov     esi, [ebp+arg_0]
mov     [ebp+var_e], ax
mov     ax, [ebp+arg_4]
mov     [ebp+var_a], ax
lea     eax, [esi+3f4h]
push    edi
push    eax
lea     eax, [ebp+var_10]
xor     ebx, ebx
push    eax
call    sub_277be055
test    byte ptr [esi+8], 2
mov     edi, eax
jnz     loc_277c8b58
test    edi, edi
jz      short loc_277bf0c1
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    10h
push    3
pop     ebx
jmp     short loc_277bf0b8
mov     edx, [esp+arg_0]
push    esi
push    edi
mov     eax, [edx+5c4h]
mov     ecx, [edx+5cch]
sub     ecx, eax
cmp     [edx+3b4h], ecx
jg      loc_277c89f6
mov     ecx, [esp+8+arg_4]
inc     eax
mov     [ecx], eax
mov     eax, [edx+5cch]
dec     eax
mov     [ecx+8], eax
mov     esi, [edx+5d0h]
sub     esi, [edx+3b0h]
lea     eax, [edx+5d0h]
mov     [ecx+4], esi
mov     eax, [eax]
mov     [ecx+0ch], eax
cmp     dword ptr [edx+494h], 1
jnz     short loc_277bf143
mov     eax, [edx+5bch]
mov     esi, [edx+5b4h]
mov     edx, [edx+3b4h]
mov     edi, eax
sub     edi, esi
cmp     edx, edi
jg      short loc_277bf143
sub     eax, edx
sub     eax, esi
cdq
sub     eax, edx
sar     eax, 1
dec     eax
add     [ecx], eax
sub     [ecx+8], eax
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+y1]
push    edi
mov     ecx, [esi]
mov     eax, [esi+8]
sub     eax, ecx
cdq
sub     eax, edx
mov     ebx, eax
sar     ebx, 1
add     ebx, ecx
mov     ecx, [esi+4]
lea     eax, [ecx+4]
mov     [ebp+y1], eax
mov     eax, [esi+0ch]
sub     eax, ecx
cdq
sub     eax, edx
mov     edi, eax
mov     eax, [ebp+h]
sar     edi, 1
push    dword ptr [eax+378h]
add     edi, ecx
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+h], eax
mov     eax, [esi+8]
push    edi
push    eax
push    [ebp+y1]
push    ebx
mov     ebx, ds:arc
push    dword ptr [esi+0ch]
push    eax
mov     eax, [esi]
push    [ebp+y1]
inc     eax
push    eax
push    [ebp+hdc]
call    ebx
mov     eax, [esi]
push    [ebp+y1]
mov     ecx, [esi+8]
lea     edx, [eax+3]
add     eax, 0fffffff6h
push    edx
push    edi
push    ecx
push    dword ptr [esi+0ch]
push    ecx
mov     ecx, [esi+4]
inc     ecx
push    ecx
push    eax
push    [ebp+hdc]
call    ebx
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
cmp     [ebp+arg_8], 0
jz      short loc_277bf21c
mov     eax, [ebp+arg_0]
push    2
pop     edx
lea     ecx, [eax+498h]
test    byte ptr [eax+694h], 2
jz      loc_277c8a16
cmp     [ebp+arg_c], 0
jnz     loc_277c8a0e
push    edx
push    3
push    ecx
push    [ebp+arg_4]
call    ds:drawframecontrol
pop     ebp
retn    10h
mov     eax, [ebp+arg_0]
push    3
pop     edx
lea     ecx, [eax+4a8h]
jmp     short loc_277bf1f4
push    ebp
mov     ebp, esp
sub     esp, 10h
fld     [ebp+arg_4]
push    ebx
push    esi
lea     eax, [ebp+systemtime]
push    edi
push    eax
push    ecx
push    ecx
fstp    [esp+28h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      loc_277bf306
mov     ebx, [ebp+arg_0]
sub     esp, 10h
mov     edi, esp
sub     esp, 10h
lea     esi, [ebx+20h]
movsd
movsd
movsd
movsd
lea     esi, [ebx+30h]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+systemtime]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jz      loc_277c5cc5
lea     esi, [ebx-1c4h]
lea     eax, [ebp+systemtime]
push    eax
mov     ecx, esi
mov     [ebp+arg_0], esi
call    sub_277be099
test    eax, eax
jz      loc_277c5cad
lea     edi, [ebx+10h]
lea     esi, [ebp+systemtime]
movsd
movsd
mov     ecx, [ebp+arg_0]
movsd
movsd
call    sub_277b54b0
test    eax, eax
jnz     short loc_277bf2c0
test    byte ptr [ebx+0ch], 1
jnz     loc_277c5c94
lea     esi, [ebx-198h]
push    17h
mov     ecx, esi
call    sub_277b4535
push    1ah
mov     ecx, esi
call    sub_277b4535
push    7
mov     ecx, esi
call    sub_277b4535
push    1
mov     ecx, esi
call    sub_277b4535
push    19h
mov     ecx, esi
call    sub_277b4535
mov     ecx, [ebp+arg_0]
or      dword ptr [ebx-114h], 1
push    0
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
mov     ax, [ebp+arg_0]
cmp     ax, [ebp+arg_10]
jbe     loc_277c5d76
cmp     ax, [ebp+arg_20]
jnb     loc_277c5d72
push    1
pop     eax
pop     ebp
retn
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+84h]
retn    8
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
push    [esp+0ch+arg_4]
mov     eax, [edi-1c4h]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    dword ptr [eax+88h]
mov     ebx, eax
test    ebx, ebx
jl      short loc_277bf37d
add     edi, 0fffffec4h
mov     ecx, esi
push    edi
call    sub_277b9944
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
retn    8
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
test    edi, edi
mov     esi, ecx
jz      short loc_277bf39d
cmp     edi, 1
jnz     loc_277c7027
mov     eax, [esi+188h]
shr     eax, 2
and     eax, 1
cmp     al, 0ffh
jz      loc_277c703f
mov     eax, [esi+188h]
shr     eax, 2
and     eax, 1
cmp     eax, edi
jz      short loc_277bf41d
mov     ebx, 0fffffdf8h
lea     ecx, [esi+2ch]
push    ebx
mov     [ebp+arg_0], ecx
call    sub_277bf426
test    eax, eax
jz      loc_277c7061
mov     eax, [esi+188h]
push    dword ptr [esi+0a0h]
or      byte ptr [esi+194h], 1
or      dword ptr [esi+0b0h], 1
and     edi, 1
and     al, 0fbh
shl     edi, 2
or      edi, eax
mov     ecx, esi
mov     [esi+188h], edi
call    sub_277bf45f
push    0
mov     ecx, esi
call    sub_277b45b0
mov     ecx, [ebp+arg_0]
push    ebx
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    4
push    ebp
mov     ebp, esp
push    esi
mov     esi, ecx
push    edi
mov     ax, [esi+0ah]
test    ax, ax
jz      loc_277c6c78
cmp     ax, 1
jnz     loc_277c6c7f
mov     esi, [esi+4]
push    [ebp+arg_0]
mov     eax, [esi]
push    esi
call    dword ptr [eax+10h]
xor     ecx, ecx
pop     edi
test    eax, eax
setz    cl
mov     eax, ecx
pop     esi
pop     ebp
retn    4
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+hwnd]
xor     ebx, ebx
mov     esi, ecx
cmp     edi, ebx
jz      short loc_277bf4a7
push    0ffffffech
push    edi
call    ds:getwindowlonga
mov     ecx, eax
mov     edx, 200h
xor     ecx, edx
test    byte ptr [esi+188h], 4
jz      short loc_277bf48b
or      ecx, edx
cmp     eax, ecx
jz      short loc_277bf4a7
push    ecx
push    0ffffffech
push    edi
call    ds:setwindowlonga
push    37h
push    ebx
push    ebx
push    ebx
push    ebx
push    ebx
push    edi
call    ds:setwindowpos
pop     edi
pop     esi
pop     ebx
retn    4
cmp     [esp+arg_4], 0fffffff0h
jnz     short loc_277bf4cf
mov     eax, [esp+arg_8]
mov     edx, [esp+arg_0]
mov     ecx, [eax+4]
mov     edx, [edx+8]
xor     edx, ecx
and     edx, 0ffe3h
xor     edx, ecx
mov     [eax+4], edx
xor     eax, eax
retn    0ch
cmp     [esp+arg_4], 0fffffff0h
push    ebx
push    esi
jnz     short loc_277bf522
mov     esi, [esp+8+hdc]
mov     eax, [esp+8+arg_8]
mov     eax, [eax+4]
mov     ebx, [esi+8]
xor     ebx, eax
mov     [esi+8], eax
test    bl, 4
jnz     short loc_277bf529
mov     eax, ebx
and     eax, 10h
or      al, 0ch
test    al, al
jz      short loc_277bf506
push    esi
call    sub_277bd4ef
test    ebx, 0c40000h
jnz     loc_277c89d0
test    ebx, ebx
jz      short loc_277bf522
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
pop     esi
xor     eax, eax
pop     ebx
retn    0ch
push    esi
call    sub_277bc9e3
lea     eax, [esi+3f4h]
push    eax
push    esi
call    sub_277bd3a3
jmp     short loc_277bf4f5
push    ebp
mov     ebp, esp
push    ecx
push    ecx
cmp     dword ptr [ecx+0a0h], 0
jz      short locret_277bf55e
push    1
pop     eax
mov     [ebp+var_8], eax
mov     [ebp+var_4], eax
lea     eax, [ebp+var_8]
push    eax
call    sub_277b9944
leave
retn
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+8ch]
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
lea     ecx, [ebp+var_8]
mov     eax, [edi-1c4h]
lea     esi, [edi-1c4h]
push    ecx
mov     ecx, esi
call    dword ptr [eax+8ch]
mov     ebx, [ebp+clr]
cmp     [ebp+var_8], ebx
jz      short loc_277bf5f9
mov     eax, [esi]
push    ebx
mov     ecx, esi
call    dword ptr [eax+90h]
test    eax, eax
jl      short loc_277bf5fb
cmp     dword ptr [edi-124h], 0
jz      short loc_277bf5f9
mov     edi, ds:oletranslatecolor
lea     eax, [ebp+colorref]
push    eax
push    0
push    ebx
call    edi
test    eax, eax
jl      loc_277c5a18
push    [ebp+colorref]
mov     eax, [ebp+arg_0]
push    0
push    100ah
push    dword ptr [eax-124h]
call    ds:sendmessagea
cmp     eax, 0ffffffffh
jz      loc_277c5a26
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, ecx
push    edi
cmp     dword ptr [esi+190h], 0ffffffffh
jz      loc_277c70ac
mov     eax, [ebp+clr]
cmp     eax, [esi+190h]
jz      short loc_277bf68c
push    0
push    0
push    eax
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277c70c7
mov     ebx, 0fffffe0bh
lea     ecx, [esi+2ch]
push    ebx
mov     [ebp+var_4], ecx
call    sub_277bf426
test    eax, eax
jz      loc_277c70df
mov     eax, [esi+120h]
lea     edi, [esi+120h]
test    eax, eax
jnz     loc_277c70ef
mov     eax, [ebp+clr]
or      byte ptr [esi+194h], 4
or      dword ptr [esi+0b0h], 1
push    0
mov     ecx, esi
mov     [esi+190h], eax
call    sub_277b45b0
mov     ecx, [ebp+var_4]
push    ebx
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esp+arg_0]
movsx   edx, [esp+arg_4]
lea     ecx, [eax-1c4h]
push    edx
mov     eax, [ecx]
call    dword ptr [eax+0bch]
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, ecx
mov     eax, [esi+188h]
shr     eax, 1
and     eax, 1
cmp     eax, [ebp+arg_0]
jz      loc_277bf765
mov     ebx, 0fffffdfeh
lea     ecx, [esi+2ch]
push    ebx
mov     [ebp+var_8], ecx
call    sub_277bf426
test    eax, eax
jz      loc_277c7071
mov     eax, [ebp+arg_0]
mov     ecx, [esi+188h]
or      dword ptr [esi+0b0h], 1
and     eax, 1
shl     eax, 1
and     ecx, 0fffffffdh
or      eax, ecx
mov     ecx, [esi+0a0h]
test    ecx, ecx
mov     [esi+188h], eax
jz      short loc_277bf71d
shr     eax, 1
and     eax, 1
push    eax
push    ecx
call    ds:enablewindow
test    byte ptr [esi+0b0h], 8
jz      short loc_277bf753
cmp     [ebp+arg_0], 0
jnz     short loc_277bf753
mov     eax, [esi+4]
lea     edx, [ebp+var_4]
push    edx
push    offset dword_277b6150
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277bf753
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+18h]
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    0
mov     ecx, esi
call    sub_277b45b0
mov     ecx, [ebp+var_8]
push    ebx
call    sub_277b4535
xor     eax, eax
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 0ch
and     [ebp+lparam], 0
push    edi
xor     eax, eax
lea     edi, [ebp+var_8]
stosd
stosd
call    ds:releasecapture
lea     eax, [ebp+lparam]
push    eax
push    0fffffff0h
push    [ebp+arg_0]
call    sub_277b9838
pop     edi
leave
retn    4
sub     [esp+arg_0], 28h
jmp     loc_277bb233
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
push    edi
mov     edi, [ebp+arg_4]
mov     esi, ecx
mov     eax, [edi]
mov     [ebp+var_8], eax
mov     eax, [edi+4]
mov     [ebp+var_4], eax
lea     eax, [ebp+var_8]
push    eax
call    sub_277bf7d6
mov     eax, [esi+0d0h]
test    al, 7
jnz     loc_277c77bc
pop     edi
pop     esi
leave
retn    8
test    byte ptr [ecx+0b0h], 2
jz      loc_277c779a
cmp     dword ptr [ecx+0ach], 0
jnz     loc_277c779a
retn    4
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+694h], 4
jnz     loc_277c8f25
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    0ch
mov     eax, [ecx+0ach]
test    eax, eax
jnz     loc_277c6ce7
mov     eax, [ecx+0b0h]
shr     eax, 1
test    al, 1
jz      loc_277c6d10
cmp     [esp+arg_0], 0
jnz     loc_277c6cff
call    ds:releasecapture
push    1
pop     eax
retn    4
sub     [esp-4+arg_0], 1c4h
push    ebp
mov     ebp, esp
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b91bc
pop     ebp
retn    18h
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+0b0h]
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+58h]
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+0b4h]
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    esi
test    eax, eax
mov     esi, ecx
jnz     short loc_277bf919
mov     eax, [esi+19ch]
test    eax, eax
jz      short loc_277bf8e1
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
and     dword ptr [esi+19ch], 0
and     byte ptr [esi+194h], 0f7h
mov     eax, [esi+1a4h]
push    dword ptr [esi+19ch]
lea     ecx, [esi+1a4h]
call    dword ptr [eax+14h]
mov     ecx, [esi+0c8h]
lea     eax, [esi+0c8h]
push    0fffffe00h
push    eax
call    dword ptr [ecx+0ch]
xor     eax, eax
pop     esi
pop     ebp
retn    4
mov     ecx, [eax]
and     [ebp+arg_0], 0
lea     edx, [ebp+arg_0]
push    edx
push    offset iidinterface
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277bf914
mov     eax, [esi+19ch]
test    eax, eax
jnz     loc_277c71b6
mov     eax, [ebp+arg_0]
or      byte ptr [esi+194h], 8
mov     [esi+19ch], eax
jmp     short loc_277bf8e8
push    ebp
mov     ebp, esp
push    ecx
cmp     [ebp+arg_10], 0
push    esi
push    edi
mov     edi, [ebp+arg_8]
jz      loc_277c7868
mov     eax, [ebp+arg_0]
lea     edx, [ebp+arg_8]
push    edx
push    offset dword_277b6230
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277bf9b9
mov     eax, [ebp+arg_8]
lea     edx, [ebp+var_4]
push    edx
push    [ebp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+10h]
mov     esi, eax
mov     eax, [ebp+arg_8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    esi, esi
jl      short loc_277bf9b7
mov     eax, [ebp+var_4]
push    [ebp+arg_c]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+18h]
mov     esi, eax
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
cmp     [ebp+arg_10], 0
jz      loc_277c7873
mov     eax, esi
pop     edi
pop     esi
leave
retn    14h
mov     ecx, [esp+arg_0]
mov     eax, [ecx+4]
test    eax, eax
jz      short loc_277bf9d4
cmp     dword ptr [ecx+18h], 0
jnz     loc_277c78b4
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, 0fffffe00h
cmp     [ebp+wparam], edi
jnz     short loc_277bfa36
mov     esi, [ebp+arg_0]
cmp     dword ptr [esi-28h], 0
jz      short loc_277bfa36
mov     eax, [esi+0d4h]
and     [ebp+wparam], 0
test    eax, eax
jz      short loc_277bfa09
mov     ecx, [eax]
lea     edx, [ebp+wparam]
push    edx
push    eax
call    dword ptr [ecx+4ch]
push    0
push    [ebp+wparam]
push    30h
push    dword ptr [esi-28h]
call    ds:sendmessagea
push    edi
lea     ecx, [esi-9ch]
call    sub_277b4535
or      dword ptr [esi-18h], 1
push    0
lea     ecx, [esi-0c8h]
call    sub_277b45b0
pop     edi
xor     eax, eax
pop     esi
pop     ebp
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+94h]
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
lea     ecx, [ebp+var_8]
mov     eax, [edi-1c4h]
lea     esi, [edi-1c4h]
push    ecx
mov     ecx, esi
call    dword ptr [eax+94h]
mov     ebx, [ebp+clr]
cmp     [ebp+var_8], ebx
jz      short loc_277bfad7
mov     eax, [esi]
push    ebx
mov     ecx, esi
call    dword ptr [eax+98h]
test    eax, eax
jl      short loc_277bfad9
cmp     dword ptr [edi-124h], 0
jz      short loc_277bfad7
mov     edi, ds:oletranslatecolor
lea     eax, [ebp+colorref]
push    eax
push    0
push    ebx
call    edi
test    eax, eax
jl      loc_277c5a99
push    [ebp+colorref]
mov     eax, [ebp+arg_0]
push    1
push    100ah
push    dword ptr [eax-124h]
call    ds:sendmessagea
cmp     eax, 0ffffffffh
jz      loc_277c5aa7
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, ecx
push    edi
cmp     dword ptr [esi+18ch], 0ffffffffh
jz      loc_277c711a
mov     ebx, [ebp+clr]
cmp     ebx, [esi+18ch]
jz      short loc_277bfb53
push    0
push    0
push    ebx
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277c713c
mov     edi, 0fffffdffh
lea     ecx, [esi+2ch]
push    edi
mov     [ebp+clr], ecx
call    sub_277bf426
test    eax, eax
jz      loc_277c7154
or      dword ptr [esi+0b0h], 1
or      byte ptr [esi+194h], 2
push    0
mov     ecx, esi
mov     [esi+18ch], ebx
call    sub_277b45b0
mov     ecx, [ebp+clr]
push    edi
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esp+arg_0]
push    [esp+pvtime]
add     eax, 20h
push    eax
call    ds:systemtimetovarianttime
retn    8
push    ebp
mov     ebp, esp
sub     esp, 24h
fld     [ebp+arg_4]
push    ebx
push    esi
lea     eax, [ebp+systemtime]
push    edi
push    eax
push    ecx
push    ecx
fstp    [esp+3ch+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
mov     [ebp+var_4], eax
jl      loc_277bfc46
mov     ebx, [ebp+arg_0]
sub     esp, 10h
mov     edi, esp
sub     esp, 10h
lea     esi, [ebx+30h]
movsd
movsd
movsd
movsd
lea     esi, [ebp+systemtime]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bfc6d
add     esp, 20h
test    eax, eax
jz      loc_277bfc50
lea     esi, [ebx+30h]
lea     edi, [ebp+lparam]
movsd
movsd
lea     eax, [ebp+lparam]
push    eax
push    3
movsd
push    1012h
push    dword ptr [ebx-124h]
movsd
call    ds:sendmessagea
test    eax, eax
jz      loc_277c5ad5
lea     edi, [ebx+20h]
lea     esi, [ebp+systemtime]
movsd
movsd
xor     eax, eax
push    37h
movsd
push    eax
push    eax
push    eax
push    eax
push    eax
movsd
push    dword ptr [ebx-124h]
call    ds:setwindowpos
push    4
lea     ecx, [ebx-198h]
call    sub_277b4535
or      dword ptr [ebx-114h], 1
sub     esp, 10h
lea     esi, [ebx+20h]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebx+10h]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bfc6d
add     esp, 20h
test    eax, eax
jnz     loc_277c5abf
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edx, [ebx-1c4h]
mov     eax, 8bbeh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbeh
call    dword ptr [edx+30h]
jmp     short loc_277bfc49
push    ebp
mov     ebp, esp
mov     ax, [ebp+arg_0]
cmp     ax, [ebp+arg_10]
ja      short loc_277bfc84
jnb     loc_277c5de1
xor     eax, eax
pop     ebp
retn
push    1
pop     eax
pop     ebp
retn
push    ebp
mov     ebp, esp
sub     esp, 24h
fld     [ebp+arg_4]
fcomp   ds:dbl_277c19f8
push    ebx
push    esi
push    edi
fnstsw  ax
sahf
jb      loc_277bfd75
fld     [ebp+arg_4]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+3ch+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
mov     [ebp+var_4], eax
jl      loc_277bfd70
mov     ebx, [ebp+arg_0]
sub     esp, 10h
mov     edi, esp
sub     esp, 10h
lea     esi, [ebx+20h]
movsd
movsd
movsd
movsd
lea     esi, [ebp+systemtime]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bfdc5
add     esp, 20h
test    eax, eax
jz      loc_277bfd96
lea     esi, [ebx+20h]
lea     edi, [ebp+var_14]
movsd
movsd
lea     eax, [ebp+systemtime]
push    eax
push    3
movsd
push    1012h
push    dword ptr [ebx-124h]
movsd
call    ds:sendmessagea
test    eax, eax
jz      loc_277c5b30
lea     edi, [ebx+30h]
lea     esi, [ebp+systemtime]
movsd
movsd
xor     eax, eax
push    37h
movsd
push    eax
push    eax
push    eax
push    eax
push    eax
movsd
push    dword ptr [ebx-124h]
call    ds:setwindowpos
push    6
lea     ecx, [ebx-198h]
call    sub_277b4535
or      dword ptr [ebx-114h], 1
sub     esp, 10h
lea     esi, [ebx+30h]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebx+10h]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bfdc5
add     esp, 20h
test    eax, eax
jnz     loc_277c5b1a
mov     eax, [ebp+var_4]
jmp     short loc_277bfd8f
mov     eax, [ebp+arg_0]
lea     ecx, [eax-1c4h]
mov     edx, [ecx]
mov     eax, 8bbch
push    eax
push    eax
push    800a8bbch
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edx, [ebx-1c4h]
mov     eax, 8bbfh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbfh
jmp     short loc_277bfd8c
mov     eax, [esp+arg_0]
push    [esp+pvtime]
add     eax, 30h
push    eax
call    ds:systemtimetovarianttime
retn    8
push    ebp
mov     ebp, esp
mov     ax, [ebp+arg_0]
cmp     ax, [ebp+arg_10]
jb      short loc_277bfddc
jbe     loc_277c5dc0
xor     eax, eax
pop     ebp
retn
push    1
pop     eax
pop     ebp
retn
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+0ch]
and     eax, 1
cmp     al, 1
jnz     short loc_277bfe09
push    0
push    0
push    1003h
push    dword ptr [esi-124h]
call    ds:sendmessagea
mov     [esi+62h], ax
mov     ecx, [esp+4+arg_4]
mov     ax, [esi+62h]
pop     esi
mov     [ecx], ax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
mov     bx, [ebp+arg_4]
push    esi
cmp     bx, 1
push    edi
jl      loc_277bfeeb
mov     esi, [ebp+arg_0]
test    byte ptr [esi+0ch], 1
jz      loc_277bff04
cmp     [esi+62h], bx
jz      loc_277bfee7
mov     edi, ds:sendmessagea
lea     eax, [ebp+lparam]
push    eax
push    0
push    1005h
push    dword ptr [esi-124h]
call    edi
test    eax, eax
jz      short loc_277bfeb4
mov     ebx, ds:systemtimetovarianttime
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ebx
test    eax, eax
jl      loc_277bff1f
lea     eax, [ebp+var_8]
push    eax
lea     eax, [ebp+systemtime]
push    eax
call    ebx
test    eax, eax
jl      loc_277bff1f
fld     [ebp+var_8]
movsx   eax, [ebp+arg_4]
fsub    [ebp+pvtime]
mov     [ebp+arg_0], eax
fsub    ds:dbl_277c19f0
fild    [ebp+arg_0]
fcompp
fnstsw  ax
sahf
jb      loc_277c5af2
mov     bx, [ebp+arg_4]
movsx   eax, bx
push    0
push    eax
push    1004h
push    dword ptr [esi-124h]
call    edi
test    eax, eax
jz      loc_277c5b0f
push    5
lea     ecx, [esi-198h]
mov     [esi+62h], bx
call    sub_277b4535
or      dword ptr [esi-114h], 1
xor     eax, eax
jmp     short loc_277bff1f
mov     eax, [ebp+arg_0]
lea     ecx, [eax-1c4h]
mov     edx, [ecx]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
jmp     short loc_277bff1c
mov     edx, [esi-1c4h]
mov     eax, 8bc8h
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a8bc8h
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebx
leave
retn    8
xor     eax, eax
cmp     [esp+arg_4], 0ffffh
push    ebx
mov     ebx, [esp+4+arg_0]
setz    al
push    esi
mov     esi, eax
mov     eax, [ebx+0ch]
push    edi
and     eax, 1
cmp     esi, eax
jz      short loc_277bffbf
mov     eax, [ebx-124h]
test    eax, eax
jz      short loc_277bffbf
push    0fffffff0h
push    eax
call    ds:getwindowlonga
xor     eax, 2
push    eax
push    0fffffff0h
push    dword ptr [ebx-124h]
call    ds:setwindowlonga
mov     eax, [ebx+0ch]
mov     ecx, esi
xor     ecx, eax
and     ecx, 1
xor     ecx, eax
test    esi, esi
mov     [ebx+0ch], ecx
jz      short loc_277bff91
lea     eax, [ebx+10h]
lea     edi, [ebx+50h]
mov     esi, eax
movsd
movsd
movsd
movsd
lea     edi, [ebx+40h]
mov     esi, eax
movsd
movsd
movsd
movsd
lea     esi, [ebx-1c4h]
mov     ecx, esi
call    sub_277b98af
test    eax, eax
jl      short loc_277bffc1
push    0
mov     ecx, esi
call    sub_277b45b0
push    0dh
lea     ecx, [ebx-198h]
call    sub_277b4535
or      dword ptr [ebx-114h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
push    esi
mov     esi, ecx
mov     eax, [esi+1a4h]
lea     ecx, [esi+1a4h]
call    dword ptr [eax+18h]
push    0
lea     ecx, [esi+0d4h]
call    sub_277b4f96
pop     esi
retn
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+pmem]
test    esi, esi
jz      loc_277c0076
mov     eax, [esi+378h]
push    edi
mov     edi, ds:deleteobject
test    eax, eax
jz      short loc_277c000b
push    eax
call    edi
mov     eax, [esi+380h]
test    eax, eax
jz      short loc_277c0018
push    eax
call    edi
mov     eax, [esi+3b8h]
mov     edi, ds:destroymenu
test    eax, eax
jz      short loc_277c002b
push    eax
call    edi
mov     eax, [esi+3bch]
test    eax, eax
jz      short loc_277c0038
push    eax
call    edi
mov     eax, [esi+488h]
mov     edi, ds:killtimer
test    eax, eax
jnz     loc_277c8b98
mov     eax, [esi+48ch]
test    eax, eax
jz      short loc_277c005b
push    eax
push    dword ptr [esi]
call    edi
mov     edi, ds:globalhandle
push    esi
call    edi
push    eax
call    ds:globalunlock
push    esi
call    edi
push    eax
call    ds:globalfree
pop     edi
push    0
push    0
push    [ebp+hwnd]
call    ds:setwindowlonga
push    [ebp+lparam]
push    [ebp+wparam]
push    82h
push    [ebp+hwnd]
call    ds:defwindowproca
pop     esi
pop     ebp
retn    10h
mov     eax, [esp+arg_0]
mov     edx, [esp+arg_4]
push    ebx
push    ebp
movzx   ecx, word ptr [edx+6]
movzx   ebx, word ptr [eax+6]
push    esi
mov     si, [edx+2]
push    edi
mov     di, [eax+2]
sub     ecx, ebx
mov     dx, [edx]
movzx   ebx, di
mov     [esp+10h+arg_0], edx
sub     ecx, dword ptr (a0000+4)[ebx*4]
movzx   ebx, si
add     ecx, dword ptr (a0000+4)[ebx*4]
mov     bx, [eax]
cmp     bx, dx
jb      short loc_277c00f7
cmp     di, 2
jbe     short loc_277c00f7
cmp     bx, word ptr [esp+10h+arg_0]
jb      loc_277c945e
pop     edi
pop     esi
pop     ebp
mov     eax, ecx
pop     ebx
retn    8
cmp     si, 2
jbe     short loc_277c00e3
test    dl, 3
jnz     short loc_277c00e3
cmp     dx, 6d6h
jbe     short loc_277c0126
movzx   esi, dx
mov     eax, esi
push    64h
cdq
pop     ebp
idiv    ebp
test    edx, edx
jnz     short loc_277c0126
mov     eax, esi
mov     esi, 190h
cdq
idiv    esi
test    edx, edx
jnz     short loc_277c00e3
inc     ecx
jmp     short loc_277c00e3
push    esi
mov     esi, [esp+4+arg_0]
movzx   eax, word ptr [esi+2]
push    eax
movzx   eax, word ptr [esi]
push    eax
call    sub_277bd151
movzx   ecx, word ptr [esi+6]
push    7
lea     eax, [ecx+eax-1]
pop     ecx
cdq
idiv    ecx
pop     esi
mov     eax, edx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
push    edi
mov     edi, [ebp+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jnz     loc_277c5b3b
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [edi-124h]
call    ds:sendmessagea
test    eax, eax
movzx   eax, word ptr [ebp+lparam+2]
jz      loc_277c5b53
mov     ecx, [ebp+arg_4]
mov     [ecx], eax
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
cmp     esi, 1
jl      loc_277c029c
cmp     esi, 0ch
jg      loc_277c029c
mov     ebx, [ebp+arg_0]
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      loc_277c0282
movzx   eax, word ptr [ebp+lparam+2]
cmp     eax, esi
jz      loc_277c0279
sub     esp, 10h
mov     word ptr [ebp+lparam+2], si
lea     esi, [ebx+20h]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebx+30h]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebp+lparam]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jz      loc_277c5b67
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      loc_277c5b5c
lea     edi, [ebx+10h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     esi, [ebx-198h]
push    7
mov     ecx, esi
call    sub_277b4535
push    17h
mov     ecx, esi
call    sub_277b4535
or      dword ptr [ebx-114h], 1
push    0
lea     ecx, [ebx-1c4h]
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edx, [ebx-1c4h]
mov     eax, 8bc5h
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bc5h
jmp     short loc_277c02b3
mov     eax, [ebp+arg_0]
lea     ecx, [eax-1c4h]
mov     edx, [ecx]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277c027b
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+64h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+colorref]
push    edi
mov     edi, [ebp+clr]
cmp     [esi+64h], edi
jz      short loc_277c0337
lea     eax, [ebp+colorref]
push    eax
push    0
push    edi
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277c5b84
mov     eax, [esi-124h]
test    eax, eax
jz      short loc_277c0313
push    [ebp+colorref]
push    4
push    100ah
push    eax
call    ds:sendmessagea
cmp     eax, 0ffffffffh
jz      loc_277c5ba4
push    0
lea     ecx, [esi-1c4h]
mov     [esi+64h], edi
call    sub_277b45b0
or      dword ptr [esi-114h], 1
push    8
lea     ecx, [esi-198h]
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+0ch]
and     eax, 1
dec     al
neg     al
sbb     eax, eax
neg     eax
dec     eax
mov     [ecx], ax
xor     eax, eax
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     ax, [eax+60h]
mov     [ecx], ax
xor     eax, eax
retn    8
mov     ax, [esp+arg_4]
push    esi
test    ax, ax
jl      short loc_277c03c2
cmp     ax, 7d0h
jg      short loc_277c03c2
mov     esi, [esp+4+arg_0]
cmp     ax, [esi+60h]
jz      short loc_277c03bc
mov     [esi+60h], ax
push    0
movsx   eax, ax
push    eax
push    1014h
push    dword ptr [esi-124h]
call    ds:sendmessagea
push    0eh
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
xor     eax, eax
pop     esi
retn    8
mov     eax, [esp+4+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277c03be
mov     eax, [esp+arg_0]
xor     ecx, ecx
mov     eax, [eax+0ch]
and     eax, 2
cmp     al, 2
mov     eax, [esp+arg_4]
setnz   cl
dec     ecx
mov     [eax], cx
xor     eax, eax
retn    8
xor     eax, eax
cmp     [esp+arg_4], 0ffffh
push    esi
mov     esi, [esp+4+arg_0]
setz    al
push    edi
mov     edi, eax
mov     eax, [esi+0ch]
shr     eax, 1
and     eax, 1
cmp     edi, eax
jz      short loc_277c0487
mov     eax, [esi-124h]
test    eax, eax
jz      short loc_277c0487
push    ebx
push    0fffffff0h
push    eax
call    ds:getwindowlonga
xor     eax, 10h
push    eax
push    0fffffff0h
push    dword ptr [esi-124h]
call    ds:setwindowlonga
lea     ebx, [esi-1c4h]
lea     eax, [esi-13ch]
push    eax
mov     ecx, ebx
call    sub_277b9944
push    0
mov     ecx, ebx
call    sub_277b45b0
mov     eax, [esi+0ch]
and     edi, 1
shl     edi, 1
and     al, 0fdh
push    11h
or      edi, eax
lea     ecx, [esi-198h]
mov     [esi+0ch], edi
call    sub_277b4535
or      dword ptr [esi-114h], 1
pop     ebx
pop     edi
xor     eax, eax
pop     esi
retn    8
mov     eax, [esp+arg_0]
xor     ecx, ecx
mov     eax, [eax+0ch]
and     eax, 4
cmp     al, 4
mov     eax, [esp+arg_4]
setnz   cl
dec     ecx
mov     [eax], cx
xor     eax, eax
retn    8
xor     eax, eax
cmp     [esp+arg_4], 0ffffh
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
setz    al
mov     edi, eax
mov     eax, [esi+0ch]
push    1
shr     eax, 2
pop     ebx
and     eax, ebx
cmp     edi, eax
jz      short loc_277c053b
mov     eax, [esi-124h]
test    eax, eax
jz      short loc_277c0506
push    0fffffff0h
push    eax
call    ds:getwindowlonga
xor     eax, 4
push    eax
push    0fffffff0h
push    dword ptr [esi-124h]
call    ds:setwindowlonga
lea     eax, [esi-13ch]
lea     ecx, [esi-1c4h]
push    eax
call    sub_277b9944
push    0
lea     ecx, [esi-1c4h]
call    sub_277b45b0
mov     eax, [esi+0ch]
and     edi, ebx
shl     edi, 2
and     al, 0fbh
push    12h
or      edi, eax
lea     ecx, [esi-198h]
mov     [esi+0ch], edi
call    sub_277b4535
or      [esi-114h], ebx
mov     [esi+0dch], ebx
pop     edi
pop     esi
xor     eax, eax
pop     ebx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    1
mov     ax, [esi]
pop     ebx
mov     [ebp+var_10], ax
push    ebx
movzx   eax, ax
push    eax
mov     [ebp+var_e], bx
mov     [ebp+var_a], bx
call    sub_277bd151
mov     edi, eax
sub     edi, [ebp+arg_4]
jns     short loc_277c0575
add     edi, 7
cmp     [esi+2], bx
jz      loc_277c9506
test    edi, edi
jz      short loc_277c058c
push    8
pop     eax
sub     eax, edi
mov     [ebp+var_a], ax
lea     eax, [ebp+var_10]
push    esi
push    eax
call    sub_277c009c
push    7
xor     edx, edx
pop     ecx
div     ecx
mov     ebx, eax
inc     ebx
test    edi, edi
jz      short loc_277c05ad
cmp     edi, 3
jle     loc_277c951e
test    ebx, ebx
jz      loc_277c9524
cmp     ebx, 34h
jge     loc_277c9554
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    esi
mov     esi, [esp+4+arg_0]
push    0
push    0
push    1010h
push    dword ptr [esi-124h]
call    ds:sendmessagea
movzx   eax, ax
push    eax
call    sub_277bb139
pop     ecx
and     eax, 0fh
mov     ecx, [esi+0ch]
and     ch, 87h
shl     eax, 0bh
or      ecx, eax
mov     eax, [esp+4+arg_4]
mov     [esi+0ch], ecx
pop     esi
shr     ecx, 0bh
and     ecx, 0fh
mov     [eax], ecx
xor     eax, eax
retn    8
mov     eax, [esp+arg_4]
push    esi
cmp     eax, 1
jl      short loc_277c0686
cmp     eax, 7
jg      short loc_277c0686
mov     esi, [esp+4+arg_0]
mov     ecx, [esi+0ch]
mov     edx, ecx
shr     edx, 0bh
and     edx, 0fh
cmp     eax, edx
jz      short loc_277c0680
and     eax, 0fh
and     ch, 87h
shl     eax, 0bh
or      eax, ecx
mov     [esi+0ch], eax
shr     eax, 0bh
and     eax, 0fh
push    eax
call    sub_277be31f
pop     ecx
push    eax
push    0
push    100fh
push    dword ptr [esi-124h]
call    ds:sendmessagea
push    13h
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
push    0
lea     ecx, [esi-1c4h]
call    sub_277b45b0
xor     eax, eax
pop     esi
retn    8
mov     eax, [esp+4+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277c0682
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+6ch]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+colorref]
push    edi
mov     edi, [ebp+clr]
cmp     [esi+6ch], edi
jz      short loc_277c0726
lea     eax, [ebp+colorref]
push    eax
push    0
push    edi
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277c5bbe
mov     eax, [esi-124h]
test    eax, eax
jz      short loc_277c0702
push    [ebp+colorref]
push    2
push    100ah
push    eax
call    ds:sendmessagea
cmp     eax, 0ffffffffh
jz      loc_277c5bde
push    0
lea     ecx, [esi-1c4h]
call    sub_277b45b0
or      dword ptr [esi-114h], 1
push    14h
lea     ecx, [esi-198h]
mov     [esi+6ch], edi
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+68h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+colorref]
push    edi
mov     edi, [ebp+clr]
cmp     [esi+68h], edi
jz      short loc_277c07ad
lea     eax, [ebp+colorref]
push    eax
push    0
push    edi
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277c5bf8
mov     eax, [esi-124h]
test    eax, eax
jz      short loc_277c0789
push    [ebp+colorref]
push    3
push    100ah
push    eax
call    ds:sendmessagea
cmp     eax, 0ffffffffh
jz      loc_277c5c18
push    0
lea     ecx, [esi-1c4h]
call    sub_277b45b0
or      dword ptr [esi-114h], 1
push    15h
lea     ecx, [esi-198h]
mov     [esi+68h], edi
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+70h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+colorref]
push    edi
mov     edi, [ebp+clr]
cmp     [esi+70h], edi
jz      short loc_277c0834
lea     eax, [ebp+colorref]
push    eax
push    0
push    edi
call    ds:oletranslatecolor
test    eax, eax
jl      loc_277c5c32
mov     eax, [esi-124h]
test    eax, eax
jz      short loc_277c0810
push    [ebp+colorref]
push    5
push    100ah
push    eax
call    ds:sendmessagea
cmp     eax, 0ffffffffh
jz      loc_277c5c52
push    0
lea     ecx, [esi-1c4h]
call    sub_277b45b0
or      dword ptr [esi-114h], 1
push    16h
lea     ecx, [esi-198h]
mov     [esi+70h], edi
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+lparam]
test    byte ptr [esi+0ch], 1
push    eax
push    0
jnz     loc_277c5c6c
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277c0895
mov     ax, word ptr [ebp+lparam]
mov     cx, [ebp+var_1a]
cmp     [esi+10h], ax
mov     dx, word ptr [ebp+lparam+2]
jnz     loc_277c5c76
cmp     [esi+12h], dx
jnz     loc_277c5c76
cmp     [esi+16h], cx
jnz     loc_277c5c76
push    [ebp+pvtime]
add     esi, 10h
push    esi
call    ds:systemtimetovarianttime
test    eax, eax
jl      short loc_277c08a8
xor     eax, eax
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     word ptr [ebp+arg_4], 0
push    ebx
push    esi
push    edi
jl      short loc_277c08c8
cmp     word ptr [ebp+arg_4], 64h
jl      loc_277c5d06
mov     ebx, [ebp+arg_0]
movsx   edi, word ptr [ebp+arg_4]
movzx   eax, word ptr [ebx+30h]
cmp     edi, eax
jl      loc_277c09c5
movzx   eax, word ptr [ebx+20h]
lea     esi, [ebx+20h]
cmp     edi, eax
jg      loc_277c09c5
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      loc_277c09a8
movzx   eax, word ptr [ebp+lparam]
cmp     eax, edi
jz      loc_277c099f
sub     esp, 10h
mov     ax, word ptr [ebp+arg_4]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+30h]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
mov     word ptr [ebp+lparam], ax
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jz      loc_277c5d25
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277c09c5
lea     edi, [ebx+10h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     esi, [ebx-198h]
push    1ah
mov     ecx, esi
call    sub_277b4535
push    17h
mov     ecx, esi
call    sub_277b4535
or      dword ptr [ebx-114h], 1
push    0
lea     ecx, [ebx-1c4h]
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edx, [ebx-1c4h]
mov     eax, 8bc7h
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bc7h
call    dword ptr [edx+30h]
jmp     short loc_277c09a1
mov     edx, [ebx-1c4h]
mov     eax, 17ch
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a017ch
jmp     short loc_277c09c0
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     si, [ebp+arg_4]
push    edi
cmp     si, 1
jl      loc_277c5a8e
cmp     si, 1fh
jg      loc_277c5a8e
mov     ebx, [ebp+arg_0]
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     loc_277c5a74
movzx   eax, [ebp+var_a]
movsx   ecx, si
cmp     eax, ecx
jz      loc_277c0abf
sub     esp, 10h
mov     [ebp+var_a], si
lea     esi, [ebx+20h]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebx+30h]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebp+lparam]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jz      loc_277c5a54
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      loc_277c5a3e
lea     edi, [ebx+10h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     esi, [ebx-198h]
push    1
mov     ecx, esi
call    sub_277b4535
push    17h
mov     ecx, esi
call    sub_277b4535
or      dword ptr [ebx-114h], 1
push    0
lea     ecx, [ebx-1c4h]
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
push    edi
mov     edi, [ebp+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jnz     loc_277c5cdf
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [edi-124h]
call    ds:sendmessagea
test    eax, eax
jz      loc_277c5cf7
mov     eax, [ebp+arg_4]
mov     cx, word ptr [ebp+lparam]
mov     [eax], cx
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     ebx, [esi+454h]
push    ebx
push    [ebp+arg_4]
call    sub_277be055
cmp     eax, 1
jz      loc_277c0c76
lea     edi, [esi+444h]
push    edi
push    [ebp+arg_8]
call    sub_277be055
cmp     eax, 0ffffffffh
jz      loc_277c0c76
push    edi
push    [ebp+arg_4]
call    sub_277be055
cmp     eax, 0ffffffffh
jz      loc_277c8e64
mov     eax, [ebp+arg_4]
mov     cx, [eax]
mov     [ebp+var_10], cx
mov     cx, [eax+2]
mov     ax, [eax+6]
mov     [ebp+var_e], cx
mov     edi, [ebp+arg_8]
push    ebx
push    edi
mov     [ebp+var_a], ax
call    sub_277be055
cmp     eax, 1
jz      loc_277c8e82
mov     ax, [edi]
mov     [ebp+var_20], ax
mov     ax, [edi+2]
mov     [ebp+var_1e], ax
mov     ax, [edi+6]
mov     [ebp+var_1a], ax
movzx   eax, [ebp+var_e]
push    eax
movzx   eax, [ebp+var_10]
push    eax
push    esi
call    sub_277bd3d8
cmp     eax, 0ffffffffh
mov     [ebp+arg_4], eax
jz      loc_277c8ea0
mov     ecx, [esi+eax*4+5d4h]
sub     ecx, [esi+eax*4+60ch]
movzx   edx, [ebp+var_a]
lea     edi, [ecx+edx-1]
lea     ecx, [ebp+var_40]
push    ecx
push    eax
push    esi
call    sub_277bd491
lea     eax, [ebp+var_20]
push    eax
lea     eax, [ebp+var_10]
push    eax
call    sub_277be055
cmp     eax, 1
jz      short loc_277c0c76
mov     eax, edi
push    7
cdq
pop     ecx
mov     ebx, [esi+39ch]
idiv    ecx
mov     eax, edi
push    7
mov     ecx, edx
imul    ecx, ebx
cdq
pop     ebx
add     ecx, [ebp+var_40]
idiv    ebx
mov     edx, [esi+3a0h]
add     ecx, [esi+578h]
mov     ebx, [esi+39ch]
push    0
mov     [ebp+rect.left], ecx
add     ecx, ebx
mov     [ebp+rect.right], ecx
imul    eax, edx
add     eax, [ebp+var_3c]
add     eax, [esi+57ch]
mov     [ebp+rect.top], eax
add     eax, edx
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
push    8
lea     eax, [ebp+var_10]
push    1
push    eax
lea     eax, [ebp+var_10]
push    eax
call    sub_277bd1d8
inc     edi
cmp     [ebp+var_a], 1
jnz     loc_277c0be8
jmp     loc_277c8ee8
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
sub     [esp+arg_0], 2ch
jmp     loc_277bb1e5
sub     [esp+arg_0], 2ch
jmp     loc_277bb233
push    esi
mov     esi, ecx
mov     ecx, [esi+38h]
push    0
lea     eax, [esi+38h]
push    eax
call    dword ptr [ecx+0ch]
mov     ecx, esi
call    sub_277b5881
pop     esi
retn
push    esi
mov     esi, ecx
call    sub_277c0cd1
test    byte ptr [esp+8], 1
jz      short loc_277c0ccb
test    esi, esi
jz      short loc_277c0ccb
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
mov     eax, [esi+270h]
mov     dword ptr [esi], offset off_277c12d0
test    eax, eax
mov     dword ptr [esi+1ch], offset off_277c12b8
mov     dword ptr [esi+38h], offset off_277c1258
mov     dword ptr [esi+3ch], offset off_277c1238
mov     dword ptr [esi+40h], offset off_277c1208
mov     dword ptr [esi+44h], offset off_277c11e0
mov     dword ptr [esi+48h], offset off_277c11a0
mov     dword ptr [esi+4ch], offset off_277c1180
mov     dword ptr [esi+50h], offset off_277c1158
mov     dword ptr [esi+54h], offset off_277c1130
mov     dword ptr [esi+58h], offset off_277c1120
mov     dword ptr [esi+5ch], offset off_277c1110
mov     dword ptr [esi+60h], offset off_277c10f8
mov     dword ptr [esi+64h], offset off_277c10e0
mov     dword ptr [esi+68h], offset off_277c10d0
mov     dword ptr [esi+0c0h], offset off_277c10b0
mov     dword ptr [esi+0c4h], offset off_277c10a0
mov     dword ptr [esi+0c8h], offset off_277c1088
mov     dword ptr [esi+0cch], offset off_277c1070
mov     dword ptr [esi+1c4h], offset off_277c0f20
mov     dword ptr [esi+1c8h], offset off_277c0f10
mov     dword ptr [esi+1cch], offset off_277c0ef8
jz      short loc_277c0d93
push    eax
call    ds:safearraydestroy
mov     ecx, esi
call    sub_277c0d9c
pop     esi
retn
push    esi
mov     esi, ecx
mov     eax, [esi+198h]
mov     dword ptr [esi], offset off_277c1778
test    eax, eax
mov     dword ptr [esi+1ch], offset off_277c1760
mov     dword ptr [esi+38h], offset off_277c1700
mov     dword ptr [esi+3ch], offset off_277c16e0
mov     dword ptr [esi+40h], offset off_277c16b0
mov     dword ptr [esi+44h], offset off_277c1688
mov     dword ptr [esi+48h], offset off_277c1648
mov     dword ptr [esi+4ch], offset off_277c1628
mov     dword ptr [esi+50h], offset off_277c1600
mov     dword ptr [esi+54h], offset off_277c15d8
mov     dword ptr [esi+58h], offset off_277c15c8
mov     dword ptr [esi+5ch], offset off_277c15b8
mov     dword ptr [esi+60h], offset off_277c15a0
mov     dword ptr [esi+64h], offset off_277c1588
mov     dword ptr [esi+68h], offset off_277c1578
mov     dword ptr [esi+0c0h], offset off_277c1558
mov     dword ptr [esi+0c4h], offset off_277c1548
mov     dword ptr [esi+0c8h], offset off_277c1858
mov     dword ptr [esi+0cch], offset off_277c1530
jnz     loc_277c6f73
mov     ecx, [esi+19ch]
lea     eax, [esi+19ch]
test    ecx, ecx
jz      short loc_277c0e56
and     dword ptr [eax], 0
mov     eax, [ecx]
push    ecx
call    dword ptr [eax+8]
mov     ecx, [esi+1a0h]
lea     eax, [esi+1a0h]
test    ecx, ecx
jnz     loc_277c6f7f
mov     eax, [esi+120h]
test    eax, eax
jnz     loc_277c6f8d
lea     ecx, [esi+1a4h]
call    sub_277bd7fc
lea     ecx, [esi+0d4h]
call    sub_277b5898
mov     ecx, esi
call    sub_277b58fd
pop     esi
retn
push    esi
mov     esi, ds:unregisterclassa
push    [esp+4+hinstance]
push    offset amsvblibmonthvi_0
call    esi
push    [esp+4+hinstance]
push    offset amsvblibdatetim
call    esi
pop     esi
retn    4
sub     [esp+arg_0], 0c0h
push    ebp
mov     ebp, esp
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b91bc
pop     ebp
retn    18h
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
movsx   eax, word ptr [esi+1eh]
mov     ecx, [esp+4+arg_4]
pop     esi
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     ebx, ecx
xor     esi, esi
push    edi
cmp     [ebx+0e4h], esi
jnz     short loc_277c1a66
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    4
call    sub_277b54b0
test    eax, eax
jnz     loc_277c4db3
mov     eax, [ebx+168h]
test    al, 8
jnz     short loc_277c1a5d
or      al, 8
mov     ecx, ebx
mov     [ebx+168h], eax
call    sub_277c2da8
test    eax, eax
jz      loc_277c4dc1
and     dword ptr [ebx+168h], 0fffffff7h
jmp     short loc_277c1a5d
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277c1b1a
movsx   ebx, word ptr [esi+1eh]
mov     eax, [ebp+arg_4]
cmp     ebx, eax
jz      short loc_277c1b16
test    ax, ax
jz      short loc_277c1ae6
cmp     ax, 1
jz      short loc_277c1ae6
mov     edx, [edi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, edi
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     [esi+0bch], ebx
mov     [esi+1eh], ax
mov     eax, [esi+24h]
test    eax, eax
jnz     loc_277c4bbb
movsx   eax, word ptr [esi+1eh]
push    2
lea     ecx, [esi-94h]
mov     [esi+0bch], eax
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
jmp     short loc_277c1adf
push    ebp
mov     ebp, esp
sub     esp, 24h
push    esi
mov     esi, ecx
push    edi
test    byte ptr [esi+168h], 1
jnz     short loc_277c1b3c
cmp     dword ptr [esi+0e4h], 0
lea     edi, [esi+0e4h]
jz      short loc_277c1b40
pop     edi
pop     esi
leave
retn
mov     eax, [esi+0e8h]
cmp     eax, 0ffffffffh
jnz     loc_277c4a90
jmp     short loc_277c1b3c
push    esi
mov     esi, [esp+4+arg_0]
push    edi
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277c1b87
test    eax, eax
jz      loc_277c4c79
push    1
mov     ecx, edi
call    sub_277c1a48
mov     ax, [esi+20h]
mov     ecx, [esp+8+arg_4]
mov     [ecx], ax
xor     eax, eax
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
mov     esi, ecx
test    byte ptr [esi+168h], 20h
jz      short loc_277c1ba8
mov     eax, [esi+168h]
pop     esi
shl     eax, 19h
sar     eax, 1fh
leave
retn
push    esi
lea     ecx, [ebp+var_28]
call    sub_277c1bea
and     [ebp+var_4], 0
or      dword ptr [esi+168h], 20h
lea     eax, [ebp+var_4]
lea     ecx, [ebp+var_28]
push    eax
call    sub_277c1c45
cmp     eax, 80004002h
jz      loc_277c4b81
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277c1be0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
lea     ecx, [ebp+var_28]
call    sub_277c2142
jmp     short loc_277c1b99
push    esi
mov     esi, ecx
push    [esp+4+arg_0]
call    sub_277c1c03
mov     dword ptr [esi+20h], 1
mov     eax, esi
pop     esi
retn    4
push    esi
push    edi
mov     edi, [esp+8+arg_0]
mov     esi, ecx
mov     eax, edi
neg     eax
lea     ecx, [edi+0c0h]
sbb     eax, eax
and     eax, ecx
jz      short loc_277c1c21
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
or      word ptr [esi+10h], 0ffffh
or      dword ptr [esi+14h], 0ffffffffh
xor     eax, eax
mov     [esi+18h], edi
mov     [esi+20h], eax
mov     [esi+8], eax
mov     [esi+0ch], eax
mov     [esi], eax
mov     [esi+4], eax
mov     [esi+1ch], eax
pop     edi
pop     esi
retn    4
push    esi
push    edi
mov     edi, [esp+8+arg_0]
mov     esi, ecx
and     dword ptr [edi], 0
call    sub_277c1c70
test    eax, eax
jl      short loc_277c1c6b
mov     eax, [esi]
test    eax, eax
jz      short loc_277c1c65
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
mov     eax, [esi]
mov     [edi], eax
xor     eax, eax
pop     edi
pop     esi
retn    4
push    esi
mov     esi, ecx
mov     eax, [esi+20h]
sub     eax, 0
jz      loc_277c4557
dec     eax
jz      short loc_277c1cbc
dec     eax
jnz     short loc_277c1c9b
mov     ecx, esi
call    sub_277c2807
test    eax, eax
jl      short loc_277c1cc5
mov     dword ptr [esi+20h], 5
xor     eax, eax
pop     esi
retn
dec     eax
jz      short loc_277c1cb3
dec     eax
jz      short loc_277c1caa
dec     eax
jnz     loc_277c4548
jmp     short loc_277c1c97
mov     ecx, esi
call    sub_277c3e64
jmp     short loc_277c1c8c
mov     ecx, esi
call    sub_277c1f12
jmp     short loc_277c1c8c
mov     ecx, esi
call    sub_277c1cd1
jmp     short loc_277c1c8c
mov     [esi+1ch], eax
mov     dword ptr [esi+20h], 6
pop     esi
retn
push    esi
mov     esi, ecx
push    1
call    sub_277c1cfc
test    eax, eax
jge     short loc_277c1cec
push    0
mov     ecx, esi
call    sub_277c1cfc
test    eax, eax
jl      short loc_277c1cfa
mov     ecx, esi
mov     dword ptr [esi+20h], 3
call    sub_277c1f12
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 28h
or      [ebp+var_c], 0ffffffffh
push    esi
lea     eax, [ebp+var_8]
push    edi
push    eax
mov     edi, ecx
xor     esi, esi
push    1
push    1dh
mov     [ebp+var_10], edi
mov     [ebp+var_8], esi
mov     [ebp+var_4], esi
call    sub_277c1e6e
cmp     eax, esi
jl      loc_277c1e68
mov     eax, [ebp+var_8]
push    ebx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [edi+18h]
cmp     eax, esi
jz      loc_277c4715
add     eax, 3ch
push    esi
push    1
push    2
push    esi
lea     ecx, [ebp+pvarg]
push    esi
mov     edi, offset atabindex
push    ecx
push    edi
push    eax
call    sub_277b633c
add     esp, 20h
cmp     eax, esi
jl      loc_277c1e3c
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
mov     [ebp+var_18], eax
jmp     short loc_277c1dd2
cmp     [ebp+arg_0], esi
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
jz      short loc_277c1d8a
cmp     ax, word ptr [ebp+var_c]
jle     short loc_277c1d8a
cmp     ax, word ptr [ebp+var_18]
jl      short loc_277c1da0
cmp     [ebp+arg_0], esi
jnz     short loc_277c1dc6
movzx   edx, word ptr [ebp+var_c]
movsx   ecx, ax
cmp     ecx, edx
jge     short loc_277c1dc6
cmp     ax, word ptr [ebp+var_18]
jle     short loc_277c1dc6
mov     ebx, eax
mov     eax, [ebp+var_10]
mov     eax, [eax]
cmp     eax, esi
jnz     loc_277c1e31
mov     eax, [ebp+var_4]
push    [ebp+var_10]
mov     ecx, [eax]
push    offset dword_277b6200
push    eax
call    dword ptr [ecx]
cmp     eax, esi
jl      short loc_277c1dc6
mov     [ebp+var_c], ebx
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     [ebp+var_4], esi
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    esi
push    edx
mov     ecx, [eax]
push    1
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jl      short loc_277c1e3c
cmp     [ebp+var_4], esi
jz      short loc_277c1e3c
push    esi
push    1
push    2
push    esi
lea     eax, [ebp+pvarg]
push    esi
push    eax
push    edi
push    [ebp+var_4]
call    sub_277b633c
add     esp, 20h
cmp     eax, esi
jl      short loc_277c1dc6
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_14]
mov     [ebp+var_14], esi
push    edx
mov     ecx, [eax]
push    offset dword_277b1e38
push    eax
call    dword ptr [ecx]
cmp     eax, esi
jl      loc_277c1d76
mov     eax, [ebp+var_14]
cmp     eax, esi
jz      short loc_277c1dc6
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     short loc_277c1dc6
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c1daf
mov     eax, [ebp+var_8]
cmp     eax, esi
jz      short loc_277c1e49
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
cmp     eax, esi
jnz     loc_277c471c
mov     eax, [ebp+var_10]
pop     ebx
mov     eax, [eax]
neg     eax
sbb     eax, eax
and     eax, 7fffbffbh
add     eax, 80004005h
pop     edi
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 0ch
and     [ebp+var_4], 0
and     [ebp+var_8], 0
and     [ebp+var_c], 0
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
and     dword ptr [ebx], 0
mov     eax, [ecx+18h]
test    eax, eax
jz      loc_277c46d7
add     eax, 38h
mov     ecx, [eax]
lea     edx, [ebp+var_4]
push    edx
push    eax
call    dword ptr [ecx+10h]
mov     esi, eax
test    esi, esi
jl      short loc_277c1ed9
mov     eax, [ebp+var_4]
test    eax, eax
jz      loc_277c46de
mov     ecx, [eax]
lea     edx, [ebp+var_8]
push    edx
push    offset loc_277b6580
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      loc_277c46e8
mov     eax, [ebp+var_8]
push    ebx
push    [ebp+arg_4]
mov     ecx, [eax]
push    [ebp+arg_0]
push    eax
call    dword ptr [ecx+0ch]
mov     esi, eax
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277c1ee6
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_8]
test    eax, eax
jz      short loc_277c1ef3
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, esi
pop     esi
pop     ebx
leave
retn    0ch
sub     [esp+arg_0], 20h
jmp     sub_277b516f
sub     [esp+arg_0], 0a4h
jmp     sub_277b516f
push    ebp
mov     ebp, esp
sub     esp, 14h
and     [ebp+var_4], 0
lea     eax, [ebp+pvarg]
push    esi
mov     esi, ecx
push    eax
call    ds:variantinit
lea     eax, [ebp+var_4]
push    eax
push    dword ptr [esi]
call    sub_277c1f60
pop     ecx
test    eax, eax
pop     ecx
jl      short loc_277c1f4b
mov     eax, [esi]
test    eax, eax
jz      short loc_277c1f46
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
mov     [esi], eax
mov     ecx, esi
call    sub_277c1fde
test    eax, eax
jl      short loc_277c1f5d
mov     ecx, esi
call    sub_277c2050
pop     esi
leave
retn
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     esi, edi
mov     [ebp+var_4], edi
mov     [ebp+var_8], edi
mov     [ebx], edi
jz      loc_277c6ee9
mov     eax, [esi]
lea     ecx, [ebp+arg_0]
push    ecx
push    800h
lea     ecx, [ebp+arg_4]
push    1
push    ecx
push    offset dword_277b6008
push    esi
mov     [ebp+arg_4], offset word_2782a29e
call    dword ptr [eax+14h]
mov     eax, [esi]
lea     ecx, [ebp+var_4]
push    ecx
push    offset dword_277c4288
push    esi
call    dword ptr [eax]
cmp     eax, edi
jge     loc_277c6ef0
mov     eax, [esi]
push    esi
mov     [ebx], esi
call    dword ptr [eax+4]
xor     esi, esi
mov     eax, [ebp+var_4]
cmp     eax, edi
jnz     loc_277c6f37
mov     eax, [ebp+var_8]
cmp     eax, edi
jnz     loc_277c6f45
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
lea     eax, [ebp+pvarg]
push    edi
mov     esi, ecx
push    eax
call    ds:variantinit
xor     edi, edi
lea     eax, [ebp+pvarg]
push    edi
push    1
push    2
push    edi
push    edi
push    eax
push    offset aname
push    dword ptr [esi]
call    sub_277b633c
add     esp, 20h
cmp     eax, edi
jl      short loc_277c204c
push    dword ptr [ebp+pvarg.anonymous_0+8]
call    ds:sysallocstring
mov     [esi+8], eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
push    edi
push    1
push    2
push    edi
lea     eax, [ebp+pvarg]
push    edi
push    eax
push    offset aindex
push    dword ptr [esi]
call    sub_277b633c
add     esp, 20h
cmp     eax, edi
jge     loc_277c46ca
xor     eax, eax
pop     edi
pop     esi
leave
retn
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
lea     eax, [ebp+var_4]
push    esi
mov     esi, ecx
push    eax
call    sub_277c2099
test    eax, eax
jl      short loc_277c2096
mov     eax, [ebp+var_4]
lea     edx, [esi+14h]
push    edx
push    800h
mov     ecx, [eax]
add     esi, 8
push    1
push    esi
push    offset dword_277b6008
push    eax
call    dword ptr [ecx+14h]
mov     esi, eax
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277c2094
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, esi
pop     esi
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 0ch
and     [ebp+var_8], 0
and     [ebp+var_4], 0
and     [ebp+var_c], 0
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
and     dword ptr [ebx], 0
mov     eax, [ecx+18h]
test    eax, eax
jz      loc_277c4682
add     eax, 38h
mov     ecx, [eax]
lea     edx, [ebp+var_8]
push    edx
push    eax
call    dword ptr [ecx+10h]
mov     esi, eax
test    esi, esi
jl      short loc_277c2115
mov     eax, [ebp+var_8]
test    eax, eax
jz      loc_277c4689
mov     ecx, [eax]
lea     edx, [ebp+var_4]
push    edx
push    eax
call    dword ptr [ecx+14h]
mov     esi, eax
test    esi, esi
jl      short loc_277c2115
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_c]
push    edx
push    offset dword_277c42b0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
test    eax, eax
mov     eax, [ebp+var_4]
push    ebx
mov     ecx, [eax]
jge     loc_277c4693
push    offset dword_277b6200
push    eax
call    dword ptr [ecx]
mov     esi, eax
mov     eax, [ebp+var_8]
test    eax, eax
jz      short loc_277c2122
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277c212f
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_c]
test    eax, eax
jnz     loc_277c469d
mov     eax, esi
pop     esi
pop     ebx
leave
retn    4
push    esi
mov     esi, ecx
push    edi
mov     eax, [esi]
test    eax, eax
jz      short loc_277c2152
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [esi+4]
test    eax, eax
jz      short loc_277c215f
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [esi+18h]
test    eax, eax
jz      loc_277c4466
lea     ecx, [eax+0c0h]
test    ecx, ecx
jz      short loc_277c2187
test    eax, eax
jz      loc_277c446d
add     eax, 0c0h
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
push    dword ptr [esi+8]
mov     edi, ds:sysfreestring
call    edi
push    dword ptr [esi+0ch]
call    edi
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 38h
mov     ax, [ebp+arg_4]
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
cmp     [ebx+20h], ax
jz      loc_277c225f
cmp     ax, 0ffffh
jz      short loc_277c21c3
test    ax, ax
jnz     loc_277c4c19
xor     edi, edi
cmp     ax, di
mov     [ebx+20h], di
jz      loc_277c2268
lea     esi, [ebx-0c0h]
lea     ecx, [ebp+var_38]
push    esi
mov     [ebp+var_4], esi
call    sub_277c1bea
lea     eax, [ebp+arg_0]
lea     ecx, [ebp+var_38]
push    eax
mov     [ebp+arg_0], edi
call    sub_277c1c45
cmp     eax, edi
jl      loc_277c4c39
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [ebp+arg_0]
sub     esp, 10h
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     word ptr [ebp+pvarg.anonymous_0], 9
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
movsd
mov     eax, [ebx]
push    ebx
movsd
movsd
movsd
call    dword ptr [eax+3ch]
mov     esi, eax
mov     eax, [ebp+arg_0]
test    eax, eax
jz      short loc_277c2236
and     [ebp+arg_0], 0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
test    esi, esi
jl      loc_277c4c61
mov     ax, [ebp+arg_4]
push    3
lea     ecx, [ebx-94h]
mov     [ebx+20h], ax
call    sub_277b4535
or      dword ptr [ebx-10h], 1
lea     ecx, [ebp+var_38]
call    sub_277c2142
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
sub     esp, 10h
mov     dword ptr [ebp+pvarg.anonymous_0+8], edi
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     word ptr [ebp+pvarg.anonymous_0], 9
mov     eax, [ebx]
movsd
movsd
movsd
push    ebx
movsd
call    dword ptr [eax+3ch]
jmp     short loc_277c225f
push    esi
push    edi
sub     esp, 10h
lea     esi, [esp+18h+arg_4]
mov     edi, esp
mov     eax, [esp+18h+arg_0]
movsd
mov     ecx, [eax]
push    eax
movsd
movsd
movsd
call    dword ptr [ecx+40h]
pop     edi
pop     esi
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 50h
push    ebx
mov     ebx, [ebp+bstrstring]
push    esi
push    edi
lea     esi, [ebx-0c0h]
mov     ecx, esi
call    sub_277c1b1a
xor     edi, edi
cmp     [ebp+arg_4], 8
mov     [ebx+20h], di
jnz     loc_277c2432
push    [ebp+pbstr]
call    ds:sysstringlen
test    eax, eax
jz      loc_277c23e3
push    dword ptr [ebx+24h]
lea     ecx, [ebp+var_50]
push    esi
call    sub_277c2521
push    [ebp+pbstr]
lea     ecx, [ebp+var_2c]
push    esi
call    sub_277c2521
lea     eax, [ebp+var_4]
lea     ecx, [ebp+var_50]
push    eax
mov     [ebp+var_4], edi
mov     [ebp+bstrstring], edi
mov     [ebp+var_8], edi
call    sub_277c1c45
lea     eax, [ebp+bstrstring]
lea     ecx, [ebp+var_2c]
push    eax
call    sub_277c1c45
test    eax, eax
jl      loc_277c23ec
mov     eax, [ebp+var_4]
cmp     eax, [ebp+bstrstring]
jz      loc_277c4c83
lea     ecx, [ebp+var_2c]
call    sub_277c25df
test    eax, eax
jnz     loc_277c4caf
mov     ecx, esi
call    sub_277c1b87
test    eax, eax
jz      short loc_277c2360
lea     ecx, [ebp+var_2c]
call    sub_277c2610
test    eax, eax
jz      loc_277c4cc2
mov     [ebp+arg_10], edi
cmp     [ebp+arg_10], edi
jnz     loc_277c2407
push    [ebp+bstrstring]
mov     ecx, esi
push    [ebp+var_4]
call    sub_277c2844
lea     eax, [ebp+var_8]
lea     ecx, [ebp+var_2c]
push    eax
call    sub_277c2572
push    dword ptr [ebx+24h]
call    ds:sysfreestring
mov     eax, [ebp+var_8]
mov     [ebp+var_8], edi
mov     [ebx+24h], eax
mov     eax, [ebp+var_4]
cmp     eax, edi
jnz     loc_277c4ceb
mov     eax, [ebp+bstrstring]
cmp     eax, edi
jz      short loc_277c23af
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     [ebx+50h], di
jnz     loc_277c4cf6
lea     ecx, [ebp+var_2c]
call    sub_277c2142
lea     ecx, [ebp+var_50]
call    sub_277c2142
push    4
lea     ecx, [ebx-94h]
call    sub_277b4535
or      dword ptr [ebx-10h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     ecx, esi
call    sub_277c2f20
jmp     short loc_277c23c9
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
mov     [ebp+arg_10], eax
jmp     loc_277c2363
mov     eax, [ebp+var_4]
cmp     eax, edi
jnz     loc_277c4cd5
mov     eax, [ebp+bstrstring]
cmp     eax, edi
jnz     loc_277c4ce0
lea     ecx, [ebp+var_2c]
call    sub_277c2142
lea     ecx, [ebp+var_50]
call    sub_277c2142
mov     eax, [ebp+arg_10]
jmp     short loc_277c23dc
cmp     [ebp+arg_4], 9
jnz     loc_277c4d9b
cmp     [ebp+pbstr], edi
jnz     short loc_277c244e
mov     ecx, esi
call    sub_277c2f20
jmp     loc_277c23c9
push    dword ptr [ebx+24h]
lea     ecx, [ebp+var_50]
push    esi
call    sub_277c2521
push    [ebp+pbstr]
lea     ecx, [ebp+var_2c]
push    esi
call    sub_277c2547
lea     eax, [ebp+bstrstring]
lea     ecx, [ebp+var_2c]
push    eax
mov     [ebp+var_8], edi
mov     [ebp+var_4], edi
mov     [ebp+bstrstring], edi
call    sub_277c2572
test    eax, eax
jl      loc_277c4d16
lea     ecx, [ebp+var_2c]
call    sub_277c25df
test    eax, eax
jnz     loc_277c4d30
mov     ecx, esi
call    sub_277c1b87
test    eax, eax
jz      short loc_277c24ae
lea     ecx, [ebp+var_2c]
call    sub_277c2610
test    eax, eax
jz      loc_277c4d40
test    edi, edi
jnz     loc_277c4d50
lea     eax, [ebp+var_8]
lea     ecx, [ebp+var_50]
push    eax
call    sub_277c1c45
lea     eax, [ebp+var_4]
lea     ecx, [ebp+var_2c]
push    eax
call    sub_277c1c45
push    [ebp+var_4]
mov     ecx, esi
push    [ebp+var_8]
call    sub_277c2844
push    dword ptr [ebx+24h]
call    ds:sysfreestring
mov     eax, [ebp+bstrstring]
xor     esi, esi
mov     [ebx+24h], eax
mov     eax, [ebp+var_8]
cmp     eax, esi
mov     [ebp+bstrstring], esi
jnz     loc_277c4d70
mov     eax, [ebp+var_4]
cmp     eax, esi
jz      short loc_277c2507
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     [ebx+50h], si
jnz     loc_277c4d7b
lea     ecx, [ebp+var_2c]
call    sub_277c2142
lea     ecx, [ebp+var_50]
jmp     loc_277c23c4
push    esi
mov     esi, ecx
push    [esp+4+arg_0]
call    sub_277c1c03
push    [esp+4+psz]
mov     dword ptr [esi+20h], 2
call    ds:sysallocstring
mov     [esi+8], eax
mov     eax, esi
pop     esi
retn    8
push    esi
push    edi
push    [esp+8+arg_0]
mov     esi, ecx
call    sub_277c1c03
mov     edi, [esp+8+arg_4]
mov     dword ptr [esi+20h], 3
test    edi, edi
jz      short loc_277c2569
mov     eax, [edi]
push    edi
call    dword ptr [eax+4]
mov     [esi], edi
mov     eax, esi
pop     edi
pop     esi
retn    8
push    ebx
push    ebp
mov     ebp, [esp+8+arg_0]
push    esi
push    edi
mov     edi, ecx
and     dword ptr [ebp+0], 0
call    sub_277c1c70
test    eax, eax
jl      loc_277c4497
cmp     dword ptr [edi+0ch], 0
mov     ebx, ds:sysallocstring
lea     esi, [edi+0ch]
jnz     short loc_277c25ba
push    dword ptr [edi+8]
call    ebx
mov     [esi], eax
mov     ax, [edi+10h]
push    eax
push    esi
call    sub_277c25ca
mov     edi, eax
pop     ecx
test    edi, edi
pop     ecx
jl      loc_277c44a1
push    dword ptr [esi]
call    ebx
mov     [ebp+0], eax
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 24h
cmp     word ptr [ebp+psz], 0ffffh
jnz     loc_277c45e8
xor     eax, eax
leave
retn
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    esi
mov     esi, ecx
call    sub_277c1c70
test    eax, eax
jl      short loc_277c260b
mov     eax, [esi]
lea     edx, [ebp+var_4]
push    edx
push    offset dword_277b1e38
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
test    eax, eax
jge     loc_277c4533
xor     eax, eax
pop     esi
leave
retn
push    esi
mov     esi, ecx
call    sub_277c1c70
test    eax, eax
jl      loc_277c452f
cmp     dword ptr [esi+4], 0
lea     eax, [esi+4]
jz      short loc_277c263b
mov     ecx, esi
call    sub_277c2647
xor     ecx, ecx
pop     esi
test    eax, eax
setnl   cl
mov     eax, ecx
retn
push    eax
push    dword ptr [esi]
call    sub_277b643c
pop     ecx
pop     ecx
jmp     short loc_277c2629
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
lea     eax, [ebp+pvarg]
xor     esi, esi
mov     [ebp+var_8], ecx
push    eax
mov     [ebp+var_c], esi
mov     [ebp+var_4], esi
mov     [ebp+var_10], esi
call    ds:variantinit
lea     eax, [ebp+var_c]
mov     ecx, [ebp+var_8]
push    eax
push    1
pop     ebx
push    ebx
push    1dh
call    sub_277c1e6e
cmp     eax, esi
jl      loc_277c2762
mov     eax, [ebp+var_c]
push    edi
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
mov     edi, ds:variantclear
mov     eax, [ebp+var_c]
lea     edx, [ebp+var_4]
push    esi
push    edx
mov     ecx, [eax]
push    ebx
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jl      loc_277c2738
cmp     [ebp+var_4], esi
jz      loc_277c2738
push    esi
push    ebx
push    2
push    esi
lea     eax, [ebp+pvarg]
push    esi
push    eax
push    offset aname
push    [ebp+var_4]
call    sub_277b633c
add     esp, 20h
cmp     eax, esi
jl      short loc_277c271d
push    dword ptr [ebp+pvarg.anonymous_0+8]
mov     eax, [ebp+var_8]
push    dword ptr [eax+8]
call    sub_277c2766
test    eax, eax
jz      short loc_277c271d
lea     eax, [ebp+pvarg]
push    eax
call    edi
push    esi
push    ebx
push    2
push    esi
lea     eax, [ebp+pvarg]
push    esi
push    eax
push    offset aindex
push    [ebp+var_4]
call    sub_277b633c
add     esp, 20h
cmp     eax, 80020009h
jnz     loc_277c4727
mov     ecx, [ebp+var_8]
cmp     word ptr [ecx+10h], 0ffffh
jnz     loc_277c4727
mov     [ebp+var_10], ebx
lea     eax, [ebp+pvarg]
push    eax
call    edi
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
cmp     [ebp+var_10], esi
mov     [ebp+var_4], esi
jz      loc_277c2691
mov     eax, [ebp+var_c]
cmp     eax, esi
jz      short loc_277c2745
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
cmp     eax, esi
jnz     loc_277c4745
mov     eax, [ebp+var_10]
pop     edi
neg     eax
sbb     eax, eax
and     eax, 7fffbffbh
add     eax, 80004005h
pop     esi
pop     ebx
leave
retn
push    esi
mov     esi, ds:sysstringlen
push    [esp+4+pbstr]
call    esi
push    eax
push    [esp+8+arg_0]
call    esi
push    eax
push    0
push    [esp+10h+pbstr]
push    [esp+14h+arg_0]
call    sub_277c2795
dec     eax
pop     esi
dec     eax
neg     eax
sbb     eax, eax
inc     eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 88h
mov     eax, [ebp+lpstring1]
push    ebx
push    esi
push    edi
xor     edi, edi
cmp     eax, edi
mov     [ebp+dwcmpflags], edi
jz      loc_277c7aed
cmp     [eax], di
jz      loc_277c7aed
mov     ecx, [ebp+lpstring2]
cmp     ecx, edi
jz      loc_277c7ae5
cmp     [ecx], di
jz      loc_277c7ae5
cmp     [ebp+arg_8], edi
jnz     short loc_277c27da
mov     [ebp+dwcmpflags], 1
cmp     dword_278282cc, edi
jz      loc_277c7a30
push    [ebp+cchcount2]
push    ecx
push    [ebp+cchcount1]
push    eax
push    [ebp+dwcmpflags]
push    400h
call    ds:comparestringw
mov     esi, eax
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    14h
push    esi
mov     esi, ecx
cmp     dword ptr [esi+8], 0
lea     eax, [esi+8]
jz      short loc_277c283d
lea     ecx, [esi+10h]
push    ecx
push    eax
call    sub_277c2e50
pop     ecx
test    eax, eax
pop     ecx
jl      short loc_277c283b
mov     ecx, esi
call    sub_277c2050
test    eax, eax
jl      short loc_277c283b
mov     ecx, esi
call    sub_277c2e93
test    eax, eax
jl      short loc_277c283b
xor     eax, eax
pop     esi
retn
mov     eax, 80004005h
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
push    edi
xor     esi, esi
mov     ebx, ecx
push    2
mov     [ebp+var_24], esi
mov     [ebp+var_20], esi
mov     [ebp+var_1c], esi
mov     [ebp+var_18], esi
mov     [ebp+var_14], esi
mov     [ebp+var_10], esi
mov     [ebp+var_c], esi
mov     [ebp+var_8], esi
call    ds:getsystemmetrics
push    eax
call    sub_277c298c
pop     ecx
mov     edi, eax
lea     eax, [ebp+var_24]
push    2
push    eax
push    esi
mov     ecx, ebx
mov     [ebp+var_4], edi
call    sub_277c29cb
cmp     eax, esi
jl      loc_277c293d
cmp     [ebp+arg_0], esi
jnz     loc_277c2944
lea     edi, [ebx+100h]
lea     esi, [ebp+var_24]
movsd
movsd
movsd
movsd
xor     esi, esi
mov     edi, [ebp+arg_4]
cmp     edi, esi
jz      loc_277c2982
lea     eax, [ebp+var_14]
push    2
push    eax
push    edi
mov     ecx, ebx
call    sub_277c29cb
cmp     eax, esi
jl      short loc_277c293d
cmp     word ptr [ebx+0deh], 1
mov     eax, [ebp+var_4]
jnz     loc_277c5091
sub     [ebp+var_c], eax
lea     eax, [ebp+var_14]
push    4
push    eax
push    edi
mov     ecx, ebx
call    sub_277c29cb
cmp     eax, esi
jl      short loc_277c293d
lea     eax, [ebp+var_14]
push    2
push    eax
push    edi
mov     ecx, ebx
call    sub_277c29cb
cmp     eax, esi
jl      short loc_277c293d
cmp     word ptr [ebx+0deh], 1
jnz     loc_277c5099
mov     eax, [ebp+var_c]
inc     eax
mov     ecx, [ebp+var_10]
mov     [ebp+var_24], eax
mov     [ebp+var_20], ecx
mov     ecx, [ebp+var_4]
add     ecx, eax
mov     eax, [ebp+var_8]
mov     [ebp+var_18], eax
mov     [ebp+var_1c], ecx
push    4
lea     eax, [ebp+var_24]
push    eax
push    esi
mov     ecx, ebx
call    sub_277c29cb
cmp     eax, esi
jl      short loc_277c293d
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+var_14]
push    2
push    eax
mov     ecx, ebx
push    [ebp+arg_0]
call    sub_277c29cb
cmp     eax, esi
jl      short loc_277c293d
cmp     dword ptr [ebx+17ch], 1
jnz     loc_277c5089
add     [ebp+var_c], edi
lea     eax, [ebp+var_14]
push    4
push    eax
mov     ecx, ebx
push    [ebp+arg_0]
call    sub_277c29cb
cmp     eax, esi
jge     loc_277c28ab
jmp     short loc_277c293d
push    4
lea     eax, [ebx+100h]
jmp     short loc_277c292e
push    esi
push    edi
push    0
push    0
push    0
push    offset pszdriver
call    ds:createica
mov     esi, eax
push    58h
push    esi
call    ds:getdevicecaps
push    esi
mov     edi, eax
call    ds:deletedc
test    edi, edi
jz      loc_277c7846
mov     eax, 5a0h
cdq
idiv    edi
pop     edi
pop     esi
imul    eax, [esp+arg_0]
retn
push    ebp
mov     ebp, esp
sub     esp, 74h
mov     edx, [ebp+arg_8]
push    ebx
and     edx, 4
push    esi
push    edi
mov     [ebp+var_8], edx
mov     edx, [ebp+arg_0]
xor     edi, edi
or      eax, 0ffffffffh
cmp     edx, edi
mov     [ebp+var_28], eax
mov     [ebp+var_2c], eax
mov     [ebp+var_30], eax
mov     [ebp+var_34], eax
mov     [ebp+var_18], edi
mov     [ebp+var_4], edi
mov     [ebp+var_44], edi
mov     [ebp+var_40], edi
mov     [ebp+var_3c], edi
mov     [ebp+var_38], edi
mov     [ebp+var_14], 0fffffffdh
mov     [ebp+var_64], edi
mov     [ebp+var_60], edi
mov     [ebp+var_5c], edi
mov     [ebp+var_58], edi
jz      loc_277c2cbe
lea     eax, [ebp+var_28]
mov     [ebp+var_18], edx
mov     [ebp+var_1c], eax
lea     eax, [ebp+var_2c]
mov     [ebp+var_20], eax
lea     eax, [ebp+var_30]
mov     [ebp+var_10], eax
lea     eax, [ebp+var_34]
mov     [ebp+var_24], eax
mov     eax, [edx]
push    edx
call    dword ptr [eax+4]
lea     eax, [ebp+var_4]
push    eax
push    [ebp+var_18]
call    sub_277b643c
pop     ecx
cmp     eax, edi
pop     ecx
mov     [ebp+arg_0], eax
jl      loc_277c2c9a
push    offset criticalsection
call    ds:entercriticalsection
mov     eax, [ebp+var_10]
mov     ebx, 800h
mov     esi, offset dword_277b6008
cmp     dword ptr [eax], 0ffffffffh
jnz     loc_277c2b35
push    [ebp+var_1c]
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_c]
mov     [ebp+var_c], offset aleft
mov     ecx, [eax]
push    ebx
push    1
push    edx
push    esi
push    eax
call    dword ptr [ecx+14h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277c50a5
cmp     [ebp+arg_0], edi
jl      loc_277c2c9a
push    [ebp+var_20]
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_c]
mov     [ebp+var_c], offset atop
mov     ecx, [eax]
push    ebx
push    1
push    edx
push    esi
push    eax
call    dword ptr [ecx+14h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277c50b5
cmp     [ebp+arg_0], edi
jl      loc_277c2c9a
push    [ebp+var_10]
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_c]
mov     [ebp+var_c], offset awidth
mov     ecx, [eax]
push    ebx
push    1
push    edx
push    esi
push    eax
call    dword ptr [ecx+14h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277c50c5
cmp     [ebp+arg_0], edi
jl      loc_277c2c9a
push    [ebp+var_24]
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_c]
mov     [ebp+var_c], offset aheight
mov     ecx, [eax]
push    ebx
push    1
push    edx
push    esi
push    eax
call    dword ptr [ecx+14h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277c50d5
cmp     [ebp+arg_0], edi
jl      loc_277c2c9a
push    offset criticalsection
call    ds:leavecriticalsection
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
lea     eax, [ebp+var_54]
push    eax
call    ds:variantinit
cmp     [ebp+var_8], edi
jnz     loc_277c2d00
xor     eax, eax
lea     edi, [ebp+var_44]
stosd
stosd
stosd
stosd
xor     edi, edi
push    edi
lea     edx, [ebp+pvarg]
push    edi
push    edx
lea     edx, [ebp+var_44]
mov     eax, [ebp+var_4]
push    edx
mov     edx, [ebp+var_1c]
push    [ebp+arg_8]
mov     ecx, [eax]
push    ebx
push    esi
push    dword ptr [edx]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277c2c9a
cmp     [ebp+var_8], edi
jnz     loc_277c2d28
fld     dword ptr [ebp+pvarg.anonymous_0+8]
call    sub_277c433c
cmp     [ebp+var_8], edi
mov     [ebp+var_64], eax
jnz     loc_277c2d28
xor     eax, eax
lea     edi, [ebp+var_44]
stosd
stosd
stosd
stosd
xor     edi, edi
push    edi
lea     edx, [ebp+pvarg]
push    edi
push    edx
lea     edx, [ebp+var_44]
mov     eax, [ebp+var_4]
push    edx
mov     edx, [ebp+var_20]
push    [ebp+arg_8]
mov     ecx, [eax]
push    ebx
push    esi
push    dword ptr [edx]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277c2c9a
cmp     [ebp+var_8], edi
jnz     loc_277c2d51
fld     dword ptr [ebp+pvarg.anonymous_0+8]
call    sub_277c433c
cmp     [ebp+var_8], edi
mov     [ebp+var_60], eax
jnz     loc_277c2d51
xor     eax, eax
lea     edi, [ebp+var_44]
stosd
stosd
stosd
stosd
xor     edi, edi
push    edi
lea     edx, [ebp+pvarg]
push    edi
push    edx
lea     edx, [ebp+var_44]
mov     eax, [ebp+var_4]
push    edx
mov     edx, [ebp+var_10]
push    [ebp+arg_8]
mov     ecx, [eax]
push    ebx
push    esi
push    dword ptr [edx]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      short loc_277c2c9a
cmp     [ebp+var_8], edi
jnz     loc_277c2d7c
fld     dword ptr [ebp+pvarg.anonymous_0+8]
call    sub_277c433c
add     eax, [ebp+var_64]
cmp     [ebp+var_8], edi
mov     [ebp+var_5c], eax
jnz     loc_277c2d7c
xor     eax, eax
lea     edi, [ebp+var_44]
stosd
stosd
stosd
stosd
xor     edi, edi
push    edi
lea     edx, [ebp+pvarg]
push    edi
push    edx
lea     edx, [ebp+var_44]
mov     eax, [ebp+var_4]
push    edx
mov     edx, [ebp+var_24]
push    [ebp+arg_8]
mov     ecx, [eax]
push    ebx
push    esi
push    dword ptr [edx]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      short loc_277c2c9a
cmp     [ebp+var_8], edi
jnz     short loc_277c2c9a
fld     dword ptr [ebp+pvarg.anonymous_0+8]
call    sub_277c433c
add     eax, [ebp+var_60]
mov     edi, [ebp+arg_4]
lea     esi, [ebp+var_64]
mov     [ebp+var_58], eax
movsd
movsd
movsd
movsd
xor     edi, edi
mov     eax, [ebp+var_18]
cmp     eax, edi
jz      short loc_277c2ca7
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
cmp     eax, edi
jz      short loc_277c2cb4
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, ecx
add     ecx, 3ch
neg     eax
sbb     eax, eax
lea     edx, [ebp+var_18]
and     eax, ecx
push    edx
push    offset dword_277b6200
push    eax
mov     ecx, [eax]
mov     [ebp+var_1c], offset dword_2782a2a8
mov     [ebp+var_20], offset dword_2782a2ac
mov     [ebp+var_10], offset dword_2782a2b0
mov     [ebp+var_24], offset dword_2782a2b4
call    dword ptr [ecx]
cmp     eax, edi
mov     [ebp+arg_0], eax
jge     loc_277c2a3f
jmp     short loc_277c2c9a
mov     eax, [ebp+arg_4]
push    1
mov     word ptr [ebp+var_54.anonymous_0], 3
mov     eax, [eax]
mov     dword ptr [ebp+var_54.anonymous_0+8], eax
lea     eax, [ebp+var_54]
mov     [ebp+var_44], eax
lea     eax, [ebp+var_14]
mov     [ebp+var_40], eax
pop     eax
mov     [ebp+var_3c], eax
mov     [ebp+var_38], eax
jmp     loc_277c2b68
mov     eax, [ebp+arg_4]
push    1
mov     word ptr [ebp+var_54.anonymous_0], 3
mov     eax, [eax+4]
mov     dword ptr [ebp+var_54.anonymous_0+8], eax
lea     eax, [ebp+var_54]
mov     [ebp+var_44], eax
lea     eax, [ebp+var_14]
mov     [ebp+var_40], eax
pop     eax
mov     [ebp+var_3c], eax
mov     [ebp+var_38], eax
jmp     loc_277c2bb8
mov     eax, [ebp+arg_4]
push    1
mov     word ptr [ebp+var_54.anonymous_0], 3
mov     ecx, [eax+8]
sub     ecx, [eax]
lea     eax, [ebp+var_54]
mov     [ebp+var_44], eax
lea     eax, [ebp+var_14]
mov     [ebp+var_40], eax
pop     eax
mov     dword ptr [ebp+var_54.anonymous_0+8], ecx
mov     [ebp+var_3c], eax
mov     [ebp+var_38], eax
jmp     loc_277c2c08
mov     eax, [ebp+arg_4]
push    1
mov     word ptr [ebp+var_54.anonymous_0], 3
mov     ecx, [eax+0ch]
sub     ecx, [eax+4]
lea     eax, [ebp+var_54]
mov     [ebp+var_44], eax
lea     eax, [ebp+var_14]
mov     [ebp+var_40], eax
pop     eax
mov     dword ptr [ebp+var_54.anonymous_0+8], ecx
mov     [ebp+var_3c], eax
mov     [ebp+var_38], eax
jmp     loc_277c2c57
push    esi
mov     esi, ecx
cmp     dword ptr [esi+0e8h], 0ffffffffh
jnz     short loc_277c2dc8
mov     eax, [esi+0e4h]
test    eax, eax
jz      short loc_277c2dd1
push    eax
mov     ecx, esi
call    sub_277c2dd6
pop     esi
retn
call    sub_277c3df3
test    eax, eax
jz      short loc_277c2db4
push    1
pop     eax
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 24h
cmp     [ebp+psz], 0
jz      loc_277c507c
push    esi
push    [ebp+psz]
push    ecx
lea     ecx, [ebp+var_24]
call    sub_277c2521
lea     ecx, [ebp+var_24]
call    sub_277c2e0c
lea     ecx, [ebp+var_24]
mov     esi, eax
call    sub_277c2142
mov     eax, esi
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, ecx
call    sub_277c1c70
test    eax, eax
jl      loc_277c4528
mov     eax, [esi]
lea     edx, [ebp+var_8]
push    edx
push    800h
lea     edx, [ebp+var_4]
push    1
mov     [ebp+var_4], offset aubound
mov     ecx, [eax]
push    edx
push    offset dword_277b6008
push    eax
call    dword ptr [ecx+14h]
xor     ecx, ecx
test    eax, eax
setl    cl
mov     eax, ecx
pop     esi
leave
retn
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     ebx, ebx
push    dword ptr [esi]
call    ds:sysstringlen
mov     edi, [ebp+psz]
mov     ecx, [esi]
mov     [ebp+arg_0], eax
mov     [ebp+var_4], ecx
or      word ptr [edi], 0ffffh
test    eax, eax
jle     short loc_277c2e84
cmp     word ptr [ecx], 28h
jz      short loc_277c2e84
inc     ebx
inc     ecx
inc     ecx
cmp     ebx, eax
jl      short loc_277c2e77
cmp     ebx, eax
jnz     loc_277c4561
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
lea     eax, [ebp+var_4]
push    edi
xor     ebx, ebx
mov     esi, ecx
push    eax
mov     [ebp+var_4], ebx
call    sub_277c2099
mov     edi, eax
cmp     edi, ebx
jl      short loc_277c2f0c
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     ax, [esi+10h]
cmp     ax, 0ffffh
jnz     loc_277c46a8
xor     eax, eax
lea     edi, [ebp+var_14]
stosd
stosd
stosd
stosd
push    ebx
lea     edx, [ebp+var_34]
mov     eax, [ebp+var_4]
push    ebx
push    edx
lea     edx, [ebp+var_14]
mov     ecx, [eax]
push    edx
push    2
push    800h
push    offset dword_277b6008
push    dword ptr [esi+14h]
push    eax
call    dword ptr [ecx+18h]
mov     edi, eax
cmp     edi, ebx
jl      short loc_277c2f0c
mov     eax, [ebp+var_2c]
push    esi
push    eax
mov     [esi+4], eax
call    sub_277c1f60
pop     ecx
mov     edi, eax
pop     ecx
mov     eax, [ebp+var_4]
cmp     eax, ebx
jz      short loc_277c2f19
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
mov     esi, ecx
lea     ecx, [ebp+var_28]
push    dword ptr [esi+0e4h]
push    esi
call    sub_277c2521
and     [ebp+var_4], 0
lea     eax, [ebp+var_4]
push    eax
lea     ecx, [ebp+var_28]
call    sub_277c1c45
test    eax, eax
jl      short loc_277c2f58
push    0
mov     ecx, esi
push    [ebp+var_4]
call    sub_277c2844
mov     ecx, [esi+0c0h]
lea     eax, [esi+0c0h]
push    0
push    eax
call    dword ptr [ecx+68h]
push    dword ptr [esi+0e4h]
or      dword ptr [esi+0e8h], 0ffffffffh
or      word ptr [esi+0ech], 0ffffh
call    ds:sysfreestring
mov     eax, [ebp+var_4]
and     dword ptr [esi+0e4h], 0
test    eax, eax
jz      short loc_277c2f99
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
lea     ecx, [ebp+var_28]
call    sub_277c2142
pop     esi
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
lea     esi, [ebx-0c0h]
mov     ecx, esi
mov     [ebp+arg_0], esi
call    sub_277c1b1a
mov     cx, [ebp+arg_4]
cmp     [ebx+50h], cx
jz      short loc_277c3036
cmp     cx, 0ffffh
jnz     short loc_277c303f
test    cx, cx
jz      short loc_277c2fdb
cmp     dword ptr [ebx+24h], 0
jz      short loc_277c3049
mov     eax, [ebx+0a8h]
test    al, 4
jnz     short loc_277c3021
or      al, 4
test    cx, cx
mov     [ebx+0a8h], eax
jnz     short loc_277c305e
or      [ebp+var_8], 0ffffffffh
mov     eax, [ebx]
mov     [ebp+var_10], 3
sub     esp, 10h
lea     esi, [ebp+var_10]
mov     edi, esp
push    ebx
movsd
movsd
movsd
movsd
call    dword ptr [eax+78h]
and     dword ptr [ebx+0a8h], 0fffffffbh
test    eax, eax
jl      loc_277c4fb7
mov     cx, [ebp+arg_4]
mov     [ebx+50h], cx
push    9
lea     ecx, [ebx-94h]
call    sub_277b4535
or      dword ptr [ebx-10h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    cx, cx
jz      short loc_277c2fdb
jmp     loc_277c4fa4
mov     edx, [esi]
mov     eax, 8baah
push    eax
push    eax
push    800a8baah
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     short loc_277c3038
and     [ebp+var_8], 0
mov     eax, [ebx]
mov     [ebp+var_10], 3
sub     esp, 10h
lea     esi, [ebp+var_10]
jmp     short loc_277c3004
push    ebp
mov     ebp, esp
sub     esp, 24h
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277c1b1a
push    1
mov     ecx, edi
call    sub_277c1a48
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jnz     short loc_277c30ad
mov     ecx, edi
call    sub_277c30c9
test    eax, eax
jz      loc_277c4e16
mov     edi, [ebp+arg_4]
mov     word ptr [edi], 8
push    dword ptr [esi+24h]
call    ds:sysallocstring
mov     [edi+8], eax
pop     edi
xor     eax, eax
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
lea     eax, [ebp+var_4]
push    eax
push    0bh
push    0fffffd3ah
call    sub_277b550a
xor     eax, eax
cmp     word ptr [ebp+var_4], ax
setz    al
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 24h
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277c1b1a
push    1
mov     ecx, edi
call    sub_277c1a48
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jnz     loc_277c5069
push    dword ptr [esi+24h]
lea     ecx, [ebp+var_24]
push    edi
call    sub_277c2521
mov     eax, [ebp+arg_4]
mov     word ptr [eax], 8
and     dword ptr [eax+8], 0
mov     esi, [esi+54h]
add     eax, 8
cmp     esi, 0ffffffffh
jnz     short loc_277c314f
lea     ecx, [ebp+var_24]
call    sub_277c2142
pop     edi
xor     eax, eax
pop     esi
leave
retn    8
push    eax
push    esi
lea     ecx, [ebp+var_24]
call    sub_277c336a
jmp     short loc_277c313f
push    ebp
mov     ebp, esp
sub     esp, 5ch
push    ebx
or      [ebp+var_8], 0ffffffffh
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     ebx, ebx
lea     edi, [esi-0c0h]
mov     [ebp+var_4], ebx
mov     ecx, edi
call    sub_277c1b1a
push    dword ptr [esi+24h]
lea     ecx, [ebp+var_5c]
push    edi
call    sub_277c2521
lea     eax, [ebp+var_4]
lea     ecx, [ebp+var_5c]
push    eax
call    sub_277c1c45
cmp     [ebp+var_4], ebx
jz      loc_277c3221
cmp     [ebp+arg_4], 3
jz      loc_277c324c
cmp     [ebp+arg_4], 8
jnz     loc_277c32c4
lea     eax, [ebp+var_8]
lea     ecx, [ebp+var_5c]
push    eax
push    [ebp+arg_c]
call    sub_277c3303
cmp     eax, ebx
jl      loc_277c32c4
mov     eax, [ebp+var_8]
cmp     [esi+54h], eax
jz      short loc_277c3203
cmp     eax, 0ffffffffh
jz      short loc_277c31e1
cmp     [esi+24h], ebx
jz      loc_277c5056
mov     [esi+54h], eax
mov     eax, [esi+0a8h]
test    al, 4
jz      loc_277c32de
push    0bh
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277c3210
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
lea     ecx, [ebp+var_5c]
call    sub_277c2142
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    14h
mov     edx, [edi]
mov     eax, 8baah
push    eax
push    eax
push    800a8baah
mov     ecx, edi
call    dword ptr [edx+30h]
cmp     dword ptr [esi+54h], 0ffffffffh
mov     ebx, eax
jnz     loc_277c4fed
cmp     word ptr [esi+50h], 0
jz      short loc_277c3203
jmp     loc_277c4fed
mov     eax, [ebp+arg_c]
cmp     eax, ebx
mov     [ebp+var_8], eax
jnz     loc_277c31ce
lea     eax, [ebp+pvarg]
mov     [ebp+var_18], ebx
mov     [ebp+var_14], ebx
mov     [ebp+var_10], ebx
mov     [ebp+var_c], ebx
mov     ebx, ds:variantinit
push    eax
call    ebx
lea     eax, [ebp+arg_0]
lea     ecx, [ebp+var_5c]
push    eax
call    sub_277c39b5
cmp     word ptr [ebp+arg_0], 0ffffh
jnz     loc_277c500e
xor     ebx, ebx
mov     eax, [ebp+var_4]
push    ebx
lea     edx, [ebp+pvarg]
push    ebx
mov     ecx, [eax]
push    edx
lea     edx, [ebp+var_18]
push    edx
push    2
push    800h
push    offset dword_277b6008
push    ebx
push    eax
call    dword ptr [ecx+18h]
mov     [ebp+arg_10], eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
cmp     [ebp+arg_10], ebx
jl      short loc_277c32c4
xor     ebx, ebx
jmp     loc_277c31cb
mov     edx, [edi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, edi
call    dword ptr [edx+30h]
mov     ebx, eax
jmp     loc_277c3203
or      al, 4
xor     ecx, ecx
mov     [esi+0a8h], eax
cmp     dword ptr [esi+54h], 0ffffffffh
mov     eax, [esi]
setz    cl
dec     ecx
push    ecx
push    esi
call    dword ptr [eax+68h]
and     dword ptr [esi+0a8h], 0fffffffbh
jmp     loc_277c31f2
push    ebx
push    ebp
push    esi
push    edi
mov     edi, [esp+10h+arg_4]
mov     esi, ecx
or      dword ptr [edi], 0ffffffffh
call    sub_277c1c70
test    eax, eax
jl      loc_277c44b3
mov     eax, [esi]
mov     ebp, 800h
push    edi
push    ebp
mov     ecx, [eax]
lea     edx, [esp+18h+arg_0]
push    1
mov     ebx, offset dword_277b6008
push    edx
push    ebx
push    eax
call    dword ptr [ecx+14h]
test    eax, eax
jl      short loc_277c3346
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    8
cmp     dword ptr [esi+4], 0
lea     edi, [esi+4]
jz      loc_277c44bd
push    [esp+10h+arg_4]
mov     eax, [edi]
lea     edx, [esp+14h+arg_0]
mov     ecx, [eax]
push    ebp
push    1
push    edx
push    ebx
push    eax
call    dword ptr [ecx+14h]
jmp     short loc_277c333f
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
xor     esi, esi
mov     ebx, ecx
mov     [ebp+var_4], esi
mov     [edi], esi
call    sub_277c1c70
test    eax, eax
jl      loc_277c44cc
mov     eax, [ebx]
lea     edx, [ebp+var_4]
push    edx
push    800h
mov     ecx, [eax]
push    esi
push    eax
call    dword ptr [ecx+10h]
cmp     eax, esi
jl      short loc_277c33c9
mov     eax, [ebp+var_4]
push    esi
push    esi
push    esi
mov     ecx, [eax]
push    edi
push    [ebp+arg_0]
push    eax
call    dword ptr [ecx+30h]
mov     edi, eax
cmp     edi, esi
jl      loc_277c44d6
mov     eax, [ebp+var_4]
cmp     eax, esi
jz      short loc_277c33c7
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     di, word ptr [ebp+arg_4]
cmp     [esi+58h], di
jnz     short loc_277c33ea
pop     edi
xor     eax, eax
pop     esi
pop     ebp
retn    8
mov     [esi+58h], di
mov     eax, [esi-20h]
test    eax, eax
jz      short loc_277c3400
movsx   ecx, di
push    ecx
push    eax
call    ds:enablewindow
test    byte ptr [esi-10h], 8
jnz     short loc_277c3429
push    0
lea     ecx, [esi-0c0h]
call    sub_277b45b0
push    0fffffdfeh
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
jmp     short loc_277c33e2
test    di, di
jnz     short loc_277c3406
mov     eax, [esi-0bch]
lea     edx, [ebp+arg_4]
push    edx
push    offset dword_277b6150
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277c3406
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+18h]
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
jmp     short loc_277c3406
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
mov     eax, [esi+30h]
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx], eax
xor     eax, eax
retn    8
mov     eax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
cmp     [esi+30h], eax
jz      short loc_277c34c9
test    eax, eax
jge     short loc_277c34aa
mov     edx, [esi-0c0h]
lea     ecx, [esi-0c0h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277c34cb
lea     ecx, [esi-0c0h]
mov     [esi+30h], eax
call    sub_277b899b
push    5
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
pop     esi
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
mov     eax, [esi+34h]
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     ecx, [esi+34h]
cmp     ecx, eax
mov     [ebp+arg_0], ecx
jz      short loc_277c354f
lea     edi, [esi-0c0h]
mov     [esi+34h], eax
mov     ecx, edi
call    sub_277b7c9f
mov     eax, [edi+0d8h]
cmp     eax, [edi+184h]
jl      short loc_277c3558
cmp     eax, [edi+180h]
jg      short loc_277c3558
mov     ecx, edi
call    sub_277b885f
push    1
push    0
mov     ecx, edi
call    sub_277b96c7
push    6
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    dword ptr [esi+18h]
mov     ecx, edi
call    sub_277c3574
mov     ecx, [esi]
push    eax
push    esi
call    dword ptr [ecx+1ch]
mov     ebx, eax
test    ebx, ebx
jge     short loc_277c352c
jmp     loc_277c4e4c
mov     eax, [ecx+184h]
push    esi
mov     esi, [esp+4+arg_0]
mov     edx, eax
cmp     eax, esi
jg      short loc_277c3587
mov     edx, esi
mov     ecx, [ecx+180h]
cmp     ecx, edx
jl      short loc_277c359b
cmp     eax, esi
jg      short loc_277c3597
mov     eax, esi
pop     esi
retn    4
mov     eax, ecx
jmp     short loc_277c3597
push    ebp
mov     ebp, esp
sub     esp, 5ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277c1b1a
xor     eax, eax
mov     [ebp+arg_0], eax
mov     [ebp+var_18], eax
mov     [ebp+var_14], eax
mov     [ebp+var_10], eax
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_4]
cmp     eax, [edi+184h]
jl      loc_277c368b
cmp     eax, [edi+180h]
jg      loc_277c368b
mov     ebx, ds:variantinit
lea     eax, [ebp+pvarg]
push    eax
mov     dword ptr [ebp+vt], 3
call    ebx
push    dword ptr [esi+24h]
lea     ecx, [ebp+var_5c]
push    edi
call    sub_277c2521
lea     eax, [ebp+arg_0]
lea     ecx, [ebp+var_5c]
push    eax
call    sub_277c1c45
test    byte ptr [esi+0a8h], 2
mov     edi, 800h
jnz     loc_277c36a0
push    [ebp+arg_4]
lea     ecx, [esi-0c0h]
call    sub_277c3574
mov     [esi+18h], eax
cmp     word ptr [esi+50h], 0
push    1
pop     ebx
jnz     loc_277c3756
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277b8928
push    0
lea     ecx, [esi-94h]
call    sub_277b4535
or      [esi-10h], ebx
push    offset dword_2782a7d8
push    edi
call    sub_277b9711
and     [ebp+arg_4], 0
pop     ecx
pop     ecx
mov     eax, [ebp+arg_0]
test    eax, eax
jnz     loc_277c37ff
lea     ecx, [ebp+var_5c]
call    sub_277c2142
mov     eax, [ebp+arg_4]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edx, [edi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, edi
call    dword ptr [edx+30h]
jmp     short loc_277c3684
lea     ecx, [esi-0c0h]
call    sub_277b54b0
test    eax, eax
jnz     loc_277c3621
mov     eax, [ebp+arg_0]
xor     ecx, ecx
cmp     eax, ecx
jz      loc_277c3621
cmp     [esi+50h], cx
jz      loc_277c4ba7
push    ecx
push    ecx
lea     ecx, [ebp+pvarg]
mov     edx, [eax]
push    ecx
lea     ecx, [ebp+var_18]
push    ecx
push    2
push    edi
push    offset dword_277b6008
push    dword ptr [esi+54h]
push    eax
call    dword ptr [edx+18h]
test    eax, eax
mov     [ebp+arg_4], eax
jl      short loc_277c366e
mov     eax, dword ptr [ebp+pvarg.anonymous_0]
mov     dword ptr [ebp+vt], eax
lea     eax, [ebp+pvargdest]
push    eax
call    ebx
push    3
push    0
lea     eax, [ebp+pvarg]
push    edi
push    eax
lea     eax, [ebp+pvargdest]
push    eax
call    ds:variantchangetypeex
cmp     word ptr [ebp+pvarg.anonymous_0], 8
mov     [ebp+arg_4], eax
jb      short loc_277c371f
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
cmp     [ebp+arg_4], 0
jl      loc_277c4b8d
push    dword ptr [esi+0b4h]
push    dword ptr [ebp+pvargdest.anonymous_0+8]
lea     ebx, [esi-0c0h]
mov     ecx, ebx
call    sub_277c3574
push    eax
mov     ecx, ebx
call    sub_277c3c68
mov     [esi+18h], eax
and     dword ptr [esi+0a8h], 0fffffffdh
jmp     loc_277c3632
lea     ecx, [esi-0c0h]
call    sub_277b54b0
test    eax, eax
jnz     loc_277c3640
cmp     [ebp+arg_0], eax
jz      loc_277c3640
mov     eax, [esi+18h]
cmp     [ebp+vt], 3
mov     dword ptr [ebp+pvargdest.anonymous_0+8], eax
lea     eax, [ebp+pvargdest]
mov     [ebp+var_18], eax
lea     eax, [ebp+var_8]
mov     [ebp+var_8], 0fffffffdh
mov     word ptr [ebp+pvargdest.anonymous_0], 3
mov     [ebp+var_14], eax
mov     [ebp+var_10], ebx
mov     [ebp+var_c], ebx
jz      short loc_277c37bd
push    dword ptr [ebp+vt]
lea     eax, [ebp+pvargdest]
push    0
push    edi
push    eax
lea     eax, [ebp+pvargdest]
push    eax
call    ds:variantchangetypeex
test    eax, eax
mov     [ebp+arg_4], eax
jl      loc_277c366e
xor     eax, eax
mov     ecx, [ebp+arg_0]
push    eax
push    eax
push    eax
lea     eax, [ebp+var_18]
mov     edx, [ecx]
push    eax
push    4
push    edi
push    offset dword_277b6008
push    dword ptr [esi+54h]
push    ecx
call    dword ptr [edx+18h]
test    eax, eax
mov     [ebp+arg_4], eax
jl      loc_277c366e
cmp     word ptr [ebp+pvargdest.anonymous_0], 8
jb      loc_277c3640
lea     eax, [ebp+pvargdest]
push    eax
call    ds:variantclear
jmp     loc_277c3640
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c3679
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
mov     eax, [esi+38h]
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     ecx, [esi+38h]
cmp     ecx, eax
mov     [ebp+arg_0], ecx
jz      short loc_277c388a
lea     edi, [esi-0c0h]
mov     [esi+38h], eax
mov     ecx, edi
call    sub_277b7c9f
mov     eax, [edi+0d8h]
cmp     eax, [edi+184h]
jl      short loc_277c3893
cmp     eax, [edi+180h]
jg      short loc_277c3893
mov     ecx, edi
call    sub_277b885f
push    1
push    0
mov     ecx, edi
call    sub_277b96c7
push    7
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    dword ptr [esi+18h]
mov     ecx, edi
call    sub_277c3574
mov     ecx, [esi]
push    eax
push    esi
call    dword ptr [ecx+1ch]
mov     ebx, eax
test    ebx, ebx
jge     short loc_277c3867
jmp     loc_277c4e60
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
movsx   eax, word ptr [esi+3ch]
mov     ecx, [esp+4+arg_4]
pop     esi
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_4]
test    edi, edi
jl      short loc_277c3914
cmp     edi, 1
jg      short loc_277c3914
mov     esi, [esp+0ch+arg_0]
movsx   eax, di
push    eax
lea     ecx, [esi+5ch]
call    sub_277b64fd
mov     ebx, eax
test    ebx, ebx
jl      short loc_277c390c
mov     [esi+3ch], di
or      dword ptr [esi-10h], 1
push    65h
lea     ecx, [esi-94h]
call    sub_277b4535
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, [esp+0ch+arg_0]
mov     edx, [eax-0c0h]
lea     ecx, [eax-0c0h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277c390e
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
movsx   eax, word ptr [esi+3eh]
mov     ecx, [esp+4+arg_4]
pop     esi
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-0c0h]
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jnz     loc_277c4e74
mov     edx, [edi]
mov     eax, 17eh
push    eax
push    eax
push    800a017eh
mov     ecx, edi
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    1
lea     ecx, [esi-0c0h]
call    sub_277c1a48
mov     ax, [esi+50h]
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx], ax
xor     eax, eax
retn    8
push    esi
mov     esi, ecx
call    sub_277c1c70
test    eax, eax
jl      loc_277c4485
mov     ecx, [esp+4+arg_0]
mov     ax, [esi+10h]
mov     [ecx], ax
xor     eax, eax
pop     esi
retn    4
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
mov     eax, [esi+18h]
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
mov     ax, [esi+52h]
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx], ax
xor     eax, eax
retn    8
mov     ax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
cmp     [esi+52h], ax
jz      short loc_277c3a45
cmp     ax, 0ffffh
jnz     short loc_277c3a4b
push    0ah
lea     ecx, [esi-94h]
mov     [esi+52h], ax
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
pop     esi
retn    8
test    ax, ax
jz      short loc_277c3a30
jmp     loc_277c4fcd
push    [esp+arg_0]
add     ecx, 11ch
call    sub_277b9a80
retn    4
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
push    1
lea     esi, [ebp+string]
pop     ebx
push    edi
mov     [ebp+var_c], ebx
call    sub_277b87f0
mov     eax, [edi+18h]
test    eax, eax
jnz     loc_277c7ec1
movzx   ecx, word ptr [ebp+var_c]
movzx   eax, word ptr [edi+2ch]
shl     ecx, 10h
pop     edi
pop     esi
or      eax, ecx
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
test    byte ptr [esi+8], 40h
jnz     loc_277c82e2
mov     eax, [ebp+rect.bottom]
cdq
sub     eax, edx
sar     eax, 1
cmp     [ebp+arg_8], eax
jg      loc_277c82fc
jge     loc_277c82f5
push    2
pop     eax
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
mov     eax, [esi+24h]
mov     [ebp+var_4], edi
cmp     eax, [esi+28h]
jz      loc_277c7e97
push    dword ptr [esi]
call    ds:iswindowenabled
test    eax, eax
jz      loc_277c7e97
xor     eax, eax
cmp     [ebp+arg_4], edi
setnz   al
xor     ecx, ecx
cmp     [ebp+arg_8], edi
setnz   cl
mov     edi, ecx
mov     ecx, [esi+1ch]
push    1
mov     edx, ecx
pop     ebx
and     edx, ebx
cmp     edx, eax
jz      short loc_277c3b46
push    ebx
xor     eax, ecx
push    0fffffffch
and     eax, ebx
push    dword ptr [esi]
xor     eax, ecx
mov     [esi+1ch], eax
mov     [ebp+var_4], ebx
push    800ah
call    sub_277b8949
mov     eax, [esi+1ch]
mov     ecx, eax
shr     ecx, 1
and     ecx, ebx
cmp     ecx, edi
jnz     loc_277c7e9e
xor     edi, edi
cmp     [ebp+var_4], edi
jz      short loc_277c3b71
call    ds:gettickcount
push    edi
push    edi
push    dword ptr [esi]
mov     [esi+38h], eax
call    ds:invalidaterect
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 18h
and     [ebp+var_4], 0
push    ebx
push    esi
push    edi
call    ds:gettickcount
mov     esi, dword ptr [ebp+lcdata]
sub     eax, [esi+38h]
mov     ecx, [esi+3ch]
mov     ebx, [esi+44h]
shr     eax, 0ah
dec     ecx
js      short loc_277c3bad
lea     edx, [esi+ecx*8+40h]
cmp     [edx], eax
ja      loc_277c80db
mov     ebx, [esi+ecx*8+44h]
test    ebx, ebx
jz      loc_277c3c61
push    0
push    dword ptr [esi+28h]
push    dword ptr [esi+24h]
push    esi
call    sub_277b88f4
xor     ecx, ecx
push    1
test    eax, eax
setnl   cl
mov     eax, [esi+1ch]
dec     ecx
and     ecx, 0fffffffeh
inc     ecx
mov     edi, ecx
pop     ecx
test    cl, al
jz      short loc_277c3bde
mov     [ebp+var_4], ecx
test    al, 2
jnz     loc_277c80ec
cmp     [ebp+var_4], 0
jz      short loc_277c3c61
mov     eax, [esi+2ch]
mov     [ebp+var_c], eax
mov     eax, edi
imul    eax, ebx
mov     [ebp+var_8], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffd2eh
push    esi
call    sub_277b9838
test    eax, eax
jnz     short loc_277c3c61
mov     eax, [ebp+var_8]
add     [esi+2ch], eax
mov     eax, [esi+2ch]
cdq
idiv    ebx
test    edx, edx
jnz     loc_277c80f6
push    esi
call    sub_277b888a
push    esi
call    sub_277b8804
test    byte ptr [esi+8], 40h
push    dword ptr [esi]
movzx   eax, word ptr [esi+2ch]
jnz     loc_277c80fe
shl     eax, 10h
or      al, 4
push    eax
push    115h
push    dword ptr [esi+4]
call    ds:sendmessagea
push    0
push    0fffffffch
push    dword ptr [esi]
push    800eh
call    sub_277b8949
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    [ebp+arg_4]
lea     eax, [ebp+arg_0]
mov     esi, ecx
push    eax
call    sub_277c3ce5
test    eax, eax
jnz     short loc_277c3ce0
mov     ecx, [ebp+arg_0]
mov     edi, [esi+0f0h]
mov     eax, ecx
cdq
idiv    edi
test    edx, edx
jl      loc_277c4abf
jnz     loc_277c4ac8
movsx   edx, word ptr [esi+188h]
mov     eax, [ebp+arg_4]
imul    eax, edx
imul    eax, edi
add     ecx, eax
mov     eax, [ebp+arg_4]
imul    eax, edx
test    eax, eax
jle     short loc_277c3cd1
cmp     ecx, ebx
jl      loc_277c4ae5
cmp     ecx, [esi+180h]
jg      loc_277c4ae5
test    eax, eax
jl      loc_277c4b05
mov     eax, ecx
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     eax, [ebp+arg_0]
jmp     short loc_277c3cd9
mov     eax, [esp+arg_0]
mov     edx, [ecx+180h]
push    esi
push    edi
mov     esi, [eax]
cmp     esi, edx
jz      short loc_277c3d0c
mov     edi, [ecx+184h]
cmp     esi, edi
jz      loc_277c4b16
xor     eax, eax
pop     edi
pop     esi
retn    8
movsx   edi, word ptr [ecx+188h]
imul    edi, [esp+8+arg_4]
test    edi, edi
jle     short loc_277c3cf7
cmp     word ptr [ecx+112h], 0
jz      loc_277c4b34
mov     ecx, [ecx+184h]
mov     [eax], ecx
push    1
pop     eax
jmp     short loc_277c3d07
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
mov     ebx, [ebp+arg_4]
lea     ecx, [ebp+var_10]
mov     [ebp+var_10], 3
mov     eax, [ebx]
push    ecx
push    offset aversion
push    ebx
mov     [ebp+var_8], 60000h
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277c3dcf
push    edi
push    esi
mov     esi, [ebp+arg_0]
mov     ecx, esi
call    sub_277c1b1a
mov     eax, [esi+0e4h]
test    eax, eax
jz      short loc_277c3db0
cmp     dword ptr [esi+0e8h], 0ffffffffh
lea     edi, [esi+0e8h]
jnz     short loc_277c3db0
push    eax
push    esi
lea     ecx, [ebp+var_34]
call    sub_277c2521
push    edi
lea     ecx, [ebp+var_34]
call    sub_277c3dd4
lea     eax, [esi+0ech]
lea     ecx, [ebp+var_34]
push    eax
call    sub_277c39b5
lea     ecx, [ebp+var_34]
call    sub_277c2142
push    1
mov     ecx, esi
call    sub_277c1a48
lea     eax, [esi+0d8h]
mov     ecx, esi
push    eax
push    [ebp+arg_8]
push    ebx
call    sub_277c3e8c
pop     esi
xor     eax, eax
pop     edi
pop     ebx
leave
retn    0ch
push    esi
mov     esi, ecx
call    sub_277c1c70
test    eax, eax
jl      loc_277c4474
mov     ecx, [esp+4+arg_0]
mov     eax, [esi+14h]
mov     [ecx], eax
xor     eax, eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 24h
mov     eax, [ecx+0e8h]
cmp     eax, 0ffffffffh
jz      loc_277c5084
mov     dx, [ecx+0ech]
cmp     eax, 0ffffffffh
jz      loc_277c5084
push    esi
push    edx
push    eax
push    ecx
lea     ecx, [ebp+var_24]
call    sub_277c3e3b
lea     ecx, [ebp+var_24]
call    sub_277c2e0c
lea     ecx, [ebp+var_24]
mov     esi, eax
call    sub_277c2142
mov     eax, esi
pop     esi
leave
retn
push    esi
mov     esi, ecx
push    [esp+4+arg_0]
call    sub_277c1c03
mov     eax, [esp+4+arg_4]
mov     dword ptr [esi+20h], 4
mov     [esi+14h], eax
mov     ax, [esp+4+arg_8]
mov     [esi+10h], ax
mov     eax, esi
pop     esi
retn    0ch
sub     esp, 10h
lea     eax, [esp+10h+pvarg]
push    esi
mov     esi, ecx
push    eax
call    ds:variantinit
mov     ecx, esi
call    sub_277c2e93
test    eax, eax
jl      short loc_277c3e87
mov     ecx, esi
call    sub_277c1fde
pop     esi
add     esp, 10h
retn
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
lea     eax, [ebp+pvarg]
push    edi
mov     esi, ecx
push    eax
mov     [ebp+var_4], esi
call    ds:variantinit
cmp     off_2782a628, 0
jz      loc_277c3f5f
mov     ebx, offset dword_2782a634
jmp     short loc_277c3f11
mov     eax, [ebx-8]
push    dword ptr [eax+esi+0d8h]
lea     edi, [eax+esi+0d8h]
call    ds:sysstringlen
test    eax, eax
jbe     short loc_277c3f08
mov     word ptr [ebp+pvarg.anonymous_0], 8
push    dword ptr [edi]
call    ds:sysallocstring
lea     edx, [ebp+pvarg]
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
mov     eax, [ebp+arg_0]
push    edx
push    dword ptr [ebx-0ch]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+10h]
mov     edi, eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
test    edi, edi
jl      loc_277c4889
add     ebx, 14h
cmp     dword ptr [ebx-0ch], 0
jz      short loc_277c3f5f
mov     ax, [ebx]
cmp     ax, 8
jz      short loc_277c3eb8
cmp     [ebp+arg_4], 0
jz      loc_277c4867
mov     ecx, [ebx+4]
mov     word ptr [ebp+pvarg.anonymous_0], ax
mov     eax, [ebx-8]
lea     edi, [ebp+pvarg.anonymous_0+8]
lea     edx, [ebp+pvarg]
lea     esi, [eax+esi+0d8h]
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
mov     eax, [ebp+arg_0]
and     ecx, 3
push    edx
push    dword ptr [ebx-0ch]
rep movsb
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+10h]
test    eax, eax
jl      short loc_277c3f61
mov     esi, [ebp+var_4]
jmp     short loc_277c3f08
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
sub     [esp+arg_0], 34h
jmp     loc_277b7e77
push    ebp
mov     ebp, esp
sub     esp, 68h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
mov     ecx, ebx
mov     [ebp+var_68], 0ff3626a0h
mov     [ebp+var_64], 60000h
call    sub_277c1b1a
push    1
mov     ecx, ebx
call    sub_277c1a48
mov     eax, [ebx+0e4h]
test    eax, eax
jz      loc_277c4890
push    eax
push    ebx
lea     ecx, [ebp+var_24]
call    sub_277c2521
lea     eax, [ebp+var_50]
lea     ecx, [ebp+var_24]
push    eax
call    sub_277c3dd4
lea     eax, [ebp+var_48]
lea     ecx, [ebp+var_24]
push    eax
call    sub_277c39b5
lea     ecx, [ebp+var_24]
call    sub_277c2142
mov     eax, [ebx+0d8h]
mov     ecx, [ebp+var_30]
mov     [ebp+var_44], eax
mov     ax, [ebx+0dch]
mov     [ebp+var_40], ax
mov     eax, [ebx+0f0h]
mov     [ebp+var_3c], eax
mov     eax, [ebx+0f4h]
mov     [ebp+var_38], eax
mov     eax, [ebx+0f8h]
mov     [ebp+var_34], eax
mov     al, [ebx+0deh]
and     eax, 3
and     ecx, 0fffffffch
or      eax, ecx
mov     cl, [ebx+0feh]
and     ecx, 3
and     al, 0f3h
shl     ecx, 2
or      ecx, eax
lea     esi, [ebx+100h]
lea     edi, [ebp+var_60]
mov     [ebp+var_30], ecx
movsd
movsd
mov     cl, [ebx+0e0h]
push    1
movsd
movsd
xor     cl, byte ptr [ebp+var_2c]
pop     eax
push    0
push    44h
and     ecx, eax
mov     [ebp+var_28], 38h
xor     word ptr [ebp+var_2c], cx
mov     cl, [ebx+110h]
mov     edx, [ebp+var_2c]
and     ecx, eax
shl     ecx, 1
and     edx, 0fffffffdh
or      ecx, edx
mov     word ptr [ebp+var_2c], cx
mov     cl, [ebx+112h]
mov     edx, [ebp+var_2c]
and     ecx, eax
shl     ecx, 2
and     edx, 0fffffffbh
or      ecx, edx
lea     edx, [ebp+var_68]
mov     word ptr [ebp+var_2c], cx
mov     ecx, [ebx+114h]
mov     [ebp+var_4c], ecx
mov     cl, [ebx+118h]
and     ecx, eax
mov     eax, [ebp+var_2c]
shl     ecx, 7
and     al, 7fh
push    edx
or      ecx, eax
mov     al, [ebx+0fch]
mov     word ptr [ebp+var_2c], cx
mov     ecx, [ebp+var_2c]
and     eax, 3
and     ecx, 0ffffff9fh
shl     eax, 5
or      eax, ecx
mov     word ptr [ebp+var_2c], ax
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
test    eax, eax
jl      short loc_277c40c8
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 44h
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
mov     ecx, [eax]
push    0
lea     edx, [ebp+var_44]
push    44h
push    edx
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jl      loc_277c4201
cmp     [ebp+var_44], 0ff3626a0h
jnz     loc_277c485d
cmp     [ebp+var_40], 60000h
jnz     loc_277c4843
mov     ebx, [ebp+arg_0]
mov     eax, [ebp+var_2c]
lea     esi, [ebp+var_3c]
mov     [ebx+0e8h], eax
mov     ax, [ebp+var_24]
mov     [ebx+0ech], ax
mov     eax, [ebp+var_20]
mov     [ebx+0d8h], eax
mov     ax, [ebp+var_1c]
mov     [ebx+0dch], ax
mov     eax, [ebp+var_18]
mov     [ebx+0f0h], eax
mov     eax, [ebp+var_14]
mov     [ebx+0f4h], eax
mov     eax, [ebp+var_10]
mov     [ebx+0f8h], eax
mov     eax, [ebp+var_c]
mov     ecx, eax
lea     edi, [ebx+100h]
shl     eax, 1ch
shl     ecx, 1eh
sar     eax, 1eh
sar     ecx, 1eh
mov     [ebx+0feh], ax
mov     ax, [ebp+var_8]
mov     [ebx+0deh], cx
mov     cx, ax
shl     cx, 0fh
sar     cx, 0fh
neg     cl
sbb     ecx, ecx
mov     [ebx+0e0h], cx
mov     cx, ax
shl     cx, 0eh
sar     cx, 0fh
neg     cl
sbb     ecx, ecx
mov     [ebx+110h], cx
mov     cx, ax
shl     cx, 0dh
sar     cx, 0fh
neg     cl
movsd
sbb     ecx, ecx
mov     [ebx+112h], cx
mov     ecx, [ebp+var_28]
movsd
mov     [ebx+114h], ecx
xor     ecx, ecx
mov     ch, al
movsd
sar     cx, 0fh
shl     ax, 9
mov     [ebx+118h], cx
mov     ecx, ebx
sar     ax, 0eh
movsd
mov     [ebx+0fch], ax
call    sub_277b7fce
mov     ecx, ebx
call    sub_277b7c9f
and     dword ptr [ebx+0b0h], 0fffffffeh
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
sub     [esp+arg_0], 34h
jmp     loc_277b7eac
sub     dword ptr [esp+4], 0b4h
jmp     loc_277b7e77
mov     eax, [esp+8]
test    eax, eax
jl      loc_277c4b49
cmp     eax, 0bh
jg      loc_277c4b49
mov     ecx, [esp+0ch]
mov     eax, ds:dword_277c4300[eax*4]
mov     [ecx], eax
xor     eax, eax
retn    0ch
cmp     dword ptr [esp+8], 0ffffffech
jnz     loc_277c4b77
push    offset abuddy
call    ds:sysallocstring
mov     ecx, [esp+10h]
mov     [ecx], eax
xor     eax, eax
retn    10h
sub     dword ptr [esp+4], 0b4h
jmp     loc_277b7eac
push    ebp
mov     ebp, esp
add     esp, 0fffffff4h
fstcw   [ebp+var_2]
wait
mov     ax, [ebp+var_2]
or      ah, 0ch
mov     [ebp+var_4], ax
fldcw   [ebp+var_4]
fistp   [ebp+var_c]
fldcw   [ebp+var_2]
mov     eax, dword ptr [ebp+var_c]
mov     edx, dword ptr [ebp+var_c+4]
leave
retn
offset loc_278123eb>
offset loc_278124ea>
push    edi
push    0
push    dword_278282f0
call    ds:heapalloc
jmp     loc_277b37be
cmp     eax, hmodule
jz      loc_277b22b9
cmp     eax, hinstance
jz      loc_277b22b9
push    eax
call    ds:freelibrary
jmp     loc_277b22b9
push    edi
call    sub_277b37e6
test    eax, eax
pop     ecx
jnz     loc_277b3773
xor     ebx, ebx
jmp     loc_277b3776
push    [ebp+var_84]
push    esi
push    dword_278282f0
call    edi
jmp     loc_277b378e
push    [ebp+lpmultibytestr]
push    esi
push    dword_278282f0
call    edi
jmp     loc_277b37a3
lea     edx, [ebp+var_8]
push    edx
push    offset dword_277b6200
push    eax
call    dword ptr [ecx]
mov     [ebp+var_4], eax
jmp     loc_277b63a5
xor     ecx, ecx
jmp     loc_277c2170
xor     eax, eax
jmp     loc_277c2181
mov     eax, [esp+4+arg_0]
or      dword ptr [eax], 0ffffffffh
mov     eax, 80004005h
jmp     loc_277c3def
mov     eax, [esp+4+arg_0]
or      word ptr [eax], 0ffffh
mov     eax, 80004005h
jmp     loc_277c39d2
mov     eax, 80004005h
jmp     loc_277c25c3
push    dword ptr [esi]
call    ds:sysfreestring
and     dword ptr [esi], 0
mov     eax, edi
jmp     loc_277c25c3
mov     eax, 80004005h
jmp     loc_277c333f
push    edi
push    dword ptr [esi]
call    sub_277b643c
pop     ecx
pop     ecx
jmp     loc_277c3353
mov     eax, 80004005h
jmp     loc_277c33c9
mov     eax, [ebp+var_4]
cmp     eax, esi
jz      short loc_277c44e3
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     [ebx+4], esi
lea     edi, [ebx+4]
jnz     short loc_277c44f5
push    edi
push    dword ptr [ebx]
call    sub_277b643c
pop     ecx
pop     ecx
mov     eax, [edi]
lea     edx, [ebp+var_4]
push    edx
push    800h
mov     ecx, [eax]
push    esi
push    eax
call    dword ptr [ecx+10h]
cmp     eax, esi
jl      loc_277c33c9
mov     eax, [ebp+var_4]
push    esi
push    esi
push    esi
push    [ebp+arg_4]
mov     ecx, [eax]
push    [ebp+arg_0]
push    eax
call    dword ptr [ecx+30h]
mov     edi, eax
jmp     loc_277c33ba
xor     eax, eax
jmp     loc_277c2e4d
xor     eax, eax
pop     esi
retn
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277c4540
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
push    1
pop     eax
jmp     loc_277c260d
dec     eax
jz      short loc_277c4552
mov     eax, 80004005h
pop     esi
retn
mov     eax, [esi+1ch]
pop     esi
retn
mov     eax, 80004005h
mov     [esi+1ch], eax
pop     esi
retn
push    ebx
push    dword ptr [esi]
call    ds:sysallocstringlen
inc     ebx
mov     [ebp+psz], eax
cmp     ebx, [ebp+arg_0]
jge     short loc_277c45a5
mov     eax, [ebp+var_4]
lea     ecx, [eax+ebx*2]
mov     dx, [ecx]
cmp     dx, 29h
jz      short loc_277c45a5
cmp     dx, 30h
jb      short loc_277c45dd
cmp     dx, 39h
ja      short loc_277c45dd
mov     ax, [edi]
cmp     ax, 0ffffh
jnz     short loc_277c45ca
add     edx, 0ffffffd0h
mov     [edi], dx
inc     ebx
inc     ecx
inc     ecx
cmp     ebx, [ebp+arg_0]
jl      short loc_277c4579
push    dword ptr [esi]
call    ds:sysfreestring
push    [ebp+psz]
call    ds:sysallocstring
mov     [esi], eax
xor     esi, esi
push    [ebp+psz]
call    ds:sysfreestring
mov     eax, esi
jmp     loc_277c2e8e
lea     eax, [eax+eax*4]
shl     eax, 1
mov     [edi], ax
add     ax, [ecx]
sub     eax, 30h
mov     [edi], ax
jmp     short loc_277c459d
or      word ptr [edi], 0ffffh
mov     esi, 80004005h
jmp     short loc_277c45ba
push    edi
push    esi
push    ebx
mov     ebx, [ebp+bstrstring]
push    dword ptr [ebx]
call    ds:sysstringlen
mov     edi, eax
movsx   eax, word ptr [ebp+psz]
push    eax
lea     eax, [ebp+string]
push    offset ai
push    eax
call    ds:wsprintfa
mov     esi, ds:lstrlena
add     esp, 0ch
lea     eax, [ebp+string]
push    eax
call    esi
mov     [ebp+var_4], eax
lea     eax, [ebp+string]
push    0
push    eax
call    sub_277b7d29
pop     ecx
mov     [ebp+bstrstring], eax
pop     ecx
lea     eax, [ebp+string]
push    eax
call    esi
add     eax, edi
push    eax
push    dword ptr [ebx]
call    ds:sysallocstringlen
mov     ecx, [ebp+var_4]
mov     esi, [ebp+bstrstring]
add     ecx, ecx
mov     [ebp+psz], eax
lea     edi, [eax+edi*2]
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
push    dword ptr [ebx]
mov     esi, ds:sysfreestring
call    esi
push    [ebp+psz]
call    ds:sysallocstring
push    [ebp+psz]
mov     [ebx], eax
call    esi
push    [ebp+bstrstring]
call    esi
pop     ebx
pop     esi
pop     edi
jmp     loc_277c25db
xor     eax, eax
jmp     loc_277c20c1
mov     eax, 80004002h
jmp     loc_277c213c
push    offset dword_277ca248
jmp     loc_277c2110
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c213a
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
lea     eax, [ebp+pvarg]
mov     word ptr [ebp+pvarg.anonymous_0], 2
mov     [ebp+var_14], eax
mov     [ebp+var_10], ebx
mov     [ebp+var_c], 1
mov     [ebp+var_8], ebx
jmp     loc_277c2ed3
mov     ax, word ptr [ebp+pvarg.anonymous_0+8]
mov     [esi+10h], ax
jmp     loc_277c204a
xor     eax, eax
jmp     loc_277c1e96
mov     eax, 80004002h
jmp     loc_277c1ef5
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_c]
push    edx
push    offset dword_277cb328
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
mov     esi, eax
test    esi, esi
jl      loc_277c1ed9
mov     eax, [ebp+var_c]
push    ebx
push    [ebp+arg_0]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+10h]
jmp     loc_277c1ed7
xor     eax, eax
jmp     loc_277c1d4c
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c1e54
cmp     eax, esi
jl      loc_277c271d
mov     ecx, [ebp+var_8]
mov     ax, word ptr [ebp+pvarg.anonymous_0+8]
cmp     ax, [ecx+10h]
jz      loc_277c271a
jmp     loc_277c271d
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c2750
xor     eax, eax
jmp     loc_277b7a32
push    offset adefault_0
call    ebx
mov     [edi], eax
jmp     loc_277b7b87
push    offset anone
call    ebx
mov     [edi], eax
jmp     loc_277b7ba5
push    eax
call    edi
jmp     loc_277b8ccf
push    eax
call    edi
jmp     loc_277b8cdd
push    eax
call    edi
jmp     loc_277b8ceb
leave
retn
or      al, 1
jmp     loc_277b80a7
or      eax, 8000000h
mov     [edx], eax
jmp     loc_277b80bd
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6138
xor     ebx, ebx
repe cmpsb
jnz     loc_277b7dfa
mov     esi, edx
add     edx, 0c8h
jmp     loc_277b7e38
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b9170
xor     eax, eax
repe cmpsb
jnz     loc_277b7e0e
mov     esi, edx
add     edx, 0d4h
jmp     loc_277b7e38
call    ds:getprocessheap
test    eax, eax
jz      short loc_277c47fa
push    [esp+dwbytes]
push    0
push    eax
jmp     loc_277b39eb
xor     eax, eax
retn
mov     eax, [ebx-0ch]
push    dword ptr [ebp+pvarg.anonymous_0+8]
lea     esi, [eax+edi+0d8h]
call    ds:sysallocstring
mov     [esi], eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
jmp     loc_277b7f8b
jle     loc_277b7f15
mov     edx, [esi]
mov     edi, eax
cmp     eax, edx
jl      short loc_277c4831
mov     edi, edx
cmp     ecx, edi
jle     short loc_277c483c
mov     eax, ecx
jmp     loc_277b7f15
cmp     eax, edx
jmp     loc_277b7f11
cmp     [ebp+var_40], 50001h
jz      loc_277c410b
cmp     [ebp+var_40], 50000h
jz      loc_277c410b
mov     eax, 8000ffffh
jmp     loc_277c4201
mov     edx, [ebx-8]
mov     ecx, [ebx+4]
lea     edi, [ebx-4]
lea     esi, [edx+esi+0d8h]
xor     edx, edx
repe cmpsb
jz      loc_277c3f5a
mov     esi, [ebp+var_4]
jmp     loc_277c3f24
mov     eax, edi
jmp     loc_277c3f61
or      dword ptr [ebx+0e8h], 0ffffffffh
mov     ecx, ebx
call    sub_277b7fce
or      [ebp+var_50], 0ffffffffh
or      [ebp+var_48], 0ffffh
jmp     loc_277c3fd4
mov     eax, [esp+4+arg_0]
mov     ecx, [eax+4]
mov     [esi+8ch], ecx
mov     ecx, [eax]
mov     [esi+88h], ecx
jmp     loc_277b7dbb
call    sub_277cc5b2
xor     eax, eax
jmp     loc_277b8a7c
and     dword ptr [esi+174h], 0
xor     eax, eax
cmp     edi, 204h
mov     edi, ds:getkeystate
setnz   al
dec     eax
and     al, 0feh
add     eax, 4
mov     [ebp+var_4], eax
mov     eax, [esi+0a0h]
mov     [ebp+var_c], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    11h
call    edi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
lea     ebx, [ebx+ecx*2]
call    edi
xor     ecx, ecx
test    ax, ax
setl    cl
lea     eax, [ecx+ebx*2]
push    eax
movsx   eax, word ptr [ebp+var_4]
push    eax
push    offset dword_2782a7fc
push    esi
call    sub_277b9711
mov     eax, [ebp+var_c]
add     esp, 18h
jmp     loc_277b8213
xor     eax, eax
cmp     edi, 205h
setnz   al
dec     eax
and     al, 0feh
add     eax, 4
mov     [ebp+var_4], eax
jmp     loc_277b8191
cmp     eax, 0ffffffffh
jnz     loc_277b8210
and     dword ptr [esi+174h], 0
push    offset dword_2782a7e4
jmp     loc_277b8208
jbe     short loc_277c49a9
or      dword ptr [esi+174h], 0ffffffffh
jmp     loc_277b8261
mov     eax, [esi+88h]
cdq
sub     eax, edx
sar     eax, 1
cmp     word ptr [ebp+lparam], ax
ja      loc_277b825b
jb      short loc_277c4986
and     dword ptr [esi+174h], 0
jmp     loc_277b8261
mov     [ebp+var_8], ebx
jmp     loc_277b82d6
mov     eax, ebx
jmp     loc_277b8146
mov     eax, [ebp+lparam]
cmp     [esi+178h], eax
jz      loc_277b811d
push    1
pop     eax
test    al, cl
jnz     loc_277c4a61
test    cl, 2
jz      short loc_277c4a59
mov     [ebp+var_4], 2
mov     eax, [esi+0a0h]
mov     edi, ds:getkeystate
mov     [ebp+var_c], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    11h
call    edi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
lea     ebx, [ebx+ecx*2]
call    edi
xor     ecx, ecx
test    ax, ax
setl    cl
lea     eax, [ecx+ebx*2]
push    eax
movsx   eax, word ptr [ebp+var_4]
push    eax
push    offset dword_2782a808
push    esi
call    sub_277b9711
mov     eax, [ebp+var_c]
add     esp, 18h
cmp     eax, [esi+0a0h]
jz      short loc_277c4a66
push    1
pop     eax
jmp     loc_277b8146
mov     eax, ecx
shr     eax, 2
and     eax, 4
mov     [ebp+var_4], eax
jmp     short loc_277c49ea
mov     eax, [ebp+lparam]
mov     [esi+178h], eax
jmp     loc_277b821f
push    [ebp+lparam]
push    [ebp+wparam]
push    202h
push    dword ptr [esi+0a0h]
call    ds:postmessagea
jmp     loc_277b8144
mov     cx, [esi+0ech]
push    ecx
push    eax
push    esi
lea     ecx, [ebp+var_24]
call    sub_277c3e3b
push    edi
lea     ecx, [ebp+var_24]
call    sub_277c2572
or      dword ptr [esi+168h], 1
lea     ecx, [ebp+var_24]
call    sub_277c2142
jmp     loc_277c1b3c
neg     edx
test    edx, edx
jmp     loc_277c3c99
movsx   eax, word ptr [esi+188h]
imul    eax, [ebp+arg_4]
test    eax, eax
jle     short loc_277c4af0
mov     eax, edi
sub     eax, edx
add     ecx, eax
cmp     ecx, ebx
jge     loc_277c3c9f
mov     eax, [esi+180h]
jmp     loc_277c3cd9
sub     ecx, edx
cmp     ecx, ebx
jle     loc_277c3c9f
mov     eax, [esi+184h]
jmp     loc_277c3cd9
cmp     ecx, ebx
jg      short loc_277c4afa
cmp     ecx, [esi+184h]
jl      short loc_277c4afa
jmp     loc_277c3cd7
movsx   esi, word ptr [ecx+188h]
imul    esi, [esp+8+arg_4]
test    esi, esi
jge     loc_277c3d05
cmp     word ptr [ecx+112h], 0
jz      short loc_277c4b3b
mov     [eax], edx
jmp     loc_277c3d32
mov     [eax], edi
jmp     loc_277c3d32
push    0
jmp     loc_277b8876
cmp     eax, 0fffffdfeh
jz      short loc_277c4b68
cmp     eax, 60dh
jle     short loc_277c4b5e
cmp     eax, 60fh
jle     short loc_277c4b68
mov     eax, 80020003h
jmp     locret_277c4243
mov     eax, [esp+0ch]
mov     dword ptr [eax], 0fffffffah
jmp     loc_277c4241
mov     eax, 80020003h
jmp     locret_277c4264
and     dword ptr [esi+168h], 0ffffffbfh
jmp     loc_277c1bd3
cmp     [ebp+arg_4], 80020005h
jnz     loc_277c366e
push    dword ptr [esi+0b4h]
push    0
jmp     loc_277c3732
push    dword ptr [esi+0b4h]
lea     ecx, [esi-0c0h]
push    dword ptr [esi+18h]
jmp     loc_277c3742
and     [ebp+arg_0], 0
push    eax
push    edi
lea     ecx, [ebp+var_24]
call    sub_277c2521
lea     eax, [ebp+arg_0]
lea     ecx, [ebp+var_24]
push    eax
call    sub_277c1c45
test    eax, eax
jl      short loc_277c4c0c
push    [ebp+arg_0]
mov     ecx, edi
push    [ebp+arg_0]
call    sub_277c2844
mov     edi, eax
mov     eax, [ebp+arg_0]
test    eax, eax
jz      short loc_277c4bf5
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
test    edi, edi
jge     short loc_277c4c0c
lea     ecx, [ebp+var_24]
mov     [esi+1eh], bx
call    sub_277c2142
mov     eax, edi
jmp     loc_277c1adf
lea     ecx, [ebp+var_24]
call    sub_277c2142
jmp     loc_277c1afb
mov     edx, [ebx-0c0h]
lea     ecx, [ebx-0c0h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     loc_277c2261
mov     eax, 8bach
mov     [ebx+20h], di
mov     edx, [esi]
push    eax
push    eax
push    800a8bach
mov     ecx, esi
call    dword ptr [edx+30h]
lea     ecx, [ebp+var_38]
mov     esi, eax
call    sub_277c2142
mov     eax, esi
jmp     loc_277c2261
mov     ecx, [ebp+var_4]
and     word ptr [ebx+20h], 0
mov     eax, 8bach
mov     edx, [ecx]
push    eax
push    eax
push    800a8bach
jmp     short loc_277c4c4d
mov     eax, 80020009h
jmp     loc_277c1b82
cmp     eax, edi
jz      short loc_277c4c8d
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+bstrstring]
cmp     eax, edi
jz      short loc_277c4c9a
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
lea     ecx, [ebp+var_2c]
call    sub_277c2142
lea     ecx, [ebp+var_50]
call    sub_277c2142
jmp     loc_277c23da
mov     edx, [esi]
mov     eax, 8bb1h
push    eax
push    eax
push    800a8bb1h
jmp     loc_277c23fa
mov     edx, [esi]
mov     eax, 8bb0h
push    eax
push    eax
push    800a8bb0h
jmp     loc_277c23fa
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c2412
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c241d
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c23a2
sub     esp, 10h
mov     [ebp+pbstr], edi
lea     esi, [ebp+arg_4]
mov     edi, esp
mov     [ebp+arg_4], 3
mov     eax, [ebx]
movsd
movsd
movsd
push    ebx
movsd
call    dword ptr [eax+78h]
jmp     loc_277c23b9
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
mov     edi, eax
jmp     loc_277c24ae
mov     edx, [esi]
mov     eax, 8bb1h
push    eax
push    eax
push    800a8bb1h
jmp     short loc_277c4d24
mov     edx, [esi]
mov     eax, 8bb0h
push    eax
push    eax
push    800a8bb0h
jmp     short loc_277c4d24
push    [ebp+bstrstring]
call    ds:sysfreestring
lea     ecx, [ebp+var_2c]
call    sub_277c2142
lea     ecx, [ebp+var_50]
call    sub_277c2142
mov     eax, edi
jmp     loc_277c23dc
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c24fa
sub     esp, 10h
mov     [ebp+pbstr], esi
lea     esi, [ebp+arg_4]
mov     edi, esp
mov     [ebp+arg_4], 3
mov     eax, [ebx]
movsd
movsd
movsd
push    ebx
movsd
call    dword ptr [eax+78h]
jmp     loc_277c2511
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277c23dc
cmp     [ebp+arg_0], esi
jnz     loc_277c1a73
jmp     loc_277c1a5d
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
lea     eax, [ebp+var_20]
push    2
push    eax
push    esi
mov     ecx, ebx
mov     word ptr [ebp+pvarg.anonymous_0], 9
mov     dword ptr [ebp+pvarg.anonymous_0+8], esi
call    sub_277c29cb
test    eax, eax
jl      short loc_277c4df3
lea     edi, [ebx+100h]
lea     esi, [ebp+var_20]
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     ecx, [ebx+0c0h]
movsd
movsd
lea     eax, [ebx+0c0h]
movsd
push    eax
movsd
call    dword ptr [ecx+3ch]
mov     esi, eax
jmp     loc_277c1a94
push    dword ptr [esi+24h]
and     [ebp+arg_0], eax
lea     ecx, [ebp+var_24]
push    edi
call    sub_277c2521
lea     eax, [ebp+arg_0]
lea     ecx, [ebp+var_24]
push    eax
call    sub_277c1c45
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+arg_0]
mov     [eax+8], ecx
lea     ecx, [ebp+var_24]
mov     word ptr [eax], 9
call    sub_277c2142
jmp     loc_277c30c1
mov     eax, [ebp+arg_0]
mov     ecx, edi
mov     [esi+34h], eax
call    sub_277b7c9f
mov     eax, ebx
jmp     loc_277c3551
mov     eax, [ebp+arg_0]
mov     ecx, edi
mov     [esi+38h], eax
call    sub_277b7c9f
mov     eax, ebx
jmp     loc_277c388c
mov     ecx, edi
call    sub_277c1b1a
movsx   ecx, word ptr [esi+3eh]
mov     eax, [ebp+arg_4]
mov     [ebp+var_4], ecx
cmp     ecx, eax
jz      loc_277c4f55
mov     ecx, [esi-38h]
xor     ebx, ebx
mov     [ebp+var_8], ecx
mov     ecx, [esi-34h]
cmp     ax, bx
mov     [ebp+var_c], ecx
jz      short loc_277c4eb9
cmp     ax, 1
jz      short loc_277c4eb9
mov     edx, [edi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
jmp     loc_277c3986
mov     [esi+3eh], ax
mov     eax, [esi+24h]
cmp     eax, ebx
jz      loc_277c4f5c
push    eax
push    edi
lea     ecx, [ebp+var_40]
call    sub_277c2521
lea     eax, [ebp+arg_0]
lea     ecx, [ebp+var_40]
push    eax
mov     [ebp+arg_0], ebx
call    sub_277c1c45
cmp     eax, ebx
jl      short loc_277c4f2b
push    [ebp+arg_0]
mov     ecx, edi
push    [ebp+arg_0]
call    sub_277c2844
mov     [ebp+arg_4], eax
mov     eax, [ebp+arg_0]
cmp     eax, ebx
jz      short loc_277c4f02
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     [ebp+arg_4], ebx
jge     short loc_277c4f2b
mov     ax, word ptr [ebp+var_4]
lea     ecx, [ebp+var_40]
mov     [esi+3eh], ax
mov     eax, [ebp+var_8]
mov     [esi-38h], eax
mov     eax, [ebp+var_c]
mov     [esi-34h], eax
call    sub_277c2142
mov     eax, [ebp+arg_4]
jmp     loc_277c398b
lea     ecx, [ebp+var_40]
call    sub_277c2142
mov     ecx, edi
call    sub_277b98af
push    8
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
push    1
push    ebx
mov     ecx, edi
call    sub_277b96c7
xor     eax, eax
jmp     loc_277c398b
lea     eax, [ebp+var_1c]
push    2
push    eax
push    ebx
mov     ecx, edi
mov     [ebp+var_1c], ebx
mov     [ebp+var_18], ebx
mov     [ebp+var_14], ebx
mov     [ebp+var_10], ebx
call    sub_277c29cb
cmp     eax, ebx
jl      short loc_277c4f33
mov     eax, [ebp+var_14]
mov     ecx, [ebp+var_1c]
mov     edx, [ebp+var_10]
sub     eax, ecx
add     edx, ecx
mov     ecx, [ebp+var_18]
add     eax, ecx
push    4
mov     [ebp+var_10], eax
lea     eax, [ebp+var_1c]
sub     edx, ecx
push    eax
push    ebx
mov     ecx, edi
mov     [ebp+var_14], edx
call    sub_277c29cb
jmp     short loc_277c4f33
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
jmp     loc_277c3057
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     loc_277c3059
mov     edx, [esi-0c0h]
lea     ecx, [esi-0c0h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     loc_277c3a47
or      dword ptr [esi+54h], 0ffffffffh
and     word ptr [esi+50h], 0
lea     edi, [esi-94h]
push    0bh
mov     ecx, edi
call    sub_277b4535
push    9
mov     ecx, edi
jmp     loc_277c31fa
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jnz     loc_277c32bd
cmp     word ptr [ebp+arg_0], 0ffffh
jz      loc_277c3289
lea     eax, [ebp+var_28]
push    eax
call    ebx
mov     ax, word ptr [ebp+arg_0]
xor     ebx, ebx
mov     word ptr [ebp+var_28.anonymous_0+8], ax
lea     eax, [ebp+var_28]
mov     word ptr [ebp+var_28.anonymous_0], 2
mov     [ebp+var_18], eax
mov     [ebp+var_14], ebx
mov     [ebp+var_10], 1
mov     [ebp+var_c], ebx
jmp     loc_277c328b
mov     edx, [edi]
mov     eax, 8baah
push    eax
push    eax
push    800a8baah
jmp     loc_277c32d2
mov     eax, [ebp+arg_4]
mov     word ptr [eax], 3
mov     ecx, [esi+54h]
mov     [eax+8], ecx
jmp     loc_277c3147
push    1
pop     eax
jmp     locret_277c2e08
push    1
pop     eax
leave
retn
sub     [ebp+var_14], edi
jmp     loc_277c2968
add     [ebp+var_14], eax
jmp     loc_277c28dc
mov     eax, [ebp+var_14]
sub     eax, [ebp+var_4]
dec     eax
jmp     loc_277c2912
push    offset criticalsection
call    ds:leavecriticalsection
jmp     loc_277c2a9f
push    offset criticalsection
call    ds:leavecriticalsection
jmp     loc_277c2ace
push    offset criticalsection
call    ds:leavecriticalsection
jmp     loc_277c2afd
push    offset criticalsection
call    ds:leavecriticalsection
jmp     loc_277c2b2c
xor     eax, eax
jmp     loc_277b65b5
push    eax
call    ds:destroyicon
jmp     loc_277b75d9
leave
retn
or      dword ptr [eax], 1
jmp     loc_277b6ca6
and     dword ptr [eax], 0fffffffdh
jmp     loc_277b6cb7
push    10h
mov     edi, offset dword_277b1e08
pop     ecx
xor     ebx, ebx
repe cmpsb
jnz     loc_277b6791
mov     esi, edx
add     edx, 0c0h
jmp     loc_277b67d2
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6138
xor     ebx, ebx
repe cmpsb
jnz     loc_277b679d
mov     esi, edx
add     edx, 0c8h
jmp     loc_277b67d2
mov     eax, [ebp+arg_0]
push    dword ptr [eax+0e8h]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+84h]
jmp     loc_277b6ad1
or      dword ptr [eax+170h], 0ffffffffh
jmp     loc_277b6b3a
cmp     [ebp+var_14], 50001h
jz      loc_277bab1f
cmp     [ebp+var_14], 50000h
jz      loc_277bab1f
mov     eax, 8000ffffh
jmp     loc_277baba6
or      dword ptr [esi+170h], 0ffffffffh
jmp     loc_277bab9d
mov     eax, [ebx-0ch]
mov     edx, [ebp+arg_0]
mov     ecx, [ebx]
lea     edi, [ebx-8]
lea     esi, [eax+edx+0d4h]
xor     eax, eax
repe cmpsb
jz      loc_277ba9fe
jmp     loc_277ba9c2
lea     ecx, [ebp+arg_0]
xor     ebx, ebx
push    ecx
push    0bh
push    eax
mov     ecx, esi
mov     [ebp+arg_0], ebx
call    sub_277b550a
cmp     word ptr [ebp+arg_0], bx
jz      short loc_277c5230
cmp     [esi+164h], ebx
jz      loc_277ba8f1
cmp     [esi+0d4h], bx
jz      short loc_277c520d
mov     ecx, [esi+0c0h]
lea     eax, [esi+0c0h]
mov     dword ptr [esi+16ch], 1
push    ebx
push    eax
call    dword ptr [ecx+1ch]
jmp     loc_277ba8f1
mov     ecx, [esi+0c0h]
lea     eax, [esi+0c0h]
lea     edi, [esi+168h]
push    eax
mov     dword ptr [edi], 1
call    dword ptr [ecx+5ch]
mov     [edi], ebx
jmp     loc_277ba8f1
cmp     [esi+16ch], ebx
lea     eax, [esi+16ch]
jz      short loc_277c5250
mov     ecx, [esi+0c0h]
mov     [eax], ebx
lea     eax, [esi+0c0h]
push    1
jmp     short loc_277c5204
cmp     dword ptr [esi+170h], 0ffffffffh
jnz     loc_277ba8f1
mov     eax, [esi+174h]
sub     esp, 10h
mov     [ebp+var_18], eax
mov     eax, [esi+178h]
mov     [ebp+var_8], eax
lea     eax, [esi+0c0h]
lea     esi, [ebp+var_10]
mov     edi, esp
mov     [ebp+var_10], 3
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebp+var_20]
mov     edi, esp
mov     [ebp+var_20], 3
or      [ebp+var_28], 0ffffffffh
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+var_30]
mov     edi, esp
mov     [ebp+var_30], 3
movsd
mov     ecx, [eax]
push    eax
movsd
movsd
movsd
call    dword ptr [ecx+58h]
jmp     loc_277ba8f1
mov     eax, [esp+4+arg_0]
push    0
mov     ecx, [eax]
mov     [esi+0e0h], ecx
mov     eax, [eax+4]
mov     ecx, esi
mov     [esi+0e4h], eax
call    sub_277b45b0
jmp     loc_277ba8c3
push    [ebp+lprc]
mov     ecx, [ebp+arg_0]
push    [ebp+arg_14]
push    ebx
call    sub_277ced68
xor     eax, eax
jmp     loc_277b71f6
cmp     dword ptr [esi+138h], 0
jnz     short loc_277c5310
push    3
push    hinstance
call    ds:loadicona
mov     [esi+138h], eax
push    dword ptr [esi+144h]
mov     edi, [ebp+lprc]
push    edi
push    ebx
call    ds:fillrect
push    edi
push    ebx
call    sub_277ce9d1
mov     eax, [esi+138h]
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277c52ec
push    3
mov     ecx, [edi+4]
push    dword ptr [esi+144h]
mov     ebx, [edi]
push    0
push    dword ptr [esi+150h]
push    dword ptr [esi+14ch]
push    eax
mov     eax, [edi+0ch]
sub     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
lea     eax, [eax+ecx-0fh]
push    eax
mov     eax, [edi+8]
sub     eax, ebx
cdq
sub     eax, edx
sar     eax, 1
lea     eax, [eax+ebx-10h]
push    eax
push    [ebp+hdc]
call    ds:drawiconex
jmp     loc_277c52ec
push    [ebp+lparam]
push    [ebp+wparam]
push    eax
mov     eax, off_278286a4
push    dword ptr [esi+0a0h]
push    dword ptr [eax+58h]
call    ds:callwindowproca
cmp     eax, 0ffffffffh
jz      loc_277b6d58
jmp     loc_277b6d0b
xor     eax, eax
cmp     edi, 204h
setnz   al
dec     eax
and     al, 0feh
add     eax, 4
mov     [ebp+var_4], eax
jmp     loc_277b6dd3
push    edi
call    ds:setfocus
jmp     loc_277b6e3b
xor     ecx, ecx
cmp     edi, 205h
setnz   cl
dec     ecx
and     ecx, 0fffffffeh
add     ecx, 4
mov     [ebp+var_4], ecx
jmp     loc_277b6e65
mov     [esi+13ch], eax
jmp     def_277b6dab
push    2
pop     eax
test    al, cl
jnz     loc_277b6f28
mov     eax, ecx
shr     eax, 2
and     eax, 4
jmp     loc_277b6f28
movzx   eax, word ptr [esi+178h]
movzx   ecx, word ptr [esi+174h]
shl     eax, 10h
or      eax, ecx
push    eax
push    dword ptr [esi+170h]
push    465h
push    dword ptr [esi+0a0h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277c5445
mov     dword ptr [esi+164h], 1
jmp     loc_277b6d8f
mov     edx, [esi]
and     dword ptr [esi+164h], 0
mov     eax, 8ba9h
mov     ecx, esi
push    eax
push    eax
push    800a8ba9h
call    dword ptr [edx+30h]
jmp     loc_277b6d0b
mov     edi, [ebp+arg_0]
mov     dword ptr [edi], 8000000fh
jmp     loc_277b689a
mov     eax, 80004002h
jmp     loc_277b69bc
mov     eax, ebx
jmp     loc_277b69bc
mov     eax, edi
jmp     loc_277b69bc
cmp     eax, 0fffffdfeh
jz      short loc_277c54a9
cmp     eax, 60dh
jle     short loc_277c549f
cmp     eax, 60fh
jle     short loc_277c54a9
mov     eax, 80020003h
jmp     locret_277babe8
mov     eax, [esp+arg_8]
mov     dword ptr [eax], 0fffffffah
jmp     loc_277babe6
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jnz     loc_277b9d97
mov     ax, word ptr [ebp+arg_0]
mov     [esi+14h], ax
mov     eax, ebx
jmp     loc_277b9dd3
push    [ebp+bstrstring]
mov     eax, [esi]
push    esi
call    dword ptr [eax+54h]
mov     edi, eax
jmp     loc_277b9daf
mov     eax, edi
jmp     loc_277b9dd3
mov     eax, [esp+8+arg_4]
test    eax, eax
jz      short loc_277c550d
cmp     eax, 1
jz      short loc_277c550d
mov     edx, [edi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
jmp     loc_277b9e16
movsx   ecx, word ptr [esi+1ah]
cmp     ecx, eax
jz      short loc_277c552a
push    2
lea     ecx, [esi-94h]
mov     [esi+1ah], ax
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
jmp     loc_277b9e1b
mov     bx, [esi+16h]
mov     ax, word ptr [ebp+arg_4]
cmp     bx, ax
jz      short loc_277c558a
mov     ecx, edi
mov     [esi+16h], ax
call    sub_277b98af
test    eax, eax
mov     [ebp+arg_4], eax
jge     short loc_277c5567
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jnz     short loc_277c5567
mov     eax, [ebp+arg_4]
mov     [esi+16h], bx
jmp     loc_277b9e65
cmp     word ptr [esi+16h], 0
jz      short loc_277c5579
lea     eax, [esi+20h]
mov     ecx, edi
push    eax
call    sub_277b9944
push    3
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
jmp     loc_277b9e65
and     eax, 0ffffffh
push    eax
call    ds:getsyscolor
jmp     loc_277b69fb
mov     eax, [esi]
push    esi
call    dword ptr [eax+50h]
jmp     loc_277b9f00
mov     eax, [esi-0c0h]
lea     ecx, [esi-0c0h]
push    35h
push    35h
push    800a0035h
call    dword ptr [eax+30h]
jmp     loc_277b9fd3
mov     dword ptr [esi+0a4h], 1
jmp     loc_277b9f92
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
jmp     loc_277b9fa1
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
jmp     loc_277b9fe4
mov     eax, [esi-0c0h]
lea     ecx, [esi-0c0h]
push    34h
push    34h
push    800a0034h
call    dword ptr [eax+30h]
jmp     loc_277b9fa3
lea     ebx, [esi+0b0h]
lea     edi, [esi-0c0h]
lea     eax, [ebp+pvarsrc]
push    ebx
push    eax
mov     ecx, edi
call    sub_277cf145
test    eax, eax
jl      loc_277ba390
cmp     dword ptr [ebx], 0ffffffffh
jge     loc_277ba3a9
mov     edx, [edi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, edi
jmp     loc_277ba38d
lea     edi, [esi-0c0h]
lea     eax, [ebp+arg_14]
push    ebx
push    eax
mov     ecx, edi
call    sub_277cf145
test    eax, eax
jl      loc_277ba390
cmp     dword ptr [ebx], 0
jge     loc_277ba3bd
jmp     short loc_277c5649
lea     eax, [ebp+arg_24]
lea     ecx, [esi-0c0h]
push    edi
push    eax
mov     [ebp+arg_0], ecx
call    sub_277cf145
test    eax, eax
jl      loc_277ba390
cmp     dword ptr [edi], 0ffffffffh
jge     loc_277ba3d1
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     loc_277ba38d
mov     ecx, [ebp+arg_0]
and     dword ptr [esi+0a4h], 0
mov     eax, 8ba9h
mov     edx, [ecx]
push    eax
push    eax
push    800a8ba9h
jmp     loc_277ba38d
push    eax
push    eax
push    401h
mov     dword ptr [esi+0bch], 1
push    dword ptr [esi-20h]
call    ds:postmessagea
jmp     loc_277ba453
xor     eax, eax
jmp     loc_277bac55
leave
retn
or      dword ptr [esi], 4
jmp     loc_277bb88c
push    10h
mov     edi, offset dword_277b1e68
pop     ecx
xor     ebx, ebx
repe cmpsb
jnz     loc_277bb16a
mov     esi, edx
add     edx, 1c4h
neg     esi
sbb     esi, esi
and     esi, edx
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
jmp     loc_277bb18f
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6128
xor     ebx, ebx
repe cmpsb
jnz     loc_277bb176
mov     esi, edx
add     edx, 0cch
jmp     short loc_277c5724
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277c18c0
xor     eax, eax
repe cmpsb
jnz     loc_277bb182
mov     esi, edx
add     edx, 1cch
jmp     short loc_277c5724
xor     esi, esi
cmp     [ebx+0a0h], esi
jnz     loc_277be43f
push    esi
push    esi
push    esi
mov     ecx, ebx
call    sub_277b4b64
jmp     loc_277be43f
push    esi
push    esi
push    [ebp+arg_c]
mov     ecx, ebx
push    [ebp+hdc]
call    sub_277dd122
xor     eax, eax
jmp     loc_277be482
xor     eax, eax
lea     esi, [edi+0ch]
mov     [edi+1ah], ax
mov     [edi+18h], ax
mov     [edi+16h], ax
mov     [edi+14h], ax
lea     eax, [ebp+pvtime]
push    eax
push    esi
call    ds:systemtimetovarianttime
fld     [ebp+pvtime]
push    ecx
push    ecx
fstp    [esp+44h+var_44]
push    offset dword_2782aca8
push    ebx
call    sub_277b9711
add     esp, 10h
lea     edi, [ebx+1d4h]
movsd
movsd
movsd
push    17h
lea     ecx, [ebx+2ch]
movsd
call    sub_277b4535
jmp     loc_277bb9bc
and     [ebp+arg_8], 0
cmp     dword ptr [ebx+294h], 0
jnz     loc_277bb9bc
mov     esi, ds:systemtimetovarianttime
lea     ecx, [ebp+var_10]
lea     eax, [edi+0ch]
push    ecx
push    eax
mov     [ebp+msg], eax
call    esi
mov     eax, [ebx+1d0h]
and     eax, 1
cmp     al, 1
jnz     short loc_277c5879
lea     eax, [ebp+pvtime]
add     edi, 1ch
push    eax
push    edi
call    esi
fld     [ebp+pvtime]
lea     eax, [ebp+arg_8]
push    eax
push    ecx
push    ecx
fstp    qword ptr [esp]
fld     [ebp+var_10]
push    ecx
push    ecx
fstp    [esp+50h+var_50]
push    offset dword_2782accc
push    ebx
call    sub_277b9711
xor     eax, eax
add     esp, 1ch
cmp     word ptr [ebp+arg_8], ax
jz      short loc_277c5881
push    eax
push    eax
push    401h
push    dword ptr [ebx+0a0h]
call    ds:postmessagea
jmp     loc_277bb9bc
fld     [ebp+var_10]
fstp    [ebp+pvtime]
jmp     short loc_277c5837
mov     esi, [ebp+msg]
lea     edi, [ebx+1d4h]
jmp     loc_277c57e9
lea     eax, [ebx+274h]
push    10h
pop     ecx
lea     edi, [ebx+284h]
mov     esi, eax
xor     edx, edx
mov     dword ptr [ebx+294h], 1
push    eax
repe cmpsb
push    edx
jz      short loc_277c58cf
push    1006h
push    dword ptr [ebx+0a0h]
call    ds:sendmessagea
and     dword ptr [ebx+294h], 0
jmp     loc_277bb9bc
push    1002h
jmp     short loc_277c58b7
mov     ecx, ebx
call    sub_277d9ba3
test    eax, eax
jnz     short loc_277c58ea
push    1
mov     ecx, ebx
call    sub_277b5460
mov     edi, ds:sendmessagea
lea     eax, [ebx+274h]
xor     esi, esi
push    eax
push    esi
push    1005h
push    dword ptr [ebx+0a0h]
call    edi
test    eax, eax
jnz     loc_277c5a10
lea     eax, [ebx+274h]
push    eax
push    esi
push    1001h
push    dword ptr [ebx+0a0h]
call    edi
lea     edi, [ebx+284h]
lea     esi, [ebx+274h]
movsd
movsd
movsd
movsd
jmp     loc_277bb9f5
push    esi
push    edi
push    [ebp+wparam]
push    eax
jmp     loc_277bb978
movsx   eax, di
fldz
mov     [ebp+var_2c], eax
mov     [ebp+lparam], 20h
movsx   eax, word ptr [ebp+arg_8+2]
fstp    [ebp+pvtime]
mov     [ebp+var_28], eax
lea     eax, [ebp+lparam]
push    eax
push    esi
push    100eh
push    dword ptr [ebx+0a0h]
call    ds:sendmessagea
cmp     [ebp+var_24], 20001h
mov     [ebp+systemtime.wdayofweek], si
mov     [ebp+systemtime.whour], si
mov     [ebp+systemtime.wminute], si
mov     [ebp+systemtime.wsecond], si
mov     [ebp+systemtime.wmilliseconds], si
jnz     loc_277bb995
lea     eax, [ebp+pvtime]
mov     [ebp+systemtime.wmilliseconds], si
push    eax
lea     eax, [ebp+systemtime]
push    eax
mov     [ebp+systemtime.wsecond], si
mov     [ebp+systemtime.wminute], si
mov     [ebp+systemtime.whour], si
call    ds:systemtimetovarianttime
cmp     eax, esi
jge     short loc_277c59be
push    1
pop     eax
jmp     loc_277bb998
fld     [ebp+pvtime]
push    ecx
push    ecx
fstp    [esp+44h+var_44]
push    offset dword_2782acb4
push    ebx
call    sub_277b9711
add     esp, 10h
jmp     loc_277bb995
push    10h
call    ds:getkeystate
test    ax, ax
jge     loc_277bb9f5
mov     eax, [ebp+wparam]
mov     [ebp+arg_8], eax
call    sub_277dd0b6
movsx   eax, ax
push    eax
lea     eax, [ebp+arg_8]
push    eax
push    offset dword_2782bf1c
push    ebx
call    sub_277b9711
add     esp, 10h
jmp     loc_277bb9bc
mov     edi, [ebp+arg_8]
jmp     loc_277bb95a
lea     eax, [ebp+colorref]
push    eax
push    0
push    ebx
call    edi
jmp     loc_277bf5fb
mov     edx, [esi]
mov     eax, 8bc2h
push    eax
push    eax
push    800a8bc2h
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277bf5fb
lea     ecx, [ebx-1c4h]
mov     edx, [ecx]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
jmp     short loc_277c5a6c
mov     edx, [ebx-1c4h]
mov     eax, 8bbdh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     loc_277c0ac1
mov     edx, [ebx-1c4h]
mov     eax, 8bc3h
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bc3h
jmp     short loc_277c5a6c
mov     eax, [ebp+arg_0]
lea     ecx, [eax-1c4h]
jmp     short loc_277c5a44
lea     eax, [ebp+colorref]
push    eax
push    0
push    ebx
call    edi
jmp     loc_277bfad9
mov     edx, [esi]
mov     eax, 8bc2h
push    eax
push    eax
push    800a8bc2h
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277bfad9
fld     [ebp+arg_4]
mov     eax, [ebx]
push    ecx
push    ecx
fstp    [esp+38h+vtime+4]
push    ebx
call    dword ptr [eax+118h]
jmp     loc_277bfc46
mov     edx, [ebx-1c4h]
mov     eax, 8bbbh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbbh
jmp     loc_277bfc68
mov     edx, [esi-1c4h]
mov     eax, 8bbah
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a8bbah
jmp     loc_277bff1c
lea     ecx, [esi-1c4h]
jmp     loc_277bfef4
fld     [ebp+arg_4]
mov     eax, [ebx]
push    ecx
push    ecx
fstp    [esp+38h+vtime+4]
push    ebx
call    dword ptr [eax+118h]
jmp     loc_277bfd70
lea     ecx, [ebx-1c4h]
jmp     loc_277bfd7e
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277c019a
movzx   eax, word ptr [edi+12h]
jmp     loc_277c0193
lea     ecx, [ebx-1c4h]
jmp     loc_277c02a5
mov     edx, [ebx-1c4h]
mov     eax, 8bbdh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbdh
jmp     loc_277c02b3
mov     edx, [esi-1c4h]
mov     eax, 17ch
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     loc_277c0339
mov     edx, [esi-1c4h]
mov     eax, 8bc2h
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a8bc2h
jmp     short loc_277c5b9c
mov     edx, [esi-1c4h]
mov     eax, 17ch
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     loc_277c0728
mov     edx, [esi-1c4h]
mov     eax, 8bc2h
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a8bc2h
jmp     short loc_277c5bd6
mov     edx, [esi-1c4h]
mov     eax, 17ch
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     loc_277c07af
mov     edx, [esi-1c4h]
mov     eax, 8bc2h
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a8bc2h
jmp     short loc_277c5c10
mov     edx, [esi-1c4h]
mov     eax, 17ch
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     loc_277c0836
mov     edx, [esi-1c4h]
mov     eax, 8bc2h
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a8bc2h
jmp     short loc_277c5c4a
push    1005h
jmp     loc_277c085b
mov     [esi+10h], ax
mov     [esi+12h], dx
mov     [esi+16h], cx
push    17h
lea     ecx, [esi-198h]
call    sub_277b4535
jmp     loc_277c0895
lea     edi, [ebx+40h]
lea     esi, [ebp+systemtime]
movsd
movsd
movsd
movsd
lea     edi, [ebx+50h]
lea     esi, [ebp+systemtime]
movsd
movsd
movsd
movsd
jmp     loc_277bf2c0
mov     edx, [esi]
mov     eax, 8bc2h
push    eax
push    eax
push    800a8bc2h
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277bf306
mov     edx, [ebx-1c4h]
mov     eax, 8bbdh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbdh
jmp     short loc_277c5cbd
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277c0b13
mov     ecx, [ebp+arg_4]
mov     ax, [edi+10h]
mov     [ecx], ax
jmp     loc_277c0b11
cmp     word ptr [ebp+arg_4], 1eh
jge     short loc_277c5d19
add     [ebp+arg_4], 7d0h
jmp     loc_277c08c8
add     [ebp+arg_4], 76ch
jmp     loc_277c08c8
mov     edx, [ebx-1c4h]
mov     eax, 8bbdh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbdh
jmp     loc_277c09c0
sub     esp, 10h
lea     esi, [ebp-34h]
mov     edi, esp
mov     ecx, [ebp-4]
movsd
movsd
movsd
movsd
call    sub_277d16ca
jmp     loc_277be64a
mov     eax, ebx
jmp     loc_277bdbee
mov     ebx, [ebp+psizl.cy]
jmp     loc_277bdc63
mov     [ebp+var_8], eax
jmp     loc_277bda8f
cmp     ax, [ebp+arg_10]
jnz     short loc_277c5d9a
mov     ax, [ebp+arg_2]
cmp     ax, [ebp+arg_12]
ja      loc_277bf328
jnz     short loc_277c5d96
mov     ax, [ebp+arg_6]
cmp     ax, [ebp+arg_16]
jnb     loc_277bf328
xor     eax, eax
pop     ebp
retn
cmp     ax, [ebp+arg_20]
jnz     short loc_277c5d96
mov     ax, [ebp+arg_2]
cmp     ax, [ebp+arg_22]
jb      loc_277bf328
jnz     short loc_277c5d96
mov     ax, [ebp+arg_6]
cmp     ax, [ebp+arg_26]
jbe     loc_277bf328
jmp     short loc_277c5d96
mov     ax, [ebp+arg_2]
cmp     ax, [ebp+arg_12]
jb      loc_277bfddc
ja      loc_277bfdd8
mov     ax, [ebp+arg_16]
cmp     ax, [ebp+arg_6]
sbb     eax, eax
inc     eax
pop     ebp
retn
mov     ax, [ebp+arg_2]
cmp     ax, [ebp+arg_12]
ja      loc_277bfc84
jb      loc_277bfc80
mov     ax, [ebp+arg_6]
cmp     ax, [ebp+arg_16]
sbb     eax, eax
inc     eax
pop     ebp
retn
call    ds:getprocessheap
test    eax, eax
mov     dword_278282f0, eax
jnz     loc_277b35f4
retn
dec     eax
jnz     short loc_277c5e28
lea     eax, [esi+esi]
push    eax
call    ds:cotaskmemalloc
jmp     loc_277b7d6a
mov     ebx, [ebp+arg_4]
jmp     loc_277b7d6c
xor     eax, eax
jmp     loc_277b7d8a
leave
retn
cmp     [ebp+locale], eax
jnz     loc_277b3d7c
jmp     loc_277b3d2e
lea     eax, [ebp+libfilename]
push    104h
push    eax
push    edi
call    ds:getmodulefilenamea
lea     eax, [ebp+libfilename]
push    esi
push    eax
call    sub_277d87ae
cmp     eax, 0ffffffffh
jz      short loc_277c5e74
cmp     eax, esi
jnz     loc_277b3f60
mov     eax, hinstance
test    ebx, ebx
mov     edi, eax
jz      short loc_277c5e8b
cmp     ebx, lcid
jnz     loc_277b3f60
mov     hmodule, eax
jmp     loc_277b3f60
push    0
push    0ffffffebh
push    eax
call    ds:setwindowlonga
push    dword ptr [edi]
call    ds:destroywindow
jmp     loc_277b597d
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b5988
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b5993
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b599e
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b59a9
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b59b4
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b59c2
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b59d0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b59de
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b59ec
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b59fa
cmp     eax, ds:dword_277cb3f8
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb3f8
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+54h]
lea     eax, [edx+54h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     eax, ds:dword_277cb3e8
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb3e8
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+44h]
lea     eax, [edx+44h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     eax, ds:dword_277cb3d8
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb3d8
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+44h]
lea     eax, [edx+44h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     eax, ds:dword_277cb3c8
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb3c8
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+54h]
lea     eax, [edx+54h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     ds:dword_277cb3b8, 127h
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb3b8
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+48h]
lea     eax, [edx+48h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     ds:dword_277cb220, 0d97180h
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb220
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+68h]
lea     eax, [edx+68h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     ds:dword_277cb3a8, 1c2056cch
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb3a8
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+40h]
lea     eax, [edx+40h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     ds:dword_277cb398, 3af24292h
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb398
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+48h]
lea     eax, [edx+48h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     ds:dword_277cb388, 55980ba0h
jnz     loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb388
xor     eax, eax
repe cmpsb
jnz     loc_277c61c3
test    edx, edx
jz      loc_277c61be
mov     ecx, [edx+60h]
lea     eax, [edx+60h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     ds:dword_277cb378, 0b196b283h
jnz     short loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb378
xor     eax, eax
repe cmpsb
jnz     short loc_277c61c3
test    edx, edx
jz      short loc_277c61be
mov     ecx, [edx+5ch]
lea     eax, [edx+5ch]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
cmp     ds:dword_277cb368, 0b196b28bh
jnz     short loc_277c61c3
mov     ecx, 10h
mov     edi, offset dword_277cb368
xor     eax, eax
repe cmpsb
jnz     short loc_277c61c3
test    edx, edx
jz      short loc_277c61be
mov     ecx, [edx+58h]
lea     eax, [edx+58h]
push    eax
mov     [ebp+0], eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
xor     eax, eax
mov     [ebp+0], eax
mov     eax, [ebp+0]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
pop     edi
pop     esi
xor     eax, eax
pop     ebp
retn    8
push    eax
call    ds:destroywindow
and     dword ptr [esi], 0
jmp     loc_277b5896
push    edi
call    ds:leavecriticalsection
xor     eax, eax
jmp     loc_277b4b7e
call    sub_277b4d86
mov     [esi+0a4h], eax
jmp     loc_277b4be6
lea     eax, [ebp+var_a]
mov     ecx, esi
push    eax
push    0bh
push    0fffffd3eh
call    sub_277b550a
test    eax, eax
jz      short loc_277c621d
cmp     word ptr [ebp+var_a], bx
jnz     short loc_277c6224
and     dword ptr [esi+0bch], 0fffffffeh
or      dword ptr [esi+0bch], 2
jmp     loc_277b4c26
lea     eax, [esi+88h]
push    eax
xor     eax, eax
push    [ebp+y]
cmp     [ebp+var_a+2], ebx
push    [ebp+x]
setz    al
push    dword ptr [esi+0a4h]
push    eax
call    sub_277da734
add     esp, 14h
cmp     eax, ebx
mov     [esi+0b4h], eax
jz      short loc_277c61ea
push    esi
push    0ffffffebh
push    eax
call    ds:setwindowlonga
or      byte ptr [ebp+dwstyle+3], 10h
jmp     loc_277b4c33
cmp     [ebp+var_a+2], ebx
jz      short loc_277c6268
jmp     loc_277b4c33
push    dword ptr [esi+0a0h]
call    ds:destroywindow
jmp     loc_277c61ea
mov     ecx, [ecx+0b4h]
test    ecx, ecx
jz      short loc_277c6298
mov     eax, ecx
push    edx
push    eax
call    ds:setparent
jmp     locret_277b4b61
lea     edx, [ebp+var_4]
mov     ecx, [eax]
push    edx
lea     edx, [ebp+hwnd]
push    edx
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    edi
push    eax
call    dword ptr [ecx+0ch]
cmp     eax, 1
jnz     loc_277b4e58
jmp     loc_277b4eae
push    [ebp+var_4]
lea     edx, [ebp+hwnd]
mov     ecx, [eax]
push    edx
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    edi
push    eax
call    dword ptr [ecx+10h]
jmp     loc_277b4eae
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    edi
call    ds:defwindowproca
jmp     loc_277b4eb8
test    byte ptr [esi+0b0h], 8
jnz     short loc_277c6317
cmp     [esp+8+arg_0], 0
jz      short loc_277c6317
push    0fffffffch
call    sub_277b48e2
test    eax, eax
jl      short loc_277c635d
mov     esi, [esi+0ach]
push    [esp+8+arg_0]
mov     eax, [esi]
push    esi
call    dword ptr [eax+58h]
xor     ecx, ecx
test    eax, eax
setz    cl
mov     eax, ecx
jmp     loc_277b54ab
mov     edi, [esi+0a4h]
jmp     loc_277b5495
cmp     [esp+8+arg_0], 0
jz      loc_277b549d
push    0fffffffch
mov     ecx, esi
call    sub_277b48e2
xor     ecx, ecx
test    eax, eax
setnl   cl
jmp     short loc_277c632e
xor     eax, eax
jmp     loc_277b54ab
cmp     edi, 2fh
ja      loc_277b1703
mov     eax, esi
jmp     loc_277b1703
cmp     esi, eax
jz      loc_277b1703
mov     eax, [esi+0ch]
jmp     loc_277b1703
cmp     esi, eax
jz      loc_277b1703
push    dword ptr [esi+4]
push    [ebp+hdlg]
call    ds:getdlgitem
jmp     loc_277b1703
cmp     esi, eax
jz      loc_277b1703
mov     eax, [esi+14h]
jmp     loc_277b1703
cmp     esi, eax
jz      loc_277b1703
mov     eax, [esi+8]
jmp     loc_277b1703
cmp     word ptr [ebp+wparam], 1
jz      short loc_277c636d
cmp     word ptr [ebp+wparam], 2
jnz     loc_277b1703
jmp     short loc_277c636d
cmp     esi, eax
jz      loc_277b1703
mov     eax, [esi]
jmp     loc_277b1703
push    esi
add     edi, 2000h
push    [ebp+wparam]
push    edi
push    eax
call    ds:sendmessagea
push    1
mov     [ebx], eax
pop     eax
jmp     loc_277b170d
lea     eax, [ebp+pvarsrc]
push    eax
call    ds:variantclear
xor     eax, eax
jmp     loc_277b55c1
mov     eax, [esi+0a0h]
cmp     eax, ebp
jz      loc_277b990f
mov     ebx, ds:destroywindow
push    eax
call    ebx
mov     eax, [esi+0b4h]
lea     edi, [esi+0b4h]
cmp     eax, ebp
jz      short loc_277c6439
push    eax
call    ebx
mov     [edi], ebp
push    ebp
push    ebp
push    ebp
mov     ecx, esi
call    sub_277b4b64
jmp     loc_277b990f
mov     eax, hinstance
jmp     loc_277b93d3
push    offset lcid
push    3
push    0fffffd3fh
mov     ecx, ebx
call    sub_277b550a
test    eax, eax
jnz     loc_277b93f0
jmp     loc_277b93f9
mov     eax, 8000ffffh
jmp     loc_277b4351
mov     edi, [edi+0ch]
mov     eax, [edi]
push    edi
call    dword ptr [eax+8]
mov     eax, [ebp+arg_4]
jmp     loc_277b4351
mov     edi, [edi+10h]
jmp     short loc_277c647f
and     dword ptr [edi+80h], 0fffffffbh
jmp     loc_277b9a59
mov     ebx, offset criticalsection
push    ebx
call    ds:entercriticalsection
and     word_2782a1f4, 0
push    ebx
call    ds:leavecriticalsection
jmp     loc_277b9a6e
mov     ecx, [eax]
and     dword ptr [edi], 0
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b43a3
mov     eax, [esi+34h]
push    edi
push    offset dword_277cb408
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
jmp     loc_277b43d1
mov     ecx, [eax]
and     dword ptr [esi+74h], 0
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b43ca
mov     ecx, [esi+8]
lea     eax, [esi+8]
push    eax
call    dword ptr [ecx+14h]
test    eax, eax
jge     loc_277b572e
jmp     loc_277b5746
test    byte ptr [esi+78h], 1
jz      loc_277b5744
mov     eax, [esi+34h]
test    eax, eax
jz      short loc_277c651c
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+0ch]
mov     esi, [esi+70h]
test    esi, esi
jz      loc_277b5744
mov     eax, [esi]
push    esi
call    dword ptr [eax+1ch]
jmp     loc_277b5744
test    eax, eax
jl      short loc_277c6573
cmp     eax, 1
jle     short loc_277c657d
test    eax, eax
jle     short loc_277c6573
mov     ecx, [ebp+ppageclsid]
push    eax
mov     edx, [ecx-38h]
lea     esi, [ecx-38h]
mov     ecx, esi
call    dword ptr [edx+60h]
mov     edi, 40180h
cmp     eax, edi
jnz     loc_277b48a6
push    0
mov     ecx, esi
call    sub_277b48e2
test    eax, eax
jl      loc_277b48a6
mov     eax, edi
jmp     loc_277b48a6
mov     eax, 80004001h
jmp     loc_277b48a6
mov     ebx, [ebp+ppageclsid]
lea     esi, [ebx-38h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      loc_277b48de
mov     eax, [ebx+38h]
xor     edi, edi
cmp     eax, edi
jz      short loc_277c65ac
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+24h]
cmp     eax, 80004001h
jnz     loc_277b48a6
mov     eax, [ebx-24h]
neg     esi
mov     eax, off_278286a4[eax*8]
sbb     esi, esi
and     esi, ebx
mov     [ebp+ppunk], esi
push    dword ptr [eax+4]
call    ds:lstrlena
lea     esi, [eax+eax+2]
lea     ecx, [ebp+lpwidecharstr]
push    esi
call    sub_277b37aa
mov     eax, [ebx-24h]
push    esi
push    [ebp+lpwidecharstr]
mov     eax, off_278286a4[eax*8]
push    0ffffffffh
push    dword ptr [eax+4]
push    edi
push    edi
call    ds:multibytetowidechar
mov     eax, [ebp+lpwidecharstr]
mov     [ebp+lpszcaption], eax
mov     eax, [ebx-24h]
mov     eax, off_278286a4[eax*8]
movzx   eax, word ptr [eax+4ah]
shl     eax, 4
push    eax
push    edi
push    dword_278282f0
call    ds:heapalloc
mov     edx, eax
cmp     edx, edi
mov     [ebp+ppageclsid], edx
jnz     short loc_277c6652
cmp     [ebp+lpwidecharstr], edi
jz      short loc_277c6648
test    [ebp+var_8], 1
jz      short loc_277c6648
push    [ebp+lpwidecharstr]
push    edi
push    dword_278282f0
call    ds:heapfree
mov     eax, 8007000eh
jmp     loc_277b48a6
mov     eax, [ebx-24h]
mov     eax, off_278286a4[eax*8]
movzx   ecx, word ptr [eax+4ah]
cmp     ecx, edi
jle     short loc_277c6678
mov     eax, [eax+4ch]
mov     esi, [eax]
mov     edi, edx
movsd
movsd
movsd
add     eax, 4
add     edx, 10h
dec     ecx
movsd
jnz     short loc_277c6667
lea     ecx, [ebx-38h]
push    1
mov     [ebp+var_4], ecx
call    sub_277d91a1
mov     edi, offset criticalsection
push    edi
call    ds:entercriticalsection
mov     eax, [ebx-24h]
push    0
push    0
mov     esi, ds:getsystemmetrics
mov     eax, off_278286a4[eax*8]
push    lcid
movzx   eax, word ptr [eax+4ah]
push    [ebp+ppageclsid]
push    eax
lea     eax, [ebp+ppunk]
push    eax
push    1
push    [ebp+lpszcaption]
push    1
call    esi
cdq
sub     eax, edx
xor     ebx, ebx
sar     eax, 1
push    eax
push    ebx
call    esi
cdq
sub     eax, edx
sar     eax, 1
push    eax
call    ds:getactivewindow
push    eax
call    ds:olecreatepropertyframe
push    edi
mov     [ebp+lpszcaption], eax
call    ds:leavecriticalsection
mov     ecx, [ebp+var_4]
push    ebx
call    sub_277d91a1
push    [ebp+ppageclsid]
mov     esi, ds:heapfree
push    ebx
push    dword_278282f0
call    esi
cmp     [ebp+lpwidecharstr], ebx
jz      short loc_277c6720
test    [ebp+var_8], 1
jz      short loc_277c6720
push    [ebp+lpwidecharstr]
push    ebx
push    dword_278282f0
call    esi
mov     eax, [ebp+lpszcaption]
jmp     loc_277b48a6
mov     eax, [ebx+68h]
cmp     eax, ecx
jz      short loc_277c6746
push    16h
push    dword ptr [ebx+54h]
push    dword ptr [ebx+50h]
push    ecx
push    ecx
push    ecx
push    eax
call    ds:setwindowpos
jmp     loc_277b9325
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+34h]
jmp     loc_277b9325
mov     eax, [ebx+34h]
test    eax, eax
jz      loc_277b932f
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+20h]
jmp     loc_277b932f
mov     eax, 8004006bh
jmp     loc_277b9347
mov     eax, ecx
jmp     loc_277b523f
mov     eax, 80004005h
jmp     locret_277b5253
mov     eax, [ecx]
push    ebx
push    offset dword_277cb428
push    ecx
call    dword ptr [eax]
jmp     loc_277b492b
mov     [ebp+var_4], eax
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
jmp     loc_277b4963
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+48h]
mov     edi, eax
test    edi, edi
jl      short loc_277c67dd
jz      loc_277b498b
mov     eax, [ebx]
test    eax, eax
jz      short loc_277c67c2
mov     ecx, [eax]
and     dword ptr [ebx], 0
push    eax
call    dword ptr [ecx+8]
mov     eax, [esi+6ch]
lea     edx, [esi+74h]
push    edx
push    offset dword_277b6250
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
mov     edi, eax
test    edi, edi
jge     loc_277b498b
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277c67ea
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
and     dword ptr [esi+0b0h], 0fffffffdh
mov     eax, edi
jmp     loc_277b4ab2
jge     short loc_277c67dd
mov     edi, 80004005h
jmp     short loc_277c67dd
mov     eax, [esi+74h]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+18h]
jmp     loc_277b49c5
mov     ecx, [eax]
and     dword ptr [edi], 0
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b4a18
mov     ecx, [eax]
push    ebx
push    edi
push    eax
call    dword ptr [ecx+20h]
jmp     loc_277b4b29
mov     eax, [esi]
push    ebx
push    esi
call    dword ptr [eax+1ch]
jmp     loc_277b4ab0
xor     eax, eax
jmp     loc_277b5710
push    0
push    0ffffffebh
push    eax
call    ds:setwindowlonga
push    dword ptr [esi+74h]
call    edi
and     dword ptr [esi+74h], 0
jmp     loc_277b56f1
mov     ecx, [eax]
and     dword ptr [esi+3ch], 0
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b570d
mov     ecx, [eax]
push    edi
push    edi
push    eax
call    dword ptr [ecx+20h]
jmp     loc_277b585a
mov     eax, [ebp+lprcsrc1]
mov     ecx, [eax+4]
mov     eax, [eax]
neg     ecx
neg     eax
push    ecx
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:offsetrect
mov     eax, [ebx+74h]
test    eax, eax
mov     esi, eax
jnz     short loc_277c6896
mov     esi, [ebx+60h]
lea     eax, [ebp+rcdst]
push    1
push    eax
call    ds:createrectrgnindirect
push    eax
push    esi
call    edi
or      dword ptr [ebx+7ch], 20h
xor     esi, esi
jmp     loc_277b9467
mov     ecx, [ebx+5ch]
push    14h
sub     ecx, [ebx+54h]
push    ecx
mov     ecx, [ebx+58h]
sub     ecx, [edi]
push    ecx
push    edx
push    edx
push    edx
push    eax
call    esi
jmp     loc_277b956c
mov     ecx, [esi+48h]
lea     eax, [esi+48h]
push    0
push    0
push    1
push    eax
call    dword ptr [ecx+1ch]
jmp     loc_277b463a
mov     eax, ecx
jmp     loc_277b5291
and     dword ptr [edi+64h], 0fffffffeh
jmp     loc_277b9ada
mov     eax, [edi]
push    edi
call    dword ptr [eax+1ch]
jmp     loc_277b9ae5
mov     eax, [esi]
push    esi
call    dword ptr [eax+1ch]
jmp     loc_277b9b6d
mov     eax, [ebp+var_4]
mov     [eax+88h], ebx
mov     [eax+8ch], edi
jmp     loc_277b471d
mov     eax, 8000ffffh
jmp     loc_277b9c65
mov     eax, 80004005h
jmp     loc_277b565d
mov     eax, 8004006bh
jmp     locret_277b4629
mov     eax, [esi-48h]
lea     ecx, [esi-48h]
call    dword ptr [eax+34h]
jmp     loc_277b4626
mov     eax, 8002000bh
jmp     loc_277b53ba
mov     eax, 80004003h
jmp     loc_277b53ba
lea     eax, [ebp+filename]
push    104h
push    eax
push    hinstance
call    ds:getmodulefilenamea
test    eax, eax
jnz     short loc_277c6980
mov     edi, 80004005h
jmp     loc_277b53ad
lea     eax, [ebp+filename]
push    eax
call    ds:lstrlena
lea     edi, [eax+eax+2]
lea     ecx, [ebp+lpwidecharstr]
push    edi
call    sub_277b37aa
push    edi
lea     eax, [ebp+filename]
push    [ebp+lpwidecharstr]
push    0ffffffffh
push    eax
push    0
push    0
call    ds:multibytetowidechar
lea     eax, [ebp+pptlib]
push    eax
push    [ebp+lpwidecharstr]
call    ds:loadtypelib
mov     edi, eax
xor     eax, eax
cmp     edi, eax
jge     short loc_277c69fd
cmp     [ebp+lpwidecharstr], eax
jz      loc_277b53ad
test    [ebp+var_8], 1
jz      loc_277b53ad
push    [ebp+lpwidecharstr]
push    eax
push    dword_278282f0
call    ds:heapfree
jmp     loc_277b53ad
cmp     [ebp+lpwidecharstr], eax
jz      loc_277b53e5
test    [ebp+var_8], 1
jz      loc_277b53e5
push    [ebp+lpwidecharstr]
push    0
push    dword_278282f0
call    ds:heapfree
jmp     loc_277b53e5
push    eax
call    dword ptr [ecx+8]
jmp     loc_277b53ad
mov     eax, 80070057h
jmp     loc_277b9219
mov     eax, 80070057h
jmp     loc_277b5354
mov     eax, [ebp+arg_0]
jmp     loc_277b96c1
push    [ebp+lpwidecharstr]
push    ebx
push    dword_278282f0
call    ds:heapfree
jmp     loc_277b96bd
push    10h
mov     edi, offset dword_277b6200
pop     ecx
mov     esi, eax
xor     ebx, ebx
repe cmpsb
jz      loc_277b5778
jmp     loc_277b57a2
mov     eax, 80004002h
jmp     loc_277b578d
mov     eax, [esi]
lea     ecx, [ebp+arg_4]
push    ecx
push    offset dword_277b6200
push    esi
call    dword ptr [eax]
test    eax, eax
jge     loc_277b459d
jmp     loc_277b45aa
mov     eax, [ebp+arg_4]
lea     edx, [ebp+arg_4]
push    edx
push    offset dword_277b6280
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
jmp     short loc_277c6a9a
dec     edx
jz      short loc_277c6af7
test    cl, 7
jnz     short loc_277c6af2
lea     eax, ds:20h[eax*4]
push    eax
push    dword ptr [esi+4]
push    0
push    dword_278282f0
call    ds:heaprealloc
test    eax, eax
jz      short loc_277c6b0b
mov     [esi+4], eax
movsx   edx, word ptr [esi+0ah]
mov     ecx, [esp+4+arg_0]
mov     [eax+edx*4], ecx
jmp     loc_277b4525
mov     eax, [esi+4]
jmp     short loc_277c6ae2
push    20h
push    0
push    dword_278282f0
call    ds:heapalloc
test    eax, eax
jnz     short loc_277c6b15
mov     eax, 8007000eh
jmp     loc_277b4531
mov     ecx, [esi+4]
mov     [esi+4], eax
mov     [eax], ecx
mov     ecx, [esp+4+arg_0]
mov     [eax+4], ecx
jmp     loc_277b4525
dec     ecx
jz      short loc_277c6b82
xor     edx, edx
test    eax, eax
jle     short loc_277c6b41
mov     ecx, [ebx+4]
cmp     [ecx], edi
jz      short loc_277c6b41
inc     edx
add     ecx, 4
cmp     edx, eax
jl      short loc_277c6b35
cmp     edx, eax
jz      short loc_277c6bc1
lea     ecx, [eax-1]
cmp     edx, ecx
jge     short loc_277c6b76
mov     edi, [ebx+4]
sub     eax, edx
lea     ecx, ds:0fffffffch[eax*4]
lea     esi, [edi+edx*4+4]
mov     eax, ecx
lea     edi, [edi+edx*4]
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
mov     edi, [esp+0ch+arg_4]
jmp     loc_277b580e
mov     eax, [ebx+4]
and     dword ptr [eax+edx*4], 0
jmp     loc_277b580e
mov     eax, [ebx+4]
mov     ecx, [eax]
cmp     ecx, edi
jz      short loc_277c6b94
cmp     [eax+4], edi
jnz     short loc_277c6bc1
cmp     ecx, edi
jnz     short loc_277c6bb2
mov     esi, [eax+4]
test    esi, esi
jz      short loc_277c6bc1
push    eax
push    0
push    dword_278282f0
call    ds:heapfree
mov     [ebx+4], esi
jmp     loc_277b580e
mov     esi, [eax+4]
sub     esi, edi
neg     esi
sbb     esi, esi
not     esi
and     esi, ecx
jmp     short loc_277c6b97
mov     eax, 80040200h
jmp     loc_277b581a
cmp     ax, 1
jnz     short loc_277c6bdf
mov     esi, [esi+4]
push    esi
mov     eax, [esi]
call    dword ptr [eax+8]
jmp     loc_277b5a44
xor     edi, edi
test    ax, ax
jle     short loc_277c6bff
mov     eax, [esi+4]
mov     eax, [eax+edi*4]
test    eax, eax
jz      short loc_277c6bf6
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
movsx   eax, word ptr [esi+0ah]
inc     edi
cmp     edi, eax
jl      short loc_277c6be6
push    dword ptr [esi+4]
push    0
push    dword_278282f0
call    ds:heapfree
jmp     loc_277b5a44
xor     ebx, ebx
cmp     ax, di
jle     loc_277b9821
mov     eax, [esi+4]
push    edi
push    edi
push    edi
push    [esp+18h+arg_4]
mov     eax, [eax+ebx*4]
mov     ecx, [eax]
push    1
push    edi
push    offset dword_277b6008
push    [esp+28h+arg_0]
push    eax
call    dword ptr [ecx+18h]
movsx   eax, word ptr [esi+0ah]
inc     ebx
cmp     ebx, eax
jge     loc_277b9821
jmp     short loc_277c6c20
xor     edi, edi
test    ax, ax
jle     loc_277b4542
mov     eax, [esi+4]
push    [esp+8+arg_0]
mov     eax, [eax+edi*4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
movsx   eax, word ptr [esi+0ah]
inc     edi
cmp     edi, eax
jge     loc_277b4542
jmp     short loc_277c6c59
xor     eax, eax
jmp     loc_277bf450
xor     edi, edi
test    ax, ax
jle     short loc_277c6cac
mov     eax, [esi+4]
push    [ebp+arg_0]
mov     eax, [eax+edi*4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
test    eax, eax
jnz     loc_277bf450
movsx   ecx, word ptr [esi+0ah]
inc     edi
cmp     edi, ecx
jge     loc_277bf450
jmp     short loc_277c6c86
mov     eax, [ebp+arg_0]
jmp     loc_277bf450
add     eax, 10h
mov     edi, ebx
lea     esi, [eax-10h]
movsd
movsd
movsd
movsd
mov     edi, [ebp+arg_4]
jmp     loc_277b9756
fld     dword ptr [eax+edx-4]
add     eax, edx
fstp    dword ptr [ecx]
jmp     loc_277b9756
mov     edx, [eax]
add     eax, 8
mov     [ecx], edx
mov     edx, [eax-4]
mov     [ecx+4], edx
jmp     loc_277b9756
push    [esp+arg_0]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+50h]
xor     ecx, ecx
test    eax, eax
setz    cl
mov     eax, ecx
jmp     locret_277bf847
push    dword ptr [ecx+0a0h]
call    ds:setcapture
jmp     loc_277bf844
xor     eax, eax
jmp     locret_277bf847
push    [esp+8+berase]
mov     ecx, [eax]
push    [esp+0ch+lprect]
push    eax
call    dword ptr [ecx+64h]
neg     eax
sbb     eax, eax
inc     eax
jmp     loc_277b970c
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+34h]
push    1
pop     eax
jmp     loc_277b970c
mov     eax, [ebp+var_4]
jmp     locret_277b169e
cmp     ecx, 40ah
mov     dword_278282d0, esi
sbb     eax, eax
mov     dword_278282f4, esi
inc     eax
mov     dword_278282d4, eax
jmp     loc_277b1c53
xor     eax, eax
jmp     loc_277b1c9e
push    eax
call    esi
jmp     loc_277b1cd3
push    eax
call    esi
mov     dword_278282f8, edi
jmp     loc_277b1ce0
push    hinstance
push    offset actlframeworkre
call    edi
and     byte_278288b8, 0
jmp     loc_277b2292
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
and     ppv, 0
jmp     loc_277b21fd
mov     eax, 80070057h
jmp     loc_277b359d
mov     eax, hinstance
test    eax, eax
jz      short loc_277c6de9
push    offset avbframeworkmap
push    eax
call    ds:getprocaddress
test    eax, eax
jz      short loc_277c6de9
lea     ecx, [ebp+var_10]
push    ecx
push    [ebp+rclsid]
call    eax
test    eax, eax
jl      short loc_277c6de9
lea     eax, [ebp+var_10]
push    eax
call    sub_277b35a3
pop     ecx
mov     esi, eax
cmp     esi, 0ffffffffh
jnz     loc_277b3566
mov     eax, 80040111h
jmp     loc_277b359d
xor     esi, esi
jmp     loc_277b3580
mov     eax, 8007000eh
jmp     loc_277b359d
or      eax, 0ffffffffh
jmp     loc_277b35e3
cmp     eax, ds:dword_277cb488
jnz     short loc_277c6e31
push    10h
mov     edi, offset dword_277cb488
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jz      loc_277b3653
cmp     eax, ds:dword_277b6118
jnz     short loc_277c6e4d
push    10h
mov     edi, offset dword_277b6118
pop     ecx
mov     esi, edx
xor     eax, eax
repe cmpsb
jz      loc_277b3653
cmp     ds:dword_277ca2d8, 0
jz      short loc_277c6e6a
push    10h
mov     edi, offset dword_277cb2a8
pop     ecx
mov     esi, edx
xor     eax, eax
repe cmpsb
jz      loc_277b3653
mov     eax, [esp+0ch+arg_8]
and     dword ptr [eax], 0
mov     eax, 80004002h
jmp     loc_277b3665
mov     eax, 80070057h
jmp     loc_277b36c6
mov     eax, 80040112h
jmp     loc_277b36c6
call    eax
test    eax, eax
jge     loc_277b3995
jmp     loc_277b39d1
mov     eax, 80004005h
jmp     loc_277b39d1
mov     eax, 8007000eh
jmp     loc_277b39d1
mov     esi, [ebp+arg_c]
mov     eax, [esi]
cmp     eax, ds:dword_277b6118
jnz     short loc_277c6ed9
push    10h
mov     edi, offset dword_277b6118
pop     ecx
xor     eax, eax
repe cmpsb
jnz     short loc_277c6ed9
mov     eax, [ebp+arg_8]
xor     esi, esi
mov     [eax], ebx
jmp     loc_277b39cf
mov     eax, [ebx]
push    ebx
call    dword ptr [eax+8]
mov     eax, 80070057h
jmp     loc_277b39d1
xor     eax, eax
jmp     loc_277c1fd9
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_8]
push    edx
push    offset dword_277b61b0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+0ch]
mov     esi, eax
cmp     esi, edi
jl      loc_277c1fc1
mov     eax, [ebp+var_8]
cmp     eax, edi
jnz     short loc_277c6f1d
mov     esi, 80004002h
jmp     loc_277c1fc1
mov     ecx, [eax]
push    ebx
push    offset dword_277b6200
push    eax
call    dword ptr [ecx]
mov     esi, eax
cmp     esi, edi
jge     loc_277c1fbf
jmp     loc_277c1fc1
mov     [ebp+var_4], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c1fcc
mov     [ebp+var_8], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277c1fd7
xor     eax, eax
jmp     loc_277b6493
mov     esi, 80004002h
jmp     loc_277b647c
lea     edi, [ebx+158h]
movsd
movsd
movsd
movsd
jmp     loc_277baf44
push    eax
call    ds:sysfreestring
jmp     loc_277c0e3d
and     dword ptr [eax], 0
mov     eax, [ecx]
push    ecx
call    dword ptr [eax+8]
jmp     loc_277c0e6a
push    eax
call    ds:deleteobject
jmp     loc_277c0e78
push    10h
mov     edi, offset dword_277b6138
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jnz     loc_277bb1b7
mov     esi, [ebp+var_4]
lea     eax, [esi+0c0h]
neg     esi
sbb     esi, esi
and     esi, eax
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
jmp     loc_277bb1cf
push    10h
mov     edi, offset dword_277c18d0
pop     ecx
mov     esi, edx
xor     eax, eax
repe cmpsb
jnz     loc_277bb1c3
mov     esi, [ebp+var_4]
lea     eax, [esi+0c4h]
jmp     short loc_277c6fb6
lea     eax, [ebp+var_4]
push    eax
push    2
push    0fffffd34h
call    sub_277b550a
test    eax, eax
jz      short loc_277c7004
mov     eax, [ebp+var_4]
mov     ecx, [esi+188h]
and     byte ptr [esi+194h], 0feh
and     eax, 1
and     ecx, 0fffffffbh
shl     eax, 2
or      eax, ecx
mov     [esi+188h], eax
jmp     loc_277bdcc6
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277bf41f
mov     eax, [esi]
lea     ecx, [ebp+arg_0]
push    ecx
mov     ecx, esi
call    dword ptr [eax+84h]
test    eax, eax
jl      loc_277bf41f
and     byte ptr [esi+194h], 0feh
jmp     loc_277bf3b1
mov     edx, [esi]
mov     eax, 183h
push    eax
push    eax
push    800a0183h
jmp     short loc_277c7035
mov     edx, [esi]
mov     eax, 183h
push    eax
push    eax
push    800a0183h
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277bf767
push    esi
push    3
push    0fffffd43h
call    sub_277b550a
test    eax, eax
jnz     short loc_277c70a0
mov     dword ptr [esi], 0ffffffh
and     byte ptr [edi+194h], 0fbh
jmp     loc_277bdfa7
mov     eax, [esi]
lea     ecx, [ebp+var_4]
push    ecx
mov     ecx, esi
call    dword ptr [eax+8ch]
test    eax, eax
jge     loc_277bf618
jmp     loc_277bf68e
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277bf68e
mov     edx, [esi]
mov     eax, 183h
push    eax
push    eax
push    800a0183h
jmp     short loc_277c70d5
push    eax
call    ds:deleteobject
and     dword ptr [edi], 0
jmp     loc_277bf663
push    esi
push    3
push    0fffffd40h
call    sub_277b550a
test    eax, eax
jnz     loc_277bdfca
and     [esi], eax
jmp     loc_277bdfca
mov     eax, [esi]
lea     ecx, [ebp+var_4]
push    ecx
mov     ecx, esi
call    dword ptr [eax+94h]
test    eax, eax
jl      loc_277bfb55
and     byte ptr [esi+194h], 0fdh
jmp     loc_277bfaf6
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277bfb55
mov     edx, [esi]
mov     eax, 183h
push    eax
push    eax
push    800a0183h
jmp     short loc_277c714a
push    edi
push    offset iidinterface
push    offset fontdesc
call    ds:olecreatefontindirect
cmp     eax, ebx
jl      loc_277bd717
mov     ecx, esi
call    sub_277b54b0
xor     edx, edx
cmp     eax, ebx
mov     al, [esi+194h]
lea     ecx, [esi+194h]
setz    dl
and     dl, 1
and     al, 0f7h
shl     dl, 3
or      dl, al
mov     [ecx], dl
jmp     loc_277bd6ee
mov     [edi], eax
jmp     loc_277bd6ee
mov     eax, ebx
jmp     loc_277bd717
mov     ecx, [eax]
and     dword ptr [esi+19ch], 0
push    eax
call    dword ptr [ecx+8]
jmp     loc_277bf93d
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset acaption
push    edi
call    dword ptr [eax+0ch]
mov     [ebp+arg_0], eax
mov     eax, [esi+198h]
test    eax, eax
jz      short loc_277c71f1
push    eax
call    ebx
and     dword ptr [esi+198h], 0
cmp     [ebp+arg_0], 0
jl      loc_277bb372
push    dword ptr [ebp+pvarg.anonymous_0+8]
call    ds:sysallocstring
mov     [esi+198h], eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
jmp     loc_277bb372
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset atext
push    edi
call    dword ptr [eax+0ch]
mov     [ebp+arg_0], eax
mov     eax, [esi+198h]
test    eax, eax
jz      short loc_277c7242
push    eax
call    ebx
and     dword ptr [esi+198h], 0
cmp     [ebp+arg_0], 0
jl      loc_277bb37f
push    dword ptr [ebp+pvarg.anonymous_0+8]
call    ds:sysallocstring
mov     [esi+198h], eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
jmp     loc_277bb37f
or      dword ptr [esi+18ch], 0ffffffffh
jmp     loc_277bb3b8
or      dword ptr [esi+190h], 0ffffffffh
jmp     loc_277bb3eb
mov     ecx, dword ptr [ebp+pvarg.anonymous_0+8]
mov     edx, [esi+188h]
lea     eax, [esi+188h]
and     ecx, 1
and     edx, 0fffffffeh
or      ecx, edx
mov     [eax], ecx
jmp     loc_277bb41b
or      dword ptr [esi+188h], 4
jmp     loc_277bb461
mov     ecx, dword ptr [ebp+pvarg.anonymous_0+8]
mov     edx, [esi+188h]
lea     eax, [esi+188h]
and     ecx, 0ffh
shl     ecx, 3
and     dx, 0f807h
or      ecx, edx
mov     [eax], ecx
jmp     loc_277bb48d
mov     ecx, dword ptr [ebp+pvarg.anonymous_0+8]
mov     edx, [esi+188h]
lea     eax, [esi+188h]
and     ecx, 1
shl     ecx, 1
and     edx, 0fffffffdh
or      ecx, edx
mov     [eax], ecx
jmp     loc_277bb4bd
test    eax, eax
jz      short loc_277c72fc
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
push    ebx
push    offset iidinterface
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
xor     edx, edx
lea     ecx, [esi+194h]
test    eax, eax
mov     al, [ecx]
setnl   dl
and     dl, 1
and     al, 0f7h
shl     dl, 3
or      dl, al
lea     eax, [ebp+pvarg]
push    eax
mov     [ecx], dl
call    ds:variantclear
jmp     loc_277bb4fa
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
and     dword ptr [ebx], 0
jmp     loc_277bb4fa
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
push    eax
mov     [esi+1a0h], eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
jmp     loc_277bb527
add     ebx, 18h
add     [ebp+arg_4], 18h
jmp     loc_277bb60c
push    [ebp+arg_c]
mov     eax, [esi]
lea     ecx, [ebp+pvarg]
push    ecx
push    dword ptr [ebx]
push    esi
call    dword ptr [eax+0ch]
cmp     eax, edi
jge     short loc_277c7382
mov     dword ptr [ebp+pvarg.anonymous_0+8], edi
mov     esi, [ebx+4]
add     esi, [ebp+arg_8]
mov     eax, [esi]
cmp     eax, edi
jz      short loc_277c7396
mov     ecx, [eax]
push    eax
mov     [esi], edi
call    dword ptr [ecx+8]
mov     ecx, dword ptr [ebp+pvarg.anonymous_0+8]
mov     al, [ebx+14h]
mov     [esi], ecx
mov     ecx, dword ptr [ebp+pvarg.anonymous_0+8]
and     al, 2
cmp     ecx, edi
jz      short loc_277c73bc
mov     eax, [ecx]
push    ecx
call    dword ptr [eax+4]
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
jmp     loc_277bb603
test    al, al
jz      short loc_277c73ad
push    esi
push    1
push    offset riid
push    offset pictdesc
call    ds:olecreatepictureindirect
jmp     short loc_277c73ad
mov     esi, [ebx+4]
push    dword ptr [ebp+pvarg.anonymous_0+8]
add     esi, [ebp+arg_8]
call    ds:sysallocstring
mov     [esi], eax
jmp     short loc_277c73ad
mov     eax, [ebp+arg_4]
mov     edi, [eax]
test    edi, edi
jz      loc_277bb646
mov     esi, [ebx+4]
add     esi, [ebp+arg_8]
push    dword ptr [esi]
call    ds:sysfreestring
push    0
push    edi
call    sub_277b7d29
pop     ecx
mov     [esi], eax
pop     ecx
jmp     loc_277bb603
or      byte ptr [esi+3], 8
jmp     loc_277bb8d8
and     byte ptr [edx+1], 0fdh
jmp     loc_277bb8f6
or      byte ptr [esi+2], 80h
jmp     loc_277bb90f
push    [ebp+lparam]
mov     ecx, esi
push    [ebp+wparam]
push    [ebp+msg]
call    sub_277d9bdb
mov     edi, [ebp+msg]
mov     ebx, eax
jmp     loc_277bba7f
push    0
mov     ecx, esi
call    sub_277bf815
and     dword ptr [edi], 0ffffffc0h
jmp     loc_277bbad4
mov     eax, [esi+0a0h]
test    eax, eax
jz      loc_277bbad4
cmp     [ebp+lparam], eax
jz      loc_277bbad4
push    [ebp+lparam]
push    eax
call    ds:ischild
test    eax, eax
jnz     loc_277bbad4
or      byte ptr [esi+0d1h], 1
jmp     loc_277bbad4
call    ds:getcapture
mov     edi, eax
mov     eax, [esi+0a0h]
test    eax, eax
jz      loc_277bbad4
cmp     eax, edi
jz      short loc_277c74b9
push    edi
push    eax
call    ds:ischild
test    eax, eax
jz      loc_277bbad4
mov     eax, [esi+0d0h]
add     esi, 0d0h
shr     eax, 8
test    al, 1
jz      loc_277bbad4
push    0
push    0
push    1fh
push    edi
call    ds:sendmessagea
and     byte ptr [esi+1], 0feh
jmp     loc_277bbad4
mov     eax, [esi]
push    [ebp+lparam]
mov     ecx, esi
call    dword ptr [eax+0ach]
test    eax, eax
jge     def_277bbba1
xor     eax, eax
jmp     loc_277bbad6
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jnz     def_277bbba1
test    byte ptr [esi+125h], 1
jz      def_277bbba1
movzx   eax, word ptr [ebp+lparam]
push    eax
mov     ecx, esi
push    [ebp+wparam]
call    sub_277dcebc
test    eax, eax
jz      def_277bbba1
push    1
pop     eax
jmp     loc_277bbad6
jz      loc_277c760c
mov     eax, ecx
sub     eax, 101h
jz      short loc_277c755e
dec     eax
jz      loc_277c75d9
dec     eax
dec     eax
jz      short loc_277c758e
dec     eax
jnz     def_277bbba1
test    byte ptr [esi+126h], 10h
jz      short loc_277c75c8
mov     eax, [ebp+wparam]
mov     [ebp+var_4], eax
call    sub_277dd0b6
movsx   eax, ax
push    eax
lea     eax, [ebp+var_4]
push    eax
push    offset dword_2782bf34
push    esi
call    sub_277b9711
movzx   eax, word ptr [ebp+var_4]
add     esp, 10h
jmp     short loc_277c75bc
test    byte ptr [esi+126h], 4
jz      short loc_277c75c8
mov     eax, [ebp+wparam]
mov     [ebp+var_4], eax
call    sub_277dd0b6
movsx   eax, ax
push    eax
lea     eax, [ebp+var_4]
push    eax
push    offset dword_2782bf1c
push    esi
call    sub_277b9711
movzx   eax, word ptr [ebp+var_4]
add     esp, 10h
mov     ecx, [ebp+arg_10]
mov     [ebp+wparam], eax
test    ecx, ecx
jz      short loc_277c75c8
mov     [ecx], eax
cmp     [esi+0a0h], ebx
jnz     loc_277c74fb
jmp     def_277bbba1
test    byte ptr [esi+126h], 8
jz      def_277bbba1
push    [ebp+lparam]
lea     eax, [ebp+wparam]
mov     ecx, esi
push    eax
push    [ebp+lpprevwndfunc]
call    sub_277dd012
mov     ecx, [ebp+arg_10]
test    ecx, ecx
jz      loc_277bbad6
mov     edx, [ebp+wparam]
mov     [ecx], edx
jmp     loc_277bbad6
test    byte ptr [esi+126h], 40h
jz      short loc_277c75c8
xor     edi, edi
test    byte ptr [ebp+wparam], 1
jz      short loc_277c761f
mov     edi, edx
test    byte ptr [ebp+wparam], 2
jz      short loc_277c7628
or      edi, 2
test    byte ptr [ebp+wparam], 10h
jz      short loc_277c7631
or      edi, 4
movsx   eax, word ptr [ebp+lparam]
mov     [ebp+var_c], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
mov     [ebp+var_8], eax
lea     eax, [ebp+var_c]
push    eax
mov     ecx, esi
call    sub_277bf7d6
push    [ebp+var_8]
push    [ebp+var_c]
call    sub_277dd0b6
movsx   eax, ax
push    eax
movzx   eax, di
push    eax
push    offset dword_2782bf04
push    esi
call    sub_277b9711
add     esp, 18h
jmp     loc_277c75c8
mov     eax, ecx
sub     eax, 201h
jz      short loc_277c76ba
sub     eax, 3
jz      short loc_277c76b6
sub     eax, 3
jnz     short loc_277c768b
push    4
pop     edi
movsx   eax, word ptr [ebp+lparam]
mov     [ebp+var_c], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
and     byte ptr [esi+0d1h], 0feh
mov     [ebp+var_8], eax
lea     eax, [ebp+var_c]
mov     ecx, esi
push    eax
push    edi
call    sub_277dcb22
jmp     loc_277c75c8
push    2
jmp     short loc_277c768a
mov     edi, edx
jmp     short loc_277c768b
sub     eax, 3
jz      short loc_277c76d3
sub     eax, 3
jnz     loc_277bbbb8
push    4
jmp     loc_277bbbb7
push    2
jmp     loc_277bbbb7
mov     ecx, esi
call    sub_277d9bdb
jmp     loc_277bbc02
push    1
mov     ecx, esi
call    sub_277b5460
jmp     loc_277bbc3d
mov     eax, ecx
sub     eax, 203h
jz      short loc_277c773b
sub     eax, 3
jz      short loc_277c7737
sub     eax, 3
jnz     short loc_277c770a
push    4
pop     edi
push    edx
mov     ecx, esi
call    sub_277bf815
mov     edx, [esi+0d0h]
lea     eax, [esi+0d0h]
mov     ecx, edi
and     dh, 0feh
and     ecx, 7
push    edi
or      ecx, edx
mov     [eax], ecx
mov     ecx, esi
call    sub_277dcba7
jmp     def_277bbba1
push    2
jmp     short loc_277c7709
mov     edi, edx
jmp     short loc_277c770a
mov     eax, [esi]
mov     ebx, [ebp+wparam]
lea     ecx, [ebp+msg]
push    ecx
mov     ecx, esi
call    dword ptr [eax+8ch]
mov     eax, [esi]
lea     ecx, [ebp+lpprevwndfunc]
push    ecx
mov     ecx, esi
call    dword ptr [eax+94h]
mov     edi, ds:oletranslatecolor
lea     eax, [ebp+lparam]
push    eax
push    0
push    [ebp+msg]
call    edi
push    [ebp+lparam]
push    ebx
call    ds:setbkcolor
lea     eax, [ebp+lparam]
push    eax
push    0
push    [ebp+lpprevwndfunc]
call    edi
push    [ebp+lparam]
push    ebx
call    ds:settextcolor
mov     ecx, esi
call    sub_277dca67
jmp     loc_277bbad6
mov     eax, [esp+arg_0]
test    eax, eax
jz      locret_277bf7f0
mov     edx, [ecx+90h]
mov     ecx, [ecx+94h]
sub     [eax], edx
sub     [eax+4], ecx
jmp     locret_277bf7f0
push    ebx
movzx   ebx, word ptr [ebp+arg_0]
mov     [ebp+arg_0], ebx
not     [ebp+arg_0]
mov     ecx, [ebp+arg_0]
or      ecx, 0fffffff8h
and     ecx, eax
test    byte ptr [esi+126h], 80h
mov     [esi+0d0h], ecx
jz      short loc_277c77fc
push    [ebp+var_4]
push    [ebp+var_8]
call    sub_277dd0b6
movsx   eax, ax
push    eax
push    ebx
push    offset dword_2782bf10
push    esi
call    sub_277b9711
add     esp, 18h
test    byte ptr [esi+126h], 1
jz      short loc_277c7831
mov     eax, [esi+0d0h]
shr     eax, 3
and     eax, ebx
test    al, 7
jnz     short loc_277c7831
push    dword ptr [edi+4]
mov     ecx, esi
push    dword ptr [edi]
call    sub_277dcaad
test    eax, eax
jz      short loc_277c7831
push    offset dword_2782bee0
push    esi
call    sub_277b9711
pop     ecx
pop     ecx
mov     eax, [ebp+arg_0]
pop     ebx
shl     eax, 3
or      eax, 0ffffffc7h
and     [esi+0d0h], eax
jmp     loc_277bf7d0
push    60h
pop     edi
jmp     loc_277c29bb
mov     eax, esi
jmp     loc_277bd8a5
test    edi, edi
jl      loc_277bd8a3
mov     eax, [esi]
push    esi
call    dword ptr [eax+8]
jmp     loc_277bd8a3
mov     eax, [edi]
push    edi
call    dword ptr [eax+4]
jmp     loc_277bf962
test    esi, esi
jge     loc_277bf9b7
mov     eax, [edi]
push    edi
call    dword ptr [eax+8]
jmp     loc_277bf9b7
push    10h
mov     edi, edx
pop     ecx
mov     esi, offset dword_277b6118
xor     ebx, ebx
repe cmpsb
jnz     loc_277bd8c0
jmp     loc_277bd8e0
mov     eax, 80004002h
jmp     loc_277bd8f2
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
jmp     locret_277bd90f
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     locret_277bf9d6
xor     eax, eax
jmp     loc_277bd7f7
mov     ecx, [eax]
push    eax
mov     [esi+0ch], edi
call    dword ptr [ecx+8]
jmp     loc_277b58b4
mov     ecx, [eax]
push    eax
mov     [esi+14h], edi
call    dword ptr [ecx+8]
jmp     loc_277b58bf
mov     ecx, [eax]
push    eax
mov     [esi+8], edi
call    dword ptr [ecx+8]
jmp     loc_277b58ca
mov     ecx, [eax]
push    eax
mov     [esi+18h], edi
call    dword ptr [ecx+8]
jmp     loc_277b58d5
mov     ecx, [eax]
push    eax
mov     [esi+1ch], edi
call    dword ptr [ecx+8]
jmp     loc_277b58e0
push    eax
push    edi
push    dword_278282f0
call    ds:heapfree
mov     [esi+38h], edi
jmp     loc_277b58eb
mov     ecx, [eax]
push    eax
mov     [esi+14h], ebx
call    dword ptr [ecx+8]
jmp     loc_277b4489
mov     ecx, [eax]
push    eax
mov     [esi+8], ebx
call    dword ptr [ecx+8]
jmp     loc_277b4494
mov     ecx, [eax]
push    eax
mov     [esi+1ch], ebx
call    dword ptr [ecx+8]
jmp     loc_277b44a6
mov     eax, [esi+38h]
test    eax, eax
jz      loc_277b9a91
push    eax
push    0
push    dword_278282f0
call    ds:heapfree
and     dword ptr [esi+38h], 0
jmp     loc_277b9a91
push    17ch
call    sub_277de864
jmp     loc_277b6537
push    [ebp+arg_4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aoledragmode
push    edi
call    dword ptr [eax+0ch]
test    eax, eax
jge     short loc_277c7999
and     word ptr [ebp+pvarg.anonymous_0+8], 0
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
mov     ecx, [esi+2ch]
and     eax, 3
and     ecx, 0ffffffcfh
shl     eax, 4
or      eax, ecx
mov     [esi+2ch], eax
jmp     loc_277bb56a
xor     eax, eax
jmp     loc_277b5057
mov     eax, 8007000eh
jmp     loc_277b4fd7
cmp     dword ptr [esi+40h], 0
jle     short loc_277c79de
mov     eax, [esi+40h]
mov     ecx, [esi+3ch]
mov     eax, [ecx+eax*4-4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
dec     dword ptr [esi+40h]
jmp     short loc_277c79c3
push    dword ptr [esi+3ch]
push    0
push    dword_278282f0
call    ds:heapfree
jmp     loc_277b58fb
mov     eax, ebx
jmp     loc_277b5212
mov     eax, [esp+arg_4]
test    eax, eax
jz      short loc_277c7a10
cmp     word ptr [eax], 0
jz      short loc_277c7a10
xor     eax, eax
jmp     locret_277b6b7f
push    1
pop     eax
jmp     locret_277b6b7f
xor     ecx, ecx
cmp     [eax], cx
setz    cl
mov     eax, ecx
jmp     locret_277b6b7f
inc     eax
inc     eax
inc     edx
inc     edx
jmp     loc_277b6b62
mov     ebx, ds:lstrlenw
push    eax
call    ebx
push    [ebp+lpstring2]
lea     esi, [eax+eax+2]
call    ebx
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
lea     eax, [ebx+esi]
push    eax
call    sub_277b37aa
mov     eax, [ebp+lpmultibytestr]
push    edi
push    edi
push    esi
push    eax
lea     ecx, [eax+esi]
push    [ebp+cchcount1]
mov     esi, ds:widechartomultibyte
mov     [ebp+var_8], eax
mov     [ebp+arg_8], ecx
push    [ebp+lpstring1]
push    edi
push    edi
call    esi
push    edi
push    edi
push    ebx
mov     [ebp+lpstring1], eax
push    [ebp+arg_8]
push    [ebp+cchcount2]
push    [ebp+lpstring2]
push    edi
push    edi
call    esi
or      ecx, 0ffffffffh
cmp     [ebp+cchcount1], ecx
jnz     short loc_277c7a96
mov     [ebp+lpstring1], ecx
cmp     [ebp+cchcount2], ecx
jnz     short loc_277c7a9d
mov     eax, ecx
push    eax
push    [ebp+arg_8]
push    [ebp+lpstring1]
push    [ebp+var_8]
push    [ebp+dwcmpflags]
push    400h
call    ds:comparestringa
cmp     [ebp+lpmultibytestr], edi
mov     esi, eax
jz      loc_277c27fe
test    [ebp+var_c], 1
jz      loc_277c27fe
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
jmp     loc_277c27fe
push    3
pop     eax
jmp     loc_277c2800
mov     eax, [ebp+lpstring2]
cmp     eax, edi
jz      short loc_277c7afd
cmp     [eax], di
jz      short loc_277c7afd
push    1
jmp     short loc_277c7ae7
push    2
jmp     short loc_277c7ae7
push    offset libfilename
call    ds:loadlibrarya
cmp     dword_2782c2ec, 0
mov     edi, eax
jnz     loc_277b353d
test    edi, edi
jz      loc_277c7bf4
mov     esi, ds:getprocaddress
push    offset aimmcreateconte
push    edi
call    esi
test    eax, eax
mov     dword_2782c2f0, eax
jz      loc_277c7bf4
push    offset aimmdestroycont
push    edi
call    esi
test    eax, eax
mov     dword_2782c2f4, eax
jz      loc_277c7bf4
push    offset aimmnotifyime
push    edi
call    esi
test    eax, eax
mov     dword_2782c2cc, eax
jz      loc_277c7bf4
push    offset aimmassociateco
push    edi
call    esi
test    eax, eax
mov     dword_2782c2d0, eax
jz      short loc_277c7bf4
push    offset aimmreleasecont
push    edi
call    esi
test    eax, eax
mov     dword_2782c2d4, eax
jz      short loc_277c7bf4
push    offset aimmgetcontext
push    edi
call    esi
test    eax, eax
mov     dword_2782c2d8, eax
jz      short loc_277c7bf4
push    offset aimmgetcomposit
push    edi
call    esi
test    eax, eax
mov     dword_2782c2dc, eax
jz      short loc_277c7bf4
push    offset aimmgetcomposit_0
push    edi
call    esi
test    eax, eax
mov     dword_2782c2e0, eax
jz      short loc_277c7bf4
push    offset aimmsetcomposit
push    edi
call    esi
test    eax, eax
mov     dword_2782c2e4, eax
jz      short loc_277c7bf4
push    offset aimmsetcomposit_0
push    edi
call    esi
test    eax, eax
mov     dword_2782c2e8, eax
jz      short loc_277c7bf4
push    offset aimmsetcandidat
push    edi
call    esi
test    eax, eax
mov     dword_2782c2ec, eax
jnz     loc_277b353d
and     dword_2782a150, 0
jmp     loc_277b353d
push    5
call    sub_277b30df
mov     dword_2782a854, eax
jmp     loc_277b30a1
xor     eax, eax
jmp     loc_277b4d68
push    offset amonitorfromrec
push    edi
call    esi
cmp     eax, ebx
mov     dword_2782a0e8, eax
jz      loc_277b341d
push    offset amonitorfrompoi
push    edi
call    esi
cmp     eax, ebx
mov     dword_2782a0ec, eax
jz      loc_277b341d
push    offset aenumdisplaymon
push    edi
call    esi
cmp     eax, ebx
mov     dword_2782a0f4, eax
jz      loc_277b341d
push    offset agetmonitorinfo
push    edi
call    esi
cmp     eax, ebx
mov     dword_2782a0f0, eax
jz      loc_277b341d
mov     esi, ds:getsystemmetrics
push    4eh
call    esi
push    ebx
mov     edi, eax
call    esi
cmp     edi, eax
jl      loc_277b341d
push    4fh
call    esi
push    ebp
mov     edi, eax
call    esi
cmp     edi, eax
jl      loc_277b341d
mov     dword_2782a0f8, ebp
mov     eax, ebp
jmp     loc_277b33d8
push    [esp+nindex]
call    dword_2782a0e0
jmp     locret_277b33bc
cmp     eax, 4dh
jle     short loc_277c7ce5
cmp     eax, 4eh
jz      short loc_277c7cde
cmp     eax, 4fh
jz      short loc_277c7cd6
jle     loc_277b33b5
cmp     eax, 51h
jg      loc_277b33b5
push    1
pop     eax
jmp     locret_277b33bc
push    1
pop     eax
jmp     loc_277b33b5
xor     eax, eax
jmp     loc_277b33b5
xor     eax, eax
jmp     locret_277b33bc
push    eax
call    ds:iswindow
test    eax, eax
jnz     short loc_277c7cfd
and     [esi+18h], eax
and     [esi+30h], eax
push    dword ptr [esi+18h]
call    ds:getparent
cmp     eax, [esi+4]
jz      loc_277b8800
and     dword ptr [esi+18h], 0
and     dword ptr [esi+30h], 0
jmp     loc_277b8800
push    3
push    dword ptr [esi]
call    ds:getwindow
mov     [esi+18h], eax
jmp     loc_277b873c
test    al, 0ch
jz      loc_277b8778
mov     [ebp+arg_0], 1
jmp     loc_277b877c
cmp     dword ptr [ebx+30h], 1
jz      short loc_277c7d56
push    0ffffffech
push    ecx
call    ds:getwindowlonga
test    ah, 2
jz      short loc_277c7d5a
or      dword ptr [ebx+1ch], 10h
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx+18h]
call    ds:getwindowrect
cmp     dword ptr [ebx+30h], 1
jz      short loc_277c7d80
push    0fffffff0h
push    dword ptr [ebx+18h]
call    ds:getwindowlonga
test    edi, eax
jz      loc_277b8792
mov     eax, [ebx+1ch]
push    0
test    al, 10h
pop     ecx
mov     edi, ds:setwindowlonga
setnz   cl
inc     ecx
or      al, 8
imul    ecx, w
and     byte ptr [ebx+0ah], 7fh
push    dword ptr [ebx+8]
mov     [ebp+var_4], ecx
mov     [ebx+1ch], eax
push    0fffffff0h
push    dword ptr [ebx]
call    edi
push    0ffffffech
push    dword ptr [ebx]
call    ds:getwindowlonga
and     ah, 0fdh
push    eax
push    0ffffffech
push    dword ptr [ebx]
call    edi
jmp     loc_277b8792
lea     esi, [ebp+rect]
lea     edi, [ebp+var_28]
mov     eax, [ebp+var_4]
movsd
sub     eax, w
movsd
add     eax, dword_2782a074
test    byte ptr [ebx+8], 8
movsd
mov     [ebp+arg_0], eax
movsd
jz      short loc_277c7e15
mov     ecx, eax
sub     ecx, [ebp+var_4]
add     ecx, edx
add     eax, edx
mov     [ebp+rect.right], eax
mov     eax, [ebp+var_20]
push    1
sub     eax, ecx
push    [ebp+cy]
push    eax
push    [ebp+y]
push    ecx
push    dword ptr [ebx+18h]
call    ds:movewindow
mov     edx, [ebp+rect.left]
jmp     loc_277b87d2
sub     ecx, eax
mov     eax, [ebp+var_4]
add     eax, ecx
mov     [ebp+rect.left], ecx
mov     ecx, [ebp+var_28]
jmp     short loc_277c7df8
cmp     [ebp+arg_c], eax
jz      loc_277b8911
mov     ecx, [ebp+arg_4]
cmp     ecx, [ebp+arg_8]
ja      loc_277b8919
jb      loc_277b891f
jmp     loc_277b8924
mov     eax, edi
mov     edi, ebx
mov     ebx, eax
jmp     loc_277b88b4
test    byte ptr [esi+1ch], 4
push    0
pop     eax
setnz   al
inc     eax
push    eax
push    edi
push    dword ptr [esi+2ch]
push    esi
call    sub_277b88f4
test    eax, eax
jl      short loc_277c7e8f
test    byte ptr [esi+1ch], 4
push    0
pop     eax
setnz   al
inc     eax
push    eax
push    ebx
push    dword ptr [esi+2ch]
push    esi
call    sub_277b88f4
test    eax, eax
jle     loc_277b88e4
mov     [esi+2ch], edi
jmp     loc_277b88e8
mov     [esi+2ch], ebx
jmp     loc_277b88e8
xor     eax, eax
jmp     loc_277c3b1d
push    2
and     edi, ebx
push    0fffffffch
and     al, 0fdh
push    dword ptr [esi]
mov     [ebp+var_4], ebx
shl     edi, 1
or      edi, eax
push    800eh
mov     [esi+1ch], edi
call    sub_277b8949
jmp     loc_277c3b57
test    byte ptr [edi+8], 2
jz      loc_277c3a8d
cmp     dword ptr [edi+30h], 2
jnz     short loc_277c7ef2
push    0
push    0
push    188h
push    eax
call    ds:sendmessagea
mov     [edi+2ch], eax
push    edi
call    sub_277b888a
mov     [ebp+var_c], eax
jmp     loc_277c3a8d
lea     ecx, [ebp+string]
push    12h
push    ecx
push    eax
call    ds:getwindowtexta
cmp     dword ptr [edi+20h], 10h
jz      short loc_277c7f60
lea     eax, [ebp+lcdata]
push    eax
call    sub_277e223b
cmp     [ebp+string], 2dh
jnz     short loc_277c7f1a
or      ebx, 0ffffffffh
lea     esi, [ebp+var_1f]
and     [ebp+var_8], 0
mov     al, [esi]
test    al, al
jz      short loc_277c7f57
cmp     al, [ebp+lcdata]
mov     byte ptr [ebp+arg_0], al
jnz     short loc_277c7f3b
push    esi
call    ds:lstrlena
cmp     eax, 4
jz      short loc_277c7f54
mov     al, byte ptr [ebp+arg_0]
add     al, 0d0h
cmp     al, 9
ja      loc_277c3a8d
mov     ecx, [ebp+var_8]
movsx   eax, al
lea     ecx, [ecx+ecx*4]
lea     eax, [eax+ecx*2]
mov     [ebp+var_8], eax
inc     esi
jmp     short loc_277c7f1e
imul    ebx, [ebp+var_8]
mov     [edi+2ch], ebx
jmp     short loc_277c7ee4
cmp     [ebp+string], 78h
jz      short loc_277c7f9e
cmp     [ebp+string], 58h
jz      short loc_277c7f9e
cmp     [ebp+string], 30h
jnz     short loc_277c7f81
cmp     [ebp+var_1f], 78h
jz      short loc_277c7f7e
cmp     [ebp+var_1f], 58h
jnz     short loc_277c7f81
lea     esi, [ebp+var_1e]
xor     ecx, ecx
mov     al, [esi]
test    al, al
jz      short loc_277c7fc3
cmp     al, 41h
jl      short loc_277c7fa3
cmp     al, 46h
jg      short loc_277c7fa3
sub     al, 37h
movsx   eax, al
shl     ecx, 4
add     ecx, eax
inc     esi
jmp     short loc_277c7f83
lea     esi, [ebp+var_1f]
jmp     short loc_277c7f81
cmp     al, 61h
jl      short loc_277c7faf
cmp     al, 66h
jg      short loc_277c7faf
sub     al, 57h
jmp     short loc_277c7f93
cmp     al, 30h
jl      loc_277c3a8d
cmp     al, 39h
jg      loc_277c3a8d
sub     al, 30h
jmp     short loc_277c7f93
mov     [edi+2ch], ecx
jmp     loc_277c7ee4
test    byte ptr [esi+8], 2
jz      loc_277b882a
cmp     dword_2782c2f8, ebx
jz      short loc_277c7feb
push    esi
call    sub_277c3a67
cmp     edi, eax
jz      loc_277b882a
mov     [esi+2ch], edi
inc     dword_2782c2f8
cmp     dword ptr [esi+30h], 2
jnz     short loc_277c803c
push    ebx
push    edi
mov     edi, ds:sendmessagea
push    186h
push    dword ptr [esi+18h]
call    edi
mov     eax, [esi+18h]
push    eax
push    eax
call    ds:getdlgctrlid
movzx   eax, ax
or      eax, 10000h
push    eax
push    111h
push    dword ptr [esi+18h]
call    ds:getparent
push    eax
call    edi
dec     dword_2782c2f8
jmp     loc_277b882a
cmp     dword ptr [esi+20h], 10h
jz      loc_277c80cf
cmp     edi, ebx
jge     short loc_277c8056
lea     eax, [ebp+var_17]
mov     [ebp+string], 2dh
mov     [ebp+var_4], eax
neg     edi
mov     ebx, 3e8h
cmp     edi, ebx
jl      short loc_277c80be
test    byte ptr [esi+8], 80h
jnz     short loc_277c80be
lea     eax, [ebp+lcdata]
push    eax
call    sub_277e223b
mov     eax, edi
cdq
idiv    ebx
mov     ebx, ds:wsprintfa
push    eax
push    offset ad_7
push    [ebp+var_4]
call    ebx
mov     ecx, [ebp+var_4]
add     esp, 0ch
add     ecx, eax
mov     al, [ebp+lcdata]
test    al, al
jz      short loc_277c8096
mov     [ecx], al
inc     ecx
mov     eax, edi
mov     edi, 3e8h
cdq
idiv    edi
push    edx
push    offset a03d
push    ecx
call    ebx
add     esp, 0ch
lea     eax, [ebp+string]
push    eax
push    dword ptr [esi+18h]
call    ds:setwindowtexta
jmp     loc_277c8031
push    edi
push    offset ad_1
push    [ebp+var_4]
call    ds:wsprintfa
jmp     short loc_277c80a9
push    edi
lea     eax, [ebp+string]
push    offset a0x04x
push    eax
jmp     short loc_277c80c7
dec     ecx
sub     edx, 8
test    ecx, ecx
jl      loc_277c3bad
jmp     loc_277c3ba1
neg     edi
mov     [ebp+var_4], ecx
jmp     loc_277c3be6
add     [esi+2ch], edi
jmp     loc_277c3c13
shl     eax, 10h
or      al, 4
push    eax
push    114h
jmp     loc_277c3c48
cmp     [ebp+arg_0], edi
jz      loc_277b8711
push    0
push    ebx
push    [ebp+arg_0]
call    sub_278121f8
jmp     loc_277b8711
test    byte ptr [esi+8], 20h
jz      short loc_277c8137
push    esi
push    0
push    ebx
push    edi
call    sub_27812153
lea     eax, [ebp+classname]
push    0ah
push    eax
push    edi
call    ds:getclassnamea
mov     edi, ds:lstrcmpia
lea     eax, [ebp+classname]
push    offset string2
push    eax
call    edi
test    eax, eax
jnz     short loc_277c8165
mov     dword ptr [esi+30h], 1
jmp     loc_277b871d
lea     eax, [ebp+classname]
push    offset alistbox
push    eax
call    edi
test    eax, eax
jnz     loc_277b871d
mov     dword ptr [esi+30h], 2
jmp     loc_277b871d
and     [ebp+arg_0], 0
jmp     loc_277b8ab1
cmp     [ebp+arg_0], 0
jz      short loc_277c81a6
push    eax
call    esi
test    eax, eax
jz      short loc_277c81a6
mov     [ebp+arg_0], 1
jmp     loc_277b8abc
and     [ebp+arg_0], 0
jmp     loc_277b8abc
lea     eax, [ebp+hdc]
push    eax
push    dword ptr [ebx]
call    ds:beginpaint
jmp     loc_277b8aca
test    al, 10h
jz      loc_277b8ae1
mov     eax, [ebx+8]
mov     ecx, eax
and     eax, 8
or      eax, 10050h
and     ecx, 4
shr     eax, 3
or      ecx, eax
lea     eax, [ebp+rect]
push    ecx
push    0ah
push    eax
push    [ebp+hdc]
call    ds:drawedge
jmp     loc_277b8ae1
push    2
pop     ecx
test    [ebx+1ch], cl
jz      short loc_277c81ff
mov     ecx, 202h
xor     eax, eax
mov     edi, 100h
cmp     [ebp+arg_0], eax
jnz     short loc_277c820d
or      ecx, edi
cmp     dword_27829f4c, eax
jnz     short loc_277c821d
cmp     dword_2782a854, eax
jz      short loc_277c8226
cmp     dword ptr [ebx+58h], 1
jnz     short loc_277c8226
or      ch, 10h
mov     eax, [ebp+rect.right]
mov     edx, [ebp+rect.left]
add     eax, edx
mov     esi, ds:drawframecontrol
cdq
sub     eax, edx
push    ecx
sar     eax, 1
mov     [ebp+var_10.right], eax
lea     eax, [ebp+var_10]
push    3
push    eax
push    [ebp+hdc]
call    esi
test    byte ptr [ebx+1ch], 1
push    3
pop     ecx
jz      short loc_277c8256
mov     ecx, 203h
xor     eax, eax
cmp     [ebp+arg_0], eax
jnz     short loc_277c825f
or      ecx, edi
cmp     dword_27829f4c, eax
jnz     short loc_277c826f
cmp     dword_2782a854, eax
jz      short loc_277c8278
cmp     dword ptr [ebx+58h], 2
jnz     short loc_277c8278
or      ch, 10h
mov     eax, [ebp+rect.right]
mov     edx, eax
sub     edx, [ebp+var_10.right]
mov     [ebp+var_10.right], eax
add     [ebp+var_10.left], edx
jmp     loc_277b8b89
mov     ecx, 200h
jmp     loc_277b8b03
or      ecx, edi
jmp     loc_277b8b11
cmp     dword ptr [ebx+58h], 2
jnz     loc_277b8b29
or      ch, 10h
jmp     loc_277b8b29
mov     ecx, 201h
jmp     loc_277b8b58
or      ecx, edi
jmp     loc_277b8b63
cmp     dword ptr [ebx+58h], 1
jnz     loc_277b8b7b
or      ch, 10h
jmp     loc_277b8b7b
lea     eax, [ebp+hdc]
push    eax
push    dword ptr [ebx]
call    ds:endpaint
jmp     loc_277b8b9f
mov     eax, [ebp+rect.right]
cdq
sub     eax, edx
sar     eax, 1
cmp     [ebp+arg_4], eax
jl      short loc_277c82fc
jg      loc_277c3ad8
xor     eax, eax
jmp     loc_277c3adb
push    1
jmp     loc_277c3ada
mov     eax, [esi+1ch]
test    al, 40h
jnz     loc_277b8369
or      al, 40h
mov     [ebp+var_10], 10h
mov     [esi+1ch], eax
mov     eax, [esi]
mov     [ebp+point.x], eax
lea     eax, [ebp+var_10]
push    eax
mov     [ebp+var_c], 2
call    sub_27812acf
jmp     loc_277b8369
or      dword ptr [esi+1ch], 20h
jmp     loc_277b83e3
or      eax, 0ffffffffh
jmp     loc_277b83a3
or      dword ptr [esi+1ch], 10h
jmp     loc_277b8429
cmp     esi, ebx
jz      loc_277b8626
mov     eax, [ebp+wparam]
cmp     eax, ebx
jz      short loc_277c836b
cmp     eax, 2ah
jz      short loc_277c836b
cmp     eax, 22h
jnz     loc_277b8626
push    eax
call    sub_277b3170
push    esi
call    sub_277e21c6
push    esi
call    sub_277b8740
jmp     loc_277b8626
push    [ebp+lparam]
push    esi
call    sub_278112e5
jmp     loc_277b83a3
call    ds:getcapture
cmp     eax, [ebp+hwnd]
jnz     loc_277b8521
push    ebx
push    64h
push    1
push    [ebp+hwnd]
call    ds:settimer
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getwindowrect
test    byte ptr [esi+8], 40h
jz      short loc_277c8431
mov     eax, [ebp+rect.left]
mov     ecx, [ebp+rect.right]
add     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
cmp     [esi+34h], ebx
jz      short loc_277c842c
mov     [ebp+rect.right], eax
mov     eax, dword_2782a064
inc     eax
cdq
sub     eax, edx
sar     eax, 1
push    eax
mov     eax, dword_2782a05c
inc     eax
cdq
sub     eax, edx
sar     eax, 1
push    eax
lea     eax, [ebp+rect]
push    eax
call    ds:inflaterect
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
push    [ebp+point.y]
lea     eax, [ebp+rect]
push    [ebp+point.x]
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277c844d
mov     eax, [esi+34h]
xor     ecx, ecx
cmp     eax, ebx
push    eax
setz    cl
push    ecx
push    esi
call    sub_277c3ae0
jmp     loc_277b85f3
mov     [ebp+rect.left], eax
jmp     short loc_277c83d5
mov     eax, [ebp+rect.top]
mov     ecx, [ebp+rect.bottom]
add     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
cmp     [esi+34h], ebx
jz      short loc_277c8448
mov     [ebp+rect.top], eax
jmp     short loc_277c83d5
mov     [ebp+rect.bottom], eax
jmp     short loc_277c83d5
push    ebx
push    ebx
push    esi
call    sub_277c3ae0
jmp     loc_277b8626
push    eax
call    ds:iswindowenabled
test    eax, eax
jz      loc_277b8626
jmp     loc_277b8512
push    0ffffffffh
push    ebx
push    0b1h
push    dword ptr [esi+18h]
call    edi
jmp     loc_277b854b
shl     eax, 10h
or      al, 8
push    eax
push    114h
jmp     loc_277b8566
push    eax
call    ds:iswindowenabled
test    eax, eax
jz      loc_277b8626
jmp     loc_277b8581
cmp     eax, 2
ja      loc_277b859b
push    dword ptr [esi+18h]
call    ds:setfocus
jmp     loc_277b859b
push    edi
mov     [esi+34h], edi
push    ebx
jmp     loc_277b85c7
mov     [ebp+wparam], ebx
jmp     loc_277b85cd
push    [ebp+lparam]
push    esi
call    sub_277e256a
jmp     loc_277b8626
and     dword ptr [esi+1ch], 0ffffffbfh
push    ebx
push    dword ptr [esi+58h]
push    esi
call    sub_277e2500
mov     [esi+58h], ebx
jmp     loc_277b8626
mov     eax, [ebp+lparam]
mov     [esi+24h], eax
mov     eax, [ebp+wparam]
mov     [esi+28h], eax
jmp     loc_277b8626
mov     eax, [ebp+lparam]
cmp     eax, ebx
jz      short loc_277c850e
mov     ecx, [esi+24h]
mov     [eax], ecx
mov     eax, [ebp+wparam]
cmp     eax, ebx
jz      loc_277b8626
mov     ecx, [esi+28h]
mov     [eax], ecx
jmp     loc_277b8626
movzx   ecx, word ptr [esi+28h]
movzx   eax, word ptr [esi+24h]
shl     ecx, 10h
or      eax, ecx
jmp     loc_277b83a3
push    [ebp+wparam]
push    esi
call    sub_277e244a
jmp     loc_277b83a3
mov     eax, [esi+20h]
jmp     loc_277b83a3
call    sub_277b88f4
test    eax, eax
jle     short loc_277c8557
mov     edi, [esi+24h]
push    ebx
push    dword ptr [esi+28h]
push    edi
push    esi
call    sub_277b88f4
test    eax, eax
jge     loc_277b8664
jmp     loc_277b868f
push    esi
call    sub_277c3a67
jmp     loc_277b83a3
push    [ebp+wparam]
push    esi
call    sub_277b86dd
jmp     loc_277b83a3
mov     eax, [esi+18h]
jmp     loc_277b83a3
lea     eax, ds:44h[edi*8]
push    2
push    eax
push    esi
call    ds:localrealloc
mov     esi, eax
cmp     esi, ebx
jz      loc_277b8626
push    esi
push    ebx
push    [ebp+hwnd]
call    ds:setwindowlonga
test    byte ptr [esi+8], 20h
jz      loc_277b86a4
mov     eax, [esi+18h]
cmp     eax, ebx
jz      loc_277b86a4
push    esi
push    ebx
push    offset sub_277e225e
push    eax
call    sub_27812153
jmp     loc_277b86a4
mov     eax, [esi+3ch]
mov     edx, [ebp+wparam]
cmp     edx, eax
jbe     short loc_277c85e9
mov     edx, eax
cmp     edx, ebx
jle     short loc_277c8606
mov     ecx, [ebp+lparam]
lea     eax, [esi+40h]
mov     edi, [eax]
add     eax, 8
mov     [ecx], edi
mov     edi, [eax-4]
mov     [ecx+4], edi
add     ecx, 8
dec     edx
jnz     short loc_277c85f3
mov     eax, [esi+3ch]
jmp     loc_277b83a3
mov     ecx, [ebp+wparam]
mov     eax, [esi+10h]
mov     [esi+10h], ecx
jmp     loc_277b83a3
mov     eax, [esi+10h]
jmp     loc_277b83a3
push    1
pop     eax
jmp     loc_277b62fd
push    1
pop     eax
jmp     loc_277bb847
xor     eax, eax
jmp     loc_277bb847
push    eax
call    ds:charnexta
jmp     loc_277bc780
and     dword ptr [esi+0b0h], 0
jmp     loc_277bc7a7
xor     eax, eax
jmp     loc_277bc8f9
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:beginpaint
push    eax
push    esi
call    sub_277be71b
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:endpaint
pop     esi
jmp     locret_277be717
push    edx
push    esi
push    edi
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_277bbe66
lea     eax, [ebp+var_4]
push    eax
push    edx
push    esi
push    edi
push    [ebp+hwnd]
push    ebx
call    sub_277eac34
test    eax, eax
jnz     loc_277bbe63
mov     edx, [ebp+lparam]
jmp     loc_277bbca8
push    eax
push    dword ptr [ebx]
call    ds:killtimer
and     dword ptr [ebx+488h], 0
jmp     loc_277bbdee
push    offset aintl
push    edx
call    ds:lstrcmpia
test    eax, eax
jnz     loc_277bbe63
lea     eax, [ebx+18h]
push    eax
push    ebx
call    sub_277bc730
push    1
jmp     loc_277bc39e
sub     esi, 10h
jz      short loc_277c8706
dec     esi
jnz     loc_277bbe63
and     dword ptr [ebx+68ch], 0
jmp     loc_277bbe63
and     dword ptr [ebx+690h], 0
jmp     loc_277bbe63
push    edx
push    esi
push    ebx
call    sub_277ea922
jmp     loc_277bbe63
push    esi
push    ebx
call    sub_277e9ec2
jmp     loc_277bbe63
push    edx
push    esi
push    ebx
call    sub_277ea27e
jmp     loc_277bbe63
test    byte ptr [ebx+694h], 4
jnz     loc_277bbe63
push    dword ptr [ebx]
call    ds:setcapture
mov     eax, [ebp+lparam]
mov     esi, ds:ptinrect
movsx   edi, ax
shr     eax, 10h
or      byte ptr [ebx+694h], 4
movsx   eax, ax
mov     [ebp+rect.bottom], eax
push    eax
lea     eax, [ebx+498h]
push    edi
push    eax
call    esi
mov     cx, [ebx+694h]
and     eax, 1
and     ecx, 0fff7h
shl     eax, 3
or      ecx, eax
test    cl, 8
mov     [ebx+694h], cx
jnz     short loc_277c87aa
push    [ebp+rect.bottom]
lea     eax, [ebx+4a8h]
push    edi
push    eax
call    esi
test    eax, eax
jz      loc_277bbe63
push    1
jmp     loc_277c8720
push    edx
push    esi
push    ebx
call    sub_277ea38b
jmp     loc_277bbe63
push    edx
push    esi
push    ebx
call    sub_277ea790
jmp     loc_277bbe63
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
jmp     loc_277bbf24
mov     eax, [ebp+lparam]
mov     cx, [ebx+3fch]
mov     [eax+8], cx
mov     cx, [ebx+3feh]
mov     [eax+0ah], cx
mov     cx, [ebx+400h]
mov     [eax+0ch], cx
jmp     loc_277bc0de
mov     ax, [ebx+40ch]
mov     [esi+8], ax
mov     ax, [ebx+40eh]
mov     [esi+0ah], ax
mov     ax, [ebx+410h]
mov     [esi+0ch], ax
jmp     loc_277bc0ec
mov     esi, [ebp+lparam]
lea     edi, [ebp+var_24]
movsd
movsd
movsd
movsd
mov     esi, [ebp+wparam]
lea     edi, [ebp+rect]
movsd
movsd
movsd
lea     eax, [ebp+rect]
mov     [ebp+hwnd], eax
lea     eax, [ebp+var_24]
movsd
mov     [ebp+wparam], eax
mov     esi, eax
jmp     loc_277bc0fd
mov     eax, [ebp+lparam]
lea     esi, [ebx+464h]
mov     edi, eax
movsd
movsd
movsd
movsd
lea     esi, [ebx+474h]
jmp     loc_277bc241
push    edx
push    ebx
call    sub_277e98a5
jmp     loc_277bbe66
cmp     esi, 6
jnb     short loc_277c8889
mov     eax, [ebx+esi*4+384h]
jmp     loc_277bbe66
or      eax, 0ffffffffh
jmp     loc_277bbe66
and     word ptr [ebx+694h], 0fdffh
jmp     loc_277bc392
push    edx
push    ebx
call    sub_277e9dea
jmp     loc_277bbe63
test    edx, edx
jz      loc_277bbef9
lea     esi, [ebx+3e4h]
mov     edi, edx
movsd
movsd
movsd
movsd
jmp     loc_277bbd5c
test    edx, edx
jz      loc_277bbe63
lea     esi, [ebx+3c0h]
mov     edi, edx
movsd
movsd
movsd
movsd
lea     esi, [ebx+3d0h]
lea     edi, [edx+10h]
movsd
movsd
movsd
add     ebx, 694h
movsd
test    byte ptr [ebx+1], 8
jz      short loc_277c88f8
mov     [ebp+var_4], 1
test    byte ptr [ebx+1], 10h
jz      loc_277bbe63
or      [ebp+var_4], 2
jmp     loc_277bbe63
mov     eax, [ebp+lparam]
mov     cx, [ebx+3ech]
mov     [eax+8], cx
mov     cx, [ebx+3eeh]
mov     [eax+0ah], cx
mov     cx, [ebx+3f0h]
mov     [eax+0ch], cx
jmp     loc_277bc41a
mov     eax, [ebp+lparam]
mov     cx, [ebx+3ech]
mov     [eax+18h], cx
mov     cx, [ebx+3eeh]
mov     [eax+1ah], cx
mov     cx, [ebx+3f0h]
mov     [eax+1ch], cx
jmp     loc_277bc432
mov     esi, ebx
lea     edi, [ebp+var_24]
movsd
movsd
movsd
movsd
mov     esi, [ebp+lparam]
mov     edi, ebx
movsd
movsd
movsd
movsd
mov     edi, [ebp+lparam]
lea     esi, [ebp+var_24]
movsd
movsd
movsd
movsd
jmp     loc_277bbf6d
test    byte ptr [ebx+695h], 20h
jz      short loc_277c8992
mov     eax, [ebx+688h]
jmp     loc_277bbe60
mov     eax, [ebx+484h]
jmp     loc_277bbe60
mov     eax, [ebx+10h]
mov     [ebx+10h], esi
jmp     loc_277bbe66
mov     eax, [ebx+10h]
jmp     loc_277bbe66
or      eax, 0ffffffffh
jmp     loc_277bc716
push    11h
call    ds:getstockobject
jmp     loc_277bc67f
mov     [ebp+var_e], 1
jmp     loc_277bc6c7
push    0
push    0
push    0fffh
push    dword ptr [esi]
call    ds:postmessagea
jmp     loc_277bf512
mov     [ebp+var_4], eax
jmp     loc_277bcb44
mov     [ebp+var_4], eax
jmp     loc_277bcb9a
mov     eax, [edx+5b4h]
mov     ecx, [esp+8+arg_4]
inc     eax
mov     [ecx], eax
mov     eax, [edx+5bch]
jmp     loc_277bf0f3
or      edx, 10h
jmp     loc_277bf20b
or      dh, 1
jmp     loc_277bf20b
inc     [ebp+var_2c]
mov     [ebp+arg_0], 1
jmp     loc_277be876
test    byte ptr [ebx+694h], 8
jz      loc_277be9c4
push    1
pop     eax
jmp     loc_277be9c4
test    byte ptr [ebx+694h], 8
jnz     loc_277be9ed
push    1
pop     eax
jmp     loc_277be9ef
mov     eax, [ebx+ecx*4+5d8h]
push    7
add     eax, edx
pop     edi
sub     eax, esi
add     eax, 6
cdq
idiv    edi
mov     [ebp+var_14], eax
jmp     loc_277bec28
dec     [ebp+arg_10]
mov     [ebp+arg_c], 0ch
jmp     loc_277bec3e
inc     ecx
push    1
mov     [ebp+arg_14], ecx
pop     eax
mov     ecx, [ebx+ecx*4+5d4h]
mov     [ebp+arg_0], eax
mov     [ebp+var_30], ecx
mov     [ebp+var_18], eax
jmp     loc_277bec46
push    [ebp+var_54]
jmp     loc_277bec59
cmp     [ebp+arg_8], 0
jnz     loc_277bef04
push    dword ptr [ebx+380h]
push    edi
call    ds:selectobject
mov     [ebp+arg_8], 1
jmp     loc_277bef04
push    dword ptr [ebx+37ch]
push    edi
call    ds:selectobject
and     [ebp+arg_8], 0
jmp     loc_277bef04
mov     esi, [ebp+rc.right]
mov     eax, esi
sub     eax, [ebp+rc.left]
cdq
sub     eax, edx
mov     edi, eax
sar     edi, 1
add     edi, [ebp+rc.left]
jmp     loc_277bee6c
mov     edi, [ebp+rc.left]
mov     eax, [ebp+rc.right]
sub     eax, edi
cdq
sub     eax, edx
mov     esi, eax
sar     esi, 1
add     esi, edi
jmp     loc_277bee6c
mov     edi, [ebp+rc.left]
mov     esi, [ebp+rc.right]
jmp     loc_277bee6c
test    esi, esi
jz      loc_277bef1e
mov     eax, [ebp+rc.bottom]
dec     eax
inc     esi
push    eax
mov     eax, [ebp+rc.top]
add     eax, 2
push    esi
push    eax
push    edi
push    [ebp+hdc]
call    ds:rectangle
jmp     loc_277bef1e
mov     eax, [ebp+arg_14]
cmp     eax, [ebp+var_58]
jle     loc_277befbf
jmp     loc_277beca9
inc     [ebp+arg_10]
mov     [ebp+arg_c], eax
jmp     loc_277befe1
add     esi, 404h
lea     eax, [ebp+var_10]
push    esi
push    eax
call    sub_277be055
cmp     edi, 1
jnz     short loc_277c8b79
cmp     eax, 0ffffffffh
jnz     short loc_277c8b79
push    4
jmp     loc_277bf0c3
test    edi, edi
jnz     short loc_277c8b80
push    1
pop     ebx
test    eax, eax
jnz     loc_277bf0b8
or      ebx, 2
jmp     loc_277bf0b8
push    1
pop     eax
jmp     locret_277bf06f
push    eax
push    dword ptr [esi]
call    edi
jmp     loc_277c004c
mov     [ecx+494h], edx
jmp     loc_277bcd7b
cmp     edx, eax
jle     short loc_277c8bbd
dec     edx
mov     [ecx+490h], edx
jmp     loc_277bcd83
dec     eax
mov     [ecx+494h], eax
jmp     loc_277bcd83
add     eax, edi
push    2
neg     eax
push    eax
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebp+var_10]
push    eax
call    sub_277bd1d8
xor     eax, eax
jmp     loc_277bd995
add     edi, eax
movzx   eax, word ptr [esi+466h]
dec     eax
cmp     edi, eax
jl      loc_277bd99d
mov     [ebp+var_e], 1
jmp     loc_277bd99d
mov     eax, [edi]
sub     eax, [ebp+psizl._cx]
jmp     loc_277bd653
inc     [ebp+var_8]
mov     [ebp+arg_0], 1
jmp     loc_277bd663
sub     eax, ecx
push    2
push    eax
push    edi
push    edi
call    sub_277bd1d8
jmp     loc_277bce91
mov     ax, [ebx]
mov     [edi], ax
mov     ax, [esi+3c2h]
mov     [edi+2], ax
mov     ax, [esi+3c6h]
mov     [edi+6], ax
jmp     loc_277bce9e
mov     [esi+484h], eax
jmp     loc_277bceae
mov     ax, [esi+3c6h]
mov     [esi+46ah], ax
jmp     loc_277bced7
dec     [ebp+arg_0]
push    0ch
pop     edi
jmp     loc_277bceeb
mov     ax, [esi+3d6h]
mov     [esi+47ah], ax
jmp     loc_277bd044
dec     eax
mov     word ptr [ecx], 0ch
mov     [esi+444h], ax
jmp     loc_277bd066
inc     eax
mov     word ptr [ecx], 1
mov     [esi+454h], ax
jmp     loc_277bd09c
push    dword ptr [esi]
call    ds:getparent
test    eax, eax
jz      loc_277be31a
push    edi
push    0bh
pop     ecx
xor     eax, eax
lea     edi, [ebp+lparam]
rep stosd
mov     ax, [esi+3f4h]
test    byte ptr [esi+8], 2
mov     [ebp+var_20], ax
mov     ax, [esi+3f6h]
mov     [ebp+var_1e], ax
mov     ax, [esi+3fah]
mov     [ebp+var_1a], ax
jz      short loc_277c8d0f
mov     ax, [esi+404h]
mov     [ebp+var_10], ax
mov     ax, [esi+406h]
mov     [ebp+var_e], ax
mov     ax, [esi+40ah]
mov     [ebp+var_a], ax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277b9838
pop     edi
jmp     loc_277be31a
mov     esi, [ecx+3a4h]
add     esi, 6
imul    esi, edx
add     [eax], esi
add     [eax+8], esi
jmp     loc_277bd4e1
mov     ecx, [ecx+3a8h]
add     ecx, 6
imul    ecx, edi
add     [eax+4], ecx
add     [eax+0ch], ecx
jmp     loc_277bd4e9
test    byte ptr [ebx+8], 2
push    edi
push    esi
jz      loc_277c8e44
lea     ecx, [ebx+404h]
lea     eax, [ebx+3f4h]
push    ecx
push    eax
call    sub_277c009c
mov     [ebp+arg_0], eax
movzx   eax, word ptr [ebx+474h]
movzx   ecx, word ptr [ebx+404h]
sub     eax, ecx
movzx   ecx, word ptr [ebx+406h]
lea     eax, [eax+eax*2]
shl     eax, 2
sub     eax, ecx
movzx   ecx, word ptr [ebx+476h]
add     eax, ecx
jns     short loc_277c8dbb
lea     esi, [ebx+3f4h]
lea     edi, [ebp+var_18]
movsd
movsd
push    2
push    eax
lea     eax, [ebx+3f4h]
movsd
push    eax
lea     eax, [ebp+var_18]
push    eax
movsd
call    sub_277bd1d8
movzx   ecx, word ptr [ebx+3f4h]
movzx   eax, word ptr [ebx+464h]
lea     esi, [ebx+3f4h]
sub     eax, ecx
movzx   ecx, word ptr [ebx+3f6h]
lea     eax, [eax+eax*2]
shl     eax, 2
sub     eax, ecx
movzx   ecx, word ptr [ebx+466h]
add     eax, ecx
test    eax, eax
jle     short loc_277c8e07
lea     edi, [ebp+var_18]
push    2
movsd
movsd
push    eax
lea     eax, [ebx+3f4h]
movsd
push    eax
lea     eax, [ebp+var_18]
push    eax
movsd
call    sub_277bd1d8
test    byte ptr [ebx+8], 2
jz      short loc_277c8e25
push    8
lea     eax, [ebx+404h]
push    [ebp+arg_0]
push    eax
lea     eax, [ebx+3f4h]
push    eax
call    sub_277bd1d8
push    0fffffd13h
push    ebx
call    sub_277be303
lea     eax, [ebx+3f4h]
push    eax
push    ebx
call    sub_277bd3a3
pop     esi
pop     edi
jmp     loc_277be27a
lea     esi, [ebx+3f4h]
lea     edi, [ebx+404h]
movsd
movsd
and     [ebp+arg_0], 0
movsd
movsd
jmp     loc_277c8d71
xor     eax, eax
jmp     loc_277be163
mov     ax, [edi]
mov     [ebp+var_10], ax
mov     ax, [esi+446h]
mov     [ebp+var_e], ax
mov     ax, [esi+44ah]
jmp     loc_277c0b7d
mov     ax, [ebx]
mov     [ebp+var_20], ax
mov     ax, [esi+456h]
mov     [ebp+var_1e], ax
mov     ax, [esi+45ah]
jmp     loc_277c0ba7
mov     ax, [ebp+var_e]
cmp     ax, [esi+446h]
jnz     short loc_277c8ec2
movzx   edi, [ebp+var_a]
sub     edi, [esi+60ch]
xor     eax, eax
mov     [ebp+arg_4], eax
dec     edi
jmp     loc_277c0bdd
mov     ecx, [esi+484h]
lea     eax, [ecx-1]
mov     ecx, [esi+ecx*4+5d4h]
mov     [ebp+arg_4], eax
sub     ecx, [esi+eax*4+60ch]
add     ecx, [esi+eax*4+5d4h]
jmp     loc_277c0bd5
mov     ax, [ebp+var_e]
cmp     ax, [esi+466h]
jz      loc_277c0be8
cmp     ax, [esi+456h]
jz      loc_277c0be8
inc     [ebp+arg_4]
lea     eax, [ebp+var_40]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277bd491
mov     eax, edi
push    7
cdq
pop     ecx
idiv    ecx
mov     edi, edx
jmp     loc_277c0be8
push    esi
call    sub_277bf76d
mov     eax, [esi+488h]
and     word ptr [esi+694h], 0fffbh
mov     cx, [esi+694h]
lea     edi, [esi+488h]
xor     ebx, ebx
cmp     eax, ebx
jz      short loc_277c8f85
push    eax
push    dword ptr [esi]
call    ds:killtimer
push    dword ptr [esi]
mov     [edi], ebx
call    ds:getdc
mov     edi, eax
mov     al, [esi+694h]
shr     eax, 3
and     eax, 1
push    ebx
push    eax
push    edi
push    esi
call    sub_277bf1df
push    edi
push    dword ptr [esi]
call    ds:releasedc
jmp     loc_277bf80c
test    cl, 10h
jz      short loc_277c8fb4
push    dword ptr [esi]
call    ds:getdc
mov     edi, eax
lea     eax, [esi+594h]
push    eax
push    edi
call    ds:drawfocusrect
and     word ptr [esi+694h], 0ffefh
push    edi
push    dword ptr [esi]
call    ds:releasedc
mov     eax, [ebp+arg_8]
movsx   edi, ax
shr     eax, 10h
test    byte ptr [esi+8], 2
movsx   eax, ax
push    eax
push    edi
mov     [ebp+var_4], eax
push    esi
jz      loc_277c905a
call    sub_277e9af4
lea     eax, [esi+594h]
push    eax
lea     eax, [esi+5a4h]
push    eax
call    ds:equalrect
test    eax, eax
jnz     short loc_277c900d
push    ebx
push    ebx
push    ebx
lea     eax, [ebp+var_18]
push    ebx
push    eax
push    [ebp+var_4]
push    edi
push    esi
call    sub_277e9ce2
test    eax, eax
jz      short loc_277c900d
lea     eax, [ebp+var_18]
push    eax
push    esi
call    sub_277e9f6a
and     word ptr [esi+694h], 0ff7fh
lea     eax, [esi+3f4h]
push    eax
lea     eax, [esi+414h]
push    eax
call    sub_277be055
test    eax, eax
jnz     short loc_277c9044
lea     eax, [esi+404h]
push    eax
lea     eax, [esi+424h]
push    eax
call    sub_277be055
test    eax, eax
jz      short loc_277c904a
push    esi
call    sub_277be179
push    0fffffd16h
push    esi
call    sub_277be303
jmp     loc_277bf80c
call    sub_277e9af4
test    eax, eax
jz      loc_277bf80c
lea     eax, [esi+594h]
lea     ecx, [esi+5a4h]
push    eax
push    ecx
call    ds:equalrect
test    eax, eax
jnz     short loc_277c904a
push    ebx
push    ebx
push    ebx
lea     eax, [ebp+var_18]
push    ebx
push    eax
push    [ebp+var_4]
push    edi
push    esi
call    sub_277e9ce2
test    eax, eax
jz      short loc_277c904a
mov     edi, ds:invalidaterect
lea     eax, [esi+5a4h]
push    ebx
push    eax
push    dword ptr [esi]
call    edi
lea     eax, [esi+594h]
push    ebx
push    eax
push    dword ptr [esi]
call    edi
lea     eax, [ebp+var_18]
push    eax
push    esi
call    sub_277be0e8
jmp     short loc_277c904a
xor     eax, eax
jmp     loc_277b6c77
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
mov     eax, [ebp+rect.bottom]
sub     eax, [ebx+3ch]
cdq
sub     eax, edx
sar     eax, 1
push    eax
mov     eax, [ebp+rect.right]
sub     eax, [ebx+38h]
cdq
sub     eax, edx
sar     eax, 1
push    eax
lea     eax, [ebx+30h]
push    eax
call    ds:offsetrect
jmp     loc_277b741b
push    0ffff0000h
push    0ffffffffh
push    465h
push    dword ptr [ebx]
call    ds:postmessagea
jmp     loc_277b7430
push    eax
push    dword ptr [esi]
call    ds:killtimer
and     dword ptr [esi+58h], 0
push    2
push    esi
call    sub_277ba7f5
jmp     loc_277b7487
lea     edx, [ecx-1]
jmp     loc_277ba748
xor     eax, eax
jmp     loc_277ba75b
lea     eax, [ecx-1]
jmp     loc_277ba763
mov     edx, [esi+50h]
jmp     loc_277ba77a
push    1
push    esi
call    sub_277ba7f5
push    edi
push    dword ptr [esi+44h]
push    2ah
push    dword ptr [esi]
call    ds:settimer
jmp     loc_277ba7b9
push    1
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
jmp     loc_277ba7bc
xor     eax, eax
jmp     loc_277ba7bf
mov     eax, [esi+4ch]
test    eax, eax
jle     short loc_277c9188
dec     eax
mov     [esi+4ch], eax
cmp     dword ptr [esi+4ch], 0
jz      loc_277ba87e
mov     eax, [esi+50h]
jmp     loc_277ba87b
mov     eax, [ebp+lparam]
mov     edi, [esi+34h]
shr     eax, 10h
sub     eax, [esi+3ch]
mov     ebx, [esi+30h]
lea     ecx, [esi+30h]
add     eax, edi
cdq
sub     eax, edx
sar     eax, 1
sub     eax, edi
push    eax
movzx   eax, word ptr [ebp+lparam]
sub     eax, [esi+38h]
add     eax, ebx
cdq
sub     eax, edx
sar     eax, 1
sub     eax, ebx
push    eax
push    ecx
call    ds:offsetrect
push    1
push    0
push    [ebp+hwnd]
call    ds:invalidaterect
mov     ebx, [ebp+hwnd]
jmp     loc_277b6ffe
push    edi
push    edi
push    466h
push    ebx
call    ds:sendmessagea
jmp     loc_277b6ffe
push    esi
call    sub_277b7216
lea     eax, [ebp+paint]
push    eax
push    ebx
call    ds:beginpaint
push    eax
push    esi
call    sub_277b748c
lea     eax, [ebp+paint]
push    eax
push    ebx
call    ds:endpaint
jmp     loc_277b70f1
push    [ebp+wparam]
push    esi
call    sub_277edcab
push    1
pop     eax
jmp     loc_277b700e
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277edceb
jmp     loc_277b70f1
push    esi
call    sub_277b7438
jmp     loc_277b700e
push    esi
call    sub_277ba820
test    eax, eax
jnz     loc_277b6ffe
push    esi
call    sub_277b7438
jmp     loc_277b6ffe
or      eax, 0ffffffffh
jmp     loc_277b700e
cmp     dword_2782a854, esi
jnz     loc_277b319c
mov     edi, ds:registerwindowmessagea
push    offset amswheelrollmsg
call    edi
push    offset amshscrolllines
mov     dword_2782a054, eax
call    edi
push    offset windowname
push    offset amousez
mov     msg, eax
call    ds:findwindowa
mov     dword_2782c308, eax
jmp     loc_277b31a6
cmp     dword_2782a854, esi
jnz     loc_277b31b8
mov     ecx, dword_2782c308
cmp     ecx, esi
jz      loc_277b31c3
mov     eax, msg
cmp     eax, esi
jz      loc_277b31c3
push    esi
push    esi
push    eax
push    ecx
call    ds:sendmessagea
mov     dword_27829ff0, eax
jmp     loc_277b31c3
cmp     [ebp+hkey], 25h
jz      loc_277b31fc
jmp     loc_277b3208
cmp     [ebp+hkey], 2ah
jz      loc_277b3264
jmp     loc_277b333b
cmp     [ebp+phkresult], edi
jnz     loc_277b3385
jmp     loc_277b338b
push    1
pop     eax
mov     dword_2782a850, eax
jmp     loc_277b8952
cmp     versioninformation.dwplatformid, esi
jnz     loc_277b315e
mov     eax, versioninformation.dwmajorversion
cmp     eax, 4
ja      loc_277b3129
jnz     loc_277b315e
cmp     versioninformation.dwminorversion, 0ah
jmp     loc_277b3127
cmp     versioninformation.dwplatformid, 2
jnz     loc_277b315e
cmp     versioninformation.dwmajorversion, 4
jmp     loc_277b315c
cmp     versioninformation.dwplatformid, esi
jmp     short loc_277c9357
xor     eax, eax
cmp     versioninformation.dwplatformid, esi
jmp     loc_277b316b
push    eax
call    ds:heapdestroy
jmp     loc_277b233f
xor     eax, eax
jmp     loc_277b98a9
lea     eax, [ebp+var_c]
jmp     loc_277b988e
mov     eax, [ebp+lparam]
mov     edi, [eax+4]
jmp     loc_277b989c
sub     eax, 8
jz      short loc_277c93eb
sub     eax, 10h
jz      short loc_277c93d1
sub     eax, 20h
jnz     loc_277bd228
push    3ch
push    edi
push    [ebp+arg_8]
lea     eax, [ebx+0ch]
push    eax
call    sub_277bd29d
cmp     eax, edi
mov     [ebp+arg_8], eax
jz      loc_277bd228
push    3ch
push    edi
push    [ebp+arg_8]
lea     eax, [ebx+0ah]
push    eax
call    sub_277bd29d
cmp     eax, edi
mov     [ebp+arg_8], eax
jz      loc_277bd228
push    18h
push    edi
push    [ebp+arg_8]
lea     eax, [ebx+8]
push    eax
call    sub_277bd29d
mov     esi, eax
cmp     esi, edi
jz      loc_277bd228
jmp     loc_277bd23e
movzx   ecx, word ptr [ebx+6]
mov     eax, esi
neg     eax
cmp     ecx, eax
jg      loc_277bd25d
movzx   eax, word ptr [ebx+6]
push    2
push    0ffffffffh
push    ebx
push    ebx
add     esi, eax
call    sub_277bd1d8
movzx   eax, word ptr [ebx+2]
push    eax
movzx   eax, word ptr [ebx]
push    eax
call    sub_277bd0f4
mov     [ebx+6], ax
mov     ecx, esi
movzx   eax, ax
neg     ecx
cmp     eax, ecx
jg      loc_277bd25d
jmp     short loc_277c9419
mov     eax, [ebp+arg_8]
jmp     loc_277bd28a
mov     [ebx+6], ax
jmp     loc_277bd228
cmp     di, 2
ja      short loc_277c948e
test    bl, 3
jnz     short loc_277c948e
cmp     bx, 6d6h
jbe     short loc_277c948d
movzx   esi, bx
mov     eax, esi
push    64h
cdq
pop     edi
idiv    edi
test    edx, edx
jnz     short loc_277c948d
mov     eax, esi
mov     esi, 190h
cdq
idiv    esi
test    edx, edx
jnz     short loc_277c948e
inc     ecx
mov     esi, 16dh
add     ecx, esi
inc     ebx
cmp     bx, word ptr [esp+10h+arg_0]
jnb     loc_277c00ee
movzx   edi, bx
add     ecx, esi
test    bl, 3
jnz     short loc_277c94cd
cmp     bx, 6d6h
jbe     short loc_277c94cc
mov     eax, edi
push    64h
cdq
pop     ebp
idiv    ebp
test    edx, edx
jnz     short loc_277c94cc
mov     eax, edi
mov     ebp, 190h
cdq
idiv    ebp
test    edx, edx
jnz     short loc_277c94cd
inc     ecx
inc     ebx
inc     edi
cmp     bx, word ptr [esp+10h+arg_0]
jnb     loc_277c00ee
jmp     short loc_277c94a4
jnz     loc_277bd194
cmp     [esp+10h+arg_4], 9
jle     loc_277bd194
sub     esi, 0bh
jmp     loc_277bd194
cmp     edx, 9
jnz     loc_277bd10a
push    13h
pop     eax
jmp     loc_277bd122
movzx   eax, word ptr [esi+6]
push    8
pop     ecx
sub     ecx, edi
cmp     eax, ecx
jge     loc_277c057f
xor     ebx, ebx
jmp     loc_277c05a0
inc     ebx
jmp     loc_277c05ad
test    edi, edi
jnz     short loc_277c9530
push    1
pop     eax
jmp     loc_277c05c0
push    [ebp+arg_8]
dec     [ebp+var_10]
lea     eax, [ebp+var_10]
mov     [ebp+var_e], 0ch
push    [ebp+arg_4]
mov     [ebp+var_a], 1fh
push    eax
call    sub_277c0543
jmp     loc_277c05c0
movzx   eax, word ptr [esi+2]
movzx   edi, word ptr [esi+6]
push    eax
movzx   eax, word ptr [esi]
push    eax
call    sub_277bd151
mov     ecx, edi
push    7
sub     ecx, [ebp+arg_4]
lea     eax, [eax+ecx+6]
pop     ecx
cdq
idiv    ecx
sub     edi, edx
add     edi, ecx
cmp     edi, 23h
jle     loc_277c05be
push    1
pop     ebx
jmp     loc_277c05be
xor     eax, eax
jmp     loc_277be026
xor     eax, eax
jmp     locret_277be052
xor     eax, eax
jmp     loc_277ba0c0
xor     eax, eax
jmp     loc_277ba04c
push    eax
push    [ebp+hmodule]
call    ds:loadresource
test    eax, eax
jz      loc_277ba012
push    0
push    eax
push    eax
call    ds:lockresource
push    eax
push    [ebp+arg_0]
call    sub_277ba0c6
jmp     loc_277ba014
push    eax
call    ds:deleteobject
jmp     loc_277ba316
push    eax
call    ds:freeresource
jmp     loc_277ba31d
xor     eax, eax
jmp     loc_277ba6f9
sub     eax, 37h
jmp     loc_277ba545
sub     edx, 37h
jmp     loc_277ba55b
and     dword ptr [ecx+44h], 0
jmp     loc_277ba503
xor     eax, eax
jmp     loc_277ba503
xor     eax, eax
jmp     loc_277ba61d
push    edi
push    eax
push    [ebp+hdc]
call    ds:selectpalette
push    [ebp+hdc]
call    ds:realizepalette
jmp     loc_277ba64e
xor     eax, eax
jmp     loc_277ba68c
test    eax, 80000000h
jz      loc_277b180b
push    2
call    sub_2782226c
add     esp, 4
jmp     loc_277b180b
push    1
call    sub_2782226c
add     esp, 4
jmp     loc_277b182e
retn    0ch
call    sub_277b26e5
xor     eax, eax
retn    0ch
call    sub_277b2613
call    sub_277b26e5
xor     eax, eax
retn    0ch
xor     eax, eax
retn    0ch
cmp     eax, 3
jnz     short loc_277c968f
push    0
call    sub_2782213d
add     esp, 4
mov     eax, 1
retn    0ch
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    0ch
push    edi
push    esi
push    ebx
call    ecx
jmp     loc_277b17a5
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    0ch
push    edi
push    eax
push    ebx
call    sub_277b17e1
jmp     loc_277b1785
xor     ebp, ebp
jmp     loc_277b17ce
push    edi
push    esi
push    ebx
call    eax
mov     ebp, eax
jmp     loc_277b178e
call    eax
jmp     loc_277b2f93
push    ebp
call    ds:getcurrentprocess
push    eax
call    ds:terminateprocess
jmp     loc_277b237c
mov     esi, dword_2782c3c0
sub     esi, 4
cmp     esi, ecx
jb      loc_277b23a6
mov     eax, [esi]
test    eax, eax
jz      short loc_277c970c
call    eax
mov     ecx, dword_278288e4
sub     esi, 4
cmp     esi, ecx
jb      loc_277b23a6
jmp     short loc_277c96fe
push    ebp
mov     dword_278288e0, 1
call    ds:exitprocess
pop     esi
pop     ebp
pop     ebx
retn
xor     eax, eax
pop     esi
retn
push    1bh
call    sub_27821efa
add     esp, 4
jmp     loc_277b2a77
mov     eax, [esp+58h+startupinfo.lpreserved2]
cmp     eax, edi
jz      loc_277b2acc
mov     ecx, [eax]
lea     edi, [eax+4]
cmp     ecx, 800h
mov     [esp+58h+var_48], ecx
lea     ebp, [edi+ecx]
jl      short loc_277c9769
mov     [esp+58h+var_48], 800h
mov     eax, [esp+58h+var_48]
mov     ecx, unumber
cmp     ecx, eax
jge     loc_277c984c
mov     esi, offset dword_278281a4
push    480h
call    sub_277b1a7a
xor     ecx, ecx
add     esp, 4
cmp     eax, ecx
jz      loc_277c9840
mov     edx, unumber
mov     [esi], eax
add     edx, 20h
mov     unumber, edx
lea     edx, [eax+480h]
cmp     eax, edx
jnb     short loc_277c97d1
mov     byte ptr [eax+4], 0
mov     dword ptr [eax], 0ffffffffh
mov     [eax+5], bl
mov     [eax+8], ecx
mov     edx, [esi]
add     eax, 24h
add     edx, 480h
cmp     eax, edx
jb      short loc_277c97b2
mov     eax, unumber
mov     edx, [esp+58h+var_48]
add     esi, 4
cmp     eax, edx
jl      short loc_277c9780
mov     eax, [esp+58h+var_48]
xor     esi, esi
cmp     eax, ecx
jle     loc_277b2acc
mov     ecx, [ebp+0]
cmp     ecx, 0ffffffffh
jz      short loc_277c982d
mov     al, [edi]
test    al, 1
jz      short loc_277c982d
test    al, 8
jnz     short loc_277c980c
push    ecx
call    ds:getfiletype
test    eax, eax
jz      short loc_277c982d
mov     ecx, esi
mov     eax, esi
sar     ecx, 5
and     eax, 1fh
lea     edx, [eax+eax*8]
mov     eax, dword_278281a0[ecx*4]
mov     ecx, [ebp+0]
lea     eax, [eax+edx*4]
mov     [eax], ecx
mov     dl, [edi]
mov     [eax+4], dl
mov     eax, [esp+58h+var_48]
inc     esi
inc     edi
add     ebp, 4
cmp     esi, eax
jge     loc_277b2acc
jmp     short loc_277c97ef
mov     edx, unumber
mov     [esp+58h+var_48], edx
jmp     short loc_277c97e1
xor     ecx, ecx
jmp     short loc_277c97e1
mov     al, [esi+4]
or      al, 40h
jmp     loc_277b2ae2
mov     al, [esi+4]
or      al, 80h
jmp     loc_277b2ae2
push    edi
call    ebp
jmp     loc_277b25ee
push    9
call    sub_27821efa
add     esp, 4
jmp     loc_277b2ed7
push    9
call    sub_27821efa
add     esp, 4
jmp     loc_277b2f58
mov     edi, offset filename
jmp     loc_277b2c7f
push    8
call    sub_27821efa
add     esp, 4
jmp     loc_277b2cb4
mov     cl, [eax+1]
inc     eax
cmp     cl, 22h
jz      short loc_277c98e4
test    cl, cl
jz      short loc_277c98e4
and     ecx, 0ffh
test    byte_27828a59[ecx], bl
jz      short loc_277c98cd
mov     edx, [edi]
inc     edx
test    esi, esi
mov     [edi], edx
jz      short loc_277c98cd
mov     cl, [eax]
mov     [esi], cl
inc     esi
inc     eax
mov     edx, [edi]
inc     edx
test    esi, esi
mov     [edi], edx
jz      short loc_277c98db
mov     dl, [eax]
mov     [esi], dl
inc     esi
mov     cl, [eax+1]
inc     eax
cmp     cl, 22h
jnz     short loc_277c98ac
mov     edx, [edi]
inc     edx
test    esi, esi
mov     [edi], edx
jz      short loc_277c98f1
mov     byte ptr [esi], 0
inc     esi
cmp     byte ptr [eax], 22h
jnz     loc_277b2d75
inc     eax
jmp     loc_277b2d75
mov     edx, [edi]
inc     edx
test    esi, esi
mov     [edi], edx
jz      short loc_277c990e
mov     dl, [eax]
mov     [esi], dl
inc     esi
inc     eax
jmp     loc_277b2d43
dec     eax
jmp     loc_277b2d75
inc     eax
jmp     loc_277b2da7
mov     [esi], cl
mov     ecx, [edi]
inc     esi
inc     eax
inc     ecx
mov     [edi], ecx
jmp     loc_277b2e2e
mov     ecx, [edi]
inc     eax
inc     ecx
mov     [edi], ecx
jmp     loc_277b2de0
push    19h
call    sub_277b1a64
add     esp, 4
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 14h
retn
mov     al, [esp+24h+cpinfo.leadbyte]
test    al, al
jz      short loc_277c998c
lea     edx, [esp+24h+cpinfo.leadbyte+1]
mov     cl, [edx]
test    cl, cl
jz      short loc_277c998c
xor     eax, eax
and     ecx, 0ffh
mov     al, [edx-1]
cmp     eax, ecx
ja      short loc_277c9982
mov     bl, byte_27828a59[eax]
or      bl, 4
mov     byte_27828a59[eax], bl
inc     eax
cmp     eax, ecx
jbe     short loc_277c996e
mov     al, [edx+1]
add     edx, 2
test    al, al
jnz     short loc_277c9959
mov     eax, 1
mov     bl, byte_27828a59[eax]
or      bl, 8
mov     byte_27828a59[eax], bl
inc     eax
cmp     eax, 0ffh
jb      short loc_277c9991
push    ebp
mov     dword_27828b5c, ebp
call    sub_278221da
add     esp, 4
mov     dword_27828b60, eax
jmp     loc_277b2bf7
cmp     dword_27828b74, esi
jz      short loc_277c99e2
call    sub_2782223f
push    19h
call    sub_277b1a64
add     esp, 4
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 14h
retn
push    19h
call    sub_277b1a64
add     esp, 4
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 14h
retn
mov     ecx, 40h
xor     eax, eax
mov     edi, offset byte_27828a58
lea     ebx, [edx+edx*2]
rep stosd
stosb
xor     edi, edi
shl     ebx, 4
lea     ebp, dword_27828978[ebx]
mov     al, [ebp+0]
mov     esi, ebp
test    al, al
jz      short loc_277c9a4d
mov     cl, [esi+1]
test    cl, cl
jz      short loc_277c9a4d
xor     eax, eax
and     ecx, 0ffh
mov     al, [esi]
cmp     eax, ecx
ja      short loc_277c9a43
mov     dl, byte_2782c080[edi]
or      byte_27828a59[eax], dl
inc     eax
cmp     eax, ecx
jbe     short loc_277c9a38
mov     al, [esi+2]
add     esi, 2
test    al, al
jnz     short loc_277c9a1d
inc     edi
add     ebp, 8
cmp     edi, 4
jb      short loc_277c9a14
mov     eax, [esp+24h+arg_0]
push    eax
mov     dword_27828b5c, eax
call    sub_278221da
mov     ecx, dword_2782896c[ebx]
mov     edx, dword_27828970[ebx]
mov     dword_27828b60, eax
lea     eax, dword_2782896c[ebx]
add     esp, 4
mov     dword_27828b68, ecx
mov     eax, [eax+8]
mov     dword_27828b6c, edx
push    19h
mov     dword_27828b70, eax
call    sub_277b1a64
add     esp, 4
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 14h
retn
mov     dword_27828b74, 1
jmp     ds:getoemcp
cmp     eax, 0fffffffch
jnz     short locret_277c9acb
mov     eax, dword_2782c380
mov     dword_27828b74, 1
retn
call    ebp
mov     ebx, eax
test    ebx, ebx
jz      short loc_277c9aea
mov     eax, 2
jmp     loc_277b29c7
call    edi
mov     esi, eax
test    esi, esi
jnz     loc_277b29dd
pop     edi
pop     esi
pop     ebp
xor     eax, eax
pop     ebx
retn
push    ebx
call    sub_277b1b1b
add     esp, 4
xor     ebx, ebx
jmp     loc_277b2a49
push    esi
call    ds:freeenvironmentstringsw
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
cmp     eax, 2
jnz     short loc_277c9aea
test    ebx, ebx
jnz     short loc_277c9b20
call    ebp
mov     ebx, eax
test    ebx, ebx
jz      short loc_277c9aea
mov     cl, [ebx]
mov     eax, ebx
test    cl, cl
jz      short loc_277c9b38
mov     cl, [eax+1]
inc     eax
test    cl, cl
jnz     short loc_277c9b28
mov     cl, [eax+1]
inc     eax
test    cl, cl
jnz     short loc_277c9b28
sub     eax, ebx
inc     eax
mov     esi, eax
push    esi
call    sub_277b1a7a
mov     ebp, eax
add     esp, 4
test    ebp, ebp
jnz     short loc_277c9b5a
push    ebx
call    ds:freeenvironmentstringsa
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
mov     ecx, esi
mov     esi, ebx
mov     eax, ecx
mov     edi, ebp
shr     ecx, 2
rep movsd
mov     ecx, eax
push    ebx
and     ecx, 3
rep movsb
call    ds:freeenvironmentstringsa
mov     eax, ebp
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
mov     eax, hheap
push    eax
call    ds:heapdestroy
xor     eax, eax
retn
push    11h
call    sub_27821efa
add     esp, 4
jmp     loc_277b1949
call    sub_277b1b1b
add     esp, 4
jmp     loc_277b1970
mov     eax, [ebp+arg_4]
add     eax, 20h
push    eax
call    ds:entercriticalsection
pop     ebp
retn
mov     eax, [ebp+arg_4]
add     eax, 20h
push    eax
call    ds:leavecriticalsection
pop     ebp
retn
mov     ebx, 10h
jmp     loc_277b2915
mov     eax, dword_27828198
test    eax, eax
jz      loc_277b297f
push    ebx
call    sub_278227a6
add     esp, 4
test    eax, eax
jnz     loc_277b291b
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
mov     esi, 1
jmp     loc_277b1aa5
xor     eax, eax
jmp     loc_277b1abb
test    edi, edi
jz      loc_277b1ac3
push    esi
call    sub_278227a6
add     esp, 4
test    eax, eax
jnz     loc_277b1aa9
xor     eax, eax
jmp     loc_277b1ac3
mov     eax, hheap
push    2020h
push    0
push    eax
call    ds:heapalloc
mov     ebp, eax
test    ebp, ebp
jnz     loc_277b2785
pop     edi
pop     esi
xor     eax, eax
pop     ebp
retn
mov     off_27826048, offset off_27826048
jmp     loc_277b27d5
mov     off_2782604c, offset off_27826048
jmp     loc_277b27e2
mov     dword ptr [ebp+0], offset off_27826048
mov     ecx, off_2782604c
mov     [ebp+4], ecx
mov     off_2782604c, ebp
mov     edx, [ebp+4]
mov     [edx], ebp
jmp     loc_277b27e2
push    8000h
push    0
push    esi
call    ds:virtualfree
cmp     ebp, offset off_27826048
jz      short loc_277c9c41
mov     eax, hheap
push    ebp
push    0
push    eax
call    ds:heapfree
jmp     short loc_277c9c41
mov     eax, dword_2782c384
inc     eax
cmp     eax, 20h
mov     dword_2782c384, eax
jnz     loc_277b26e3
push    10h
call    sub_27822550
add     esp, 4
jmp     loc_277b26e3
mov     ecx, [esp+14h+var_4]
mov     [edi+4], ebx
jmp     loc_277b19f3
mov     ebp, [ecx+8]
mov     edi, [ecx+10h]
lea     esi, [ecx+18h]
cmp     esi, ebp
jnb     short loc_277c9d1a
mov     eax, [esi]
cmp     eax, ebx
jl      short loc_277c9d0d
cmp     [esi+4], ebx
jbe     short loc_277c9d0d
push    ebx
push    eax
push    edi
call    sub_277b1a05
add     esp, 0ch
test    eax, eax
jnz     loc_277c9d8e
mov     ecx, [esp+14h+var_4]
mov     [esi+4], ebx
add     esi, 8
add     edi, 1000h
cmp     esi, ebp
jb      short loc_277c9ce8
mov     ecx, [ecx]
mov     eax, off_27828194
cmp     ecx, eax
mov     [esp+14h+var_4], ecx
jnz     loc_277b1990
mov     ebp, offset off_27826048
or      ecx, 0ffffffffh
cmp     [ebp+10h], ecx
jz      short loc_277c9d41
mov     eax, [ebp+0ch]
test    eax, eax
jnz     short loc_277c9da7
mov     ebp, [ebp+0]
cmp     ebp, offset off_27826048
jnz     short loc_277c9d35
call    sub_277b276f
test    eax, eax
jz      loc_277c9e85
mov     ecx, [eax+10h]
mov     [ecx+8], bl
lea     edx, [ecx+ebx+8]
mov     off_27828194, eax
mov     [ecx], edx
mov     edx, 0f0h
sub     edx, ebx
and     ebx, 0ffh
mov     [ecx+4], edx
mov     edx, [eax+18h]
sub     edx, ebx
mov     [eax+18h], edx
lea     eax, [ecx+100h]
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn
mov     ecx, [esp+14h+var_4]
mov     off_27828194, ecx
mov     edx, [esi]
sub     edx, ebx
mov     [esi], edx
mov     [ecx+8], esi
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn
mov     eax, [ebp+0ch]
mov     esi, [ebp+10h]
mov     edi, eax
mov     [esp+14h+arg_0], eax
sub     edi, ebp
mov     edx, [eax]
sub     edi, 18h
sar     edi, 3
shl     edi, 0ch
add     edi, esi
xor     esi, esi
cmp     edx, ecx
jnz     short loc_277c9dd8
cmp     esi, 10h
jge     short loc_277c9dd8
mov     edx, [eax+8]
add     eax, 8
inc     esi
cmp     edx, ecx
jz      short loc_277c9dc8
mov     eax, esi
push    4
shl     eax, 0ch
push    1000h
push    eax
push    edi
mov     [esp+24h+var_4], eax
call    ds:virtualalloc
cmp     eax, edi
jnz     loc_277c9e85
mov     edx, [esp+14h+arg_0]
mov     eax, [esp+14h+var_4]
xor     ecx, ecx
test    esi, esi
mov     ecx, edx
jle     short loc_277c9e3a
lea     eax, [edi+4]
lea     edx, [eax+4]
mov     dword ptr [eax], 0f0h
mov     [eax-4], edx
mov     byte ptr [eax+0f4h], 0ffh
mov     dword ptr [ecx], 0f0h
mov     dword ptr [ecx+4], 0f1h
add     eax, 1000h
add     ecx, 8
dec     esi
jnz     short loc_277c9e0b
mov     edx, [esp+14h+arg_0]
lea     eax, [ebp+2018h]
mov     off_27828194, ebp
cmp     ecx, eax
jnb     short loc_277c9e58
cmp     dword ptr [ecx], 0ffffffffh
jz      short loc_277c9e56
add     ecx, 8
cmp     ecx, eax
jb      short loc_277c9e4a
cmp     ecx, eax
sbb     eax, eax
and     eax, ecx
mov     [ebp+0ch], eax
mov     [edi+8], bl
mov     [ebp+8], edx
mov     ecx, [edx]
sub     ecx, ebx
mov     [edx], ecx
mov     eax, [edi+4]
sub     eax, ebx
lea     ecx, [edi+ebx+8]
mov     [edi+4], eax
mov     [edi], ecx
lea     eax, [edi+100h]
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn
pop     edi
pop     esi
pop     ebp
xor     eax, eax
pop     ebx
pop     ecx
retn
add     eax, ecx
cmp     byte ptr [eax], 0
jz      short loc_277c9e96
mov     esi, eax
lea     eax, [esi+edx]
cmp     eax, ebx
mov     ebx, [esp+10h+arg_4]
jnb     short loc_277c9ee4
mov     al, [esi]
test    al, al
jnz     loc_277c9f4c
cmp     byte ptr [esi+1], 0
lea     eax, [esi+1]
mov     ecx, 1
jnz     short loc_277c9ec0
inc     eax
inc     ecx
cmp     byte ptr [eax], 0
jz      short loc_277c9eb9
cmp     ecx, edx
jnb     loc_277c9f55
mov     ebp, [esp+10h+arg_0]
cmp     esi, ebp
jnz     short loc_277c9f3e
mov     [edi+4], ecx
mov     esi, eax
mov     ecx, ebp
lea     ebp, [esi+edx]
lea     eax, [edi+0f8h]
cmp     ebp, eax
jb      short loc_277c9ea1
lea     ebp, [edi+8]
mov     esi, ebp
cmp     esi, ecx
jnb     loc_277c9faf
lea     ecx, [esi+edx]
lea     eax, [edi+0f8h]
cmp     ecx, eax
jnb     loc_277c9faf
mov     al, [esi]
test    al, al
jnz     loc_277c9f8c
cmp     byte ptr [esi+1], 0
lea     eax, [esi+1]
mov     ecx, 1
jnz     short loc_277c9f21
inc     eax
inc     ecx
cmp     byte ptr [eax], 0
jz      short loc_277c9f1a
cmp     ecx, edx
jnb     short loc_277c9f95
sub     ebx, ecx
cmp     ebx, edx
jb      loc_277c9faf
mov     esi, eax
cmp     esi, [esp+10h+arg_0]
jb      short loc_277c9ef1
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
sub     ebx, ecx
cmp     ebx, edx
jb      short loc_277c9faf
mov     ecx, [esp+10h+arg_0]
mov     esi, eax
jmp     short loc_277c9ed7
and     eax, 0ffh
add     esi, eax
jmp     short loc_277c9ed7
lea     eax, [esi+edx]
lea     ebx, [edi+0f8h]
cmp     eax, ebx
jnb     short loc_277c9f7e
sub     ecx, edx
mov     [edi], eax
mov     [edi+4], ecx
lea     eax, [edi+edi*2]
mov     [esi], dl
lea     edx, [eax+eax*4]
lea     eax, [esi+8]
shl     eax, 4
sub     eax, edx
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
lea     ecx, [edi+8]
mov     [edi], ecx
mov     dword ptr [edi+4], 0
jmp     short loc_277c9f69
and     eax, 0ffh
add     esi, eax
jmp     short loc_277c9f31
lea     eax, [esi+edx]
lea     ebx, [edi+0f8h]
cmp     eax, ebx
jnb     short loc_277c9fab
sub     ecx, edx
mov     [edi], eax
mov     [edi+4], ecx
jmp     short loc_277c9f69
mov     [edi], ebp
jmp     short loc_277c9f83
pop     edi
pop     esi
pop     ebp
xor     eax, eax
pop     ebx
retn
cmp     eax, 14h
jge     loc_277b2fd0
mov     eax, 14h
jmp     loc_277b2fcb
push    4
push    14h
mov     dword_278282c0, 14h
call    sub_277b28f5
add     esp, 8
mov     dword_278282a0, eax
test    eax, eax
jnz     loc_277b2fe8
push    1ah
call    sub_27821efa
mov     eax, dword_278282a0
add     esp, 4
jmp     loc_277b2fe8
push    eax
call    sub_278227c6
add     esp, 4
cmp     eax, 0ffffffffh
jz      loc_277b2598
inc     ebp
jmp     loc_277b2598
mov     ecx, dword_278282a0
mov     edx, [ecx+esi*4]
add     edx, 20h
push    edx
call    edi
mov     eax, dword_278282a0
mov     ecx, [eax+esi*4]
push    ecx
call    sub_277b1b1b
mov     edx, dword_278282a0
add     esp, 4
mov     dword ptr [edx+esi*4], 0
jmp     loc_277b242e
or      eax, 0ffffffffh
pop     esi
retn
mov     eax, [esi+10h]
push    eax
call    sub_27822868
add     esp, 4
neg     eax
sbb     eax, eax
pop     esi
retn
mov     eax, [esi+8]
mov     edi, [esi]
sub     edi, eax
test    edi, edi
jle     loc_277b2560
mov     edx, [esi+10h]
push    edi
push    eax
push    edx
call    sub_27822906
add     esp, 0ch
cmp     eax, edi
mov     eax, [esi+0ch]
jnz     short loc_277ca0a1
test    al, 80h
jz      loc_277b2560
and     al, 0fdh
mov     [esi+4], ebx
mov     [esi+0ch], eax
mov     eax, [esi+8]
mov     [esi], eax
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
retn
or      al, 20h
or      ebx, 0ffffffffh
mov     [esi+0ch], eax
jmp     loc_277b2560
test    edi, edi
jnz     loc_277b24e7
test    cl, 2
jz      loc_277b24e7
push    eax
call    sub_277b2519
add     esp, 4
cmp     eax, 0ffffffffh
jnz     loc_277b24e7
or      ebp, eax
jmp     loc_277b24e7
mov     eax, ebp
jmp     loc_277b24a7
xor     eax, eax
jmp     loc_277b38c8
retf    9
inc     ecx
xor     al, 9fh
xor     eax, 11d0bd4ah
mov     cl, 88h
add     [edx+69c93800h], ch
mov     eax, [esp+arg_8]
push    1
and     dword ptr [eax], 0
pop     eax
retn    0ch
push    esi
push    edi
mov     edi, [esp+8+arg_8]
mov     esi, offset dword_277b6008
movsd
movsd
movsd
movsd
pop     edi
mov     eax, 80040200h
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 60fh
jz      short loc_277cc01c
cmp     [ebp+arg_8], 0
jz      short loc_277cc015
cmp     [ebp+arg_c], 0
jz      short loc_277cc015
push    1
pop     eax
pop     ebp
retn    10h
mov     eax, 80004003h
jmp     short loc_277cc011
mov     ecx, [ebp+arg_0]
push    offset dword_277c0ee8
push    [ebp+arg_c]
push    [ebp+arg_8]
call    sub_277cc05b
jmp     short loc_277cc011
cmp     [esp+arg_4], 60fh
jz      short loc_277cc043
mov     eax, 80004005h
retn    10h
mov     ecx, [esp+arg_0]
push    offset dword_277b6008
push    [esp+4+arg_8]
push    [esp+8+arg_c]
call    sub_277cc344
jmp     short locret_277cc040
push    ebp
mov     ebp, esp
sub     esp, 114h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
mov     [ebp+var_4], ecx
cmp     esi, edi
mov     [ebp+var_8], edi
jz      loc_277cc299
mov     eax, [ebp+arg_4]
cmp     eax, edi
jz      loc_277cc299
mov     ebx, offset criticalsection
mov     [eax], edi
push    ebx
mov     [esi], edi
call    ds:entercriticalsection
mov     eax, [ebp+var_4]
lea     ecx, [ebp+pptlib]
push    ecx
mov     eax, [eax+4]
movzx   ecx, word ptr lcid
mov     eax, off_278286a4[eax*8]
push    ecx
mov     cx, [eax+1ch]
mov     ax, [eax+18h]
push    ecx
push    eax
push    phkresult
call    ds:loadregtypelib
push    ebx
mov     [ebp+var_4], eax
call    ds:leavecriticalsection
mov     eax, [ebp+var_4]
cmp     eax, edi
jl      loc_277cc292
mov     eax, [ebp+pptlib]
lea     edx, [ebp+arg_0]
push    edx
push    [ebp+arg_8]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
mov     [ebp+var_4], eax
jl      loc_277cc2c8
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
cmp     eax, edi
mov     [ebp+var_4], eax
jl      loc_277cc2c8
mov     eax, [ebp+var_8]
mov     edx, [ebp+arg_4]
mov     ebx, ds:cotaskmemalloc
movzx   ecx, word ptr [eax+2eh]
mov     [esi], ecx
movzx   ecx, word ptr [eax+2eh]
mov     [edx], ecx
movzx   eax, word ptr [eax+2eh]
shl     eax, 2
push    eax
call    ebx
cmp     eax, edi
mov     [esi+4], eax
jz      loc_277cc2c1
mov     eax, [ebp+var_8]
movzx   eax, word ptr [eax+2eh]
shl     eax, 2
push    eax
call    ebx
mov     ecx, [ebp+arg_4]
cmp     eax, edi
mov     [ecx+4], eax
jz      loc_277cc2c1
mov     eax, [ebp+var_8]
mov     [ebp+arg_8], edi
cmp     [eax+2eh], di
jbe     loc_277cc268
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_c]
push    edx
push    [ebp+arg_8]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
mov     [ebp+var_4], eax
jl      loc_277cc2c8
mov     eax, [ebp+arg_0]
push    edi
push    edi
lea     edx, [ebp+lpstring]
mov     ecx, [eax]
push    edi
push    edx
mov     edx, [ebp+var_c]
push    dword ptr [edx]
push    eax
call    dword ptr [ecx+30h]
push    [ebp+lpstring]
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
push    edi
push    edi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+lpstring]
push    edi
push    edi
call    ds:widechartomultibyte
mov     eax, [ebp+var_c]
push    [ebp+lpmultibytestr]
mov     eax, [eax+8]
push    dword ptr [eax+8]
lea     eax, [ebp+multibytestr]
push    offset alds
push    eax
call    ds:wsprintfa
mov     eax, [ebp+arg_8]
add     esp, 10h
mov     ebx, eax
lea     eax, [ebp+multibytestr]
push    1
push    eax
shl     ebx, 2
call    sub_277b7d29
pop     ecx
pop     ecx
mov     ecx, [esi+4]
mov     [ebx+ecx], eax
mov     eax, [ebp+var_c]
mov     ecx, [ebp+arg_4]
mov     eax, [eax+8]
mov     ecx, [ecx+4]
mov     eax, [eax+8]
mov     [ebx+ecx], eax
push    [ebp+lpstring]
call    ds:sysfreestring
mov     eax, [ebp+arg_0]
push    [ebp+var_c]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+54h]
mov     eax, [esi+4]
cmp     [ebx+eax], edi
jz      short loc_277cc2a0
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277cc255
test    [ebp+var_18], 1
jz      short loc_277cc255
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
mov     eax, [ebp+var_8]
inc     [ebp+arg_8]
movzx   ecx, word ptr [eax+2eh]
cmp     [ebp+arg_8], ecx
jl      loc_277cc164
cmp     eax, edi
jz      short loc_277cc276
mov     ecx, [ebp+arg_0]
push    eax
push    ecx
mov     edx, [ecx]
call    dword ptr [edx+4ch]
mov     eax, [ebp+arg_0]
cmp     eax, edi
jz      short loc_277cc283
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+pptlib]
cmp     eax, edi
jz      short loc_277cc290
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, 80004003h
jmp     short loc_277cc292
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277cc2c1
test    [ebp+var_18], 1
jz      short loc_277cc2c1
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
mov     [ebp+var_4], 8007000eh
mov     eax, [esi]
cmp     eax, edi
jz      short loc_277cc2fa
cmp     [esi+4], edi
jz      short loc_277cc2f8
xor     ebx, ebx
cmp     eax, edi
jle     short loc_277cc2ef
mov     eax, [esi+4]
mov     eax, [eax+ebx*4]
cmp     eax, edi
jz      short loc_277cc2ea
push    eax
call    ds:cotaskmemfree
inc     ebx
cmp     ebx, [esi]
jl      short loc_277cc2d9
push    dword ptr [esi+4]
call    ds:cotaskmemfree
mov     [esi], edi
mov     esi, [ebp+arg_4]
cmp     [esi], edi
jz      short loc_277cc311
mov     eax, [esi+4]
cmp     eax, edi
jz      short loc_277cc30f
push    eax
call    ds:cotaskmemfree
mov     [esi], edi
cmp     [ebp+var_8], edi
jz      short loc_277cc322
mov     eax, [ebp+arg_0]
push    [ebp+var_8]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4ch]
mov     eax, [ebp+arg_0]
cmp     eax, edi
jz      short loc_277cc32f
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+pptlib]
cmp     eax, edi
jz      short loc_277cc33c
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
jmp     loc_277cc292
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     word ptr [eax], 3
mov     [eax+8], ecx
xor     eax, eax
retn    0ch
push    offset psz
push    [esp+4+arg_0]
call    sub_27822f14
pop     ecx
pop     ecx
retn
push    offset psz
call    ds:sysallocstring
retn
push    ebp
mov     ebp, esp
sub     esp, 100h
push    ebx
mov     ebx, [ebp+arg_10]
push    esi
mov     esi, offset stru_27828300
and     dword ptr [ebx], 0
push    edi
push    esi
call    ds:entercriticalsection
mov     edi, [ebp+locale]
mov     eax, hlibmodule
cmp     edi, dword_2782c280
jnz     short loc_277cc3a8
test    eax, eax
jnz     short loc_277cc3d4
test    eax, eax
jz      short loc_277cc3c3
cmp     eax, hmodule
jz      short loc_277cc3c3
cmp     eax, hinstance
jz      short loc_277cc3c3
push    eax
call    ds:freelibrary
push    edi
call    sub_277b3cfd
mov     hlibmodule, eax
mov     dword_2782c280, edi
lea     ecx, [ebp+buffer]
push    0ffh
push    ecx
mov     ecx, [ebp+arg_c]
and     ecx, 0ffffh
push    ecx
push    eax
call    ds:loadstringa
push    esi
mov     edi, eax
call    ds:leavecriticalsection
test    edi, edi
jle     short loc_277cc410
lea     eax, [ebp+buffer]
push    0
push    eax
call    sub_277b7d29
pop     ecx
mov     [ebx], eax
pop     ecx
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, offset criticalsection
push    edi
xor     ebx, ebx
push    esi
mov     [ebp+var_4], ebx
mov     [ebp+pptlib], ebx
call    ds:entercriticalsection
lea     eax, [ebp+pptlib]
push    eax
movzx   eax, word ptr lcid
push    eax
mov     eax, off_278286b4
mov     cx, [eax+1ch]
mov     ax, [eax+18h]
push    ecx
push    eax
push    phkresult
call    ds:loadregtypelib
push    esi
mov     edi, eax
call    ds:leavecriticalsection
cmp     edi, ebx
jl      short loc_277cc4cf
mov     eax, [ebp+arg_4]
cmp     [eax+4], ebx
lea     esi, [eax+4]
jz      short loc_277cc4c0
mov     eax, esi
mov     ecx, [ebp+pptlib]
lea     edi, [ebp+var_4]
push    edi
push    dword ptr [eax]
mov     edx, [ecx]
push    ecx
call    dword ptr [edx+18h]
mov     edi, eax
cmp     edi, ebx
jl      short loc_277cc4c2
movzx   eax, word ptr [esi-4]
push    ebx
push    [ebp+var_4]
push    eax
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
call    sub_277db38f
mov     edi, eax
mov     eax, [ebp+var_4]
add     esp, 0ch
cmp     eax, ebx
jz      short loc_277cc4b3
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     edi, ebx
jl      short loc_277cc4c2
add     esi, 8
mov     eax, esi
cmp     [esi], ebx
jnz     short loc_277cc474
xor     edi, edi
mov     eax, [ebp+pptlib]
cmp     eax, ebx
jz      short loc_277cc4cf
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 0ch
and     [ebp+var_4], 0
and     [ebp+var_8], 0
and     [ebp+var_c], 0
push    ebx
push    esi
mov     esi, ecx
xor     ebx, ebx
call    sub_277c1c70
test    eax, eax
jl      short loc_277cc536
mov     ecx, [ebp+arg_0]
lea     eax, [ebp+var_c]
push    eax
call    sub_277c1c45
test    eax, eax
jl      short loc_277cc536
mov     eax, [esi]
lea     edx, [ebp+var_4]
mov     esi, offset dword_277b6118
push    edx
mov     ecx, [eax]
push    esi
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277cc536
mov     eax, [ebp+var_c]
lea     edx, [ebp+var_8]
push    edx
push    esi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277cc536
mov     eax, [ebp+var_4]
cmp     eax, [ebp+var_8]
setz    bl
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277cc543
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_8]
test    eax, eax
jz      short loc_277cc550
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_c]
test    eax, eax
jz      short loc_277cc55d
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    4
push    esi
mov     esi, ecx
push    1
call    sub_277c1cfc
test    eax, eax
jl      short loc_277cc581
mov     eax, [esp+4+arg_0]
mov     dword ptr [eax], 1
xor     eax, eax
jmp     short loc_277cc58f
cmp     eax, 80004002h
jnz     short loc_277cc59a
mov     ecx, [esp+4+arg_0]
and     dword ptr [ecx], 0
mov     dword ptr [esi+20h], 3
pop     esi
retn    4
push    0
mov     ecx, esi
call    sub_277c1cfc
xor     ecx, ecx
test    eax, eax
mov     eax, [esp+4+arg_0]
setnl   cl
mov     [eax], ecx
jmp     short loc_277cc57d
push    ebp
mov     ebp, esp
sub     esp, 14h
cmp     word ptr [ecx+0feh], 1
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     [ebp+var_4], ecx
jnz     loc_277cc65d
mov     ecx, [esi]
mov     eax, [esi+8]
push    dword ptr [esi+0ch]
sub     eax, ecx
cdq
sub     eax, edx
mov     ebx, ds:setrect
sar     eax, 1
add     eax, ecx
push    eax
lea     eax, [ebp+rc]
push    dword ptr [esi+4]
push    ecx
push    eax
call    ebx
mov     edi, 80fh
lea     eax, [ebp+rc]
push    edi
push    5
push    eax
push    [ebp+hdc]
call    ds:drawedge
mov     ecx, [ebp+var_4]
lea     eax, [ebp+rc]
push    0ah
push    eax
push    [ebp+hdc]
call    sub_277cc6da
push    dword ptr [esi+0ch]
mov     eax, [esi+8]
mov     ecx, [esi]
push    eax
sub     eax, ecx
push    dword ptr [esi+4]
cdq
sub     eax, edx
sar     eax, 1
lea     eax, [eax+ecx+1]
push    eax
lea     eax, [ebp+rc]
push    eax
call    ebx
push    edi
lea     eax, [ebp+rc]
push    5
push    eax
push    [ebp+hdc]
call    ds:drawedge
push    9
mov     ecx, [ebp+var_4]
lea     eax, [ebp+rc]
push    eax
push    [ebp+hdc]
call    sub_277cc6da
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ecx, [esi+4]
mov     eax, [esi+0ch]
sub     eax, ecx
mov     ebx, ds:setrect
cdq
sub     eax, edx
sar     eax, 1
add     eax, ecx
push    eax
lea     eax, [ebp+rc]
push    dword ptr [esi+8]
push    ecx
push    dword ptr [esi]
push    eax
call    ebx
mov     edi, 80fh
lea     eax, [ebp+rc]
push    edi
push    5
push    eax
push    [ebp+hdc]
call    ds:drawedge
mov     ecx, [ebp+var_4]
lea     eax, [ebp+rc]
push    6
push    eax
push    [ebp+hdc]
call    sub_277cc6da
mov     eax, [esi+0ch]
mov     ecx, [esi+4]
push    eax
sub     eax, ecx
push    dword ptr [esi+8]
cdq
sub     eax, edx
sar     eax, 1
lea     eax, [eax+ecx+1]
push    eax
lea     eax, [ebp+rc]
push    dword ptr [esi]
push    eax
call    ebx
push    edi
lea     eax, [ebp+rc]
push    5
push    eax
push    [ebp+hdc]
call    ds:drawedge
push    5
jmp     loc_277cc647
push    ebp
mov     ebp, esp
sub     esp, 0ch
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, ecx
mov     ecx, [eax]
mov     ebx, [eax+0ch]
push    edi
mov     edi, [eax+8]
mov     [ebp+var_4], ecx
sub     edi, ecx
mov     ecx, [eax+4]
mov     eax, edi
sub     ebx, ecx
mov     [ebp+h], ecx
cmp     edi, ebx
jl      short loc_277cc705
mov     eax, ebx
cmp     eax, 3
jge     short loc_277cc713
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     eax, 6
jg      loc_277cc804
push    2
pop     eax
cmp     word ptr [esi+0feh], 1
lea     edx, [eax+eax-1]
mov     [ebp+w], edx
jnz     loc_277cc815
mov     ecx, eax
mov     [ebp+arg_4], edx
mov     eax, edi
sub     eax, ecx
inc     eax
cdq
sub     eax, edx
mov     edi, eax
mov     eax, ebx
sub     eax, [ebp+arg_4]
sar     edi, 1
add     edi, [ebp+var_4]
inc     eax
cdq
sub     eax, edx
mov     ebx, eax
sar     ebx, 1
add     ebx, [ebp+h]
cmp     word ptr [esi+118h], 0
jnz     loc_277cc81f
mov     eax, [esi+0f8h]
cmp     eax, [esi+0f4h]
jnz     loc_277cc81f
mov     [ebp+arg_4], 1
push    12h
call    ds:getsyscolor
push    eax
call    ds:createsolidbrush
push    14h
mov     [esi+18ch], eax
call    ds:getsyscolor
push    eax
call    ds:createsolidbrush
push    10h
mov     [esi+190h], eax
call    ds:getsyscolor
push    eax
call    ds:createsolidbrush
cmp     [ebp+arg_4], 0
mov     [esi+194h], eax
jz      short loc_277cc828
mov     eax, [esi+190h]
push    eax
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+h], eax
push    [ebp+arg_8]
mov     ecx, esi
push    [ebp+w]
push    ebx
push    edi
push    [ebp+hdc]
call    sub_277cc893
cmp     [ebp+arg_4], 0
jz      short loc_277cc830
push    dword ptr [esi+194h]
push    [ebp+hdc]
call    ds:selectobject
and     [ebp+arg_4], 0
jmp     short loc_277cc7d7
add     eax, 0fffffff9h
push    4
cdq
pop     ecx
idiv    ecx
add     eax, 3
jmp     loc_277cc71f
mov     ecx, edx
mov     [ebp+arg_4], eax
jmp     loc_277cc739
and     [ebp+arg_4], 0
jmp     loc_277cc77f
mov     eax, [esi+18ch]
jmp     short loc_277cc7ca
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    dword ptr [esi+18ch]
mov     edi, ds:deleteobject
call    edi
push    dword ptr [esi+190h]
xor     ebx, ebx
mov     [esi+18ch], ebx
call    edi
push    dword ptr [esi+194h]
mov     [esi+190h], ebx
call    edi
push    1
mov     [esi+194h], ebx
pop     eax
jmp     loc_277cc70c
test    [esp+arg_0], 1
push    esi
mov     esi, ecx
mov     dword ptr [esi], offset off_277b6560
jz      short loc_277cc88d
push    esi
call    sub_277b221b
pop     ecx
mov     eax, esi
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+w]
push    edi
lea     eax, [esi+1]
cdq
sub     eax, edx
mov     ecx, eax
mov     al, byte ptr [ebp+arg_10]
and     al, 1
sar     ecx, 1
neg     al
sbb     eax, eax
and     eax, 2
dec     eax
mov     edi, eax
cmp     edi, 0ffffffffh
jnz     short loc_277cc8ca
mov     eax, esi
push    2
cdq
pop     esi
idiv    esi
neg     edx
sbb     edx, edx
inc     edx
inc     edx
mov     esi, edx
test    byte ptr [ebp+arg_10], 4
jz      short loc_277cc917
cmp     edi, 0ffffffffh
jnz     short loc_277cc912
mov     eax, [ebp+x]
lea     ebx, [eax+ecx-1]
test    ecx, ecx
jle     short loc_277cc908
mov     [ebp+arg_10], ecx
mov     eax, [ebp+y]
inc     [ebp+y]
push    0f00021h
push    1
push    esi
push    eax
push    ebx
push    [ebp+hdc]
call    ds:patblt
lea     eax, [edi+edi]
add     ebx, edi
sub     esi, eax
dec     [ebp+arg_10]
jnz     short loc_277cc8e3
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    14h
mov     ebx, [ebp+x]
jmp     short loc_277cc8dc
cmp     edi, 0ffffffffh
jnz     short loc_277cc951
mov     eax, [ebp+y]
lea     ebx, [eax+ecx-1]
test    ecx, ecx
jle     short loc_277cc908
mov     [ebp+arg_10], ecx
mov     eax, [ebp+x]
inc     [ebp+x]
push    0f00021h
push    esi
push    1
push    ebx
push    eax
push    [ebp+hdc]
call    ds:patblt
lea     eax, [edi+edi]
add     ebx, edi
sub     esi, eax
dec     [ebp+arg_10]
jz      short loc_277cc908
jmp     short loc_277cc92a
mov     ebx, [ebp+y]
jmp     short loc_277cc923
push    esi
push    edi
mov     edi, [esp+8+arg_0]
push    1
lea     esi, [edi-0c0h]
mov     ecx, esi
call    sub_277d91a1
mov     eax, [esi]
push    0
push    offset sub_277dd0f1
mov     ecx, esi
push    dword ptr [edi-20h]
push    7d5h
call    dword ptr [eax+28h]
push    eax
call    ds:dialogboxparama
push    0
mov     ecx, esi
call    sub_277d91a1
pop     edi
pop     esi
retn    4
mov     eax, [esp+arg_0]
push    0
lea     ecx, [eax+5ch]
call    sub_277dde52
retn    4
push    ebp
mov     ebp, esp
sub     esp, 24h
cmp     [ebp+arg_4], 0bh
jnz     loc_277cca3d
push    edi
push    esi
mov     esi, [ebp+arg_0]
push    ebx
lea     ecx, [ebp+var_24]
push    dword ptr [esi+1ch]
lea     edi, [esi-0c8h]
push    edi
call    sub_277c2521
and     [ebp+arg_4], 0
lea     eax, [ebp+arg_4]
push    eax
lea     ecx, [ebp+var_24]
call    sub_277c1c45
cmp     [ebp+arg_4], 0
mov     ebx, eax
jnz     short loc_277cca27
cmp     dword ptr [esi+1ch], 0
jnz     short loc_277cca27
cmp     dword ptr [esi+20h], 0ffffffffh
jz      short loc_277cca27
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jz      short loc_277cca27
or      dword ptr [esi+20h], 0ffffffffh
mov     ecx, edi
call    sub_277b7fce
mov     eax, [ebp+arg_4]
test    eax, eax
jz      short loc_277cca16
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
lea     ecx, [ebp+var_24]
call    sub_277c2142
mov     eax, ebx
pop     ebx
pop     esi
pop     edi
leave
retn    0ch
push    [ebp+arg_8]
mov     eax, [edi]
push    dword ptr [esi+20h]
push    [ebp+arg_4]
push    edi
call    dword ptr [eax+84h]
mov     ebx, eax
jmp     short loc_277cca09
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277cbfd0
jmp     short locret_277cca23
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
xor     esi, esi
cmp     [ebp+arg_4], esi
push    edi
mov     [ebp+var_8], esi
mov     [ebp+var_4], esi
jz      loc_277ccb22
cmp     dword ptr [ebx+114h], 0ffffffffh
jz      loc_277ccb22
lea     eax, [ebp+var_4]
push    eax
push    [ebp+arg_4]
call    sub_277c1f60
mov     eax, [ebp+var_4]
pop     ecx
pop     ecx
lea     edx, [ebp+var_8]
mov     ecx, [eax]
push    edx
push    800h
push    esi
push    eax
call    dword ptr [ecx+10h]
mov     edi, eax
mov     eax, [ebp+var_4]
cmp     eax, esi
jz      short loc_277ccaa9
mov     [ebp+var_4], esi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     edi, esi
mov     esi, [ebp+arg_c]
jl      short loc_277ccaf5
mov     eax, [ebp+var_8]
lea     edx, [ebp+arg_4]
push    edx
push    1
mov     ecx, [eax]
push    esi
push    dword ptr [ebx+114h]
push    eax
call    dword ptr [ecx+1ch]
mov     edi, eax
test    edi, edi
jl      short loc_277ccafe
push    dword ptr [esi]
call    ds:sysstringlen
push    0ffffffffh
push    eax
push    1
push    offset adefault
push    dword ptr [esi]
call    sub_277c2795
cmp     eax, 2
jnz     short loc_277ccaf5
push    dword ptr [esi]
call    ds:sysfreestring
and     dword ptr [esi], 0
test    edi, edi
jl      short loc_277ccafe
cmp     dword ptr [esi], 0
jnz     short loc_277ccb0c
push    dword ptr [ebx+19ch]
call    ds:sysallocstring
mov     [esi], eax
mov     eax, [ebp+var_8]
test    eax, eax
jz      short loc_277ccb19
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    10h
push    dword ptr [ebx+198h]
call    ds:sysallocstring
mov     ecx, [ebp+arg_c]
mov     [ecx], eax
jmp     short loc_277ccb19
push    ebp
mov     ebp, esp
sub     esp, 24h
cmp     [ebp+arg_4], 0bh
jnz     short loc_277ccbba
mov     eax, [ebp+arg_0]
push    edi
push    1
mov     ecx, [eax+1ch]
pop     edi
test    ecx, ecx
jz      short loc_277ccbb3
push    esi
lea     esi, [eax-0c8h]
push    ecx
push    esi
lea     ecx, [ebp+var_24]
call    sub_277c2521
and     [ebp+arg_4], 0
lea     eax, [ebp+arg_4]
push    eax
lea     ecx, [ebp+var_24]
call    sub_277c1c45
test    eax, eax
jl      short loc_277ccb9d
mov     eax, [ebp+arg_4]
lea     edx, [ebp+arg_0]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
test    eax, eax
jl      short loc_277ccb9d
cmp     [ebp+arg_0], 0
jbe     short loc_277ccb9d
push    [ebp+arg_4]
mov     ecx, esi
push    [ebp+arg_c]
push    [ebp+cbmultibyte]
call    sub_277ccc00
mov     edi, eax
mov     eax, [ebp+arg_4]
test    eax, eax
jz      short loc_277ccbaa
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
lea     ecx, [ebp+var_24]
call    sub_277c2142
pop     esi
mov     eax, edi
pop     edi
leave
retn    10h
push    [ebp+arg_c]
push    [ebp+cbmultibyte]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277cbff6
jmp     short locret_277ccbb6
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 0bh
jnz     short loc_277ccbed
mov     ecx, [ebp+arg_0]
push    offset dword_277b6008
push    [ebp+arg_8]
push    [ebp+arg_c]
call    sub_277cc344
pop     ebp
retn    10h
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277cc031
jmp     short loc_277ccbe9
push    ebp
mov     ebp, esp
sub     esp, 138h
push    ebx
push    esi
push    edi
mov     edi, [ebp+cbmultibyte]
xor     esi, esi
mov     ebx, ecx
cmp     edi, esi
mov     [ebp+var_4], esi
mov     [ebp+lpmem], esi
mov     [ebp+var_14], esi
mov     [ebp+var_18], esi
mov     [ebp+var_28], esi
mov     [ebp+var_24], esi
mov     [ebp+var_20], esi
mov     [ebp+var_1c], esi
jz      loc_277ccf98
mov     eax, [ebp+arg_4]
cmp     eax, esi
jz      loc_277ccf98
mov     [eax], esi
lea     eax, [ebp+var_10]
push    eax
mov     [edi], esi
push    [ebp+arg_8]
mov     [ebp+var_10], esi
call    sub_277c1f60
mov     eax, [ebp+var_10]
pop     ecx
pop     ecx
lea     edx, [ebp+var_4]
mov     ecx, [eax]
push    edx
push    800h
push    esi
push    eax
call    dword ptr [ecx+10h]
mov     [ebp+cbmultibyte], eax
mov     eax, [ebp+var_10]
cmp     eax, esi
jz      short loc_277ccc79
mov     [ebp+var_10], esi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     [ebp+cbmultibyte], esi
jl      loc_277ccfc4
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [ebp+arg_8]
push    esi
lea     edx, [ebp+pvarg]
push    esi
mov     ecx, [eax]
push    edx
lea     edx, [ebp+var_28]
push    edx
push    2
push    800h
push    offset dword_277b6008
push    esi
push    eax
call    dword ptr [ecx+18h]
mov     [ebp+cbmultibyte], eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
cmp     [ebp+cbmultibyte], esi
jge     loc_277ccf85
mov     [ebp+arg_8], esi
mov     [ebp+var_14], 1
lea     eax, [ebp+var_18]
mov     ecx, ebx
push    eax
lea     eax, [ebp+lpmem]
push    eax
lea     eax, [ebp+var_14]
push    eax
push    offset dword_277b6008
push    [ebp+var_4]
call    sub_277cd019
mov     ecx, [ebp+arg_4]
mov     eax, [ebp+var_14]
mov     [ecx], eax
mov     [edi], eax
shl     eax, 2
push    eax
call    ds:cotaskmemalloc
cmp     eax, esi
mov     [edi+4], eax
jz      loc_277ccfbd
mov     eax, [ebp+arg_4]
mov     eax, [eax]
shl     eax, 2
push    eax
call    ds:cotaskmemalloc
mov     ecx, [ebp+arg_4]
cmp     eax, esi
mov     [ecx+4], eax
jz      loc_277ccfbd
push    dword ptr [ebx+198h]
call    ds:lstrlenw
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
push    esi
push    esi
push    [ebp+cbmultibyte]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    dword ptr [ebx+198h]
push    esi
push    esi
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
lea     eax, [ebp+multibytestr]
push    offset as
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+multibytestr]
push    1
push    eax
call    sub_277b7d29
pop     ecx
mov     [ebp+cbmultibyte], 1
pop     ecx
mov     ecx, [edi+4]
mov     [ecx], eax
mov     eax, [ebp+arg_4]
mov     eax, [eax+4]
or      dword ptr [eax], 0ffffffffh
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277ccdbe
test    [ebp+var_3c], 1
jz      short loc_277ccdbe
push    [ebp+lpmultibytestr]
push    esi
push    dword_278282f0
call    ds:heapfree
cmp     [ebp+arg_8], esi
jz      loc_277cce63
push    dword ptr [ebx+19ch]
call    ds:lstrlenw
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+arg_8], eax
call    sub_277b37aa
push    esi
push    esi
push    [ebp+arg_8]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    dword ptr [ebx+19ch]
push    esi
push    esi
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
lea     eax, [ebp+multibytestr]
push    offset as
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+multibytestr]
push    1
push    eax
call    sub_277b7d29
pop     ecx
mov     [ebp+cbmultibyte], 2
pop     ecx
mov     ecx, [edi+4]
mov     [ecx+4], eax
mov     eax, [ebp+arg_4]
mov     eax, [eax+4]
mov     [eax+4], esi
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277cce63
test    [ebp+var_3c], 1
jz      short loc_277cce63
push    [ebp+lpmultibytestr]
push    esi
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
cmp     [ebp+var_18], esi
mov     [ebp+arg_8], eax
jle     loc_277ccf56
mov     ecx, [ebp+cbmultibyte]
mov     ebx, ecx
shl     ebx, 2
mov     ecx, [ebp+lpmem]
lea     eax, [ecx+eax*8]
mov     ecx, [eax+4]
test    cl, 4
jz      loc_277ccf46
test    cl, 2
jz      loc_277ccf46
mov     ecx, [ebp+var_4]
push    esi
push    esi
lea     edx, [ebp+lpstring]
mov     ecx, [ecx]
push    esi
push    edx
push    dword ptr [eax]
push    [ebp+var_4]
call    dword ptr [ecx+30h]
cmp     eax, esi
mov     [ebp+cbmultibyte], eax
jl      loc_277ccfc4
push    [ebp+lpstring]
call    ds:lstrlenw
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
push    esi
push    esi
push    [ebp+cbmultibyte]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+lpstring]
push    esi
push    esi
call    ds:widechartomultibyte
push    1
push    [ebp+lpmultibytestr]
call    sub_277b7d29
pop     ecx
mov     edx, [ebp+arg_8]
pop     ecx
mov     ecx, [edi+4]
mov     [ebx+ecx], eax
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+lpmem]
mov     eax, [eax+4]
mov     ecx, [ecx+edx*8]
mov     [ebx+eax], ecx
push    [ebp+lpstring]
call    ds:sysfreestring
mov     eax, [edi+4]
mov     [ebp+lpstring], esi
cmp     [ebx+eax], esi
jz      short loc_277ccf9c
add     ebx, 4
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277ccf46
test    [ebp+var_3c], 1
jz      short loc_277ccf46
push    [ebp+lpmultibytestr]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     eax, [ebp+arg_8]
inc     eax
cmp     eax, [ebp+var_18]
mov     [ebp+arg_8], eax
jl      loc_277cce79
mov     [ebp+cbmultibyte], esi
mov     eax, [ebp+var_4]
cmp     eax, esi
jz      short loc_277ccf66
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     [ebp+lpmem], esi
jz      short loc_277ccf7b
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     eax, [ebp+cbmultibyte]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     [ebp+arg_8], 1
mov     [ebp+var_14], 2
jmp     loc_277ccccc
xor     eax, eax
jmp     short loc_277ccf7e
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277ccfbd
test    [ebp+var_3c], 1
jz      short loc_277ccfbd
push    [ebp+lpmultibytestr]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     [ebp+cbmultibyte], 8007000eh
mov     eax, [edi]
cmp     eax, esi
jz      short loc_277ccff6
cmp     [edi+4], esi
jz      short loc_277ccff4
xor     ebx, ebx
cmp     eax, esi
jle     short loc_277ccfeb
mov     eax, [edi+4]
mov     eax, [eax+ebx*4]
cmp     eax, esi
jz      short loc_277ccfe6
push    eax
call    ds:cotaskmemfree
inc     ebx
cmp     ebx, [edi]
jl      short loc_277ccfd5
push    dword ptr [edi+4]
call    ds:cotaskmemfree
mov     [edi], esi
mov     eax, [ebp+arg_4]
cmp     [eax], esi
jz      loc_277ccf59
mov     eax, [eax+4]
cmp     eax, esi
jz      short loc_277cd00f
push    eax
call    ds:cotaskmemfree
mov     eax, [ebp+arg_4]
mov     [eax], esi
jmp     loc_277ccf59
push    ebp
mov     ebp, esp
sub     esp, 0ch
mov     eax, [ebp+arg_0]
push    ebx
mov     ebx, [ebp+arg_10]
push    esi
push    edi
xor     edi, edi
lea     edx, [ebp+var_4]
mov     [ebx], edi
mov     ecx, [eax]
push    edx
push    eax
mov     [ebp+var_4], edi
mov     [ebp+var_c], edi
mov     [ebp+var_8], edi
call    dword ptr [ecx+0ch]
cmp     eax, edi
jl      loc_277cd1cd
mov     eax, [ebp+var_4]
movzx   esi, word ptr [eax+2eh]
movzx   eax, word ptr [eax+2ch]
add     esi, eax
mov     eax, esi
shl     eax, 3
push    eax
push    edi
push    dword_278282f0
call    ds:heapalloc
mov     edi, [ebp+arg_c]
test    eax, eax
mov     [edi], eax
jz      loc_277cd1cd
xor     eax, eax
test    esi, esi
jle     short loc_277cd08c
mov     ecx, [edi]
or      dword ptr [ecx+eax*8], 0ffffffffh
mov     ecx, [edi]
and     dword ptr [ecx+eax*8+4], 0
inc     eax
cmp     eax, esi
jl      short loc_277cd07a
mov     eax, [ebp+var_4]
xor     esi, esi
cmp     [eax+2eh], si
jbe     short loc_277cd0e6
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_c]
push    edx
push    esi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+18h]
test    eax, eax
jl      loc_277cd1cd
mov     eax, [ebp+var_c]
test    byte ptr [eax+1ch], 40h
jnz     short loc_277cd0d0
mov     ecx, [ebx]
mov     edx, [edi]
mov     eax, [eax]
mov     [edx+ecx*8], eax
mov     eax, [ebx]
mov     ecx, [edi]
mov     dword ptr [ecx+eax*8+4], 6
inc     dword ptr [ebx]
mov     eax, [ebp+var_c]
mov     ecx, [ebp+arg_0]
push    eax
push    ecx
mov     edx, [ecx]
call    dword ptr [edx+54h]
mov     eax, [ebp+var_4]
inc     esi
movzx   ecx, word ptr [eax+2eh]
cmp     esi, ecx
jl      short loc_277cd097
and     [ebp+arg_10], 0
cmp     word ptr [eax+2ch], 0
jbe     loc_277cd188
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_8]
push    edx
push    [ebp+arg_10]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
test    eax, eax
jl      loc_277cd1cd
mov     edx, [ebp+var_8]
mov     eax, [edx+10h]
cmp     eax, 4
mov     [ebp+arg_c], eax
jz      short loc_277cd120
cmp     eax, 2
jnz     short loc_277cd16b
mov     eax, [ebp+var_4]
movzx   eax, word ptr [eax+2eh]
cmp     eax, [ebx]
jge     short loc_277cd145
mov     ecx, [edi]
mov     edx, [edx]
lea     esi, [ecx+eax*8]
cmp     [esi], edx
jz      loc_277cd1bf
inc     eax
add     esi, 8
cmp     eax, [ebx]
jl      short loc_277cd132
mov     edx, [ebp+var_8]
mov     ecx, [ebx]
cmp     eax, ecx
jnz     short loc_277cd16b
test    byte ptr [edx+30h], 40h
jnz     short loc_277cd16b
mov     eax, [edi]
mov     edx, [edx]
mov     [eax+ecx*8], edx
mov     edx, [ebp+var_8]
mov     eax, [ebx]
mov     ecx, [edi]
mov     edx, [edx+10h]
mov     [ecx+eax*8+4], edx
inc     dword ptr [ebx]
mov     edx, [ebp+var_8]
mov     eax, [ebp+arg_0]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+50h]
mov     eax, [ebp+var_4]
inc     [ebp+arg_10]
movzx   ecx, word ptr [eax+2ch]
cmp     [ebp+arg_10], ecx
jl      loc_277cd0f5
xor     esi, esi
cmp     [ebx], esi
jle     short loc_277cd1a8
mov     edx, [ebp+arg_8]
mov     ecx, [edi]
mov     ecx, [ecx+esi*8+4]
test    cl, 4
jz      short loc_277cd1a3
test    cl, 2
jz      short loc_277cd1a3
inc     dword ptr [edx]
inc     esi
cmp     esi, [ebx]
jl      short loc_277cd191
test    eax, eax
jz      short loc_277cd1b6
mov     ecx, [ebp+arg_0]
push    eax
push    ecx
mov     edx, [ecx]
call    dword ptr [edx+4ch]
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    14h
mov     edx, [ebp+arg_c]
lea     ecx, [ecx+eax*8+4]
or      [ecx], edx
jmp     loc_277cd142
mov     eax, [ebp+var_4]
jmp     short loc_277cd1a8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
add     eax, 0ffffff2ch
mov     [ecx], eax
xor     eax, eax
retn    8
mov     eax, [esp+arg_0]
lea     ecx, [eax-0d4h]
call    sub_277c1b87
retn    4
sub     dword ptr [esp+4], 24h
jmp     sub_277b516f
sub     dword ptr [esp+4], 28h
jmp     sub_277b516f
sub     [esp+arg_0], 4
jmp     sub_277b5219
sub     [esp+arg_0], 4
mov     eax, 80004001h
retn    8
sub     [esp+arg_0], 2ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 30h
jmp     sub_277b516f
sub     dword ptr [esp+4], 34h
jmp     sub_277b516f
sub     [esp+arg_0], 4
mov     eax, [esp+arg_0]
push    esi
push    edi
mov     edi, [esp+8+arg_4]
mov     eax, [eax-38h]
mov     eax, off_278286a4[eax*8]
mov     esi, [eax]
xor     eax, eax
movsd
movsd
movsd
movsd
pop     edi
pop     esi
retn    8
sub     [esp+arg_0], 38h
jmp     sub_277b516f
sub     [esp+arg_0], 38h
jmp     loc_277b7e77
sub     [esp+arg_0], 38h
jmp     loc_277b7eac
sub     [esp+arg_0], 8
jmp     short loc_277cd246
sub     [esp+arg_0], 4
mov     eax, [esp+arg_0]
mov     al, [eax+60h]
not     al
and     eax, 1
retn    4
sub     [esp+arg_0], 3ch
jmp     sub_277b516f
sub     [esp+arg_0], 3ch
jmp     loc_277b7e77
sub     [esp+arg_0], 3ch
jmp     loc_277b7eac
sub     dword ptr [esp+4], 40h
jmp     sub_277b516f
sub     dword ptr [esp+4], 40h
jmp     loc_277b7e77
sub     dword ptr [esp+4], 40h
jmp     loc_277b7eac
sub     dword ptr [esp+4], 44h
jmp     sub_277b516f
sub     dword ptr [esp+4], 44h
jmp     loc_277b7e77
sub     dword ptr [esp+4], 44h
jmp     loc_277b7eac
sub     dword ptr [esp+4], 48h
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     loc_277b7e77
sub     dword ptr [esp+4], 4ch
jmp     loc_277b7eac
sub     [esp+arg_0], 0c0h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d98ec
retn    8
sub     [esp+arg_0], 0c0h
jmp     sub_277b8a21
sub     dword ptr [esp+4], 0a8h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0a8h
jmp     loc_277b7e77
sub     dword ptr [esp+4], 0a8h
jmp     loc_277b7eac
sub     dword ptr [esp+4], 0c4h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d9906
retn    8
sub     dword ptr [esp+4], 0ach
jmp     sub_277b516f
sub     dword ptr [esp+4], 0ach
jmp     loc_277b7e77
sub     dword ptr [esp+4], 0ach
jmp     loc_277b7eac
sub     ecx, 0c8h
jmp     loc_277b8bea
sub     dword ptr [esp+4], 0b4h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0b8h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0b8h
jmp     loc_277b7e77
sub     dword ptr [esp+4], 0b8h
jmp     loc_277b7eac
mov     ax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
cmp     [esi+1ch], ax
jz      short loc_277cd440
test    ax, ax
jge     short loc_277cd420
mov     edx, [esi-0c0h]
lea     ecx, [esi-0c0h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
pop     esi
retn    8
lea     ecx, [esi-0c0h]
mov     [esi+1ch], ax
call    sub_277b899b
push    1
lea     ecx, [esi-94h]
call    sub_277b4535
or      dword ptr [esi-10h], 1
xor     eax, eax
jmp     short loc_277cd41c
push    esi
mov     esi, [esp+4+arg_0]
push    0
lea     ecx, [esi-0c0h]
call    sub_277c1a48
mov     ax, [esi+1ch]
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx], ax
xor     eax, eax
retn    8
push    dword_278282f0
push    30h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277cd489
push    [esp+arg_0]
mov     ecx, eax
call    sub_277cd48d
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277cd485
push    esi
push    3
push    [esp+8+arg_0]
mov     esi, ecx
call    sub_277d9c1c
mov     dword ptr [esi], offset off_277ca3b8
mov     dword ptr [esi+14h], offset off_277ca378
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277cd4d6
test    byte ptr [esp+8], 1
jz      short loc_277cd4d0
test    esi, esi
jz      short loc_277cd4d0
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277ca3b8
mov     dword ptr [ecx+14h], offset off_277ca378
push    esi
mov     esi, ecx
mov     eax, [esi+1ch]
mov     dword ptr [esi], offset off_277cb1c8
test    eax, eax
mov     dword ptr [esi+14h], offset off_277cb188
jz      short loc_277cd512
push    0ffffffffh
push    0ffffffebh
push    eax
call    ds:setwindowlonga
push    dword ptr [esi+1ch]
call    ds:destroywindow
and     dword ptr [esi+1ch], 0
mov     ecx, esi
call    sub_277da519
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_277cd52a
mov     ecx, [eax]
and     dword ptr [esi+18h], 0
push    eax
call    dword ptr [ecx+8]
push    offset addend
mov     dword ptr [esi], offset off_277b60d8
call    ds:interlockeddecrement
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 0ch
mov     eax, [ebp+arg_4]
push    ebx
push    esi
sub     eax, 110h
push    edi
mov     [ebp+var_4], ecx
jz      loc_277cd71e
dec     eax
jz      loc_277cd6ee
sub     eax, 353h
jz      loc_277cd635
dec     eax
jnz     loc_277cd71a
xor     ebx, ebx
mov     esi, ds:getdlgitem
push    ebx
push    ebx
push    147h
push    0af0h
push    [ebp+hdlg]
mov     [ebp+arg_4], ebx
call    esi
mov     edi, ds:sendmessagea
push    eax
call    edi
mov     ecx, [ebp+var_4]
mov     [ebp+var_8], eax
lea     eax, [ebp+var_c]
push    eax
call    sub_277da5c8
cmp     eax, ebx
jz      loc_277cd6e4
mov     ecx, [eax]
lea     edx, [ebp+arg_4]
push    edx
push    offset dword_277b1e38
push    eax
call    dword ptr [ecx]
cmp     eax, ebx
jl      short loc_277cd624
mov     eax, [ebp+arg_4]
push    ebx
push    ebx
push    147h
mov     edx, [eax]
push    9c9h
push    [ebp+hdlg]
mov     [ebp+wparam], edx
call    esi
push    eax
call    edi
push    eax
mov     eax, [ebp+wparam]
push    [ebp+arg_4]
call    dword ptr [eax+2ch]
mov     eax, [ebp+arg_4]
push    0
push    0
push    147h
mov     ebx, [eax]
push    9cah
push    [ebp+hdlg]
call    esi
push    eax
call    edi
push    eax
push    [ebp+arg_4]
call    dword ptr [ebx+60h]
mov     eax, [ebp+arg_4]
push    [ebp+var_8]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+90h]
mov     eax, [ebp+arg_4]
xor     ebx, ebx
cmp     eax, ebx
jz      short loc_277cd624
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     ecx, [ebp+var_4]
lea     eax, [ebp+var_c]
push    eax
call    sub_277da5d8
jmp     loc_277cd5a4
mov     ecx, [ebp+var_4]
and     [ebp+arg_4], 0
lea     eax, [ebp+var_4]
push    eax
call    sub_277da5c8
test    eax, eax
jz      loc_277cd71a
mov     ecx, [eax]
lea     edx, [ebp+arg_4]
push    edx
push    offset dword_277b1e38
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      loc_277cd6e7
mov     eax, [ebp+arg_4]
lea     edx, [ebp+wparam]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+30h]
push    0
mov     esi, ds:getdlgitem
push    [ebp+wparam]
mov     ebx, 14eh
push    ebx
push    9c9h
push    [ebp+hdlg]
call    esi
mov     edi, ds:sendmessagea
push    eax
call    edi
mov     eax, [ebp+arg_4]
lea     edx, [ebp+var_c]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+64h]
push    0
push    [ebp+var_c]
push    ebx
push    9cah
push    [ebp+hdlg]
call    esi
push    eax
call    edi
mov     eax, [ebp+arg_4]
lea     edx, [ebp+var_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8ch]
push    0
push    [ebp+var_8]
push    ebx
push    0af0h
push    [ebp+hdlg]
call    esi
push    eax
call    edi
mov     eax, [ebp+arg_4]
test    eax, eax
jz      short loc_277cd6e4
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     ecx, [ebp+wparam]
movzx   eax, cx
cmp     eax, 9c9h
jl      short loc_277cd71a
cmp     eax, 9cah
jle     short loc_277cd709
cmp     eax, 0af0h
jnz     short loc_277cd71a
shr     ecx, 10h
cmp     cx, 1
jnz     short loc_277cd71a
mov     ecx, [ebp+var_4]
call    sub_277da653
xor     eax, eax
jmp     short loc_277cd6e7
push    offset dword_277ca358
push    [ebp+hdlg]
call    sub_277cc417
pop     ecx
pop     ecx
jmp     short loc_277cd71a
push    dword_278282f0
push    40h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277cd751
push    [esp+arg_0]
mov     ecx, eax
call    sub_277cd755
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277cd74d
push    esi
push    4
push    [esp+8+arg_0]
mov     esi, ecx
call    sub_277d9c1c
xor     eax, eax
mov     dword ptr [esi], offset off_277ca410
mov     [esi+30h], eax
mov     [esi+34h], al
mov     [esi+38h], eax
mov     [esi+3ch], eax
mov     dword ptr [esi+14h], offset off_277ca3d0
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277cd7ac
test    byte ptr [esp+8], 1
jz      short loc_277cd7a6
test    esi, esi
jz      short loc_277cd7a6
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277ca410
mov     dword ptr [ecx+14h], offset off_277ca3d0
jmp     sub_277cd4e3
push    ebp
mov     ebp, esp
sub     esp, 1ech
mov     eax, [ebp+cbmultibyte]
push    ebx
push    esi
sub     eax, 111h
push    edi
mov     ebx, ecx
jz      loc_277cdbe2
sub     eax, 353h
jz      loc_277cd924
dec     eax
jnz     loc_277cddfa
lea     eax, [ebp+cbmultibyte]
xor     esi, esi
push    eax
mov     [ebp+cbmultibyte], esi
push    [ebp+hdlg]
call    sub_277ce1f5
cmp     eax, esi
push    esi
push    esi
jge     short loc_277cd858
mov     edi, ds:getdlgitem
push    0f1h
push    9c8h
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
push    esi
push    esi
push    14bh
push    9cbh
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
mov     eax, [ebp+cbmultibyte]
cmp     eax, esi
jz      short loc_277cd844
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
push    [ebp+hdlg]
mov     ecx, ebx
call    sub_277ce559
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edi, ds:getdlgitem
push    0f0h
push    9c8h
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
mov     ecx, [ebx+30h]
mov     [ebp+hwnd], eax
add     ecx, 0c0h
neg     ax
mov     edx, [ecx]
sbb     eax, eax
push    eax
push    ecx
call    dword ptr [edx+68h]
mov     eax, [ebx+30h]
lea     edx, [ebp+hwnd]
add     eax, 0c0h
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+6ch]
xor     eax, eax
cmp     word ptr [ebp+hwnd], si
push    esi
setnz   al
push    eax
push    0f1h
push    9c8h
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
cmp     word ptr [ebp+hwnd], si
jz      loc_277cd837
push    esi
push    esi
push    esi
mov     esi, 9cbh
push    147h
push    esi
push    [ebp+hdlg]
mov     word ptr [ebp+pvarg.anonymous_0], 3
call    edi
push    eax
call    ds:sendmessagea
push    eax
push    150h
push    esi
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
sub     esp, 10h
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
mov     eax, [ebx+30h]
movsd
mov     ecx, [eax+0c0h]
add     eax, 0c0h
movsd
movsd
push    eax
movsd
call    dword ptr [ecx+78h]
xor     esi, esi
jmp     loc_277cd837
lea     esi, [ebx+30h]
xor     edi, edi
mov     [ebp+arg_8], edi
cmp     [esi], edi
jnz     short loc_277cd97c
lea     eax, [ebp+var_68]
mov     ecx, ebx
push    eax
call    sub_277da5c8
cmp     eax, edi
jz      loc_277cddfa
mov     ecx, [eax]
lea     edx, [ebp+arg_8]
push    edx
push    offset dword_277b9170
push    eax
call    dword ptr [ecx]
cmp     eax, edi
jl      loc_277cd844
mov     eax, [ebp+arg_8]
push    esi
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
mov     edi, eax
mov     eax, [ebp+arg_8]
test    eax, eax
jz      short loc_277cd972
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
test    edi, edi
jl      loc_277cd844
xor     edi, edi
mov     eax, [esi]
lea     edx, [ebp+var_8]
add     eax, 0c0h
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+38h]
cmp     eax, edi
jge     short loc_277cd99f
cmp     eax, 80020009h
jnz     loc_277cd844
mov     [ebp+var_8], edi
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [esi]
lea     edx, [ebp+pvarg]
add     eax, 0c0h
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+44h]
cmp     eax, edi
jl      loc_277cd844
push    dword ptr [ebp+pvarg.anonymous_0+8]
lea     ecx, [ebp+var_40]
push    dword ptr [esi]
call    sub_277c2521
push    dword ptr [esi]
lea     ecx, [ebp+var_64]
call    sub_277c1bea
lea     eax, [ebp+var_1c]
lea     ecx, [ebp+var_64]
push    eax
call    sub_277cc565
cmp     eax, edi
jl      loc_277cdbb1
cmp     [ebp+var_1c], edi
jz      loc_277cdbb1
or      byte ptr [ebx+34h], 3
cmp     word ptr [ebp+var_8], di
mov     edi, ds:getdlgitem
mov     esi, 0f1h
jz      loc_277cda99
and     [ebp+cbmultibyte], 0
and     [ebp+var_4], 0
lea     eax, [ebp+cbmultibyte]
lea     ecx, [ebp+var_40]
push    eax
call    sub_277c1c45
test    eax, eax
jl      loc_277cdbc5
cmp     [ebp+cbmultibyte], 0
jz      loc_277cdbc5
lea     eax, [ebp+var_4]
lea     ecx, [ebp+var_64]
push    eax
call    sub_277c1c45
test    eax, eax
jl      loc_277cdbc5
lea     eax, [ebp+var_64]
lea     ecx, [ebp+var_40]
push    eax
call    sub_277cc4d6
test    eax, eax
jz      loc_277cdbc5
or      byte ptr [ebx+34h], 0ch
mov     al, [ebx+34h]
push    0
shr     eax, 2
and     eax, 1
push    eax
push    esi
push    9c7h
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
mov     eax, [ebp+cbmultibyte]
test    eax, eax
jz      short loc_277cda8c
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277cda99
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
lea     ecx, [ebp+var_40]
call    sub_277c2e0c
test    eax, eax
jz      loc_277cdb31
push    dword ptr [ebp+pvarg.anonymous_0+8]
or      byte ptr [ebx+34h], 8
call    ds:lstrlenw
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
xor     eax, eax
push    eax
push    eax
push    [ebp+cbmultibyte]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    dword ptr [ebp+pvarg.anonymous_0+8]
push    eax
push    eax
call    ds:widechartomultibyte
mov     eax, [ebp+lpmultibytestr]
mov     dword ptr [ebx+38h], 1
test    eax, eax
jnz     short loc_277cdaf9
mov     eax, offset byte_277ca428
push    eax
push    9c5h
push    [ebp+hdlg]
call    edi
push    eax
call    ds:setwindowtexta
xor     eax, eax
cmp     [ebp+lpmultibytestr], eax
mov     [ebx+38h], eax
jz      short loc_277cdb31
test    [ebp+var_6c], 1
jz      short loc_277cdb31
push    [ebp+lpmultibytestr]
push    eax
push    dword_278282f0
call    ds:heapfree
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
mov     eax, [ebx+30h]
lea     edx, [ebp+hwnd]
add     eax, 0c0h
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+6ch]
xor     eax, eax
push    0
cmp     word ptr [ebp+hwnd], ax
setnz   al
push    eax
push    esi
push    9c8h
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
lea     eax, [ebp+var_40]
mov     esi, 9cbh
push    eax
push    esi
push    [ebp+hdlg]
call    edi
push    eax
mov     ecx, ebx
call    sub_277cdf87
test    eax, eax
jge     short loc_277cdb9c
push    0
push    0
push    14bh
push    esi
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
lea     ecx, [ebp+var_64]
call    sub_277c2142
lea     ecx, [ebp+var_40]
call    sub_277c2142
jmp     loc_277cd844
cmp     eax, 80004002h
jnz     loc_277cd9fa
or      byte ptr [ebx+34h], 1
jmp     loc_277cd9fa
mov     eax, [ebp+cbmultibyte]
test    eax, eax
jz      loc_277cda61
cmp     eax, [ebp+var_4]
jz      loc_277cda61
or      byte ptr [ebx+34h], 8
jmp     loc_277cda61
mov     eax, [ebp+arg_8]
mov     esi, 9c5h
movzx   ecx, ax
sub     ecx, esi
jz      loc_277cde74
dec     ecx
dec     ecx
jz      loc_277cdce0
dec     ecx
jz      short loc_277cdc71
sub     ecx, 3
jnz     loc_277cddfa
shr     eax, 10h
dec     eax
jz      short loc_277cdc18
sub     eax, 8
jnz     loc_277cddfa
xor     edi, edi
cmp     [ebx+3ch], edi
jnz     loc_277cddfa
mov     esi, ds:sendmessagea
push    edi
push    edi
push    147h
push    [ebp+hwnd]
mov     dword ptr [ebx+3ch], 1
call    esi
cmp     eax, edi
jz      short loc_277cdc6d
cmp     eax, 0ffffffffh
jz      short loc_277cdc6d
push    edi
push    1
push    0f1h
push    9c8h
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
call    esi
mov     [ebx+3ch], edi
mov     ecx, ebx
call    sub_277da653
jmp     loc_277cddfa
push    edi
push    edi
jmp     short loc_277cdc48
shr     eax, 10h
test    ax, ax
jnz     loc_277cddfa
xor     eax, eax
cmp     [ebx+3ch], eax
jnz     loc_277cddfa
push    eax
push    eax
mov     esi, 9cbh
push    146h
push    esi
mov     dword ptr [ebx+3ch], 1
push    [ebp+hdlg]
call    ds:getdlgitem
mov     edi, ds:sendmessagea
push    eax
call    edi
push    0
push    0
push    0f0h
push    [ebp+hwnd]
call    edi
test    eax, eax
push    0
jz      short loc_277cdcdc
push    1
push    14eh
push    esi
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
call    edi
and     dword ptr [ebx+3ch], 0
jmp     short loc_277cdc61
push    0
jmp     short loc_277cdcc4
shr     eax, 10h
test    ax, ax
jnz     loc_277cddfa
xor     edi, edi
push    edi
push    edi
push    0f0h
push    [ebp+hwnd]
call    ds:sendmessagea
push    dword ptr [ebx+30h]
lea     ecx, [ebp+var_64]
mov     [ebp+hwnd], eax
call    sub_277c1bea
cmp     word ptr [ebp+hwnd], di
jz      loc_277cde01
lea     eax, [ebp+hwnd]
lea     ecx, [ebp+var_64]
push    eax
mov     [ebp+hwnd], edi
call    sub_277c2572
mov     esi, ds:getdlgitem
push    edi
push    1
push    0f1h
push    9c7h
push    [ebp+hdlg]
call    esi
push    eax
call    ds:sendmessagea
push    [ebp+hwnd]
or      byte ptr [ebx+34h], 4
call    ds:lstrlenw
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
push    edi
push    edi
push    [ebp+cbmultibyte]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+hwnd]
push    edi
push    edi
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
mov     dword ptr [ebx+38h], 1
push    9c5h
push    [ebp+hdlg]
call    esi
push    eax
call    ds:setwindowtexta
push    [ebp+hwnd]
mov     [ebx+38h], edi
call    ds:sysfreestring
or      byte ptr [ebx+34h], 8
lea     eax, [ebp+var_64]
push    eax
push    9cbh
push    [ebp+hdlg]
call    esi
push    eax
mov     ecx, ebx
call    sub_277cdf87
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277cdde1
test    [ebp+var_6c], 1
jz      short loc_277cdde1
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
push    [ebp+hdlg]
mov     ecx, ebx
call    sub_277ce559
mov     ecx, ebx
call    sub_277da653
lea     ecx, [ebp+var_64]
call    sub_277c2142
xor     eax, eax
jmp     loc_277cd851
push    edi
push    esi
push    [ebp+hdlg]
mov     dword ptr [ebx+38h], 1
call    ds:getdlgitem
push    eax
call    ds:setwindowtexta
and     byte ptr [ebx+34h], 0f7h
push    edi
mov     esi, 0f1h
push    edi
push    esi
push    9c7h
push    [ebp+hdlg]
mov     [ebx+38h], edi
call    ds:getdlgitem
push    eax
call    ds:sendmessagea
and     byte ptr [ebx+34h], 0fbh
push    edi
push    edi
push    esi
mov     esi, ds:getdlgitem
push    9c8h
push    [ebp+hdlg]
call    esi
push    eax
call    ds:sendmessagea
push    edi
push    9cbh
push    [ebp+hdlg]
call    esi
push    eax
mov     ecx, ebx
call    sub_277cdf87
jmp     loc_277cdde1
shr     eax, 10h
cmp     ax, 300h
jnz     loc_277cddfa
xor     eax, eax
cmp     [ebx+38h], eax
jnz     loc_277cdc61
mov     edi, ds:getdlgitem
push    eax
mov     esi, 0f1h
push    eax
push    esi
push    9c7h
push    [ebp+hdlg]
mov     [ebp+hwnd], eax
call    edi
push    eax
call    ds:sendmessagea
and     byte ptr [ebx+34h], 0fbh
lea     eax, [ebp+string]
push    104h
push    eax
push    9c5h
push    [ebp+hdlg]
call    edi
push    eax
call    ds:getwindowtexta
cmp     [ebp+string], 0
jz      short loc_277cdeeb
lea     eax, [ebp+string]
push    0
push    eax
call    sub_277b7d29
pop     ecx
mov     [ebp+hwnd], eax
pop     ecx
push    [ebp+hwnd]
lea     ecx, [ebp+var_40]
push    dword ptr [ebx+30h]
call    sub_277c2521
lea     ecx, [ebp+var_40]
call    sub_277c2e0c
test    eax, eax
jz      short loc_277cdf69
mov     eax, [ebx+30h]
add     eax, 0d4h
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
test    eax, eax
jz      short loc_277cdf23
lea     ecx, [ebp+var_40]
call    sub_277c2610
test    eax, eax
jz      short loc_277cdf69
lea     ecx, [ebp+var_40]
call    sub_277c25df
test    eax, eax
jnz     short loc_277cdf69
or      byte ptr [ebx+34h], 8
lea     eax, [ebp+var_40]
push    eax
push    9cbh
push    [ebp+hdlg]
call    edi
push    eax
mov     ecx, ebx
call    sub_277cdf87
push    [ebp+hwnd]
call    ds:sysfreestring
push    [ebp+hdlg]
mov     ecx, ebx
call    sub_277ce559
lea     ecx, [ebp+var_40]
call    sub_277c2142
jmp     loc_277cdc61
and     byte ptr [ebx+34h], 0f7h
push    0
push    0
push    esi
push    9c8h
push    [ebp+hdlg]
call    edi
push    eax
call    ds:sendmessagea
push    0
jmp     short loc_277cdf37
push    ebp
mov     ebp, esp
sub     esp, 0a4h
push    ebx
push    esi
xor     esi, esi
push    edi
mov     edi, ds:sendmessagea
push    esi
push    0ffffffffh
push    14eh
push    [ebp+hwnd]
mov     ebx, ecx
mov     [ebp+var_24], ebx
mov     [ebp+var_10], esi
mov     [ebp+var_20], esi
mov     [ebp+lpstring], esi
mov     [ebp+cbmultibyte], esi
mov     [ebp+pv], esi
mov     [ebp+var_1c], esi
mov     [ebp+var_18], esi
call    edi
push    esi
push    esi
push    14bh
push    [ebp+hwnd]
call    edi
cmp     [ebp+arg_4], esi
jnz     short loc_277cdfdc
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebx+30h]
lea     edx, [ebp+var_20]
add     eax, 1ch
push    edx
push    offset dword_277b6138
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
cmp     eax, esi
mov     [ebp+var_c], eax
jl      loc_277ce174
mov     ecx, [ebp+arg_4]
lea     eax, [ebp+var_10]
push    eax
call    sub_277c1c45
test    eax, eax
jl      loc_277ce1e9
push    [ebp+var_10]
mov     ecx, [ebx+30h]
lea     eax, [ebp+var_1c]
push    eax
lea     eax, [ebp+cbmultibyte]
push    eax
call    sub_277ccc00
mov     [ebp+var_c], eax
cmp     [ebp+var_c], esi
jl      loc_277ce174
cmp     [ebp+cbmultibyte], esi
mov     [ebp+arg_4], esi
jbe     loc_277ce0d5
mov     eax, [ebp+pv]
mov     ecx, [ebp+arg_4]
push    dword ptr [eax+ecx*4]
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
mov     eax, [ebp+pv]
push    esi
push    esi
push    ebx
push    [ebp+lpmultibytestr]
mov     ebx, [ebp+arg_4]
push    0ffffffffh
push    dword ptr [eax+ebx*4]
push    esi
push    esi
call    ds:widechartomultibyte
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277ce0c5
push    [ebp+lpmultibytestr]
push    esi
push    143h
push    [ebp+hwnd]
call    edi
cmp     eax, 0ffffffffh
jz      short loc_277ce0a4
mov     ecx, [ebp+var_18]
push    dword ptr [ecx+ebx*4]
push    eax
push    151h
push    [ebp+hwnd]
call    edi
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277ce0c5
test    [ebp+var_28], 1
jz      short loc_277ce0c5
push    [ebp+lpmultibytestr]
push    esi
push    dword_278282f0
call    ds:heapfree
inc     ebx
cmp     ebx, [ebp+cbmultibyte]
mov     [ebp+arg_4], ebx
jb      loc_277ce03a
mov     ebx, [ebp+var_24]
cmp     [ebp+var_10], esi
jz      loc_277ce174
mov     eax, [ebx+30h]
lea     edx, [ebp+lpstring]
push    edx
push    esi
push    [ebp+var_10]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+84h]
cmp     eax, esi
mov     [ebp+var_c], eax
jl      short loc_277ce174
push    [ebp+lpstring]
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
push    esi
push    esi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+lpstring]
push    esi
push    esi
call    ds:widechartomultibyte
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277ce174
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    14ch
push    [ebp+hwnd]
call    edi
cmp     eax, 0ffffffffh
jz      short loc_277ce153
push    esi
push    eax
push    14eh
push    [ebp+hwnd]
call    edi
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277ce174
test    [ebp+var_28], 1
jz      short loc_277ce174
push    [ebp+lpmultibytestr]
push    esi
push    dword_278282f0
call    ds:heapfree
cmp     [ebp+cbmultibyte], esi
mov     edi, ds:cotaskmemfree
jz      short loc_277ce1a9
cmp     [ebp+pv], esi
jz      short loc_277ce1a6
xor     ebx, ebx
cmp     [ebp+cbmultibyte], esi
jbe     short loc_277ce19e
mov     eax, [ebp+pv]
mov     eax, [eax+ebx*4]
cmp     eax, esi
jz      short loc_277ce198
push    eax
call    edi
inc     ebx
cmp     ebx, [ebp+cbmultibyte]
jb      short loc_277ce18b
push    [ebp+pv]
call    edi
mov     [ebp+pv], esi
mov     [ebp+cbmultibyte], esi
cmp     [ebp+var_1c], esi
jz      short loc_277ce1be
cmp     [ebp+var_18], esi
jz      short loc_277ce1bb
push    [ebp+var_18]
call    edi
mov     [ebp+pv], esi
mov     [ebp+var_1c], esi
mov     eax, [ebp+var_20]
cmp     eax, esi
jz      short loc_277ce1cb
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_10]
cmp     eax, esi
jz      short loc_277ce1d8
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
push    [ebp+lpstring]
call    ds:sysfreestring
mov     eax, [ebp+var_c]
jmp     loc_277cdfd5
mov     [ebp+var_c], 80004005h
jmp     loc_277ce025
push    ebp
mov     ebp, esp
sub     esp, 368h
push    ebx
push    esi
mov     eax, [ebp+arg_4]
push    edi
xor     edi, edi
mov     esi, ds:getdlgitem
push    edi
push    edi
push    0f0h
push    9c7h
push    [ebp+hdlg]
mov     ebx, ecx
mov     [eax], edi
call    esi
push    eax
call    ds:sendmessagea
mov     [ebp+cbmultibyte], eax
mov     eax, [ebx+30h]
mov     edx, [ebp+cbmultibyte]
add     eax, 0c0h
neg     edx
mov     ecx, [eax]
sbb     edx, edx
push    edx
push    eax
call    dword ptr [ecx+34h]
cmp     eax, edi
mov     [ebp+var_8], eax
jge     loc_277ce2f0
xor     eax, eax
cmp     [ebp+cbmultibyte], edi
push    edi
setz    al
push    eax
push    0f1h
push    9c7h
push    [ebp+hdlg]
call    esi
push    eax
call    ds:sendmessagea
push    dword ptr [ebx+30h]
lea     ecx, [ebp+var_64]
call    sub_277c1bea
lea     eax, [ebp+var_1c]
lea     ecx, [ebp+var_64]
push    eax
call    sub_277cc565
cmp     eax, edi
jl      loc_277ce53e
cmp     [ebp+var_1c], edi
jz      loc_277ce53e
mov     byte ptr [ebx+34h], 3
push    9c5h
push    [ebp+hdlg]
call    esi
push    eax
call    ds:getwindowtextlengtha
test    eax, eax
jle     loc_277ce552
push    8
pop     eax
or      [ebx+34h], al
push    edi
push    edi
push    0f0h
push    9c7h
push    [ebp+hdlg]
call    esi
push    eax
call    ds:sendmessagea
neg     eax
sbb     eax, eax
lea     ecx, [ebp+var_64]
and     eax, 4
or      [ebx+34h], al
call    sub_277c2142
xor     eax, eax
cmp     [ebp+var_8], edi
pop     edi
pop     esi
setnl   al
pop     ebx
leave
retn    8
cmp     [ebp+cbmultibyte], edi
jz      loc_277ce411
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [ebx+30h]
lea     edx, [ebp+pvarg]
add     eax, 0c0h
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+44h]
cmp     eax, edi
mov     [ebp+var_8], eax
jl      loc_277ce3c9
push    dword ptr [ebp+pvarg.anonymous_0+8]
lea     ecx, [ebp+var_40]
push    dword ptr [ebx+30h]
call    sub_277c2521
push    dword ptr [ebp+pvarg.anonymous_0+8]
call    ds:lstrlenw
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
push    edi
push    edi
push    [ebp+cbmultibyte]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    dword ptr [ebp+pvarg.anonymous_0+8]
push    edi
push    edi
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
mov     dword ptr [ebx+38h], 1
push    9c5h
push    [ebp+hdlg]
call    esi
push    eax
call    ds:setwindowtexta
lea     eax, [ebp+pvarg]
mov     [ebx+38h], edi
push    eax
call    ds:variantclear
push    [ebp+arg_4]
lea     ecx, [ebp+var_40]
call    sub_277c1c45
cmp     [ebp+lpmultibytestr], edi
mov     [ebp+var_8], eax
jz      short loc_277ce3bc
test    [ebp+var_68], 1
jz      short loc_277ce3bc
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
lea     ecx, [ebp+var_40]
call    sub_277c2142
jmp     loc_277ce26c
push    edi
push    9c5h
push    [ebp+hdlg]
mov     dword ptr [ebx+38h], 1
call    esi
push    eax
call    ds:setwindowtexta
push    edi
push    edi
push    0f1h
push    9c7h
push    [ebp+hdlg]
mov     [ebx+38h], edi
call    esi
push    eax
call    ds:sendmessagea
mov     eax, [ebx+30h]
push    edi
add     eax, 0c0h
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+34h]
jmp     loc_277ce26c
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
lea     eax, [ebp+string]
push    104h
push    eax
push    9c5h
push    [ebp+hdlg]
call    esi
push    eax
call    ds:getwindowtexta
cmp     [ebp+string], 0
mov     word ptr [ebp+pvarg.anonymous_0], 8
jnz     short loc_277ce4aa
mov     dword ptr [ebp+pvarg.anonymous_0+8], edi
sub     esp, 10h
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     eax, [ebx+30h]
movsd
mov     ecx, [eax+0c0h]
add     eax, 0c0h
movsd
movsd
push    eax
movsd
call    dword ptr [ecx+3ch]
test    eax, eax
mov     [ebp+var_8], eax
jl      short loc_277ce4be
push    dword ptr [ebp+pvarg.anonymous_0+8]
lea     ecx, [ebp+var_40]
push    dword ptr [ebx+30h]
call    sub_277c2521
push    [ebp+arg_4]
lea     ecx, [ebp+var_40]
call    sub_277c1c45
lea     ecx, [ebp+var_40]
mov     [ebp+var_8], eax
call    sub_277c2142
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
mov     esi, ds:getdlgitem
xor     edi, edi
jmp     loc_277ce26c
lea     eax, [ebp+string]
push    edi
push    eax
call    sub_277b7d29
pop     ecx
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
pop     ecx
jmp     short loc_277ce44a
mov     edi, 0ffh
lea     eax, [ebp+buffer]
push    edi
push    eax
push    8bb0h
mov     ecx, ebx
call    sub_277da66e
mov     esi, ds:loadstringa
push    eax
call    esi
lea     eax, [ebp+caption]
push    edi
push    eax
push    7dah
mov     ecx, ebx
call    sub_277da66e
push    eax
call    esi
lea     eax, [ebp+caption]
push    30h
push    eax
lea     eax, [ebp+buffer]
xor     esi, esi
push    eax
push    esi
call    ds:messageboxa
push    [ebp+hdlg]
call    ds:setfocus
push    esi
push    9c5h
push    [ebp+hdlg]
mov     dword ptr [ebx+38h], 1
call    ds:getdlgitem
push    eax
call    ds:setwindowtexta
mov     [ebx+38h], esi
jmp     loc_277ce493
cmp     eax, 80004002h
jnz     loc_277ce298
mov     byte ptr [ebx+34h], 1
jmp     loc_277ce298
xor     eax, eax
jmp     loc_277ce2b4
push    ecx
push    ecx
mov     cl, [ecx+34h]
push    ebx
push    ebp
push    esi
movzx   eax, cl
push    edi
push    1
mov     ebx, eax
pop     edx
shr     eax, 1
and     ebx, edx
and     eax, edx
test    dl, cl
mov     [esp+18h+benable], eax
jz      short loc_277ce5e9
test    cl, 8
jz      short loc_277ce5e9
mov     [esp+18h+var_8], edx
mov     ebp, [esp+18h+hdlg]
mov     esi, ds:getdlgitem
push    ebx
push    9c6h
push    ebp
call    esi
mov     edi, ds:enablewindow
push    eax
call    edi
push    ebx
push    9c5h
push    ebp
call    esi
push    eax
call    edi
push    [esp+18h+benable]
push    9c7h
push    ebp
call    esi
push    eax
call    edi
mov     ebx, [esp+18h+var_8]
push    ebx
push    9c8h
push    ebp
call    esi
push    eax
call    edi
push    ebx
push    9cbh
push    ebp
call    esi
push    eax
call    edi
push    ebx
push    9cch
push    ebp
call    esi
push    eax
call    edi
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
pop     ecx
retn    4
and     [esp+18h+var_8], 0
jmp     short loc_277ce581
push    dword_278282f0
push    30h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277ce612
push    [esp+arg_0]
mov     ecx, eax
call    sub_277ce616
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277ce60e
push    esi
push    5
push    [esp+8+arg_0]
mov     esi, ecx
call    sub_277d9c1c
mov     dword ptr [esi], offset off_277ca470
mov     dword ptr [esi+14h], offset off_277ca430
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277ce65f
test    byte ptr [esp+8], 1
jz      short loc_277ce659
test    esi, esi
jz      short loc_277ce659
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277ca470
mov     dword ptr [ecx+14h], offset off_277ca430
jmp     sub_277cd4e3
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     eax, [ebp+arg_4]
push    ebx
push    esi
sub     eax, 111h
push    edi
mov     [ebp+var_18], ecx
jz      loc_277ce976
sub     eax, 353h
jz      loc_277ce878
dec     eax
jnz     loc_277ce9a1
and     [ebp+var_4], 0
lea     eax, [ebp+var_14]
push    eax
call    sub_277da5c8
test    eax, eax
jz      loc_277ce86e
mov     ebx, [ebp+hdlg]
mov     esi, ds:setdlgitemint
mov     edi, ds:getdlgitemint
mov     ecx, [eax]
lea     edx, [ebp+var_4]
push    edx
push    offset dword_277b1e38
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      loc_277ce85a
mov     eax, [ebp+var_4]
push    1
mov     edx, [eax]
lea     eax, [ebp+translated]
push    eax
push    9d0h
push    ebx
mov     [ebp+var_10], edx
call    edi
push    eax
mov     eax, [ebp+var_10]
push    [ebp+var_4]
call    dword ptr [eax+58h]
mov     eax, [ebp+var_4]
push    1
mov     ebx, [eax]
lea     eax, [ebp+translated]
push    eax
push    9d1h
push    [ebp+hdlg]
call    edi
push    eax
push    [ebp+var_4]
call    dword ptr [ebx+50h]
mov     eax, [ebp+var_4]
push    1
mov     ebx, [eax]
lea     eax, [ebp+translated]
push    eax
push    9cfh
push    [ebp+hdlg]
call    edi
push    eax
push    [ebp+var_4]
call    dword ptr [ebx+1ch]
mov     eax, [ebp+var_4]
push    1
mov     ebx, [eax]
lea     eax, [ebp+translated]
push    eax
push    9d2h
push    [ebp+hdlg]
call    edi
push    eax
push    [ebp+var_4]
call    dword ptr [ebx+48h]
mov     eax, [ebp+var_4]
push    1
mov     ebx, [eax]
lea     eax, [ebp+translated]
push    eax
push    9d3h
push    [ebp+hdlg]
call    edi
push    eax
push    [ebp+var_4]
call    dword ptr [ebx+24h]
mov     eax, [ebp+var_4]
push    0
push    0
push    0f0h
mov     ebx, [eax]
push    9d4h
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
call    ds:sendmessagea
neg     eax
sbb     eax, eax
push    eax
push    [ebp+var_4]
call    dword ptr [ebx+70h]
mov     eax, [ebp+var_4]
lea     edx, [ebp+uvalue]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+20h]
push    1
push    [ebp+uvalue]
push    9cfh
mov     ebx, [ebp+hdlg]
push    ebx
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+uvalue]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+5ch]
push    1
push    [ebp+uvalue]
push    9d0h
push    ebx
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+uvalue]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+54h]
push    1
push    [ebp+uvalue]
push    9d1h
push    ebx
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+uvalue]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4ch]
push    0
push    [ebp+uvalue]
push    9d2h
push    ebx
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+arg_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+28h]
movsx   eax, word ptr [ebp+arg_4]
push    0
push    eax
push    9d3h
push    ebx
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+arg_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+74h]
xor     eax, eax
push    0
cmp     word ptr [ebp+arg_8], ax
setnz   al
push    eax
push    0f1h
push    9d4h
push    ebx
call    ds:getdlgitem
push    eax
call    ds:sendmessagea
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277ce85a
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     ecx, [ebp+var_18]
lea     eax, [ebp+var_14]
push    eax
call    sub_277da5d8
test    eax, eax
jnz     loc_277ce6c1
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
lea     eax, [ebp+var_18]
xor     ebx, ebx
push    eax
mov     [ebp+var_4], ebx
call    sub_277da5c8
cmp     eax, ebx
jz      loc_277ce9a1
mov     ecx, [eax]
lea     edx, [ebp+var_4]
push    edx
push    offset dword_277b1e38
push    eax
call    dword ptr [ecx]
cmp     eax, ebx
jl      loc_277ce9a1
mov     eax, [ebp+var_4]
lea     edx, [ebp+uvalue]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+20h]
mov     edi, [ebp+hdlg]
mov     esi, ds:setdlgitemint
push    1
push    [ebp+uvalue]
push    9cfh
push    edi
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+uvalue]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+5ch]
push    1
push    [ebp+uvalue]
push    9d0h
push    edi
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+uvalue]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+54h]
push    1
push    [ebp+uvalue]
push    9d1h
push    edi
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+uvalue]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4ch]
push    ebx
push    [ebp+uvalue]
push    9d2h
push    edi
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+arg_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+28h]
movsx   eax, word ptr [ebp+arg_4]
push    ebx
push    eax
push    9d3h
push    edi
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+arg_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+74h]
xor     eax, eax
cmp     word ptr [ebp+arg_8], bx
push    ebx
setnz   al
push    eax
push    0f1h
push    9d4h
push    edi
call    ds:getdlgitem
nop
push    eax
call    ds:sendmessagea
mov     eax, [ebp+var_4]
cmp     eax, ebx
jz      loc_277ce86e
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277ce86e
mov     eax, [ebp+arg_8]
movzx   edx, ax
cmp     edx, 9cfh
jl      short loc_277ce9a1
cmp     edx, 9d3h
jle     short loc_277ce9a8
cmp     edx, 9d4h
jnz     short loc_277ce9a1
shr     eax, 10h
test    ax, ax
jnz     short loc_277ce9a1
call    sub_277da653
xor     eax, eax
jmp     loc_277ce871
shr     eax, 10h
cmp     ax, 300h
jmp     short loc_277ce99a
mov     eax, [esp+arg_0]
lea     ecx, [eax-14h]
mov     eax, [eax-14h]
call    dword ptr [eax+4]
retn    4
mov     eax, [esp+arg_0]
lea     ecx, [eax-14h]
mov     eax, [eax-14h]
call    dword ptr [eax+8]
retn    4
push    ebp
mov     ebp, esp
sub     esp, 64h
mov     edx, [ebp+ho]
push    ebx
push    esi
push    edi
mov     eax, [edx]
mov     esi, [edx+0ch]
mov     ecx, [edx+4]
mov     edx, [edx+8]
mov     [ebp+ho], edx
mov     [ebp+var_28], ecx
lea     ebx, [edx-1]
lea     edx, [eax+1]
mov     [ebp+var_4c.x], edx
lea     edx, [esi-3]
mov     [ebp+var_4c.y], edx
lea     edx, [eax+1]
mov     [ebp+var_44], edx
lea     edx, [ecx+1]
mov     [ebp+var_40], edx
mov     edx, [ebp+ho]
add     edx, 0fffffffeh
mov     [ebp+var_20], ecx
mov     [ebp+ho], edx
mov     [ebp+var_3c], edx
lea     edx, [ecx+1]
mov     [ebp+apt.y], ecx
lea     ecx, [eax-1]
lea     edi, [esi-2]
mov     [ebp+var_c], ecx
mov     ecx, [ebp+ho]
push    0ffffffh
mov     [ebp+var_34.y], edi
dec     esi
mov     [ebp+var_58], edi
mov     [ebp+var_50], edi
mov     edi, ds:createpen
push    0
push    0
mov     [ebp+var_34.x], eax
mov     [ebp+var_2c], eax
mov     [ebp+var_24], ebx
mov     [ebp+var_38], edx
mov     [ebp+apt.x], ebx
mov     [ebp+var_14], ebx
mov     [ebp+var_10], esi
mov     [ebp+var_8], esi
mov     [ebp+var_64.x], ecx
mov     [ebp+var_64.y], edx
mov     [ebp+var_5c], ecx
mov     [ebp+var_54], eax
call    edi
mov     esi, ds:selectobject
push    eax
push    [ebp+hdc]
mov     [ebp+ho], eax
call    esi
mov     ebx, ds:polyline
mov     [ebp+h], eax
lea     eax, [ebp+apt]
push    3
push    eax
push    [ebp+hdc]
call    ebx
push    [ebp+h]
push    [ebp+hdc]
call    esi
push    [ebp+ho]
call    ds:deleteobject
push    7f7f7fh
push    0
push    0
call    edi
push    eax
mov     [ebp+ho], eax
push    [ebp+hdc]
call    esi
push    [ebp+ho]
mov     [ebp+h], eax
push    [ebp+hdc]
call    esi
push    3
lea     eax, [ebp+var_34]
push    eax
push    [ebp+hdc]
call    ebx
push    [ebp+h]
push    [ebp+hdc]
call    esi
push    [ebp+ho]
call    ds:deleteobject
xor     eax, eax
push    eax
push    eax
push    eax
call    edi
push    eax
mov     [ebp+ho], eax
push    [ebp+hdc]
call    esi
push    [ebp+ho]
mov     [ebp+h], eax
push    [ebp+hdc]
call    esi
lea     eax, [ebp+var_4c]
push    3
push    eax
push    [ebp+hdc]
call    ebx
push    [ebp+h]
push    [ebp+hdc]
call    esi
push    [ebp+ho]
call    ds:deleteobject
push    0bfbfbfh
push    0
push    0
call    edi
mov     edi, eax
push    edi
push    [ebp+hdc]
call    esi
push    edi
mov     [ebp+h], eax
push    [ebp+hdc]
call    esi
lea     eax, [ebp+var_64]
push    3
push    eax
push    [ebp+hdc]
call    ebx
push    [ebp+h]
push    [ebp+hdc]
call    esi
push    edi
call    ds:deleteobject
pop     edi
pop     esi
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
xor     ebx, ebx
push    edi
push    ebx
push    1
pop     edi
mov     [ebp+var_8], ebx
push    edi
push    edi
push    edi
push    edi
call    ds:createbitmap
mov     esi, ds:selectobject
push    eax
push    [ebp+hdc]
mov     [ebp+ho], eax
call    esi
push    eax
mov     [ebp+h], eax
push    [ebp+hdc]
call    esi
push    [ebp+ho]
call    ds:deleteobject
lea     eax, [ebp+pv]
push    eax
push    18h
push    [ebp+h]
call    ds:getobjecta
test    eax, eax
jle     loc_277ced38
mov     ecx, [ebp+var_22]
mov     eax, [ebp-24h]
imul    ecx, eax
shl     edi, cl
cmp     edi, 100h
mov     [ebp+var_1c], edi
jnz     loc_277ced3d
mov     esi, ds:globalalloc
push    428h
push    2
call    esi
push    400h
push    2
mov     [ebp+hmem], eax
call    esi
mov     [ebp+var_8], eax
cmp     [ebp+hmem], ebx
jz      loc_277ced2a
cmp     [ebp+destheight], ebx
mov     eax, [ebp+arg_8]
jz      loc_277ced4f
mov     edx, [eax]
mov     ecx, [eax+8]
mov     esi, [eax+4]
mov     eax, [eax+0ch]
sub     ecx, edx
mov     [ebp+ho], edx
mov     [ebp+ydest], esi
mov     [ebp+destwidth], ecx
sub     eax, esi
push    [ebp+hmem]
mov     edi, ds:globallock
mov     [ebp+destheight], eax
call    edi
mov     esi, eax
cmp     [ebp+var_1c], 100h
mov     dword ptr [esi], 28h
mov     eax, [ebp+srcwidth]
mov     [esi+4], eax
mov     eax, [ebp+clines]
mov     [esi+8], eax
mov     word ptr [esi+0ch], 1
mov     ax, word ptr [ebp+var_22]
mov     [esi+10h], ebx
mov     [esi+0eh], ax
mov     [esi+14h], ebx
mov     [esi+18h], ebx
mov     [esi+1ch], ebx
mov     [esi+20h], ebx
mov     [esi+24h], ebx
jnz     short loc_277cec96
cmp     [ebp+var_8], ebx
jz      short loc_277cec96
push    [ebp+var_8]
call    edi
push    eax
push    100h
push    ebx
mov     [ebp+arg_8], eax
push    [ebp+hdc]
call    ds:getsystempaletteentries
mov     eax, [ebp+arg_8]
mov     [ebp+arg_8], 100h
lea     ecx, [eax+1]
lea     eax, [esi+28h]
mov     dl, [ecx-1]
mov     [eax+2], dl
mov     dl, [ecx+1]
mov     [eax], dl
mov     dl, [ecx]
mov     [eax+1], dl
add     eax, 4
add     ecx, 4
dec     [ebp+arg_8]
jnz     short loc_277cec7b
movzx   eax, word ptr [ebp+var_22]
mov     ecx, [ebp+srcwidth]
imul    ecx, eax
add     ecx, 1fh
shr     ecx, 5
imul    ecx, [ebp+clines]
shl     ecx, 2
push    ecx
push    2
call    ds:globalalloc
cmp     eax, ebx
mov     [ebp+arg_8], eax
jz      short loc_277ced0c
push    eax
call    edi
mov     edi, eax
push    ebx
push    esi
push    edi
push    [ebp+clines]
push    ebx
push    [ebp+h]
push    [ebp+hdc]
call    ds:getdibits
push    0cc0020h
push    ebx
push    esi
push    edi
push    [ebp+clines]
push    [ebp+srcwidth]
push    ebx
push    ebx
push    [ebp+destheight]
push    [ebp+destwidth]
push    [ebp+ydest]
push    [ebp+ho]
push    [ebp+arg_0]
call    ds:stretchdibits
push    [ebp+arg_8]
call    ds:globalunlock
push    [ebp+arg_8]
call    ds:globalfree
push    [ebp+hmem]
mov     esi, ds:globalunlock
call    esi
push    [ebp+var_8]
call    esi
cmp     [ebp+hmem], ebx
jz      short loc_277ced2a
push    [ebp+hmem]
call    ds:globalfree
cmp     [ebp+var_8], ebx
jz      short loc_277ced38
push    [ebp+var_8]
call    ds:globalfree
pop     edi
pop     esi
pop     ebx
leave
retn
push    28h
push    2
call    ds:globalalloc
mov     [ebp+hmem], eax
jmp     loc_277cebd6
mov     ecx, [eax]
mov     eax, [eax+4]
mov     [ebp+ydest], eax
mov     eax, [ebp+srcwidth]
mov     [ebp+destwidth], eax
mov     eax, [ebp+clines]
mov     [ebp+ho], ecx
jmp     loc_277cec03
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
mov     esi, ecx
xor     ebx, ebx
push    edi
push    ebx
mov     eax, [esi+88h]
push    ebx
mov     [ebp+rc.right], eax
mov     eax, [esi+8ch]
push    ebx
push    offset pwszdriver
mov     [ebp+rc.left], ebx
mov     [ebp+rc.top], ebx
mov     [ebp+rc.bottom], eax
call    ds:createdca
push    eax
mov     [ebp+hdc], eax
call    ds:createcompatibledc
mov     edi, eax
push    ebx
push    0ch
push    edi
call    ds:getdevicecaps
push    eax
push    0eh
push    edi
call    ds:getdevicecaps
push    eax
push    dword ptr [esi+8ch]
push    dword ptr [esi+88h]
call    ds:createbitmap
push    eax
push    edi
mov     [ebp+ho], eax
call    ds:selectobject
push    dword ptr [esi+144h]
mov     [ebp+h], eax
lea     eax, [ebp+rc]
push    eax
push    edi
call    ds:fillrect
push    dword ptr [esi+8ch]
lea     eax, [ebp+var_2c]
push    dword ptr [esi+88h]
push    ebx
push    ebx
push    eax
call    ds:setrect
lea     eax, [ebp+var_2c]
push    eax
push    edi
call    sub_277ce9d1
mov     eax, [esi+138h]
pop     ecx
cmp     eax, ebx
pop     ecx
jz      short loc_277cee50
push    3
push    dword ptr [esi+144h]
push    ebx
push    dword ptr [esi+150h]
push    dword ptr [esi+14ch]
push    eax
mov     eax, [ebp+var_2c.bottom]
cdq
sub     eax, edx
sar     eax, 1
sub     eax, 0fh
push    eax
mov     eax, [ebp+var_2c.right]
cdq
sub     eax, edx
sar     eax, 1
sub     eax, 10h
push    eax
push    edi
call    ds:drawiconex
push    1
push    [ebp+arg_8]
push    edi
push    [ebp+arg_0]
call    sub_277ceb4a
add     esp, 10h
push    [ebp+h]
push    edi
call    ds:selectobject
push    [ebp+ho]
call    ds:deleteobject
push    [ebp+hdc]
mov     esi, ds:deletedc
call    esi
push    edi
call    esi
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    esi
push    edi
mov     edi, [esp+8+arg_0]
push    1
lea     esi, [edi-0c0h]
mov     ecx, esi
call    sub_277d91a1
mov     eax, [esi]
push    0
push    offset sub_277dd0f1
mov     ecx, esi
push    dword ptr [edi-20h]
push    7d6h
call    dword ptr [eax+28h]
push    eax
call    ds:dialogboxparama
push    0
mov     ecx, esi
call    sub_277d91a1
pop     edi
pop     esi
retn    4
cmp     [esp+arg_4], 0fffffe0bh
push    esi
push    edi
jnz     short loc_277ceee9
mov     edi, [esp+8+arg_8]
mov     esi, offset dword_277b1f08
movsd
movsd
movsd
movsd
xor     eax, eax
pop     edi
pop     esi
retn    0ch
mov     edi, [esp+8+arg_8]
mov     esi, offset dword_277b6008
movsd
movsd
movsd
movsd
mov     eax, 80040200h
jmp     short loc_277ceee4
sub     dword ptr [esp+4], 24h
jmp     sub_277b516f
sub     dword ptr [esp+4], 28h
jmp     sub_277b516f
sub     dword ptr [esp+4], 2ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 30h
jmp     sub_277b516f
sub     dword ptr [esp+4], 34h
jmp     sub_277b516f
sub     dword ptr [esp+4], 38h
jmp     sub_277b516f
sub     dword ptr [esp+4], 38h
jmp     sub_277b67f3
sub     dword ptr [esp+4], 38h
jmp     sub_277b6a67
sub     dword ptr [esp+4], 3ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 3ch
jmp     sub_277b67f3
sub     dword ptr [esp+4], 3ch
jmp     sub_277b6a67
sub     dword ptr [esp+4], 40h
jmp     sub_277b516f
sub     dword ptr [esp+4], 40h
jmp     sub_277b67f3
sub     dword ptr [esp+4], 40h
jmp     sub_277b6a67
sub     dword ptr [esp+4], 44h
jmp     sub_277b516f
sub     dword ptr [esp+4], 44h
jmp     sub_277b67f3
sub     dword ptr [esp+4], 44h
jmp     sub_277b6a67
sub     dword ptr [esp+4], 48h
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     sub_277b67f3
sub     dword ptr [esp+4], 4ch
jmp     sub_277b6a67
sub     [esp+arg_0], 0c0h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d98ec
retn    8
sub     [esp+arg_0], 0c0h
jmp     loc_277b717b
sub     dword ptr [esp+4], 0a8h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0a8h
jmp     sub_277b67f3
sub     dword ptr [esp+4], 0a8h
jmp     sub_277b6a67
sub     dword ptr [esp+4], 0c4h
push    dword ptr [esp+8]
push    dword ptr [esp+8]
call    sub_277d9906
retn    8
sub     dword ptr [esp+4], 0ach
jmp     sub_277b516f
sub     dword ptr [esp+4], 0ach
jmp     sub_277b67f3
sub     dword ptr [esp+4], 0ach
jmp     sub_277b6a67
sub     ecx, 0c8h
jmp     loc_277b750d
sub     dword ptr [esp+4], 0b4h
jmp     sub_277b516f
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
cmp     [eax+28h], ecx
jnz     short loc_277cf084
xor     eax, eax
retn    8
mov     edx, [eax-0c0h]
add     eax, 0ffffff40h
push    ecx
push    eax
call    dword ptr [edx+84h]
jmp     short locret_277cf081
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+28h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    edi
xor     edi, edi
cmp     [esi+0a4h], edi
jz      short loc_277cf130
cmp     [esi+14h], di
jz      short loc_277cf0e1
mov     edx, [esi-0c0h]
mov     eax, 8bafh
lea     ecx, [esi-0c0h]
push    eax
push    eax
push    800a8bafh
call    dword ptr [edx+30h]
pop     edi
pop     esi
retn    4
push    edi
push    edi
push    466h
push    dword ptr [esi-20h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277cf10f
mov     edx, [esi-0c0h]
mov     eax, 8badh
lea     ecx, [esi-0c0h]
push    eax
push    eax
push    800a8badh
jmp     short loc_277cf0d9
mov     [esi+0a4h], edi
cmp     [esi+0a8h], edi
jnz     short loc_277cf130
mov     [esi+0b0h], edi
mov     [esi+0b4h], edi
or      dword ptr [esi+0b8h], 0ffffffffh
xor     eax, eax
jmp     short loc_277cf0dc
mov     eax, [esp+arg_0]
push    0
lea     ecx, [eax+2ch]
call    sub_277dde52
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+pvarsrc]
mov     ax, [esi]
cmp     ax, 3
jnz     short loc_277cf167
mov     eax, [esi+8]
mov     ecx, [ebp+arg_4]
mov     [ecx], eax
xor     eax, eax
pop     esi
leave
retn    8
cmp     ax, 2
jnz     short loc_277cf173
movsx   eax, word ptr [esi+8]
jmp     short loc_277cf15b
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
push    3
push    0
lea     eax, [ebp+pvarg]
push    esi
push    eax
call    ds:variantchangetype
test    eax, eax
jl      short loc_277cf162
mov     eax, [ebp+arg_4]
mov     ecx, dword ptr [ebp+pvarg.anonymous_0+8]
mov     [eax], ecx
jmp     short loc_277cf160
push    dword_278282f0
push    30h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277cf1bc
push    [esp+arg_0]
mov     ecx, eax
call    sub_277cf1c0
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277cf1b8
push    esi
push    1
push    [esp+8+arg_0]
mov     esi, ecx
call    sub_277d9c1c
mov     dword ptr [esi], offset off_277ca4e8
mov     dword ptr [esi+14h], offset off_277ca4a8
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277cf209
test    byte ptr [esp+8], 1
jz      short loc_277cf203
test    esi, esi
jz      short loc_277cf203
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277ca4e8
mov     dword ptr [ecx+14h], offset off_277ca4a8
jmp     sub_277cd4e3
push    ebp
mov     ebp, esp
sub     esp, 0ch
mov     eax, [ebp+arg_4]
push    ebx
push    esi
sub     eax, 110h
push    edi
mov     [ebp+var_4], ecx
jz      loc_277cf44b
dec     eax
jz      loc_277cf408
sub     eax, 353h
jz      loc_277cf320
dec     eax
jnz     loc_277cf43c
xor     ebx, ebx
mov     esi, ds:getdlgitem
push    ebx
push    ebx
push    147h
push    0af0h
push    [ebp+hdlg]
mov     [ebp+arg_4], ebx
call    esi
mov     edi, ds:sendmessagea
push    eax
call    edi
push    ebx
push    ebx
push    147h
push    0a2bh
push    [ebp+hdlg]
mov     [ebp+var_8], eax
call    esi
push    eax
call    edi
mov     ecx, [ebp+var_4]
mov     [ebp+arg_8], eax
lea     eax, [ebp+wparam]
push    eax
call    sub_277da5c8
cmp     eax, ebx
jz      short loc_277cf316
mov     esi, ds:isdlgbuttonchecked
mov     ecx, [eax]
lea     edx, [ebp+arg_4]
push    edx
push    offset dword_277b1e08
push    eax
call    dword ptr [ecx]
cmp     eax, ebx
jl      short loc_277cf306
mov     eax, [ebp+arg_4]
push    0a29h
push    [ebp+hdlg]
mov     edi, [eax]
call    esi
push    eax
push    [ebp+arg_4]
call    dword ptr [edi+1ch]
mov     eax, [ebp+arg_4]
push    0a2ah
push    [ebp+hdlg]
mov     edi, [eax]
call    esi
push    eax
push    [ebp+arg_4]
call    dword ptr [edi+2ch]
mov     eax, [ebp+arg_4]
push    [ebp+arg_8]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+24h]
mov     eax, [ebp+arg_4]
push    [ebp+var_8]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4ch]
mov     eax, [ebp+arg_4]
cmp     eax, ebx
jz      short loc_277cf306
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     ecx, [ebp+var_4]
lea     eax, [ebp+wparam]
push    eax
call    sub_277da5d8
cmp     eax, ebx
jnz     short loc_277cf2a3
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
lea     eax, [ebp+var_4]
xor     ebx, ebx
push    eax
mov     [ebp+arg_8], ebx
call    sub_277da5c8
cmp     eax, ebx
jz      loc_277cf43c
mov     ecx, [eax]
lea     edx, [ebp+arg_8]
push    edx
push    offset dword_277b1e08
push    eax
call    dword ptr [ecx]
cmp     eax, ebx
jl      loc_277cf43c
mov     eax, [ebp+arg_8]
lea     edx, [ebp+arg_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+20h]
xor     eax, eax
cmp     word ptr [ebp+arg_4], bx
mov     esi, ds:getdlgitem
push    ebx
setnz   al
push    eax
push    0f1h
push    0a29h
push    [ebp+hdlg]
call    esi
mov     edi, ds:sendmessagea
push    eax
call    edi
mov     eax, [ebp+arg_8]
lea     edx, [ebp+arg_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+30h]
xor     eax, eax
cmp     word ptr [ebp+arg_4], bx
push    ebx
setnz   al
push    eax
push    0f1h
push    0a2ah
push    [ebp+hdlg]
call    esi
push    eax
call    edi
mov     eax, [ebp+arg_8]
lea     edx, [ebp+wparam]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+28h]
push    ebx
push    [ebp+wparam]
push    14eh
push    0a2bh
push    [ebp+hdlg]
call    esi
push    eax
call    edi
mov     eax, [ebp+arg_8]
lea     edx, [ebp+var_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+48h]
push    ebx
push    [ebp+var_8]
push    14eh
push    0af0h
push    [ebp+hdlg]
call    esi
push    eax
call    edi
mov     eax, [ebp+arg_8]
cmp     eax, ebx
jz      loc_277cf316
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277cf316
mov     eax, [ebp+arg_8]
movzx   edx, ax
cmp     edx, 0a29h
jl      short loc_277cf43c
cmp     edx, 0a2ah
jle     short loc_277cf443
cmp     edx, 0a2bh
jz      short loc_277cf42e
cmp     edx, 0af0h
jnz     short loc_277cf43c
shr     eax, 10h
cmp     ax, 1
jnz     short loc_277cf43c
call    sub_277da653
xor     eax, eax
jmp     loc_277cf319
shr     eax, 10h
test    ax, ax
jmp     short loc_277cf435
push    offset dword_277ca490
push    [ebp+hdlg]
call    sub_277cc417
pop     ecx
pop     ecx
jmp     short loc_277cf43c
push    dword_278282f0
push    5ch
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277cf47e
push    [esp+arg_0]
mov     ecx, eax
call    sub_277cf482
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277cf47a
push    esi
push    0ch
push    offset dword_2782b700
push    offset dword_2782b6d0
push    6
push    7
push    [esp+18h+arg_0]
mov     esi, ecx
call    sub_277d1966
mov     dword ptr [esi], offset off_277ca558
mov     dword ptr [esi+14h], offset off_277ca518
mov     dword ptr [esi+30h], offset off_277ca500
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277cf4e0
test    byte ptr [esp+8], 1
jz      short loc_277cf4da
test    esi, esi
jz      short loc_277cf4da
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277ca558
mov     dword ptr [ecx+14h], offset off_277ca518
mov     dword ptr [ecx+30h], offset off_277ca500
push    esi
mov     esi, ecx
cmp     dword ptr [esi+54h], 0
jz      short loc_277cf50b
call    sub_277d19ad
push    dword ptr [esi+54h]
call    sub_277b221b
pop     ecx
mov     ecx, esi
call    sub_277db6ae
pop     esi
retn
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     ecx, [eax]
push    offset dword_277b1e68
push    eax
call    dword ptr [ecx]
retn    8
sub     esp, 0ch
push    ebx
push    ebp
push    esi
lea     eax, [esp+18h+var_8]
push    edi
mov     [esp+1ch+var_c], ecx
push    eax
mov     [esp+20h+var_8], 8
mov     [esp+20h+var_4], 10h
call    sub_277b4d29
mov     esi, [esp+1ch+hdlg]
mov     edi, ds:getdlgitem
xor     ebx, ebx
push    ebx
push    ebx
push    ebx
push    8a5h
push    esi
call    edi
push    eax
push    0fffffffah
push    esi
call    ds:getwindowlonga
mov     ebp, 8a9h
push    eax
push    ebp
push    esi
push    0fh
push    0fh
push    ebx
push    ebx
push    508000a6h
call    sub_277e248c
push    1
push    ebp
push    esi
call    edi
push    eax
call    ds:enablewindow
push    1000ch
push    ebx
push    465h
push    ebp
mov     ebp, ds:senddlgitemmessagea
push    esi
call    ebp
push    ebx
push    1
push    0cfh
push    8a5h
push    esi
call    ebp
push    ebx
push    ebx
push    ebx
push    8a4h
push    esi
call    edi
push    eax
push    0fffffffah
push    esi
call    ds:getwindowlonga
push    eax
push    8a8h
push    esi
push    0fh
push    0fh
push    ebx
push    ebx
push    508000a6h
call    sub_277e248c
push    1
push    8a8h
push    esi
call    edi
push    eax
call    ds:enablewindow
push    1000ch
push    ebx
push    465h
push    8a8h
push    esi
call    ebp
push    ebx
push    1
push    0cfh
push    8a4h
push    esi
call    ebp
push    ebx
push    ebx
push    ebx
push    89bh
push    esi
call    edi
push    eax
push    0fffffffah
push    esi
call    ds:getwindowlonga
push    eax
push    89fh
push    esi
push    0fh
push    0fh
push    ebx
push    ebx
push    508000a6h
call    sub_277e248c
push    1
push    89fh
push    esi
call    edi
push    eax
call    ds:enablewindow
push    7d0h
push    ebx
push    465h
push    89fh
push    esi
call    ebp
push    ebx
push    1
push    0cfh
push    89bh
push    esi
call    ebp
push    ebx
push    ebx
push    ebx
push    89ch
push    esi
call    edi
push    eax
push    0fffffffah
push    esi
call    ds:getwindowlonga
push    eax
push    8a0h
push    esi
push    0fh
push    0fh
push    ebx
push    ebx
push    508000a6h
call    sub_277e248c
push    1
push    8a0h
push    esi
call    edi
push    eax
call    ds:enablewindow
push    14e20h
push    ebx
push    465h
push    8a0h
push    esi
call    ebp
push    ebx
push    89ch
push    esi
call    edi
push    eax
call    ds:enablewindow
mov     ecx, [esp+1ch+var_c]
push    ebx
call    sub_277db6c7
pop     edi
pop     esi
pop     ebp
xor     eax, eax
pop     ebx
add     esp, 0ch
retn    4
push    ebp
mov     ebp, esp
sub     esp, 68h
push    ebx
push    esi
push    edi
mov     esi, ecx
xor     ebx, ebx
push    11h
mov     [ebp+var_10], esi
mov     [ebp+var_4], ebx
call    ds:getstockobject
lea     ecx, [ebp+var_8]
mov     [ebp+wparam], eax
mov     eax, [esi]
push    ecx
push    [ebp+hwnd]
mov     ecx, esi
call    dword ptr [eax+24h]
cmp     eax, ebx
jl      loc_277cf95b
mov     edi, ds:getdlgitem
push    9cfh
push    [ebp+hdlg]
call    edi
mov     esi, ds:sendmessagea
push    ebx
push    ebx
push    1005h
push    eax
mov     [ebp+hwnd], eax
call    esi
push    0fffffff0h
push    [ebp+hwnd]
call    ds:getwindowlonga
push    eax
push    0fffffff0h
push    [ebp+hwnd]
call    ds:setwindowlonga
push    1
push    [ebp+wparam]
push    30h
push    [ebp+hwnd]
call    esi
push    898h
push    [ebp+hdlg]
call    edi
push    ebx
push    ebx
push    1005h
push    eax
mov     [ebp+hwnd], eax
call    esi
push    0fffffff0h
push    [ebp+hwnd]
call    ds:getwindowlonga
push    eax
push    0fffffff0h
push    [ebp+hwnd]
call    ds:setwindowlonga
push    1
push    [ebp+wparam]
push    30h
push    [ebp+hwnd]
call    esi
push    899h
push    [ebp+hdlg]
call    edi
push    ebx
push    ebx
push    1005h
push    eax
mov     [ebp+hwnd], eax
call    esi
push    0fffffff0h
push    [ebp+hwnd]
call    ds:getwindowlonga
push    eax
push    0fffffff0h
push    [ebp+hwnd]
call    ds:setwindowlonga
push    1
push    [ebp+wparam]
push    30h
push    [ebp+hwnd]
call    esi
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_18]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+80h]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jl      loc_277cf9ed
fld     [ebp+var_18]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+80h+vtime]
call    ds:varianttimetosystemtime
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_18]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+70h]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jl      loc_277cf9ed
fld     [ebp+var_18]
lea     eax, [ebp+var_58]
push    eax
push    ecx
push    ecx
fstp    [esp+80h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+systemtime]
push    eax
push    3
push    1004h
push    9cfh
push    [ebp+hdlg]
call    edi
push    eax
call    esi
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_18]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+114h]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jl      loc_277cf9ed
fld     [ebp+var_18]
lea     eax, [ebp+var_28]
push    eax
push    ecx
push    ecx
fstp    [esp+80h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+var_28]
push    eax
push    ebx
push    1002h
push    9cfh
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+lparam]
mov     word ptr [ebp+lparam], 6d9h
push    eax
push    3
push    1004h
push    898h
push    [ebp+hdlg]
mov     [ebp+var_42], 1
mov     word ptr [ebp+lparam+2], 1
mov     [ebp+var_38], 270fh
mov     [ebp+var_32], 1fh
mov     [ebp+var_36], 0ch
mov     [ebp+var_34], bx
mov     [ebp+var_44], bx
mov     [ebp+var_30], bx
mov     [ebp+var_40], bx
mov     [ebp+var_2e], bx
mov     [ebp+var_3e], bx
mov     [ebp+var_2c], bx
mov     [ebp+var_3c], bx
mov     [ebp+var_2a], bx
mov     [ebp+var_3a], bx
call    edi
push    eax
call    esi
lea     eax, [ebp+lparam]
push    eax
push    3
push    1004h
push    899h
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+systemtime]
push    eax
push    ebx
push    1002h
push    898h
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+var_58]
push    eax
push    ebx
push    1002h
push    899h
push    [ebp+hdlg]
call    edi
push    eax
call    esi
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0cch]
mov     esi, eax
cmp     esi, ebx
jge     short loc_277cf962
push    ebx
push    esi
call    sub_277db168
pop     ecx
mov     eax, esi
pop     ecx
pop     edi
pop     esi
pop     ebx
leave
retn    8
movzx   eax, word ptr [ebp+var_4]
mov     esi, ds:senddlgitemmessagea
push    eax
mov     edi, 467h
push    ebx
push    edi
push    89fh
push    [ebp+hdlg]
call    esi
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+78h]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jl      short loc_277cf9ed
movzx   eax, word ptr [ebp+var_4]
push    eax
push    ebx
push    edi
push    8a0h
push    [ebp+hdlg]
call    esi
push    [ebp+hdlg]
mov     ecx, [ebp+var_10]
call    sub_277cff1a
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+98h]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jl      short loc_277cf9ed
movzx   eax, word ptr [ebp+var_4]
push    eax
push    ebx
push    edi
push    8a9h
push    [ebp+hdlg]
call    esi
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0a0h]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jge     short loc_277cf9fe
push    ebx
push    eax
call    sub_277db168
mov     eax, [ebp+hwnd]
pop     ecx
pop     ecx
jmp     loc_277cf95b
movzx   eax, word ptr [ebp+var_4]
push    eax
push    ebx
push    edi
push    8a8h
push    [ebp+hdlg]
call    esi
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0f4h]
mov     edi, eax
push    ebx
cmp     edi, ebx
jge     short loc_277cfa35
push    edi
call    sub_277db168
pop     ecx
mov     eax, edi
pop     ecx
jmp     loc_277cf95b
mov     eax, [ebp+var_4]
dec     eax
movzx   eax, ax
push    eax
push    14eh
push    89ah
push    [ebp+hdlg]
call    esi
mov     ecx, [ebp+var_10]
push    ebx
call    sub_277db6c7
mov     eax, [ebp+var_8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
xor     eax, eax
jmp     loc_277cf95b
push    ebp
mov     ebp, esp
push    esi
mov     esi, ecx
lea     ecx, [ebp+arg_4]
mov     eax, [esi]
push    ecx
push    [ebp+arg_4]
mov     ecx, esi
call    dword ptr [eax+24h]
test    eax, eax
jl      short loc_277cfa9e
push    [ebp+arg_4]
mov     ecx, esi
push    [ebp+hdlg]
call    sub_277cfaf8
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    0
mov     ecx, esi
call    sub_277db6c7
xor     eax, eax
pop     esi
pop     ebp
retn    8
mov     eax, [esp+arg_4]
shr     eax, 10h
sub     eax, 0
jz      short loc_277cfac5
dec     eax
jnz     short loc_277cfac0
cmp     word ptr [esp+arg_4], 89ah
jnz     short loc_277cfac0
call    sub_277da653
xor     eax, eax
retn    0ch
cmp     word ptr [esp+arg_4], 89eh
jnz     short loc_277cfac0
push    [esp+hdlg]
call    sub_277cff1a
jmp     short loc_277cfac0
mov     eax, [esp+arg_8]
mov     eax, [eax+8]
cmp     eax, 0fffffd09h
jz      short loc_277cfaee
cmp     eax, 0fffffd2eh
jnz     short loc_277cfaf3
call    sub_277da653
xor     eax, eax
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
lea     eax, [ebp+lparam]
mov     ebx, ds:getdlgitem
push    edi
push    eax
push    0
push    1001h
push    9cfh
push    [ebp+hdlg]
call    ebx
mov     edi, ds:sendmessagea
push    eax
call    edi
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
mov     esi, [ebp+arg_4]
push    ecx
fld     [ebp+pvtime]
mov     eax, [esi]
push    ecx
fstp    [esp+2ch+var_2c]
push    esi
call    dword ptr [eax+118h]
test    eax, eax
mov     [ebp+arg_4], eax
jl      loc_277cfc40
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    898h
push    [ebp+hdlg]
call    ebx
push    eax
call    edi
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
fld     [ebp+pvtime]
mov     eax, [esi]
push    ecx
push    ecx
fstp    [esp+2ch+var_2c]
push    esi
call    dword ptr [eax+84h]
test    eax, eax
mov     [ebp+arg_4], eax
jl      loc_277cfc40
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    899h
push    [ebp+hdlg]
call    ebx
push    eax
call    edi
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
fld     [ebp+pvtime]
mov     eax, [esi]
push    ecx
push    ecx
fstp    [esp+2ch+var_2c]
push    esi
call    dword ptr [eax+74h]
mov     edi, eax
xor     eax, eax
cmp     edi, eax
push    eax
jge     short loc_277cfbe2
push    edi
call    sub_277db168
pop     ecx
mov     eax, edi
pop     ecx
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edi, ds:senddlgitemmessagea
mov     ebx, 468h
push    eax
push    ebx
push    89fh
push    [ebp+hdlg]
call    edi
mov     ecx, [esi]
movzx   eax, ax
push    eax
push    esi
call    dword ptr [ecx+0d0h]
test    eax, eax
mov     [ebp+arg_4], eax
jl      short loc_277cfc40
push    89eh
push    [ebp+hdlg]
call    ds:isdlgbuttonchecked
cmp     eax, 1
jnz     short loc_277cfc4f
push    0
push    0
push    ebx
push    8a0h
push    [ebp+hdlg]
call    edi
mov     ecx, [esi]
movzx   eax, ax
push    eax
push    esi
call    dword ptr [ecx+7ch]
test    eax, eax
mov     [ebp+arg_4], eax
jge     short loc_277cfc4f
push    0
push    eax
call    sub_277db168
mov     eax, [ebp+arg_4]
pop     ecx
pop     ecx
jmp     short loc_277cfbdb
push    0
push    0
push    ebx
push    8a9h
push    [ebp+hdlg]
call    edi
mov     ecx, [esi]
movzx   eax, ax
push    eax
push    esi
call    dword ptr [ecx+9ch]
mov     [ebp+arg_4], eax
xor     eax, eax
cmp     [ebp+arg_4], eax
push    eax
jge     short loc_277cfc7b
push    [ebp+arg_4]
jmp     short loc_277cfc43
push    eax
push    ebx
push    8a8h
push    [ebp+hdlg]
call    edi
mov     ecx, [esi]
movzx   eax, ax
push    eax
push    esi
call    dword ptr [ecx+0a4h]
mov     ebx, eax
xor     eax, eax
cmp     ebx, eax
push    eax
jge     short loc_277cfcac
push    ebx
call    sub_277db168
pop     ecx
mov     eax, ebx
pop     ecx
jmp     loc_277cfbdb
push    eax
push    147h
push    89ah
push    [ebp+hdlg]
call    edi
mov     ecx, [esi]
movzx   eax, ax
inc     eax
push    eax
push    esi
call    dword ptr [ecx+0f8h]
mov     esi, eax
test    esi, esi
jge     short loc_277cfce1
push    0
push    esi
call    sub_277db168
pop     ecx
mov     eax, esi
pop     ecx
jmp     loc_277cfbdb
xor     eax, eax
jmp     loc_277cfbdb
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     esi, ecx
push    edi
lea     ecx, [ebp+var_8]
xor     edi, edi
mov     eax, [esi]
push    ecx
push    [ebp+arg_0]
mov     ecx, esi
mov     [ebp+var_4], edi
call    dword ptr [eax+24h]
cmp     eax, edi
jl      loc_277cfebf
mov     eax, [ebp+arg_4]
cmp     eax, 0eh
jg      loc_277cfe90
jz      loc_277cfe65
sub     eax, 4
jz      loc_277cfe32
dec     eax
jz      loc_277cfe06
dec     eax
jz      short loc_277cfda0
sub     eax, 3
jz      short loc_277cfd74
dec     eax
jnz     loc_277cfdeb
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0a0h]
mov     ebx, eax
cmp     ebx, edi
jl      loc_277cfeb4
movzx   eax, word ptr [ebp+var_4]
push    eax
push    edi
push    467h
push    8a8h
push    dword ptr [esi+1ch]
call    ds:senddlgitemmessagea
jmp     short loc_277cfdeb
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+98h]
mov     ebx, eax
cmp     ebx, edi
jl      loc_277cfeb4
movzx   eax, word ptr [ebp+var_4]
push    eax
push    edi
push    467h
push    8a9h
jmp     short loc_277cfd69
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_10]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+80h]
mov     ebx, eax
cmp     ebx, edi
jl      loc_277cfeb4
fld     [ebp+var_10]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+38h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+systemtime]
push    eax
push    edi
push    1002h
push    898h
push    dword ptr [esi+1ch]
call    ds:getdlgitem
push    eax
call    ds:sendmessagea
mov     eax, [ebp+var_8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    [ebp+arg_4]
mov     ecx, esi
push    [ebp+arg_0]
call    sub_277d2287
jmp     loc_277cfebf
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+78h]
mov     ebx, eax
cmp     ebx, edi
jl      loc_277cfeb4
movzx   eax, word ptr [ebp+var_4]
push    eax
push    edi
push    467h
push    8a0h
jmp     loc_277cfd69
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_10]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+70h]
fld     [ebp+var_10]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+38h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+systemtime]
push    eax
push    edi
push    1002h
push    899h
jmp     loc_277cfddb
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0cch]
mov     ebx, eax
cmp     ebx, edi
jl      short loc_277cfeb4
movzx   eax, word ptr [ebp+var_4]
push    eax
push    edi
push    467h
push    89fh
jmp     loc_277cfd69
cmp     eax, 13h
jz      short loc_277cfeec
cmp     eax, 17h
jnz     loc_277cfdeb
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_10]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+114h]
mov     ebx, eax
cmp     ebx, edi
jge     short loc_277cfec6
push    edi
push    ebx
call    sub_277db168
pop     ecx
mov     eax, ebx
pop     ecx
pop     edi
pop     esi
pop     ebx
leave
retn    8
fld     [ebp+var_10]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+38h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+systemtime]
push    eax
push    edi
push    1002h
push    9cfh
jmp     loc_277cfddb
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0f4h]
mov     ebx, eax
push    edi
cmp     ebx, edi
jl      short loc_277cfeb5
mov     eax, [ebp+var_4]
dec     eax
movzx   eax, ax
push    eax
push    14eh
push    89ah
jmp     loc_277cfd69
push    ebx
mov     ebx, [esp+4+hdlg]
push    ebp
push    esi
push    edi
push    89eh
push    ebx
call    ds:isdlgbuttonchecked
mov     edi, eax
mov     esi, 89ch
test    edi, edi
jnz     short loc_277cff4d
push    11a03h
push    26h
push    101h
push    esi
push    ebx
call    ds:senddlgitemmessagea
mov     ebp, ds:getdlgitem
push    edi
push    esi
push    ebx
call    ebp
push    eax
call    ds:enablewindow
test    edi, edi
jz      short loc_277cff74
push    0
push    1
push    0cfh
push    esi
push    ebx
call    ds:senddlgitemmessagea
push    edi
push    8a0h
push    ebx
call    ebp
push    eax
call    ds:enablewindow
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
push    [esp+arg_8]
mov     eax, [eax-10h]
push    [esp+4+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
retn    0ch
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
lea     ecx, [eax-14h]
mov     eax, [eax-14h]
call    dword ptr [eax+4]
retn    4
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
lea     ecx, [eax-14h]
mov     eax, [eax-14h]
call    dword ptr [eax+8]
retn    4
xor     eax, eax
retn    8
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 270h
mov     eax, [ebp+pstm]
push    ebx
push    esi
xor     esi, esi
mov     ecx, [eax]
push    edi
push    esi
lea     edx, [ebp+var_6c]
push    68h
push    edx
push    eax
mov     [ebp+var_4], esi
mov     [ebp+lpmem], esi
call    dword ptr [ecx+0ch]
mov     edi, eax
cmp     edi, esi
jge     short loc_277d0023
cmp     [ebp+lpmem], esi
jz      short loc_277d001a
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     [ebp+var_6c], 0c05fb11ah
jnz     short loc_277d0035
cmp     [ebp+var_68], 60000h
jz      short loc_277d0051
cmp     [ebp+lpmem], esi
jz      short loc_277d004a
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     eax, 8000ffffh
jmp     short loc_277d001c
mov     ebx, [ebp+arg_0]
cmp     [ebp+dwbytes], 200h
push    16h
lea     esi, [ebp+var_60]
lea     edi, [ebx+1d0h]
pop     ecx
rep movsd
jbe     short loc_277d00ae
mov     eax, [ebp+lpmem]
xor     esi, esi
cmp     eax, esi
jnz     short loc_277d0087
push    [ebp+dwbytes]
push    esi
push    dword_278282f0
call    ds:heapalloc
mov     [ebp+lpmem], eax
mov     [ebp+var_4], eax
cmp     [ebp+var_4], esi
jnz     short loc_277d00bb
cmp     [ebp+lpmem], esi
jz      short loc_277d00a4
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     eax, 8007000eh
jmp     loc_277d001c
lea     eax, [ebp+var_270]
xor     esi, esi
mov     [ebp+var_4], eax
jmp     short loc_277d008a
mov     edi, [ebp+pstm]
push    esi
push    [ebp+dwbytes]
mov     eax, [edi]
push    [ebp+var_4]
push    edi
call    dword ptr [eax+0ch]
cmp     eax, esi
jl      short loc_277d0144
lea     eax, [ebp+var_4]
mov     ecx, ebx
push    eax
call    sub_277dc5a1
cmp     eax, esi
jl      short loc_277d0144
mov     eax, [ebp+var_8]
mov     cl, 1
push    4
test    cl, al
pop     esi
jz      short loc_277d0167
mov     edx, [ebp+var_4]
mov     edx, [edx]
add     [ebp+var_4], esi
mov     [ebx+228h], edx
mov     edx, eax
shr     edx, 1
test    cl, dl
jz      short loc_277d0173
mov     edx, [ebp+var_4]
mov     edx, [edx]
add     [ebp+var_4], esi
mov     [ebx+22ch], edx
mov     edx, eax
shr     edx, 2
test    cl, dl
jz      short loc_277d017f
mov     edx, [ebp+var_4]
mov     edx, [edx]
add     [ebp+var_4], esi
mov     [ebx+230h], edx
shr     eax, 3
test    cl, al
jz      short loc_277d018b
mov     eax, [ebp+var_4]
mov     eax, [eax]
add     [ebp+var_4], esi
mov     [ebx+234h], eax
push    edi
mov     ecx, ebx
call    sub_277dc678
xor     esi, esi
and     dword ptr [ebx+0b0h], 0fffffffeh
cmp     [ebp+lpmem], esi
jz      short loc_277d0160
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
jmp     loc_277d001c
mov     dword ptr [ebx+228h], 80000005h
jmp     short loc_277d00f8
mov     dword ptr [ebx+22ch], 80000012h
jmp     short loc_277d010e
mov     dword ptr [ebx+230h], 8000000fh
jmp     short loc_277d0125
mov     dword ptr [ebx+234h], 80000011h
jmp     short loc_277d013a
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
lea     eax, [ebp+pvarg]
push    edi
push    eax
call    ds:variantinit
mov     edi, [ebp+arg_4]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aversion
mov     eax, [edi]
push    edi
mov     word ptr [ebp+pvarg.anonymous_0], 3
mov     dword ptr [ebp+pvarg.anonymous_0+8], 60000h
call    dword ptr [eax+10h]
test    eax, eax
jl      loc_277d026e
push    [ebp+arg_8]
mov     ebx, [ebp+arg_0]
mov     ecx, ebx
push    edi
call    sub_277dc274
test    eax, eax
jl      loc_277d026e
lea     eax, [ebp+var_40]
mov     ecx, ebx
push    eax
call    sub_277d03eb
push    [ebp+arg_8]
lea     eax, [ebp+var_40]
push    eax
push    offset off_2782aa48
push    edi
call    sub_277dc88c
add     esp, 10h
test    eax, eax
jl      short loc_277d026e
cmp     off_2782a9e8, 0
jz      short loc_277d026c
mov     esi, offset off_2782a9f0
lea     eax, [ebp+pvtime]
push    eax
mov     eax, [esi-4]
lea     eax, [eax+ebx+1d0h]
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jl      short loc_277d026e
mov     eax, [esi]
fld     [ebp+pvtime]
fcomp   qword ptr [eax]
fnstsw  ax
sahf
jnz     short loc_277d0244
cmp     [ebp+arg_8], 0
jz      short loc_277d0263
mov     ax, [esi+4]
lea     ecx, [ebp+pvarg]
fld     [ebp+pvtime]
push    ecx
mov     word ptr [ebp+pvarg.anonymous_0], ax
push    dword ptr [esi-8]
mov     eax, [edi]
fstp    qword ptr [ebp+pvarg.anonymous_0+8]
push    edi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d026e
add     esi, 18h
cmp     dword ptr [esi-8], 0
jnz     short loc_277d0219
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 7ch
push    ebx
push    esi
push    edi
push    1ah
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_7c]
push    16h
rep stosd
mov     eax, [ebp+arg_0]
pop     ecx
lea     edi, [ebp+var_70]
mov     [ebp+var_7c], 0c05fb11ah
lea     esi, [eax+1d0h]
mov     [ebp+var_78], 60000h
rep movsd
lea     edi, [eax+228h]
xor     edx, edx
push    4
mov     [ebp+lpmem], edx
cmp     dword ptr [edi], 80000005h
mov     [ebp+var_8], edx
mov     [ebp+var_74], edx
pop     ebx
jz      short loc_277d02ca
or      [ebp+var_18], 1
mov     [ebp+var_74], ebx
cmp     dword ptr [eax+22ch], 80000012h
lea     ecx, [eax+22ch]
mov     [ebp+var_c], ecx
jz      short loc_277d02e6
or      [ebp+var_18], 2
add     [ebp+var_74], ebx
cmp     dword ptr [eax+230h], 8000000fh
lea     ecx, [eax+230h]
mov     [ebp+var_10], ecx
jz      short loc_277d0301
or      [ebp+var_18], ebx
add     [ebp+var_74], ebx
cmp     dword ptr [eax+234h], 80000011h
lea     ecx, [eax+234h]
mov     [ebp+var_14], ecx
jz      short loc_277d031d
or      [ebp+var_18], 8
add     [ebp+var_74], ebx
lea     ecx, [ebp+var_8]
push    ecx
lea     ecx, [ebp+lpmem]
push    ecx
mov     ecx, eax
call    sub_277dbf71
test    eax, eax
jl      loc_277d03e4
mov     eax, [ebp+var_8]
mov     esi, [ebp+pstm]
add     [ebp+var_74], eax
push    0
mov     eax, [esi]
lea     ecx, [ebp+var_7c]
push    68h
push    ecx
push    esi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d03cb
mov     eax, [esi]
push    0
push    [ebp+var_8]
push    [ebp+lpmem]
push    esi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d03cb
test    byte ptr [ebp+var_18], 1
jz      short loc_277d0375
mov     eax, [esi]
push    0
push    ebx
push    edi
push    esi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d03cb
mov     eax, [ebp+var_18]
shr     eax, 1
test    al, 1
jz      short loc_277d038e
mov     eax, [esi]
push    0
push    ebx
push    [ebp+var_c]
push    esi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d03cb
mov     eax, [ebp+var_18]
shr     eax, 2
test    al, 1
jz      short loc_277d03a8
mov     eax, [esi]
push    0
push    ebx
push    [ebp+var_10]
push    esi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d03cb
mov     eax, [ebp+var_18]
shr     eax, 3
test    al, 1
jz      short loc_277d03c2
mov     eax, [esi]
push    0
push    ebx
push    [ebp+var_14]
push    esi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d03cb
mov     ecx, [ebp+arg_0]
push    esi
call    sub_277dc08f
cmp     [ebp+lpmem], 0
jz      short loc_277d03e2
push    [ebp+lpmem]
push    0
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edx, [ecx+1d0h]
mov     eax, [esp+arg_0]
and     edx, 1
mov     [eax+10h], edx
mov     edx, [ecx+1d0h]
shr     edx, 1
and     edx, 1
mov     [eax+14h], edx
mov     edx, [ecx+1d0h]
shr     edx, 2
and     edx, 1
mov     [eax+18h], edx
mov     dx, [ecx+224h]
mov     [eax+1ch], dx
mov     edx, [ecx+1d0h]
shr     edx, 3
and     edx, 0fh
mov     [eax+1eh], dx
mov     edx, [ecx+1d0h]
shr     edx, 7
and     edx, 0fh
mov     [eax+20h], dx
mov     dx, [ecx+226h]
mov     [eax+22h], dx
mov     edx, [ecx+1d0h]
shr     edx, 0bh
and     edx, 0fh
mov     [eax+24h], dx
mov     edx, [ecx+228h]
mov     [eax], edx
mov     edx, [ecx+22ch]
mov     [eax+4], edx
mov     edx, [ecx+230h]
mov     [eax+8], edx
mov     ecx, [ecx+234h]
mov     [eax+0ch], ecx
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
cmp     eax, 0eh
jg      short loc_277d04b0
cmp     eax, 0dh
jge     short loc_277d04c6
cmp     eax, 8
jl      short loc_277d04a0
cmp     eax, 0ah
jle     short loc_277d04d3
push    [ebp+arg_8]
push    eax
push    [ebp+arg_0]
call    sub_277dbbb5
pop     ebp
retn    0ch
cmp     eax, 11h
jl      short loc_277d04a0
cmp     eax, 12h
jle     short loc_277d04d3
cmp     eax, 13h
jz      short loc_277d04c6
jle     short loc_277d04a0
cmp     eax, 16h
jmp     short loc_277d049e
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 0fffffffah
xor     eax, eax
jmp     short loc_277d04ac
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 0fffffffbh
jmp     short loc_277d04cf
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
cmp     eax, 3
jz      short loc_277d0527
cmp     eax, 7
jz      short loc_277d0506
cmp     eax, 13h
jz      short loc_277d0527
push    [ebp+arg_c]
push    [ebp+arg_8]
push    eax
push    [ebp+arg_0]
call    sub_277dbb07
pop     ebp
retn    10h
mov     eax, offset dword_277ca1f8
push    0
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax-0ach]
push    [ebp+arg_c]
push    [ebp+arg_8]
call    sub_277dd471
add     esp, 14h
jmp     short loc_277d0502
mov     eax, offset dword_277ca1e8
jmp     short loc_277d050b
mov     ecx, [esp+arg_0]
mov     eax, [esp+arg_4]
add     ecx, 0fffffe3ch
push    eax
and     dword ptr [eax], 0
mov     edx, [ecx]
call    dword ptr [edx+9ch]
retn    8
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
push    [esp+0ch+arg_4]
mov     eax, [edi-1c4h]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    dword ptr [eax+0a0h]
mov     ebx, eax
test    ebx, ebx
jl      short loc_277d057e
add     edi, 0fffffec4h
mov     ecx, esi
push    edi
call    sub_277b9944
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
push    edi
mov     edi, [ebp+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d05bb
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
leave
retn    8
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [edi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d05e5
mov     eax, [ebp+arg_4]
mov     cx, [ebp+var_a]
mov     [eax], cx
xor     eax, eax
jmp     short loc_277d05b5
mov     ecx, [ebp+arg_4]
mov     ax, [edi+16h]
mov     [ecx], ax
jmp     short loc_277d05e1
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     ebx, [esi-1c4h]
mov     ecx, ebx
call    sub_277b54b0
test    eax, eax
jz      short loc_277d0623
mov     edx, [ebx]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, ebx
call    dword ptr [edx+30h]
jmp     short loc_277d0690
fld     [ebp+arg_4]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+48h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      short loc_277d0690
lea     eax, [ebp+lparam]
push    eax
push    1
push    1007h
push    dword ptr [esi-124h]
call    ds:sendmessagea
lea     eax, [ebp+lparam]
lea     esi, [ebp+systemtime]
push    eax
sub     esp, 10h
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277d1612
add     esp, 14h
cmp     eax, 1
jnz     short loc_277d0697
lea     eax, [ebp+lparam]
lea     esi, [ebp+systemtime]
push    eax
mov     ecx, ebx
sub     esp, 10h
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277d168b
mov     ecx, [ebp+arg_c]
neg     eax
sbb     eax, eax
mov     [ecx], ax
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edx, [ebx]
mov     eax, 8bbdh
push    eax
push    eax
push    800a8bbdh
jmp     loc_277d061c
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
mov     ebx, [ebp+wparam]
xor     eax, eax
cmp     word ptr [ebp+arg_c], 0ffffh
push    esi
lea     esi, [ebx-1c4h]
setz    al
push    edi
mov     ecx, esi
mov     [ebp+var_4], eax
mov     [ebp+arg_c], esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d06ef
mov     edx, [esi]
mov     eax, 17fh
push    eax
push    eax
push    800a017fh
mov     ecx, esi
call    dword ptr [edx+30h]
jmp     loc_277d0793
fld     [ebp+arg_4]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+4ch+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      loc_277d0793
lea     eax, [ebp+lparam]
push    eax
push    1
push    1007h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
mov     [ebp+wparam], eax
lea     eax, [ebp+lparam]
push    eax
lea     esi, [ebp+systemtime]
sub     esp, 10h
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277d1612
add     esp, 14h
cmp     eax, 1
jnz     loc_277d07e6
cmp     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
jnz     short loc_277d079a
sub     esp, 10h
lea     esi, [ebp+systemtime]
mov     edi, esp
mov     ecx, [ebp+arg_c]
movsd
movsd
movsd
movsd
call    sub_277d16ca
lea     eax, [ebx+74h]
push    eax
push    [ebp+wparam]
push    1008h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d07b0
push    2
lea     ecx, [ebx-198h]
call    sub_277b4535
or      dword ptr [ebx-114h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
sub     esp, 10h
lea     esi, [ebp+systemtime]
mov     edi, esp
mov     ecx, [ebp+arg_c]
movsd
movsd
movsd
movsd
call    sub_277be6a8
jmp     short loc_277d0761
cmp     [ebp+var_4], 1
lea     eax, [ebp+lparam]
push    eax
jnz     short loc_277d07d0
sub     esp, 10h
lea     esi, [ebp+systemtime]
mov     edi, esp
mov     ecx, [ebp+arg_c]
movsd
movsd
movsd
movsd
call    sub_277be6a8
jmp     short loc_277d0791
sub     esp, 10h
lea     esi, [ebp+systemtime]
mov     edi, esp
mov     ecx, [ebp+arg_c]
movsd
movsd
movsd
movsd
call    sub_277d16ca
jmp     short loc_277d0791
mov     ecx, [ebp+arg_c]
mov     eax, 8bbdh
push    eax
push    eax
mov     edx, [ecx]
push    800a8bbdh
jmp     loc_277d06e7
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
push    edi
mov     edi, [ebp+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d0831
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
leave
retn    8
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [edi-124h]
call    ds:sendmessagea
cmp     eax, 1
movzx   eax, [ebp+var_c]
jz      short loc_277d0855
movzx   eax, word ptr [edi+14h]
push    eax
call    sub_277d5c42
pop     ecx
mov     ecx, [ebp+arg_4]
mov     [ecx], eax
xor     eax, eax
jmp     short loc_277d082b
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
cmp     esi, 1
jl      loc_277d09d9
cmp     esi, 7
jg      loc_277d09d9
mov     ebx, [ebp+arg_0]
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     loc_277d09bf
movzx   eax, [ebp+var_14]
push    eax
call    sub_277d5c42
cmp     esi, eax
pop     ecx
jz      loc_277d0999
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jl      loc_277d099b
movzx   eax, [ebp+var_14]
push    eax
call    sub_277d5c42
sub     esi, eax
pop     ecx
mov     [ebp+arg_0], esi
lea     eax, [ebp+lparam]
fild    [ebp+arg_0]
push    eax
push    ecx
push    ecx
fadd    [ebp+pvtime]
fstp    [ebp+pvtime]
fld     [ebp+pvtime]
fstp    [esp+30h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      loc_277d099b
sub     esp, 10h
lea     esi, [ebx+20h]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+30h]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jz      short loc_277d09a2
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d0963
lea     ecx, [ebx-1c4h]
mov     edx, [ecx]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
jmp     short loc_277d09ba
lea     edi, [ebx+10h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     esi, [ebx-198h]
push    1
mov     ecx, esi
call    sub_277b4535
push    17h
mov     ecx, esi
call    sub_277b4535
or      dword ptr [ebx-114h], 1
push    0
lea     ecx, [ebx-1c4h]
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edx, [ebx-1c4h]
mov     eax, 8bbdh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     short loc_277d099b
mov     edx, [ebx-1c4h]
mov     eax, 8bc3h
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bc3h
jmp     short loc_277d09ba
mov     eax, [ebp+arg_0]
lea     ecx, [eax-1c4h]
jmp     loc_277d0953
push    esi
push    edi
mov     edi, [esp+8+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d0a16
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
retn    8
mov     ecx, [esp+8+arg_4]
mov     eax, [edi-124h]
mov     [ecx], eax
xor     eax, eax
jmp     short loc_277d0a11
mov     eax, [esp+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17fh
push    eax
push    eax
push    800a017fh
call    dword ptr [edx+30h]
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+0ch]
shr     eax, 3
and     eax, 0fh
mov     [ecx], ax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 1
push    esi
jl      short loc_277d0ae9
cmp     [ebp+arg_4], 0ch
jg      short loc_277d0ae9
mov     esi, [ebp+arg_0]
movsx   ecx, [ebp+arg_4]
mov     eax, [esi+0ch]
mov     edx, eax
shr     edx, 7
and     edx, 0fh
imul    edx, ecx
cmp     edx, 0ch
jbe     short loc_277d0aaa
mov     edx, [esi-1c4h]
mov     eax, 8bc1h
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a8bc1h
call    dword ptr [edx+30h]
jmp     short loc_277d0ae4
mov     edx, eax
shr     edx, 3
and     edx, 0fh
cmp     ecx, edx
jz      short loc_277d0ae2
and     ecx, 0fh
and     al, 87h
shl     ecx, 3
or      eax, ecx
push    9
mov     [esi+0ch], eax
or      dword ptr [esi-114h], 1
lea     ecx, [esi-198h]
call    sub_277b4535
lea     ecx, [esi-1c4h]
call    sub_277bf53e
xor     eax, eax
pop     esi
pop     ebp
retn    8
mov     eax, [ebp+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 8bc0h
push    eax
push    eax
push    800a8bc0h
jmp     short loc_277d0aa5
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+0ch]
shr     eax, 7
and     eax, 0fh
mov     [ecx], ax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 1
push    esi
jl      loc_277d0bad
cmp     [ebp+arg_4], 0ch
jg      short loc_277d0bad
mov     esi, [ebp+arg_0]
movsx   ecx, [ebp+arg_4]
mov     eax, [esi+0ch]
mov     edx, eax
shr     edx, 3
and     edx, 0fh
imul    edx, ecx
cmp     edx, 0ch
jbe     short loc_277d0b6c
mov     edx, [esi-1c4h]
mov     eax, 8bc1h
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a8bc1h
call    dword ptr [edx+30h]
jmp     short loc_277d0ba8
mov     edx, eax
shr     edx, 7
and     edx, 0fh
cmp     ecx, edx
jz      short loc_277d0ba6
and     ecx, 0fh
and     ax, 0f87fh
shl     ecx, 7
or      eax, ecx
push    0ah
mov     [esi+0ch], eax
or      dword ptr [esi-114h], 1
lea     ecx, [esi-198h]
call    sub_277b4535
lea     ecx, [esi-1c4h]
call    sub_277bf53e
xor     eax, eax
pop     esi
pop     ebp
retn    8
mov     eax, [ebp+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 8bc0h
push    eax
push    eax
push    800a8bc0h
jmp     short loc_277d0b67
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+0c0h]
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     eax, [esi-1c4h]
push    [esp+8+arg_4]
lea     ecx, [esi-1c4h]
call    dword ptr [eax+0dch]
mov     edi, eax
test    edi, edi
jl      short loc_277d0c20
or      dword ptr [esi-114h], 1
push    60fh
lea     ecx, [esi-198h]
call    sub_277b4535
mov     eax, edi
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
lea     esi, [ebx-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d0c5e
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edi, ds:sendmessagea
lea     eax, [ebp+lparam]
xor     esi, esi
push    eax
push    esi
push    1005h
push    dword ptr [ebx-124h]
call    edi
test    eax, eax
jz      short loc_277d0cc5
mov     [ebp+var_12], si
mov     [ebp+var_14], si
mov     [ebp+var_16], si
mov     [ebp+var_18], si
mov     [ebp+systemtime.wmilliseconds], si
mov     [ebp+systemtime.wsecond], si
mov     [ebp+systemtime.wminute], si
mov     [ebp+systemtime.whour], si
lea     edi, [ebx+40h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     edi, [ebx+50h]
lea     esi, [ebp+systemtime]
movsd
movsd
push    [ebp+pvtime]
lea     eax, [ebp+systemtime]
movsd
movsd
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jl      short loc_277d0c57
xor     eax, eax
jmp     short loc_277d0c57
lea     eax, [ebp+lparam]
push    eax
push    esi
push    1001h
push    dword ptr [ebx-124h]
call    edi
mov     [ebp+var_12], si
mov     [ebp+var_14], si
mov     [ebp+var_16], si
mov     [ebp+var_18], si
lea     edi, [ebx+40h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     edi, [ebx+50h]
lea     esi, [ebp+lparam]
movsd
movsd
push    [ebp+pvtime]
lea     eax, [ebp+lparam]
movsd
movsd
jmp     short loc_277d0cb6
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
test    byte ptr [ebx+0ch], 1
jnz     short loc_277d0d35
mov     edx, [ebx-1c4h]
mov     eax, 8bc9h
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bc9h
call    dword ptr [edx+30h]
jmp     loc_277d0dea
fld     [ebp+arg_4]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+50h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      loc_277d0dea
lea     eax, [ebp+lparam]
push    eax
push    0
push    1005h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d0d87
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jl      short loc_277d0dea
fld     [ebp+arg_4]
fcomp   [ebp+pvtime]
fnstsw  ax
sahf
jnb     short loc_277d0d91
lea     esi, [ebp+systemtime]
lea     edi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     esi, [ebp+systemtime]
lea     edi, [ebp+var_28]
movsd
movsd
lea     eax, [ebp+lparam]
push    eax
push    0
movsd
push    1006h
push    dword ptr [ebx-124h]
movsd
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d0df1
lea     edi, [ebx+10h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     edi, [ebx+40h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     edi, [ebx+50h]
lea     esi, [ebp+var_28]
movsd
movsd
movsd
push    0fh
lea     ecx, [ebx-198h]
movsd
call    sub_277b4535
or      dword ptr [ebx-114h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edx, [ebx-1c4h]
mov     eax, 8bbah
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbah
jmp     loc_277d0d2d
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
lea     esi, [ebx-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d0e45
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edi, ds:sendmessagea
lea     eax, [ebp+lparam]
xor     esi, esi
push    eax
push    esi
push    1005h
push    dword ptr [ebx-124h]
call    edi
test    eax, eax
jz      short loc_277d0eac
mov     [ebp+var_12], si
mov     [ebp+var_14], si
mov     [ebp+var_16], si
mov     [ebp+var_18], si
mov     [ebp+var_2], si
mov     [ebp+var_4], si
mov     [ebp+var_6], si
mov     [ebp+var_8], si
lea     edi, [ebx+40h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     edi, [ebx+50h]
lea     esi, [ebp+var_10]
movsd
push    [ebp+pvtime]
lea     eax, [ebp+lparam]
movsd
movsd
push    eax
movsd
call    ds:systemtimetovarianttime
test    eax, eax
jl      short loc_277d0e3e
xor     eax, eax
jmp     short loc_277d0e3e
lea     eax, [ebp+lparam]
push    eax
push    esi
push    1001h
push    dword ptr [ebx-124h]
call    edi
mov     [ebp+var_12], si
mov     [ebp+var_14], si
mov     [ebp+var_16], si
mov     [ebp+var_18], si
lea     edi, [ebx+50h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     edi, [ebx+40h]
lea     esi, [ebp+lparam]
jmp     short loc_277d0e93
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
test    byte ptr [ebx+0ch], 1
jnz     short loc_277d0f12
mov     edx, [ebx-1c4h]
mov     eax, 8bcah
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bcah
call    dword ptr [edx+30h]
jmp     loc_277d0fc7
fld     [ebp+arg_4]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+50h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      loc_277d0fc7
lea     eax, [ebp+lparam]
push    eax
push    0
push    1005h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d0f64
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+var_28]
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jl      short loc_277d0fc7
fld     [ebp+arg_4]
fcomp   [ebp+pvtime]
fnstsw  ax
sahf
jbe     short loc_277d0f6e
lea     esi, [ebp+systemtime]
lea     edi, [ebp+var_28]
movsd
movsd
movsd
movsd
lea     esi, [ebp+systemtime]
lea     edi, [ebp+lparam]
movsd
movsd
lea     eax, [ebp+lparam]
push    eax
push    0
movsd
push    1006h
push    dword ptr [ebx-124h]
movsd
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d0fce
lea     edi, [ebx+10h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     edi, [ebx+40h]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     edi, [ebx+50h]
lea     esi, [ebp+var_28]
movsd
movsd
movsd
push    10h
lea     ecx, [ebx-198h]
movsd
call    sub_277b4535
or      dword ptr [ebx-114h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edx, [ebx-1c4h]
mov     eax, 8bbah
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbah
jmp     loc_277d0f0a
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+114h]
retn    8
mov     eax, [esp+arg_0]
fld     [esp+arg_4]
mov     ecx, [eax]
push    ecx
push    ecx
fstp    [esp+8+var_8]
push    eax
call    dword ptr [ecx+118h]
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 30h
push    esi
push    edi
mov     edi, [ebp+arg_0]
mov     eax, [edi-124h]
test    eax, eax
jnz     short loc_277d104a
mov     edx, [edi-1c4h]
mov     eax, 18ah
lea     ecx, [edi-1c4h]
push    eax
push    eax
push    800a018ah
call    dword ptr [edx+30h]
jmp     short loc_277d10b4
lea     ecx, [ebp+lparam]
push    ecx
push    1
push    1007h
push    eax
call    ds:sendmessagea
mov     esi, ds:systemtimetovarianttime
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    esi
test    eax, eax
jl      short loc_277d10b4
lea     eax, [ebp+var_8]
push    eax
lea     eax, [ebp+systemtime]
push    eax
call    esi
test    eax, eax
jl      short loc_277d10b4
fld     [ebp+var_8]
fsub    [ebp+pvtime]
fsub    ds:dbl_277c19f0
call    sub_277c433c
cmp     word ptr [ebp+arg_4], 1
jl      short loc_277d10ba
movsx   ecx, word ptr [ebp+arg_4]
cmp     ecx, eax
mov     [ebp+arg_4], ecx
jg      short loc_277d10ba
fild    [ebp+arg_4]
mov     eax, [ebp+arg_8]
fadd    [ebp+pvtime]
fsub    ds:dbl_277c4368
fstp    qword ptr [eax]
xor     eax, eax
pop     edi
pop     esi
leave
retn    0ch
mov     edx, [edi-1c4h]
mov     eax, 17ch
lea     ecx, [edi-1c4h]
push    eax
push    eax
push    800a017ch
jmp     loc_277d1045
mov     eax, [esp+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17fh
push    eax
push    eax
push    800a017fh
call    dword ptr [edx+30h]
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+lparam]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
test    eax, eax
mov     eax, [esi+0ch]
push    0
jz      short loc_277d114a
shr     eax, 0bh
and     eax, 0fh
push    eax
call    sub_277be31f
pop     ecx
push    eax
lea     eax, [ebp+lparam]
push    eax
call    sub_277d594b
mov     ecx, [ebp+arg_4]
add     esp, 0ch
mov     [ecx], ax
xor     eax, eax
pop     esi
leave
retn    8
shr     eax, 0bh
and     eax, 0fh
push    eax
call    sub_277be31f
pop     ecx
add     esi, 10h
push    eax
push    esi
jmp     short loc_277d1135
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     word ptr [ebp+arg_4], 1
push    ebx
push    esi
push    edi
jl      loc_277d12f3
cmp     word ptr [ebp+arg_4], 35h
jg      loc_277d12f3
mov     ebx, [ebp+arg_0]
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d11bb
mov     edx, [ebx-1c4h]
mov     eax, 8bc7h
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bc7h
call    dword ptr [edx+30h]
jmp     loc_277d12b2
mov     eax, [ebx+0ch]
push    0
movsx   edi, word ptr [ebp+arg_4]
shr     eax, 0bh
and     eax, 0fh
lea     esi, [ebx+10h]
push    eax
mov     [ebp+arg_4], edi
call    sub_277be31f
pop     ecx
push    eax
push    esi
call    sub_277d594b
add     esp, 0ch
cmp     edi, eax
jz      loc_277d12b0
lea     edi, [ebp+lparam]
mov     eax, [ebx+0ch]
movsd
push    [ebp+arg_4]
movsd
movsd
shr     eax, 0bh
and     eax, 0fh
push    eax
movsd
call    sub_277be31f
pop     ecx
push    eax
lea     eax, [ebp+lparam]
push    eax
call    sub_277d5bba
add     esp, 0ch
lea     esi, [ebx+20h]
sub     esp, 10h
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+30h]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jz      loc_277d12d6
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d12b9
lea     esi, [ebp+lparam]
lea     edi, [ebx+10h]
movsd
movsd
movsd
movsd
lea     esi, [ebx-198h]
push    17h
mov     ecx, esi
call    sub_277b4535
push    1ah
mov     ecx, esi
call    sub_277b4535
push    7
mov     ecx, esi
call    sub_277b4535
push    1
mov     ecx, esi
call    sub_277b4535
push    19h
mov     ecx, esi
call    sub_277b4535
or      dword ptr [ebx-114h], 1
push    0
lea     ecx, [ebx-1c4h]
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edx, [ebx-1c4h]
mov     eax, 8bc6h
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bc6h
jmp     loc_277d11b3
mov     edx, [ebx-1c4h]
mov     eax, 8bbdh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbdh
jmp     loc_277d11b3
mov     eax, [ebp+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
jmp     loc_277d11b3
push    esi
push    edi
mov     edi, [esp+8+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d135c
push    1
mov     ecx, esi
call    sub_277d91a1
mov     eax, [esi]
push    0
push    offset sub_277dd0f1
mov     ecx, esi
push    dword ptr [edi-124h]
push    7d7h
call    dword ptr [eax+28h]
push    eax
call    ds:dialogboxparama
push    0
mov     ecx, esi
call    sub_277d91a1
pop     edi
xor     eax, eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     edx, [ebp+arg_4]
push    ebx
fldz
push    esi
xor     esi, esi
fstp    [ebp+var_10]
fldz
cmp     dx, 1
push    edi
fstp    [ebp+var_c]
mov     [ebp+var_8], esi
mov     [ebp+var_4], esi
jl      loc_277d1442
cmp     dx, 0ch
jg      loc_277d1442
mov     ecx, [ebp+arg_8]
cmp     cx, 1
jl      loc_277d1442
cmp     cx, 0ch
jg      loc_277d1442
movsx   eax, dx
movsx   edi, cx
imul    eax, edi
cmp     eax, 0ch
jle     short loc_277d13da
mov     eax, [ebp+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 8bc1h
push    eax
push    eax
push    800a8bc1h
call    dword ptr [edx+30h]
jmp     short loc_277d143b
mov     edi, [ebp+arg_c]
mov     ebx, [ebp+arg_10]
mov     eax, [ebp+arg_0]
fldz
fstp    dword ptr [edi]
fldz
fstp    dword ptr [ebx]
cmp     [eax-124h], esi
jz      short loc_277d1439
lea     esi, [eax-1c4h]
lea     eax, [ebp+var_18]
push    eax
push    ecx
push    edx
mov     ecx, esi
call    sub_277bda41
push    [ebp+var_18]
call    sub_277dd7d3
pop     ecx
mov     [ebp+var_8], eax
push    [ebp+var_14]
call    sub_277dd7f7
pop     ecx
mov     [ebp+var_4], eax
lea     eax, [ebp+var_10]
push    6
push    eax
lea     eax, [ebp+var_8]
push    eax
mov     ecx, esi
call    sub_277dcf77
mov     eax, [ebp+var_10]
mov     [edi], eax
mov     eax, [ebp+var_c]
mov     [ebx], eax
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     eax, [ebp+arg_0]
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 8bc0h
push    eax
push    eax
push    800a8bc0h
jmp     loc_277d13d5
push    ebp
mov     ebp, esp
sub     esp, 30h
fild    [ebp+arg_4]
mov     eax, [ebp+pvtime]
push    ebx
mov     ebx, [ebp+arg_0]
and     [ebp+var_8], 0
fstp    [ebp+var_10]
fild    [ebp+arg_8]
and     [ebp+var_4], 0
push    esi
mov     esi, [ebp+arg_10]
push    edi
fstp    [ebp+var_c]
fldz
push    0ah
lea     ecx, [ebx-1c4h]
fstp    qword ptr [eax]
lea     eax, [ebp+var_10]
mov     dword ptr [esi], 6
push    eax
lea     eax, [ebp+var_8]
push    eax
call    sub_277dcf77
push    8
xor     eax, eax
pop     ecx
lea     edi, [ebp+lparam]
push    [ebp+var_8]
rep stosd
mov     [ebp+lparam], 20h
call    sub_277dd78b
pop     ecx
mov     [ebp+var_2c], eax
push    [ebp+var_4]
call    sub_277dd7af
mov     [ebp+var_28], eax
pop     ecx
lea     eax, [ebp+lparam]
push    eax
push    0
push    100eh
push    dword ptr [ebx-124h]
call    ds:sendmessagea
mov     ecx, [ebp+var_24]
mov     eax, 10000h
cmp     ecx, eax
ja      short loc_277d150b
jz      short loc_277d1503
test    ecx, ecx
jnz     short loc_277d14ff
mov     dword ptr [esi], 6
xor     eax, eax
jmp     short loc_277d1545
mov     dword ptr [esi], 7
jmp     short loc_277d14ff
mov     eax, 20000h
cmp     ecx, eax
ja      short loc_277d154c
jz      short loc_277d1531
sub     ecx, 10001h
jz      short loc_277d1529
dec     ecx
jnz     short loc_277d14ff
mov     dword ptr [esi], 0bh
jmp     short loc_277d14ff
mov     dword ptr [esi], 0ah
jmp     short loc_277d14ff
and     dword ptr [esi], 0
push    [ebp+pvtime]
lea     eax, [ebp+systemtime]
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jge     short loc_277d14ff
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     eax, 30000h
cmp     ecx, eax
ja      short loc_277d1588
jz      short loc_277d157d
sub     ecx, 20001h
jz      short loc_277d1575
dec     ecx
jz      short loc_277d156d
dec     ecx
jnz     short loc_277d14ff
mov     dword ptr [esi], 5
jmp     short loc_277d1534
mov     dword ptr [esi], 4
jmp     short loc_277d1534
mov     dword ptr [esi], 1
jmp     short loc_277d1534
mov     dword ptr [esi], 0ch
jmp     loc_277d14ff
cmp     ecx, 1000000h
jz      short loc_277d15dd
cmp     ecx, 1010003h
jz      short loc_277d15dd
cmp     ecx, 1020001h
jz      short loc_277d15d2
cmp     ecx, 2000000h
jz      short loc_277d15c7
cmp     ecx, 2010003h
jz      short loc_277d15c7
cmp     ecx, 2020001h
jnz     loc_277d14ff
mov     dword ptr [esi], 3
jmp     loc_277d1534
mov     dword ptr [esi], 9
jmp     loc_277d14ff
mov     dword ptr [esi], 2
jmp     loc_277d1534
mov     dword ptr [esi], 8
jmp     loc_277d14ff
mov     eax, [esp+arg_0]
push    0
lea     ecx, [eax-1c4h]
call    sub_277b45b0
xor     eax, eax
retn    4
mov     eax, [esp+arg_0]
push    0
lea     ecx, [eax-0f0h]
call    sub_277dde52
retn    4
push    ebp
mov     ebp, esp
sub     esp, 18h
push    esi
lea     eax, [ebp+pvtime]
push    edi
mov     edi, ds:systemtimetovarianttime
push    eax
lea     eax, [ebp+systemtime]
push    eax
call    edi
mov     esi, [ebp+lpsystemtime]
lea     eax, [ebp+var_18]
push    eax
push    esi
and     word ptr [esi+8], 0
and     word ptr [esi+0ah], 0
and     word ptr [esi+0ch], 0
and     word ptr [esi+0eh], 0
mov     word ptr [esi+18h], 17h
mov     word ptr [esi+1ah], 3bh
mov     word ptr [esi+1ch], 3bh
mov     word ptr [esi+1eh], 3e7h
call    edi
lea     eax, [ebp+var_10]
add     esi, 10h
push    eax
push    esi
call    edi
fld     [ebp+pvtime]
fcomp   [ebp+var_18]
fnstsw  ax
sahf
jb      short loc_277d1687
fld     [ebp+pvtime]
fcomp   [ebp+var_10]
fnstsw  ax
sahf
ja      short loc_277d1687
push    1
pop     eax
pop     edi
pop     esi
leave
retn
xor     eax, eax
jmp     short loc_277d1683
push    ebx
push    esi
push    edi
lea     esi, [esp+0ch+arg_0]
push    [esp+0ch+arg_10]
mov     ebx, ecx
sub     esp, 10h
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277be6e1
add     esp, 14h
mov     edx, eax
mov     eax, [esp+0ch+arg_6]
push    1
lea     ecx, [eax-1]
pop     eax
shl     eax, cl
pop     edi
pop     esi
and     eax, [ebx+edx*4+238h]
pop     ebx
neg     eax
sbb     eax, eax
neg     eax
retn    14h
push    ebx
push    esi
push    edi
lea     esi, [esp+0ch+arg_0]
push    [esp+0ch+arg_10]
mov     ebx, ecx
sub     esp, 10h
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277be6e1
mov     ecx, [esp+20h+arg_6]
add     esp, 14h
dec     ecx
lea     eax, [ebx+eax*4+238h]
push    1
pop     edx
pop     edi
shl     edx, cl
pop     esi
pop     ebx
or      [eax], edx
retn    14h
xor     eax, eax
test    [esp+arg_8], 2
jz      short loc_277d170d
push    1
pop     eax
dec     eax
neg     eax
sbb     eax, eax
and     eax, 80004005h
retn    10h
sub     dword ptr [esp+4], 20h
jmp     sub_277b516f
sub     dword ptr [esp+4], 24h
jmp     sub_277b516f
sub     dword ptr [esp+4], 28h
jmp     sub_277b516f
sub     dword ptr [esp+4], 2ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 30h
jmp     sub_277b516f
sub     dword ptr [esp+4], 34h
jmp     sub_277b516f
sub     dword ptr [esp+4], 34h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 34h
jmp     loc_277bb233
sub     [esp+arg_0], 4
mov     ecx, [esp+arg_0]
push    ecx
mov     edx, [ecx+13ch]
lea     eax, [ecx+13ch]
and     dx, 8006h
or      edx, 6
mov     [eax], edx
call    loc_277b9c70
retn    4
sub     dword ptr [esp+4], 38h
jmp     sub_277b516f
sub     dword ptr [esp+4], 38h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 38h
jmp     loc_277bb233
sub     dword ptr [esp+4], 3ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 3ch
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 3ch
jmp     loc_277bb233
sub     dword ptr [esp+4], 40h
jmp     sub_277b516f
sub     dword ptr [esp+4], 40h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 40h
jmp     loc_277bb233
sub     dword ptr [esp+4], 44h
jmp     sub_277b516f
sub     dword ptr [esp+4], 44h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 44h
jmp     loc_277bb233
sub     dword ptr [esp+4], 48h
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 4ch
jmp     loc_277bb233
sub     dword ptr [esp+4], 0a4h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0a4h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 0a4h
jmp     loc_277bb233
sub     dword ptr [esp+4], 0a8h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0a8h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 0a8h
jmp     loc_277bb233
sub     dword ptr [esp+4], 0ach
jmp     sub_277b516f
sub     dword ptr [esp+4], 0ach
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 0ach
jmp     loc_277bb233
sub     dword ptr [esp+4], 0b0h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0b0h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 0b0h
jmp     loc_277bb233
sub     dword ptr [esp+4], 1a8h
jmp     sub_277b516f
sub     dword ptr [esp+4], 1c4h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d98ec
retn    8
sub     dword ptr [esp+4], 1c4h
jmp     sub_277be368
sub     dword ptr [esp+4], 1ach
jmp     sub_277b516f
sub     dword ptr [esp+4], 1ach
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 1ach
jmp     loc_277bb233
sub     dword ptr [esp+4], 1c8h
push    dword ptr [esp+8]
push    dword ptr [esp+8]
call    sub_277d9906
retn    8
sub     dword ptr [esp+4], 1b0h
jmp     sub_277b516f
sub     dword ptr [esp+4], 1b0h
jmp     loc_277bb1e5
sub     dword ptr [esp+4], 1b0h
jmp     loc_277bb233
push    ebp
mov     ebp, esp
push    esi
mov     esi, ecx
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277db64a
mov     eax, [ebp+arg_8]
mov     ecx, [ebp+arg_14]
mov     [esi+44h], eax
mov     eax, [ebp+arg_c]
mov     [esi+4ch], eax
mov     eax, [ebp+arg_10]
mov     [esi+58h], ecx
xor     ecx, ecx
mov     [esi+50h], eax
mov     [esi+48h], ecx
mov     [esi+54h], ecx
add     eax, 4
cmp     [eax], ecx
jz      short loc_277d19a6
inc     dword ptr [esi+48h]
add     eax, 18h
jmp     short loc_277d199a
mov     eax, esi
pop     esi
pop     ebp
retn    18h
push    ebx
push    esi
mov     esi, ecx
cmp     dword ptr [esi+54h], 0
jz      short loc_277d19df
xor     ebx, ebx
cmp     [esi+48h], ebx
jle     short loc_277d19df
push    edi
xor     edi, edi
mov     eax, [esi+54h]
add     eax, edi
push    eax
call    ds:variantclear
mov     eax, [esi+54h]
add     edi, 10h
and     dword ptr [eax+edi-8], 0
inc     ebx
cmp     ebx, [esi+48h]
jl      short loc_277d19c1
pop     edi
pop     esi
pop     ebx
retn
push    ebp
mov     ebp, esp
sub     esp, 128h
mov     eax, [ebp+lpmultibytestr]
push    ebx
push    esi
sub     eax, 4eh
push    edi
mov     esi, ecx
jz      loc_277d2037
sub     eax, 0c2h
jz      loc_277d1fe1
dec     eax
jz      loc_277d1f90
sub     eax, 353h
jz      loc_277d204c
dec     eax
jnz     short loc_277d1a84
mov     eax, [esi]
push    [ebp+hdlg]
xor     edi, edi
mov     [ebp+var_20], 0fffffffdh
mov     [ebp+var_1c], edi
mov     [ebp+var_18], edi
mov     [ebp+var_14], edi
mov     [ebp+var_10], edi
mov     [ebp+lpmem], edi
call    dword ptr [eax+30h]
mov     ebx, eax
cmp     ebx, edi
jge     short loc_277d1a8b
mov     eax, [esi+20h]
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+1ah]
push    eax
push    ebx
call    sub_277db168
mov     esi, [ebp+lp]
pop     ecx
cmp     esi, edi
pop     ecx
jz      short loc_277d1a6f
push    4
push    esi
call    ds:isbadwriteptr
test    eax, eax
jnz     short loc_277d1a6f
mov     [esi], ebx
cmp     [ebp+lpmem], edi
jz      short loc_277d1a84
push    [ebp+lpmem]
push    edi
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
jmp     loc_277d1e45
mov     ecx, esi
call    sub_277d19ad
cmp     [esi+48h], edi
mov     [ebp+var_4], edi
jle     short loc_277d1af1
xor     edi, edi
xor     ebx, ebx
mov     eax, [esi+50h]
add     eax, ebx
mov     ecx, [eax+4]
dec     ecx
jz      loc_277d1db3
dec     ecx
jz      loc_277d1d5c
dec     ecx
jz      loc_277d1c54
dec     ecx
jnz     short loc_277d1ae0
push    dword ptr [eax]
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
call    ds:iswindowenabled
test    eax, eax
jnz     loc_277d1bcc
mov     eax, [esi+54h]
and     word ptr [eax+edi], 0
inc     [ebp+var_4]
add     ebx, 18h
mov     eax, [ebp+var_4]
add     edi, 10h
cmp     eax, [esi+48h]
jl      short loc_277d1a9e
lea     eax, [ebp+var_24]
mov     ecx, esi
push    eax
call    sub_277da5c8
test    eax, eax
jz      loc_277d1eec
mov     edx, [esi]
lea     ecx, [ebp+var_8]
push    ecx
push    eax
mov     ecx, esi
call    dword ptr [edx+24h]
test    eax, eax
jl      loc_277d1bbc
xor     ebx, ebx
cmp     [esi+48h], ebx
jle     short loc_277d1b9c
xor     edi, edi
mov     [ebp+var_4], edi
mov     eax, [esi+54h]
mov     ecx, [ebp+var_4]
add     eax, ecx
cmp     word ptr [eax], 0
jz      short loc_277d1b8f
lea     ecx, [ebp+var_20]
push    1
mov     [ebp+var_1c], eax
mov     [ebp+var_18], ecx
pop     eax
xor     ecx, ecx
push    ecx
push    ecx
push    ecx
lea     ecx, [ebp+var_1c]
push    ecx
mov     ecx, [esi+50h]
push    4
push    800h
mov     [ebp+var_14], eax
mov     [ebp+var_10], eax
mov     eax, [ebp+var_8]
push    offset dword_277b6008
push    dword ptr [edi+ecx+0ch]
mov     edx, [eax]
push    eax
call    dword ptr [edx+18h]
mov     [ebp+lpmultibytestr], eax
mov     eax, [esi+50h]
mov     eax, [edi+eax+4]
cmp     eax, 3
jz      loc_277d1e4c
cmp     eax, 4
jz      loc_277d1e4c
cmp     [ebp+lpmultibytestr], 0
jl      loc_277d1ead
add     [ebp+var_4], 10h
inc     ebx
add     edi, 18h
cmp     ebx, [esi+48h]
jl      short loc_277d1b24
push    [ebp+var_8]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+hdlg]
call    dword ptr [eax+34h]
mov     edi, eax
test    edi, edi
jl      loc_277d1f44
mov     eax, [ebp+var_8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
lea     eax, [ebp+var_24]
mov     ecx, esi
push    eax
call    sub_277da5d8
jmp     loc_277d1afc
mov     eax, [esi+50h]
mov     ecx, [esi+54h]
push    0
push    0
mov     ax, [ebx+eax+8]
push    0eh
mov     [edi+ecx], ax
mov     eax, [esi+50h]
push    dword ptr [ebx+eax]
push    [ebp+hdlg]
call    ds:senddlgitemmessagea
inc     eax
cmp     eax, 100h
mov     [ebp+cchmax], eax
jbe     short loc_277d1c4c
cmp     [ebp+lpmem], 0
jnz     short loc_277d1c13
push    eax
push    0
push    dword_278282f0
call    ds:heapalloc
mov     [ebp+lpmem], eax
mov     eax, [ebp+lpmem]
test    eax, eax
mov     [ebp+lpmultibytestr], eax
jz      loc_277d1df9
push    [ebp+cchmax]
push    eax
mov     eax, [esi+50h]
push    dword ptr [ebx+eax]
push    [ebp+hdlg]
call    ds:getdlgitemtexta
push    0
push    [ebp+lpmultibytestr]
call    sub_277b7d29
pop     ecx
pop     ecx
mov     ecx, [esi+54h]
mov     [edi+ecx+8], eax
jmp     loc_277d1ae0
lea     eax, [ebp+var_128]
jmp     short loc_277d1c16
mov     ecx, [esi+54h]
mov     ax, [eax+8]
mov     [edi+ecx], ax
mov     eax, [esi+50h]
add     eax, ebx
lea     ecx, [ebp+translated]
push    dword ptr [eax+14h]
push    ecx
push    dword ptr [eax]
push    [ebp+hdlg]
call    ds:getdlgitemint
mov     ecx, [esi+54h]
mov     [edi+ecx+8], eax
mov     eax, [esi+50h]
add     eax, ebx
movzx   ecx, word ptr [eax+8]
dec     ecx
dec     ecx
jz      loc_277d1d29
dec     ecx
jz      loc_277d1d19
sub     ecx, 0dh
jnz     short loc_277d1cb5
cmp     dword ptr [eax+14h], 0
mov     eax, [esi+54h]
mov     eax, [edi+eax+8]
jz      short loc_277d1d0e
cmp     eax, 7fh
jg      short loc_277d1cb1
cmp     eax, 0ffffff80h
jge     short loc_277d1cb5
and     [ebp+translated], 0
cmp     [ebp+translated], 0
jnz     loc_277d1ae0
mov     eax, [ebp+var_4]
mov     ecx, [esi+50h]
push    1
lea     eax, [eax+eax*2]
push    dword ptr [ecx+eax*8]
mov     eax, [esi+20h]
mov     eax, off_278286a4[eax*8]
movzx   eax, word ptr [eax+1ah]
push    eax
push    dword ptr [esi+1ch]
call    sub_277db4ed
mov     esi, [ebp+lp]
add     esp, 10h
test    esi, esi
jz      loc_277d1e2b
push    4
push    esi
call    ds:isbadwriteptr
test    eax, eax
jnz     loc_277d1e2b
mov     dword ptr [esi], 80004004h
jmp     loc_277d1e2b
cmp     eax, 0ffh
jg      short loc_277d1cb1
test    eax, eax
jmp     short loc_277d1caf
cmp     dword ptr [eax+14h], 0
jnz     short loc_277d1cb5
mov     eax, [esi+54h]
cmp     dword ptr [edi+eax+8], 0
jmp     short loc_277d1caf
xor     ecx, ecx
cmp     [eax+14h], ecx
mov     eax, [esi+54h]
mov     eax, [edi+eax+8]
jz      short loc_277d1d51
cmp     eax, 7fffh
jg      short loc_277d1d49
cmp     eax, 0ffff8000h
jge     loc_277d1cb5
mov     [ebp+translated], ecx
jmp     loc_277d1cb5
cmp     eax, 0ffffh
jg      short loc_277d1d49
cmp     eax, ecx
jmp     short loc_277d1d43
mov     ecx, [esi+54h]
mov     ax, [eax+8]
push    0
push    0
mov     [edi+ecx], ax
mov     eax, [esi+50h]
push    147h
push    dword ptr [ebx+eax]
push    [ebp+hdlg]
call    ds:senddlgitemmessagea
mov     ecx, [esi+54h]
mov     [edi+ecx+8], eax
mov     eax, [esi+50h]
mov     ecx, [esi+58h]
cmp     ecx, [ebx+eax+0ch]
jnz     loc_277d1ae0
mov     eax, [esi+54h]
cmp     dword ptr [edi+eax+8], 10h
lea     eax, [edi+eax+8]
jnz     loc_277d1ae0
mov     dword ptr [eax], 63h
jmp     loc_277d1ae0
mov     ecx, [esi+54h]
mov     ax, [eax+8]
push    0
push    0
mov     [edi+ecx], ax
mov     eax, [esi+50h]
push    0f0h
push    dword ptr [ebx+eax]
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
call    ds:sendmessagea
dec     eax
mov     eax, [esi+54h]
jz      short loc_277d1dee
and     word ptr [edi+eax+8], 0
jmp     loc_277d1ae0
or      word ptr [edi+eax+8], 0ffffh
jmp     loc_277d1ae0
mov     eax, [esi+20h]
mov     esi, 8007000eh
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+1ah]
push    eax
push    esi
call    sub_277db168
mov     edi, [ebp+lp]
pop     ecx
test    edi, edi
pop     ecx
jz      short loc_277d1e2b
push    4
push    edi
call    ds:isbadwriteptr
test    eax, eax
jnz     short loc_277d1e2b
mov     [edi], esi
cmp     [ebp+lpmem], 0
jz      short loc_277d1e42
push    [ebp+lpmem]
push    0
push    dword_278282f0
call    ds:heapfree
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     [ebp+lpmultibytestr], 0
jge     loc_277d1b8f
mov     eax, [esi+20h]
mov     edi, [ebp+lpmultibytestr]
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+1ah]
push    eax
push    edi
call    sub_277db168
pop     ecx
lea     eax, [ebx+ebx*2]
pop     ecx
mov     ecx, [esi+50h]
push    0
push    dword ptr [ecx+eax*8]
mov     eax, [esi+20h]
mov     eax, off_278286a4[eax*8]
movzx   eax, word ptr [eax+1ah]
push    eax
push    dword ptr [esi+1ch]
call    sub_277db4ed
mov     ebx, [ebp+lp]
add     esp, 10h
test    ebx, ebx
jz      short loc_277d1ee3
push    4
push    ebx
call    ds:isbadwriteptr
test    eax, eax
jnz     short loc_277d1ee3
mov     [ebx], edi
jmp     short loc_277d1ee3
mov     eax, [esi+20h]
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+1ah]
push    eax
push    [ebp+lpmultibytestr]
call    sub_277db168
cmp     [ebp+lp], 0
pop     ecx
pop     ecx
jz      short loc_277d1ee3
push    4
push    [ebp+lp]
call    ds:isbadwriteptr
test    eax, eax
jnz     short loc_277d1ee3
mov     ecx, [ebp+lp]
mov     eax, [ebp+lpmultibytestr]
mov     [ecx], eax
mov     eax, [ebp+var_8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     ecx, esi
call    sub_277d19ad
mov     eax, [esi]
push    [ebp+hdlg]
mov     ecx, esi
call    dword ptr [eax+38h]
mov     edi, eax
xor     ebx, ebx
cmp     edi, ebx
jge     short loc_277d1f7e
mov     eax, [esi+20h]
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+1ah]
push    eax
push    edi
call    sub_277db168
mov     esi, [ebp+lp]
pop     ecx
cmp     esi, ebx
pop     ecx
jz      short loc_277d1f32
push    4
push    esi
call    ds:isbadwriteptr
test    eax, eax
jnz     short loc_277d1f32
mov     [esi], edi
cmp     [ebp+lpmem], ebx
jz      loc_277d1a84
push    [ebp+lpmem]
push    ebx
jmp     loc_277d1a78
mov     eax, [esi+20h]
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+1ah]
push    eax
push    edi
call    sub_277db168
cmp     [ebp+lp], 0
pop     ecx
pop     ecx
jz      short loc_277d1ee3
push    4
push    [ebp+lp]
call    ds:isbadwriteptr
test    eax, eax
jnz     loc_277d1ee3
mov     eax, [ebp+lp]
mov     [eax], edi
jmp     loc_277d1ee3
cmp     [ebp+lpmem], ebx
jz      loc_277d1e42
push    [ebp+lpmem]
push    ebx
jmp     loc_277d1e36
mov     eax, [ebp+translated]
shr     eax, 10h
cmp     ax, 300h
jz      short loc_277d1fa7
test    ax, ax
jz      short loc_277d1fa7
cmp     ax, 1
jnz     short loc_277d1fc3
mov     edx, [esi+48h]
xor     edi, edi
test    edx, edx
jle     short loc_277d1fc3
movzx   ecx, word ptr [ebp+translated]
mov     eax, [esi+50h]
cmp     ecx, [eax]
jz      short loc_277d1fd8
inc     edi
add     eax, 18h
cmp     edi, edx
jl      short loc_277d1fb7
push    [ebp+lp]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+translated]
push    [ebp+hdlg]
call    dword ptr [eax+3ch]
jmp     loc_277d1e45
mov     ecx, esi
call    sub_277da653
jmp     short loc_277d1fc3
push    dword ptr [esi+4ch]
push    dword ptr [esi+44h]
push    [ebp+hdlg]
call    sub_277db2da
mov     eax, [esi+48h]
xor     ebx, ebx
add     esp, 0ch
cmp     eax, ebx
jz      short loc_277d2028
shl     eax, 4
push    eax
call    sub_277b35e7
cmp     eax, ebx
pop     ecx
mov     [esi+54h], eax
jz      short loc_277d2028
xor     edi, edi
cmp     [esi+48h], ebx
jle     short loc_277d2028
mov     eax, ebx
add     eax, [esi+54h]
push    eax
call    ds:variantinit
inc     edi
add     ebx, 10h
cmp     edi, [esi+48h]
jl      short loc_277d2013
mov     eax, [esi]
push    [ebp+hdlg]
mov     ecx, esi
call    dword ptr [eax+28h]
jmp     loc_277d1e45
push    [ebp+lp]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+translated]
push    [ebp+hdlg]
call    dword ptr [eax+40h]
jmp     loc_277d1e45
lea     eax, [ebp+lpmultibytestr]
mov     ecx, esi
push    eax
call    sub_277da5c8
xor     ebx, ebx
cmp     eax, ebx
jz      loc_277d1a84
mov     edx, [esi]
lea     ecx, [ebp+translated]
push    ecx
push    eax
mov     ecx, esi
call    dword ptr [edx+24h]
cmp     eax, ebx
jl      loc_277d1a84
xor     edi, edi
cmp     [esi+48h], ebx
jle     short loc_277d2098
mov     eax, ebx
mov     ecx, esi
add     eax, [esi+50h]
push    eax
push    [ebp+translated]
push    [ebp+hdlg]
call    sub_277d20f2
inc     edi
add     ebx, 18h
cmp     edi, [esi+48h]
jl      short loc_277d207c
push    [ebp+translated]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+hdlg]
call    dword ptr [eax+2ch]
mov     edi, eax
mov     eax, [ebp+translated]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    edi, edi
jge     loc_277d1e42
mov     eax, [esi+20h]
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+1ah]
push    eax
push    edi
call    sub_277db168
mov     esi, [ebp+lp]
pop     ecx
test    esi, esi
pop     ecx
jz      loc_277d1a84
push    4
push    esi
call    ds:isbadwriteptr
test    eax, eax
jnz     loc_277d1a84
mov     [esi], edi
jmp     loc_277d1a84
push    ebp
mov     ebp, esp
sub     esp, 0a4h
push    ebx
push    esi
push    edi
lea     eax, [ebp+pvarg]
xor     edi, edi
mov     [ebp+var_14], ecx
push    eax
mov     [ebp+var_24], edi
mov     [ebp+var_20], edi
mov     [ebp+var_1c], edi
mov     [ebp+var_18], edi
call    ds:variantinit
mov     esi, [ebp+arg_8]
push    edi
lea     edx, [ebp+pvarg]
mov     eax, [ebp+arg_4]
push    edi
push    edx
lea     edx, [ebp+var_24]
mov     ecx, [eax]
push    edx
mov     ebx, 800h
push    2
push    ebx
push    offset dword_277b6008
mov     dword ptr [ebp+pvarg.anonymous_0+8], edi
push    dword ptr [esi+0ch]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
jl      loc_277d2213
mov     ax, [esi+8]
push    eax
push    edi
lea     eax, [ebp+pvarg]
push    ebx
push    eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantchangetypeex
cmp     eax, edi
jl      loc_277d2213
mov     eax, [esi+4]
dec     eax
jz      loc_277d2270
dec     eax
jz      loc_277d224d
dec     eax
jz      loc_277d222c
dec     eax
jnz     loc_277d2209
cmp     dword ptr [ebp+pvarg.anonymous_0+8], edi
jz      loc_277d221a
push    dword ptr [ebp+pvarg.anonymous_0+8]
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
push    edi
push    edi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    dword ptr [ebp+pvarg.anonymous_0+8]
push    edi
push    edi
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
push    dword ptr [esi]
push    [ebp+hdlg]
call    ds:setdlgitemtexta
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277d21f0
test    [ebp+var_28], 1
jz      short loc_277d21f0
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
mov     eax, [esi+10h]
cmp     eax, edi
jle     short loc_277d2209
push    edi
push    eax
push    0c5h
push    dword ptr [esi]
push    [ebp+hdlg]
call    ds:senddlgitemmessagea
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    offset byte_277ca428
push    dword ptr [esi]
push    [ebp+hdlg]
call    ds:setdlgitemtexta
jmp     short loc_277d21f0
cmp     word ptr [esi+8], 2
push    dword ptr [esi+14h]
jnz     short loc_277d2248
movsx   eax, word ptr [ebp+pvarg.anonymous_0+8]
push    eax
push    dword ptr [esi]
push    [ebp+hdlg]
call    ds:setdlgitemint
jmp     short loc_277d21f0
push    dword ptr [ebp+pvarg.anonymous_0+8]
jmp     short loc_277d223b
mov     eax, [ebp+var_14]
mov     eax, [eax+58h]
cmp     eax, [esi+0ch]
jnz     short loc_277d2265
cmp     dword ptr [ebp+pvarg.anonymous_0+8], 63h
jnz     short loc_277d2265
mov     dword ptr [ebp+pvarg.anonymous_0+8], 10h
push    edi
push    dword ptr [ebp+pvarg.anonymous_0+8]
push    14eh
jmp     short loc_277d21fe
xor     eax, eax
cmp     word ptr [ebp+pvarg.anonymous_0+8], di
setnz   al
push    eax
push    dword ptr [esi]
push    [ebp+hdlg]
call    ds:checkdlgbutton
jmp     short loc_277d2209
push    ebp
mov     ebp, esp
push    ecx
push    esi
mov     esi, ecx
lea     ecx, [ebp+arg_0]
push    edi
mov     eax, [esi]
push    ecx
push    [ebp+arg_0]
mov     ecx, esi
call    dword ptr [eax+24h]
xor     edi, edi
mov     [ebp+var_4], eax
cmp     eax, edi
jl      short loc_277d22e3
push    ebx
xor     ebx, ebx
cmp     [esi+48h], edi
jle     short loc_277d22d2
mov     eax, [esi+50h]
mov     ecx, [ebp+arg_4]
add     eax, edi
cmp     ecx, [eax+0ch]
jnz     short loc_277d22c9
push    eax
mov     ecx, esi
push    [ebp+arg_0]
push    dword ptr [esi+1ch]
call    sub_277d20f2
inc     ebx
add     edi, 18h
cmp     ebx, [esi+48h]
jl      short loc_277d22ae
mov     eax, [ebp+arg_0]
test    eax, eax
jz      short loc_277d22df
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
pop     ebx
pop     edi
pop     esi
leave
retn    8
push    dword_278282f0
push    5ch
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d230b
push    [esp+arg_0]
mov     ecx, eax
call    sub_277d230f
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277d2307
push    esi
push    11h
push    offset dword_2782b7f8
push    offset dword_2782b7d8
push    8
push    9
push    [esp+18h+arg_0]
mov     esi, ecx
call    sub_277d1966
mov     dword ptr [esi], offset off_277ca5f8
mov     dword ptr [esi+14h], offset off_277ca5b8
mov     dword ptr [esi+30h], offset off_277ca5a0
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277d236d
test    byte ptr [esp+8], 1
jz      short loc_277d2367
test    esi, esi
jz      short loc_277d2367
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277ca5f8
mov     dword ptr [ecx+14h], offset off_277ca5b8
mov     dword ptr [ecx+30h], offset off_277ca5a0
jmp     loc_277cf4f4
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     ecx, [eax]
push    offset dword_277b1e98
push    eax
call    dword ptr [ecx]
retn    8
push    0
call    sub_277db6c7
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 88h
push    ebx
push    esi
push    edi
mov     esi, ecx
xor     ebx, ebx
push    11h
mov     [ebp+var_48], esi
mov     [ebp+var_1c], ebx
call    ds:getstockobject
lea     ecx, [ebp+var_4]
mov     [ebp+wparam], eax
mov     eax, [esi]
push    ecx
push    [ebp+hwnd]
mov     ecx, esi
call    dword ptr [eax+24h]
cmp     eax, ebx
jl      short loc_277d23f8
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_1c]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4ch]
mov     edi, eax
cmp     edi, ebx
jge     short loc_277d23ff
push    ebx
push    edi
call    sub_277db168
pop     ecx
mov     eax, edi
pop     ecx
pop     edi
pop     esi
pop     ebx
leave
retn    8
movsx   eax, word ptr [ebp+var_1c]
push    eax
mov     ecx, esi
push    [ebp+hdlg]
call    sub_277d2b56
mov     edi, ds:getdlgitem
push    9cfh
push    [ebp+hdlg]
call    edi
mov     esi, ds:sendmessagea
push    ebx
push    ebx
push    1005h
push    eax
mov     [ebp+hwnd], eax
call    esi
push    0fffffff0h
push    [ebp+hwnd]
call    ds:getwindowlonga
push    eax
push    0fffffff0h
push    [ebp+hwnd]
call    ds:setwindowlonga
push    1
push    [ebp+wparam]
push    30h
push    [ebp+hwnd]
call    esi
push    8fdh
push    [ebp+hdlg]
call    edi
push    ebx
push    ebx
push    1005h
push    eax
mov     [ebp+hwnd], eax
call    esi
push    0fffffff0h
push    [ebp+hwnd]
call    ds:getwindowlonga
push    eax
push    0fffffff0h
push    [ebp+hwnd]
call    ds:setwindowlonga
push    1
push    [ebp+wparam]
push    30h
push    [ebp+hwnd]
call    esi
push    898h
push    [ebp+hdlg]
call    edi
push    ebx
push    ebx
push    1005h
push    eax
mov     [ebp+hwnd], eax
call    esi
push    0fffffff0h
push    [ebp+hwnd]
call    ds:getwindowlonga
push    eax
push    0fffffff0h
push    [ebp+hwnd]
call    ds:setwindowlonga
push    1
push    [ebp+wparam]
push    30h
push    [ebp+hwnd]
call    esi
push    899h
push    [ebp+hdlg]
call    edi
push    ebx
push    ebx
push    1005h
push    eax
mov     [ebp+hwnd], eax
call    esi
push    0fffffff0h
push    [ebp+hwnd]
call    ds:getwindowlonga
push    eax
push    0fffffff0h
push    [ebp+hwnd]
call    ds:setwindowlonga
push    1
push    [ebp+wparam]
push    30h
push    [ebp+hwnd]
call    esi
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_44]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+98h]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jl      loc_277d25b2
fld     [ebp+var_44]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+0a0h+vtime]
call    ds:varianttimetosystemtime
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_44]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+90h]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jl      short loc_277d25b2
fld     [ebp+var_44]
lea     eax, [ebp+var_78]
push    eax
push    ecx
push    ecx
fstp    [esp+0a0h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+systemtime]
push    eax
push    3
push    1004h
push    9cfh
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+systemtime]
push    eax
push    3
push    1004h
push    8fdh
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [ebp+var_4]
lea     edx, [ebp+pvarg]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0dch]
cmp     eax, ebx
mov     [ebp+hwnd], eax
jge     short loc_277d25c3
push    ebx
push    eax
call    sub_277db168
mov     eax, [ebp+hwnd]
pop     ecx
pop     ecx
jmp     loc_277d23f8
cmp     word ptr [ebp+pvarg.anonymous_0], 7
lea     eax, [ebp+var_68]
push    eax
jnz     loc_277d277d
fld     qword ptr [ebp+pvarg.anonymous_0+8]
push    ecx
push    ecx
fstp    [esp+0a0h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+var_68]
push    eax
push    ebx
push    1002h
push    9cfh
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+var_68]
push    eax
push    ebx
push    1002h
push    8fdh
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+lparam]
mov     word ptr [ebp+lparam], 641h
push    eax
push    3
push    1004h
push    898h
push    [ebp+hdlg]
mov     [ebp+var_36], 1
mov     word ptr [ebp+lparam+2], 1
mov     [ebp+var_2c], 270fh
mov     [ebp+var_26], 1fh
mov     [ebp+var_2a], 0ch
mov     [ebp+var_28], bx
mov     [ebp+var_38], bx
mov     [ebp+var_24], bx
mov     [ebp+var_34], bx
mov     [ebp+var_22], bx
mov     [ebp+var_32], bx
mov     [ebp+var_20], bx
mov     [ebp+var_30], bx
mov     [ebp+var_1e], bx
mov     [ebp+var_2e], bx
call    edi
push    eax
call    esi
lea     eax, [ebp+lparam]
push    eax
push    3
push    1004h
push    899h
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+systemtime]
push    eax
push    ebx
push    1002h
push    898h
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+var_78]
push    eax
push    ebx
push    1002h
push    899h
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+var_58]
push    eax
push    ebx
push    1001h
push    902h
push    [ebp+hdlg]
call    edi
push    eax
call    esi
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [ebp+var_4]
lea     edx, [ebp+pvarg]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+80h]
cmp     word ptr [ebp+pvarg.anonymous_0], 2
jnz     short loc_277d26fb
mov     ax, word ptr [ebp+pvarg.anonymous_0+8]
mov     [ebp+var_50], ax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [ebp+var_4]
lea     edx, [ebp+pvarg]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0a0h]
cmp     word ptr [ebp+pvarg.anonymous_0], 2
jnz     short loc_277d2724
mov     ax, word ptr [ebp+pvarg.anonymous_0+8]
mov     [ebp+var_4e], ax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     eax, [ebp+var_4]
lea     edx, [ebp+pvarg]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0cch]
cmp     word ptr [ebp+pvarg.anonymous_0], 2
jnz     short loc_277d274d
mov     ax, word ptr [ebp+pvarg.anonymous_0+8]
mov     [ebp+var_4c], ax
lea     eax, [ebp+var_58]
push    eax
push    ebx
push    1002h
push    902h
push    [ebp+hdlg]
call    edi
push    eax
call    esi
mov     ecx, [ebp+var_48]
push    ebx
call    sub_277db6c7
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
xor     eax, eax
jmp     loc_277d23f8
push    1
jmp     loc_277d25fc
push    ebp
mov     ebp, esp
push    esi
mov     esi, ecx
lea     ecx, [ebp+arg_4]
mov     eax, [esi]
push    ecx
push    [ebp+arg_4]
mov     ecx, esi
call    dword ptr [eax+24h]
test    eax, eax
jl      short loc_277d27bd
push    [ebp+arg_4]
mov     ecx, esi
push    [ebp+hdlg]
call    sub_277d2811
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    0
mov     ecx, esi
call    sub_277db6c7
xor     eax, eax
pop     esi
pop     ebp
retn    8
mov     eax, [esp+arg_4]
push    esi
shr     eax, 10h
test    ax, ax
mov     esi, ecx
jnz     short loc_277d27f4
mov     eax, 8fch
cmp     word ptr [esp+4+arg_4], ax
jnz     short loc_277d27f4
push    eax
push    [esp+8+hdlg]
call    ds:isdlgbuttonchecked
push    eax
mov     ecx, esi
push    [esp+8+hdlg]
call    sub_277d2b56
xor     eax, eax
pop     esi
retn    0ch
mov     eax, [esp+arg_8]
cmp     dword ptr [eax+8], 0fffffd09h
jnz     short loc_277d280c
call    sub_277da653
xor     eax, eax
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
push    esi
push    edi
push    8fch
push    [ebp+hdlg]
call    ds:isdlgbuttonchecked
mov     ecx, eax
lea     edi, [ebp+lparam]
neg     ecx
sbb     ecx, ecx
xor     eax, eax
stosd
stosd
stosd
stosd
lea     eax, [ebp+lparam]
and     cl, 2eh
push    eax
add     ecx, 9cfh
push    0
push    1001h
push    ecx
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
call    ds:sendmessagea
cmp     eax, 1
lea     eax, [ebp+pvarg]
push    eax
jnz     loc_277d2933
call    ds:variantinit
mov     word ptr [ebp+pvarg.anonymous_0], 1
sub     esp, 10h
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     ebx, [ebp+arg_4]
movsd
mov     eax, [ebx]
push    ebx
movsd
movsd
movsd
call    dword ptr [eax+0e0h]
mov     esi, eax
test    esi, esi
jl      loc_277d29e3
lea     eax, [ebp+lparam]
mov     esi, ds:getdlgitem
push    eax
push    0
push    1001h
push    898h
push    [ebp+hdlg]
call    esi
mov     edi, ds:sendmessagea
push    eax
call    edi
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
fld     [ebp+pvtime]
mov     eax, [ebx]
push    ecx
push    ecx
fstp    [esp+4ch+var_4c]
push    ebx
call    dword ptr [eax+9ch]
test    eax, eax
mov     [ebp+arg_4], eax
jl      short loc_277d291f
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    899h
push    [ebp+hdlg]
call    esi
push    eax
call    edi
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
fld     [ebp+pvtime]
mov     eax, [ebx]
push    ecx
push    ecx
fstp    [esp+4ch+var_4c]
push    ebx
call    dword ptr [eax+94h]
test    eax, eax
mov     [ebp+arg_4], eax
jge     short loc_277d2952
push    0
push    eax
call    sub_277db168
mov     eax, [ebp+arg_4]
pop     ecx
pop     ecx
pop     edi
pop     esi
pop     ebx
leave
retn    8
call    ds:variantinit
lea     eax, [ebp+pvarg.anonymous_0+8]
mov     word ptr [ebp+pvarg.anonymous_0], 7
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
jmp     loc_277d2875
lea     eax, [ebp+var_38]
push    eax
push    0
push    1001h
push    902h
push    [ebp+hdlg]
call    esi
push    eax
call    edi
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
mov     ax, [ebp+var_30]
sub     esp, 10h
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     word ptr [ebp+pvarg.anonymous_0], 2
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
movsd
mov     eax, [ebx]
push    ebx
movsd
movsd
movsd
call    dword ptr [eax+84h]
mov     esi, eax
test    esi, esi
jl      short loc_277d29e3
mov     ax, [ebp+var_2e]
sub     esp, 10h
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
mov     eax, [ebx]
movsd
movsd
movsd
push    ebx
movsd
call    dword ptr [eax+0a4h]
mov     esi, eax
test    esi, esi
jl      short loc_277d29e3
mov     ax, [ebp+var_2c]
sub     esp, 10h
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
mov     eax, [ebx]
movsd
movsd
movsd
push    ebx
movsd
call    dword ptr [eax+0d0h]
mov     esi, eax
test    esi, esi
jge     short loc_277d29f4
push    0
push    esi
call    sub_277db168
pop     ecx
mov     eax, esi
pop     ecx
jmp     loc_277d292c
xor     eax, eax
jmp     loc_277d292c
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
push    edi
mov     edi, ecx
lea     ecx, [ebp+var_4]
mov     eax, [edi]
push    ecx
push    [ebp+arg_0]
mov     ecx, edi
call    dword ptr [eax+24h]
xor     ebx, ebx
cmp     eax, ebx
jl      short loc_277d2a82
mov     eax, [ebp+arg_4]
sub     eax, 0ch
jz      loc_277d2b23
dec     eax
jz      loc_277d2ada
sub     eax, 7
jnz     loc_277d2abe
push    8fch
push    dword ptr [edi+1ch]
call    ds:isdlgbuttonchecked
mov     esi, eax
lea     eax, [ebp+pvarg]
neg     esi
sbb     esi, esi
push    eax
and     esi, 0ffffff2eh
add     esi, 9cfh
call    ds:variantinit
mov     eax, [ebp+var_4]
lea     edx, [ebp+pvarg]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0dch]
mov     ebx, eax
test    ebx, ebx
jge     short loc_277d2a89
push    0
push    ebx
call    sub_277db168
pop     ecx
mov     eax, ebx
pop     ecx
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     word ptr [ebp+pvarg.anonymous_0], 7
lea     eax, [ebp+systemtime]
push    eax
jnz     short loc_277d2ad6
fld     qword ptr [ebp+pvarg.anonymous_0+8]
push    ecx
push    ecx
fstp    [esp+44h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+systemtime]
push    eax
push    0
push    1002h
push    esi
push    dword ptr [edi+1ch]
call    ds:getdlgitem
push    eax
call    ds:sendmessagea
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    [ebp+arg_4]
mov     ecx, edi
push    [ebp+arg_0]
call    sub_277d2287
jmp     short loc_277d2a82
push    1
jmp     short loc_277d2aa8
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_c]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+98h]
mov     esi, eax
cmp     esi, ebx
jge     short loc_277d2afd
push    ebx
push    esi
call    sub_277db168
pop     ecx
mov     eax, esi
pop     ecx
jmp     short loc_277d2a82
fld     [ebp+var_c]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+44h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+systemtime]
push    eax
push    ebx
push    1002h
push    898h
push    dword ptr [edi+1ch]
jmp     short loc_277d2ab1
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_c]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+90h]
fld     [ebp+var_c]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+44h+vtime]
call    ds:varianttimetosystemtime
lea     eax, [ebp+systemtime]
push    eax
push    ebx
push    1002h
push    899h
jmp     short loc_277d2b1e
push    ebx
push    ebp
xor     eax, eax
push    esi
cmp     [esp+0ch+arg_4], eax
push    edi
push    eax
jz      short loc_277d2bae
mov     ebx, [esp+14h+hdlg]
mov     esi, ds:getdlgitem
mov     edi, 9cfh
push    edi
push    ebx
call    esi
mov     ebp, ds:enablewindow
push    eax
call    ebp
push    0
push    edi
push    ebx
call    esi
push    eax
call    ds:showwindow
push    1
mov     edi, 8fdh
push    edi
push    ebx
call    esi
push    eax
call    ebp
push    5
push    edi
push    ebx
call    esi
push    eax
call    ds:showwindow
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    8
mov     ebx, [esp+14h+hdlg]
mov     esi, ds:getdlgitem
mov     edi, 8fdh
push    edi
push    ebx
call    esi
mov     ebp, ds:enablewindow
push    eax
call    ebp
push    0
push    edi
push    ebx
call    esi
push    eax
call    ds:showwindow
push    1
mov     edi, 9cfh
jmp     short loc_277d2b93
push    dword_278282f0
push    268h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d2c05
push    [esp+arg_0]
mov     ecx, eax
call    sub_277d2c09
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277d2c01
push    esi
push    edi
push    0ffh
push    344h
xor     eax, eax
push    offset dword_277c0ee8
push    eax
push    offset dword_277c0ed8
push    eax
push    eax
mov     esi, ecx
push    60fh
push    eax
mov     eax, esi
neg     eax
lea     edi, [esi+1c4h]
push    10h
sbb     eax, eax
push    11h
and     eax, edi
push    eax
push    8
push    [esp+3ch+arg_0]
call    sub_277bad8f
mov     dword ptr [edi], offset off_277caac0
mov     dword ptr [esi+1c8h], offset off_277b5b88
mov     dword ptr [esi+1cch], offset off_277c13b0
mov     ecx, esi
mov     dword ptr [esi], offset off_277ca9e0
mov     dword ptr [esi+1ch], offset off_277ca9c8
mov     dword ptr [esi+38h], offset off_277ca968
mov     dword ptr [esi+3ch], offset off_277ca948
mov     dword ptr [esi+40h], offset off_277ca918
mov     dword ptr [esi+44h], offset off_277ca8f0
mov     dword ptr [esi+48h], offset off_277ca8b0
mov     dword ptr [esi+4ch], offset off_277ca890
mov     dword ptr [esi+50h], offset off_277ca868
mov     dword ptr [esi+54h], offset off_277ca840
mov     dword ptr [esi+58h], offset off_277ca830
mov     dword ptr [esi+5ch], offset off_277ca820
mov     dword ptr [esi+60h], offset off_277ca808
mov     dword ptr [esi+64h], offset off_277ca7f0
mov     dword ptr [esi+68h], offset off_277ca7e0
mov     dword ptr [esi+0c0h], offset off_277ca7c0
mov     dword ptr [esi+0c4h], offset off_277ca7b0
mov     dword ptr [esi+0c8h], offset off_277ca798
mov     dword ptr [esi+0cch], offset off_277ca780
mov     dword ptr [edi], offset off_277ca680
mov     dword ptr [esi+1c8h], offset off_277ca670
mov     dword ptr [esi+1cch], offset off_277ca658
call    sub_277d2e3b
or      byte ptr [esi+101h], 2
mov     dword ptr [esi+0f4h], 0ch
mov     dword ptr [esi+0f8h], 0dh
mov     eax, esi
pop     edi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277d2d5f
test    byte ptr [esp+8], 1
jz      short loc_277d2d59
test    esi, esi
jz      short loc_277d2d59
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
mov     eax, [esi+254h]
mov     dword ptr [esi], offset off_277ca9e0
test    eax, eax
mov     dword ptr [esi+1ch], offset off_277ca9c8
mov     dword ptr [esi+38h], offset off_277ca968
mov     dword ptr [esi+3ch], offset off_277ca948
mov     dword ptr [esi+40h], offset off_277ca918
mov     dword ptr [esi+44h], offset off_277ca8f0
mov     dword ptr [esi+48h], offset off_277ca8b0
mov     dword ptr [esi+4ch], offset off_277ca890
mov     dword ptr [esi+50h], offset off_277ca868
mov     dword ptr [esi+54h], offset off_277ca840
mov     dword ptr [esi+58h], offset off_277ca830
mov     dword ptr [esi+5ch], offset off_277ca820
mov     dword ptr [esi+60h], offset off_277ca808
mov     dword ptr [esi+64h], offset off_277ca7f0
mov     dword ptr [esi+68h], offset off_277ca7e0
mov     dword ptr [esi+0c0h], offset off_277ca7c0
mov     dword ptr [esi+0c4h], offset off_277ca7b0
mov     dword ptr [esi+0c8h], offset off_277ca798
mov     dword ptr [esi+0cch], offset off_277ca780
mov     dword ptr [esi+1c4h], offset off_277ca680
mov     dword ptr [esi+1c8h], offset off_277ca670
mov     dword ptr [esi+1cch], offset off_277ca658
jz      short loc_277d2e21
push    eax
call    ds:safearraydestroy
mov     eax, [esi+218h]
test    eax, eax
jz      short loc_277d2e32
push    eax
call    ds:sysfreestring
mov     ecx, esi
call    sub_277c0d9c
pop     esi
retn
push    esi
mov     esi, ecx
push    edi
push    0dh
lea     edx, [esi+1d0h]
pop     ecx
xor     eax, eax
mov     edi, edx
rep stosd
push    0eh
lea     edi, [esi+21ch]
pop     ecx
rep stosd
mov     ecx, [esi+200h]
lea     eax, [esi+200h]
push    8
and     ecx, 0ffffffe8h
pop     edi
mov     word ptr [esi+1e0h], 270fh
or      ecx, edi
push    edx
mov     [eax], ecx
mov     word ptr [esi+1e2h], 0ch
mov     word ptr [esi+1e4h], 5
mov     word ptr [esi+1e6h], 1fh
mov     word ptr [esi+1f0h], 641h
mov     word ptr [esi+1f2h], 1
mov     word ptr [esi+1f4h], 1
mov     word ptr [esi+1f6h], 1
call    ds:getlocaltime
xor     eax, eax
mov     ecx, 80000012h
mov     [esi+25ch], edi
mov     [esi+1d8h], ax
mov     [esi+1dah], ax
mov     [esi+1dch], ax
mov     [esi+1deh], ax
mov     [esi+254h], eax
mov     [esi+218h], eax
mov     [esi+258h], eax
mov     dword ptr [esi+260h], 0dh
mov     dword ptr [esi+204h], 80000005h
mov     [esi+208h], ecx
mov     [esi+20ch], ecx
mov     dword ptr [esi+210h], 8000000fh
mov     dword ptr [esi+214h], 80000011h
mov     [esi+264h], eax
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 30h
lea     eax, [ebp+var_8]
mov     [ebp+var_8], 8
push    eax
mov     [ebp+var_4], 110h
call    sub_277b4d29
lea     eax, [ebp+wndclass]
push    eax
push    offset amsvblibdatetim_0
push    hinstance
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277d2f6e
leave
retn
mov     ecx, off_278286e4
mov     eax, [ebp+wndclass.lpfnwndproc]
mov     [ecx+58h], eax
mov     eax, hinstance
mov     [ebp+wndclass.hinstance], eax
mov     eax, off_278286e4
mov     [ebp+wndclass.lpfnwndproc], offset sub_277b4e17
mov     eax, [eax+44h]
or      [ebp+wndclass.style], 8
mov     [ebp+wndclass.lpszclassname], eax
lea     eax, [ebp+wndclass]
push    eax
call    ds:registerclassa
movzx   eax, ax
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
push    edi
mov     ebx, ecx
call    sub_277b54b0
test    eax, eax
jnz     short loc_277d2fd8
mov     eax, [ebx]
lea     ecx, [ebp+benable]
push    ecx
mov     ecx, ebx
call    dword ptr [eax+0b8h]
push    [ebp+benable]
push    dword ptr [ebx+0a0h]
call    ds:enablewindow
lea     esi, [ebx+1f0h]
lea     edi, [ebp+lparam]
movsd
movsd
movsd
movsd
lea     esi, [ebx+1e0h]
lea     edi, [ebp+var_14]
movsd
movsd
movsd
lea     eax, [ebp+lparam]
push    eax
push    3
push    1004h
push    dword ptr [ebx+0a0h]
movsd
mov     esi, ds:sendmessagea
call    esi
mov     eax, [ebx+200h]
test    al, 4
jz      short loc_277d3037
test    al, 1
jz      short loc_277d3037
lea     eax, [ebx+1d0h]
push    eax
push    1
push    1002h
push    dword ptr [ebx+0a0h]
call    esi
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn
lea     eax, [ebx+1d0h]
push    eax
push    0
jmp     short loc_277d3022
push    esi
push    edi
mov     edi, ecx
mov     esi, [esp+8+arg_0]
mov     eax, [edi+200h]
shr     eax, 3
and     eax, 3
sub     eax, 0
jz      short loc_277d30a3
dec     eax
jz      short loc_277d3064
dec     eax
jnz     short loc_277d3064
or      dword ptr [esi], 9
mov     eax, [edi+200h]
shr     eax, 1
test    al, 1
jz      short loc_277d3073
or      dword ptr [esi], 1
test    byte ptr [edi+200h], 1
jz      short loc_277d307f
or      dword ptr [esi], 2
push    offset adateandtimepic_0
push    [esp+0ch+lpstring1]
call    ds:lstrcpya
push    [esp+8+lpstring1]
mov     ecx, edi
push    [esp+0ch+arg_4]
push    esi
call    sub_277bb8bb
pop     edi
pop     esi
retn    0ch
or      dword ptr [esi], 4
jmp     short loc_277d3064
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
and     dword ptr [eax], 0
push    edi
mov     eax, [esi]
mov     edx, ecx
cmp     eax, ds:dword_277b1e98
jnz     short loc_277d30f3
push    10h
mov     edi, offset dword_277b1e98
pop     ecx
xor     ebx, ebx
repe cmpsb
jnz     short loc_277d30f3
mov     esi, edx
add     edx, 1c4h
neg     esi
sbb     esi, esi
and     esi, edx
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
cmp     eax, ds:dword_277b6128
jnz     short loc_277d3116
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6128
xor     ebx, ebx
repe cmpsb
jnz     short loc_277d3116
mov     esi, edx
add     edx, 0cch
jmp     short loc_277d30d9
cmp     eax, ds:dword_277c18c0
jnz     short loc_277d3139
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277c18c0
xor     eax, eax
repe cmpsb
jnz     short loc_277d3139
mov     esi, edx
add     edx, 1cch
jmp     short loc_277d30d9
push    [ebp+arg_4]
mov     ecx, edx
push    [ebp+arg_0]
call    sub_277bb196
jmp     short loc_277d30ec
push    ebp
mov     ebp, esp
sub     esp, 48h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    [ebp+arg_8]
mov     ecx, esi
mov     ebx, offset off_2782ba48
push    [ebp+arg_4]
call    sub_277bb33d
test    eax, eax
jl      loc_277d3209
push    0dh
xor     eax, eax
pop     ecx
lea     edi, [esi+1d0h]
push    [ebp+arg_8]
rep stosd
lea     eax, [ebp+var_48]
push    eax
push    offset off_2782baa8
push    [ebp+arg_4]
call    sub_277bb5ab
add     esp, 10h
test    eax, eax
jl      short loc_277d3209
lea     eax, [ebp+var_48]
mov     ecx, esi
push    eax
call    sub_277d376e
cmp     off_2782ba48, 0
jz      short loc_277d3207
push    [ebp+arg_8]
mov     ax, [ebx+0ch]
lea     edx, [ebp+var_10]
mov     [ebp+var_10], ax
mov     eax, [ebp+arg_4]
push    edx
push    dword ptr [ebx]
mov     ecx, [eax]
fldz
push    eax
fstp    [ebp+var_8]
call    dword ptr [ecx+0ch]
test    eax, eax
jge     short loc_277d3210
test    byte ptr [ebx+14h], 1
jz      short loc_277d31ff
lea     eax, [ebp+systemtime]
push    eax
mov     eax, [ebx+8]
push    ecx
push    ecx
fld     qword ptr [eax]
fstp    [esp+60h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      short loc_277d3209
mov     eax, [ebx+4]
lea     edi, [eax+esi+1d0h]
lea     esi, [ebp+systemtime]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_0]
add     ebx, 18h
cmp     dword ptr [ebx], 0
jnz     short loc_277d31aa
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
fld     [ebp+var_8]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
push    ecx
fstp    [esp+60h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      short loc_277d3209
mov     eax, [ebx+4]
add     ebx, 18h
lea     edi, [eax+esi+1d0h]
lea     esi, [ebp+systemtime]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_0]
jmp     short loc_277d3202
push    ebp
mov     ebp, esp
sub     esp, 24ch
mov     eax, [ebp+pstm]
push    ebx
push    esi
xor     esi, esi
mov     ecx, [eax]
push    edi
push    esi
lea     edx, [ebp+var_48]
push    44h
push    edx
push    eax
mov     [ebp+var_4], esi
mov     [ebp+lpmem], esi
call    dword ptr [ecx+0ch]
mov     edi, eax
cmp     edi, esi
jge     short loc_277d3287
cmp     [ebp+lpmem], esi
jz      short loc_277d327e
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     [ebp+var_48], 0e7f2841h
jnz     short loc_277d3299
cmp     [ebp+var_44], 60000h
jz      short loc_277d32b5
cmp     [ebp+lpmem], esi
jz      short loc_277d32ae
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     eax, 8000ffffh
jmp     short loc_277d3280
mov     ebx, [ebp+arg_0]
cmp     [ebp+dwbytes], 200h
push    0dh
lea     esi, [ebp+var_3c]
lea     edi, [ebx+1d0h]
pop     ecx
rep movsd
jbe     short loc_277d3312
mov     eax, [ebp+lpmem]
xor     esi, esi
cmp     eax, esi
jnz     short loc_277d32eb
push    [ebp+dwbytes]
push    esi
push    dword_278282f0
call    ds:heapalloc
mov     [ebp+lpmem], eax
mov     [ebp+var_4], eax
cmp     [ebp+var_4], esi
jnz     short loc_277d331f
cmp     [ebp+lpmem], esi
jz      short loc_277d3308
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
mov     eax, 8007000eh
jmp     loc_277d3280
lea     eax, [ebp+var_24c]
xor     esi, esi
mov     [ebp+var_4], eax
jmp     short loc_277d32ee
mov     eax, [ebp+pstm]
push    esi
push    [ebp+dwbytes]
mov     ecx, [eax]
push    [ebp+var_4]
push    eax
call    dword ptr [ecx+0ch]
cmp     eax, esi
jl      loc_277d3428
lea     eax, [ebp+var_4]
mov     ecx, ebx
push    eax
call    sub_277dc5a1
cmp     eax, esi
jl      loc_277d3428
mov     eax, [ebp+var_4]
mov     edi, [eax]
add     [ebp+var_4], 4
cmp     edi, esi
jle     short loc_277d3396
mov     eax, [ebx+218h]
lea     esi, [ebx+218h]
test    eax, eax
jz      short loc_277d336e
push    eax
call    ds:sysfreestring
push    edi
push    0
call    ds:sysallocstringlen
lea     edx, [edi+edi]
mov     [esi], eax
mov     esi, [ebp+var_4]
mov     ecx, edx
mov     edi, eax
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
add     [ebp+var_4], edx
xor     esi, esi
mov     ecx, [ebp+var_8]
test    cl, 1
jz      loc_277d344b
mov     eax, [ebp+var_4]
mov     eax, [eax]
add     [ebp+var_4], 4
mov     [ebx+204h], eax
mov     edx, ecx
mov     eax, 80000012h
shr     edx, 1
test    dl, 1
jz      loc_277d345a
mov     edx, [ebp+var_4]
mov     edx, [edx]
add     [ebp+var_4], 4
mov     [ebx+208h], edx
mov     edx, ecx
shr     edx, 2
test    dl, 1
jz      loc_277d3465
mov     eax, [ebp+var_4]
mov     eax, [eax]
add     [ebp+var_4], 4
mov     [ebx+20ch], eax
mov     eax, ecx
shr     eax, 3
test    al, 1
jz      short loc_277d346d
mov     eax, [ebp+var_4]
mov     eax, [eax]
add     [ebp+var_4], 4
mov     [ebx+210h], eax
shr     ecx, 4
test    cl, 1
jz      short loc_277d3479
mov     eax, [ebp+var_4]
mov     eax, [eax]
add     [ebp+var_4], 4
mov     [ebx+214h], eax
push    [ebp+pstm]
mov     ecx, ebx
call    sub_277dc678
and     dword ptr [ebx+0b0h], 0fffffffeh
cmp     [ebp+lpmem], esi
jz      short loc_277d3444
push    [ebp+lpmem]
push    esi
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
jmp     loc_277d3280
mov     dword ptr [ebx+204h], 80000005h
jmp     loc_277d33b1
mov     [ebx+208h], eax
jmp     loc_277d33d2
mov     [ebx+20ch], eax
jmp     short loc_277d33ef
mov     dword ptr [ebx+210h], 8000000fh
jmp     short loc_277d3407
mov     dword ptr [ebx+214h], 80000011h
jmp     short loc_277d341e
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
lea     eax, [ebp+pvarg]
push    edi
push    eax
call    ds:variantinit
mov     edi, [ebp+arg_4]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aversion
mov     eax, [edi]
push    edi
mov     word ptr [ebp+pvarg.anonymous_0], 3
mov     dword ptr [ebp+pvarg.anonymous_0+8], 60000h
call    dword ptr [eax+10h]
test    eax, eax
jl      loc_277d355c
push    [ebp+arg_8]
mov     ebx, [ebp+arg_0]
mov     ecx, ebx
push    edi
call    sub_277dc274
test    eax, eax
jl      loc_277d355c
lea     eax, [ebp+var_40]
mov     ecx, ebx
push    eax
call    sub_277d37ff
push    [ebp+arg_8]
lea     eax, [ebp+var_40]
push    eax
push    offset off_2782baa8
push    edi
call    sub_277dc88c
add     esp, 10h
test    eax, eax
jl      short loc_277d355c
cmp     off_2782ba48, 0
jz      short loc_277d355a
mov     esi, offset off_2782ba50
lea     eax, [ebp+pvtime]
push    eax
mov     eax, [esi-4]
lea     eax, [eax+ebx+1d0h]
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jl      short loc_277d355c
mov     eax, [esi]
fld     [ebp+pvtime]
fcomp   qword ptr [eax]
fnstsw  ax
sahf
jnz     short loc_277d3532
cmp     [ebp+arg_8], 0
jz      short loc_277d3551
mov     ax, [esi+4]
lea     ecx, [ebp+pvarg]
fld     [ebp+pvtime]
push    ecx
mov     word ptr [ebp+pvarg.anonymous_0], ax
push    dword ptr [esi-8]
mov     eax, [edi]
fstp    qword ptr [ebp+pvarg.anonymous_0+8]
push    edi
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d355c
add     esi, 18h
cmp     dword ptr [esi-8], 0
jnz     short loc_277d3507
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 4ch
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    11h
xor     eax, eax
pop     ecx
lea     edi, [ebp+var_4c]
rep stosd
push    0dh
lea     esi, [ebx+1d0h]
pop     ecx
lea     edi, [ebp+var_40]
xor     edx, edx
cmp     dword ptr [ebx+204h], 80000005h
mov     [ebp+var_4c], 0e7f2841h
mov     [ebp+var_48], 60000h
rep movsd
mov     [ebp+lpmem], edx
mov     [ebp+var_8], edx
mov     [ebp+var_44], edx
jz      loc_277d375f
or      [ebp+var_c], 1
push    4
pop     ecx
mov     [ebp+var_44], ecx
mov     eax, 80000012h
cmp     [ebx+208h], eax
jz      short loc_277d35ce
or      [ebp+var_c], 2
add     [ebp+var_44], ecx
cmp     [ebx+20ch], eax
jz      short loc_277d35dc
or      [ebp+var_c], ecx
add     [ebp+var_44], ecx
cmp     dword ptr [ebx+210h], 8000000fh
jz      short loc_277d35ef
or      [ebp+var_c], 8
add     [ebp+var_44], ecx
cmp     dword ptr [ebx+214h], 80000011h
jz      short loc_277d3602
or      [ebp+var_c], 10h
add     [ebp+var_44], ecx
lea     eax, [ebp+var_8]
mov     ecx, ebx
push    eax
lea     eax, [ebp+lpmem]
push    eax
call    sub_277dbf71
xor     edi, edi
cmp     eax, edi
jl      loc_277d3758
mov     eax, [ebp+var_8]
add     [ebp+var_44], eax
mov     eax, [ebx+218h]
cmp     eax, edi
jz      loc_277d3767
push    eax
call    ds:sysstringlen
mov     ecx, [ebp+var_44]
mov     esi, [ebp+pstm]
mov     [ebp+arg_0], eax
push    edi
lea     eax, [ecx+eax*2+4]
lea     ecx, [ebp+var_4c]
mov     [ebp+var_44], eax
mov     eax, [esi]
push    44h
push    ecx
push    esi
call    dword ptr [eax+10h]
cmp     eax, edi
jl      loc_277d3741
mov     eax, [esi]
push    edi
push    [ebp+var_8]
push    [ebp+lpmem]
push    esi
call    dword ptr [eax+10h]
cmp     eax, edi
jl      loc_277d3741
mov     eax, [esi]
push    edi
lea     ecx, [ebp+arg_0]
push    4
push    ecx
push    esi
call    dword ptr [eax+10h]
cmp     eax, edi
jl      loc_277d3741
mov     eax, [ebp+arg_0]
cmp     eax, edi
jle     short loc_277d36a4
mov     ecx, [esi]
add     eax, eax
push    edi
push    eax
push    dword ptr [ebx+218h]
push    esi
call    dword ptr [ecx+10h]
cmp     eax, edi
jl      loc_277d3741
test    byte ptr [ebp+var_c], 1
jz      short loc_277d36c2
mov     ecx, [esi]
push    edi
lea     eax, [ebx+204h]
push    4
push    eax
push    esi
call    dword ptr [ecx+10h]
cmp     eax, edi
jl      loc_277d3741
mov     eax, [ebp+var_c]
shr     eax, 1
test    al, 1
jz      short loc_277d36df
mov     ecx, [esi]
push    edi
lea     eax, [ebx+208h]
push    4
push    eax
push    esi
call    dword ptr [ecx+10h]
cmp     eax, edi
jl      short loc_277d3741
mov     eax, [ebp+var_c]
shr     eax, 2
test    al, 1
jz      short loc_277d36fd
mov     ecx, [esi]
push    edi
lea     eax, [ebx+20ch]
push    4
push    eax
push    esi
call    dword ptr [ecx+10h]
cmp     eax, edi
jl      short loc_277d3741
mov     eax, [ebp+var_c]
shr     eax, 3
test    al, 1
jz      short loc_277d371b
mov     ecx, [esi]
push    edi
lea     eax, [ebx+210h]
push    4
push    eax
push    esi
call    dword ptr [ecx+10h]
cmp     eax, edi
jl      short loc_277d3741
mov     eax, [ebp+var_c]
shr     eax, 4
test    al, 1
jz      short loc_277d3739
mov     ecx, [esi]
push    edi
lea     eax, [ebx+214h]
push    4
push    eax
push    esi
call    dword ptr [ecx+10h]
cmp     eax, edi
jl      short loc_277d3741
push    esi
mov     ecx, ebx
call    sub_277dc08f
cmp     [ebp+lpmem], edi
jz      short loc_277d3756
push    [ebp+lpmem]
push    edi
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    4
pop     ecx
jmp     loc_277d35ba
xor     eax, eax
jmp     loc_277d3636
mov     eax, [esp+arg_0]
push    esi
mov     esi, [ecx+200h]
mov     edx, [eax]
mov     [ecx+204h], edx
mov     edx, [eax+4]
mov     [ecx+208h], edx
mov     edx, [eax+8]
mov     [ecx+20ch], edx
mov     edx, [eax+0ch]
mov     [ecx+210h], edx
mov     edx, [eax+10h]
mov     [ecx+214h], edx
mov     edx, [eax+20h]
mov     [ecx+218h], edx
mov     edx, [eax+14h]
xor     edx, esi
and     edx, 1
xor     edx, esi
mov     [ecx+200h], edx
mov     esi, [eax+18h]
and     esi, 1
and     edx, 0fffffffdh
shl     esi, 1
or      esi, edx
mov     [ecx+200h], esi
mov     edx, [eax+1ch]
and     edx, 1
and     esi, 0fffffffbh
shl     edx, 2
or      edx, esi
pop     esi
mov     [ecx+200h], edx
mov     al, [eax+24h]
and     eax, 3
and     edx, 0ffffffe7h
shl     eax, 3
or      eax, edx
mov     [ecx+200h], eax
xor     eax, eax
retn    4
mov     eax, [esp+arg_0]
mov     edx, [ecx+204h]
mov     [eax], edx
mov     edx, [ecx+208h]
mov     [eax+4], edx
mov     edx, [ecx+20ch]
mov     [eax+8], edx
mov     edx, [ecx+210h]
mov     [eax+0ch], edx
mov     edx, [ecx+214h]
mov     [eax+10h], edx
mov     edx, [ecx+218h]
mov     [eax+20h], edx
mov     edx, [ecx+200h]
and     edx, 1
mov     [eax+14h], edx
mov     edx, [ecx+200h]
shr     edx, 1
and     edx, 1
mov     [eax+18h], edx
mov     edx, [ecx+200h]
shr     edx, 2
and     edx, 1
mov     [eax+1ch], edx
mov     ecx, [ecx+200h]
shr     ecx, 3
and     ecx, 3
mov     [eax+24h], cx
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 80h
push    ebx
push    esi
mov     esi, [ebp+dwnewlong]
push    edi
mov     ecx, esi
call    sub_277b54b0
xor     edi, edi
test    eax, eax
jz      short loc_277d38a4
cmp     [esi+0a0h], edi
jnz     short loc_277d38a4
push    edi
push    edi
push    edi
mov     ecx, esi
call    sub_277b4b64
push    2
push    [ebp+hdc]
call    ds:getdevicecaps
cmp     eax, 5
jnz     short loc_277d38cc
push    edi
push    edi
push    [ebp+lprc]
mov     ecx, esi
push    [ebp+hdc]
call    sub_277dd122
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    1ch
cmp     [esi+264h], edi
lea     eax, [esi+264h]
jnz     short loc_277d394c
mov     dword ptr [eax], 1
mov     eax, [esi+200h]
and     eax, 18h
cmp     al, 18h
jnz     short loc_277d394c
push    dword ptr [esi+218h]
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
push    edi
push    edi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    dword ptr [esi+218h]
push    edi
push    edi
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
push    edi
push    1005h
push    dword ptr [esi+0a0h]
call    ds:sendmessagea
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277d394c
test    [ebp+var_4], 1
jz      short loc_277d394c
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
test    byte ptr [esi+0b0h], 4
jnz     short loc_277d3980
push    2
push    [ebp+hdc]
call    ds:getcurrentobject
push    eax
push    [ebp+lprc]
push    [ebp+hdc]
call    ds:fillrect
push    200fh
push    0ah
push    [ebp+lprc]
push    [ebp+hdc]
call    ds:drawedge
push    [ebp+lprc]
mov     ecx, esi
push    [ebp+hdc]
call    sub_277b55c8
jmp     loc_277d38c5
push    ebp
mov     ebp, esp
sub     esp, 90h
mov     eax, [ebp+msg]
push    ebx
mov     ebx, ecx
push    esi
sub     eax, 18h
push    edi
mov     esi, [ebx+0a0h]
jz      loc_277d3da8
sub     eax, 36h
jz      loc_277d3ad2
sub     eax, 1b3h
jz      loc_277d3a68
dec     eax
jz      short loc_277d3a2d
dec     eax
jz      short loc_277d39f5
sub     eax, 1e4bh
jz      loc_277d3ad2
mov     eax, [ebp+lparam]
mov     ecx, off_278286e4
push    0
push    dword ptr [ecx+58h]
mov     ecx, ebx
push    eax
push    [ebp+wparam]
push    [ebp+msg]
call    sub_277bb9fd
jmp     short loc_277d3a26
push    1
mov     ecx, ebx
call    sub_277dcba7
mov     ebx, [ebx+0a0h]
cmp     ebx, esi
jnz     loc_277d3d0e
push    [ebp+lparam]
push    [ebp+wparam]
push    203h
mov     eax, off_278286e4
push    ebx
push    dword ptr [eax+58h]
call    ds:callwindowproca
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
movsx   eax, word ptr [ebp+lparam]
mov     [ebp+var_10], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
mov     [ebp+var_c], eax
lea     eax, [ebp+var_10]
push    eax
push    1
mov     ecx, ebx
call    sub_277bf7a2
mov     ebx, [ebx+0a0h]
cmp     ebx, esi
jnz     loc_277d3d0e
push    [ebp+lparam]
push    [ebp+wparam]
push    202h
jmp     short loc_277d3a17
movzx   eax, word ptr [ebp+lparam]
mov     [ebp+var_10], eax
mov     eax, [ebp+lparam]
or      dword ptr [ebx+0d0h], 1
mov     ecx, ebx
shr     eax, 10h
mov     [ebp+var_c], eax
lea     eax, [ebp+var_10]
push    eax
call    sub_277bf7d6
movsx   eax, word ptr [ebp+var_c]
push    eax
movsx   eax, word ptr [ebp+var_10]
push    eax
call    sub_277dd0b6
movsx   eax, ax
push    eax
push    1
push    offset dword_2782bef8
push    ebx
call    sub_277b9711
and     dword ptr [ebx+0d0h], 0fffffff7h
mov     ebx, [ebx+0a0h]
add     esp, 18h
cmp     ebx, esi
jnz     loc_277d3d0e
push    [ebp+lparam]
push    [ebp+wparam]
push    201h
jmp     loc_277d3a17
mov     eax, [ebp+lparam]
mov     ecx, [eax+8]
cmp     ecx, 0fffffd09h
jz      loc_277d3d71
cmp     ecx, 0fffffd0bh
jz      loc_277d3d15
cmp     ecx, 0fffffd0ch
jz      loc_277d3c6d
cmp     ecx, 0fffffd0dh
jz      loc_277d3c04
cmp     ecx, 0fffffd0eh
jz      short loc_277d3b2e
cmp     ecx, 0fffffd0fh
jnz     loc_277d39da
push    offset dword_2782bbd8
push    ebx
call    sub_277b9711
pop     ecx
pop     ecx
jmp     loc_277d39d7
mov     edi, ds:oletranslatecolor
lea     eax, [ebp+colorref+4]
push    eax
push    0
push    dword ptr [ebx+204h]
call    edi
push    [ebp+colorref+4]
mov     esi, ds:sendmessagea
push    4
push    1006h
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebp+colorref+4]
push    eax
push    0
push    dword ptr [ebx+208h]
call    edi
push    [ebp+colorref+4]
push    1
push    1006h
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebp+colorref+4]
push    eax
push    0
push    dword ptr [ebx+20ch]
call    edi
push    [ebp+colorref+4]
push    3
push    1006h
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebp+colorref+4]
push    eax
push    0
push    dword ptr [ebx+210h]
call    edi
push    [ebp+colorref+4]
push    2
push    1006h
push    dword ptr [ebx+0a0h]
call    esi
lea     eax, [ebp+colorref+4]
push    eax
push    0
push    dword ptr [ebx+214h]
call    edi
push    [ebp+colorref+4]
push    5
push    1006h
push    dword ptr [ebx+0a0h]
call    esi
push    offset dword_2782bbe4
push    ebx
call    sub_277b9711
pop     ecx
pop     ecx
push    0
push    0
push    1008h
push    dword ptr [ebx+0a0h]
call    esi
push    eax
call    ds:setfocus
jmp     loc_277d39d7
push    0
push    dword ptr [eax+0ch]
call    sub_277b7d29
mov     esi, [ebp+lparam]
mov     edi, eax
pop     ecx
mov     eax, [esi+10h]
pop     ecx
mov     [ebp+wparam], eax
lea     eax, [ebp+wparam]
push    eax
push    edi
push    offset dword_2782bbfc
push    ebx
call    sub_277b9711
add     esp, 10h
push    1
pop     eax
cmp     [ebp+wparam], eax
jge     short loc_277d3c39
mov     [ebp+wparam], eax
push    40h
pop     eax
cmp     [ebp+wparam], eax
jle     short loc_277d3c44
mov     [ebp+wparam], eax
mov     ecx, ebx
call    sub_277d552b
mov     eax, [ebx+25ch]
push    edi
imul    eax, [ebp+wparam]
mov     [esi+10h], eax
mov     eax, [ebx+260h]
mov     [esi+14h], eax
call    ds:sysfreestring
jmp     loc_277d3d0e
xor     edi, edi
push    edi
push    dword ptr [eax+0ch]
call    sub_277b7d29
pop     ecx
mov     esi, eax
pop     ecx
push    offset word_277cabee
call    ds:sysallocstring
mov     [ebp+wparam], eax
lea     eax, [ebp+wparam]
push    eax
push    esi
push    offset dword_2782bbf0
push    ebx
call    sub_277b9711
add     esp, 10h
push    [ebp+wparam]
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
push    edi
push    edi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+wparam]
push    edi
push    edi
call    ds:widechartomultibyte
mov     eax, [ebp+lparam]
push    [ebp+lpmultibytestr]
add     eax, 24h
push    eax
call    ds:lstrcpya
push    esi
mov     esi, ds:sysfreestring
call    esi
push    [ebp+wparam]
call    esi
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277d3d0e
test    [ebp+var_14], 1
jz      short loc_277d3d0e
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
jmp     loc_277d3a26
push    0
push    dword ptr [eax+10h]
call    sub_277b7d29
mov     esi, [ebp+lparam]
pop     ecx
mov     [ebp+wparam], eax
pop     ecx
lea     eax, [ebp+colorref]
lea     edi, [esi+14h]
push    eax
push    edi
call    ds:systemtimetovarianttime
test    eax, eax
jl      short loc_277d3d0e
lea     eax, [ebp+colorref]
push    eax
push    [ebp+wparam]
call    sub_277dd0b6
movsx   eax, ax
push    eax
push    dword ptr [esi+0ch]
push    offset dword_2782bbc0
push    ebx
call    sub_277b9711
fld     qword ptr [ebp+colorref]
add     esp, 18h
push    edi
push    ecx
push    ecx
fstp    [esp+0a8h+vtime]
call    ds:varianttimetosystemtime
push    [ebp+wparam]
jmp     loc_277d3c62
cmp     dword ptr [eax+0ch], 0
jnz     short loc_277d3d9f
and     dword ptr [ebx+200h], 0fffffffbh
lea     esi, [eax+10h]
lea     edi, [ebx+1d0h]
movsd
movsd
movsd
movsd
push    14h
lea     ecx, [ebx+2ch]
call    sub_277b4535
push    offset dword_2782bbcc
jmp     loc_277d3b21
or      dword ptr [ebx+200h], 4
jmp     short loc_277d3d8b
push    [ebp+wparam]
lea     ecx, [ebx+0d4h]
call    sub_277b4f96
jmp     loc_277d39d7
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
cmp     eax, 6
jg      short loc_277d3de1
jz      short loc_277d3dfa
test    eax, eax
jle     short loc_277d3dd1
cmp     eax, 5
jle     short loc_277d3e07
push    [ebp+arg_8]
push    eax
push    [ebp+arg_0]
call    sub_277dbbb5
pop     ebp
retn    0ch
cmp     eax, 7
jz      short loc_277d3e07
cmp     eax, 0ah
jz      short loc_277d3e07
cmp     eax, 0bh
jle     short loc_277d3dd1
cmp     eax, 0dh
jle     short loc_277d3dfa
cmp     eax, 13h
jnz     short loc_277d3dd1
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 0fffffffah
xor     eax, eax
jmp     short loc_277d3ddd
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 0fffffffbh
jmp     short loc_277d3e03
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 0ah
jz      short loc_277d3e30
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277dbb07
pop     ebp
retn    10h
mov     eax, [ebp+arg_0]
push    0
push    offset dword_277ca208
push    dword ptr [eax-0ach]
push    [ebp+arg_c]
push    [ebp+arg_8]
call    sub_277dd471
add     esp, 14h
jmp     short loc_277d3e2c
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+40h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+clr]
push    0
push    0
push    esi
call    ds:oletranslatecolor
test    eax, eax
mov     eax, [esp+4+arg_0]
jge     short loc_277d3e99
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
pop     esi
retn    8
cmp     [eax+40h], esi
jz      short loc_277d3eb5
mov     [eax+40h], esi
or      dword ptr [eax-114h], 1
push    1
lea     ecx, [eax-198h]
call    sub_277b4535
xor     eax, eax
jmp     short loc_277d3e95
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+44h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+clr]
push    0
push    0
push    esi
call    ds:oletranslatecolor
test    eax, eax
mov     eax, [esp+4+arg_0]
jge     short loc_277d3f02
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
pop     esi
retn    8
cmp     [eax+44h], esi
jz      short loc_277d3f1e
mov     [eax+44h], esi
or      dword ptr [eax-114h], 1
push    2
lea     ecx, [eax-198h]
call    sub_277b4535
xor     eax, eax
jmp     short loc_277d3efe
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+4ch]
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+clr]
push    0
push    0
push    esi
call    ds:oletranslatecolor
test    eax, eax
mov     eax, [esp+4+arg_0]
jge     short loc_277d3f6b
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
pop     esi
retn    8
cmp     [eax+4ch], esi
jz      short loc_277d3f87
mov     [eax+4ch], esi
or      dword ptr [eax-114h], 1
push    3
lea     ecx, [eax-198h]
call    sub_277b4535
xor     eax, eax
jmp     short loc_277d3f67
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+48h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+clr]
push    0
push    0
push    esi
call    ds:oletranslatecolor
test    eax, eax
mov     eax, [esp+4+arg_0]
jge     short loc_277d3fd4
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
pop     esi
retn    8
cmp     [eax+48h], esi
jz      short loc_277d3ff0
mov     [eax+48h], esi
or      dword ptr [eax-114h], 1
push    4
lea     ecx, [eax-198h]
call    sub_277b4535
xor     eax, eax
jmp     short loc_277d3fd0
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+50h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+clr]
push    0
push    0
push    esi
call    ds:oletranslatecolor
test    eax, eax
mov     eax, [esp+4+arg_0]
jge     short loc_277d403d
mov     edx, [eax-1c4h]
lea     ecx, [eax-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
pop     esi
retn    8
cmp     [eax+50h], esi
jz      short loc_277d4059
mov     [eax+50h], esi
or      dword ptr [eax-114h], 1
push    5
lea     ecx, [eax-198h]
call    sub_277b4535
xor     eax, eax
jmp     short loc_277d4039
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     al, [eax+3ch]
and     al, 1
neg     al
sbb     eax, eax
mov     [ecx], ax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+arg_0]
xor     eax, eax
cmp     [esp+4+arg_4], 0ffffh
mov     ecx, [esi+3ch]
push    edi
mov     edx, ecx
setz    al
and     edx, 1
cmp     eax, edx
jz      short loc_277d40c2
xor     eax, ecx
lea     edi, [esi-1c4h]
and     eax, 1
xor     eax, ecx
mov     ecx, edi
mov     [esi+3ch], eax
call    sub_277b98af
test    eax, eax
jl      short loc_277d40c4
or      dword ptr [edi+0b0h], 1
push    6
lea     ecx, [esi-198h]
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    dword ptr [esi+54h]
call    ds:sysstringlen
push    eax
push    dword ptr [esi+54h]
call    ds:sysallocstringlen
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 80h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+pbstr]
xor     ebx, ebx
cmp     edi, ebx
jnz     short loc_277d410e
cmp     [esi+54h], ebx
jz      loc_277d41ba
cmp     edi, ebx
jz      short loc_277d411b
cmp     [esi+54h], edi
jz      loc_277d41ba
push    dword ptr [esi+54h]
call    ds:sysfreestring
push    edi
call    ds:sysstringlen
push    eax
push    edi
call    ds:sysallocstringlen
mov     [esi+54h], eax
mov     ecx, [esi+3ch]
and     ecx, 18h
cmp     cl, 18h
jnz     short loc_277d4198
push    eax
call    ds:lstrlenw
lea     edi, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    edi
call    sub_277b37aa
push    ebx
push    ebx
push    edi
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    dword ptr [esi+54h]
push    ebx
push    ebx
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
push    ebx
push    1005h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     [ebp+lpmultibytestr], ebx
jz      short loc_277d4198
test    [ebp+var_4], 1
jz      short loc_277d4198
push    [ebp+lpmultibytestr]
push    ebx
push    dword_278282f0
call    ds:heapfree
or      dword ptr [esi-114h], 1
lea     edi, [esi-1c4h]
push    7
lea     ecx, [esi-198h]
call    sub_277b4535
push    ebx
mov     ecx, edi
call    sub_277b45b0
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-1c4h]
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d41f8
mov     edx, [edi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, edi
call    dword ptr [edx+30h]
pop     edi
pop     esi
leave
retn    8
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4220
mov     eax, [ebp+pvarg]
mov     word ptr [eax], 1
xor     eax, eax
jmp     short loc_277d41f2
lea     edi, [esi+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
mov     ax, [ebp+var_a]
mov     word ptr [esi], 2
mov     [esi+8], ax
jmp     short loc_277d421c
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
and     [ebp+var_4], 0
lea     eax, [ebp+lparam]
push    edi
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4279
lea     eax, [ebp+lparam]
push    eax
call    ds:getlocaltime
lea     eax, [ebp+var_4]
lea     esi, [ebx-1c4h]
push    eax
lea     eax, [ebp+pvarsrc]
push    eax
mov     ecx, esi
mov     [ebp+arg_0], esi
call    sub_277dcfc4
test    eax, eax
jl      loc_277d436f
mov     eax, [ebp+var_4]
cmp     eax, 1
jl      loc_277d436f
cmp     eax, 1fh
jg      loc_277d436f
sub     esp, 10h
lea     esi, [ebx+1ch]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+2ch]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
mov     [ebp+var_e], ax
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jnz     short loc_277d42f8
mov     ecx, [ebp+arg_0]
mov     eax, 8bbdh
push    eax
push    eax
mov     edx, [ecx]
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     short loc_277d4368
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d4326
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     short loc_277d42f3
lea     edi, [ebx+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
and     dword ptr [ebx+3ch], 0fffffffbh
lea     esi, [ebx-198h]
push    14h
mov     ecx, esi
call    sub_277b4535
push    8
mov     ecx, esi
call    sub_277b4535
push    9
mov     ecx, esi
call    sub_277b4535
mov     ecx, [ebp+arg_0]
or      dword ptr [ebx-114h], 1
push    0
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
jmp     loc_277d42f3
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-1c4h]
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d43b9
mov     edx, [edi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, edi
call    dword ptr [edx+30h]
pop     edi
pop     esi
leave
retn    8
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d43e1
mov     eax, [ebp+pvarg]
mov     word ptr [eax], 1
xor     eax, eax
jmp     short loc_277d43b3
lea     edi, [esi+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
movzx   eax, [ebp+var_c]
push    eax
mov     word ptr [esi], 2
call    sub_277d5c42
pop     ecx
mov     [esi+8], ax
jmp     short loc_277d43dd
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
and     [ebp+var_4], 0
lea     eax, [ebp+lparam]
push    edi
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4441
lea     eax, [ebp+lparam]
push    eax
call    ds:getlocaltime
lea     eax, [ebp+var_4]
lea     esi, [ebx-1c4h]
push    eax
lea     eax, [ebp+pvarsrc]
push    eax
mov     ecx, esi
mov     [ebp+arg_0], esi
call    sub_277dcfc4
test    eax, eax
jl      loc_277d459b
cmp     [ebp+var_4], 1
jl      loc_277d459b
cmp     [ebp+var_4], 7
jg      loc_277d459b
movzx   eax, word ptr [ebx+10h]
push    eax
call    sub_277d5c42
cmp     [ebp+var_4], eax
pop     ecx
jz      loc_277d4592
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jl      loc_277d4594
movzx   eax, [ebp+var_1c]
push    eax
call    sub_277d5c42
pop     ecx
mov     ecx, [ebp+var_4]
sub     ecx, eax
lea     eax, [ebp+lparam]
mov     [ebp+var_8], ecx
push    eax
fild    [ebp+var_8]
push    ecx
push    ecx
fadd    [ebp+pvtime]
fstp    [ebp+pvtime]
fld     [ebp+pvtime]
fstp    [esp+38h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      loc_277d4594
sub     esp, 10h
lea     esi, [ebx+1ch]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+2ch]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jnz     short loc_277d451b
mov     ecx, [ebp+arg_0]
mov     eax, 8bbdh
push    eax
push    eax
mov     edx, [ecx]
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     short loc_277d4594
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d4549
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     short loc_277d4516
lea     edi, [ebx+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
and     dword ptr [ebx+3ch], 0fffffffbh
lea     esi, [ebx-198h]
push    14h
mov     ecx, esi
call    sub_277b4535
push    0fh
mov     ecx, esi
call    sub_277b4535
push    8
mov     ecx, esi
call    sub_277b4535
push    9
mov     ecx, esi
call    sub_277b4535
mov     ecx, [ebp+arg_0]
or      dword ptr [ebx-114h], 1
push    0
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
jmp     loc_277d4516
mov     eax, [esp+arg_0]
push    [esp+arg_4]
and     dword ptr [eax+94h], 0
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+0b4h]
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+78h]
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+3ch]
shr     eax, 3
and     eax, 3
mov     [ecx], eax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esp+4+arg_4]
push    edi
mov     ecx, [esi+3ch]
mov     edx, ecx
shr     edx, 3
and     edx, 3
cmp     edx, eax
jz      short loc_277d465b
test    eax, eax
jl      short loc_277d4662
cmp     eax, 3
jg      short loc_277d4662
and     eax, 3
and     ecx, 0ffffffe7h
shl     eax, 3
lea     edi, [esi-1c4h]
or      eax, ecx
mov     ecx, edi
mov     [esi+3ch], eax
call    sub_277b98af
test    eax, eax
jl      short loc_277d465d
or      dword ptr [edi+0b0h], 1
push    0ah
lea     ecx, [esi-198h]
call    sub_277b4535
push    0
mov     ecx, edi
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
retn    8
mov     edx, [esi-1c4h]
lea     ecx, [esi-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277d465d
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+lparam]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d46b4
mov     eax, [ebp+pvarg]
mov     word ptr [eax], 1
xor     eax, eax
pop     esi
leave
retn    8
push    edi
lea     edi, [esi+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
mov     ax, [ebp+var_8]
mov     word ptr [esi], 2
mov     [esi+8], ax
xor     eax, eax
pop     edi
jmp     short loc_277d46af
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
and     [ebp+var_4], 0
lea     eax, [ebp+lparam]
push    edi
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4711
lea     eax, [ebp+lparam]
push    eax
call    ds:getlocaltime
lea     eax, [ebp+var_4]
lea     esi, [ebx-1c4h]
push    eax
lea     eax, [ebp+pvarsrc]
push    eax
mov     ecx, esi
mov     [ebp+arg_0], esi
call    sub_277dcfc4
test    eax, eax
jl      loc_277d47fd
mov     eax, [ebp+var_4]
test    eax, eax
jl      loc_277d47fd
cmp     eax, 17h
jg      loc_277d47fd
sub     esp, 10h
lea     esi, [ebx+1ch]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+2ch]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
mov     [ebp+var_c], ax
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jnz     short loc_277d478f
mov     ecx, [ebp+arg_0]
mov     eax, 8bbdh
push    eax
push    eax
mov     edx, [ecx]
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     short loc_277d47f6
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d47bd
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     short loc_277d478a
lea     edi, [ebx+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
and     dword ptr [ebx+3ch], 0fffffffbh
lea     esi, [ebx-198h]
push    14h
mov     ecx, esi
call    sub_277b4535
push    0bh
mov     ecx, esi
call    sub_277b4535
mov     ecx, [ebp+arg_0]
or      dword ptr [ebx-114h], 1
push    0
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
jmp     loc_277d478a
push    esi
push    edi
mov     edi, [esp+8+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d4841
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
retn    8
mov     ecx, [esp+8+arg_4]
mov     eax, [edi-124h]
mov     [ecx], eax
xor     eax, eax
jmp     short loc_277d483c
mov     eax, [esp+arg_0]
push    [esp+pvtime]
add     eax, 1ch
push    eax
call    ds:systemtimetovarianttime
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
fld     [ebp+arg_4]
push    ebx
push    esi
lea     eax, [ebp+systemtime]
push    edi
push    eax
push    ecx
push    ecx
fstp    [esp+38h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
mov     dword ptr [ebp+arg_4+4], eax
jl      loc_277d490f
mov     ebx, [ebp+arg_0]
sub     esp, 10h
mov     edi, esp
sub     esp, 10h
lea     esi, [ebx+2ch]
movsd
movsd
movsd
movsd
lea     esi, [ebp+systemtime]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bfc6d
add     esp, 20h
test    eax, eax
jz      loc_277d4936
lea     esi, [ebx+2ch]
lea     edi, [ebp+lparam]
movsd
movsd
lea     eax, [ebp+lparam]
push    eax
push    3
movsd
push    1004h
push    dword ptr [ebx-124h]
movsd
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d4919
lea     edi, [ebx+1ch]
lea     esi, [ebp+systemtime]
movsd
movsd
xor     eax, eax
push    37h
movsd
push    eax
push    eax
push    eax
push    eax
push    eax
movsd
push    dword ptr [ebx-124h]
call    ds:setwindowpos
push    0ch
lea     ecx, [ebx-198h]
call    sub_277b4535
or      dword ptr [ebx-114h], 1
mov     eax, dword ptr [ebp+arg_4+4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edx, [ebx-1c4h]
mov     eax, 8bbbh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbbh
call    dword ptr [edx+30h]
jmp     short loc_277d4912
mov     edx, [ebx-1c4h]
mov     eax, 8bbeh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbeh
jmp     short loc_277d4931
mov     eax, [esp+arg_0]
push    [esp+pvtime]
add     eax, 2ch
push    eax
call    ds:systemtimetovarianttime
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
fld     [ebp+arg_4]
push    ebx
push    esi
lea     eax, [ebp+systemtime]
push    edi
push    eax
push    ecx
push    ecx
fstp    [esp+38h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
mov     dword ptr [ebp+arg_4+4], eax
jl      loc_277d4a0e
mov     ebx, [ebp+arg_0]
sub     esp, 10h
mov     edi, esp
sub     esp, 10h
lea     esi, [ebx+1ch]
movsd
movsd
movsd
movsd
lea     esi, [ebp+systemtime]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bfdc5
add     esp, 20h
test    eax, eax
jz      loc_277d4a35
lea     esi, [ebx+1ch]
lea     edi, [ebp+var_10]
movsd
movsd
lea     eax, [ebp+systemtime]
push    eax
push    3
movsd
push    1004h
push    dword ptr [ebx-124h]
movsd
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d4a18
lea     edi, [ebx+2ch]
lea     esi, [ebp+systemtime]
movsd
movsd
xor     eax, eax
push    37h
movsd
push    eax
push    eax
push    eax
push    eax
push    eax
movsd
push    dword ptr [ebx-124h]
call    ds:setwindowpos
push    0dh
lea     ecx, [ebx-198h]
call    sub_277b4535
or      dword ptr [ebx-114h], 1
mov     eax, dword ptr [ebp+arg_4+4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edx, [ebx-1c4h]
mov     eax, 8bbch
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbch
call    dword ptr [edx+30h]
jmp     short loc_277d4a11
mov     edx, [ebx-1c4h]
mov     eax, 8bbfh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbfh
jmp     short loc_277d4a30
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+lparam]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4a84
mov     eax, [ebp+pvarg]
mov     word ptr [eax], 1
xor     eax, eax
pop     esi
leave
retn    8
push    edi
lea     edi, [esi+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
mov     ax, [ebp+var_6]
mov     word ptr [esi], 2
mov     [esi+8], ax
xor     eax, eax
pop     edi
jmp     short loc_277d4a7f
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
and     [ebp+var_4], 0
lea     eax, [ebp+lparam]
push    edi
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4ae1
lea     eax, [ebp+lparam]
push    eax
call    ds:getlocaltime
lea     eax, [ebp+var_4]
lea     esi, [ebx-1c4h]
push    eax
lea     eax, [ebp+pvarsrc]
push    eax
mov     ecx, esi
mov     [ebp+arg_0], esi
call    sub_277dcfc4
test    eax, eax
jl      loc_277d4bcd
mov     eax, [ebp+var_4]
test    eax, eax
jl      loc_277d4bcd
cmp     eax, 3bh
jg      loc_277d4bcd
sub     esp, 10h
lea     esi, [ebx+1ch]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+2ch]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
mov     [ebp+var_a], ax
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jnz     short loc_277d4b5f
mov     ecx, [ebp+arg_0]
mov     eax, 8bbdh
push    eax
push    eax
mov     edx, [ecx]
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     short loc_277d4bc6
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d4b8d
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     short loc_277d4b5a
lea     edi, [ebx+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
and     dword ptr [ebx+3ch], 0fffffffbh
lea     esi, [ebx-198h]
push    14h
mov     ecx, esi
call    sub_277b4535
push    0eh
mov     ecx, esi
call    sub_277b4535
mov     ecx, [ebp+arg_0]
or      dword ptr [ebx-114h], 1
push    0
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
jmp     loc_277d4b5a
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-1c4h]
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d4c17
mov     edx, [edi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, edi
call    dword ptr [edx+30h]
pop     edi
pop     esi
leave
retn    8
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4c3f
mov     eax, [ebp+pvarg]
mov     word ptr [eax], 1
xor     eax, eax
jmp     short loc_277d4c11
lea     edi, [esi+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
mov     ax, word ptr [ebp+lparam+2]
mov     word ptr [esi], 2
mov     [esi+8], ax
jmp     short loc_277d4c3b
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
and     [ebp+var_4], 0
lea     eax, [ebp+lparam]
push    edi
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4c98
lea     eax, [ebp+lparam]
push    eax
call    ds:getlocaltime
lea     eax, [ebp+var_4]
lea     esi, [ebx-1c4h]
push    eax
lea     eax, [ebp+pvarsrc]
push    eax
mov     ecx, esi
mov     [ebp+arg_0], esi
call    sub_277dcfc4
test    eax, eax
jl      loc_277d4d97
mov     eax, [ebp+var_4]
cmp     eax, 1
jl      loc_277d4d97
cmp     eax, 0ch
jg      loc_277d4d97
sub     esp, 10h
lea     esi, [ebx+1ch]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+2ch]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
mov     word ptr [ebp+lparam+2], ax
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jnz     short loc_277d4d17
mov     ecx, [ebp+arg_0]
mov     eax, 8bbdh
push    eax
push    eax
mov     edx, [ecx]
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     short loc_277d4d90
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d4d45
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     short loc_277d4d12
lea     edi, [ebx+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
and     dword ptr [ebx+3ch], 0fffffffbh
lea     esi, [ebx-198h]
push    14h
mov     ecx, esi
call    sub_277b4535
push    0fh
mov     ecx, esi
call    sub_277b4535
push    8
mov     ecx, esi
call    sub_277b4535
push    9
mov     ecx, esi
call    sub_277b4535
mov     ecx, [ebp+arg_0]
or      dword ptr [ebx-114h], 1
push    0
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
jmp     loc_277d4d12
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+0c4h]
retn    8
mov     ecx, [esp+arg_0]
mov     eax, [esp+arg_4]
add     ecx, 0fffffe3ch
push    eax
and     dword ptr [eax], 0
mov     edx, [ecx]
call    dword ptr [edx+0c8h]
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+0d8h]
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     eax, [esi-1c4h]
push    [esp+8+arg_4]
lea     ecx, [esi-1c4h]
call    dword ptr [eax+0dch]
mov     edi, eax
test    edi, edi
jl      short loc_277d4e3c
or      dword ptr [esi-114h], 1
push    60fh
lea     ecx, [esi-198h]
call    sub_277b4535
mov     eax, edi
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+lparam]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4e78
mov     eax, [ebp+pvarg]
mov     word ptr [eax], 1
xor     eax, eax
pop     esi
leave
retn    8
push    edi
lea     edi, [esi+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
mov     ax, [ebp+var_4]
mov     word ptr [esi], 2
mov     [esi+8], ax
xor     eax, eax
pop     edi
jmp     short loc_277d4e73
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
and     [ebp+var_4], 0
lea     eax, [ebp+lparam]
push    edi
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d4ed5
lea     eax, [ebp+lparam]
push    eax
call    ds:getlocaltime
lea     eax, [ebp+var_4]
lea     esi, [ebx-1c4h]
push    eax
lea     eax, [ebp+pvarsrc]
push    eax
mov     ecx, esi
mov     [ebp+arg_0], esi
call    sub_277dcfc4
test    eax, eax
jl      loc_277d4fc1
mov     eax, [ebp+var_4]
test    eax, eax
jl      loc_277d4fc1
cmp     eax, 3bh
jg      loc_277d4fc1
sub     esp, 10h
lea     esi, [ebx+1ch]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+2ch]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
mov     [ebp+var_8], ax
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jnz     short loc_277d4f53
mov     ecx, [ebp+arg_0]
mov     eax, 8bbdh
push    eax
push    eax
mov     edx, [ecx]
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     short loc_277d4fba
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d4f81
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     short loc_277d4f4e
lea     edi, [ebx+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
and     dword ptr [ebx+3ch], 0fffffffbh
lea     esi, [ebx-198h]
push    14h
mov     ecx, esi
call    sub_277b4535
push    12h
mov     ecx, esi
call    sub_277b4535
mov     ecx, [ebp+arg_0]
or      dword ptr [ebx-114h], 1
push    0
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
jmp     loc_277d4f4e
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+3ch]
shr     eax, 1
and     al, 1
neg     al
sbb     eax, eax
mov     [ecx], ax
xor     eax, eax
retn    8
push    esi
mov     esi, [esp+4+arg_0]
xor     eax, eax
cmp     [esp+4+arg_4], 0ffffh
mov     ecx, [esi+3ch]
push    edi
mov     edx, ecx
setz    al
shr     edx, 1
and     edx, 1
cmp     eax, edx
jz      short loc_277d5042
and     eax, 1
and     ecx, 0fffffffdh
shl     eax, 1
lea     edi, [esi-1c4h]
or      eax, ecx
mov     ecx, edi
mov     [esi+3ch], eax
call    sub_277b98af
test    eax, eax
jl      short loc_277d5044
or      dword ptr [edi+0b0h], 1
push    13h
lea     ecx, [esi-198h]
call    sub_277b4535
xor     eax, eax
pop     edi
pop     esi
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+0dch]
retn    8
push    esi
push    edi
sub     esp, 10h
lea     esi, [esp+18h+arg_4]
mov     edi, esp
mov     eax, [esp+18h+arg_0]
movsd
mov     ecx, [eax]
push    eax
movsd
movsd
movsd
call    dword ptr [ecx+0e0h]
pop     edi
pop     esi
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+lparam]
push    edi
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d50b1
mov     eax, [ebp+pvarg]
mov     word ptr [eax], 1
xor     eax, eax
jmp     short loc_277d50dc
lea     edi, [esi+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
mov     word ptr [esi], 7
add     esi, 8
lea     eax, [ebp+lparam]
push    esi
push    eax
call    ds:systemtimetovarianttime
test    eax, eax
jge     short loc_277d50ad
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
lea     ecx, [ebx-198h]
push    14h
xor     edi, edi
call    sub_277bf426
test    eax, eax
jnz     short loc_277d511e
mov     edx, [ebx-1c4h]
mov     eax, 17fh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a017fh
call    dword ptr [edx+30h]
jmp     short loc_277d5196
movzx   eax, word ptr [ebp+pvargsrc.anonymous_0]
mov     esi, ds:variantinit
test    eax, eax
jl      short loc_277d516b
cmp     eax, 1
jle     short loc_277d519d
cmp     eax, 8
jz      short loc_277d513d
cmp     eax, 4008h
jnz     short loc_277d516b
lea     eax, [ebp+pvarg]
push    eax
call    esi
lea     eax, [ebp+pvargsrc]
push    eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantcopyind
push    dword ptr [ebp+pvarg.anonymous_0+8]
call    ds:sysstringlen
test    eax, eax
jnz     short loc_277d5161
push    1
pop     edi
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
test    edi, edi
jz      short loc_277d51bf
mov     eax, [ebx+3ch]
and     eax, 1
cmp     al, 1
jnz     short loc_277d51a2
lea     eax, [ebp+lparam]
push    eax
push    1
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
or      dword ptr [ebx+3ch], 4
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
push    1
pop     edi
jmp     short loc_277d516b
mov     edx, [ebx-1c4h]
mov     eax, 8bcbh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bcbh
jmp     loc_277d5119
lea     eax, [ebp+pvarg]
push    eax
call    esi
push    7
lea     eax, [ebp+pvargsrc]
push    0
push    eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantchangetype
test    eax, eax
jge     short loc_277d51f8
mov     edx, [ebx-1c4h]
mov     eax, 17ch
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a017ch
jmp     loc_277d5119
fld     qword ptr [ebp+pvarg.anonymous_0+8]
lea     eax, [ebp+lparam]
push    eax
push    ecx
push    ecx
fstp    [esp+38h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      short loc_277d5196
sub     esp, 10h
lea     esi, [ebx+1ch]
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
lea     esi, [ebx+2ch]
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jz      loc_277d52d4
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277d52b7
lea     edi, [ebx+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
and     dword ptr [ebx+3ch], 0fffffffbh
lea     esi, [ebx-198h]
push    14h
mov     ecx, esi
call    sub_277b4535
push    15h
mov     ecx, esi
call    sub_277b4535
push    0fh
mov     ecx, esi
call    sub_277b4535
push    8
mov     ecx, esi
call    sub_277b4535
push    9
mov     ecx, esi
call    sub_277b4535
or      dword ptr [ebx-114h], 1
push    0
lea     ecx, [ebx-1c4h]
call    sub_277b45b0
jmp     loc_277d5194
mov     edx, [ebx-1c4h]
mov     eax, 8bcch
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bcch
jmp     loc_277d5119
mov     edx, [ebx-1c4h]
mov     eax, 8bbdh
lea     ecx, [ebx-1c4h]
push    eax
push    eax
push    800a8bbdh
jmp     loc_277d5119
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [esi-1c4h]
mov     ecx, edi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d5326
mov     edx, [edi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, edi
call    dword ptr [edx+30h]
pop     edi
pop     esi
leave
retn    8
lea     eax, [ebp+lparam]
push    eax
push    0
push    1001h
push    dword ptr [esi-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d534e
mov     eax, [ebp+pvarg]
mov     word ptr [eax], 1
xor     eax, eax
jmp     short loc_277d5320
lea     edi, [esi+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
mov     ax, word ptr [ebp+lparam]
mov     word ptr [esi], 2
mov     [esi+8], ax
jmp     short loc_277d534a
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
and     [ebp+var_4], 0
lea     eax, [ebp+lparam]
push    edi
push    eax
push    0
push    1001h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
cmp     eax, 1
jnz     short loc_277d53a7
lea     eax, [ebp+lparam]
push    eax
call    ds:getlocaltime
lea     eax, [ebp+var_4]
lea     edi, [ebx-1c4h]
push    eax
lea     eax, [ebp+pvarsrc]
push    eax
mov     ecx, edi
mov     [ebp+arg_0], edi
call    sub_277dcfc4
test    eax, eax
jl      loc_277d549c
movzx   edx, word ptr [ebx+2ch]
mov     ecx, [ebp+var_4]
lea     eax, [ebx+2ch]
cmp     ecx, edx
jl      loc_277d549c
movzx   edx, word ptr [ebx+1ch]
lea     esi, [ebx+1ch]
cmp     ecx, edx
jg      loc_277d549c
sub     esp, 10h
mov     word ptr [ebp+lparam], cx
mov     edi, esp
sub     esp, 10h
movsd
movsd
movsd
movsd
mov     esi, eax
mov     edi, esp
movsd
movsd
movsd
movsd
sub     esp, 10h
lea     esi, [ebp+lparam]
mov     edi, esp
movsd
movsd
movsd
movsd
call    sub_277bf30d
add     esp, 30h
test    eax, eax
jnz     short loc_277d542e
mov     ecx, [ebp+arg_0]
mov     eax, 8bbdh
push    eax
push    eax
mov     edx, [ecx]
push    800a8bbdh
call    dword ptr [edx+30h]
jmp     short loc_277d5495
lea     eax, [ebp+lparam]
push    eax
push    0
push    1002h
push    dword ptr [ebx-124h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277d545c
mov     ecx, [ebp+arg_0]
mov     eax, 17ch
push    eax
push    eax
mov     edx, [ecx]
push    800a017ch
jmp     short loc_277d5429
lea     edi, [ebx+0ch]
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
and     dword ptr [ebx+3ch], 0fffffffbh
lea     esi, [ebx-198h]
push    14h
mov     ecx, esi
call    sub_277b4535
push    15h
mov     ecx, esi
call    sub_277b4535
mov     ecx, [ebp+arg_0]
or      dword ptr [ebx-114h], 1
push    0
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edx, [edi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, edi
jmp     loc_277d5429
push    esi
push    edi
mov     edi, [esp+8+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d54fa
push    1
mov     ecx, esi
call    sub_277d91a1
mov     eax, [esi]
push    0
push    offset sub_277dd0f1
mov     ecx, esi
push    dword ptr [edi-124h]
push    7d9h
call    dword ptr [eax+28h]
push    eax
call    ds:dialogboxparama
push    0
mov     ecx, esi
call    sub_277d91a1
pop     edi
xor     eax, eax
pop     esi
retn    4
mov     eax, [esp+arg_0]
push    0
lea     ecx, [eax-1c4h]
call    sub_277b45b0
xor     eax, eax
retn    4
mov     eax, [esp+arg_0]
push    0
lea     ecx, [eax-0f0h]
call    sub_277dde52
retn    4
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    esi
mov     esi, ecx
push    edi
push    dword ptr [esi+0a0h]
call    ds:iswindow
test    eax, eax
jz      loc_277d55de
xor     edi, edi
cmp     [esi+258h], edi
jnz     loc_277d55de
push    ebx
push    dword ptr [esi+0a0h]
call    ds:getdc
push    edi
push    edi
push    31h
mov     [ebp+hdc], eax
push    dword ptr [esi+0a0h]
call    ds:sendmessagea
mov     ebx, eax
cmp     ebx, edi
mov     edi, ds:selectobject
jz      short loc_277d558b
push    ebx
push    [ebp+hdc]
call    edi
mov     ebx, eax
lea     eax, [ebp+tm]
push    eax
push    [ebp+hdc]
call    ds:gettextmetricsa
test    eax, eax
jz      short loc_277d55e2
mov     ecx, [ebp+tm.tmmaxcharwidth]
mov     eax, ecx
sub     eax, [ebp+tm.tmavecharwidth]
cdq
sub     eax, edx
sar     eax, 1
sub     ecx, eax
mov     eax, [ebp+tm.tmheight]
mov     [esi+25ch], ecx
mov     [esi+260h], eax
test    ebx, ebx
jz      short loc_277d55c4
push    ebx
push    [ebp+hdc]
call    edi
push    [ebp+hdc]
push    dword ptr [esi+0a0h]
call    ds:releasedc
mov     dword ptr [esi+258h], 1
pop     ebx
pop     edi
pop     esi
leave
retn
mov     dword ptr [esi+25ch], 8
mov     dword ptr [esi+260h], 0dh
jmp     short loc_277d55ba
mov     eax, [esp+arg_8]
mov     dword ptr [eax], 3
mov     eax, [esp+arg_c]
mov     dword ptr [eax], 2
xor     eax, eax
retn    10h
sub     [esp+arg_0], 1ch
jmp     sub_277b516f
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+4]
retn    4
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+8]
retn    4
sub     [esp+arg_0], 20h
jmp     sub_277b516f
sub     [esp+arg_0], 20h
jmp     short sub_277d5620
sub     [esp+arg_0], 20h
jmp     short sub_277d5635
sub     [esp+arg_0], 24h
jmp     sub_277b516f
sub     [esp+arg_0], 24h
jmp     short sub_277d5620
sub     [esp+arg_0], 24h
jmp     short sub_277d5635
sub     dword ptr [esp+4], 28h
jmp     sub_277b516f
sub     dword ptr [esp+4], 28h
jmp     short sub_277d5620
sub     dword ptr [esp+4], 28h
jmp     short sub_277d5635
sub     dword ptr [esp+4], 2ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 2ch
jmp     short sub_277d5620
sub     dword ptr [esp+4], 2ch
jmp     short sub_277d5635
sub     dword ptr [esp+4], 30h
jmp     sub_277b516f
sub     dword ptr [esp+4], 30h
jmp     sub_277d5620
sub     dword ptr [esp+4], 30h
jmp     sub_277d5635
sub     [esp+arg_0], 34h
jmp     sub_277b516f
sub     [esp+arg_0], 34h
jmp     sub_277d5620
sub     [esp+arg_0], 34h
jmp     sub_277d5635
sub     [esp+arg_0], 38h
jmp     sub_277b516f
sub     [esp+arg_0], 38h
jmp     sub_277d5620
sub     [esp+arg_0], 38h
jmp     sub_277d5635
sub     [esp+arg_0], 3ch
jmp     sub_277b516f
sub     [esp+arg_0], 3ch
jmp     sub_277d5620
sub     [esp+arg_0], 3ch
jmp     sub_277d5635
sub     [esp+arg_0], 40h
jmp     sub_277b516f
sub     [esp+arg_0], 40h
jmp     sub_277d5620
sub     [esp+arg_0], 40h
jmp     sub_277d5635
sub     [esp+arg_0], 44h
jmp     sub_277b516f
sub     [esp+arg_0], 44h
jmp     sub_277d5620
sub     [esp+arg_0], 44h
jmp     sub_277d5635
sub     [esp+arg_0], 48h
jmp     sub_277b516f
sub     [esp+arg_0], 48h
jmp     sub_277d5620
sub     [esp+arg_0], 48h
jmp     sub_277d5635
sub     dword ptr [esp+4], 4ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     sub_277d5620
sub     dword ptr [esp+4], 4ch
jmp     sub_277d5635
sub     [esp+arg_0], 0a4h
jmp     sub_277b516f
sub     [esp+arg_0], 0a4h
jmp     sub_277d5620
sub     [esp+arg_0], 0a4h
jmp     sub_277d5635
sub     dword ptr [esp+4], 0a8h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0a8h
jmp     sub_277d5620
sub     dword ptr [esp+4], 0a8h
jmp     sub_277d5635
sub     dword ptr [esp+4], 0ach
jmp     sub_277b516f
sub     dword ptr [esp+4], 0ach
jmp     sub_277d5620
sub     dword ptr [esp+4], 0ach
jmp     sub_277d5635
sub     [esp+arg_0], 0b0h
jmp     sub_277b516f
sub     [esp+arg_0], 0b0h
jmp     sub_277d5620
sub     [esp+arg_0], 0b0h
jmp     sub_277d5635
sub     [esp+arg_0], 1a8h
jmp     sub_277b516f
sub     [esp+arg_0], 1a8h
jmp     sub_277d5620
sub     [esp+arg_0], 1a8h
jmp     sub_277d5635
sub     [esp+arg_0], 1c4h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d98ec
retn    8
sub     [esp+arg_0], 1c4h
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277b535a
retn    10h
sub     [esp-4+arg_0], 1c4h
push    ebp
mov     ebp, esp
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b91bc
pop     ebp
retn    18h
sub     [esp-4+arg_0], 1c4h
push    ebp
mov     ebp, esp
push    [ebp+arg_20]
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b52e2
pop     ebp
retn    24h
sub     [esp+arg_0], 1ach
jmp     sub_277b516f
sub     [esp+arg_0], 1ach
jmp     sub_277d5620
sub     [esp+arg_0], 1ach
jmp     sub_277d5635
sub     [esp+arg_0], 1c8h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d9906
retn    8
sub     dword ptr [esp+4], 1b0h
jmp     sub_277b516f
sub     dword ptr [esp+4], 1b0h
jmp     sub_277d5620
sub     dword ptr [esp+4], 1b0h
jmp     sub_277d5635
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    1
mov     ax, [esi]
pop     ebx
mov     [ebp+var_10], ax
push    ebx
movzx   eax, ax
push    eax
mov     [ebp+var_e], bx
mov     [ebp+var_a], bx
call    sub_277d5a32
mov     edi, eax
pop     ecx
sub     edi, [ebp+arg_4]
pop     ecx
jns     short loc_277d597f
add     edi, 7
cmp     [esi+2], bx
jnz     short loc_277d59ae
movzx   ecx, word ptr [esi+6]
push    8
pop     eax
sub     eax, edi
cmp     ecx, eax
jge     short loc_277d59ae
xor     ebx, ebx
test    edi, edi
jz      short loc_277d599e
cmp     edi, 3
jg      short loc_277d599e
inc     ebx
test    ebx, ebx
jnz     short loc_277d59f7
test    edi, edi
jnz     short loc_277d59d3
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn
test    edi, edi
jz      short loc_277d59bb
push    8
pop     eax
sub     eax, edi
mov     [ebp+var_a], ax
lea     eax, [ebp+var_10]
push    esi
push    eax
call    sub_277d5ac1
pop     ecx
xor     edx, edx
pop     ecx
push    7
pop     ecx
div     ecx
mov     ebx, eax
inc     ebx
jmp     short loc_277d5994
push    [ebp+arg_8]
dec     [ebp+var_10]
lea     eax, [ebp+var_10]
mov     [ebp+var_e], 0ch
push    [ebp+arg_4]
mov     [ebp+var_a], 1fh
push    eax
call    sub_277d594b
add     esp, 0ch
jmp     short loc_277d59a9
cmp     ebx, 35h
jl      short loc_277d5a2b
movzx   eax, word ptr [esi+2]
movzx   edi, word ptr [esi+6]
push    eax
movzx   eax, word ptr [esi]
push    eax
call    sub_277d5a32
pop     ecx
pop     ecx
mov     ecx, edi
push    7
sub     ecx, [ebp+arg_4]
lea     eax, [eax+ecx+6]
pop     ecx
cdq
idiv    ecx
sub     edi, edx
add     edi, ecx
cmp     edi, 23h
jle     short loc_277d5a2b
push    1
pop     ebx
mov     eax, ebx
jmp     loc_277d59a9
mov     ecx, [esp+arg_0]
push    ebx
push    ebp
push    esi
lea     eax, [ecx-1]
push    edi
sar     eax, 2
mov     edi, 190h
lea     esi, [eax+ecx+4]
mov     eax, 6d8h
cmp     ecx, eax
jle     short loc_277d5ab3
lea     eax, [ecx-641h]
mov     ebx, edi
cdq
idiv    ebx
push    64h
pop     ebp
mov     ebx, eax
lea     eax, [ecx-6a5h]
cdq
idiv    ebp
sub     ebx, eax
lea     esi, [esi+ebx-0bh]
mov     eax, [esp+10h+arg_4]
add     esi, off_2782bc04[eax*4]
cmp     eax, 2
jle     short loc_277d5aa4
test    cl, 3
jnz     short loc_277d5aa4
cmp     ecx, 6d6h
jle     short loc_277d5aa3
mov     eax, ecx
push    64h
cdq
pop     ebx
idiv    ebx
test    edx, edx
jnz     short loc_277d5aa3
mov     eax, ecx
cdq
idiv    edi
test    edx, edx
jnz     short loc_277d5aa4
inc     esi
mov     eax, esi
push    7
cdq
pop     ecx
pop     edi
idiv    ecx
pop     esi
pop     ebp
pop     ebx
mov     eax, edx
retn
jnz     short loc_277d5a71
cmp     [esp+10h+arg_4], 9
jle     short loc_277d5a71
sub     esi, 0bh
jmp     short loc_277d5a71
mov     eax, [esp+arg_0]
mov     edx, [esp+arg_4]
push    ebx
push    ebp
movzx   ecx, word ptr [edx+6]
movzx   ebx, word ptr [eax+6]
push    esi
mov     si, [edx+2]
push    edi
mov     di, [eax+2]
sub     ecx, ebx
mov     dx, [edx]
movzx   ebx, di
mov     [esp+10h+arg_0], edx
sub     ecx, off_2782bc04[ebx*4]
movzx   ebx, si
add     ecx, off_2782bc04[ebx*4]
mov     bx, [eax]
cmp     bx, dx
jb      short loc_277d5b08
cmp     di, 2
ja      short loc_277d5b38
cmp     si, 2
jbe     short loc_277d5b38
test    dl, 3
jnz     short loc_277d5b38
cmp     dx, 6d6h
jbe     short loc_277d5b37
movzx   esi, dx
mov     eax, esi
push    64h
cdq
pop     ebp
idiv    ebp
test    edx, edx
jnz     short loc_277d5b37
mov     eax, esi
mov     esi, 190h
cdq
idiv    esi
test    edx, edx
jnz     short loc_277d5b38
inc     ecx
cmp     bx, word ptr [esp+10h+arg_0]
jnb     short loc_277d5bb3
cmp     di, 2
ja      short loc_277d5b6f
test    bl, 3
jnz     short loc_277d5b6f
cmp     bx, 6d6h
jbe     short loc_277d5b6e
movzx   esi, bx
mov     eax, esi
push    64h
cdq
pop     edi
idiv    edi
test    edx, edx
jnz     short loc_277d5b6e
mov     eax, esi
mov     esi, 190h
cdq
idiv    esi
test    edx, edx
jnz     short loc_277d5b6f
inc     ecx
mov     esi, 16dh
add     ecx, esi
inc     ebx
cmp     bx, word ptr [esp+10h+arg_0]
jnb     short loc_277d5bb3
movzx   edi, bx
add     ecx, esi
test    bl, 3
jnz     short loc_277d5baa
cmp     bx, 6d6h
jbe     short loc_277d5ba9
mov     eax, edi
push    64h
cdq
pop     ebp
idiv    ebp
test    edx, edx
jnz     short loc_277d5ba9
mov     eax, edi
mov     ebp, 190h
cdq
idiv    ebp
test    edx, edx
jnz     short loc_277d5baa
inc     ecx
inc     ebx
inc     edi
cmp     bx, word ptr [esp+10h+arg_0]
jb      short loc_277d5b81
pop     edi
pop     esi
pop     ebp
mov     eax, ecx
pop     ebx
retn
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
cmp     ebx, 1
push    edi
jl      short loc_277d5c3d
cmp     ebx, 35h
jg      short loc_277d5c3d
mov     esi, [ebp+arg_0]
push    0
push    [ebp+arg_4]
push    esi
call    sub_277d594b
lea     edi, [ebp+systemtime]
mov     [ebp+arg_8], eax
movsd
movsd
movsd
xor     eax, eax
add     esp, 0ch
movsd
mov     [ebp+systemtime.whour], ax
mov     [ebp+systemtime.wminute], ax
mov     [ebp+systemtime.wsecond], ax
mov     [ebp+systemtime.wmilliseconds], ax
lea     eax, [ebp+pvtime]
push    eax
lea     eax, [ebp+systemtime]
push    eax
call    ds:systemtimetovarianttime
sub     ebx, [ebp+arg_8]
lea     eax, [ebp+systemtime]
push    eax
push    ecx
imul    ebx, 7
mov     [ebp+arg_8], ebx
push    ecx
fild    [ebp+arg_8]
fadd    [ebp+pvtime]
fstp    [ebp+pvtime]
fld     [ebp+pvtime]
fstp    [esp+30h+vtime]
call    ds:varianttimetosystemtime
test    eax, eax
jl      short loc_277d5c3d
mov     edi, [ebp+arg_0]
lea     esi, [ebp+systemtime]
movsd
movsd
movsd
movsd
pop     edi
pop     esi
pop     ebx
leave
retn
mov     eax, [esp+arg_0]
inc     eax
retn
push    dword_278282f0
push    1f4h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d5c6d
push    [esp+arg_0]
mov     ecx, eax
call    sub_277d5c71
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277d5c69
push    esi
xor     eax, eax
push    edi
push    eax
push    340h
push    eax
push    eax
push    offset dword_277c0ed8
push    eax
push    eax
mov     esi, ecx
push    eax
push    eax
mov     eax, esi
neg     eax
lea     edi, [esi+1c4h]
push    6
sbb     eax, eax
push    7
and     eax, edi
push    eax
push    0ah
push    [esp+3ch+arg_0]
call    sub_277bad8f
mov     dword ptr [edi], offset off_277cafd0
mov     dword ptr [esi+1c8h], offset off_277b5b88
mov     ecx, esi
mov     dword ptr [esi], offset off_277caef0
mov     dword ptr [esi+1ch], offset off_277caed8
mov     dword ptr [esi+38h], offset off_277cae78
mov     dword ptr [esi+3ch], offset off_277cae58
mov     dword ptr [esi+40h], offset off_277cae28
mov     dword ptr [esi+44h], offset off_277cae00
mov     dword ptr [esi+48h], offset off_277cadc0
mov     dword ptr [esi+4ch], offset off_277cada0
mov     dword ptr [esi+50h], offset off_277cad78
mov     dword ptr [esi+54h], offset off_277cad50
mov     dword ptr [esi+58h], offset off_277cad40
mov     dword ptr [esi+5ch], offset off_277cad30
mov     dword ptr [esi+60h], offset off_277cad18
mov     dword ptr [esi+64h], offset off_277cad00
mov     dword ptr [esi+68h], offset off_277cacf0
mov     dword ptr [esi+0c0h], offset off_277cacd0
mov     dword ptr [esi+0c4h], offset off_277cacc0
mov     dword ptr [esi+0c8h], offset off_277caca8
mov     dword ptr [esi+0cch], offset off_277cac90
mov     dword ptr [edi], offset off_277cac00
mov     dword ptr [esi+1c8h], offset off_277cabf0
call    sub_277d5e35
mov     eax, esi
pop     edi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277d5d8c
test    byte ptr [esp+8], 1
jz      short loc_277d5d86
test    esi, esi
jz      short loc_277d5d86
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277caef0
mov     dword ptr [ecx+1ch], offset off_277caed8
mov     dword ptr [ecx+38h], offset off_277cae78
mov     dword ptr [ecx+3ch], offset off_277cae58
mov     dword ptr [ecx+40h], offset off_277cae28
mov     dword ptr [ecx+44h], offset off_277cae00
mov     dword ptr [ecx+48h], offset off_277cadc0
mov     dword ptr [ecx+4ch], offset off_277cada0
mov     dword ptr [ecx+50h], offset off_277cad78
mov     dword ptr [ecx+54h], offset off_277cad50
mov     dword ptr [ecx+58h], offset off_277cad40
mov     dword ptr [ecx+5ch], offset off_277cad30
mov     dword ptr [ecx+60h], offset off_277cad18
mov     dword ptr [ecx+64h], offset off_277cad00
mov     dword ptr [ecx+68h], offset off_277cacf0
mov     dword ptr [ecx+0c0h], offset off_277cacd0
mov     dword ptr [ecx+0c4h], offset off_277cacc0
mov     dword ptr [ecx+0c8h], offset off_277caca8
mov     dword ptr [ecx+0cch], offset off_277cac90
mov     dword ptr [ecx+1c4h], offset off_277cac00
mov     dword ptr [ecx+1c8h], offset off_277cabf0
jmp     sub_277c0d9c
mov     edx, ecx
push    esi
push    edi
push    6
lea     esi, [edx+1cch]
pop     ecx
xor     eax, eax
mov     edi, esi
rep stosd
mov     eax, [esi]
push    1
and     al, 0f1h
mov     dword ptr [edx+1dch], 7fffh
or      al, 11h
mov     [esi], eax
pop     eax
mov     [edx+1d0h], eax
mov     [edx+1d4h], eax
xor     eax, eax
pop     edi
mov     [edx+1d8h], eax
mov     [edx+1e0h], eax
mov     [edx+1f0h], eax
mov     [edx+1e4h], eax
mov     [edx+1e8h], eax
mov     [edx+1ech], eax
pop     esi
retn
push    1
pop     eax
mov     [ecx+1e4h], eax
retn
push    ebp
mov     ebp, esp
sub     esp, 30h
lea     eax, [ebp+var_8]
push    edi
push    eax
mov     [ebp+var_8], 8
mov     [ebp+var_4], 4
call    sub_277b4d29
push    0ah
xor     eax, eax
pop     ecx
lea     edi, [ebp+wndclass]
rep stosd
mov     eax, hinstance
mov     [ebp+wndclass.lpfnwndproc], offset sub_277d5ef2
mov     [ebp+wndclass.hinstance], eax
mov     eax, off_278286f4
mov     eax, [eax+44h]
or      [ebp+wndclass.style], 8
mov     [ebp+wndclass.lpszclassname], eax
lea     eax, [ebp+wndclass]
push    eax
call    ds:registerclassa
movzx   eax, ax
pop     edi
leave
retn
push    ebp
mov     ebp, esp
cmp     [ebp+msg], 20h
mov     eax, [ebp+lparam]
jnz     short loc_277d5f06
shr     eax, 10h
shl     eax, 10h
or      al, 1
push    eax
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    sub_277b4e17
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
push    ecx
push    esi
mov     esi, ecx
call    sub_277b54b0
test    eax, eax
jnz     short loc_277d5f46
mov     eax, [esi]
lea     ecx, [ebp+benable]
push    ecx
mov     ecx, esi
call    dword ptr [eax+0b8h]
push    [ebp+benable]
push    dword ptr [esi+0a0h]
call    ds:enablewindow
push    dword ptr [esi+0a0h]
call    sub_277e26e2
push    0fffffffch
push    dword ptr [esi+0a0h]
call    ds:getwindowlonga
mov     ecx, off_278286f4
mov     [ecx+58h], eax
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d5f9e
push    offset sub_277d6751
push    0fffffffch
push    dword ptr [esi+0a0h]
call    ds:setwindowlonga
push    esi
push    offset aflatsbptr
push    dword ptr [esi+0a0h]
mov     [esi+1f0h], eax
call    ds:setpropa
mov     ecx, esi
call    sub_277d7170
lea     eax, [esi+88h]
mov     ecx, esi
push    eax
call    sub_277b9944
push    1
pop     eax
pop     esi
leave
retn
push    esi
push    offset aflatscrollbar
push    [esp+8+lpstring1]
mov     esi, ecx
call    ds:lstrcpya
push    [esp+4+lpstring1]
mov     ecx, esi
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277bb8bb
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_4]
mov     edx, [ebp+arg_0]
push    ebx
push    esi
and     dword ptr [eax], 0
mov     eax, [edx]
cmp     eax, ds:dword_277b1ec8
push    edi
mov     [ebp+var_4], ecx
jnz     short loc_277d6032
push    10h
mov     edi, offset dword_277b1ec8
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jnz     short loc_277d6032
mov     esi, [ebp+var_4]
lea     eax, [esi+1c4h]
neg     esi
sbb     esi, esi
and     esi, eax
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     eax, ds:dword_277b6128
jnz     short loc_277d6055
push    10h
mov     edi, offset dword_277b6128
pop     ecx
mov     esi, edx
xor     eax, eax
repe cmpsb
jnz     short loc_277d6055
mov     esi, [ebp+var_4]
lea     eax, [esi+0cch]
jmp     short loc_277d6018
push    [ebp+arg_4]
mov     ecx, [ebp+var_4]
push    edx
call    sub_277bb196
jmp     short loc_277d602b
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     ecx, esi
push    [ebp+arg_8]
push    [ebp+arg_4]
call    sub_277bb33d
test    eax, eax
jl      short loc_277d60b4
push    6
xor     eax, eax
pop     ecx
lea     edi, [esi+1cch]
push    [ebp+arg_8]
rep stosd
lea     eax, [ebp+var_1c]
push    eax
push    offset off_2782bc98
push    [ebp+arg_4]
call    sub_277bb5ab
add     esp, 10h
test    eax, eax
jl      short loc_277d60b4
lea     eax, [ebp+var_1c]
mov     ecx, esi
push    eax
call    sub_277d62fa
xor     eax, eax
pop     edi
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 22ch
mov     eax, [ebp+pstm]
push    ebx
push    esi
xor     ebx, ebx
mov     ecx, [eax]
push    edi
push    ebx
lea     edx, [ebp+var_28]
push    24h
push    edx
push    eax
mov     [ebp+var_4], ebx
mov     [ebp+lpmem], ebx
call    dword ptr [ecx+0ch]
mov     esi, eax
cmp     esi, ebx
jge     short loc_277d6102
cmp     [ebp+lpmem], ebx
jz      short loc_277d60f9
push    [ebp+lpmem]
push    ebx
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     [ebp+var_28], 99470a83h
jnz     short loc_277d6114
cmp     [ebp+var_24], 60000h
jz      short loc_277d6130
cmp     [ebp+lpmem], ebx
jz      short loc_277d6129
push    [ebp+lpmem]
push    ebx
push    dword_278282f0
call    ds:heapfree
mov     eax, 8000ffffh
jmp     short loc_277d60fb
mov     eax, [ebp+arg_0]
cmp     [ebp+dwbytes], 200h
push    6
lea     esi, [ebp+var_1c]
lea     edi, [eax+1cch]
pop     ecx
rep movsd
jbe     short loc_277d618a
mov     eax, [ebp+lpmem]
cmp     eax, ebx
jnz     short loc_277d6164
push    [ebp+dwbytes]
push    ebx
push    dword_278282f0
call    ds:heapalloc
mov     [ebp+lpmem], eax
cmp     eax, ebx
mov     [ebp+var_4], eax
jnz     short loc_277d6192
cmp     [ebp+lpmem], ebx
jz      short loc_277d6180
push    [ebp+lpmem]
push    ebx
push    dword_278282f0
call    ds:heapfree
mov     eax, 8007000eh
jmp     loc_277d60fb
lea     eax, [ebp+var_22c]
jmp     short loc_277d6164
mov     edi, [ebp+pstm]
push    ebx
push    [ebp+dwbytes]
mov     eax, [edi]
push    [ebp+var_4]
push    edi
call    dword ptr [eax+0ch]
cmp     eax, ebx
jl      short loc_277d61e3
mov     esi, [ebp+arg_0]
lea     eax, [ebp+var_4]
push    eax
mov     ecx, esi
call    sub_277dc5a1
cmp     eax, ebx
jl      short loc_277d61c0
push    edi
mov     ecx, esi
call    sub_277dc678
and     dword ptr [esi+0b0h], 0fffffffeh
cmp     [ebp+lpmem], ebx
jz      short loc_277d61dc
push    [ebp+lpmem]
push    ebx
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
jmp     loc_277d60fb
mov     esi, [ebp+arg_0]
jmp     short loc_277d61c0
push    ebp
mov     ebp, esp
sub     esp, 2ch
lea     eax, [ebp+pvarg]
push    esi
push    eax
call    ds:variantinit
mov     esi, [ebp+arg_4]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset aversion
mov     eax, [esi]
push    esi
mov     word ptr [ebp+pvarg.anonymous_0], 3
mov     dword ptr [ebp+pvarg.anonymous_0+8], 60000h
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277d6253
push    [ebp+arg_8]
mov     ecx, [ebp+arg_0]
push    esi
call    sub_277dc274
test    eax, eax
jl      short loc_277d6253
mov     ecx, [ebp+arg_0]
lea     eax, [ebp+var_2c]
push    eax
call    sub_277d6376
push    [ebp+arg_8]
lea     eax, [ebp+var_2c]
push    eax
push    offset off_2782bc98
push    esi
call    sub_277dc88c
add     esp, 10h
test    eax, eax
jl      short loc_277d6253
xor     eax, eax
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
push    edi
push    9
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_2c]
push    6
rep stosd
mov     eax, [ebp+arg_0]
pop     ecx
lea     edi, [ebp+var_20]
mov     [ebp+var_2c], 99470a83h
lea     esi, [eax+1cch]
mov     [ebp+var_28], 60000h
rep movsd
lea     ecx, [ebp+var_8]
xor     ebx, ebx
push    ecx
lea     ecx, [ebp+lpmem]
push    ecx
mov     ecx, eax
mov     [ebp+lpmem], ebx
mov     [ebp+var_8], ebx
mov     [ebp+var_24], ebx
call    sub_277dbf71
cmp     eax, ebx
jl      short loc_277d62f3
mov     eax, [ebp+var_8]
mov     esi, [ebp+pstm]
add     [ebp+var_24], eax
push    ebx
mov     eax, [esi]
lea     ecx, [ebp+var_2c]
push    24h
push    ecx
push    esi
call    dword ptr [eax+10h]
cmp     eax, ebx
jl      short loc_277d62dc
mov     eax, [esi]
push    ebx
push    [ebp+var_8]
push    [ebp+lpmem]
push    esi
call    dword ptr [eax+10h]
cmp     eax, ebx
jl      short loc_277d62dc
mov     ecx, [ebp+arg_0]
push    esi
call    sub_277dc08f
cmp     [ebp+lpmem], ebx
jz      short loc_277d62f1
push    [ebp+lpmem]
push    ebx
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esp+arg_0]
push    esi
push    edi
mov     edi, [ecx+1cch]
mov     dl, [eax]
and     edi, 0fffffffch
and     edx, 3
mov     esi, edx
or      esi, edi
mov     [ecx+1cch], esi
mov     dl, [eax+2]
and     edx, 3
and     esi, 0fffffff3h
shl     edx, 2
mov     edi, edx
or      edi, esi
mov     [ecx+1cch], edi
mov     dl, [eax+4]
and     edx, 1
and     edi, 0ffffffefh
shl     edx, 4
or      edx, edi
pop     edi
mov     [ecx+1cch], edx
mov     edx, [eax+8]
mov     [ecx+1d0h], edx
mov     edx, [eax+0ch]
mov     [ecx+1d4h], edx
mov     edx, [eax+10h]
mov     [ecx+1d8h], edx
mov     edx, [eax+14h]
mov     [ecx+1dch], edx
mov     eax, [eax+18h]
mov     [ecx+1e0h], eax
xor     eax, eax
pop     esi
retn    4
mov     dl, [ecx+1cch]
mov     eax, [esp+arg_0]
push    esi
lea     esi, [ecx+1cch]
and     edx, 3
mov     [eax], dx
mov     edx, [esi]
shr     edx, 2
and     edx, 3
mov     [eax+2], dx
mov     edx, [esi]
shr     edx, 4
and     edx, 1
pop     esi
mov     [eax+4], dx
mov     edx, [ecx+1d0h]
mov     [eax+8], edx
mov     edx, [ecx+1d4h]
mov     [eax+0ch], edx
mov     edx, [ecx+1d8h]
mov     [eax+10h], edx
mov     edx, [ecx+1dch]
mov     [eax+14h], edx
mov     ecx, [ecx+1e0h]
mov     [eax+18h], ecx
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
mov     edi, [ebp+dwnewlong]
mov     ecx, edi
call    sub_277b54b0
mov     esi, [ebp+arg_c]
test    eax, eax
jz      short loc_277d6409
cmp     dword ptr [edi+0a0h], 0
jnz     short loc_277d6409
push    0
mov     ecx, edi
push    dword ptr [esi+4]
push    dword ptr [esi]
call    sub_277b4b64
mov     ebx, [ebp+hdc]
push    2
push    ebx
call    ds:getdevicecaps
cmp     eax, 5
jnz     short loc_277d6430
push    1
push    1
push    esi
push    ebx
mov     ecx, edi
call    sub_277dd122
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    1ch
lea     eax, [ebp+pt]
push    eax
push    0
push    0
push    ebx
call    ds:setwindoworgex
lea     eax, [ebp+var_10]
push    eax
push    dword ptr [esi+4]
push    dword ptr [esi]
push    ebx
call    ds:setviewportorgex
mov     eax, dword_278282f4
mov     ecx, eax
neg     ecx
sbb     ecx, ecx
and     ecx, 16h
neg     eax
sbb     eax, eax
push    ecx
and     eax, 308h
push    ebx
add     eax, 0fh
push    eax
mov     eax, [edi+14h]
push    dword ptr [edi+0a0h]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+58h]
call    ds:callwindowproca
jmp     short loc_277d6427
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+colorref]
push    esi
cmp     ebx, 14h
push    edi
mov     esi, ecx
jz      loc_277d66e8
cmp     ebx, 113h
jbe     loc_277d65cc
mov     eax, 115h
cmp     ebx, eax
jbe     short loc_277d64c8
cmp     ebx, 317h
jnz     loc_277d65cc
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     ebx, 114h
jnz     short loc_277d64e2
mov     ecx, [esi+1cch]
and     ecx, 10h
cmp     cl, 10h
jnz     loc_277d65cc
cmp     ebx, eax
jnz     short loc_277d64f3
test    byte ptr [esi+1cch], 10h
jnz     loc_277d65cc
mov     eax, [esi+1cch]
xor     ecx, ecx
and     eax, 10h
cmp     al, 10h
mov     eax, [ebp+wparam]
setnz   cl
mov     edi, ecx
movzx   ecx, ax
cmp     ecx, 7
ja      def_277d6514
jmp     ds:jpt_277d6514[ecx*4]
shr     eax, 10h
push    eax
mov     ecx, esi
call    sub_277d7135
mov     [esi+1e0h], eax
jmp     short loc_277d6578
shr     eax, 10h
push    eax
mov     ecx, esi
call    sub_277d7135
lea     edi, [esi+1ech]
push    offset dword_2782bd7c
push    esi
mov     [esi+1e0h], eax
mov     dword ptr [edi], 1
call    sub_277b9711
and     dword ptr [edi], 0
pop     ecx
pop     ecx
jmp     loc_277d64bf
mov     eax, [esi+1d4h]
neg     eax
push    eax
jmp     short loc_277d6571
push    dword ptr [esi+1d4h]
mov     ecx, esi
call    sub_277d7086
push    1
mov     ecx, esi
push    dword ptr [esi+1e0h]
call    sub_277d7135
push    eax
push    edi
push    dword ptr [esi+0a0h]
call    sub_277e4f67
push    offset dword_2782bd70
push    esi
call    sub_277b9711
pop     ecx
pop     ecx
jmp     loc_277d64bf
mov     eax, [esi+1d0h]
jmp     short loc_277d6566
push    dword ptr [esi+1d0h]
jmp     short loc_277d6571
mov     eax, [esi+1d8h]
jmp     loc_277d6526
mov     eax, [esi+1dch]
jmp     loc_277d6526
mov     edi, [ebp+lparam]
push    0
push    0
push    edi
push    [ebp+wparam]
mov     ecx, esi
push    ebx
call    sub_277bb9fd
mov     ecx, 84h
cmp     ebx, ecx
jz      loc_277d66c9
cmp     ebx, 0a0h
jz      loc_277d66bd
cmp     ebx, 1ffh
jbe     loc_277d64c1
cmp     ebx, 202h
ja      loc_277d64c1
cmp     ebx, 200h
jnz     short loc_277d665b
cmp     [ebp+wparam], 0
jnz     short loc_277d665b
mov     eax, [esi+1cch]
and     eax, 3
cmp     al, 2
jnz     short loc_277d665b
add     esi, 1e8h
cmp     dword ptr [esi], 0
jnz     loc_277d64bf
lea     eax, [ebp+rect.right]
mov     dword ptr [esi], 1
push    eax
call    ds:getcursorpos
push    [ebp+rect.bottom]
push    [ebp+rect.right]
call    ds:setcursorpos
jmp     loc_277d64bf
movsx   eax, di
shr     edi, 10h
mov     [ebp+rect.right], eax
push    1
movsx   eax, di
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect.right]
push    eax
push    0
push    dword ptr [esi+0a0h]
call    ds:mapwindowpoints
mov     eax, [esi+1cch]
xor     ecx, ecx
and     eax, 10h
cmp     al, 10h
movzx   edx, word ptr [ebp+rect.right]
setnz   cl
add     ecx, 6
add     ebx, 0fffffea0h
mov     eax, ecx
movzx   ecx, word ptr [ebp+rect.bottom]
shl     ecx, 10h
movzx   eax, ax
or      ecx, edx
push    ecx
push    eax
push    ebx
push    dword ptr [esi+0a0h]
call    ds:sendmessagea
jmp     loc_277d64bf
and     dword ptr [esi+1e8h], 0
jmp     loc_277d64c1
cmp     dword ptr [esi+1e8h], 0
jz      short def_277d6514
push    edi
push    [ebp+wparam]
push    ecx
push    dword ptr [esi+0a0h]
call    ds:defwindowproca
jmp     loc_277d64c1
lea     eax, [ebp+colorref]
push    eax
push    0
push    8000000fh
call    ds:oletranslatecolor
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+0a0h]
call    ds:getclientrect
push    [ebp+colorref]
call    ds:createsolidbrush
mov     esi, eax
lea     eax, [ebp+rect]
push    esi
push    eax
push    [ebp+wparam]
call    ds:fillrect
push    esi
call    ds:deleteobject
push    1
pop     eax
jmp     loc_277d64c1
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
mov     ebx, 82h
push    esi
mov     esi, ds:getpropa
push    edi
sub     eax, ebx
mov     edi, offset aflatsbptr
jz      short loc_277d677c
dec     eax
dec     eax
jnz     short loc_277d67b1
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    edi
push    [ebp+hwnd]
call    esi
test    eax, eax
jz      short loc_277d67b1
push    dword ptr [eax+1f0h]
lea     esi, [eax+1f0h]
push    0fffffffch
push    [ebp+hwnd]
call    ds:setwindowlonga
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
push    [ebp+hwnd]
push    dword ptr [esi]
call    ds:callwindowproca
jmp     short loc_277d6775
push    edi
push    [ebp+hwnd]
call    esi
test    eax, eax
jz      short loc_277d67cf
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+arg_4]
push    [ebp+hwnd]
push    dword ptr [eax+1f0h]
jmp     short loc_277d67a9
xor     eax, eax
jmp     short loc_277d6775
cmp     dword ptr [ecx+1e4h], 0
lea     eax, [ecx+1e4h]
jz      short loc_277d6814
and     dword ptr [eax], 0
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi]
cmp     eax, 64h
jnz     short loc_277d67f7
cmp     dword ptr [esi+4], 32h
jz      short loc_277d6802
cmp     eax, 69h
jnz     short loc_277d680d
cmp     dword ptr [esi+4], 31h
jnz     short loc_277d680d
push    3
call    ds:getsystemmetrics
mov     [esi+4], eax
push    1
pop     eax
pop     esi
retn    4
mov     eax, [ecx+1cch]
push    1
and     eax, 10h
cmp     al, 10h
mov     eax, [esp+4+arg_0]
jnz     short loc_277d683e
mov     eax, [eax+4]
dec     eax
push    eax
push    4
push    dword ptr [ecx+0a0h]
call    sub_277e5171
push    1
pop     eax
jmp     short locret_277d6811
mov     eax, [eax]
dec     eax
push    eax
push    8
jmp     short loc_277d682e
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
test    eax, eax
jle     short loc_277d6880
cmp     eax, 2
jle     short loc_277d6875
cmp     eax, 5
jle     short loc_277d6866
cmp     eax, 8
jz      short loc_277d6875
jle     short loc_277d6880
cmp     eax, 0ah
jg      short loc_277d6880
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 0fffffffah
xor     eax, eax
pop     ebp
retn    0ch
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 0fffffffbh
jmp     short loc_277d686f
push    [ebp+arg_8]
push    eax
push    [ebp+arg_0]
call    sub_277dbbb5
jmp     short loc_277d6871
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
dec     eax
jz      short loc_277d68dc
dec     eax
jz      short loc_277d68d5
sub     eax, 6
jz      short loc_277d68b4
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277dbb07
pop     ebp
retn    10h
mov     eax, offset dword_277ca1d8
push    0
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax-0ach]
push    [ebp+arg_c]
push    [ebp+arg_8]
call    sub_277dd471
add     esp, 14h
jmp     short loc_277d68b0
mov     eax, offset dword_277ca218
jmp     short loc_277d68b9
mov     eax, offset dword_277ca228
jmp     short loc_277d68b9
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+8]
and     eax, 3
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
mov     eax, [esp+8+arg_4]
push    edi
mov     ecx, [esi+8]
mov     edx, ecx
and     edx, 3
cmp     edx, eax
jz      short loc_277d6986
test    eax, eax
jl      short loc_277d698e
cmp     eax, 2
jg      short loc_277d698e
xor     eax, ecx
lea     edi, [esi-1c4h]
and     eax, 3
xor     eax, ecx
mov     ecx, edi
mov     [esi+8], eax
and     eax, 10h
sub     al, 10h
neg     al
sbb     eax, eax
and     al, 0
add     eax, 200h
mov     ebx, eax
call    sub_277d7069
push    1
push    eax
push    ebx
push    dword ptr [esi-124h]
call    sub_277e5171
test    eax, eax
jnz     short loc_277d6969
mov     edx, [edi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, edi
call    dword ptr [edx+30h]
jmp     short loc_277d6988
push    1
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
push    0
mov     ecx, edi
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     edx, [esi-1c4h]
mov     eax, 17ch
lea     ecx, [esi-1c4h]
push    eax
push    eax
push    800a017ch
jmp     short loc_277d6964
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+8]
shr     eax, 2
and     eax, 3
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     edi, [esp+0ch+arg_4]
mov     eax, [esi+8]
mov     ecx, eax
shr     ecx, 2
and     ecx, 3
cmp     ecx, edi
jz      short loc_277d6a4d
test    edi, edi
jl      short loc_277d6a55
cmp     edi, 2
jg      short loc_277d6a55
mov     ecx, eax
xor     ebx, ebx
and     ecx, 10h
cmp     cl, 10h
setnz   bl
test    al, 0ch
jz      short loc_277d6a06
test    edi, edi
jz      short loc_277d6a06
push    0
push    ebx
push    dword ptr [esi-124h]
call    sub_277e453a
mov     eax, [esi+8]
and     edi, 3
shl     edi, 2
and     al, 0f3h
or      edi, eax
mov     [esi+8], edi
lea     edi, [esi-1c4h]
mov     ecx, edi
call    sub_277d702a
push    eax
push    ebx
push    dword ptr [esi-124h]
call    sub_277e453a
push    2
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
push    0
mov     ecx, edi
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     edx, [esi-1c4h]
lea     ecx, [esi-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277d6a4f
push    ebp
mov     ebp, esp
movsx   ecx, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    ecx
mov     eax, [esi-1c4h]
lea     edi, [esi-1c4h]
mov     ecx, edi
call    dword ptr [eax+0bch]
mov     [ebp+arg_0], eax
mov     eax, [esi+8]
and     eax, 10h
xor     ebx, ebx
cmp     al, 10h
setnz   bl
cmp     [ebp+arg_4], 0
jz      short loc_277d6ab9
push    0
push    ebx
push    dword ptr [esi-124h]
call    sub_277e453a
mov     ecx, edi
call    sub_277d702a
push    eax
push    ebx
push    dword ptr [esi-124h]
call    sub_277e453a
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    esi
push    edi
mov     edi, [esp+8+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d6b06
mov     edx, [esi]
mov     eax, 18ah
push    eax
push    eax
push    800a018ah
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
retn    8
mov     ecx, [esp+8+arg_4]
mov     eax, [edi-124h]
mov     [ecx], eax
xor     eax, eax
jmp     short loc_277d6b01
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     ax, [eax+0ch]
mov     [ecx], ax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 1ch
movsx   edx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
cmp     [esi+0ch], edx
jz      short loc_277d6b9e
cmp     [ebp+arg_4], 1
jl      short loc_277d6ba6
cmp     [ebp+arg_4], 7fffh
jg      short loc_277d6ba6
push    7
xor     eax, eax
pop     ecx
lea     edi, [ebp+var_1c]
rep stosd
lea     eax, [ebp+var_1c]
push    1
mov     [esi+0ch], edx
push    eax
mov     eax, [esi+8]
xor     ecx, ecx
and     eax, 10h
mov     [ebp+var_1c.cbsize], 1ch
cmp     al, 10h
mov     [ebp+var_1c.fmask], 2
setnz   cl
push    ecx
mov     [ebp+var_1c.npage], edx
push    dword ptr [esi-124h]
call    sub_277e50ac
push    3
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
mov     edx, [esi-1c4h]
lea     ecx, [esi-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277d6ba0
push    ebp
mov     ebp, esp
sub     esp, 1ch
movsx   eax, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
cmp     [esi+18h], eax
jz      loc_277d6c64
cmp     [ebp+arg_4], 8000h
jl      loc_277d6c6c
cmp     [ebp+arg_4], 7fffh
jg      short loc_277d6c6c
push    7
mov     [esi+18h], eax
pop     ecx
xor     eax, eax
push    dword ptr [esi+1ch]
lea     edi, [ebp+var_1c]
rep stosd
lea     edi, [esi-1c4h]
mov     [ebp+var_1c.cbsize], 1ch
mov     ecx, edi
mov     [ebp+var_1c.fmask], 5
call    sub_277d7135
mov     ecx, edi
mov     [ebp+var_1c.npos], eax
call    sub_277d70fd
mov     ecx, edi
mov     [ebp+var_1c.nmin], eax
call    sub_277d7119
mov     [ebp+var_1c.nmax], eax
lea     eax, [ebp+var_1c]
push    1
push    eax
mov     eax, [esi+8]
xor     ecx, ecx
and     eax, 10h
cmp     al, 10h
setnz   cl
push    ecx
push    dword ptr [esi-124h]
call    sub_277e50ac
push    5
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
mov     edx, [esi-1c4h]
lea     ecx, [esi-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277d6c66
push    ebp
mov     ebp, esp
sub     esp, 1ch
movsx   eax, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
cmp     [esi+14h], eax
jz      loc_277d6d2a
cmp     [ebp+arg_4], 8000h
jl      loc_277d6d32
cmp     [ebp+arg_4], 7fffh
jg      short loc_277d6d32
push    7
mov     [esi+14h], eax
pop     ecx
xor     eax, eax
push    dword ptr [esi+1ch]
lea     edi, [ebp+var_1c]
rep stosd
lea     edi, [esi-1c4h]
mov     [ebp+var_1c.cbsize], 1ch
mov     ecx, edi
mov     [ebp+var_1c.fmask], 5
call    sub_277d7135
mov     ecx, edi
mov     [ebp+var_1c.npos], eax
call    sub_277d70fd
mov     ecx, edi
mov     [ebp+var_1c.nmin], eax
call    sub_277d7119
mov     [ebp+var_1c.nmax], eax
lea     eax, [ebp+var_1c]
push    1
push    eax
mov     eax, [esi+8]
xor     ecx, ecx
and     eax, 10h
cmp     al, 10h
setnz   cl
push    ecx
push    dword ptr [esi-124h]
call    sub_277e50ac
push    4
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
mov     edx, [esi-1c4h]
lea     ecx, [esi-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277d6d2c
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax-1c4h]
mov     eax, [eax-1c4h]
call    dword ptr [eax+0cch]
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+8]
shr     eax, 4
and     eax, 1
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [ebp+arg_4]
push    edi
mov     ecx, [esi+8]
mov     edx, ecx
shr     edx, 4
and     edx, 1
cmp     edx, eax
jz      short loc_277d6dfe
test    eax, eax
jl      short loc_277d6e06
cmp     eax, 1
jg      short loc_277d6e06
and     eax, 1
and     ecx, 0ffffffefh
shl     eax, 4
lea     edi, [esi-1c4h]
or      eax, ecx
mov     ecx, edi
mov     [esi+8], eax
call    sub_277d7170
mov     eax, [esi-138h]
mov     ecx, edi
mov     [ebp+var_8], eax
mov     eax, [esi-13ch]
mov     [ebp+var_4], eax
lea     eax, [ebp+var_8]
push    eax
call    sub_277b9944
push    8
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
push    0
mov     ecx, edi
call    sub_277b45b0
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
mov     edx, [esi-1c4h]
lea     ecx, [esi-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277d6e00
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     ax, [eax+10h]
mov     [ecx], ax
xor     eax, eax
retn    8
movsx   eax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
cmp     [esi+10h], eax
jz      short loc_277d6e6e
cmp     [esp+4+arg_4], 1
jl      short loc_277d6e74
cmp     [esp+4+arg_4], 7fffh
jg      short loc_277d6e74
push    9
lea     ecx, [esi-198h]
mov     [esi+10h], eax
call    sub_277b4535
or      dword ptr [esi-114h], 1
xor     eax, eax
pop     esi
retn    8
mov     edx, [esi-1c4h]
lea     ecx, [esi-1c4h]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
call    dword ptr [edx+30h]
jmp     short loc_277d6e70
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+7ch]
retn    8
push    esi
mov     esi, [esp+4+arg_0]
cmp     dword ptr [esi+28h], 0
jnz     short loc_277d6ed5
mov     eax, [esi+8]
xor     ecx, ecx
and     eax, 10h
cmp     al, 10h
setnz   cl
push    ecx
push    dword ptr [esi-124h]
call    sub_277e40b0
push    eax
lea     ecx, [esi-1c4h]
call    sub_277d7135
mov     [esi+1ch], eax
mov     ecx, [esp+4+arg_4]
mov     ax, [esi+1ch]
pop     esi
mov     [ecx], ax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, [ebp+nbar]
push    edi
movsx   edi, [ebp+arg_4]
cmp     [esi+1ch], edi
jz      loc_277d6fa6
lea     ebx, [esi-1c4h]
mov     ecx, ebx
call    sub_277d70fd
cmp     edi, eax
jl      loc_277d6faf
mov     ecx, ebx
call    sub_277d7119
cmp     edi, eax
jg      loc_277d6faf
mov     [esi+1ch], edi
mov     eax, [esi+8]
and     eax, 10h
xor     ecx, ecx
cmp     al, 10h
push    7
setnz   cl
mov     [ebp+nbar], ecx
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_1c]
rep stosd
movsx   eax, [ebp+arg_4]
push    eax
mov     ecx, ebx
mov     [ebp+var_1c.cbsize], 1ch
mov     [ebp+var_1c.fmask], 5
call    sub_277d7135
mov     ecx, ebx
mov     [ebp+var_1c.npos], eax
call    sub_277d70fd
mov     ecx, ebx
mov     [ebp+var_1c.nmin], eax
call    sub_277d7119
mov     [ebp+var_1c.nmax], eax
lea     eax, [ebp+var_1c]
push    1
push    eax
push    [ebp+nbar]
push    dword ptr [esi-124h]
call    sub_277e50ac
push    offset dword_2782bd70
push    ebx
call    sub_277b9711
pop     ecx
pop     ecx
push    0ah
lea     ecx, [esi-198h]
call    sub_277b4535
or      dword ptr [esi-114h], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edx, [ebx]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, ebx
call    dword ptr [edx+30h]
jmp     short loc_277d6fa8
push    esi
push    edi
mov     edi, [esp+8+arg_0]
lea     esi, [edi-1c4h]
mov     ecx, esi
call    sub_277b54b0
test    eax, eax
jz      short loc_277d700d
push    1
mov     ecx, esi
call    sub_277d91a1
mov     eax, [esi]
push    0
push    offset sub_277dd0f1
mov     ecx, esi
push    dword ptr [edi-124h]
push    7dbh
call    dword ptr [eax+28h]
push    eax
call    ds:dialogboxparama
push    0
mov     ecx, esi
call    sub_277d91a1
pop     edi
xor     eax, eax
pop     esi
retn    4
mov     eax, [esp+arg_0]
push    0
lea     ecx, [eax-1c4h]
call    sub_277b45b0
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    esi
mov     esi, ecx
lea     ecx, [ebp+var_4]
mov     eax, [esi]
push    ecx
mov     ecx, esi
call    dword ptr [eax+0b8h]
cmp     [ebp+var_4], 0
jz      short loc_277d7065
mov     eax, [esi+1cch]
shr     eax, 2
and     eax, 3
dec     eax
jz      short loc_277d7061
dec     eax
jz      short loc_277d705c
xor     eax, eax
pop     esi
leave
retn
push    1
pop     eax
jmp     short loc_277d7059
push    2
jmp     short loc_277d705e
push    3
jmp     short loc_277d705e
mov     eax, [ecx+1cch]
and     eax, 3
sub     eax, 0
jz      short loc_277d7083
dec     eax
dec     eax
jz      short loc_277d707f
push    2
pop     eax
retn
push    1
jmp     short loc_277d707d
xor     eax, eax
retn
push    ebx
push    ebp
push    esi
push    edi
mov     esi, ecx
call    sub_277d70fd
mov     ecx, esi
mov     edi, eax
call    sub_277d7119
mov     ebp, [esp+10h+arg_0]
mov     ecx, esi
push    ebp
mov     ebx, eax
call    sub_277d715e
add     eax, [esi+1e0h]
cmp     eax, edi
jge     short loc_277d70bf
mov     [esi+1e0h], edi
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebp
mov     ecx, esi
call    sub_277d715e
add     eax, [esi+1e0h]
cmp     eax, ebx
jle     short loc_277d70d9
mov     [esi+1e0h], ebx
jmp     short loc_277d70b8
push    ebp
mov     ecx, esi
call    sub_277d715e
add     [esi+1e0h], eax
jmp     short loc_277d70b8
mov     eax, [ecx+1d8h]
xor     edx, edx
cmp     eax, [ecx+1dch]
setnle  dl
mov     eax, edx
retn
push    esi
mov     esi, ecx
call    sub_277d70e9
test    eax, eax
jz      short loc_277d7111
mov     eax, [esi+1dch]
pop     esi
retn
mov     eax, [esi+1d8h]
pop     esi
retn
push    esi
mov     esi, ecx
call    sub_277d70e9
test    eax, eax
jz      short loc_277d712d
mov     eax, [esi+1d8h]
pop     esi
retn
mov     eax, [esi+1dch]
pop     esi
retn
push    esi
push    edi
movsx   edi, [esp+8+arg_0]
mov     esi, ecx
call    sub_277d70e9
test    eax, eax
jz      short loc_277d715a
mov     eax, [esi+1dch]
add     eax, [esi+1d8h]
sub     eax, edi
pop     edi
pop     esi
retn    4
mov     eax, edi
jmp     short loc_277d7155
call    sub_277d70e9
test    eax, eax
mov     eax, [esp+arg_0]
jz      short locret_277d716d
neg     eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, ecx
push    edi
push    0
push    3
mov     eax, [esi+1cch]
push    dword ptr [esi+0a0h]
and     eax, 10h
xor     ebx, ebx
cmp     al, 10h
setnz   bl
call    sub_277e42ec
push    1
push    ebx
push    dword ptr [esi+0a0h]
call    sub_277e42ec
mov     ecx, esi
call    sub_277d702a
push    eax
push    ebx
push    dword ptr [esi+0a0h]
call    sub_277e453a
push    7
xor     eax, eax
pop     edx
lea     edi, [ebp+var_1c]
push    dword ptr [esi+1e0h]
mov     ecx, edx
rep stosd
mov     ecx, esi
mov     [ebp+var_1c.cbsize], 1ch
mov     [ebp+var_1c.fmask], edx
call    sub_277d7135
mov     ecx, esi
mov     [ebp+var_1c.npos], eax
call    sub_277d70fd
mov     ecx, esi
mov     [ebp+var_1c.nmin], eax
call    sub_277d7119
mov     [ebp+var_1c.nmax], eax
mov     eax, [esi+1d0h]
mov     [ebp+var_1c.npage], eax
lea     eax, [ebp+var_1c]
push    1
push    eax
push    ebx
push    dword ptr [esi+0a0h]
call    sub_277e50ac
mov     eax, [esi+1cch]
mov     ecx, esi
and     eax, 10h
sub     al, 10h
neg     al
sbb     eax, eax
and     al, 0
add     eax, 200h
mov     edi, eax
call    sub_277d7069
push    1
push    eax
push    edi
push    dword ptr [esi+0a0h]
call    sub_277e5171
pop     edi
pop     esi
pop     ebx
leave
retn
sub     [esp+arg_0], 1ch
jmp     sub_277b516f
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+4]
retn    4
sub     [esp+arg_0], 1ch
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+8]
retn    4
sub     [esp+arg_0], 20h
jmp     sub_277b516f
sub     [esp+arg_0], 20h
jmp     short sub_277d7253
sub     [esp+arg_0], 20h
jmp     short sub_277d7268
sub     [esp+arg_0], 24h
jmp     sub_277b516f
sub     [esp+arg_0], 24h
jmp     short sub_277d7253
sub     [esp+arg_0], 24h
jmp     short sub_277d7268
sub     dword ptr [esp+4], 28h
jmp     sub_277b516f
sub     dword ptr [esp+4], 28h
jmp     short sub_277d7253
sub     dword ptr [esp+4], 28h
jmp     short sub_277d7268
sub     dword ptr [esp+4], 2ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 2ch
jmp     short sub_277d7253
sub     dword ptr [esp+4], 2ch
jmp     short sub_277d7268
sub     dword ptr [esp+4], 30h
jmp     sub_277b516f
sub     dword ptr [esp+4], 30h
jmp     sub_277d7253
sub     dword ptr [esp+4], 30h
jmp     sub_277d7268
sub     [esp+arg_0], 34h
jmp     sub_277b516f
sub     [esp+arg_0], 34h
jmp     sub_277d7253
sub     [esp+arg_0], 34h
jmp     sub_277d7268
sub     [esp+arg_0], 38h
jmp     sub_277b516f
sub     [esp+arg_0], 38h
jmp     sub_277d7253
sub     [esp+arg_0], 38h
jmp     sub_277d7268
sub     [esp+arg_0], 3ch
jmp     sub_277b516f
sub     [esp+arg_0], 3ch
jmp     sub_277d7253
sub     [esp+arg_0], 3ch
jmp     sub_277d7268
sub     [esp+arg_0], 40h
jmp     sub_277b516f
sub     [esp+arg_0], 40h
jmp     sub_277d7253
sub     [esp+arg_0], 40h
jmp     sub_277d7268
sub     [esp+arg_0], 44h
jmp     sub_277b516f
sub     [esp+arg_0], 44h
jmp     sub_277d7253
sub     [esp+arg_0], 44h
jmp     sub_277d7268
sub     [esp+arg_0], 48h
jmp     sub_277b516f
sub     [esp+arg_0], 48h
jmp     sub_277d7253
sub     [esp+arg_0], 48h
jmp     sub_277d7268
sub     dword ptr [esp+4], 4ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     sub_277d7253
sub     dword ptr [esp+4], 4ch
jmp     sub_277d7268
sub     [esp+arg_0], 0a4h
jmp     sub_277b516f
sub     [esp+arg_0], 0a4h
jmp     sub_277d7253
sub     [esp+arg_0], 0a4h
jmp     sub_277d7268
sub     dword ptr [esp+4], 0a8h
jmp     sub_277b516f
sub     dword ptr [esp+4], 0a8h
jmp     sub_277d7253
sub     dword ptr [esp+4], 0a8h
jmp     sub_277d7268
sub     dword ptr [esp+4], 0ach
jmp     sub_277b516f
sub     dword ptr [esp+4], 0ach
jmp     sub_277d7253
sub     dword ptr [esp+4], 0ach
jmp     sub_277d7268
sub     [esp+arg_0], 0b0h
jmp     sub_277b516f
sub     [esp+arg_0], 0b0h
jmp     sub_277d7253
sub     [esp+arg_0], 0b0h
jmp     sub_277d7268
sub     [esp+arg_0], 1a8h
jmp     sub_277b516f
sub     [esp+arg_0], 1a8h
jmp     sub_277d7253
sub     [esp+arg_0], 1a8h
jmp     sub_277d7268
sub     [esp+arg_0], 1c4h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d98ec
retn    8
sub     [esp+arg_0], 1c4h
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277b535a
retn    10h
sub     [esp-4+arg_0], 1c4h
push    ebp
mov     ebp, esp
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b91bc
pop     ebp
retn    18h
sub     [esp-4+arg_0], 1c4h
push    ebp
mov     ebp, esp
push    [ebp+arg_20]
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b52e2
pop     ebp
retn    24h
sub     [esp+arg_0], 1ach
jmp     sub_277b516f
sub     [esp+arg_0], 1ach
jmp     sub_277d7253
sub     [esp+arg_0], 1ach
jmp     sub_277d7268
sub     [esp+arg_0], 1c8h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d9906
retn    8
push    dword_278282f0
push    5ch
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d7579
push    [esp+arg_0]
mov     ecx, eax
call    sub_277d757d
add     eax, 0ch
retn
xor     eax, eax
jmp     short loc_277d7575
push    esi
push    7
push    offset dword_2782bdc0
push    offset dword_2782bd98
push    0ah
push    0bh
push    [esp+18h+arg_0]
mov     esi, ecx
call    sub_277d1966
mov     dword ptr [esi], offset off_277cb0c8
mov     dword ptr [esi+14h], offset off_277cb088
mov     dword ptr [esi+30h], offset off_277cb070
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277d75db
test    byte ptr [esp+8], 1
jz      short loc_277d75d5
test    esi, esi
jz      short loc_277d75d5
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277cb0c8
mov     dword ptr [ecx+14h], offset off_277cb088
mov     dword ptr [ecx+30h], offset off_277cb070
jmp     loc_277cf4f4
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     ecx, [eax]
push    offset dword_277b1ec8
push    eax
call    dword ptr [ecx]
retn    8
push    0
call    sub_277db6c7
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
push    esi
mov     esi, ecx
lea     ecx, [ebp+arg_4]
mov     eax, [esi]
push    ecx
push    [ebp+arg_4]
mov     ecx, esi
call    dword ptr [eax+24h]
test    eax, eax
jl      short loc_277d7641
push    0
mov     ecx, esi
call    sub_277db6c7
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
xor     eax, eax
pop     esi
pop     ebp
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, ecx
lea     ecx, [ebp+arg_4]
mov     eax, [esi]
push    ecx
push    [ebp+arg_4]
mov     ecx, esi
call    dword ptr [eax+24h]
test    eax, eax
jl      short loc_277d767f
push    [ebp+arg_4]
mov     ecx, esi
push    [ebp+arg_0]
call    sub_277b4665
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    0
mov     ecx, esi
call    sub_277db6c7
xor     eax, eax
pop     esi
pop     ebp
retn    8
xor     eax, eax
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
push    esi
mov     esi, ecx
lea     ecx, [ebp+var_4]
mov     eax, [esi]
push    ecx
push    [ebp+arg_0]
mov     ecx, esi
call    dword ptr [eax+24h]
test    eax, eax
jl      short loc_277d76b8
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    [ebp+arg_4]
mov     ecx, esi
push    [ebp+arg_0]
call    sub_277d2287
pop     esi
leave
retn    8
mov     eax, [esp+arg_0]
movzx   ecx, byte ptr [eax+0fh]
push    ecx
movzx   ecx, byte ptr [eax+0eh]
push    ecx
movzx   ecx, byte ptr [eax+0dh]
push    ecx
movzx   ecx, byte ptr [eax+0ch]
push    ecx
movzx   ecx, byte ptr [eax+0bh]
push    ecx
movzx   ecx, byte ptr [eax+0ah]
push    ecx
movzx   ecx, byte ptr [eax+9]
push    ecx
movzx   ecx, byte ptr [eax+8]
push    ecx
movzx   ecx, word ptr [eax+6]
push    ecx
movzx   ecx, word ptr [eax+4]
push    ecx
push    dword ptr [eax]
push    offset a08lx04x04x02x0
push    [esp+30h+arg_4]
call    ds:wsprintfa
add     esp, 34h
retn
push    ebp
mov     ebp, esp
sub     esp, 138h
push    ebx
push    esi
push    edi
xor     esi, esi
push    [ebp+arg_8]
mov     [ebp+phkresult], esi
mov     [ebp+hkey], esi
call    sub_277d8695
test    eax, eax
pop     ecx
jnz     short loc_277d7734
push    esi
push    [ebp+arg_8]
call    sub_277d80f3
pop     ecx
pop     ecx
lea     eax, [ebp+var_34]
push    eax
push    [ebp+arg_8]
call    sub_277d76bd
pop     ecx
test    eax, eax
pop     ecx
jz      loc_277d784e
mov     edi, ds:wsprintfa
lea     eax, [ebp+var_34]
push    eax
lea     eax, [ebp+subkey]
push    offset aclsids
push    eax
call    edi
add     esp, 0ch
lea     eax, [ebp+dwdisposition]
mov     ebx, ds:regcreatekeyexa
push    eax
lea     eax, [ebp+phkresult]
push    eax
push    esi
push    2001fh
push    esi
push    offset class
lea     eax, [ebp+subkey]
push    esi
push    eax
push    80000000h
call    ebx
cmp     eax, esi
jnz     loc_277d784e
cmp     [ebp+lpstring2], esi
jnz     loc_277d786f
push    [ebp+arg_0]
lea     eax, [ebp+subkey]
push    offset asobject
push    eax
call    edi
add     esp, 0ch
lea     eax, [ebp+subkey]
push    eax
call    ds:lstrlena
inc     eax
mov     edi, ds:regsetvalueexa
push    eax
lea     eax, [ebp+subkey]
push    eax
push    1
push    esi
push    esi
push    [ebp+phkresult]
call    edi
cmp     eax, esi
jnz     short loc_277d784e
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b64c
push    esi
push    offset ainprocserver32
push    [ebp+phkresult]
call    ebx
cmp     eax, esi
jnz     short loc_277d784e
lea     eax, [ebp+subkey]
push    104h
push    eax
push    hinstance
call    ds:getmodulefilenamea
cmp     eax, esi
jz      short loc_277d784e
inc     eax
push    eax
lea     eax, [ebp+subkey]
push    eax
push    1
push    esi
push    esi
push    [ebp+hkey]
call    edi
cmp     eax, esi
jnz     short loc_277d784e
cmp     [ebp+arg_c], esi
jz      short loc_277d7884
push    0ah
push    offset aapartment
push    1
push    esi
push    offset athreadingmodel
push    [ebp+hkey]
call    edi
cmp     eax, esi
jz      short loc_277d7892
cmp     [ebp+phkresult], esi
mov     edi, ds:regclosekey
jz      short loc_277d785e
push    [ebp+phkresult]
call    edi
cmp     [ebp+hkey], esi
jz      short loc_277d7868
push    [ebp+hkey]
call    edi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
push    [ebp+lpstring2]
lea     eax, [ebp+subkey]
push    eax
call    ds:lstrcpya
jmp     loc_277d77b3
push    offset athreadingmodel_0
push    [ebp+hkey]
call    ds:regdeletevaluea
push    [ebp+hkey]
mov     esi, ds:regclosekey
call    esi
push    [ebp+phkresult]
call    esi
push    1
pop     eax
jmp     short loc_277d786a
push    ebp
mov     ebp, esp
sub     esp, 138h
push    ebx
push    esi
push    edi
xor     esi, esi
push    [ebp+dwdisposition]
mov     [ebp+phkresult], esi
mov     [ebp+hkey], esi
push    [ebp+arg_1c]
push    [ebp+arg_8]
push    [ebp+arg_4]
call    sub_277d7708
add     esp, 10h
test    eax, eax
jz      loc_277d7d19
push    [ebp+lpstring2]
mov     ebx, ds:lstrcpya
lea     eax, [ebp+string1]
push    eax
call    ebx
mov     edi, ds:lstrcata
lea     eax, [ebp+string1]
push    offset asc_2782ad70
push    eax
call    edi
push    [ebp+arg_4]
lea     eax, [ebp+string1]
push    eax
call    edi
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+phkresult]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b650
lea     eax, [ebp+string1]
push    esi
push    eax
push    80000000h
call    ds:regcreatekeyexa
cmp     eax, esi
jnz     loc_277d7cfd
cmp     [ebp+arg_8], esi
jnz     loc_277d7d20
push    [ebp+arg_4]
lea     eax, [ebp+string1]
push    offset asobject_0
push    eax
call    ds:wsprintfa
add     esp, 0ch
mov     edi, ds:lstrlena
lea     eax, [ebp+string1]
push    eax
call    edi
inc     eax
mov     ebx, ds:regsetvalueexa
push    eax
lea     eax, [ebp+string1]
push    eax
push    1
push    esi
push    esi
push    [ebp+phkresult]
call    ebx
cmp     eax, esi
jnz     loc_277d7cfd
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b654
push    esi
push    offset aclsid
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, esi
jnz     loc_277d7cfd
lea     eax, [ebp+string]
push    eax
push    [ebp+arg_1c]
call    sub_277d76bd
pop     ecx
test    eax, eax
pop     ecx
jz      loc_277d7cfd
lea     eax, [ebp+string]
push    eax
call    edi
inc     eax
push    eax
lea     eax, [ebp+string]
push    eax
push    1
push    esi
push    esi
push    [ebp+hkey]
call    ebx
cmp     eax, esi
jnz     loc_277d7cfd
push    [ebp+hkey]
call    ds:regclosekey
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b658
push    esi
push    offset acurver
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, esi
jnz     loc_277d7cfd
push    [ebp+arg_c]
lea     eax, [ebp+string1]
push    [ebp+arg_4]
push    [ebp+lpstring2]
push    offset assld
push    eax
call    ds:wsprintfa
add     esp, 14h
lea     eax, [ebp+string1]
push    eax
call    edi
inc     eax
push    eax
lea     eax, [ebp+string1]
push    eax
push    1
push    esi
push    esi
push    [ebp+hkey]
call    ebx
cmp     eax, esi
jnz     loc_277d7cfd
push    [ebp+hkey]
call    ds:regclosekey
push    [ebp+phkresult]
call    ds:regclosekey
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+phkresult]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b65c
lea     eax, [ebp+string1]
push    esi
push    eax
push    80000000h
call    ds:regcreatekeyexa
cmp     eax, esi
jnz     loc_277d7cfd
cmp     [ebp+arg_8], esi
jnz     loc_277d7d31
push    [ebp+arg_4]
lea     eax, [ebp+string1]
push    offset asobject_1
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+string1]
push    eax
call    edi
inc     eax
push    eax
lea     eax, [ebp+string1]
push    eax
push    1
push    esi
push    esi
push    [ebp+phkresult]
call    ebx
cmp     eax, esi
jnz     loc_277d7cfd
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b660
push    esi
push    offset aclsid_0
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, esi
jnz     loc_277d7cfd
lea     eax, [ebp+string]
push    eax
call    edi
inc     eax
push    eax
lea     eax, [ebp+string]
push    eax
push    1
push    esi
push    esi
push    [ebp+hkey]
call    ebx
cmp     eax, esi
jnz     loc_277d7cfd
push    [ebp+hkey]
call    ds:regclosekey
push    [ebp+phkresult]
call    ds:regclosekey
lea     eax, [ebp+string]
push    eax
push    [ebp+arg_1c]
call    sub_277d76bd
pop     ecx
test    eax, eax
pop     ecx
jz      loc_277d7cfd
lea     eax, [ebp+string]
push    eax
lea     eax, [ebp+string1]
push    offset aclsids_0
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+phkresult]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b664
lea     eax, [ebp+string1]
push    esi
push    eax
push    80000000h
call    ds:regcreatekeyexa
cmp     eax, esi
jnz     loc_277d7cfd
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b668
push    esi
push    offset aversionindepen
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, esi
jnz     loc_277d7cfd
push    [ebp+arg_4]
lea     eax, [ebp+string1]
push    [ebp+lpstring2]
push    offset ass_2
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     eax, [ebp+string1]
push    eax
call    edi
inc     eax
push    eax
lea     eax, [ebp+string1]
push    eax
push    1
push    esi
push    esi
push    [ebp+hkey]
call    ebx
cmp     eax, esi
jnz     loc_277d7cfd
push    [ebp+hkey]
call    ds:regclosekey
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b66c
push    esi
push    offset aprogid
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, esi
jnz     loc_277d7cfd
push    [ebp+arg_c]
lea     eax, [ebp+string1]
push    [ebp+arg_4]
push    [ebp+lpstring2]
push    offset assld_0
push    eax
call    ds:wsprintfa
add     esp, 14h
lea     eax, [ebp+string1]
push    eax
call    edi
inc     eax
push    eax
lea     eax, [ebp+string1]
push    eax
push    1
push    esi
push    esi
push    [ebp+hkey]
call    ebx
cmp     eax, esi
jnz     loc_277d7cfd
push    [ebp+hkey]
call    ds:regclosekey
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b670
push    esi
push    offset atypelib
push    [ebp+phkresult]
call    ds:regcreatekeyexa
lea     eax, [ebp+string]
push    eax
push    [ebp+arg_18]
call    sub_277d76bd
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d7cfd
lea     eax, [ebp+string]
push    eax
call    edi
inc     eax
push    eax
lea     eax, [ebp+string]
push    eax
push    1
push    esi
push    esi
push    [ebp+hkey]
call    ebx
cmp     eax, esi
jnz     short loc_277d7cfd
push    [ebp+hkey]
call    ds:regclosekey
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    esi
push    0f003fh
push    esi
push    offset byte_2782b674
push    esi
push    offset aversion_0
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, esi
jz      short loc_277d7d46
cmp     [ebp+phkresult], esi
jz      short loc_277d7d19
push    [ebp+hkey]
call    ds:regclosekey
cmp     [ebp+phkresult], esi
jz      short loc_277d7d19
push    [ebp+phkresult]
call    ds:regclosekey
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
push    [ebp+arg_8]
lea     eax, [ebp+string1]
push    eax
call    ebx
jmp     loc_277d7959
push    [ebp+arg_8]
lea     eax, [ebp+string1]
push    eax
call    ds:lstrcpya
jmp     loc_277d7abd
push    [ebp+arg_14]
lea     eax, [ebp+string1]
push    [ebp+arg_10]
push    offset aldld
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     eax, [ebp+string1]
push    eax
call    edi
inc     eax
push    eax
lea     eax, [ebp+string1]
push    eax
push    1
pop     edi
push    edi
push    esi
push    esi
push    [ebp+hkey]
call    ebx
lea     eax, [ebp+ppv]
push    eax
push    offset stru_277cb358
push    edi
push    esi
push    offset rclsid
call    ds:cocreateinstance
cmp     eax, esi
jl      short loc_277d7db3
mov     eax, [ebp+ppv]
push    offset dword_277cb338
push    edi
push    [ebp+arg_1c]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
mov     eax, [ebp+ppv]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    [ebp+hkey]
mov     esi, ds:regclosekey
call    esi
push    [ebp+phkresult]
call    esi
mov     eax, edi
jmp     loc_277d7d1b
push    ebp
mov     ebp, esp
sub     esp, 1d4h
push    ebx
push    esi
push    edi
xor     ebx, ebx
push    [ebp+arg_2c]
mov     [ebp+hkey], ebx
mov     [ebp+var_8], ebx
push    [ebp+arg_20]
push    [ebp+phkresult]
push    [ebp+dwdisposition]
push    [ebp+ppv]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+lpstring2]
call    sub_277d78a7
add     esp, 24h
test    eax, eax
jz      short loc_277d7e4d
lea     eax, [ebp+string2]
push    eax
push    [ebp+arg_20]
call    sub_277d76bd
pop     ecx
lea     eax, [ebp+string2]
pop     ecx
push    eax
lea     eax, [ebp+subkey]
push    offset aclsids_1
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+phkresult]
mov     esi, 0f003fh
push    eax
push    esi
lea     eax, [ebp+subkey]
push    ebx
push    eax
push    80000000h
call    ds:regopenkeyexa
cmp     eax, ebx
jz      short loc_277d7e54
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
cmp     [ebp+arg_30], ebx
jz      short loc_277d7e8f
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    ebx
push    esi
push    ebx
push    offset byte_2782b678
push    ebx
push    offset acontrol
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, ebx
mov     [ebp+arg_2c], eax
jnz     loc_277d80ca
push    [ebp+hkey]
call    ds:regclosekey
mov     [ebp+hkey], ebx
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    ebx
push    esi
push    ebx
push    offset byte_2782b67c
push    ebx
push    offset amiscstatus
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, ebx
mov     [ebp+arg_2c], eax
jnz     loc_277d80ca
lea     eax, [ebp+subkey]
mov     edi, ds:regsetvalueexa
push    2
push    eax
push    1
push    ebx
push    ebx
mov     [ebp+subkey], 30h
push    [ebp+hkey]
mov     [ebp+var_133], bl
call    edi
cmp     eax, ebx
mov     [ebp+arg_2c], eax
jnz     loc_277d80ca
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+var_8]
push    eax
push    ebx
push    esi
push    ebx
push    offset byte_2782b680
push    ebx
push    offset a1
push    [ebp+hkey]
call    ds:regcreatekeyexa
cmp     eax, ebx
mov     [ebp+arg_2c], eax
jnz     loc_277d80ca
push    [ebp+arg_24]
lea     eax, [ebp+subkey]
push    offset ad_2
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+subkey]
push    eax
call    ds:lstrlena
inc     eax
push    eax
lea     eax, [ebp+subkey]
push    eax
push    1
push    ebx
push    ebx
push    [ebp+var_8]
call    edi
push    [ebp+var_8]
mov     [ebp+arg_2c], eax
call    ds:regclosekey
cmp     [ebp+arg_2c], ebx
jnz     loc_277d80ca
push    [ebp+hkey]
call    ds:regclosekey
cmp     [ebp+arg_30], ebx
mov     [ebp+hkey], ebx
jz      loc_277d8008
lea     eax, [ebp+subkey]
push    104h
push    eax
push    hinstance
call    ds:getmodulefilenamea
movzx   eax, word ptr [ebp+arg_28]
push    eax
lea     eax, [ebp+string2]
push    offset ad_3
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+string2]
push    eax
lea     eax, [ebp+subkey]
push    eax
call    ds:lstrcata
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+hkey]
push    eax
push    ebx
push    esi
push    ebx
push    offset byte_2782b684
push    ebx
push    offset atoolboxbitmap3
push    [ebp+phkresult]
call    ds:regcreatekeyexa
cmp     eax, ebx
mov     [ebp+arg_2c], eax
jnz     loc_277d80ca
lea     eax, [ebp+subkey]
push    eax
call    ds:lstrlena
inc     eax
push    eax
lea     eax, [ebp+subkey]
push    eax
push    1
push    ebx
push    ebx
push    [ebp+hkey]
call    edi
cmp     eax, ebx
mov     [ebp+arg_2c], eax
jnz     loc_277d80ca
lea     eax, [ebp+ppv]
push    eax
push    offset stru_277cb358
push    1
push    ebx
push    offset rclsid
call    ds:cocreateinstance
cmp     eax, ebx
jl      loc_277d80ca
mov     eax, ds:dword_277ca300
cmp     eax, ebx
jle     short loc_277d8074
cmp     eax, ebx
mov     [ebp+arg_28], ebx
jle     short loc_277d8060
lea     edx, [ebp+var_1d4]
mov     ecx, offset off_2782b6b8
cmp     ecx, offset dword_2782b6e0
jge     short loc_277d8060
mov     esi, [ecx]
mov     edi, edx
movsd
inc     [ebp+arg_28]
add     ecx, 4
movsd
movsd
add     edx, 10h
cmp     [ebp+arg_28], eax
movsd
jl      short loc_277d8042
mov     ecx, [ebp+ppv]
lea     esi, [ebp+var_1d4]
push    esi
push    eax
push    [ebp+arg_20]
mov     edx, [ecx]
push    ecx
call    dword ptr [edx+14h]
mov     eax, ds:dword_277ca304
cmp     eax, ebx
jle     short loc_277d80c1
cmp     eax, ebx
mov     [ebp+arg_28], ebx
jle     short loc_277d80ad
lea     edx, [ebp+var_1d4]
mov     ecx, offset dword_2782c284
cmp     ecx, offset dword_2782c2ac
jge     short loc_277d80ad
mov     esi, [ecx]
mov     edi, edx
movsd
inc     [ebp+arg_28]
add     ecx, 4
movsd
movsd
add     edx, 10h
cmp     [ebp+arg_28], eax
movsd
jl      short loc_277d808f
mov     ecx, [ebp+ppv]
lea     esi, [ebp+var_1d4]
push    esi
push    eax
push    [ebp+arg_20]
mov     edx, [ecx]
push    ecx
call    dword ptr [edx+1ch]
mov     eax, [ebp+ppv]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
cmp     [ebp+phkresult], ebx
jz      short loc_277d80d8
push    [ebp+phkresult]
call    ds:regclosekey
cmp     [ebp+hkey], ebx
jz      short loc_277d80e6
push    [ebp+hkey]
call    ds:regclosekey
xor     eax, eax
cmp     [ebp+arg_2c], ebx
setz    al
jmp     loc_277d7e4f
push    ebp
mov     ebp, esp
sub     esp, 104h
push    esi
mov     esi, [ebp+phkresult]
test    esi, esi
jz      short loc_277d810a
mov     dword ptr [esi], 1
lea     eax, [ebp+string1]
push    eax
push    [ebp+arg_0]
call    sub_277d76bd
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d813e
lea     eax, [ebp+phkresult]
push    eax
push    0f003fh
push    0
push    offset aclsid_1
push    80000000h
call    ds:regopenkeyexa
test    eax, eax
jz      short loc_277d8143
xor     eax, eax
pop     esi
leave
retn
lea     eax, [ebp+string1]
push    eax
push    [ebp+phkresult]
call    sub_277d8739
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d8171
lea     eax, [ebp+string1]
push    offset ainprocserver32_0
push    eax
call    ds:lstrcata
test    esi, esi
jz      short loc_277d8171
and     dword ptr [esi], 0
lea     eax, [ebp+string1]
push    eax
push    [ebp+phkresult]
call    sub_277d8305
pop     ecx
mov     esi, eax
pop     ecx
push    [ebp+phkresult]
call    ds:regclosekey
mov     eax, esi
jmp     short loc_277d8140
push    ebp
mov     ebp, esp
sub     esp, 114h
push    ebx
push    esi
lea     eax, [ebp+var_c]
push    edi
push    eax
push    [ebp+phkresult]
call    sub_277d80f3
pop     ecx
test    eax, eax
pop     ecx
jz      loc_277d8246
cmp     [ebp+var_c.unused], 0
jz      loc_277d82fd
push    [ebp+arg_8]
mov     ebx, [ebp+arg_4]
mov     esi, ds:wsprintfa
lea     eax, [ebp+subkey]
push    ebx
push    [ebp+arg_0]
push    offset assld_1
push    eax
call    esi
add     esp, 14h
lea     eax, [ebp+subkey]
mov     edi, 80000000h
push    eax
push    edi
call    sub_277d8305
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d8246
lea     eax, [ebp+var_8]
push    eax
lea     eax, [ebp+var_4]
push    eax
push    [ebp+arg_8]
push    ebx
push    [ebp+arg_0]
call    sub_277d8389
add     esp, 14h
test    eax, eax
jnz     short loc_277d824d
cmp     [ebp+var_8], eax
jnz     loc_277d82fd
push    ebx
lea     eax, [ebp+subkey]
push    [ebp+arg_0]
push    offset ass_3
push    eax
call    esi
add     esp, 10h
lea     eax, [ebp+subkey]
push    eax
push    edi
call    sub_277d8305
pop     ecx
test    eax, eax
pop     ecx
jnz     loc_277d82fd
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
push    [ebp+var_4]
push    ebx
push    [ebp+arg_0]
call    sub_277d844b
add     esp, 0ch
lea     eax, [ebp+subkey]
push    ebx
push    [ebp+arg_0]
push    offset asscurver
push    eax
call    esi
add     esp, 10h
lea     eax, [ebp+phkresult]
push    eax
push    0f003fh
lea     eax, [ebp+subkey]
push    0
push    eax
push    edi
call    ds:regopenkeyexa
xor     ecx, ecx
cmp     eax, ecx
jz      short loc_277d82f4
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+phkresult]
push    eax
push    ecx
push    2001fh
push    ecx
push    offset byte_2782b688
lea     eax, [ebp+subkey]
push    ecx
push    eax
push    edi
call    ds:regcreatekeyexa
test    eax, eax
jnz     short loc_277d82fd
push    [ebp+var_4]
lea     eax, [ebp+subkey]
push    ebx
push    [ebp+arg_0]
push    offset assld_2
push    eax
call    esi
add     esp, 14h
lea     eax, [ebp+subkey]
push    eax
call    ds:lstrlena
inc     eax
push    eax
lea     eax, [ebp+subkey]
push    eax
push    1
push    0
push    0
push    [ebp+phkresult]
call    ds:regsetvalueexa
push    [ebp+phkresult]
call    ds:regclosekey
push    1
pop     eax
jmp     loc_277d8248
push    ebp
mov     ebp, esp
sub     esp, 10ch
lea     eax, [ebp+phkresult]
push    esi
push    eax
xor     esi, esi
push    0f003fh
push    esi
push    [ebp+lpsubkey]
push    [ebp+hkey]
call    ds:regopenkeyexa
cmp     eax, esi
jz      short loc_277d8330
xor     eax, eax
pop     esi
leave
retn
push    esi
push    esi
push    esi
lea     eax, [ebp+cchname]
push    esi
push    eax
lea     eax, [ebp+name]
mov     [ebp+cchname], 104h
push    eax
push    esi
push    [ebp+phkresult]
call    ds:regenumkeyexa
cmp     eax, esi
jnz     short loc_277d8369
lea     eax, [ebp+name]
push    eax
push    [ebp+phkresult]
call    sub_277d8305
pop     ecx
cmp     eax, esi
pop     ecx
jnz     short loc_277d8330
push    [ebp+phkresult]
call    ds:regclosekey
push    [ebp+lpsubkey]
push    [ebp+hkey]
call    ds:regdeletekeya
xor     ecx, ecx
cmp     eax, esi
setz    cl
mov     eax, ecx
jmp     short loc_277d832d
push    ebp
mov     ebp, esp
sub     esp, 110h
mov     eax, [ebp+arg_c]
push    ebx
xor     ebx, ebx
push    esi
cmp     eax, ebx
push    edi
jz      short loc_277d83a0
mov     [eax], ebx
mov     eax, [ebp+arg_10]
cmp     eax, ebx
jz      short loc_277d83ad
mov     dword ptr [eax], 1
mov     esi, ds:regopenkeyexa
lea     eax, [ebp+phkresult]
mov     edi, 0f003fh
push    eax
push    edi
push    ebx
push    offset byte_2782b68c
push    80000000h
mov     [ebp+var_4], ebx
call    esi
cmp     eax, ebx
jz      short loc_277d83d8
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
push    20h
pop     ebx
cmp     [ebp+arg_8], ebx
jz      short loc_277d8413
push    ebx
lea     eax, [ebp+subkey]
push    [ebp+arg_4]
push    [ebp+arg_0]
push    offset assld_3
push    eax
call    ds:wsprintfa
add     esp, 14h
lea     eax, [ebp+hkey]
push    eax
push    edi
lea     eax, [ebp+subkey]
push    0
push    eax
push    [ebp+phkresult]
call    esi
test    eax, eax
jz      short loc_277d8430
dec     ebx
test    ebx, ebx
jg      short loc_277d83db
mov     eax, [ebp+arg_10]
test    eax, eax
jz      short loc_277d8422
and     dword ptr [eax], 0
push    [ebp+phkresult]
call    ds:regclosekey
mov     eax, [ebp+var_4]
jmp     short loc_277d83d3
mov     eax, [ebp+arg_c]
mov     [ebp+var_4], 1
test    eax, eax
jz      short loc_277d8440
mov     [eax], ebx
push    [ebp+hkey]
call    ds:regclosekey
jmp     short loc_277d8418
push    ebp
mov     ebp, esp
sub     esp, 10ch
push    esi
push    edi
push    [ebp+phkresult]
mov     edi, ds:wsprintfa
lea     eax, [ebp+subkey]
push    [ebp+arg_4]
push    [ebp+arg_0]
push    offset assld_4
push    eax
call    edi
add     esp, 14h
lea     eax, [ebp+phkresult]
mov     esi, 80000000h
push    eax
push    0f003fh
lea     eax, [ebp+subkey]
push    0
push    eax
push    esi
call    ds:regopenkeyexa
test    eax, eax
jz      short loc_277d849e
xor     eax, eax
pop     edi
pop     esi
leave
retn
push    [ebp+arg_4]
lea     eax, [ebp+subkey]
push    [ebp+arg_0]
push    offset ass_4
push    eax
call    edi
add     esp, 10h
lea     eax, [ebp+subkey]
push    eax
push    esi
call    sub_277d8305
pop     ecx
lea     eax, [ebp+dwdisposition]
pop     ecx
push    eax
lea     eax, [ebp+hkey]
push    eax
push    0
push    2001fh
push    0
push    offset byte_2782b690
lea     eax, [ebp+subkey]
push    0
push    eax
push    esi
call    ds:regcreatekeyexa
mov     edi, eax
test    edi, edi
jnz     short loc_277d8506
push    [ebp+hkey]
push    [ebp+phkresult]
call    sub_277d8522
pop     ecx
pop     ecx
xor     ecx, ecx
test    eax, eax
setz    cl
mov     edi, ecx
push    [ebp+phkresult]
mov     esi, ds:regclosekey
call    esi
push    [ebp+hkey]
call    esi
xor     eax, eax
test    edi, edi
setz    al
jmp     loc_277d849a
push    ebp
mov     ebp, esp
sub     esp, 128h
push    ebx
push    esi
lea     eax, [ebp+cbdata]
push    edi
push    eax
lea     eax, [ebp+data]
push    eax
lea     eax, [ebp+type]
xor     esi, esi
push    eax
push    esi
push    esi
push    [ebp+hkey]
mov     [ebp+cbdata], 104h
call    ds:regqueryvalueexa
cmp     eax, esi
jnz     short loc_277d8574
push    [ebp+cbdata]
lea     eax, [ebp+data]
push    eax
push    [ebp+type]
push    esi
push    esi
push    [ebp+arg_4]
call    ds:regsetvalueexa
cmp     eax, esi
mov     [ebp+var_10], eax
jz      short loc_277d857b
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
lea     eax, [ebp+ftlastwritetime]
mov     ebx, ds:regenumkeyexa
push    eax
push    esi
push    esi
lea     eax, [ebp+cbdata]
push    esi
push    eax
lea     eax, [ebp+data]
mov     [ebp+dwindex], esi
push    eax
push    esi
push    [ebp+hkey]
call    ebx
test    eax, eax
jnz     loc_277d8633
mov     edi, ds:regclosekey
lea     eax, [ebp+phkresult]
push    eax
push    0f003fh
lea     eax, [ebp+data]
push    esi
push    eax
push    [ebp+hkey]
call    ds:regopenkeyexa
cmp     eax, esi
mov     [ebp+var_10], eax
jnz     short loc_277d8633
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+var_14]
push    eax
push    esi
push    2001fh
push    esi
push    offset byte_2782b694
lea     eax, [ebp+data]
push    esi
push    eax
push    [ebp+arg_4]
call    ds:regcreatekeyexa
cmp     eax, esi
mov     [ebp+var_10], eax
jnz     short loc_277d8640
push    [ebp+var_14]
push    [ebp+phkresult]
call    sub_277d8522
pop     ecx
pop     ecx
push    [ebp+phkresult]
call    edi
push    [ebp+var_14]
call    edi
lea     eax, [ebp+ftlastwritetime]
inc     [ebp+dwindex]
push    eax
push    esi
push    esi
lea     eax, [ebp+cbdata]
push    esi
push    eax
lea     eax, [ebp+data]
push    eax
push    [ebp+dwindex]
push    [ebp+hkey]
call    ebx
test    eax, eax
jz      loc_277d85aa
xor     eax, eax
cmp     [ebp+var_10], esi
setz    al
jmp     loc_277d8576
push    [ebp+phkresult]
call    edi
jmp     short loc_277d8633
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
cmp     [ebp+usize], 0
push    edi
mov     esi, offset ahelp
lea     edi, [ebp+string]
movsd
movsw
jnz     short loc_277d8665
xor     eax, eax
pop     edi
pop     esi
leave
retn
push    [ebp+usize]
push    [ebp+lpbuffer]
call    ds:getwindowsdirectorya
mov     esi, eax
lea     eax, [ebp+string]
push    eax
call    ds:lstrlena
add     esi, eax
cmp     esi, [ebp+usize]
jnb     short loc_277d8691
lea     eax, [ebp+string]
push    eax
push    [ebp+lpbuffer]
call    ds:lstrcata
mov     eax, esi
jmp     short loc_277d8661
push    ebp
mov     ebp, esp
sub     esp, 210h
push    ebx
lea     eax, [ebp+var_10c]
push    esi
push    eax
push    [ebp+phkresult]
call    sub_277d76bd
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d8729
lea     eax, [ebp+var_10c]
push    eax
lea     eax, [ebp+subkey]
push    offset aclsids_2
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+dwdisposition]
push    eax
lea     eax, [ebp+phkresult]
push    eax
push    0
push    20019h
push    0
push    offset byte_2782b698
lea     eax, [ebp+subkey]
push    0
push    eax
push    80000000h
call    ds:regcreatekeyexa
test    eax, eax
jnz     short loc_277d8729
lea     eax, [ebp+hkey]
push    eax
push    0f003fh
push    0
push    offset aimplementedcat
push    [ebp+phkresult]
call    ds:regopenkeyexa
push    [ebp+phkresult]
mov     esi, ds:regclosekey
mov     ebx, eax
call    esi
test    ebx, ebx
jz      short loc_277d872f
xor     eax, eax
pop     esi
pop     ebx
leave
retn
push    [ebp+hkey]
call    esi
push    1
pop     eax
jmp     short loc_277d872b
push    ebp
mov     ebp, esp
sub     esp, 104h
push    [ebp+phkresult]
lea     eax, [ebp+subkey]
push    offset asinprocserver
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+phkresult]
push    eax
push    0f003fh
lea     eax, [ebp+subkey]
push    0
push    eax
push    [ebp+hkey]
call    ds:regopenkeyexa
test    eax, eax
jz      short loc_277d877d
xor     eax, eax
leave
retn
push    [ebp+phkresult]
call    ds:regclosekey
push    1
pop     eax
leave
retn
push    esi
mov     esi, [esp+4+lpstring]
push    esi
call    ds:lstrlena
lea     eax, [eax+esi-1]
cmp     eax, esi
jb      short loc_277d87aa
cmp     byte ptr [eax], 2eh
jz      short loc_277d87a7
dec     eax
jmp     short loc_277d879b
inc     eax
pop     esi
retn
xor     eax, eax
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 16ch
push    esi
push    2
pop     esi
lea     eax, [ebp+filename]
push    104h
push    eax
push    hinstance
call    ds:getmodulefilenamea
test    eax, eax
jz      short loc_277d8832
lea     eax, [ebp+var_68]
push    eax
lea     eax, [ebp+filename]
push    eax
call    sub_277d8846
test    eax, eax
jz      short loc_277d8832
lea     eax, [ebp+var_34]
push    eax
push    [ebp+arg_0]
call    sub_277d8846
test    eax, eax
jz      short loc_277d8832
cmp     [ebp+arg_4], 0
jz      short loc_277d8820
mov     eax, [ebp+var_60]
mov     ecx, [ebp+var_2c]
shr     eax, 10h
shr     ecx, 10h
cmp     cx, ax
jnz     short loc_277d8819
xor     eax, eax
pop     esi
leave
retn    8
sbb     eax, eax
and     al, 0feh
inc     eax
jmp     short loc_277d8814
mov     ecx, [ebp+var_60]
mov     eax, [ebp+var_5c]
cmp     ecx, [ebp+var_2c]
jnz     short loc_277d8836
cmp     eax, [ebp+var_28]
jnz     short loc_277d8836
xor     esi, esi
mov     eax, esi
jmp     short loc_277d8814
cmp     ecx, [ebp+var_2c]
jnz     short loc_277d883e
cmp     [ebp+var_28], eax
sbb     esi, esi
and     esi, 0fffffffeh
inc     esi
jmp     short loc_277d8832
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
push    0dh
xor     eax, eax
pop     ecx
xor     ebx, ebx
rep stosd
lea     eax, [ebp+var_8]
mov     [ebp+var_8], ebx
push    eax
mov     [ebp+var_c], ebx
push    [ebp+arg_0]
mov     [ebp+var_4], ebx
call    sub_277d88f4
mov     esi, eax
pop     ecx
test    esi, esi
pop     ecx
jz      short loc_277d88d7
push    esi
push    ebx
push    dword_278282f0
call    ds:heapalloc
mov     ebx, eax
test    ebx, ebx
jz      short loc_277d88ea
push    ebx
push    esi
push    [ebp+var_8]
push    [ebp+arg_0]
call    sub_277d8957
add     esp, 10h
mov     [ebp+var_4], eax
test    eax, eax
jz      short loc_277d88d7
lea     eax, [ebp+var_c]
push    eax
lea     eax, [ebp+var_10]
push    eax
push    offset asc_2782aef0
push    ebx
call    sub_277d89c2
add     esp, 10h
mov     [ebp+var_4], eax
test    eax, eax
jz      short loc_277d88d7
mov     ecx, [ebp+var_c]
mov     esi, [ebp+var_10]
mov     edi, [ebp+arg_4]
mov     eax, ecx
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
test    ebx, ebx
jz      short loc_277d88ea
push    ebx
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    esi
mov     esi, offset criticalsection
push    esi
call    ds:entercriticalsection
cmp     dword_2782c290, 0
jnz     short loc_277d8940
mov     eax, dword_278282f8
test    eax, eax
jnz     short loc_277d8927
push    offset aversiondll
call    ds:loadlibrarya
test    eax, eax
mov     dword_278282f8, eax
jz      short loc_277d893c
push    offset agetfileversion
push    eax
call    ds:getprocaddress
test    eax, eax
mov     dword_2782c290, eax
jnz     short loc_277d8940
xor     eax, eax
pop     esi
retn
push    esi
call    ds:leavecriticalsection
push    [esp+4+arg_4]
push    [esp+8+arg_0]
call    dword_2782c290
pop     esi
retn
push    esi
mov     esi, offset criticalsection
push    esi
call    ds:entercriticalsection
cmp     dword_2782c28c, 0
jnz     short loc_277d89a3
mov     eax, dword_278282f8
test    eax, eax
jnz     short loc_277d898a
push    offset aversiondll_0
call    ds:loadlibrarya
test    eax, eax
mov     dword_278282f8, eax
jz      short loc_277d899f
push    offset agetfileversion_0
push    eax
call    ds:getprocaddress
test    eax, eax
mov     dword_2782c28c, eax
jnz     short loc_277d89a3
xor     eax, eax
pop     esi
retn
push    esi
call    ds:leavecriticalsection
push    [esp+4+arg_c]
push    [esp+8+arg_8]
push    [esp+0ch+arg_4]
push    [esp+10h+arg_0]
call    dword_2782c28c
pop     esi
retn
push    esi
mov     esi, offset criticalsection
push    esi
call    ds:entercriticalsection
cmp     dword_2782c288, 0
jnz     short loc_277d8a0e
mov     eax, dword_278282f8
test    eax, eax
jnz     short loc_277d89f5
push    offset aversiondll_1
call    ds:loadlibrarya
test    eax, eax
mov     dword_278282f8, eax
jz      short loc_277d8a0a
push    offset averqueryvaluea
push    eax
call    ds:getprocaddress
test    eax, eax
mov     dword_2782c288, eax
jnz     short loc_277d8a0e
xor     eax, eax
pop     esi
retn
push    esi
call    ds:leavecriticalsection
push    [esp+4+arg_c]
push    [esp+8+arg_8]
push    [esp+0ch+arg_4]
push    [esp+10h+arg_0]
call    dword_2782c288
pop     esi
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    esi
test    eax, eax
push    edi
jz      short loc_277d8a8d
mov     esi, [ebp+arg_8]
test    esi, esi
jz      short loc_277d8a8d
mov     ecx, [eax]
and     word ptr [esi], 0
lea     edx, [ebp+arg_0]
push    edx
push    [ebp+arg_4]
push    eax
call    dword ptr [ecx+18h]
mov     edi, eax
test    edi, edi
jl      short loc_277d8a87
mov     eax, [ebp+arg_0]
lea     edx, [ebp+arg_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
mov     edi, eax
test    edi, edi
jl      short loc_277d8a7e
mov     eax, [ebp+arg_8]
push    eax
mov     cx, [eax+36h]
mov     [esi], cx
mov     ecx, [ebp+arg_0]
push    ecx
mov     edx, [ecx]
call    dword ptr [edx+4ch]
mov     eax, [ebp+arg_0]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, edi
pop     edi
pop     esi
pop     ebp
retn
mov     eax, 80004003h
jmp     short loc_277d8a89
push    esi
mov     esi, ecx
call    sub_277b58fd
test    [esp+4+arg_0], 1
jz      short loc_277d8ab6
test    esi, esi
jz      short loc_277d8ab6
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
mov     eax, [ebx-44h]
xor     edi, edi
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+4ah]
cmp     ax, di
jnz     short loc_277d8ae6
mov     eax, [ebp+arg_4]
mov     [eax], edi
mov     [eax+4], edi
xor     eax, eax
jmp     short loc_277d8b01
mov     esi, [ebp+arg_4]
movzx   eax, ax
mov     [esi], eax
shl     eax, 4
push    eax
call    ds:cotaskmemalloc
cmp     eax, edi
jnz     short loc_277d8b08
mov     eax, 8007000eh
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     ecx, [ebx-44h]
mov     ebx, [esi]
cmp     ebx, edi
mov     [esi+4], eax
mov     ecx, off_278286a4[ecx*8]
mov     [ebp+arg_4], edi
mov     edx, [ecx+4ch]
jbe     short loc_277d8ae2
xor     ecx, ecx
mov     esi, [edx+ecx*4]
mov     edi, ecx
shl     edi, 4
add     edi, eax
inc     [ebp+arg_4]
movsd
movzx   ecx, word ptr [ebp+arg_4]
movsd
movsd
cmp     ecx, ebx
movsd
jnb     short loc_277d8ae2
jmp     short loc_277d8b23
push    ebp
mov     ebp, esp
mov     eax, [ebp+msg]
push    esi
mov     esi, [ebp+hwnd]
push    edi
mov     edi, [ebp+lparam]
sub     eax, 5
jz      short loc_277d8b71
dec     eax
dec     eax
jnz     short loc_277d8b9a
push    0ffffffebh
push    esi
call    ds:getwindowlonga
test    eax, eax
jz      short loc_277d8b9a
push    1
mov     ecx, eax
call    sub_277b5460
pop     edi
pop     esi
pop     ebp
retn    10h
push    0ffffffebh
push    esi
call    ds:getwindowlonga
test    eax, eax
jz      short loc_277d8b9a
mov     ecx, edi
push    1
shr     ecx, 10h
push    ecx
movzx   ecx, di
push    ecx
push    0
push    0
push    dword ptr [eax+0a0h]
call    ds:movewindow
lea     eax, [ebp+lparam]
push    eax
push    edi
push    [ebp+wparam]
push    [ebp+msg]
push    esi
call    sub_277b16a2
add     esp, 14h
test    eax, eax
jz      short loc_277d8bb7
mov     eax, [ebp+lparam]
jmp     short loc_277d8b6b
push    edi
push    [ebp+wparam]
push    [ebp+msg]
push    esi
call    ds:defwindowproca
jmp     short loc_277d8b6b
push    1
pop     eax
retn    0ch
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
add     eax, 0ffffff98h
mov     [ecx], eax
add     eax, 1ch
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
xor     eax, eax
retn    8
sub     dword ptr [esp+4], 1ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 1ch
mov     eax, [esp+4]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+4]
retn    4
sub     dword ptr [esp+4], 1ch
mov     eax, [esp+4]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+8]
retn    4
sub     dword ptr [esp+4], 20h
jmp     sub_277b516f
sub     dword ptr [esp+4], 20h
jmp     short loc_277d8bf7
sub     dword ptr [esp+4], 20h
jmp     short loc_277d8c0c
sub     dword ptr [esp+4], 24h
jmp     sub_277b516f
sub     dword ptr [esp+4], 24h
jmp     short loc_277d8bf7
sub     dword ptr [esp+4], 24h
jmp     short loc_277d8c0c
sub     dword ptr [esp+4], 28h
jmp     sub_277b516f
sub     dword ptr [esp+4], 28h
jmp     short loc_277d8bf7
sub     dword ptr [esp+4], 28h
jmp     short loc_277d8c0c
sub     dword ptr [esp+4], 2ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 2ch
jmp     short loc_277d8bf7
sub     dword ptr [esp+4], 2ch
jmp     short loc_277d8c0c
sub     dword ptr [esp+4], 30h
jmp     sub_277b516f
sub     dword ptr [esp+4], 30h
jmp     loc_277d8bf7
sub     dword ptr [esp+4], 30h
jmp     loc_277d8c0c
sub     dword ptr [esp+4], 34h
jmp     sub_277b516f
sub     dword ptr [esp+4], 34h
jmp     loc_277d8bf7
sub     dword ptr [esp+4], 34h
jmp     loc_277d8c0c
sub     dword ptr [esp+4], 38h
jmp     sub_277b516f
sub     dword ptr [esp+4], 38h
jmp     loc_277d8bf7
sub     dword ptr [esp+4], 38h
jmp     loc_277d8c0c
sub     dword ptr [esp+4], 3ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 3ch
jmp     loc_277d8bf7
sub     dword ptr [esp+4], 3ch
jmp     loc_277d8c0c
sub     dword ptr [esp+4], 40h
jmp     sub_277b516f
sub     dword ptr [esp+4], 40h
jmp     loc_277d8bf7
sub     dword ptr [esp+4], 40h
jmp     loc_277d8c0c
sub     dword ptr [esp+4], 44h
jmp     sub_277b516f
sub     dword ptr [esp+4], 44h
jmp     loc_277d8bf7
sub     dword ptr [esp+4], 44h
jmp     loc_277d8c0c
sub     dword ptr [esp+4], 48h
jmp     sub_277b516f
sub     dword ptr [esp+4], 48h
jmp     loc_277d8bf7
sub     dword ptr [esp+4], 48h
jmp     loc_277d8c0c
sub     dword ptr [esp+4], 4ch
jmp     sub_277b516f
sub     dword ptr [esp+4], 4ch
jmp     loc_277d8bf7
sub     dword ptr [esp+4], 4ch
jmp     loc_277d8c0c
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax-4ch]
mov     eax, off_278286a4[eax*8]
mov     eax, [eax+38h]
mov     [ecx], eax
xor     eax, eax
retn    8
xor     eax, eax
retn    14h
xor     eax, eax
retn    18h
mov     eax, [esp+arg_0]
push    [esp+arg_4]
add     eax, 0ffffffd4h
push    1
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+44h]
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
add     eax, 0ffffffd4h
push    1
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+48h]
retn    8
mov     eax, [esp+arg_4]
xor     ecx, ecx
mov     [eax+4], ecx
mov     [eax+8], cx
mov     [eax+0ch], ecx
xor     eax, eax
retn    8
mov     eax, [esp+arg_0]
push    0fffffffch
lea     ecx, [eax-3ch]
call    sub_277b48e2
retn    8
mov     eax, 80004001h
retn    0ch
mov     eax, [esp+arg_8]
and     dword ptr [eax], 0
mov     eax, 80004001h
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
push    ebx
push    esi
push    edi
mov     eax, [eax-24h]
mov     ecx, off_278286a4[eax*8]
mov     eax, [ecx+34h]
test    ah, 4
jz      short loc_277d8e6d
test    ah, 1
jnz     short loc_277d8e6d
xor     esi, esi
not     eax
shr     eax, 0eh
and     eax, 1
xor     edi, edi
mov     [ebp+var_4], eax
xor     eax, eax
cmp     [ecx+4ah], di
mov     ebx, esi
setnz   al
mov     [ebp+var_8], eax
movzx   eax, word ptr [ecx+50h]
xor     ecx, ecx
cmp     [ebp+var_8], edi
mov     [ebp+var_c], eax
setnz   cl
xor     edx, edx
cmp     [ebp+var_4], edi
setnz   dl
add     edx, eax
neg     ebx
sbb     ebx, ebx
add     edx, ecx
and     ebx, 4
add     ebx, edx
jnz     short loc_277d8e72
mov     eax, 80040180h
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    1
pop     esi
jmp     short loc_277d8e20
mov     eax, ebx
shl     eax, 4
push    eax
push    edi
push    dword_278282f0
call    ds:heapalloc
cmp     eax, edi
mov     [ebp+var_10], eax
jz      loc_277d8f2f
cmp     esi, edi
jz      short loc_277d8ea3
push    10h
mov     esi, offset dword_277cb110
pop     ecx
mov     edi, eax
rep movsd
add     eax, 40h
cmp     [ebp+var_4], 0
jz      short loc_277d8eb7
mov     edi, eax
mov     esi, offset dword_277cb160
movsd
movsd
movsd
add     eax, 10h
movsd
cmp     [ebp+var_8], 0
jz      short loc_277d8ecb
mov     esi, offset dword_277cb150
mov     edi, eax
movsd
movsd
movsd
movsd
add     eax, 10h
mov     ecx, [ebp+var_c]
test    ecx, ecx
jz      short loc_277d8ef5
mov     edx, [ebp+arg_0]
mov     edi, eax
shl     ecx, 4
mov     edx, [edx-24h]
mov     eax, ecx
shr     ecx, 2
mov     edx, off_278286a4[edx*8]
mov     esi, [edx+54h]
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
push    dword_278282f0
push    40h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d8f39
push    offset sub_277da70a
mov     ecx, eax
push    [ebp+var_10]
push    10h
push    ebx
push    offset dword_277cb418
call    sub_277da7fe
lea     ecx, [eax+14h]
neg     eax
sbb     eax, eax
and     eax, ecx
mov     ecx, [ebp+arg_4]
mov     [ecx], eax
jnz     short loc_277d8f3d
mov     eax, 8007000eh
jmp     loc_277d8e66
xor     eax, eax
jmp     short loc_277d8f1f
mov     eax, [ebp+arg_0]
lea     ecx, [eax-38h]
mov     eax, [eax-38h]
call    dword ptr [eax+28h]
xor     eax, eax
jmp     loc_277d8e66
mov     eax, [esp+arg_0]
push    [esp+arg_4]
add     eax, 14h
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
retn    8
mov     eax, [esp+arg_0]
push    1
mov     eax, [eax-24h]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+4]
call    sub_277b7d29
pop     ecx
pop     ecx
mov     ecx, [esp+arg_8]
mov     [ecx], eax
neg     eax
sbb     eax, eax
and     eax, 7ff8fff2h
add     eax, 8007000eh
retn    0ch
test    [esp+arg_4], 1
jz      short loc_277d8fb4
mov     eax, [esp+arg_0]
push    [esp+arg_8]
add     eax, 50h
push    eax
call    sub_277b921f
pop     ecx
xor     eax, eax
pop     ecx
retn    0ch
mov     eax, 8004006bh
jmp     short locret_277d8fb1
mov     eax, [esp+arg_0]
push    esi
cmp     dword ptr [eax+70h], 0
lea     esi, [eax+70h]
jnz     short loc_277d8fd4
push    esi
call    ds:createoleadviseholder
test    eax, eax
jl      short loc_277d8fe4
push    [esp+4+arg_8]
mov     esi, [esi]
push    [esp+8+arg_4]
mov     eax, [esi]
push    esi
call    dword ptr [eax+0ch]
pop     esi
retn    0ch
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     eax, [eax+70h]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
retn    8
mov     eax, [esp+arg_0]
mov     eax, [eax+70h]
test    eax, eax
jnz     short loc_277d9016
mov     eax, [esp+arg_4]
and     dword ptr [eax], 0
mov     eax, 80004005h
retn    8
push    [esp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
jmp     short locret_277d9013
cmp     [esp+arg_4], 1
jnz     short loc_277d9045
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_8]
mov     eax, [eax-24h]
mov     eax, off_278286a4[eax*8]
mov     eax, [eax+34h]
mov     [ecx], eax
xor     eax, eax
retn    0ch
mov     eax, 8004006bh
jmp     short locret_277d9042
mov     eax, 80004001h
retn    4
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
cmp     edi, 7
jb      short loc_277d9085
cmp     edi, 8
ja      short loc_277d9085
test    byte ptr [esi+70h], 2
jz      short loc_277d9085
mov     eax, [esi+30h]
test    eax, eax
jz      short loc_277d9085
mov     ecx, [eax]
xor     edx, edx
cmp     edi, 7
setz    dl
push    edx
push    eax
call    dword ptr [ecx+20h]
push    [ebp+arg_c]
mov     eax, [esi-40h]
lea     ecx, [esi-40h]
push    [ebp+arg_8]
push    edi
call    dword ptr [eax+4ch]
mov     ecx, [ebp+arg_10]
pop     edi
pop     esi
mov     [ecx], eax
xor     eax, eax
pop     ebp
retn    14h
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     eax, [esi-44h]
push    [esp+8+arg_4]
lea     ecx, [esi-44h]
call    dword ptr [eax+68h]
test    eax, eax
jz      short loc_277d90c0
xor     eax, eax
pop     edi
pop     esi
retn    8
mov     eax, [esi+2ch]
test    eax, eax
jz      short loc_277d90de
mov     edi, [eax]
call    sub_277da6cf
movsx   eax, ax
push    eax
push    [esp+0ch+arg_4]
push    dword ptr [esi+2ch]
call    dword ptr [edi+1ch]
jmp     short loc_277d90bb
push    1
pop     eax
jmp     short loc_277d90bb
mov     eax, [esp+arg_0]
test    byte ptr [eax+6ch], 8
jz      short loc_277d90ff
cmp     [esp+arg_4], 0
jz      short loc_277d90ff
mov     eax, [eax+34h]
push    0
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+1ch]
xor     eax, eax
retn    8
xor     eax, eax
retn    10h
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+pptlib]
push    esi
mov     esi, offset criticalsection
and     dword ptr [ebx], 0
push    edi
push    esi
call    ds:entercriticalsection
mov     edi, [ebp+arg_0]
lea     ecx, [ebp+pptlib]
push    ecx
mov     eax, [edi-48h]
movzx   ecx, word ptr lcid
mov     eax, off_278286a4[eax*8]
push    ecx
mov     cx, [eax+1ch]
mov     ax, [eax+18h]
push    ecx
push    eax
push    phkresult
call    ds:loadregtypelib
push    esi
mov     [ebp+arg_0], eax
call    ds:leavecriticalsection
mov     eax, [ebp+arg_0]
test    eax, eax
jl      short loc_277d9188
mov     edx, [edi-48h]
mov     eax, [ebp+pptlib]
push    ebx
mov     edx, off_278286a4[edx*8]
mov     ecx, [eax]
push    dword ptr [edx]
push    eax
call    dword ptr [ecx+18h]
mov     esi, eax
mov     eax, [ebp+pptlib]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    esi, esi
jge     short loc_277d918f
mov     eax, esi
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
xor     eax, eax
jmp     short loc_277d9188
mov     eax, 40180h
retn    4
push    1
pop     eax
retn    4
mov     eax, [ecx+78h]
test    eax, eax
jz      short locret_277d91b8
mov     ecx, [eax]
xor     edx, edx
cmp     [esp+arg_0], edx
setz    dl
push    edx
push    eax
call    dword ptr [ecx+34h]
retn    4
mov     eax, [esp+arg_0]
add     eax, 0fffffff8h
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
retn    8
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
lea     edx, [ebp+arg_4]
push    edx
push    0
mov     ecx, [eax]
push    10h
push    0
push    offset acontents
push    eax
call    dword ptr [ecx+10h]
test    eax, eax
jl      short loc_277d9208
mov     eax, [ebp+arg_0]
push    esi
push    [ebp+arg_4]
add     eax, 0fffffffch
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
mov     esi, eax
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, esi
pop     esi
pop     ebp
retn    8
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
lea     edx, [ebp+arg_4]
push    edx
push    0
mov     ecx, [eax]
push    0
push    1011h
push    offset acontents
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jl      short loc_277d926d
push    edi
push    esi
mov     esi, [ebp+arg_0]
push    [ebp+arg_4]
or      byte ptr [esi+69h], 1
lea     ecx, [esi-54h]
call    sub_277b9b73
and     byte ptr [esi+69h], 0feh
mov     ecx, [esi+5ch]
mov     edi, eax
xor     eax, eax
test    edi, edi
setnl   al
and     eax, 1
and     ecx, 0ffffffdfh
shl     eax, 5
or      eax, ecx
mov     [esi+5ch], eax
mov     eax, [ebp+arg_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, edi
pop     esi
pop     edi
pop     ebp
retn    0ch
mov     ecx, [esp+arg_0]
mov     eax, [ecx+5ch]
mov     edx, eax
shr     edx, 5
test    dl, 1
jz      short loc_277d9294
and     al, 0feh
mov     [ecx+5ch], eax
mov     ecx, [ecx+54h]
test    ecx, ecx
jz      short loc_277d9294
mov     eax, [ecx]
push    ecx
call    dword ptr [eax+1ch]
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 38h
mov     eax, [ebp+arg_4]
and     [ebp+var_8], 0
and     [ebp+var_1], 0
and     [ebp+var_2], 0
push    ebx
push    esi
dec     eax
push    edi
jz      short loc_277d92ca
sub     eax, 0fh
jz      short loc_277d92ca
sub     eax, 10h
jz      short loc_277d92ca
mov     eax, 8004006bh
pop     edi
pop     esi
pop     ebx
leave
retn    2ch
mov     ebx, [ebp+hdc]
push    2
push    ebx
call    ds:getdevicecaps
cmp     eax, 5
jnz     short loc_277d92f5
cmp     [ebp+arg_14], 0
mov     [ebp+var_1], 1
jnz     short loc_277d92f5
push    [ebp+arg_10]
call    sub_277d95b8
pop     ecx
mov     [ebp+arg_14], eax
mov     [ebp+var_2], 1
mov     eax, [ebp+arg_c]
test    eax, eax
jz      short loc_277d930a
cmp     dword ptr [eax], 8
jnz     short loc_277d930a
mov     eax, [eax+4]
and     eax, 1
mov     [ebp+var_8], eax
mov     esi, [ebp+arg_1c]
test    esi, esi
jnz     loc_277d93a6
mov     eax, [ebp+arg_0]
lea     edi, [ebp+pt]
lea     esi, [eax+48h]
movsd
movsd
movsd
movsd
xor     esi, esi
push    [ebp+var_8]
mov     eax, [ebp+arg_0]
lea     edx, [ebp+pt]
add     eax, 0ffffffb8h
push    [ebp+arg_14]
mov     ecx, [eax]
push    [ebp+arg_20]
push    edx
push    ebx
push    [ebp+arg_4]
push    eax
call    dword ptr [ecx+48h]
cmp     [ebp+arg_1c], esi
mov     edi, eax
jz      short loc_277d9390
cmp     [ebp+var_1], 0
jnz     short loc_277d9390
push    esi
push    [ebp+y]
push    [ebp+x]
push    ebx
call    ds:setwindoworgex
push    esi
push    [ebp+var_18.y]
push    [ebp+var_18.x]
push    ebx
call    ds:setviewportorgex
push    esi
push    [ebp+size.cy]
push    [ebp+size._cx]
push    ebx
call    ds:setwindowextex
push    esi
push    [ebp+var_28.cy]
push    [ebp+var_28._cx]
push    ebx
call    ds:setviewportextex
push    [ebp+hdc]
push    ebx
call    ds:setmapmode
cmp     [ebp+var_2], 0
jz      short loc_277d939f
push    [ebp+arg_14]
call    ds:deletedc
mov     eax, edi
jmp     loc_277d92c3
lea     edi, [ebp+pt]
cmp     [ebp+var_1], 0
movsd
movsd
movsd
movsd
jnz     loc_277d9322
lea     eax, [ebp+pt]
push    2
push    eax
push    ebx
call    ds:lptodp
lea     eax, [ebp+var_18]
xor     esi, esi
push    eax
push    esi
push    esi
push    ebx
call    ds:setviewportorgex
lea     eax, [ebp+x]
push    eax
push    esi
push    esi
push    ebx
call    ds:setwindoworgex
lea     eax, [ebp+size]
push    eax
push    ebx
call    ds:getwindowextex
lea     eax, [ebp+var_28]
push    eax
push    ebx
call    ds:getviewportextex
push    1
push    ebx
call    ds:setmapmode
mov     [ebp+hdc], eax
jmp     loc_277d9324
cmp     [esp+arg_4], 1
jz      short loc_277d9416
mov     eax, 8004006bh
retn    1ch
mov     eax, [esp+arg_0]
push    esi
mov     esi, [esp+4+arg_18]
lea     ecx, [eax-48h]
push    esi
push    [esp+8+arg_14]
and     dword ptr [esi], 0
mov     eax, [ecx]
call    dword ptr [eax+6ch]
test    eax, eax
jz      short loc_277d943d
xor     eax, eax
cmp     [esi], eax
setz    al
pop     esi
jmp     short locret_277d9413
mov     eax, 80004001h
jmp     short loc_277d943a
mov     eax, 80004001h
retn    14h
mov     eax, [esp+arg_4]
push    ebx
push    esi
push    1
test    eax, eax
pop     edx
jz      short loc_277d945b
mov     [eax], edx
mov     eax, [esp+8+arg_8]
mov     esi, [esp+8+arg_0]
test    eax, eax
jz      short loc_277d9486
mov     ecx, [esi+74h]
and     dword ptr [eax], 0
mov     ebx, ecx
shr     ebx, 4
test    dl, bl
jz      short loc_277d947c
mov     dword ptr [eax], 4
shr     ecx, 3
test    dl, cl
jz      short loc_277d9486
or      dword ptr [eax], 2
mov     ecx, [esp+8+arg_c]
test    ecx, ecx
jz      short loc_277d949d
mov     eax, [esi+70h]
test    eax, eax
mov     [ecx], eax
jz      short loc_277d949d
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
pop     esi
xor     eax, eax
pop     ebx
retn    10h
mov     eax, [esp+arg_0]
push    [esp+arg_10]
add     eax, 0fffffff0h
push    [esp+4+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+48h]
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_10]
push    edx
push    [ebp+arg_4]
lea     ecx, [eax-48h]
mov     eax, [eax-48h]
call    dword ptr [eax+7ch]
test    eax, eax
jnz     short loc_277d94e2
mov     eax, 8004006bh
leave
retn    0ch
push    esi
mov     esi, [ebp+arg_8]
lea     eax, [ebp+var_10]
push    esi
push    eax
call    sub_277b921f
pop     ecx
add     esi, 8
pop     ecx
lea     eax, [ebp+var_8]
push    esi
push    eax
call    sub_277b921f
pop     ecx
xor     eax, eax
pop     ecx
pop     esi
jmp     short locret_277d94de
mov     eax, [esp+arg_0]
xor     ecx, ecx
mov     eax, [eax-34h]
mov     eax, off_278286a4[eax*8]
cmp     [eax+3ch], cx
mov     eax, [esp+arg_4]
setnz   cl
mov     [eax], ecx
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 1
jz      short loc_277d953a
mov     eax, 8004006bh
pop     ebp
retn    1ch
push    [ebp+pt.y]
push    [ebp+pt.x]
push    [ebp+lprc]
call    ds:ptinrect
mov     ecx, [ebp+arg_18]
neg     eax
sbb     eax, eax
and     eax, 3
mov     [ecx], eax
xor     eax, eax
jmp     short loc_277d9536
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     [ebp+arg_4], 1
jz      short loc_277d956e
mov     eax, 8004006bh
leave
retn    18h
push    [ebp+lprcsrc2]
lea     eax, [ebp+rcdst]
push    [ebp+lprcsrc1]
push    eax
call    ds:intersectrect
mov     ecx, [ebp+arg_14]
neg     eax
sbb     eax, eax
and     eax, 3
mov     [ecx], eax
xor     eax, eax
jmp     short locret_277d956a
mov     eax, 80004001h
retn    1ch
push    1
pop     eax
cmp     [esp+arg_0], eax
jz      short loc_277d95a4
xor     eax, eax
retn    8
push    edi
mov     edi, [esp+4+arg_4]
push    esi
lea     esi, [ecx+90h]
movsd
movsd
movsd
movsd
pop     esi
pop     edi
jmp     short locret_277d95a1
push    ebp
mov     ebp, esp
sub     esp, 230h
mov     eax, [ebp+arg_0]
push    ebx
xor     ebx, ebx
push    esi
cmp     eax, ebx
push    edi
jnz     short loc_277d95e0
push    ebx
push    ebx
push    ebx
push    offset adisplay_1
call    ds:createdca
pop     edi
pop     esi
pop     ebx
leave
retn
mov     cx, [eax+0ah]
cmp     cx, bx
jnz     loc_277d979f
mov     [ebp+arg_0], ebx
movzx   ecx, word ptr [eax+6]
movzx   esi, word ptr [eax+4]
add     ecx, eax
mov     edi, ds:lstrlenw
mov     [ebp+lpstring], ecx
add     esi, eax
movzx   ecx, word ptr [eax+8]
add     ecx, eax
push    esi
mov     [ebp+lpwidecharstr], ecx
call    edi
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
push    ebx
push    ebx
push    [ebp+cbmultibyte]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    esi
mov     esi, ds:widechartomultibyte
push    ebx
push    ebx
call    esi
mov     eax, [ebp+lpmultibytestr]
push    [ebp+lpstring]
mov     [ebp+pwszdriver], eax
call    edi
lea     eax, [eax+eax+2]
lea     ecx, [ebp+var_94]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
push    ebx
push    ebx
push    [ebp+cbmultibyte]
push    [ebp+var_94]
push    0ffffffffh
push    [ebp+lpstring]
push    ebx
push    ebx
call    esi
mov     eax, [ebp+var_94]
push    [ebp+lpwidecharstr]
mov     [ebp+pwszdevice], eax
call    edi
lea     edi, [eax+eax+2]
lea     ecx, [ebp+var_194]
push    edi
call    sub_277b37aa
push    ebx
push    ebx
push    edi
push    [ebp+var_194]
push    0ffffffffh
push    [ebp+lpwidecharstr]
push    ebx
push    ebx
call    esi
mov     edi, [ebp+arg_0]
mov     eax, [ebp+var_194]
cmp     edi, ebx
mov     [ebp+cbmultibyte], eax
jz      loc_277d9888
push    ebx
push    ebx
lea     eax, [ebp+multibytestr]
push    20h
push    eax
push    0ffffffffh
push    edi
push    ebx
push    ebx
call    esi
push    9
lea     esi, [edi+40h]
pop     ecx
lea     edi, [ebp+var_210]
rep movsd
movsw
mov     esi, [ebp+arg_0]
push    ebx
push    ebx
lea     eax, [ebp+var_1ea]
push    20h
push    eax
lea     eax, [esi+66h]
push    0ffffffffh
push    eax
push    ebx
push    ebx
call    ds:widechartomultibyte
push    0dh
add     esi, 0a6h
pop     ecx
lea     edi, [ebp+var_1ca]
rep movsd
mov     eax, [ebp+arg_0]
movsw
mov     ax, [eax+46h]
cmp     ax, bx
jz      loc_277d987a
movzx   eax, ax
add     eax, 9ch
push    eax
push    ebx
push    dword_278282f0
call    ds:heapalloc
mov     edx, eax
cmp     edx, ebx
mov     [ebp+lpstring], edx
jnz     short loc_277d97ae
cmp     [ebp+var_194], ebx
mov     esi, ds:heapfree
jz      short loc_277d975b
test    [ebp+var_118], 1
jz      short loc_277d975b
push    [ebp+var_194]
push    ebx
push    dword_278282f0
call    esi
cmp     [ebp+var_94], ebx
jz      short loc_277d9778
test    [ebp+var_18], 1
jz      short loc_277d9778
push    [ebp+var_94]
push    ebx
push    dword_278282f0
call    esi
cmp     [ebp+lpmultibytestr], ebx
jz      short loc_277d9798
test    [ebp+var_98], 1
jz      short loc_277d9798
push    [ebp+lpmultibytestr]
push    ebx
push    dword_278282f0
call    esi
xor     eax, eax
jmp     loc_277d95db
movzx   edx, cx
mov     ecx, eax
add     ecx, edx
mov     [ebp+arg_0], ecx
jmp     loc_277d95f0
mov     eax, [ebp+arg_0]
push    27h
pop     ecx
lea     esi, [ebp+multibytestr]
mov     edi, edx
rep movsd
movzx   ecx, word ptr [eax+46h]
lea     esi, [eax+0dch]
mov     eax, ecx
lea     edi, [edx+9ch]
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
mov     [ebp+var_20c], 9ch
push    [ebp+lpstring]
push    [ebp+cbmultibyte]
push    [ebp+pwszdevice]
push    [ebp+pwszdriver]
call    ds:createdca
mov     esi, ds:heapfree
mov     edi, eax
lea     eax, [ebp+multibytestr]
cmp     [ebp+lpstring], eax
jz      short loc_277d9816
push    [ebp+lpstring]
push    ebx
push    dword_278282f0
call    esi
cmp     [ebp+var_194], ebx
jz      short loc_277d9836
test    [ebp+var_118], 1
jz      short loc_277d9836
push    [ebp+var_194]
push    ebx
push    dword_278282f0
call    esi
cmp     [ebp+var_94], ebx
jz      short loc_277d9853
test    [ebp+var_18], 1
jz      short loc_277d9853
push    [ebp+var_94]
push    ebx
push    dword_278282f0
call    esi
cmp     [ebp+lpmultibytestr], ebx
jz      short loc_277d9873
test    [ebp+var_98], 1
jz      short loc_277d9873
push    [ebp+lpmultibytestr]
push    ebx
push    dword_278282f0
call    esi
mov     eax, edi
jmp     loc_277d95db
lea     eax, [ebp+multibytestr]
mov     [ebp+lpstring], eax
jmp     loc_277d97dc
mov     [ebp+lpstring], ebx
jmp     loc_277d97e5
push    esi
mov     esi, ecx
push    offset addend
mov     dword ptr [esi], offset off_277b60d8
call    ds:interlockeddecrement
test    [esp+4+arg_0], 1
jz      short loc_277d98be
test    esi, esi
jz      short loc_277d98be
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
call    sub_277b5a47
test    byte ptr [esp+8], 1
jz      short loc_277d98e6
test    esi, esi
jz      short loc_277d98e6
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     eax, [esp+arg_4]
test    eax, eax
jnz     short loc_277d98fc
mov     eax, 80070057h
retn    8
mov     dword ptr [eax], 1
xor     eax, eax
jmp     short locret_277d98f9
mov     eax, [esp+arg_0]
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     eax, [eax+14h]
push    10h
pop     ecx
mov     eax, off_278286a4[eax*8]
mov     edi, [eax+20h]
xor     eax, eax
repe cmpsb
pop     edi
pop     esi
setnz   al
retn    8
push    0
call    sub_277b3cfd
retn
mov     eax, [esp+4]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+4]
retn    4
mov     eax, [esp+4]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+8]
retn    4
push    esi
mov     esi, ecx
call    sub_277b5a04
test    byte ptr [esp+8], 1
jz      short loc_277d9976
test    esi, esi
jz      short loc_277d9976
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    esi
push    8
push    0
push    dword_278282f0
call    ds:heapalloc
mov     esi, eax
test    esi, esi
jz      short loc_277d99eb
mov     eax, [esp+4+arg_0]
push    dword_278282f0
lea     ecx, [eax+4]
add     eax, 10h
push    40h
mov     [esi], ecx
mov     [esi+4], eax
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d99f4
push    offset loc_277d9b69
push    esi
push    4
push    2
push    offset dword_277cb438
mov     ecx, eax
call    sub_277da7fe
lea     ecx, [eax+14h]
neg     eax
sbb     eax, eax
and     eax, ecx
mov     ecx, [esp+4+arg_4]
mov     [ecx], eax
jnz     short loc_277d99f8
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, 8007000eh
pop     esi
retn    8
xor     eax, eax
jmp     short loc_277d99cb
xor     eax, eax
jmp     short loc_277d99f0
mov     edx, [esp+8]
push    ebx
push    esi
push    edi
mov     eax, [edx]
cmp     eax, ds:dword_277cb438+10h
jnz     short loc_277d9a1d
push    10h
mov     edi, (offset dword_277cb438+10h)
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jz      short loc_277d9a35
cmp     eax, ds:dword_277b6118
jnz     short loc_277d9a4d
push    10h
mov     edi, offset dword_277b6118
pop     ecx
mov     esi, edx
xor     eax, eax
repe cmpsb
jnz     short loc_277d9a4d
mov     ecx, [esp+18h]
mov     eax, [esp+10h]
push    eax
mov     [ecx], eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     eax, 80004002h
jmp     short loc_277d9a47
mov     eax, [esp+arg_0]
push    esi
push    edi
cmp     byte ptr [eax+8], 0
jnz     short loc_277d9a71
mov     eax, [eax-0ch]
mov     eax, off_278286a4[eax*8]
mov     esi, [eax+24h]
test    esi, esi
jnz     short loc_277d9a76
mov     esi, offset dword_277b6280
mov     edi, [esp+8+arg_4]
xor     eax, eax
movsd
movsd
movsd
movsd
pop     edi
pop     esi
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     cl, [eax+8]
push    offset dword_277b6230
neg     cl
sbb     ecx, ecx
and     ecx, 0ch
add     ecx, 20h
sub     eax, ecx
mov     eax, [eax+4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
retn    8
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
xor     edi, edi
mov     ax, [esi+0ah]
test    ax, ax
jz      short loc_277d9aea
movsx   eax, ax
shl     eax, 3
push    eax
push    edi
push    dword_278282f0
call    ds:heapalloc
mov     edi, eax
test    edi, edi
jz      short loc_277d9b36
mov     ax, [esi+0ah]
cmp     ax, 1
jnz     short loc_277d9b41
mov     eax, [esi+4]
mov     [edi], eax
mov     [edi+4], eax
push    dword_278282f0
push    40h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277d9b61
movsx   ecx, word ptr [esi+0ah]
push    offset loc_277d9b82
push    edi
push    8
push    ecx
push    offset dword_277cb458
mov     ecx, eax
call    sub_277da7fe
lea     ecx, [eax+14h]
neg     eax
sbb     eax, eax
and     eax, ecx
mov     ecx, [esp+0ch+arg_4]
mov     [ecx], eax
jnz     short loc_277d9b65
push    edi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, 8007000eh
pop     edi
pop     esi
pop     ebx
retn    8
movsx   eax, ax
test    eax, eax
jle     short loc_277d9aea
mov     edx, [esi+4]
mov     ecx, edi
mov     ebx, eax
mov     eax, [edx]
add     edx, 4
mov     [ecx], eax
mov     [ecx+4], eax
add     ecx, 8
dec     ebx
jz      short loc_277d9aea
jmp     short loc_277d9b4f
xor     eax, eax
jmp     short loc_277d9b16
xor     eax, eax
jmp     short loc_277d9b3b
mov     eax, [esp+8]
mov     ecx, [esp+4]
mov     eax, [eax]
test    eax, eax
mov     [ecx], eax
jz      short locret_277d9b7f
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
retn    0ch
mov     ecx, [esp+8]
mov     eax, [esp+4]
mov     edx, [ecx]
mov     ecx, [ecx+4]
mov     [eax], edx
mov     [eax+4], ecx
mov     eax, [eax]
test    eax, eax
jz      short locret_277d9ba0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
retn    0ch
push    esi
mov     esi, ecx
mov     eax, [esi+0ach]
test    eax, eax
jz      short loc_277d9bbd
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+54h]
neg     eax
sbb     eax, eax
inc     eax
pop     esi
retn
mov     eax, [esi+0b0h]
shr     eax, 1
test    al, 1
jz      short loc_277d9bd7
call    ds:getfocus
sub     eax, [esi+0a0h]
jmp     short loc_277d9bb6
xor     eax, eax
pop     esi
retn
push    ebp
mov     ebp, esp
mov     eax, [ecx+0ach]
test    eax, eax
jz      short loc_277d9c02
lea     edx, [ebp+lparam]
mov     ecx, [eax]
push    edx
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    eax
call    dword ptr [ecx+74h]
mov     eax, [ebp+lparam]
pop     ebp
retn    0ch
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    dword ptr [ecx+0a0h]
call    ds:defwindowproca
mov     [ebp+lparam], eax
jmp     short loc_277d9bfb
push    esi
mov     esi, ecx
push    esi
push    [esp+8+arg_0]
call    sub_277b3bc2
mov     eax, [esp+4+arg_4]
and     dword ptr [esi+28h], 0fffffff8h
mov     [esi+20h], eax
xor     eax, eax
mov     dword ptr [esi+14h], offset off_277cb1e0
mov     [esi+18h], eax
mov     [esi+1ch], eax
mov     [esi+2ch], eax
mov     [esi+24h], eax
mov     dword ptr [esi], offset off_277cb1c8
mov     dword ptr [esi+14h], offset off_277cb188
mov     eax, esi
pop     esi
retn    8
push    esi
mov     esi, ecx
call    sub_277cd4e3
test    [esp+4+arg_0], 1
jz      short loc_277d9c7e
test    esi, esi
jz      short loc_277d9c7e
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_4]
mov     edx, [ebp+arg_0]
push    ebx
push    esi
and     dword ptr [eax], 0
mov     eax, [edx]
cmp     ds:dword_277cb478, eax
push    edi
mov     [ebp+var_4], ecx
jnz     short loc_277d9cb1
push    10h
mov     edi, edx
pop     ecx
mov     esi, offset dword_277cb478
xor     ebx, ebx
repe cmpsb
jz      short loc_277d9cc9
cmp     ds:dword_277cb468, eax
jnz     short loc_277d9ce9
push    10h
mov     edi, edx
pop     ecx
mov     esi, offset dword_277cb468
xor     eax, eax
repe cmpsb
jnz     short loc_277d9ce9
mov     esi, [ebp+var_4]
lea     eax, [esi+14h]
neg     esi
sbb     esi, esi
and     esi, eax
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    [ebp+arg_4]
mov     ecx, [ebp+var_4]
push    edx
call    sub_277b4857
jmp     short loc_277d9ce2
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+4]
test    eax, eax
jz      short loc_277d9d0d
mov     ecx, [eax]
and     dword ptr [esi+4], 0
push    eax
call    dword ptr [ecx+8]
mov     eax, [esp+4+arg_4]
test    eax, eax
mov     [esi+4], eax
jz      short loc_277d9d1e
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
xor     eax, eax
pop     esi
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    edi
lea     edi, [esi-14h]
mov     ecx, edi
call    sub_277da469
test    eax, eax
jl      short loc_277d9d71
mov     ecx, edi
call    sub_277da60e
test    eax, eax
jl      short loc_277d9d71
test    byte ptr [esi+14h], 1
jnz     short loc_277d9d5a
push    [esp+8+hwndnewparent]
push    dword ptr [esi+8]
call    ds:setparent
or      dword ptr [esi+14h], 1
push    [esp+8+arg_8]
mov     eax, [esi]
push    esi
call    dword ptr [eax+24h]
push    5
push    dword ptr [esi+8]
call    ds:showwindow
xor     eax, eax
pop     edi
pop     esi
retn    10h
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+lparam], 0
lea     eax, [ebp+lparam]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    0
or      dword ptr [esi+14h], 4
push    467h
push    dword ptr [esi+8]
call    ds:sendmessagea
mov     eax, [ebp+lparam]
test    eax, eax
jl      short loc_277d9db9
mov     eax, [esi+8]
test    eax, eax
jz      short loc_277d9db3
push    eax
call    ds:destroywindow
and     dword ptr [esi+8], 0
and     dword ptr [esi+14h], 0fffffffah
xor     eax, eax
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
lea     ecx, [ebx-14h]
call    sub_277da469
mov     esi, [ebp+arg_4]
push    7
pop     ecx
xor     eax, eax
mov     edi, esi
push    1
rep stosd
mov     eax, [ebx+0ch]
mov     eax, off_278286a4[eax*8]
mov     ax, [eax+1ah]
push    eax
call    sub_277b7ce6
mov     [esi+4], eax
mov     eax, [ebx+0ch]
pop     ecx
mov     eax, off_278286a4[eax*8]
pop     ecx
push    1
mov     ax, [eax+1ch]
push    eax
call    sub_277b7ce6
mov     [esi+10h], eax
mov     eax, [ebx+0ch]
pop     ecx
mov     eax, off_278286a4[eax*8]
pop     ecx
push    1
push    dword ptr [eax+20h]
call    sub_277b7d29
pop     ecx
xor     edi, edi
pop     ecx
cmp     [esi+4], edi
mov     ecx, [ebx+0ch]
mov     [esi+14h], eax
mov     ecx, off_278286a4[ecx*8]
mov     ecx, [ecx+24h]
mov     [esi+18h], ecx
jz      short loc_277d9e7a
cmp     [esi+10h], edi
jz      short loc_277d9e7a
cmp     eax, edi
jz      short loc_277d9e7a
mov     ebx, [ebx+8]
cmp     ebx, edi
jz      short loc_277d9e71
lea     eax, [ebp+rect]
push    eax
push    ebx
call    ds:getwindowrect
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
mov     [esi+8], eax
mov     eax, [ebp+rect.bottom]
sub     eax, [ebp+rect.top]
mov     [esi+0ch], eax
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+10h]
mov     ebx, ds:cotaskmemfree
cmp     eax, edi
jz      short loc_277d9e8d
push    eax
call    ebx
mov     [esi+10h], edi
mov     eax, [esi+14h]
cmp     eax, edi
jz      short loc_277d9e9a
push    eax
call    ebx
mov     [esi+14h], edi
mov     eax, [esi+4]
cmp     eax, edi
jz      short loc_277d9ea7
push    eax
call    ebx
mov     [esi+4], edi
mov     eax, 8007000eh
jmp     short loc_277d9e73
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     eax, [esi+14h]
shr     eax, 1
test    al, 1
jz      short loc_277d9ec6
mov     eax, [esi]
push    esi
call    dword ptr [eax+2ch]
lea     ecx, [esi-14h]
mov     [ebp+arg_0], ecx
call    sub_277da519
mov     edi, [ebp+arg_4]
xor     ebx, ebx
cmp     edi, ebx
jnz     short loc_277d9ee3
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     eax, edi
shl     eax, 2
push    eax
push    ebx
push    dword_278282f0
call    ds:heapalloc
cmp     eax, ebx
mov     [esi+10h], eax
jnz     short loc_277d9f04
mov     eax, 8007000eh
jmp     short loc_277d9edc
test    edi, edi
jbe     short loc_277d9f23
mov     eax, [ebp+arg_8]
mov     ecx, [esi+10h]
mov     eax, [eax+ebx*4]
test    eax, eax
mov     [ecx+ebx*4], eax
jz      short loc_277d9f1e
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
inc     ebx
cmp     ebx, edi
jb      short loc_277d9f08
xor     eax, eax
mov     [esi+18h], edi
test    byte ptr [esi+14h], 1
jz      short loc_277d9edc
mov     ecx, [ebp+arg_0]
call    sub_277da60e
jmp     short loc_277d9edc
mov     eax, [esp+arg_0]
mov     eax, [eax+8]
test    eax, eax
jz      short loc_277d9f53
push    [esp+ncmdshow]
push    eax
call    ds:showwindow
xor     eax, eax
retn    8
mov     eax, 8000ffffh
jmp     short locret_277d9f50
mov     eax, [esp+arg_0]
push    esi
mov     esi, [eax+8]
test    esi, esi
jz      short loc_277d9f90
mov     eax, [esp+4+arg_4]
push    edi
push    4
mov     ecx, [eax+4]
mov     edx, [eax]
mov     edi, [eax+0ch]
mov     eax, [eax+8]
sub     edi, ecx
sub     eax, edx
push    edi
push    eax
push    ecx
push    edx
push    0
push    esi
call    ds:setwindowpos
xor     eax, eax
pop     edi
pop     esi
retn    8
mov     eax, 8000ffffh
jmp     short loc_277d9f8c
mov     eax, [esp+arg_0]
mov     eax, [eax+14h]
shr     eax, 1
not     al
and     eax, 1
retn    4
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+lparam], 0
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [esi+8]
test    eax, eax
jz      short loc_277d9fff
lea     ecx, [ebp+lparam]
push    ecx
push    0
push    465h
push    eax
call    ds:sendmessagea
mov     eax, [ebp+lparam]
test    eax, eax
jl      short loc_277d9ffa
mov     eax, [esi+14h]
mov     ecx, eax
shr     ecx, 1
test    cl, 1
jz      short loc_277d9ff8
and     al, 0fdh
mov     [esi+14h], eax
mov     esi, [esi+4]
test    esi, esi
jz      short loc_277d9ff8
test    al, 4
jnz     short loc_277d9ff8
mov     eax, [esi]
push    1
push    esi
call    dword ptr [eax+0ch]
xor     eax, eax
pop     esi
leave
retn    4
mov     eax, 8000ffffh
jmp     short loc_277d9ffa
push    ebp
mov     ebp, esp
sub     esp, 18ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     ebx, ebx
mov     eax, [esi+0ch]
mov     [ebp+cbmultibyte], ebx
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+20h]
call    sub_277d878b
cmp     eax, ebx
pop     ecx
mov     [ebp+lpstring1], eax
jz      loc_277da14c
mov     edi, ds:lstrcmpia
push    offset achm
push    eax
call    edi
test    eax, eax
jnz     loc_277da164
mov     eax, [esi+0ch]
mov     edi, ds:lstrcpya
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+20h]
lea     eax, [ebp+string1]
push    eax
call    edi
lea     eax, [ebp+arg_0]
push    eax
mov     eax, [esi+0ch]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+24h]
lea     eax, [ebp+string1]
push    eax
call    sub_277daeec
add     esp, 0ch
xor     ecx, ecx
cmp     eax, ebx
setnl   cl
cmp     [ebp+arg_0], ebx
mov     [ebp+cbmultibyte], ecx
jnz     loc_277da14c
push    [ebp+lpstring]
call    ds:lstrlenw
lea     eax, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    eax
mov     [ebp+cbmultibyte], eax
call    sub_277b37aa
push    ebx
push    ebx
push    [ebp+cbmultibyte]
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+lpstring]
push    ebx
push    ebx
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
lea     eax, [ebp+string1]
push    eax
call    edi
mov     edi, ds:lstrcata
lea     eax, [ebp+string1]
push    offset asc_2782af60
push    eax
call    edi
mov     eax, [esi+0ch]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+20h]
lea     eax, [ebp+string1]
push    eax
call    edi
mov     eax, [esi+0ch]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+24h]
lea     eax, [ebp+string1]
push    0fh
push    eax
push    dword ptr [esi+8]
call    sub_277db070
cmp     [ebp+lpmultibytestr], ebx
mov     [ebp+cbmultibyte], eax
jz      short loc_277da14c
test    [ebp+var_c], 1
jz      short loc_277da14c
push    [ebp+lpmultibytestr]
push    ebx
push    dword_278282f0
call    ds:heapfree
mov     eax, [ebp+cbmultibyte]
pop     edi
neg     eax
sbb     eax, eax
pop     esi
and     eax, 7fffbffbh
pop     ebx
add     eax, 80004005h
leave
retn    8
push    offset ahlp
push    [ebp+lpstring1]
call    edi
test    eax, eax
jnz     short loc_277da14c
push    [ebp+lpstring]
call    ds:lstrlenw
lea     edi, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    edi
call    sub_277b37aa
push    ebx
push    ebx
push    edi
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+lpstring]
push    ebx
push    ebx
call    ds:widechartomultibyte
push    [ebp+lpmultibytestr]
lea     eax, [ebp+string1]
push    eax
call    ds:lstrcpya
mov     edi, ds:lstrcata
lea     eax, [ebp+string1]
push    offset asc_2782af68
push    eax
call    edi
mov     eax, [esi+0ch]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+20h]
lea     eax, [ebp+string1]
push    eax
call    edi
lea     eax, [ebp+string1]
push    offset alangref
push    eax
call    edi
mov     eax, [esi+0ch]
mov     eax, off_278286a4[eax*8]
push    dword ptr [eax+24h]
lea     eax, [ebp+string1]
push    1
push    eax
push    dword ptr [esi+8]
call    ds:winhelpa
cmp     [ebp+lpmultibytestr], ebx
mov     [ebp+cbmultibyte], eax
jz      loc_277da14c
test    [ebp+var_c], 1
jz      loc_277da14c
push    [ebp+lpmultibytestr]
jmp     loc_277da13f
push    ebx
push    ebp
push    esi
push    edi
mov     edi, [esp+10h+lpmsg]
mov     ecx, 100h
xor     ebx, ebx
mov     eax, [edi+4]
cmp     eax, ecx
jnz     short loc_277da2a7
mov     edx, [edi+8]
cmp     edx, 0dh
jz      short loc_277da255
cmp     edx, 1bh
jnz     short loc_277da2a5
cmp     edx, 0dh
mov     ebp, [esp+10h+arg_0]
jnz     short loc_277da28e
mov     eax, [edi]
cmp     [ebp+8], eax
jz      short loc_277da28e
mov     esi, ds:sendmessagea
push    0
push    0
push    87h
push    eax
call    esi
test    al, 4
jz      short loc_277da28e
push    dword ptr [edi+0ch]
push    dword ptr [edi+8]
push    102h
push    dword ptr [edi]
call    esi
mov     ebx, eax
neg     ebx
sbb     ebx, ebx
inc     ebx
test    ebx, ebx
jz      short loc_277da29b
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    8
mov     eax, [ebp+8]
push    1
mov     [edi], eax
pop     eax
jmp     short loc_277da294
cmp     eax, ecx
mov     esi, [esp+10h+arg_0]
jnz     loc_277da364
cmp     dword ptr [edi+8], 9
jnz     loc_277da364
mov     ebp, ds:getkeystate
push    11h
call    ebp
test    ax, ax
jl      loc_277da364
push    dword ptr [edi]
push    dword ptr [esi+8]
call    ds:ischild
test    eax, eax
jz      loc_277da3a8
push    0
push    0
push    400h
push    dword ptr [esi+8]
call    ds:sendmessagea
mov     ecx, eax
shr     ecx, 10h
cmp     cx, 534bh
jnz     short loc_277da32b
movzx   eax, ax
push    eax
push    dword ptr [esi+8]
call    ds:getdlgitem
mov     ebp, eax
test    ebp, ebp
jz      short loc_277da32b
push    ebp
call    ds:iswindowenabled
test    eax, eax
jz      short loc_277da32b
push    1
push    ebp
push    28h
push    dword ptr [esi+8]
call    ds:sendmessagea
push    10h
call    ds:getkeystate
xor     ecx, ecx
test    ax, ax
setl    cl
inc     ecx
inc     ecx
push    ecx
push    dword ptr [edi]
push    dword ptr [esi+8]
call    sub_277da3d6
add     esp, 0ch
test    eax, eax
jz      short loc_277da364
mov     eax, [esi+4]
test    eax, eax
jz      short loc_277da364
mov     ecx, [eax]
push    edi
push    eax
call    dword ptr [ecx+18h]
mov     ebx, eax
neg     ebx
sbb     ebx, ebx
inc     ebx
test    ebx, ebx
jnz     short loc_277da39c
cmp     dword ptr [edi+4], 104h
mov     ebp, [edi]
jnz     short loc_277da38e
push    ebp
push    dword ptr [esi+8]
call    ds:ischild
test    eax, eax
jnz     short loc_277da38e
push    5
push    dword ptr [esi+8]
call    ds:getwindow
mov     [edi], eax
push    edi
push    dword ptr [esi+8]
call    ds:isdialogmessagea
mov     ebx, eax
mov     [edi], ebp
xor     eax, eax
test    ebx, ebx
setz    al
jmp     loc_277da294
push    10h
call    ebp
xor     ecx, ecx
test    ax, ax
setl    cl
push    ecx
push    0
push    dword ptr [esi+8]
call    ds:getnextdlgtabitem
test    eax, eax
jz      short loc_277da364
push    1
push    eax
push    28h
push    dword ptr [esi+8]
call    ds:sendmessagea
mov     ebx, eax
jmp     short loc_277da364
push    ebp
mov     ebp, esp
push    esi
push    edi
push    0
push    0
push    87h
push    [ebp+hwnd]
call    ds:sendmessagea
test    al, 6
jnz     short loc_277da43b
mov     eax, [ebp+arg_4]
cmp     eax, [ebp+hwnd]
jz      short loc_277da405
push    eax
mov     [ebp+arg_4], eax
call    ds:getparent
jmp     short loc_277da3f4
push    [ebp+ucmd]
mov     esi, ds:getwindow
push    [ebp+arg_4]
call    esi
mov     edi, eax
test    edi, edi
jz      short loc_277da434
push    0fffffff0h
push    edi
call    ds:getwindowlonga
and     eax, 18010000h
cmp     eax, 10010000h
jz      short loc_277da43b
push    [ebp+ucmd]
push    edi
jmp     short loc_277da411
push    1
pop     eax
pop     edi
pop     esi
pop     ebp
retn
xor     eax, eax
jmp     short loc_277da437
push    ebp
mov     ebp, esp
push    ecx
lea     eax, [ebp+lparam]
mov     [ebp+lparam], 80004001h
push    eax
mov     eax, [ebp+arg_0]
push    [ebp+wparam]
push    466h
push    dword ptr [eax+8]
call    ds:sendmessagea
mov     eax, [ebp+lparam]
leave
retn    8
push    ebx
push    esi
mov     esi, ecx
push    edi
cmp     dword ptr [esi+1ch], 0
jnz     loc_277da515
mov     eax, [esi+20h]
push    5
mov     eax, off_278286a4[eax*8]
movzx   eax, word ptr [eax+18h]
push    eax
call    sub_277da66e
push    eax
call    ds:findresourcea
test    eax, eax
jz      short loc_277da4f9
push    eax
mov     ecx, esi
call    sub_277da66e
push    eax
call    ds:loadresource
test    eax, eax
jz      short loc_277da4f9
push    eax
call    ds:lockresource
mov     ebx, eax
test    ebx, ebx
jz      short loc_277da4f9
mov     edi, offset criticalsection
push    edi
call    ds:entercriticalsection
push    0
push    offset dialogfunc
mov     dword_2782c294, esi
call    sub_277b4d86
push    eax
push    ebx
push    hinstance
call    ds:createdialogindirectparama
and     dword_2782c294, 0
push    edi
call    ds:leavecriticalsection
cmp     dword ptr [esi+1ch], 0
jnz     short loc_277da515
mov     esi, ds:getlasterror
call    esi
test    eax, eax
jz      short loc_277da515
call    esi
and     eax, 0ffffh
or      eax, 80070000h
pop     edi
pop     esi
pop     ebx
retn
xor     eax, eax
jmp     short loc_277da511
push    ecx
push    esi
mov     esi, ecx
push    edi
test    byte ptr [esi+28h], 1
jz      short loc_277da53e
mov     eax, [esi+1ch]
test    eax, eax
jz      short loc_277da53e
lea     ecx, [esp+0ch+lparam]
push    ecx
push    0
push    467h
push    eax
call    ds:sendmessagea
mov     eax, [esi+2ch]
test    eax, eax
jz      short loc_277da57a
xor     edi, edi
test    eax, eax
jbe     short loc_277da561
mov     eax, [esi+24h]
mov     eax, [eax+edi*4]
test    eax, eax
jz      short loc_277da55b
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
inc     edi
cmp     edi, [esi+2ch]
jb      short loc_277da54b
push    dword ptr [esi+24h]
push    0
push    dword_278282f0
call    ds:heapfree
and     dword ptr [esi+24h], 0
and     dword ptr [esi+2ch], 0
pop     edi
pop     esi
pop     ecx
retn
push    esi
mov     esi, [esp+4+hwnd]
push    0ffffffebh
push    esi
call    ds:getwindowlonga
cmp     eax, 0ffffffffh
jnz     short loc_277da597
xor     eax, eax
pop     esi
retn    10h
test    eax, eax
jnz     short loc_277da5b2
push    dword_2782c294
push    0ffffffebh
push    esi
call    ds:setwindowlonga
mov     eax, dword_2782c294
mov     [eax+1ch], esi
push    [esp+4+arg_c]
mov     edx, [eax]
mov     ecx, eax
push    [esp+8+arg_8]
push    [esp+0ch+arg_4]
push    esi
call    dword ptr [edx+14h]
jmp     short loc_277da593
mov     eax, [esp+arg_0]
push    eax
and     dword ptr [eax], 0
call    sub_277da5d8
retn    4
push    esi
mov     esi, [ecx+2ch]
push    edi
mov     edi, [esp+8+arg_0]
mov     eax, [edi]
cmp     eax, esi
jnb     short loc_277da5fa
mov     ecx, [ecx+24h]
lea     edx, [ecx+eax*4]
cmp     dword ptr [edx], 0
jnz     short loc_277da604
inc     eax
add     edx, 4
cmp     eax, esi
jb      short loc_277da5ed
or      dword ptr [edi], 0ffffffffh
xor     eax, eax
pop     edi
pop     esi
retn    4
lea     edx, [eax+1]
mov     eax, [ecx+eax*4]
mov     [edi], edx
jmp     short loc_277da5ff
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+lparam], 0
lea     eax, [ebp+lparam]
push    esi
push    eax
mov     esi, ecx
push    0
push    464h
push    dword ptr [esi+1ch]
call    ds:sendmessagea
mov     eax, [esi+28h]
mov     ecx, eax
shr     ecx, 1
test    cl, 1
jz      short loc_277da64d
and     al, 0fdh
mov     [esi+28h], eax
mov     esi, [esi+18h]
test    esi, esi
jz      short loc_277da64d
mov     eax, [esi]
push    1
push    esi
call    dword ptr [eax+0ch]
mov     eax, [ebp+lparam]
pop     esi
leave
retn
or      dword ptr [ecx+28h], 2
mov     eax, [ecx+28h]
mov     ecx, [ecx+18h]
test    ecx, ecx
jz      short locret_277da66d
test    al, 4
jnz     short locret_277da66d
mov     eax, [ecx]
push    3
push    ecx
call    dword ptr [eax+0ch]
retn
cmp     ds:word_277b6148, 0
push    esi
push    edi
mov     esi, ecx
jnz     short loc_277da684
mov     eax, hinstance
pop     edi
pop     esi
retn
mov     eax, hmodule
test    eax, eax
jnz     short loc_277da681
mov     edi, offset criticalsection
push    edi
call    ds:entercriticalsection
cmp     word_2782a1f4, 0
jnz     short loc_277da6be
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_277da6be
mov     ecx, [eax]
push    offset lcid
push    eax
call    dword ptr [ecx+10h]
mov     word_2782a1f4, 1
push    edi
call    ds:leavecriticalsection
push    0
call    sub_277b3cfd
jmp     short loc_277da681
push    ebx
push    esi
mov     esi, ds:getkeystate
push    edi
push    10h
call    esi
xor     ecx, ecx
push    11h
test    ax, ax
setl    cl
mov     edi, ecx
call    esi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    esi
xor     ecx, ecx
test    ax, ax
setl    cl
mov     eax, ecx
lea     eax, [ebx+eax*2]
lea     eax, [edi+eax*2]
pop     edi
pop     esi
pop     ebx
retn
mov     eax, [esp+arg_4]
push    ebx
mov     ebx, [esp+4+arg_0]
push    esi
push    edi
mov     esi, eax
mov     edi, ebx
mov     ax, [eax+4]
movsd
movsd
movsd
push    1
push    eax
movsd
call    sub_277b7ce6
pop     ecx
mov     [ebx+4], eax
pop     ecx
pop     edi
pop     esi
pop     ebx
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
mov     esi, offset criticalsection
push    edi
push    esi
call    ds:entercriticalsection
cmp     byte_278288b8, 0
mov     ebx, offset actlframeworkre
jnz     short loc_277da797
push    0ah
xor     eax, eax
pop     ecx
lea     edi, [ebp+wndclass]
rep stosd
mov     eax, hinstance
mov     [ebp+wndclass.lpfnwndproc], offset sub_277d8b3e
mov     [ebp+wndclass.hinstance], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.lpszclassname], ebx
call    ds:registerclassa
test    ax, ax
jnz     short loc_277da790
push    esi
call    ds:leavecriticalsection
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
mov     byte_278288b8, 1
push    esi
call    ds:leavecriticalsection
xor     ecx, ecx
mov     eax, [ebp+arg_10]
push    ecx
push    hinstance
push    ecx
push    [ebp+hwndparent]
push    dword ptr [eax+4]
push    dword ptr [eax]
mov     eax, [ebp+arg_0]
neg     eax
push    [ebp+y]
sbb     eax, eax
push    [ebp+x]
and     eax, 10000000h
or      eax, 44000000h
push    eax
push    ecx
push    ebx
push    ecx
call    ds:createwindowexa
jmp     short loc_277da78b
push    esi
mov     esi, ecx
call    sub_277da85f
test    [esp+4+arg_0], 1
jz      short loc_277da7f8
test    esi, esi
jz      short loc_277da7f8
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, ecx
mov     eax, ebx
push    esi
neg     eax
lea     esi, [ebx+14h]
push    edi
sbb     eax, eax
and     eax, esi
push    eax
push    0
call    sub_277b3bc2
mov     dword ptr [esi], offset off_277cb268
mov     esi, [ebp+arg_0]
lea     edi, [ebx+18h]
mov     eax, [ebp+arg_4]
movsd
movsd
mov     [ebx+28h], eax
mov     eax, [ebp+arg_8]
and     dword ptr [ebx+30h], 0
and     dword ptr [ebx+38h], 0
movsd
mov     [ebx+2ch], eax
mov     eax, [ebp+arg_c]
mov     [ebx+34h], eax
mov     eax, [ebp+arg_10]
movsd
mov     [ebx+3ch], eax
pop     edi
mov     dword ptr [ebx], offset off_277cb230
mov     dword ptr [ebx+14h], offset off_277cb248
mov     eax, ebx
pop     esi
pop     ebx
pop     ebp
retn    14h
push    esi
mov     esi, ecx
mov     eax, [esi+38h]
mov     dword ptr [esi], offset off_277cb230
test    eax, eax
mov     dword ptr [esi+14h], offset off_277cb248
jz      short loc_277da893
mov     ecx, [eax+14h]
add     eax, 14h
push    eax
call    dword ptr [ecx+8]
push    offset addend
mov     dword ptr [esi], offset off_277b60d8
call    ds:interlockeddecrement
pop     esi
retn
mov     eax, [esi+34h]
test    eax, eax
jz      short loc_277da880
push    eax
push    0
push    dword_278282f0
call    ds:heapfree
jmp     short loc_277da880
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
mov     ebx, ecx
push    edi
mov     eax, [esi]
lea     edi, [ebx+18h]
cmp     eax, [edi]
jnz     short loc_277da8c6
push    10h
xor     edx, edx
pop     ecx
repe cmpsb
jz      short loc_277da8e0
cmp     eax, ds:dword_277b6118
jnz     short loc_277da900
mov     esi, [esp+0ch+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6118
xor     eax, eax
repe cmpsb
jnz     short loc_277da900
mov     eax, [ebx]
mov     ecx, ebx
call    dword ptr [eax+4]
mov     ecx, [esp+0ch+arg_4]
mov     eax, ebx
add     ebx, 14h
neg     eax
sbb     eax, eax
and     eax, ebx
mov     [ecx], eax
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, 80004002h
jmp     short loc_277da8fa
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
and     [ebp+var_4], 0
mov     ebx, [ebp+arg_8]
mov     edi, [esi+18h]
imul    edi, [esi+1ch]
add     edi, [esi+20h]
cmp     [ebp+arg_4], 0
jbe     short loc_277da94d
mov     eax, [esi+1ch]
cmp     eax, [esi+14h]
jge     short loc_277da94d
push    dword ptr [esi+18h]
push    edi
push    ebx
call    dword ptr [esi+28h]
mov     eax, [esi+18h]
add     ebx, eax
add     edi, eax
inc     dword ptr [esi+1ch]
inc     [ebp+var_4]
mov     eax, [ebp+var_4]
cmp     eax, [ebp+arg_4]
jb      short loc_277da928
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+var_4]
test    eax, eax
jz      short loc_277da959
mov     [eax], ecx
cmp     ecx, [ebp+arg_4]
pop     edi
pop     esi
pop     ebx
sbb     eax, eax
neg     eax
leave
retn    10h
mov     eax, [esp+arg_0]
mov     edx, [esp+arg_4]
mov     ecx, [eax+1ch]
add     ecx, edx
mov     edx, [eax+14h]
cmp     ecx, edx
jle     short loc_277da984
push    1
mov     [eax+1ch], edx
pop     eax
retn    8
mov     [eax+1ch], ecx
xor     eax, eax
jmp     short locret_277da981
mov     eax, [esp+arg_0]
and     dword ptr [eax+1ch], 0
xor     eax, eax
retn    4
push    ebx
mov     ebx, [esp+4+arg_4]
push    esi
push    edi
push    dword_278282f0
xor     edi, edi
mov     [ebx], edi
push    40h
call    sub_277b39d6
mov     esi, [esp+14h+arg_0]
pop     ecx
cmp     eax, edi
pop     ecx
jz      short loc_277da9d3
push    dword ptr [esi+28h]
lea     ecx, [esi+4]
push    dword ptr [esi+20h]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    ecx
mov     ecx, eax
call    sub_277da7fe
mov     edi, eax
test    edi, edi
jnz     short loc_277da9e2
mov     eax, 8007000eh
pop     edi
pop     esi
pop     ebx
retn    8
lea     eax, [esi-14h]
push    esi
mov     [edi+38h], eax
mov     eax, [esi+1ch]
mov     [edi+30h], eax
mov     eax, [esi]
call    dword ptr [eax+4]
add     edi, 14h
xor     eax, eax
mov     [ebx], edi
jmp     short loc_277da9dc
call    sub_277daa37
test    eax, eax
jl      short locret_277daa19
call    sub_277b9c94
neg     eax
sbb     eax, eax
and     eax, 7fffbffbh
add     eax, 80004005h
retn
call    sub_277dacd4
test    eax, eax
jl      short locret_277daa36
call    sub_277b9c94
neg     eax
sbb     eax, eax
and     eax, 7fffbffbh
add     eax, 80004005h
retn
push    ebp
mov     ebp, esp
sub     esp, 224h
or      [ebp+pv], 0ffffffffh
or      [ebp+dwdisposition], 0ffffffffh
push    ebx
push    esi
push    edi
xor     edi, edi
xor     ebx, ebx
cmp     dword_2782bec8, edi
mov     [ebp+pptlib], edi
mov     [ebp+var_8], edi
mov     [ebp+szfullpath], edi
mov     [ebp+var_1c], edi
jz      short loc_277daaca
lea     eax, [ebp+filename]
push    104h
push    eax
push    hinstance
call    ds:getmodulefilenamea
lea     eax, [ebp+filename]
push    edi
push    eax
call    sub_277b7d29
pop     ecx
mov     [ebp+szfullpath], eax
pop     ecx
lea     ecx, [ebp+pptlib]
push    ecx
push    eax
call    ds:loadtypelib
mov     esi, eax
cmp     esi, edi
jl      loc_277dac13
mov     eax, [ebp+pptlib]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+1ch]
mov     eax, [ebp+var_4]
push    eax
movzx   ecx, word ptr [eax+18h]
mov     [ebp+pv], ecx
movzx   ecx, word ptr [eax+1ah]
mov     [ebp+dwdisposition], ecx
mov     ecx, [ebp+pptlib]
push    ecx
mov     edx, [ecx]
call    dword ptr [edx+30h]
cmp     word_278286a0, 0ffffh
jz      loc_277dabc0
mov     [ebp+var_4], offset word_278286a0
mov     esi, offset off_278286a4
mov     eax, [esi]
cmp     [eax], edi
jz      loc_277dabab
cmp     ebx, edi
jnz     loc_277dab88
cmp     [ebp+var_8], edi
jnz     short loc_277dab27
lea     eax, [ebp+string1]
push    104h
push    eax
call    sub_277d8647
pop     ecx
mov     [ebp+var_8], eax
pop     ecx
lea     eax, [ebp+string1]
push    offset asc_2782af92
push    eax
call    ds:lstrcata
inc     [ebp+var_8]
mov     eax, [esi]
mov     eax, [eax+28h]
cmp     eax, edi
jz      short loc_277dab75
mov     edi, ds:lstrlena
push    eax
call    edi
test    eax, eax
jle     short loc_277dab73
mov     eax, [esi]
push    dword ptr [eax+28h]
call    edi
inc     eax
push    eax
mov     eax, [esi]
push    dword ptr [eax+28h]
mov     eax, [ebp+var_8]
lea     eax, [ebp+eax+string1]
push    eax
call    ds:lstrcpyna
lea     eax, [ebp+string1]
push    eax
call    ds:getfileattributesa
mov     ebx, eax
not     ebx
shr     ebx, 4
and     ebx, 1
xor     edi, edi
mov     eax, [ebp+var_8]
cmp     ebx, edi
jz      loc_277dac23
and     [ebp+eax+var_121], 0
mov     eax, [ebp+var_4]
movzx   eax, word ptr [eax]
sub     eax, edi
jz      loc_277dacba
dec     eax
jz      loc_277dac8c
dec     eax
jz      loc_277dac30
dec     eax
jz      loc_277dacba
add     [ebp+var_4], 8
mov     eax, [ebp+var_4]
add     esi, 8
cmp     word ptr [eax], 0ffffh
jnz     loc_277daae5
cmp     dword_2782bec8, edi
jz      short loc_277dac11
cmp     ebx, edi
jz      short loc_277dabe3
lea     eax, [ebp+string1]
push    1
push    eax
call    sub_277b7d29
pop     ecx
cmp     ebx, edi
pop     ecx
mov     [ebp+pv], eax
jnz     short loc_277dabe8
mov     eax, offset word_2782b69a
push    eax
push    [ebp+szfullpath]
push    [ebp+pptlib]
call    ds:registertypelib
cmp     ebx, edi
mov     esi, eax
jz      short loc_277dac04
push    [ebp+pv]
call    ds:cotaskmemfree
mov     eax, [ebp+pptlib]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
cmp     esi, edi
jl      short loc_277dac13
xor     esi, esi
push    [ebp+szfullpath]
call    ds:sysfreestring
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn
and     [ebp+eax+string1], 0
jmp     loc_277dab88
push    1
lea     eax, [ebp+var_1c]
pop     edi
push    eax
mov     eax, [esi]
push    dword ptr [eax]
push    [ebp+pptlib]
call    sub_277d8a2d
add     esp, 0ch
test    eax, eax
jl      short loc_277dac50
mov     edi, [ebp+var_1c]
and     edi, 20h
mov     eax, [esi]
push    edi
push    dword ptr [eax+0ch]
mov     cx, [eax+40h]
push    ecx
push    dword ptr [eax+34h]
push    dword ptr [eax]
push    phkresult
push    [ebp+dwdisposition]
push    [ebp+pv]
push    dword ptr [eax+1ch]
push    dword ptr [eax+18h]
push    dword ptr [eax+8]
push    dword ptr [eax+4]
push    offset amscomctl2
call    sub_277d7dca
add     esp, 34h
xor     edi, edi
jmp     loc_277dabab
mov     eax, [esi]
push    dword ptr [eax+0ch]
push    dword ptr [eax]
push    phkresult
push    [ebp+dwdisposition]
push    [ebp+pv]
push    dword ptr [eax+18h]
push    dword ptr [eax+8]
push    dword ptr [eax+4]
push    offset amscomctl2
call    sub_277d78a7
add     esp, 24h
jmp     loc_277dabab
mov     eax, [esi]
push    dword ptr [eax+0ch]
push    dword ptr [eax]
push    dword ptr [eax+8]
push    dword ptr [eax+4]
call    sub_277d7708
add     esp, 10h
jmp     loc_277dabab
push    ebp
mov     ebp, esp
sub     esp, 190h
push    ebx
xor     ebx, ebx
cmp     word_278286a0, 0ffffh
push    esi
push    edi
mov     [ebp+var_c], ebx
mov     [ebp+pptlib], ebx
jz      short loc_277dad3d
mov     edi, offset word_278286a0
mov     [ebp+var_4], offset off_278286a4
mov     esi, offset amscomctl2
mov     eax, [ebp+var_4]
mov     eax, [eax]
mov     ecx, [eax]
cmp     ecx, ebx
jz      short loc_277dad2f
movzx   edx, word ptr [edi]
sub     edx, ebx
jz      loc_277dae3a
dec     edx
jz      loc_277dae25
dec     edx
jz      loc_277dae25
dec     edx
jz      loc_277dae3a
add     [ebp+var_4], 8
add     edi, 8
cmp     word ptr [edi], 0ffffh
jnz     short loc_277dad04
cmp     phkresult, ebx
jz      loc_277dadfd
lea     eax, [ebp+filename]
push    104h
push    eax
push    hinstance
call    ds:getmodulefilenamea
lea     eax, [ebp+filename]
push    eax
call    ds:lstrlena
lea     esi, [eax+eax+2]
lea     ecx, [ebp+lpwidecharstr]
push    esi
call    sub_277b37aa
push    esi
lea     eax, [ebp+filename]
push    [ebp+lpwidecharstr]
push    0ffffffffh
push    eax
push    ebx
push    ebx
call    ds:multibytetowidechar
lea     eax, [ebp+pptlib]
push    eax
push    2
push    [ebp+lpwidecharstr]
call    ds:loadtypelibex
cmp     eax, ebx
jl      short loc_277daddc
mov     eax, [ebp+pptlib]
lea     edx, [ebp+var_c]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+1ch]
cmp     eax, ebx
jl      short loc_277daddc
mov     eax, [ebp+var_c]
push    dword ptr [eax+14h]
mov     cx, [eax+1ah]
push    dword ptr [eax+10h]
mov     ax, [eax+18h]
push    ecx
push    eax
push    phkresult
call    ds:unregistertypelib
cmp     [ebp+lpwidecharstr], ebx
jz      short loc_277dadfd
test    [ebp+var_10], 1
jz      short loc_277dadfd
push    [ebp+lpwidecharstr]
push    ebx
push    dword_278282f0
call    ds:heapfree
cmp     [ebp+var_c], ebx
jz      short loc_277dae0e
mov     eax, [ebp+pptlib]
push    [ebp+var_c]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+30h]
mov     eax, [ebp+pptlib]
cmp     eax, ebx
jz      short loc_277dae1e
mov     [ebp+pptlib], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn
push    ecx
push    dword ptr [eax+18h]
push    dword ptr [eax+4]
push    esi
call    sub_277d8191
add     esp, 10h
jmp     loc_277dad2f
push    ebx
push    ecx
call    sub_277d80f3
pop     ecx
pop     ecx
jmp     loc_277dad2f
push    ebp
mov     ebp, esp
push    ecx
push    esi
push    edi
mov     esi, offset criticalsection
xor     edi, edi
and     [ebp+var_4], edi
push    esi
call    ds:entercriticalsection
cmp     ppv, edi
jnz     short loc_277dae93
push    offset ppv
push    offset stru_277cb2d8
push    1
push    edi
push    offset stru_277cb2c8
call    ds:cocreateinstance
mov     edi, eax
test    edi, edi
jl      short loc_277dae93
mov     eax, ppv
test    eax, eax
jnz     short loc_277daec7
mov     edi, 80004005h
push    esi
call    ds:leavecriticalsection
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277daea7
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
test    edi, edi
jl      short loc_277daec1
mov     eax, ppv
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
mov     eax, [ebp+arg_0]
mov     ecx, ppv
mov     [eax], ecx
mov     eax, edi
pop     edi
pop     esi
leave
retn
mov     ecx, [eax]
lea     edx, [ebp+var_4]
push    edx
push    offset nullsub_1
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277daee8
mov     eax, [ebp+var_4]
push    lcid
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+10h]
xor     edi, edi
jmp     short loc_277dae93
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
push    esi
mov     esi, [ebp+arg_8]
test    esi, esi
jz      short loc_277daf00
and     dword ptr [esi], 0
lea     eax, [ebp+var_4]
push    eax
call    sub_277dae48
test    eax, eax
pop     ecx
jl      short loc_277daf5e
mov     eax, [ebp+var_4]
push    0
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+28h]
mov     ebx, eax
test    ebx, ebx
jl      short loc_277daf4f
test    esi, esi
jz      short loc_277daf29
mov     dword ptr [esi], 1
push    0
push    [ebp+lpmultibytestr]
call    sub_277b7d29
pop     ecx
mov     esi, eax
mov     eax, [ebp+var_4]
pop     ecx
push    4
push    [ebp+arg_4]
mov     ecx, [eax]
push    esi
push    eax
call    dword ptr [ecx+24h]
push    esi
mov     ebx, eax
call    ds:sysfreestring
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277daf5c
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, ebx
pop     esi
pop     ebx
leave
retn
push    esi
mov     esi, offset criticalsection
push    esi
call    ds:entercriticalsection
cmp     dword_2782a158, 0
jnz     short loc_277daf8c
call    sub_277b36e1
mov     dword_2782a160, eax
mov     dword_2782a158, 1
push    esi
call    ds:leavecriticalsection
mov     eax, dword_2782a160
pop     esi
mov     ecx, [esp+arg_4]
mov     [ecx+4], eax
mov     [ecx+8], eax
xor     eax, eax
retn    8
push    esi
mov     esi, offset criticalsection
push    esi
call    ds:entercriticalsection
cmp     dword_2782a158, 0
jnz     short loc_277dafd2
call    sub_277b36e1
mov     dword_2782a160, eax
mov     dword_2782a158, 1
push    esi
call    ds:leavecriticalsection
cmp     dword_2782a160, 0
jnz     short loc_277dafeb
mov     eax, 80040112h
pop     esi
retn    0ch
call    sub_277cc36a
mov     ecx, [esp+4+arg_8]
mov     [ecx], eax
neg     eax
sbb     eax, eax
and     eax, 7ff8fff2h
add     eax, 8007000eh
jmp     short loc_277dafe7
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, [ebp+arg_14]
mov     esi, offset criticalsection
push    esi
and     dword ptr [edi], 0
call    ds:entercriticalsection
cmp     dword_2782a158, 0
jnz     short loc_277db03a
call    sub_277b36e1
mov     dword_2782a160, eax
mov     dword_2782a158, 1
push    esi
call    ds:leavecriticalsection
push    [ebp+arg_10]
call    sub_277cc359
test    eax, eax
pop     ecx
jnz     short loc_277db059
mov     eax, 80040112h
pop     edi
pop     esi
pop     ebp
retn    18h
push    [ebp+arg_c]
mov     eax, [ebp+arg_0]
push    edi
push    dword ptr [eax+8]
push    [ebp+arg_4]
call    sub_277b3973
add     esp, 10h
jmp     short loc_277db053
push    ebp
mov     ebp, esp
sub     esp, 104h
mov     ecx, dword_2782b69c
push    esi
test    ecx, ecx
jnz     short loc_277db0cd
cmp     dword_2782b6a4, ecx
jnz     short loc_277db0cd
lea     eax, [ebp+libfilename]
push    eax
call    sub_277db109
mov     esi, ds:loadlibrarya
test    eax, eax
jz      short loc_277db0b0
lea     eax, [ebp+libfilename]
push    eax
call    esi
mov     dword_2782b69c, eax
mov     ecx, dword_2782b69c
test    ecx, ecx
jnz     short loc_277db0cd
push    offset ahhctrlocx
call    esi
mov     ecx, eax
test    ecx, ecx
mov     dword_2782b69c, ecx
jz      short loc_277db0e8
mov     eax, dword_2782c298
test    eax, eax
jnz     short loc_277db0f9
push    0eh
push    ecx
call    ds:getprocaddress
test    eax, eax
mov     dword_2782c298, eax
jnz     short loc_277db0f9
mov     dword_2782b6a4, 1
xor     eax, eax
pop     esi
leave
retn    10h
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    eax
jmp     short loc_277db0f4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
lea     eax, [ebp+phkresult]
push    esi
xor     esi, esi
push    eax
push    20019h
push    esi
push    offset aclsidadb880a6d
push    80000000h
call    ds:regopenkeyexa
test    eax, eax
jnz     short loc_277db164
lea     eax, [ebp+cbdata]
mov     [ebp+cbdata], 104h
push    eax
push    [ebp+lpdata]
push    esi
push    esi
push    offset byte_277ca428
push    [ebp+phkresult]
call    ds:regqueryvalueexa
test    eax, eax
jnz     short loc_277db154
push    1
pop     esi
push    [ebp+phkresult]
call    ds:regclosekey
mov     eax, esi
pop     esi
leave
retn    4
xor     eax, eax
jmp     short loc_277db15f
push    ebp
mov     ebp, esp
sub     esp, 24ch
push    ebx
push    esi
xor     ebx, ebx
push    edi
push    ebx
mov     [ebp+pperrinfo], ebx
mov     [ebp+var_c], ebx
mov     [ebp+lpwidecharstr], ebx
call    sub_277b3cfd
mov     edi, eax
lea     eax, [ebp+pperrinfo]
push    eax
push    ebx
call    ds:geterrorinfo
cmp     eax, ebx
jl      loc_277db28f
mov     eax, [ebp+pperrinfo]
cmp     eax, ebx
jz      loc_277db28f
mov     ecx, [eax]
lea     edx, [ebp+lpwidecharstr]
push    edx
push    eax
call    dword ptr [ecx+14h]
cmp     eax, ebx
jl      loc_277db263
mov     eax, [ebp+pperrinfo]
lea     edx, [ebp+var_c]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
cmp     eax, ebx
jl      loc_277db263
push    ebx
mov     esi, 100h
push    ebx
lea     eax, [ebp+multibytestr]
push    esi
mov     edi, ds:widechartomultibyte
push    eax
push    0ffffffffh
push    [ebp+lpwidecharstr]
push    ebx
push    ebx
call    edi
push    ebx
push    ebx
lea     eax, [ebp+caption]
push    esi
push    eax
push    0ffffffffh
push    [ebp+var_c]
push    ebx
push    ebx
call    edi
mov     edi, [ebp+arg_0]
cmp     [ebp+multibytestr], bl
jnz     short loc_277db23b
lea     eax, [ebp+buffer]
push    40h
push    eax
push    7919h
push    ebx
call    sub_277b3cfd
push    eax
call    ds:loadstringa
and     edi, 0ffffh
lea     eax, [ebp+buffer]
push    edi
push    eax
lea     eax, [ebp+multibytestr]
push    eax
call    ds:wsprintfa
add     esp, 0ch
push    30h
call    ds:messagebeep
lea     eax, [ebp+caption]
push    40030h
push    eax
lea     eax, [ebp+multibytestr]
push    eax
call    ds:getactivewindow
push    eax
call    ds:messageboxa
cmp     [ebp+var_c], ebx
mov     esi, ds:sysfreestring
jz      short loc_277db273
push    [ebp+var_c]
call    esi
cmp     [ebp+lpwidecharstr], ebx
jz      short loc_277db27d
push    [ebp+lpwidecharstr]
call    esi
mov     eax, [ebp+pperrinfo]
cmp     eax, ebx
jz      short loc_277db28a
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
pop     edi
pop     esi
pop     ebx
leave
retn
mov     esi, 100h
lea     eax, [ebp+caption]
push    esi
push    eax
movzx   eax, [ebp+arg_4]
push    eax
push    edi
call    ds:loadstringa
mov     edi, [ebp+arg_0]
cmp     edi, 8007000eh
jz      short loc_277db2be
mov     [ebp+multibytestr], bl
jmp     loc_277db200
lea     eax, [ebp+multibytestr]
push    esi
push    eax
push    7
push    ebx
call    sub_277b3cfd
push    eax
call    ds:loadstringa
jmp     loc_277db200
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, offset criticalsection
push    edi
push    esi
call    ds:entercriticalsection
mov     eax, [ebp+arg_4]
lea     ecx, [ebp+pptlib]
push    ecx
movzx   ecx, word ptr lcid
mov     eax, off_278286a4[eax*8]
push    ecx
mov     cx, [eax+1ch]
mov     ax, [eax+18h]
push    ecx
push    eax
push    phkresult
call    ds:loadregtypelib
push    esi
mov     edi, eax
call    ds:leavecriticalsection
test    edi, edi
jl      short loc_277db389
mov     eax, [ebp+arg_8]
cmp     dword ptr [eax+4], 0
lea     esi, [eax+4]
jz      short loc_277db37e
mov     eax, esi
mov     ecx, [ebp+pptlib]
lea     edi, [ebp+var_4]
push    edi
push    dword ptr [eax]
mov     edx, [ecx]
push    ecx
call    dword ptr [edx+18h]
mov     edi, eax
test    edi, edi
jl      short loc_277db380
movzx   eax, word ptr [esi-4]
push    0
push    [ebp+var_4]
push    eax
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
call    sub_277db38f
mov     edi, eax
mov     eax, [ebp+var_4]
add     esp, 0ch
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
test    edi, edi
jl      short loc_277db380
add     esi, 8
mov     eax, esi
cmp     dword ptr [esi], 0
jnz     short loc_277db334
xor     edi, edi
mov     eax, [ebp+pptlib]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, edi
pop     edi
pop     esi
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 10ch
push    esi
xor     esi, esi
push    edi
push    esi
push    esi
push    14bh
push    [ebp+hwnd]
call    ds:sendmessagea
mov     edi, [ebp+arg_4]
lea     ecx, [ebp+var_c]
push    ecx
push    edi
mov     eax, [edi]
call    dword ptr [eax+0ch]
cmp     eax, esi
jl      loc_277db4e9
cmp     [ebp+arg_8], esi
mov     eax, [ebp+var_c]
push    ebx
jz      short loc_277db3d3
movzx   ecx, word ptr [eax+2eh]
cmp     [ebp+arg_8], ecx
jle     short loc_277db3da
movzx   eax, word ptr [eax+2eh]
mov     [ebp+arg_8], eax
cmp     [ebp+arg_8], esi
mov     [ebp+arg_4], esi
jle     loc_277db4db
mov     eax, [edi]
lea     ecx, [ebp+var_8]
push    ecx
push    [ebp+arg_4]
push    edi
call    dword ptr [eax+18h]
mov     ebx, eax
cmp     ebx, esi
jl      loc_277db4dd
mov     eax, [ebp+var_8]
test    byte ptr [eax+1ch], 40h
jnz     loc_277db4c3
mov     ecx, [edi]
push    esi
push    esi
lea     edx, [ebp+lpstring]
push    esi
push    edx
mov     [ebp+lpstring], esi
push    dword ptr [eax]
push    edi
call    dword ptr [ecx+30h]
mov     eax, [ebp+lpstring]
cmp     eax, esi
jnz     short loc_277db428
mov     eax, offset dword_2782b6ac
push    eax
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
mov     eax, [ebp+lpstring]
cmp     eax, esi
jnz     short loc_277db44b
mov     eax, offset byte_2782b6b0
push    esi
push    esi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    eax
push    esi
push    esi
call    ds:widechartomultibyte
mov     eax, [ebp+var_8]
push    [ebp+lpmultibytestr]
mov     eax, [eax+8]
push    dword ptr [eax+8]
lea     eax, [ebp+var_10c]
push    offset alds_0
push    eax
call    ds:wsprintfa
add     esp, 10h
lea     eax, [ebp+var_10c]
push    eax
push    esi
push    143h
push    [ebp+hwnd]
call    ds:sendmessagea
push    [ebp+lpstring]
call    ds:sysfreestring
cmp     [ebp+lpmultibytestr], esi
jz      short loc_277db4c3
test    [ebp+var_10], 1
jz      short loc_277db4c3
push    [ebp+lpmultibytestr]
push    esi
push    dword_278282f0
call    ds:heapfree
push    [ebp+var_8]
mov     eax, [edi]
push    edi
call    dword ptr [eax+54h]
inc     [ebp+arg_4]
mov     eax, [ebp+arg_4]
cmp     eax, [ebp+arg_8]
jl      loc_277db3e6
xor     ebx, ebx
push    [ebp+var_c]
mov     eax, [edi]
push    edi
call    dword ptr [eax+4ch]
mov     eax, ebx
pop     ebx
pop     edi
pop     esi
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 280h
push    ebx
xor     ebx, ebx
cmp     [ebp+arg_c], ebx
jz      loc_277db59b
push    edi
mov     edi, 100h
push    esi
lea     eax, [ebp+buffer]
push    edi
push    eax
push    791ah
push    ebx
call    sub_277b3cfd
mov     esi, ds:loadstringa
push    eax
call    esi
lea     eax, [ebp+string]
push    80h
push    eax
push    [ebp+niddlgitem]
push    [ebp+hdlg]
call    sub_277db5cf
add     esp, 10h
lea     eax, [ebp+string]
push    eax
lea     eax, [ebp+buffer]
push    eax
lea     eax, [ebp+text]
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+buffer]
mov     [ebp+buffer], bl
push    edi
push    eax
push    [ebp+uid]
push    ebx
call    sub_277b3cfd
push    eax
call    esi
push    30h
call    ds:messagebeep
lea     eax, [ebp+buffer]
push    2030h
push    eax
lea     eax, [ebp+text]
push    eax
push    ebx
call    ds:messageboxa
pop     esi
pop     edi
push    0ffff0000h
push    ebx
push    0b1h
push    [ebp+niddlgitem]
push    [ebp+hdlg]
call    ds:senddlgitemmessagea
push    1
push    [ebp+niddlgitem]
push    [ebp+hdlg]
call    ds:getdlgitem
push    eax
push    28h
push    [ebp+hdlg]
call    ds:postmessagea
pop     ebx
leave
retn
push    esi
push    edi
push    [esp+8+nmaxcount]
mov     edi, [esp+0ch+lpstring]
push    edi
push    3
push    [esp+14h+niddlgitem]
push    [esp+18h+hdlg]
call    ds:getdlgitem
push    eax
call    ds:getwindow
push    eax
call    ds:getwindowtexta
cmp     byte ptr [edi], 0
mov     esi, edi
jz      short loc_277db644
push    ebx
mov     ebx, ds:charnexta
mov     al, [esi]
cmp     al, 26h
jnz     short loc_277db611
cmp     [esi+1], al
jnz     short loc_277db639
cmp     al, 3ah
jnz     short loc_277db61b
cmp     byte ptr [esi+1], 0
jz      short loc_277db639
cmp     esi, edi
jz      short loc_277db634
mov     [edi], al
mov     al, [esi]
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_277db634
mov     al, [esi+1]
mov     [edi+1], al
push    edi
call    ebx
mov     edi, eax
push    esi
call    ebx
mov     esi, eax
cmp     byte ptr [esi], 0
jnz     short loc_277db606
pop     ebx
and     byte ptr [edi], 0
pop     edi
pop     esi
retn
push    esi
mov     esi, ecx
push    [esp+4+arg_4]
push    [esp+8+arg_0]
call    sub_277d9c1c
xor     eax, eax
mov     dword ptr [esi+30h], offset off_277c1518
mov     [esi+38h], eax
mov     [esi+3ch], eax
mov     [esi+40h], eax
mov     dword ptr [esi], offset off_277cb4f0
mov     dword ptr [esi+14h], offset off_277cb4b0
mov     dword ptr [esi+30h], offset off_277cb498
mov     eax, esi
pop     esi
retn    8
push    esi
mov     esi, ecx
call    sub_277db6ae
test    [esp+4+arg_0], 1
jz      short loc_277db6a8
test    esi, esi
jz      short loc_277db6a8
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277cb4f0
mov     dword ptr [ecx+14h], offset off_277cb4b0
mov     dword ptr [ecx+30h], offset off_277cb498
jmp     sub_277cd4e3
push    esi
mov     esi, ecx
push    edi
mov     eax, [esi+14h]
lea     edi, [esi+14h]
push    edi
call    dword ptr [eax+28h]
neg     eax
sbb     eax, eax
xor     ecx, ecx
inc     eax
cmp     [esp+8+arg_0], ecx
setnz   cl
xor     ecx, eax
jz      short loc_277db6f5
cmp     [esp+8+arg_0], 0
jz      short loc_277db6fa
mov     ecx, esi
call    sub_277da653
pop     edi
pop     esi
retn    4
mov     eax, [edi]
inc     dword ptr [esi+3ch]
push    edi
call    dword ptr [eax+2ch]
dec     dword ptr [esi+3ch]
jmp     short loc_277db6f5
push    ebx
mov     ebx, [esp+4+arg_4]
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
and     dword ptr [ebx], 0
mov     eax, ecx
mov     ecx, ds:dword_277b6280
cmp     ecx, [edi]
jnz     short loc_277db74b
push    10h
mov     esi, offset dword_277b6280
pop     ecx
xor     edx, edx
repe cmpsb
jnz     short loc_277db74b
mov     esi, eax
add     eax, 30h
neg     esi
sbb     esi, esi
and     esi, eax
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     [ebx], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
push    ebx
mov     ecx, eax
push    [esp+10h+arg_0]
call    sub_277d9c84
jmp     short loc_277db745
push    ebx
mov     ebx, [esp+4+arg_0]
xor     eax, eax
push    ebp
push    esi
cmp     ebx, eax
push    edi
mov     esi, ecx
jnz     short loc_277db76e
cmp     [esi+38h], eax
jz      short loc_277db775
mov     edi, [esi+38h]
cmp     ebx, edi
jnz     short loc_277db77e
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
cmp     ebx, eax
jnz     short loc_277db7ad
push    1
mov     [esi+38h], eax
push    dword ptr [esi+34h]
mov     eax, esi
add     esi, 30h
neg     eax
sbb     eax, eax
and     eax, esi
push    eax
push    offset dword_277b6280
push    edi
call    sub_277bf94f
mov     ebp, eax
mov     eax, [edi]
push    edi
call    dword ptr [eax+8]
mov     eax, ebp
jmp     short loc_277db777
cmp     edi, eax
jz      short loc_277db7b9
push    eax
mov     ecx, esi
call    sub_277db759
lea     eax, [esi+34h]
push    1
push    eax
mov     eax, esi
neg     eax
lea     ecx, [esi+30h]
sbb     eax, eax
and     eax, ecx
push    eax
push    offset dword_277b6280
push    ebx
call    sub_277bd840
mov     ebp, eax
test    ebp, ebp
jl      short loc_277db7a9
mov     eax, [ebx]
push    ebx
mov     [esi+38h], ebx
call    dword ptr [eax+4]
jmp     short loc_277db7a9
push    esi
mov     esi, [esp+4+arg_0]
xor     eax, eax
cmp     [esi+0ch], eax
jnz     short loc_277db809
push    [esp+4+arg_4]
inc     dword ptr [esi+10h]
mov     eax, [esi-30h]
lea     ecx, [esi-30h]
push    dword ptr [esi+8]
call    dword ptr [eax+1ch]
dec     dword ptr [esi+10h]
pop     esi
retn    8
mov     eax, [esp+arg_0]
push    [esp+arg_4]
mov     edx, [eax-30h]
push    dword ptr [eax+8]
lea     ecx, [eax-30h]
call    dword ptr [edx+20h]
retn    8
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_4]
push    esi
dec     eax
mov     esi, ecx
dec     eax
jz      short loc_277db847
sub     eax, 10fh
jz      short loc_277db8a8
sub     eax, 353h
jz      short loc_277db896
dec     eax
jz      short loc_277db87c
dec     eax
dec     eax
jnz     short loc_277db850
push    0
mov     ecx, esi
call    sub_277db759
push    [ebp+arg_c]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    dword ptr [eax+18h]
cmp     [ebp+arg_4], 465h
jnz     short loc_277db877
mov     ecx, [esi+3ch]
test    ecx, ecx
jz      short loc_277db877
dec     ecx
mov     [esi+3ch], ecx
pop     esi
leave
retn    10h
cmp     dword ptr [esi+3ch], 0
jnz     short loc_277db8ae
mov     ecx, [esi+14h]
lea     eax, [esi+14h]
push    eax
call    dword ptr [ecx+28h]
cmp     eax, 1
jz      short loc_277db8ae
inc     dword ptr [esi+3ch]
jmp     short loc_277db850
lea     eax, [ebp+var_4]
mov     ecx, esi
push    eax
call    sub_277da5c8
test    eax, eax
jz      short loc_277db877
push    eax
jmp     short loc_277db849
cmp     dword ptr [esi+40h], 0
jz      short loc_277db850
push    1
pop     eax
jmp     short loc_277db877
xor     eax, eax
retn
push    esi
mov     esi, ecx
call    sub_277c0d9c
test    byte ptr [esp+8], 1
jz      short loc_277db8d8
test    esi, esi
jz      short loc_277db8d8
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    [esp+arg_0]
add     ecx, 0d4h
call    sub_277b9a80
retn    4
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 0fffffe00h
push    esi
mov     esi, [ebp+arg_0]
push    edi
jnz     short loc_277db95e
test    byte ptr [esi+124h], 4
jz      short loc_277db95e
cmp     word ptr [ebp+arg_10], 4
jnz     short loc_277db95e
mov     eax, [esi]
lea     ecx, [ebp+arg_10]
push    ecx
mov     ecx, esi
call    dword ptr [eax+0b0h]
test    eax, eax
jl      short loc_277db958
push    [ebp+arg_20]
mov     eax, [ebp+arg_10]
push    [ebp+arg_1c]
mov     ecx, [eax]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    4
push    [ebp+arg_c]
push    [ebp+arg_8]
push    0
push    eax
call    dword ptr [ecx+18h]
mov     edi, eax
mov     eax, [ebp+arg_10]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
push    0
mov     ecx, esi
call    sub_277b45b0
mov     eax, edi
pop     edi
pop     esi
pop     ebp
retn    24h
push    [ebp+arg_20]
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_277b52e2
jmp     short loc_277db958
mov     eax, [esp+arg_0]
push    [esp+arg_4]
lea     ecx, [eax+94h]
call    sub_277ddde1
retn    8
push    ebp
mov     ebp, esp
sub     esp, 100h
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
push    edi
push    1
xor     edi, edi
cmp     [ebp+arg_4], 0fffffe00h
pop     eax
mov     [ebx], edi
jnz     short loc_277dba26
mov     eax, [ebp+arg_0]
lea     edx, [ebp+arg_4]
push    edx
mov     [ebp+arg_4], edi
lea     ecx, [eax-0c0h]
mov     [ebp+arg_8], edi
mov     eax, [ecx]
call    dword ptr [eax+0b0h]
cmp     eax, edi
jl      short loc_277db9fb
mov     eax, [ebp+arg_4]
lea     edx, [ebp+arg_8]
push    edx
push    offset iidinterface
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
mov     esi, eax
mov     eax, [ebp+arg_4]
cmp     eax, edi
jz      short loc_277db9f5
mov     [ebp+arg_4], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     esi, edi
jge     short loc_277dba02
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [ebp+arg_8]
push    ebx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
mov     esi, eax
mov     eax, [ebp+arg_8]
cmp     eax, edi
jz      short loc_277dba1e
mov     [ebp+arg_8], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     esi, edi
jge     short loc_277dba9a
mov     eax, esi
jmp     short loc_277db9fb
mov     esi, [ebp+arg_0]
mov     ecx, [esi+0bch]
cmp     ecx, edi
jz      short loc_277db9fb
cmp     [ebp+arg_4], ecx
jnz     short loc_277db9fb
mov     eax, [esi+0e0h]
mov     [ebp+arg_0], edi
cmp     eax, edi
jz      short loc_277dba53
mov     ecx, [eax]
lea     edx, [ebp+arg_0]
push    edx
push    eax
call    dword ptr [ecx+14h]
cmp     eax, edi
jl      short loc_277db9fb
lea     eax, [ebp+buffer]
push    100h
push    eax
lea     ecx, [esi-0c0h]
movsx   eax, word ptr [ebp+arg_0]
add     eax, 4e21h
push    eax
mov     eax, [ecx]
call    dword ptr [eax+28h]
push    eax
call    ds:loadstringa
lea     eax, [ebp+buffer]
push    edi
push    eax
call    sub_277b7d29
pop     ecx
cmp     eax, edi
pop     ecx
mov     [ebx], eax
jnz     short loc_277dba9a
mov     eax, 8007000eh
jmp     loc_277db9fb
xor     eax, eax
jmp     loc_277db9fb
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
mov     ecx, [ebp+arg_4]
push    esi
push    edi
mov     eax, [eax+0bch]
test    eax, eax
jz      short loc_277dbaca
cmp     ecx, eax
jnz     short loc_277dbaca
mov     esi, offset dword_277b1f18
mov     edi, [ebp+arg_8]
xor     eax, eax
movsd
movsd
movsd
movsd
jmp     short loc_277dbaf3
cmp     ecx, 0fffffdffh
jz      short loc_277dbb00
cmp     ecx, 0fffffe00h
jz      short loc_277dbaf9
cmp     ecx, 0fffffe0bh
jz      short loc_277dbb00
mov     edi, [ebp+arg_8]
mov     esi, offset dword_277b6008
movsd
movsd
movsd
movsd
mov     eax, 80040200h
pop     edi
pop     esi
pop     ebp
retn    0ch
mov     esi, offset dword_277b1ef8
jmp     short loc_277dbabf
mov     esi, offset dword_277b1f08
jmp     short loc_277dbabf
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
mov     edx, [ebp+arg_4]
push    esi
xor     esi, esi
mov     ecx, [eax+0c0h]
cmp     ecx, esi
jz      short loc_277dbb3f
cmp     edx, ecx
jnz     short loc_277dbb3f
push    esi
lea     ecx, [eax+98h]
push    ecx
push    dword ptr [eax-0ach]
push    [ebp+arg_c]
push    [ebp+arg_8]
call    sub_277dd471
add     esp, 14h
jmp     short loc_277dbb8b
mov     ecx, [eax+0c4h]
cmp     ecx, esi
jz      short loc_277dbb57
cmp     edx, ecx
jnz     short loc_277dbb57
push    2
lea     ecx, [eax+0a8h]
jmp     short loc_277dbb28
mov     ecx, [eax+0b8h]
cmp     ecx, esi
jz      short loc_277dbb6e
cmp     edx, ecx
jnz     short loc_277dbb6e
push    esi
lea     ecx, [eax+88h]
jmp     short loc_277dbb28
cmp     edx, 0fffffdf8h
jz      short loc_277dbb9d
cmp     edx, 0fffffe08h
jz      short loc_277dbb97
cmp     [ebp+arg_8], esi
jz      short loc_277dbb90
cmp     [ebp+arg_c], esi
jz      short loc_277dbb90
push    1
pop     eax
pop     esi
pop     ebp
retn    10h
mov     eax, 80004003h
jmp     short loc_277dbb8b
push    esi
lea     ecx, [eax+78h]
jmp     short loc_277dbb28
push    esi
lea     ecx, [eax+68h]
jmp     short loc_277dbb28
push    [esp+arg_8]
push    [esp+4+arg_c]
call    sub_277dd776
pop     ecx
pop     ecx
retn    10h
mov     edx, [esp+arg_8]
mov     ecx, [esp+arg_4]
mov     eax, 0fffffdfeh
cmp     ecx, eax
mov     dword ptr [edx], 0fffffffeh
jg      short loc_277dbbeb
jz      short loc_277dbc1b
cmp     ecx, 0fffffdf8h
jz      short loc_277dbc2b
cmp     ecx, 0fffffdf9h
jle     short loc_277dbbe6
cmp     ecx, 0fffffdfbh
jle     short loc_277dbc2b
xor     eax, eax
retn    0ch
cmp     ecx, 0fffffdffh
jz      short loc_277dbc2b
cmp     ecx, 0fffffe00h
jz      short loc_277dbc23
cmp     ecx, 0fffffe08h
jz      short loc_277dbc2b
cmp     ecx, 0fffffe0bh
jz      short loc_277dbc2b
cmp     ecx, 60dh
jle     short loc_277dbbe6
cmp     ecx, 60fh
jg      short loc_277dbbe6
mov     dword ptr [edx], 0fffffffah
jmp     short loc_277dbbe6
mov     dword ptr [edx], 0fffffffdh
jmp     short loc_277dbbe6
mov     dword ptr [edx], 0fffffffbh
jmp     short loc_277dbbe6
mov     eax, [ecx+188h]
mov     ecx, [esp+arg_0]
and     eax, 1
mov     [ecx], eax
xor     eax, eax
retn    4
push    ebx
push    ebp
push    esi
push    edi
mov     edi, [esp+10h+arg_0]
mov     esi, ecx
test    edi, edi
jz      short loc_277dbc74
cmp     edi, 1
jz      short loc_277dbc74
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
mov     eax, [esi+188h]
and     eax, 1
cmp     eax, edi
jz      short loc_277dbcdd
lea     ebp, [esi+2ch]
mov     ebx, 0fffffe08h
push    ebx
mov     ecx, ebp
call    sub_277bf426
test    eax, eax
jnz     short loc_277dbca5
mov     edx, [esi]
mov     eax, 183h
push    eax
push    eax
push    800a0183h
jmp     short loc_277dbc68
mov     eax, [esi+188h]
push    dword ptr [esi+0a0h]
or      dword ptr [esi+0b0h], 1
xor     edi, eax
and     edi, 1
mov     ecx, esi
xor     edi, eax
mov     [esi+188h], edi
call    sub_277dbe76
push    0
mov     ecx, esi
call    sub_277b45b0
push    ebx
mov     ecx, ebp
call    sub_277b4535
xor     eax, eax
jmp     short loc_277dbc6d
push    [esp+arg_0]
add     ecx, 0d4h
call    sub_277ddd34
retn    4
push    [esp+arg_0]
add     ecx, 0d4h
call    sub_277ddcf2
retn    4
push    [esp+arg_0]
add     ecx, 0d4h
call    sub_277ddd48
retn    4
push    [esp+arg_0]
add     ecx, 0d4h
call    sub_277b64fd
retn    4
push    dword ptr [ecx+198h]
call    ds:sysallocstring
mov     ecx, [esp+arg_0]
mov     [ecx], eax
xor     eax, eax
retn    4
push    esi
push    edi
push    0
mov     esi, ecx
push    [esp+0ch+lpmultibytestr]
call    sub_277b7d29
pop     ecx
mov     edi, eax
mov     eax, [esi]
pop     ecx
push    edi
mov     ecx, esi
call    dword ptr [eax+0a8h]
push    edi
mov     esi, eax
call    ds:sysfreestring
mov     eax, esi
pop     edi
pop     esi
retn    4
push    ebx
push    ebp
mov     ebp, [esp+8+pbstr]
push    esi
mov     esi, ds:sysstringlen
push    edi
mov     ebx, ecx
push    ebp
call    esi
test    eax, eax
jnz     short loc_277dbd95
push    dword ptr [ebx+198h]
call    esi
test    eax, eax
jz      loc_277dbe72
test    ebp, ebp
jz      short loc_277dbdd0
mov     edi, [ebx+198h]
test    edi, edi
jz      short loc_277dbdd0
push    ebp
call    esi
mov     edx, eax
push    edi
mov     [esp+14h+pbstr], edx
call    esi
mov     ecx, [esp+10h+pbstr]
cmp     ecx, eax
jnz     short loc_277dbdd0
push    ebp
call    esi
mov     edi, [ebx+198h]
mov     ecx, eax
shl     ecx, 1
mov     esi, ebp
xor     eax, eax
repe cmpsb
jz      loc_277dbe72
test    byte ptr [ebx+124h], 2
jz      short loc_277dbdea
push    0fffffdfah
lea     ecx, [ebx+2ch]
call    sub_277bf426
test    eax, eax
jz      short loc_277dbe05
test    byte ptr [ebx+124h], 10h
mov     edi, 0fffffdfbh
jz      short loc_277dbe1f
push    edi
lea     ecx, [ebx+2ch]
call    sub_277bf426
test    eax, eax
jnz     short loc_277dbe1f
mov     edx, [ebx]
mov     eax, 183h
push    eax
push    eax
push    800a0183h
mov     ecx, ebx
call    dword ptr [edx+30h]
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    dword ptr [ebx+198h]
lea     esi, [ebx+198h]
call    ds:sysfreestring
push    ebp
call    ds:sysallocstring
or      dword ptr [ebx+0b0h], 1
push    0
mov     ecx, ebx
mov     [esi], eax
call    sub_277b45b0
test    byte ptr [ebx+124h], 2
jz      short loc_277dbe60
push    0fffffdfah
lea     ecx, [ebx+2ch]
call    sub_277b4535
test    byte ptr [ebx+124h], 10h
jz      short loc_277dbe72
push    edi
lea     ecx, [ebx+2ch]
call    sub_277b4535
xor     eax, eax
jmp     short loc_277dbe18
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+hwnd]
xor     ebx, ebx
mov     esi, ecx
cmp     edi, ebx
jz      short loc_277dbebe
push    0fffffff0h
push    edi
call    ds:getwindowlonga
mov     ecx, eax
mov     edx, 800000h
xor     ecx, edx
test    byte ptr [esi+188h], 1
jz      short loc_277dbea2
or      ecx, edx
cmp     eax, ecx
jz      short loc_277dbebe
push    ecx
push    0fffffff0h
push    edi
call    ds:setwindowlonga
push    37h
push    ebx
push    ebx
push    ebx
push    ebx
push    ebx
push    edi
call    ds:setwindowpos
pop     edi
pop     esi
pop     ebx
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, ecx
push    edi
xor     ebx, ebx
test    byte ptr [esi+124h], 20h
lea     edi, [esi+124h]
mov     [ebp+var_8], ebx
mov     [ebp+var_4], ebx
jz      short loc_277dbef3
mov     eax, [esi]
lea     ecx, [ebp+var_8]
push    ecx
mov     ecx, esi
call    dword ptr [eax+9ch]
test    byte ptr [edi], 80h
jz      short loc_277dbf06
mov     eax, [esi]
lea     ecx, [ebp+var_4]
push    ecx
mov     ecx, esi
call    dword ptr [eax+84h]
cmp     [ebp+var_8], ebx
jnz     short loc_277dbf10
cmp     [ebp+var_4], ebx
jz      short loc_277dbf6a
push    2
push    [ebp+hdc]
call    ds:getdevicecaps
cmp     eax, 1
jnz     short loc_277dbf6a
cmp     [ebp+var_8], ebx
mov     esi, ds:drawedge
mov     edi, 200fh
jz      short loc_277dbf5a
mov     eax, [ebp+var_4]
mov     ecx, eax
neg     ecx
sbb     ecx, ecx
and     cx, 0c000h
add     ecx, 8000h
or      ecx, edi
neg     eax
sbb     eax, eax
push    ecx
and     eax, 9
add     eax, 3
push    eax
push    [ebp+qrc]
push    [ebp+hdc]
call    esi
cmp     [ebp+var_4], ebx
jz      short loc_277dbf6a
push    edi
push    0ah
push    [ebp+qrc]
push    [ebp+hdc]
call    esi
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
mov     ebx, ecx
mov     ecx, [ebp+arg_0]
xor     eax, eax
push    esi
push    edi
mov     [ecx], eax
mov     ecx, [ebp+arg_4]
mov     [ebp+var_8], eax
lea     edi, [ebx+0d4h]
mov     [ecx], eax
lea     eax, [ebp+var_4]
push    eax
mov     ecx, edi
mov     [ebp+var_24], 0abcdef01h
mov     [ebp+var_20], 50000h
call    sub_277ddd34
mov     eax, [ebp+var_4]
mov     ecx, [ebx+188h]
lea     esi, [ebx+188h]
and     eax, 3
shl     eax, 0bh
and     ch, 0e7h
or      eax, ecx
mov     ecx, edi
mov     [esi], eax
lea     eax, [ebp+var_4]
push    eax
call    sub_277ddd48
mov     eax, [ebp+var_4]
mov     ecx, [esi]
and     eax, 3
and     ch, 9fh
shl     eax, 0dh
or      eax, ecx
lea     edi, [ebp+var_18]
mov     [esi], eax
movsd
test    byte ptr [ebx+124h], 12h
movsd
movsd
jz      short loc_277dc006
mov     eax, [ebx+198h]
test    eax, eax
jz      short loc_277dc006
push    eax
call    ds:sysstringlen
mov     [ebp+var_8], eax
mov     esi, [ebp+var_8]
mov     ecx, [ebp+var_c]
xor     eax, eax
cmp     eax, esi
sbb     eax, eax
and     ecx, 0fffffffeh
neg     eax
and     eax, 1
or      eax, ecx
mov     ecx, [ebp+arg_4]
mov     byte ptr [ebp+arg_4], al
mov     [ebp+var_c], eax
and     byte ptr [ebp+arg_4], 1
mov     dword ptr [ecx], 1ch
jz      short loc_277dc037
lea     eax, [esi+esi+20h]
mov     [ecx], eax
push    dword ptr [ecx]
push    0
push    dword_278282f0
call    ds:heapalloc
test    eax, eax
jnz     short loc_277dc057
mov     eax, 8007000eh
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     byte ptr [ebp+arg_4], 0
push    7
pop     ecx
lea     esi, [ebp+var_24]
mov     edi, eax
rep movsd
jz      short loc_277dc086
mov     ecx, [ebp+var_8]
mov     esi, [ebx+198h]
mov     [eax+1ch], ecx
add     ecx, ecx
mov     edx, ecx
lea     edi, [eax+20h]
shr     ecx, 2
rep movsd
mov     ecx, edx
and     ecx, 3
rep movsb
mov     ecx, [ebp+arg_0]
mov     [ecx], eax
xor     eax, eax
jmp     short loc_277dc050
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
mov     esi, ecx
push    edi
push    1
mov     [ebp+var_14], 0bdecde1fh
test    byte ptr [esi+124h], 4
mov     [ebp+var_10], 50001h
pop     edi
jz      loc_277dc192
test    byte ptr [esi+194h], 8
jz      loc_277dc192
mov     eax, edi
mov     cl, byte ptr [ebp+var_c]
xor     ebx, ebx
xor     cl, al
mov     eax, [esi+1a0h]
and     ecx, edi
mov     [ebp+var_4], ebx
xor     word ptr [ebp+var_c], cx
cmp     eax, ebx
jz      short loc_277dc0eb
mov     ecx, [eax]
lea     edx, [ebp+var_4]
push    edx
push    eax
call    dword ptr [ecx+14h]
test    byte ptr [esi+125h], 2
jz      loc_277dc199
cmp     [esi+1a0h], ebx
jz      loc_277dc199
cmp     word ptr [ebp+var_4], bx
jz      loc_277dc199
cmp     word ptr [ebp+var_4], 0ffffh
jz      loc_277dc199
mov     eax, edi
mov     ecx, [ebp+var_c]
mov     ebx, [ebp+pstm]
and     eax, edi
and     cx, 0fffdh
shl     eax, 1
or      ecx, eax
mov     eax, [ebx]
mov     word ptr [ebp+var_c], cx
push    0
lea     ecx, [ebp+var_14]
push    0ch
push    ecx
push    ebx
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277dc18b
test    byte ptr [esi+124h], 4
jz      short loc_277dc1a0
test    byte ptr [esi+194h], 8
jz      short loc_277dc1a0
mov     eax, [esi+19ch]
test    eax, eax
jz      short loc_277dc1a0
mov     ecx, [eax]
lea     edx, [ebp+ppstm]
push    edx
push    offset dword_277cbef0
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277dc18b
push    ebx
push    [ebp+ppstm]
call    ds:olesavetostream
mov     edi, eax
mov     eax, [ebp+ppstm]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    edi, edi
jge     short loc_277dc1a0
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    4
xor     eax, eax
jmp     loc_277dc0c7
xor     eax, eax
jmp     loc_277dc11b
test    byte ptr [esi+125h], 2
jz      short loc_277dc1ec
mov     eax, [esi]
lea     ecx, [ebp+pstm]
push    ecx
mov     ecx, esi
call    dword ptr [eax+0c0h]
test    eax, eax
jl      short loc_277dc18b
mov     eax, [ebp+pstm]
test    eax, eax
jz      short loc_277dc1cc
and     [ebp+pstm], 0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     word ptr [ebp+var_4], 0
jz      short loc_277dc1ec
cmp     word ptr [ebp+var_4], 0ffffh
jz      short loc_277dc1ec
push    dword ptr [esi+1a0h]
mov     ecx, esi
push    ebx
call    sub_277dc1f0
test    eax, eax
jl      short loc_277dc18b
xor     eax, eax
jmp     short loc_277dc18b
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+arg_4]
push    edi
xor     edi, edi
cmp     esi, edi
mov     [ebp+ppstm], edi
mov     [ebp+var_8], edi
jz      short loc_277dc210
mov     eax, [esi]
lea     ecx, [ebp+var_8]
push    ecx
push    esi
call    dword ptr [eax+14h]
cmp     word ptr [ebp+var_8], 0ffffh
jz      short loc_277dc26f
cmp     word ptr [ebp+var_8], di
jz      short loc_277dc26f
mov     eax, [esi]
lea     ecx, [ebp+ppstm]
push    ecx
push    offset dword_277cbef0
push    esi
call    dword ptr [eax]
mov     esi, eax
cmp     esi, edi
jl      short loc_277dc243
push    [ebp+pstm]
push    [ebp+ppstm]
call    ds:olesavetostream
mov     esi, eax
cmp     esi, edi
jge     short loc_277dc25b
mov     eax, [ebp+ppstm]
cmp     eax, edi
jz      short loc_277dc253
mov     [ebp+ppstm], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, esi
pop     edi
pop     esi
leave
retn    8
mov     eax, [ebp+ppstm]
cmp     eax, edi
jz      short loc_277dc26b
mov     [ebp+ppstm], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
xor     eax, eax
jmp     short loc_277dc255
push    1
pop     eax
jmp     short loc_277dc255
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
lea     eax, [ebp+pvarg]
push    edi
mov     esi, ecx
push    eax
call    ds:variantinit
test    byte ptr [esi+124h], 2
mov     edi, [ebp+arg_0]
mov     word ptr [ebp+pvarg.anonymous_0], 8
jz      short loc_277dc2ea
mov     eax, [esi+198h]
lea     ebx, [esi+198h]
test    eax, eax
jz      short loc_277dc2b6
push    eax
call    ds:sysstringlen
test    eax, eax
jnz     short loc_277dc2bc
cmp     [ebp+arg_4], 0
jz      short loc_277dc2ea
push    dword ptr [ebx]
call    ds:sysallocstring
lea     ecx, [ebp+pvarg]
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
mov     eax, [edi]
push    ecx
push    offset acaption_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      loc_277dc571
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
test    byte ptr [esi+124h], 10h
mov     word ptr [ebp+pvarg.anonymous_0], 8
jz      short loc_277dc348
mov     eax, [esi+198h]
lea     ebx, [esi+198h]
test    eax, eax
jz      short loc_277dc314
push    eax
call    ds:sysstringlen
test    eax, eax
jnz     short loc_277dc31a
cmp     [ebp+arg_4], 0
jz      short loc_277dc348
push    dword ptr [ebx]
call    ds:sysallocstring
lea     ecx, [ebp+pvarg]
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
mov     eax, [edi]
push    ecx
push    offset atext_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      loc_277dc571
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
test    byte ptr [esi+124h], 8
mov     word ptr [ebp+pvarg.anonymous_0], 3
jz      short loc_277dc388
test    byte ptr [esi+194h], 2
jnz     short loc_277dc366
cmp     [ebp+arg_4], 0
jz      short loc_277dc388
mov     eax, [esi+18ch]
lea     ecx, [ebp+pvarg]
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
mov     eax, [edi]
push    ecx
push    offset aforecolor_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      loc_277dc571
test    byte ptr [esi+124h], 1
jz      short loc_277dc3c2
test    byte ptr [esi+194h], 4
jnz     short loc_277dc3a0
cmp     [ebp+arg_4], 0
jz      short loc_277dc3c2
mov     eax, [esi+190h]
lea     ecx, [ebp+pvarg]
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
mov     eax, [edi]
push    ecx
push    offset abackcolor_2
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      loc_277dc571
test    byte ptr [esi+124h], 20h
mov     word ptr [ebp+pvarg.anonymous_0], 2
jz      short loc_277dc408
test    byte ptr [esi+188h], 1
lea     eax, [esi+188h]
jnz     short loc_277dc3e6
cmp     [ebp+arg_4], 0
jz      short loc_277dc408
mov     al, [eax]
lea     ecx, [ebp+pvarg]
and     eax, 1
push    ecx
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
mov     eax, [edi]
push    offset aborderstyle_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      loc_277dc571
test    byte ptr [esi+124h], 80h
jz      short loc_277dc449
test    byte ptr [esi+194h], 1
jnz     short loc_277dc420
cmp     [ebp+arg_4], 0
jz      short loc_277dc449
mov     eax, [esi+188h]
lea     ecx, [ebp+pvarg]
shr     eax, 2
and     eax, 1
push    ecx
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
mov     eax, [edi]
push    offset aappearance_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      loc_277dc571
test    byte ptr [esi+125h], 1
jz      short loc_277dc488
mov     eax, [esi+188h]
test    ax, 7f8h
jnz     short loc_277dc464
cmp     [ebp+arg_4], 0
jz      short loc_277dc488
shr     eax, 3
and     ax, 0ffh
lea     ecx, [ebp+pvarg]
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
mov     eax, [edi]
push    ecx
push    offset amousepointer_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      loc_277dc571
test    byte ptr [esi+124h], 40h
mov     word ptr [ebp+pvarg.anonymous_0], 0bh
jz      short loc_277dc4cf
mov     eax, [esi+188h]
mov     ecx, eax
and     ecx, 2
cmp     cl, 2
jnz     short loc_277dc4ad
cmp     [ebp+arg_4], 0
jz      short loc_277dc4cf
shr     eax, 1
and     eax, 1
lea     ecx, [ebp+pvarg]
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
mov     eax, [edi]
push    ecx
push    offset aenabled_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      loc_277dc571
test    byte ptr [esi+124h], 4
mov     word ptr [ebp+pvarg.anonymous_0], 0dh
jz      short loc_277dc51f
test    byte ptr [esi+194h], 8
jnz     short loc_277dc4ed
cmp     [ebp+arg_4], 0
jz      short loc_277dc51f
mov     eax, [esi+19ch]
test    eax, eax
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
jz      short loc_277dc51f
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset afont_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jl      short loc_277dc571
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
test    byte ptr [esi+125h], 2
mov     word ptr [ebp+pvarg.anonymous_0], 0dh
jz      short loc_277dc58e
mov     eax, [esi+1a0h]
test    eax, eax
jz      short loc_277dc58e
and     [ebp+arg_0], 0
mov     ecx, [eax]
lea     edx, [ebp+arg_0]
push    edx
push    eax
call    dword ptr [ecx+14h]
cmp     word ptr [ebp+arg_0], 0
jz      short loc_277dc58e
mov     eax, [esi+1a0h]
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
mov     eax, [edi]
lea     ecx, [ebp+pvarg]
push    ecx
push    offset amouseicon_0
push    edi
call    dword ptr [eax+10h]
mov     ebx, eax
test    ebx, ebx
jge     short loc_277dc584
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
push    [ebp+arg_4]
lea     ecx, [esi+0d4h]
push    edi
call    sub_277ddd5c
xor     eax, eax
jmp     short loc_277dc57d
push    ebp
mov     ebp, esp
sub     esp, 20h
mov     eax, [ebp+arg_0]
push    ebx
push    esi
push    edi
mov     esi, [eax]
mov     ebx, ecx
push    7
lea     edi, [ebp+var_20]
pop     ecx
mov     [ebp+var_4], esi
rep movsd
cmp     [ebp+var_20], 0abcdef01h
jnz     loc_277dc671
mov     eax, [ebp+var_1c]
test    ax, ax
jnz     loc_277dc671
shr     eax, 10h
cmp     ax, 5
jnz     loc_277dc671
lea     eax, [ebx+188h]
lea     esi, [ebp+var_14]
mov     edi, eax
movsd
movsd
movsd
mov     eax, [eax]
lea     esi, [ebx+0d4h]
shr     eax, 0bh
and     eax, 3
mov     ecx, esi
push    eax
call    sub_277ddcf2
mov     eax, [ebx+188h]
mov     ecx, esi
shr     eax, 0dh
and     eax, 3
push    eax
call    sub_277b64fd
mov     esi, [ebp+var_4]
add     esi, 1ch
test    byte ptr [ebx+124h], 12h
jz      short loc_277dc65c
mov     eax, [ebx+198h]
test    eax, eax
jz      short loc_277dc641
push    eax
call    ds:sysfreestring
and     dword ptr [ebx+198h], 0
test    [ebp+var_8], 1
jz      short loc_277dc65c
mov     edi, [esi]
add     esi, 4
push    edi
push    esi
call    ds:sysallocstringlen
mov     [ebx+198h], eax
add     esi, edi
mov     eax, [ebp+arg_0]
or      byte ptr [ebx+194h], 6
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, 8000ffffh
jmp     short loc_277dc66a
push    ebp
mov     ebp, esp
sub     esp, 14h
mov     eax, [ebp+pstm]
push    ebx
push    esi
xor     ebx, ebx
push    edi
mov     edi, ecx
mov     ecx, [eax]
push    ebx
lea     edx, [ebp+var_14]
push    0ch
push    edx
push    eax
mov     [ebp+var_4], ebx
call    dword ptr [ecx+0ch]
cmp     eax, ebx
jl      short loc_277dc6bc
cmp     [ebp+var_14], 0bdecde1fh
jnz     short loc_277dc6b7
cmp     [ebp+var_10], 50000h
jz      short loc_277dc6c3
cmp     [ebp+var_10], 50001h
jz      short loc_277dc6c3
mov     eax, 8000ffffh
pop     edi
pop     esi
pop     ebx
leave
retn    4
test    byte ptr [edi+124h], 4
jz      short loc_277dc717
test    [ebp+var_c], 1
jz      loc_277dc7d3
mov     eax, [edi+19ch]
lea     esi, [edi+19ch]
cmp     eax, ebx
jz      short loc_277dc6ee
mov     ecx, [eax]
push    eax
mov     [esi], ebx
call    dword ptr [ecx+8]
cmp     [ebp+var_10], 50001h
jnz     short loc_277dc772
push    esi
push    offset iidinterface
push    [ebp+pstm]
call    ds:oleloadfromstream
mov     esi, eax
cmp     esi, ebx
jl      loc_277dc83b
or      byte ptr [edi+194h], 8
test    byte ptr [edi+125h], 2
jz      short loc_277dc76b
mov     al, [ebp+var_c]
shr     al, 1
test    al, 1
jz      loc_277dc86b
cmp     [ebp+var_10], 50001h
jnz     loc_277dc7de
mov     eax, [edi+1a0h]
lea     esi, [edi+1a0h]
cmp     eax, ebx
jz      short loc_277dc752
mov     ecx, [eax]
push    eax
mov     [esi], ebx
call    dword ptr [ecx+8]
push    esi
push    offset riid
push    [ebp+pstm]
call    ds:oleloadfromstream
mov     esi, eax
cmp     esi, ebx
jl      loc_277dc83b
xor     eax, eax
jmp     loc_277dc6bc
cmp     [ebp+var_10], 50000h
jnz     short loc_277dc710
push    ebx
push    esi
call    sub_277dd85f
pop     ecx
cmp     eax, ebx
pop     ecx
jl      loc_277dc6bc
mov     esi, [esi]
lea     ecx, [ebp+var_4]
push    ecx
push    offset dword_277cbef0
mov     eax, [esi]
push    esi
call    dword ptr [eax]
cmp     eax, ebx
jl      loc_277dc6bc
mov     eax, [ebp+var_4]
push    [ebp+pstm]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
mov     esi, eax
cmp     esi, ebx
jl      loc_277dc83b
mov     eax, [ebp+var_4]
cmp     eax, ebx
jz      loc_277dc710
mov     [ebp+var_4], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277dc710
mov     [edi+19ch], ebx
jmp     loc_277dc717
cmp     [ebp+var_10], 50000h
jnz     short loc_277dc76b
mov     eax, [edi]
lea     ecx, [ebp+var_8]
push    ecx
mov     ecx, edi
call    dword ptr [eax+0c0h]
cmp     eax, ebx
jl      loc_277dc6bc
mov     eax, [ebp+var_8]
cmp     eax, ebx
jz      short loc_277dc80d
mov     [ebp+var_8], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     edi, [edi+1a0h]
lea     ecx, [ebp+var_4]
push    ecx
push    offset dword_277cbef0
mov     eax, [edi]
push    edi
call    dword ptr [eax]
cmp     eax, ebx
jl      loc_277dc6bc
mov     eax, [ebp+var_4]
push    [ebp+pstm]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
mov     esi, eax
cmp     esi, ebx
jge     short loc_277dc852
mov     eax, [ebp+var_4]
cmp     eax, ebx
jz      short loc_277dc84b
mov     [ebp+var_4], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, esi
jmp     loc_277dc6bc
mov     eax, [ebp+var_4]
cmp     eax, ebx
jz      loc_277dc76b
mov     [ebp+var_4], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
jmp     loc_277dc76b
mov     ecx, [edi+1a0h]
lea     eax, [edi+1a0h]
cmp     ecx, ebx
jz      loc_277dc76b
mov     [eax], ebx
mov     eax, [ecx]
push    ecx
call    dword ptr [eax+8]
jmp     loc_277dc76b
push    ebp
mov     ebp, esp
sub     esp, 20h
and     [ebp+bstrstring], 0
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
lea     eax, [ebp+pvarg]
push    edi
push    eax
call    ds:variantinit
cmp     dword ptr [ebx], 0
jz      short loc_277dc8c5
lea     esi, [ebx+8]
mov     [ebp+arg_4], esi
test    byte ptr [ebx+14h], 8
jz      short loc_277dc8d5
add     ebx, 18h
add     esi, 18h
mov     [ebp+arg_4], esi
cmp     dword ptr [ebx], 0
jnz     short loc_277dc8b1
push    [ebp+bstrstring]
call    ds:sysfreestring
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
cmp     word ptr [ebx+0ch], 8
jnz     loc_277dc9f6
mov     edi, [ebx+4]
add     edi, [ebp+arg_8]
cmp     dword ptr [esi], 0
mov     [ebp+var_c], edi
jz      short loc_277dc905
push    [ebp+bstrstring]
call    ds:sysfreestring
push    0
push    dword ptr [esi]
call    sub_277b7d29
pop     ecx
mov     [ebp+bstrstring], eax
pop     ecx
cmp     word ptr [ebx+0ch], 0dh
jnz     loc_277dc9fe
mov     esi, [ebx+4]
add     esi, [ebp+arg_8]
test    byte ptr [ebx+14h], 2
mov     [ebp+var_10], esi
jz      short loc_277dc933
and     [ebp+var_8], 0
mov     eax, [esi]
test    eax, eax
jz      short loc_277dc933
mov     ecx, [eax]
lea     edx, [ebp+var_8]
push    edx
push    eax
call    dword ptr [ecx+14h]
cmp     [ebp+arg_c], 0
jnz     short loc_277dc999
mov     ax, [ebx+0ch]
cmp     ax, 8
jz      short loc_277dc961
mov     esi, [ebx+4]
mov     ecx, [ebx+10h]
add     esi, [ebp+arg_8]
mov     edi, [ebp+arg_4]
xor     edx, edx
repe cmpsb
mov     edi, [ebp+var_c]
mov     esi, [ebp+var_10]
jnz     short loc_277dc999
cmp     ax, 8
jnz     short loc_277dc96f
push    [ebp+bstrstring]
push    dword ptr [edi]
call    sub_277e1f06
test    eax, eax
jz      short loc_277dc999
mov     ax, [ebx+0ch]
cmp     ax, 0dh
jnz     short loc_277dc9e7
test    byte ptr [ebx+14h], 2
jz      short loc_277dc98d
cmp     word ptr [ebp+var_8], 0
jz      short loc_277dc98d
cmp     word ptr [ebp+var_8], 0ffffh
jnz     short loc_277dc999
cmp     ax, 0dh
jnz     short loc_277dc9e7
test    byte ptr [ebx+14h], 2
jnz     short loc_277dc9e7
mov     ax, [ebx+0ch]
mov     word ptr [ebp+pvarg.anonymous_0], ax
movzx   eax, ax
cmp     eax, 8
jz      short loc_277dca17
cmp     eax, 0dh
jz      short loc_277dca06
mov     ecx, [ebx+10h]
mov     esi, [ebx+4]
add     esi, [ebp+arg_8]
mov     eax, ecx
lea     edi, [ebp+pvarg.anonymous_0+8]
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
mov     eax, [ebp+arg_0]
lea     edx, [ebp+pvarg]
push    edx
push    dword ptr [ebx]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+10h]
mov     esi, eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
test    esi, esi
jl      short loc_277dca24
add     ebx, 18h
add     [ebp+arg_4], 18h
mov     esi, [ebp+arg_4]
jmp     loc_277dc8c0
mov     edi, [ebp+var_c]
jmp     loc_277dc905
mov     esi, [ebp+var_10]
jmp     loc_277dc933
mov     esi, [esi]
test    esi, esi
mov     dword ptr [ebp+pvarg.anonymous_0+8], esi
jz      short loc_277dc9c8
mov     eax, [esi]
push    esi
call    dword ptr [eax+4]
jmp     short loc_277dc9c8
push    dword ptr [edi]
call    ds:sysallocstring
mov     dword ptr [ebp+pvarg.anonymous_0+8], eax
jmp     short loc_277dc9c8
mov     eax, esi
jmp     loc_277dc8d0
push    esi
mov     esi, [esp+4+lpmsg]
mov     eax, [esi+4]
cmp     eax, 100h
jb      short loc_277dca63
cmp     eax, 102h
ja      short loc_277dca63
mov     eax, [esi+8]
cmp     eax, 21h
jb      short loc_277dca63
cmp     eax, 28h
ja      short loc_277dca63
push    esi
call    ds:translatemessage
push    esi
call    ds:dispatchmessagea
push    1
pop     eax
pop     esi
retn    4
xor     eax, eax
jmp     short loc_277dca5f
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, ecx
cmp     dword ptr [esi+120h], 0
jnz     short loc_277dcaa4
mov     eax, [esi]
lea     ecx, [ebp+clr]
push    ecx
mov     ecx, esi
call    dword ptr [eax+8ch]
lea     eax, [ebp+colorref]
push    eax
push    0
push    [ebp+clr]
call    ds:oletranslatecolor
push    [ebp+colorref]
call    ds:createsolidbrush
mov     [esi+120h], eax
mov     eax, [esi+120h]
pop     esi
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
test    byte ptr [ecx+0b0h], 2
jz      short loc_277dcae9
cmp     dword ptr [ecx+0ach], 0
jnz     short loc_277dcae9
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ecx+0a0h]
call    ds:getclientrect
push    [ebp+pt.y]
lea     eax, [ebp+rect]
push    [ebp+pt.x]
push    eax
call    ds:ptinrect
leave
retn    8
mov     eax, [ecx+90h]
cmp     [ebp+pt.x], eax
jl      short loc_277dcb1e
mov     edx, [ecx+88h]
add     edx, eax
cmp     [ebp+pt.x], edx
jg      short loc_277dcb1e
mov     eax, [ecx+94h]
cmp     [ebp+pt.y], eax
jl      short loc_277dcb1e
mov     ecx, [ecx+8ch]
add     ecx, eax
cmp     [ebp+pt.y], ecx
jg      short loc_277dcb1e
push    1
pop     eax
jmp     short locret_277dcae5
xor     eax, eax
jmp     short locret_277dcae5
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_4]
push    esi
mov     esi, ecx
push    edi
mov     ecx, [eax]
mov     eax, [eax+4]
mov     [ebp+var_4], eax
lea     eax, [ebp+var_8]
mov     [ebp+var_8], ecx
push    eax
mov     ecx, esi
call    sub_277bf7d6
test    byte ptr [esi+0d0h], 7
jnz     short loc_277dcb5d
push    1
mov     ecx, esi
call    sub_277bf815
and     byte ptr [esi+0d1h], 0feh
movzx   edi, [ebp+arg_0]
mov     eax, edi
and     eax, 7
or      [esi+0d0h], eax
test    byte ptr [esi+126h], 20h
jz      short loc_277dcb93
push    [ebp+var_4]
push    [ebp+var_8]
call    sub_277dd0b6
movsx   eax, ax
push    eax
push    edi
push    offset dword_2782bef8
push    esi
call    sub_277b9711
add     esp, 18h
not     edi
shl     edi, 3
or      edi, 0ffffffc7h
and     [esi+0d0h], edi
pop     edi
pop     esi
leave
retn    8
push    esi
mov     esi, ecx
test    byte ptr [esi+126h], 2
jz      short loc_277dcbd0
push    offset dword_2782beec
push    esi
call    sub_277b9711
mov     eax, [esp+0ch+arg_0]
pop     ecx
and     eax, 7
pop     ecx
shl     eax, 3
or      [esi+0d0h], eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     eax, [ecx+1a0h]
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
lea     esi, [ecx+1a0h]
push    edi
xor     edi, edi
cmp     eax, edi
mov     [ebp+var_4], edi
mov     [ebx], edi
jz      short loc_277dcc05
mov     ecx, [eax]
lea     edx, [ebp+arg_0]
push    edx
push    eax
call    dword ptr [ecx+14h]
cmp     eax, edi
jl      short loc_277dcc54
mov     eax, [esi]
cmp     eax, edi
jz      short loc_277dcc1e
cmp     word ptr [ebp+arg_0], 0ffffh
jnz     short loc_277dcc39
cmp     eax, edi
jz      short loc_277dcc1e
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     [esi], edi
push    esi
push    edi
lea     eax, [ebp+pictdesc]
push    offset riid
push    eax
mov     [ebp+pictdesc.cbsizeofstruct], 14h
mov     [ebp+pictdesc.pictype], edi
call    ds:olecreatepictureindirect
mov     esi, [esi]
lea     ecx, [ebp+var_4]
push    ecx
push    offset dword_277cbf20
mov     eax, [esi]
push    esi
call    dword ptr [eax]
cmp     eax, edi
jl      short loc_277dcc50
mov     edi, [ebp+var_4]
mov     [ebx], edi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
push    ebx
xor     ebx, ebx
push    esi
cmp     eax, ebx
push    edi
mov     esi, ecx
mov     [ebp+var_4], ebx
mov     [ebp+var_8], ebx
jz      loc_277dcd73
mov     ecx, [eax]
lea     edx, [ebp+var_4]
push    edx
push    offset riid
push    eax
call    dword ptr [ecx]
cmp     eax, ebx
jl      loc_277dcde5
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
mov     edi, eax
cmp     edi, ebx
jl      short loc_277dccd7
cmp     word ptr [ebp+var_8], 3
jz      loc_277dcda2
cmp     word ptr [ebp+var_8], bx
jz      loc_277dcda2
cmp     word ptr [ebp+var_8], 0ffffh
jz      loc_277dcda2
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
mov     edi, eax
mov     eax, [ebp+var_4]
cmp     eax, ebx
jz      short loc_277dcce7
mov     [ebp+var_4], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esi+1a0h]
cmp     eax, ebx
jz      short loc_277dcd06
mov     ecx, [eax]
push    eax
mov     [esi+1a0h], ebx
call    dword ptr [ecx+8]
mov     eax, [ebp+var_4]
push    dword ptr [esi+17ch]
or      dword ptr [esi+0b0h], 1
lea     ecx, [esi+2ch]
mov     [esi+1a0h], eax
call    sub_277b4535
cmp     [esi+0a0h], ebx
jz      loc_277dcde5
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
movzx   eax, word ptr [ebp+point.y]
movzx   ecx, word ptr [ebp+point.x]
shl     eax, 10h
mov     edi, ds:sendmessagea
or      eax, ecx
push    eax
push    ebx
push    84h
push    dword ptr [esi+0a0h]
call    edi
mov     esi, [esi+0a0h]
movzx   eax, ax
or      eax, 2000000h
push    eax
push    esi
push    20h
push    esi
call    edi
jmp     short loc_277dcde5
mov     eax, [esi+1a0h]
lea     edi, [esi+1a0h]
cmp     eax, ebx
jz      short loc_277dcde5
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
push    dword ptr [esi+17ch]
lea     ecx, [esi+2ch]
mov     [edi], ebx
call    sub_277b4535
or      dword ptr [esi+0b0h], 1
jmp     short loc_277dcde5
mov     eax, [esi+1a0h]
mov     [ebp+arg_0], ebx
cmp     eax, ebx
jz      short loc_277dcdb9
mov     ecx, [eax]
lea     edx, [ebp+arg_0]
push    edx
push    eax
call    dword ptr [ecx+14h]
mov     eax, [ebp+var_8]
cmp     word ptr [ebp+arg_0], ax
jnz     loc_277dccf0
cmp     ax, bx
jz      short loc_277dcdd5
cmp     ax, 0ffffh
jnz     loc_277dccf0
mov     eax, [ebp+var_4]
cmp     eax, ebx
jz      short loc_277dcde5
mov     [ebp+var_4], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
xor     eax, eax
jmp     loc_277dcce9
mov     eax, [ecx+188h]
mov     ecx, [esp+arg_0]
shr     eax, 3
and     eax, 0ffh
mov     [ecx], eax
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_0]
push    esi
test    eax, eax
push    edi
mov     esi, ecx
jl      short loc_277dce1a
cmp     eax, 0fh
jle     short loc_277dce38
cmp     eax, 63h
jz      short loc_277dce38
mov     edx, [esi]
mov     eax, 17ch
push    eax
push    eax
push    800a017ch
mov     ecx, esi
call    dword ptr [edx+30h]
pop     edi
pop     esi
leave
retn    4
mov     edx, [esi+188h]
lea     ecx, [esi+188h]
push    dword ptr [esi+178h]
and     eax, 0ffh
or      dword ptr [esi+0b0h], 1
and     dx, 0f807h
shl     eax, 3
or      eax, edx
mov     [ecx], eax
lea     ecx, [esi+2ch]
call    sub_277b4535
cmp     dword ptr [esi+0a0h], 0
jz      short loc_277dceb5
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
movzx   eax, word ptr [ebp+point.y]
movzx   ecx, word ptr [ebp+point.x]
shl     eax, 10h
mov     edi, ds:sendmessagea
or      eax, ecx
push    eax
push    0
push    84h
push    dword ptr [esi+0a0h]
call    edi
mov     esi, [esi+0a0h]
movzx   eax, ax
or      eax, 2000000h
push    eax
push    esi
push    20h
push    esi
call    edi
xor     eax, eax
jmp     loc_277dce32
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ecx+188h]
push    esi
mov     edx, eax
xor     esi, esi
and     edx, 7f8h
push    edi
mov     [ebp+hcursor], esi
jz      short loc_277dcf4c
mov     edi, [ecx+0a0h]
cmp     edi, [ebp+arg_0]
jz      short loc_277dcef3
test    byte ptr [ecx+0b0h], 2
jz      short loc_277dcef3
cmp     [ecx+0ach], esi
jz      short loc_277dcf4c
cmp     [ebp+arg_4], 1
jnz     short loc_277dcf4c
cmp     edx, 318h
jz      short loc_277dcf36
shr     eax, 3
and     eax, 0ffh
push    ds:lpcursorname[eax*4]
push    esi
call    ds:loadcursora
mov     [ebp+hcursor], eax
cmp     [ebp+hcursor], esi
jz      short loc_277dcf28
push    [ebp+hcursor]
call    ds:setcursor
xor     eax, eax
cmp     [ebp+hcursor], esi
setnz   al
pop     edi
pop     esi
leave
retn    8
mov     ecx, [ecx+1a0h]
cmp     ecx, esi
jz      short loc_277dcf1a
mov     eax, [ecx]
lea     edx, [ebp+hcursor]
push    edx
push    ecx
call    dword ptr [eax+0ch]
jmp     short loc_277dcf1a
xor     eax, eax
jmp     short loc_277dcf30
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
add     eax, 0ffffff3ch
test    eax, eax
mov     [ecx], eax
jz      short loc_277dcf73
add     eax, 0c4h
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
xor     eax, eax
retn    8
xor     eax, eax
jmp     short loc_277dcf68
mov     eax, [ecx+70h]
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     edi, [esp+8+arg_0]
test    eax, eax
jz      short loc_277dcf98
push    [esp+8+arg_8]
mov     ecx, [eax]
push    esi
push    edi
push    eax
call    dword ptr [ecx+18h]
test    eax, eax
jge     short loc_277dcfb3
test    byte ptr [esp+8+arg_8], 8
jz      short loc_277dcfb8
fld     dword ptr [esi]
call    sub_277c433c
fld     dword ptr [esi+4]
mov     [edi], eax
call    sub_277c433c
mov     [edi+4], eax
pop     edi
pop     esi
retn    0ch
fild    dword ptr [edi]
fstp    dword ptr [esi]
fild    dword ptr [edi+4]
fstp    dword ptr [esi+4]
jmp     short loc_277dcfb3
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_4]
lea     eax, [ebp+pvarg]
push    edi
and     dword ptr [esi], 0
mov     edi, ecx
push    eax
call    ds:variantinit
push    3
push    0
push    [ebp+pvarsrc]
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantchangetype
test    eax, eax
jge     short loc_277dd009
mov     eax, [edi]
push    0dh
push    0dh
push    800a000dh
mov     ecx, edi
call    dword ptr [eax+30h]
pop     edi
pop     esi
leave
retn    8
mov     eax, dword ptr [ebp+pvarg.anonymous_0+8]
mov     [esi], eax
xor     eax, eax
jmp     short loc_277dd003
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, ecx
push    edi
test    byte ptr [esi+0b0h], 2
jz      short loc_277dd073
cmp     dword ptr [esi+0ach], 0
jnz     short loc_277dd073
and     [ebp+var_4], 0
cmp     [ebp+var_4], 0
jz      short loc_277dd07c
call    ds:getfocus
mov     edi, eax
mov     ebx, [ebp+arg_4]
push    offset dword_2782bf28
lea     eax, [ebp+lparam]
push    esi
push    eax
push    ebx
push    edi
call    sub_277dd9ed
add     esp, 14h
test    eax, eax
jz      short loc_277dd06a
cmp     [ebp+var_4], 0
jz      short loc_277dd084
call    ds:getfocus
cmp     edi, eax
jz      short loc_277dd08c
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     [ebp+var_4], 1
jmp     short loc_277dd031
mov     edi, [esi+0a0h]
jmp     short loc_277dd03f
cmp     edi, [esi+0a0h]
jmp     short loc_277dd068
push    [ebp+lparam]
cmp     [ebp+lpprevwndfunc], 0
push    dword ptr [ebx]
push    102h
jz      short loc_277dd0ad
push    dword ptr [esi+0a0h]
push    [ebp+lpprevwndfunc]
call    ds:callwindowproca
jmp     short loc_277dd06c
mov     ecx, esi
call    sub_277d9bdb
jmp     short loc_277dd06c
push    ebx
push    esi
mov     esi, ds:getkeystate
push    edi
push    10h
call    esi
xor     ecx, ecx
push    11h
test    ax, ax
setl    cl
mov     edi, ecx
call    esi
xor     ebx, ebx
push    12h
test    ax, ax
setl    bl
call    esi
xor     ecx, ecx
test    ax, ax
setl    cl
mov     eax, ecx
lea     eax, [ebx+eax*2]
lea     eax, [edi+eax*2]
pop     edi
pop     esi
pop     ebx
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
sub     eax, 111h
jz      short loc_277dd11b
dec     eax
jnz     short loc_277dd115
cmp     [ebp+arg_8], 0f060h
jnz     short loc_277dd115
push    1
push    [ebp+hdlg]
call    ds:enddialog
xor     eax, eax
pop     ebp
retn    10h
cmp     word ptr [ebp+arg_8], 1
jmp     short loc_277dd108
push    ebp
mov     ebp, esp
sub     esp, 64h
push    ebx
mov     ebx, ecx
mov     eax, [ebx+0d0h]
mov     ecx, eax
shr     ecx, 6
test    cl, 1
jnz     loc_277dd3c5
or      al, 40h
push    edi
mov     [ebx+0d0h], eax
mov     eax, [ebx+0a0h]
xor     edi, edi
push    esi
cmp     eax, edi
jz      loc_277dd36a
cmp     [ebp+nwidth], edi
lea     ecx, [ebp+rect]
push    ecx
push    eax
jz      loc_277dd35f
call    ds:getwindowrect
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
mov     [ebp+nwidth], eax
mov     eax, [ebp+rect.bottom]
sub     eax, [ebp+rect.top]
push    edi
mov     [ebp+nheight], eax
call    ds:getdc
push    eax
mov     [ebp+hdc], eax
call    ds:createcompatibledc
mov     esi, eax
push    edi
push    0ch
push    esi
mov     [ebp+var_8], esi
call    ds:getdevicecaps
push    eax
push    0eh
push    esi
call    ds:getdevicecaps
push    eax
push    [ebp+nheight]
push    [ebp+nwidth]
call    ds:createbitmap
push    eax
push    esi
mov     [ebp+var_18], eax
call    ds:selectobject
mov     [ebp+h], eax
mov     eax, [ebp+nwidth]
push    11h
push    edi
push    edi
mov     [ebp+qrc.right], eax
mov     eax, [ebp+nheight]
push    dword ptr [ebx+0a0h]
mov     [ebp+qrc.left], edi
mov     [ebp+qrc.top], edi
mov     [ebp+qrc.bottom], eax
call    ds:redrawwindow
test    byte ptr [ebx+188h], 1
jz      short loc_277dd221
mov     esi, [ebp+arg_4]
lea     edi, [ebp+rc]
movsd
movsd
movsd
push    1
lea     eax, [ebp+rc]
push    1
push    eax
movsd
call    ds:inflaterect
push    [ebp+rc.bottom]
push    [ebp+rc.right]
push    [ebp+rc.top]
push    [ebp+rc.left]
push    [ebp+hdc]
call    ds:rectangle
mov     esi, [ebp+var_8]
xor     edi, edi
push    edi
push    esi
push    14h
push    dword ptr [ebx+0a0h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_277dd266
mov     eax, [ebx]
lea     ecx, [ebp+clr]
push    ecx
mov     ecx, ebx
call    dword ptr [eax+8ch]
lea     eax, [ebp+colorref]
push    eax
push    edi
push    [ebp+clr]
call    ds:oletranslatecolor
push    [ebp+colorref]
call    ds:createsolidbrush
push    eax
lea     eax, [ebp+qrc]
push    eax
push    esi
call    ds:fillrect
cmp     [ebp+ho], edi
jz      short loc_277dd277
lea     eax, [ebp+qrc]
mov     ecx, ebx
push    eax
push    esi
call    sub_277dbec4
mov     eax, [ebx]
push    1
lea     ecx, [ebp+qrc]
push    esi
push    ecx
lea     ecx, [ebp+qrc]
push    ecx
push    esi
push    1
push    ebx
call    dword ptr [eax+48h]
push    11h
push    edi
push    edi
push    dword ptr [ebx+0a0h]
call    ds:redrawwindow
push    5
push    dword ptr [ebx+0a0h]
call    ds:getwindow
cmp     eax, edi
mov     [ebp+nwidth], eax
jz      loc_277dd37e
push    eax
call    ds:iswindowvisible
test    eax, eax
jz      loc_277dd355
lea     eax, [ebp+var_34]
push    eax
push    [ebp+nwidth]
call    ds:getwindowrect
lea     eax, [ebp+var_34]
push    eax
push    dword ptr [ebx+0a0h]
call    ds:screentoclient
lea     eax, [ebp+var_34.right]
push    eax
push    dword ptr [ebx+0a0h]
call    ds:screentoclient
lea     eax, [ebp+pt]
push    eax
mov     eax, [ebp+var_34.top]
neg     eax
push    eax
mov     eax, [ebp+var_34.left]
neg     eax
push    eax
push    esi
call    ds:setwindoworgex
push    [ebp+var_34.bottom]
push    [ebp+var_34.right]
push    [ebp+var_34.top]
push    [ebp+var_34.left]
call    ds:createrectrgn
push    eax
push    esi
mov     [ebp+ho], eax
call    ds:selectcliprgn
push    edi
push    esi
push    14h
push    [ebp+nwidth]
call    ds:sendmessagea
push    edi
push    esi
push    0fh
push    [ebp+nwidth]
call    ds:sendmessagea
push    edi
push    [ebp+pt.y]
push    [ebp+pt.x]
push    esi
call    ds:setwindoworgex
push    [ebp+ho]
call    ds:deleteobject
push    2
push    [ebp+nwidth]
jmp     loc_277dd2a3
call    ds:getclientrect
jmp     loc_277dd16d
mov     eax, [ebx+88h]
mov     [ebp+nwidth], eax
mov     eax, [ebx+8ch]
jmp     loc_277dd17c
push    1
push    esi
call    ds:setmapmode
push    1
push    [ebp+arg_4]
push    esi
push    [ebp+hdc]
call    sub_277dd3ca
add     esp, 10h
push    [ebp+h]
push    esi
call    ds:selectobject
push    [ebp+var_18]
call    ds:deleteobject
push    [ebp+hdc]
push    edi
call    ds:releasedc
push    esi
call    ds:deletedc
and     dword ptr [ebx+0d0h], 0ffffffbfh
pop     esi
pop     edi
pop     ebx
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
push    edi
push    0
and     [ebp+var_4], 0
push    1
pop     eax
push    eax
push    eax
push    eax
push    eax
call    ds:createbitmap
mov     ebx, eax
test    ebx, ebx
jz      short loc_277dd459
mov     esi, ds:selectobject
push    ebx
push    [ebp+hdc]
call    esi
mov     edi, eax
test    edi, edi
jz      short loc_277dd459
push    edi
push    [ebp+hdc]
call    esi
push    ebx
call    ds:deleteobject
lea     eax, [ebp+pv]
push    eax
push    18h
push    edi
call    ds:getobjecta
test    eax, eax
jz      short loc_277dd459
xor     edi, edi
cmp     [ebp+arg_c], edi
jz      short loc_277dd461
mov     ecx, [ebp+arg_8]
mov     edx, [ecx]
mov     esi, [ecx+4]
mov     eax, [ecx+8]
mov     ecx, [ecx+0ch]
sub     eax, edx
sub     ecx, esi
push    0cc0020h
push    [ebp+hsrc]
push    [ebp+wsrc]
push    edi
push    edi
push    [ebp+hdc]
push    ecx
push    eax
push    esi
push    edx
push    [ebp+hdcdest]
call    ds:stretchblt
mov     [ebp+var_4], 1
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn
mov     eax, [ebp+arg_8]
mov     ecx, [ebp+hsrc]
mov     edx, [eax]
mov     esi, [eax+4]
mov     eax, [ebp+wsrc]
jmp     short loc_277dd435
push    ebp
mov     ebp, esp
sub     esp, 114h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     esi, edi
mov     [ebp+var_4], edi
mov     [ebp+var_c], edi
jz      loc_277dd5ec
mov     eax, [ebp+arg_4]
cmp     eax, edi
jz      loc_277dd5ec
mov     ebx, offset criticalsection
mov     [eax], edi
push    ebx
mov     [esi], edi
call    ds:entercriticalsection
mov     eax, [ebp+arg_8]
lea     ecx, [ebp+pptlib]
push    ecx
movzx   ecx, word ptr lcid
mov     eax, off_278286a4[eax*8]
push    ecx
mov     cx, [eax+1ch]
mov     ax, [eax+18h]
push    ecx
push    eax
push    phkresult
call    ds:loadregtypelib
push    ebx
mov     [ebp+arg_8], eax
call    ds:leavecriticalsection
mov     eax, [ebp+arg_8]
cmp     eax, edi
jl      loc_277dd56f
mov     eax, [ebp+pptlib]
lea     edx, [ebp+arg_0]
push    edx
push    [ebp+arg_c]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
mov     [ebp+arg_8], eax
jl      loc_277dd6f4
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
cmp     eax, edi
mov     [ebp+arg_8], eax
jl      loc_277dd6f4
mov     ebx, [ebp+arg_10]
mov     eax, [ebp+var_4]
cmp     ebx, edi
jle     short loc_277dd531
movzx   ecx, word ptr [eax+2eh]
cmp     ebx, ecx
jl      short loc_277dd53a
movzx   eax, word ptr [eax+2eh]
mov     [ebp+arg_10], eax
mov     ebx, eax
mov     eax, [ebp+arg_4]
mov     [esi], ebx
mov     [eax], ebx
mov     eax, ebx
shl     eax, 2
push    eax
call    ds:cotaskmemalloc
cmp     eax, edi
mov     [esi+4], eax
jz      short loc_277dd56a
mov     eax, ebx
shl     eax, 2
push    eax
call    ds:cotaskmemalloc
mov     ecx, [ebp+arg_4]
cmp     eax, edi
mov     [ecx+4], eax
jnz     short loc_277dd574
mov     eax, 8007000eh
pop     edi
pop     esi
pop     ebx
leave
retn
cmp     ebx, edi
mov     [ebp+arg_c], edi
jle     short loc_277dd5b1
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_10]
push    edx
push    [ebp+arg_c]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+18h]
cmp     eax, edi
mov     [ebp+arg_8], eax
jl      loc_277dd6f4
mov     ecx, [ebp+var_10]
mov     eax, [ebp+arg_0]
test    byte ptr [ecx+1ch], 40h
mov     edx, [eax]
jz      short loc_277dd5f3
push    ecx
push    eax
call    dword ptr [edx+54h]
inc     [ebp+arg_c]
cmp     [ebp+arg_c], ebx
jl      short loc_277dd57b
mov     ecx, [ebp+arg_4]
mov     eax, [ebp+var_c]
cmp     [ebp+var_4], edi
mov     [esi], eax
mov     [ecx], eax
jz      short loc_277dd5cc
mov     eax, [ebp+arg_0]
push    [ebp+var_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4ch]
mov     eax, [ebp+arg_0]
cmp     eax, edi
jz      short loc_277dd5dc
mov     [ebp+arg_0], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+pptlib]
cmp     eax, edi
jz      short loc_277dd5ec
mov     [ebp+pptlib], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
xor     eax, eax
jmp     loc_277dd56f
push    edi
push    edi
lea     ebx, [ebp+lpstring]
push    edi
push    ebx
push    dword ptr [ecx]
push    eax
call    dword ptr [edx+30h]
push    [ebp+lpstring]
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
push    edi
push    edi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+lpstring]
push    edi
push    edi
call    ds:widechartomultibyte
mov     eax, [ebp+var_10]
push    [ebp+lpmultibytestr]
mov     eax, [eax+8]
push    dword ptr [eax+8]
lea     eax, [ebp+multibytestr]
push    offset alds_1
push    eax
call    ds:wsprintfa
mov     eax, [ebp+var_c]
add     esp, 10h
mov     ebx, eax
lea     eax, [ebp+multibytestr]
push    1
push    eax
shl     ebx, 2
call    sub_277b7d29
pop     ecx
pop     ecx
mov     ecx, [esi+4]
mov     [ebx+ecx], eax
mov     eax, [ebp+var_10]
mov     ecx, [ebp+arg_4]
mov     eax, [eax+8]
mov     ecx, [ecx+4]
mov     eax, [eax+8]
mov     [ebx+ecx], eax
push    [ebp+lpstring]
call    ds:sysfreestring
mov     eax, [ebp+arg_0]
push    [ebp+var_10]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+54h]
mov     eax, [esi+4]
cmp     [ebx+eax], edi
jz      short loc_277dd6cc
inc     [ebp+var_c]
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277dd6c4
test    [ebp+var_18], 1
jz      short loc_277dd6c4
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
mov     ebx, [ebp+arg_10]
jmp     loc_277dd5a9
cmp     [ebp+lpmultibytestr], edi
mov     [ebp+arg_8], 8007000eh
jz      short loc_277dd6f4
test    [ebp+var_18], 1
jz      short loc_277dd6f4
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
mov     eax, [esi]
cmp     eax, edi
jz      short loc_277dd726
cmp     [esi+4], edi
jz      short loc_277dd724
xor     ebx, ebx
cmp     eax, edi
jle     short loc_277dd71b
mov     eax, [esi+4]
mov     eax, [eax+ebx*4]
cmp     eax, edi
jz      short loc_277dd716
push    eax
call    ds:cotaskmemfree
inc     ebx
cmp     ebx, [esi]
jl      short loc_277dd705
push    dword ptr [esi+4]
call    ds:cotaskmemfree
mov     [esi], edi
mov     esi, [ebp+arg_4]
cmp     [esi], edi
jz      short loc_277dd73d
mov     eax, [esi+4]
cmp     eax, edi
jz      short loc_277dd73b
push    eax
call    ds:cotaskmemfree
mov     [esi], edi
cmp     [ebp+var_4], edi
jz      short loc_277dd74e
mov     eax, [ebp+arg_0]
push    [ebp+var_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4ch]
mov     eax, [ebp+arg_0]
cmp     eax, edi
jz      short loc_277dd75e
mov     [ebp+arg_0], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+pptlib]
cmp     eax, edi
jz      short loc_277dd76e
mov     [ebp+pptlib], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+arg_8]
jmp     loc_277dd56f
mov     eax, [esp+arg_0]
mov     cx, [esp+arg_4]
mov     word ptr [eax], 2
mov     [eax+8], cx
xor     eax, eax
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
and     [ebp+var_4], 0
mov     [ebp+var_8], eax
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebp+var_8]
push    eax
call    sub_277b4726
mov     eax, [ebp+var_10]
pop     ecx
pop     ecx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
and     [ebp+var_8], 0
mov     [ebp+var_4], eax
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebp+var_8]
push    eax
call    sub_277b4726
mov     eax, [ebp+var_c]
pop     ecx
pop     ecx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
and     [ebp+var_4], 0
mov     [ebp+var_8], eax
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebp+var_8]
push    eax
call    sub_277b921f
mov     eax, [ebp+var_10]
pop     ecx
pop     ecx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
and     [ebp+var_8], 0
mov     [ebp+var_4], eax
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebp+var_8]
push    eax
call    sub_277b921f
mov     eax, [ebp+var_c]
pop     ecx
pop     ecx
leave
retn
mov     eax, [esp+arg_0]
mov     ecx, [eax+4]
test    ecx, ecx
jz      short loc_277dd839
mov     edx, [esp+arg_4]
push    dword ptr [eax+10h]
mov     [eax+14h], edx
mov     edx, [ecx]
push    ecx
call    dword ptr [edx+0ch]
retn    8
xor     eax, eax
jmp     short locret_277dd836
mov     eax, [esp+arg_0]
mov     ecx, [eax+4]
test    ecx, ecx
jz      short loc_277dd85b
mov     edx, [esp+arg_4]
push    dword ptr [eax+10h]
mov     [eax+14h], edx
mov     edx, [ecx]
push    ecx
call    dword ptr [edx+10h]
retn    8
xor     eax, eax
jmp     short locret_277dd858
push    ebp
mov     ebp, esp
sub     esp, 40h
mov     eax, [ebp+lpvobj]
push    ebx
xor     ebx, ebx
push    esi
cmp     eax, ebx
push    edi
mov     [ebp+fontdesc.cbsizeofstruct], 20h
mov     [ebp+fontdesc.lpstrname], offset amssansserif
mov     dword ptr [ebp+fontdesc.cysize], 13880h
mov     dword ptr [ebp+fontdesc.cysize+4], ebx
mov     [ebp+fontdesc.sweight], 190h
mov     [ebp+fontdesc.scharset], 1
mov     [ebp+fontdesc.fitalic], ebx
mov     [ebp+fontdesc.funderline], ebx
mov     [ebp+fontdesc.fstrikethrough], ebx
mov     [ebp+bstrstring], ebx
mov     [ebp+var_4], ebx
jz      loc_277dd9ac
lea     edx, [ebp+var_8]
mov     [ebp+var_8], ebx
mov     ecx, [eax]
push    edx
push    offset dword_277cbef0
push    eax
call    dword ptr [ecx]
cmp     eax, ebx
mov     [ebp+var_4], eax
jl      short loc_277dd8e4
mov     eax, [ebp+var_8]
cmp     eax, ebx
jz      short loc_277dd8e4
mov     ecx, [eax]
lea     edx, [ebp+var_20]
push    edx
push    eax
call    dword ptr [ecx+0ch]
mov     [ebp+var_4], eax
mov     eax, [ebp+var_8]
cmp     eax, ebx
jz      short loc_277dd8e4
mov     [ebp+var_8], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     [ebp+var_4], ebx
jl      short loc_277dd926
mov     eax, [ebp+var_20]
cmp     ds:dword_277cbf10, eax
jnz     short loc_277dd909
push    10h
lea     edi, [ebp+var_20]
pop     ecx
mov     esi, offset dword_277cbf10
xor     edx, edx
repe cmpsb
jz      loc_277dd9e0
cmp     ds:dword_277ca238, eax
jnz     short loc_277dd926
push    10h
lea     edi, [ebp+var_20]
pop     ecx
mov     esi, offset dword_277ca238
xor     eax, eax
repe cmpsb
jz      loc_277dd9e0
mov     eax, [ebp+lpvobj]
lea     edx, [ebp+bstrstring]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
mov     eax, [ebp+bstrstring]
cmp     eax, ebx
jz      short loc_277dd93d
mov     [ebp+fontdesc.lpstrname], eax
mov     eax, [ebp+lpvobj]
lea     edx, [ebp+var_10]
mov     [ebp+var_10], ebx
push    edx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+1ch]
mov     eax, [ebp+var_10]
lea     edx, [ebp+fontdesc.cysize]
neg     eax
sbb     eax, eax
push    edx
and     eax, 12ch
add     eax, 190h
mov     [ebp+fontdesc.sweight], ax
mov     eax, [ebp+lpvobj]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
mov     eax, [ebp+lpvobj]
lea     edx, [ebp+fontdesc.fitalic]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+24h]
mov     eax, [ebp+lpvobj]
lea     edx, [ebp+fontdesc.funderline]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+2ch]
mov     eax, [ebp+lpvobj]
lea     edx, [ebp+fontdesc.fstrikethrough]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+34h]
mov     eax, [ebp+lpvobj]
lea     edx, [ebp+fontdesc.scharset]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+44h]
xor     eax, eax
mov     [ebp+lpvobj], eax
cmp     eax, ebx
jnz     short loc_277dd9e5
lea     eax, [ebp+lpvobj]
push    eax
lea     eax, [ebp+fontdesc]
push    offset iidinterface
push    eax
call    ds:olecreatefontindirect
cmp     [ebp+bstrstring], ebx
mov     [ebp+var_4], eax
jz      short loc_277dd9d0
push    [ebp+bstrstring]
call    ds:sysfreestring
mov     ecx, [ebp+arg_0]
mov     eax, [ebp+lpvobj]
pop     edi
pop     esi
mov     [ecx], eax
mov     eax, [ebp+var_4]
pop     ebx
leave
retn
mov     eax, [ebp+lpvobj]
jmp     short loc_277dd9a8
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
jmp     short loc_277dd9d0
push    ebp
mov     ebp, esp
sub     esp, 0b8h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
xor     esi, esi
mov     ax, [edi]
cmp     [ebp+hwnd], esi
mov     dword ptr [ebp+testchar], eax
jz      loc_277dda97
cmp     wmsgfiltermax, esi
jnz     short loc_277dda25
push    offset awmdbcstrailbyt
call    ds:registerwindowmessagea
mov     wmsgfiltermax, eax
cmp     word_2782bf40, 0ffffh
jnz     short loc_277dda58
lea     eax, [ebp+versioninformation]
mov     [ebp+versioninformation.dwosversioninfosize], 94h
push    eax
call    ds:getversionexa
xor     eax, eax
cmp     [ebp+versioninformation.dwplatformid], 2
setz    al
mov     word_2782bf40, ax
mov     ebx, ds:peekmessagea
push    2
push    esi
push    esi
push    [ebp+hwnd]
lea     eax, [ebp+msg]
push    eax
call    ebx
test    eax, eax
jz      short loc_277dda9c
mov     eax, wmsgfiltermax
cmp     eax, [ebp+msg.message]
jnz     short loc_277dda9c
mov     ecx, [edi]
cmp     ecx, [ebp+msg.wparam]
jnz     short loc_277dda9c
mov     ecx, [ebp+arg_8]
mov     ecx, [ecx]
cmp     ecx, [ebp+msg.lparam]
jnz     short loc_277dda9c
push    3
push    eax
push    eax
lea     eax, [ebp+msg]
push    [ebp+hwnd]
push    eax
call    ebx
push    1
pop     eax
jmp     short loc_277ddb05
push    dword ptr [ebp+testchar]
mov     [ebp+msg.lparam], esi
call    ds:isdbcsleadbyte
test    eax, eax
mov     edi, 102h
mov     esi, 0ffh
jz      short loc_277ddb0a
push    3
push    edi
push    edi
lea     eax, [ebp+msg]
push    [ebp+hwnd]
push    eax
call    ebx
test    eax, eax
jz      short loc_277ddb0a
mov     eax, dword ptr [ebp+testchar]
mov     cl, byte ptr [ebp+msg.wparam]
shl     eax, 8
and     ecx, esi
add     eax, ecx
mov     dword ptr [ebp+testchar], eax
cmp     [ebp+lparam], 0
jz      short loc_277ddaf8
cmp     [ebp+wparam], 0
jz      short loc_277ddaf8
lea     eax, [ebp+testchar]
push    eax
push    [ebp+wparam]
push    [ebp+lparam]
call    sub_277b9711
mov     eax, dword ptr [ebp+testchar]
add     esp, 0ch
test    ax, ax
jnz     short loc_277ddb0f
mov     eax, [ebp+arg_4]
and     dword ptr [eax], 0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
mov     eax, dword ptr [ebp+testchar]
jmp     short loc_277ddad7
cmp     ax, si
jbe     loc_277ddbeb
and     eax, esi
mov     esi, ds:postmessagea
mov     [ebp+wparam], eax
mov     eax, [ebp+msg.lparam]
push    eax
mov     [ebp+lparam], eax
push    [ebp+wparam]
push    wmsgfiltermax
push    [ebp+hwnd]
call    esi
cmp     word_2782bf40, 0
jz      short loc_277ddbbc
mov     ebx, ds:postmessagew
mov     eax, ds:peekmessagew
push    dword ptr [ebp+testchar]
mov     [ebp+var_8], ebx
mov     [ebp+arg_8], eax
call    sub_277ddbf8
pop     ecx
push    [ebp+lparam]
movzx   eax, ax
push    eax
push    edi
push    [ebp+hwnd]
call    ebx
mov     ebx, ds:peekmessagea
push    [ebp+lparam]
push    [ebp+wparam]
push    wmsgfiltermax
push    [ebp+hwnd]
call    esi
push    3
xor     esi, esi
push    esi
push    esi
push    [ebp+hwnd]
lea     eax, [ebp+msg]
push    eax
call    [ebp+arg_8]
test    eax, eax
jz      short loc_277ddbd0
mov     eax, [ebp+msg.message]
mov     ecx, [ebp+msg.lparam]
cmp     eax, wmsgfiltermax
mov     edx, [ebp+msg.wparam]
jnz     short loc_277ddbaf
cmp     [ebp+wparam], edx
jnz     short loc_277ddbaf
cmp     [ebp+lparam], ecx
jz      short loc_277ddbd0
push    ecx
push    edx
push    eax
push    [ebp+msg.hwnd]
call    [ebp+var_8]
push    3
jmp     short loc_277ddb84
push    [ebp+lparam]
mov     [ebp+var_8], esi
mov     [ebp+arg_8], ebx
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
call    esi
jmp     short loc_277ddb6f
cmp     word_2782bf40, si
jz      short loc_277ddbe6
push    3
push    edi
push    edi
lea     eax, [ebp+msg]
push    [ebp+hwnd]
push    eax
call    ebx
xor     eax, eax
mov     al, [ebp+testchar+1]
mov     ecx, [ebp+arg_4]
movzx   eax, al
mov     [ecx], eax
jmp     loc_277dda97
push    ebp
mov     ebp, esp
push    ecx
mov     ax, word ptr [ebp+multibytestr]
push    ebx
mov     cx, ax
xor     ebx, ebx
shr     cx, 8
cmp     cl, bl
jz      short loc_277ddc3a
mov     [ebp+multibytestr], cl
mov     [ebp+9], al
mov     [ebp+arg_2], bl
lea     eax, [ebp+widecharstr]
push    2
push    eax
lea     eax, [ebp+multibytestr]
push    0ffffffffh
push    eax
push    ebx
push    ebx
call    ds:multibytetowidechar
test    eax, eax
jnz     short loc_277ddc33
mov     [ebp+widecharstr], bx
mov     ax, [ebp+widecharstr]
pop     ebx
leave
retn
mov     [ebp+multibytestr], al
mov     [ebp+9], bl
jmp     short loc_277ddc17
push    esi
mov     esi, ecx
call    sub_277b5898
test    [esp+4+arg_0], 1
jz      short loc_277ddc58
push    esi
call    sub_277b221b
pop     ecx
mov     eax, esi
pop     esi
retn    4
mov     eax, [esp+0ch]
mov     edx, [esp+8]
push    ebx
push    esi
and     dword ptr [eax], 0
mov     eax, [edx]
cmp     ds:dword_277b6118, eax
push    edi
jnz     short loc_277ddc86
push    10h
mov     edi, edx
pop     ecx
mov     esi, offset dword_277b6118
xor     ebx, ebx
repe cmpsb
jz      short loc_277ddc9e
cmp     ds:dword_277ca258+10h, eax
jnz     short loc_277ddcb6
push    10h
mov     edi, edx
pop     ecx
mov     esi, (offset dword_277ca258+10h)
xor     eax, eax
repe cmpsb
jnz     short loc_277ddcb6
mov     esi, [esp+10h]
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [esp+18h]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     eax, 80004002h
jmp     short loc_277ddcb0
mov     eax, [esp+4]
inc     dword ptr [eax+48h]
mov     eax, [eax+48h]
retn    4
mov     eax, [esp+4]
dec     dword ptr [eax+48h]
mov     eax, [eax+48h]
retn    4
mov     eax, [esp+4]
push    dword ptr [esp+10h]
mov     ecx, [eax+4]
push    dword ptr [esp+10h]
mov     eax, [ecx]
push    dword ptr [esp+10h]
call    dword ptr [eax+30h]
retn    10h
mov     edx, [ecx+2ch]
push    esi
test    dh, 1
jz      short loc_277ddd22
mov     eax, [esp+4+arg_0]
test    eax, eax
jl      short loc_277ddd28
cmp     eax, 1
jg      short loc_277ddd28
mov     esi, edx
shr     esi, 4
and     esi, 3
cmp     eax, esi
jz      short loc_277ddd22
and     eax, 3
and     edx, 0ffffffcfh
shl     eax, 4
or      eax, edx
mov     [ecx+2ch], eax
xor     eax, eax
pop     esi
retn    4
push    17ch
call    sub_277de864
jmp     short loc_277ddd24
mov     eax, [ecx+2ch]
mov     ecx, [esp+arg_0]
shr     eax, 4
and     eax, 3
mov     [ecx], eax
xor     eax, eax
retn    4
mov     eax, [ecx+2ch]
mov     ecx, [esp+arg_0]
shr     eax, 6
and     eax, 3
mov     [ecx], eax
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
lea     eax, [ebp+pvarg]
push    edi
mov     edi, ecx
push    eax
call    ds:variantinit
mov     eax, [edi+2ch]
mov     esi, [ebp+arg_0]
test    ah, 1
jz      short loc_277ddda8
test    al, 30h
jnz     short loc_277ddd85
cmp     [ebp+arg_4], 0
jz      short loc_277ddda8
shr     eax, 4
and     eax, 3
lea     ecx, [ebp+pvarg]
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
mov     eax, [esi]
push    ecx
push    offset aoledragmode_0
push    esi
mov     word ptr [ebp+pvarg.anonymous_0], 2
call    dword ptr [eax+10h]
test    eax, eax
jl      short loc_277ddddb
mov     eax, [edi+2ch]
test    ah, 2
jz      short loc_277dddd9
test    al, 0c0h
jnz     short loc_277dddba
cmp     [ebp+arg_4], 0
jz      short loc_277dddd9
shr     eax, 6
and     eax, 3
lea     ecx, [ebp+pvarg]
mov     word ptr [ebp+pvarg.anonymous_0+8], ax
mov     eax, [esi]
push    ecx
push    offset aoledropmode_0
push    esi
mov     word ptr [ebp+pvarg.anonymous_0], 2
call    dword ptr [eax+10h]
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
push    esi
mov     esi, ecx
test    byte ptr [esi+2ch], 0c0h
jz      short loc_277dde0b
call    sub_277dde12
mov     eax, [esi+0ch]
test    eax, eax
jz      short loc_277dde0b
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
mov     ecx, [esp+4+arg_0]
mov     eax, [esi+0ch]
mov     [ecx], eax
xor     eax, eax
pop     esi
retn    4
mov     eax, 80004002h
jmp     short loc_277dde07
push    esi
mov     esi, ecx
cmp     dword ptr [esi+0ch], 0
jnz     short loc_277dde4e
push    dword_278282f0
push    18h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277dde4a
push    dword ptr [esi+38h]
mov     ecx, eax
push    dword ptr [esi+34h]
push    esi
call    sub_277b9a01
test    eax, eax
mov     [esi+0ch], eax
jnz     short loc_277dde4e
mov     eax, 8007000eh
pop     esi
retn
xor     eax, eax
jmp     short loc_277dde3c
xor     eax, eax
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
push    2
xor     eax, eax
pop     ebx
mov     esi, ecx
push    1
mov     [ebp+dwokeffects], eax
mov     [ebp+pdataobj], eax
mov     [ebp+var_10], eax
mov     [ebp+pdropsource], eax
pop     eax
test    [esi+2ch], al
mov     [ebp+var_28], 60eh
mov     [ebp+var_24], ebx
mov     [ebp+var_20], offset dword_2782bf50
mov     [ebp+var_34], 611h
mov     [ebp+var_30], eax
mov     [ebp+var_2c], offset dword_2782bf44
jz      short loc_277ddeae
push    dword ptr [esi+38h]
push    2a2h
push    esi
call    sub_277de110
add     esp, 0ch
pop     esi
pop     ebx
leave
retn    4
or      [esi+2ch], eax
push    edi
mov     edi, ds:getkeystate
push    eax
call    edi
mov     ecx, [esi+2ch]
push    ebx
shr     eax, 0eh
and     ecx, 0fffffffdh
and     eax, ebx
or      ecx, eax
mov     [esi+2ch], ecx
call    edi
mov     ecx, [esi+2ch]
push    dword_278282f0
shr     eax, 0dh
and     ecx, 0fffffffbh
and     eax, 4
or      ecx, eax
push    34h
mov     [esi+2ch], ecx
call    sub_277b39d6
mov     edi, eax
xor     ebx, ebx
pop     ecx
cmp     edi, ebx
pop     ecx
jz      loc_277ddf9c
mov     ecx, esi
call    sub_277b9977
push    eax
push    esi
push    dword ptr [esi+24h]
mov     ecx, edi
call    sub_277e0a6f
mov     [ebp+var_8], eax
cmp     [ebp+var_8], ebx
jz      short loc_277ddf48
push    dword_278282f0
push    38h
call    sub_277b39d6
mov     edi, eax
pop     ecx
cmp     edi, ebx
pop     ecx
jz      short loc_277ddfa4
mov     ecx, esi
call    sub_277b9977
push    eax
push    esi
push    [ebp+var_8]
mov     ecx, edi
push    dword ptr [esi+4]
call    sub_277e0447
mov     [ebp+pdataobj], eax
cmp     [ebp+pdataobj], ebx
jnz     short loc_277ddfa9
mov     ebx, [ebp+var_10]
mov     edi, 8007000eh
mov     eax, [ebp+var_8]
test    eax, eax
jz      short loc_277ddf61
mov     ecx, [eax+1ch]
add     eax, 1ch
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+pdataobj]
test    eax, eax
jz      short loc_277ddf6e
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+pdropsource]
test    eax, eax
jz      short loc_277ddf7b
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
test    ebx, ebx
jz      short loc_277ddf90
mov     ecx, ebx
call    sub_277e0023
mov     ecx, [ebx+1ch]
lea     eax, [ebx+1ch]
push    eax
call    dword ptr [ecx+8]
and     dword ptr [esi+2ch], 0fffffffeh
mov     eax, edi
pop     edi
jmp     loc_277ddea8
mov     [ebp+var_8], ebx
jmp     loc_277ddf10
mov     [ebp+pdataobj], ebx
jmp     short loc_277ddf43
push    dword_278282f0
push    38h
call    sub_277b39d6
mov     edi, eax
pop     ecx
cmp     edi, ebx
pop     ecx
jz      loc_277de0a1
mov     ecx, esi
call    sub_277b9977
push    eax
push    esi
push    [ebp+var_8]
mov     ecx, edi
push    dword ptr [esi+20h]
push    ebx
push    [ebp+pdataobj]
call    sub_277dff3a
mov     ebx, eax
test    ebx, ebx
jz      loc_277de097
mov     eax, [esi+2ch]
test    ah, 1
jz      short loc_277de00b
and     eax, 30h
cmp     al, 10h
jnz     short loc_277de00b
lea     eax, [ebp+dwokeffects]
mov     ecx, esi
push    eax
push    ebx
call    sub_277de7dd
mov     edi, eax
test    edi, edi
jl      loc_277ddf50
lea     eax, [ebx+1ch]
mov     [ebp+var_1c], eax
lea     eax, [ebp+dwokeffects]
push    eax
lea     eax, [ebp+var_1c]
push    eax
lea     eax, [ebp+var_28]
push    eax
push    dword ptr [esi+4]
call    sub_277b9711
add     esp, 10h
mov     ecx, esi
call    sub_277de9a2
test    eax, eax
jnz     loc_277de106
mov     eax, [ebx+28h]
test    eax, eax
jz      loc_277de106
cmp     dword ptr [eax+0ch], 0
jz      loc_277de106
cmp     [ebp+dwokeffects], 0
jz      loc_277de106
call    ds:releasecapture
test    byte ptr [esi+2ch], 6
jnz     short loc_277de069
mov     ecx, esi
call    sub_277dea00
push    dword_278282f0
mov     edi, [ebp+pdataobj]
push    0ch
mov     dword ptr [edi+18h], 1
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277de0a9
push    esi
mov     ecx, eax
call    sub_277de637
mov     [ebp+pdropsource], eax
cmp     [ebp+pdropsource], 0
jnz     short loc_277de0af
mov     edi, 8007000eh
jmp     loc_277ddf50
mov     [ebp+var_10], ebx
jmp     loc_277ddfde
and     [ebp+pdropsource], 0
jmp     short loc_277de091
lea     eax, [ebp+pdweffect]
push    eax
push    [ebp+dwokeffects]
push    [ebp+pdropsource]
push    edi
call    ds:dodragdrop
mov     edi, eax
test    edi, edi
jl      loc_277ddf50
mov     ecx, esi
call    sub_277de9a2
test    eax, eax
jnz     short loc_277de106
lea     eax, [ebp+pdweffect]
push    eax
lea     eax, [ebp+var_34]
push    eax
push    dword ptr [esi+4]
call    sub_277b9711
add     esp, 0ch
mov     ecx, esi
call    sub_277de9a2
test    eax, eax
jnz     short loc_277de106
mov     eax, [ebp+arg_0]
test    eax, eax
jz      short loc_277de0ff
mov     ecx, [ebp+pdweffect]
mov     [eax], ecx
xor     edi, edi
jmp     loc_277ddf50
mov     edi, 40101h
jmp     loc_277ddf50
cmp     [esp+arg_4], 0
push    esi
jnz     short loc_277de11c
xor     eax, eax
pop     esi
retn
mov     esi, [esp+4+arg_8]
xor     eax, eax
test    esi, esi
jz      short loc_277de158
mov     edx, esi
mov     ecx, [edx]
test    ecx, ecx
jz      short loc_277de158
cmp     ecx, [esp+4+arg_4]
jz      short loc_277de13a
inc     eax
add     edx, 0ch
jmp     short loc_277de128
lea     eax, [eax+eax*2]
mov     ecx, [esp+4+arg_0]
push    dword ptr [esi+eax*4+4]
lea     eax, [esi+eax*4]
mov     edx, [ecx]
mov     si, [eax+4]
push    esi
push    dword ptr [eax+8]
push    ecx
call    dword ptr [edx+0ch]
pop     esi
retn
mov     eax, 8000ffffh
pop     esi
retn
mov     eax, [esp+arg_8]
mov     edx, [esp+arg_4]
push    ebx
push    esi
and     dword ptr [eax], 0
mov     eax, [edx]
cmp     eax, ds:dword_277cbf30
push    edi
jnz     short loc_277de187
push    10h
mov     edi, offset dword_277cbf30
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jz      short loc_277de19f
cmp     eax, ds:dword_277b6118
jnz     short loc_277de1b7
push    10h
mov     edi, offset dword_277b6118
pop     ecx
mov     esi, edx
xor     eax, eax
repe cmpsb
jnz     short loc_277de1b7
mov     esi, [esp+0ch+arg_0]
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [esp+0ch+arg_8]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     eax, 80004002h
jmp     short loc_277de1b1
push    ebp
mov     ebp, esp
sub     esp, 1ch
mov     eax, [ebp+arg_14]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [eax]
mov     ebx, [ebp+arg_8]
mov     [ebp+var_8], eax
mov     eax, [esi+4]
push    edi
xor     edi, edi
mov     eax, [eax+10h]
mov     [esi+0ch], ebx
cmp     eax, edi
jz      short loc_277de1f4
mov     ecx, [eax+1ch]
add     eax, 1ch
push    eax
call    dword ptr [ecx+8]
mov     eax, [esi+4]
mov     [eax+10h], edi
push    dword_278282f0
push    38h
call    sub_277b39d6
pop     ecx
cmp     eax, edi
pop     ecx
jz      short loc_277de235
push    dword ptr [esi+10h]
mov     ecx, [esi+4]
push    dword ptr [esi+14h]
push    edi
push    dword ptr [ecx+20h]
mov     ecx, eax
push    [ebp+arg_4]
push    edi
call    sub_277dff3a
mov     ecx, [esi+4]
cmp     eax, edi
mov     [ecx+10h], eax
jnz     short loc_277de239
mov     eax, 8007000eh
pop     edi
pop     esi
pop     ebx
leave
retn    18h
xor     eax, eax
jmp     short loc_277de21f
mov     eax, [ecx+2ch]
and     ax, 0c0h
cmp     al, 40h
jnz     loc_277de2f6
fldz
lea     eax, [ebp+arg_0]
mov     [ebp+var_1c], 612h
fstp    [ebp+var_10]
fldz
push    eax
push    ebx
fstp    [ebp+var_c]
mov     [ebp+var_18], 7
mov     [ebp+var_14], offset dword_2782bf58
mov     [ebp+arg_4], edi
mov     [ebp+arg_0], edi
mov     [ebp+arg_8], edi
call    sub_277deb4f
pop     ecx
lea     eax, [ebp+arg_8]
pop     ecx
push    eax
push    ebx
call    sub_277deb26
pop     ecx
lea     eax, [ebp+var_10]
pop     ecx
mov     ecx, [esi+4]
push    eax
lea     eax, [ebp+arg_c]
push    eax
push    dword ptr [ecx+4]
call    sub_277deb76
mov     eax, [esi+4]
mov     ecx, [eax+10h]
cmp     ecx, edi
jz      short loc_277de2f1
add     ecx, 1ch
mov     [ebp+var_4], ecx
lea     ecx, [ebp+arg_4]
mov     edi, [ebp+arg_14]
push    ecx
lea     ecx, [ebp+var_c]
push    ecx
lea     ecx, [ebp+var_10]
push    ecx
lea     ecx, [ebp+arg_8]
push    ecx
lea     ecx, [ebp+arg_0]
push    ecx
lea     ecx, [ebp+var_4]
push    edi
push    ecx
lea     ecx, [ebp+var_1c]
push    ecx
push    dword ptr [eax+4]
call    sub_277b9711
add     esp, 24h
mov     eax, [ebp+var_8]
mov     ecx, [esi+4]
and     [edi], eax
call    sub_277de9a2
neg     eax
sbb     eax, eax
and     eax, 8000ffffh
jmp     loc_277de22e
mov     [ebp+var_4], edi
jmp     short loc_277de2ab
mov     eax, [ecx+4]
test    byte ptr [eax+0b0h], 2
jz      short loc_277de30a
cmp     [eax+0ach], edi
jz      short loc_277de315
lea     edx, [ebp+arg_c]
push    edi
push    edx
push    eax
call    sub_277deb76
mov     ecx, [esi+4]
lea     eax, [ebp+arg_c]
push    edi
push    eax
push    ebx
push    [ebp+arg_14]
push    dword ptr [ecx+10h]
call    sub_277de80b
mov     edi, [ebp+arg_14]
jmp     short loc_277de2d6
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
mov     ebx, [ebp+arg_10]
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [ebx]
push    edi
mov     ecx, [esi+4]
mov     edi, [ebp+arg_4]
mov     [ebp+var_8], eax
mov     [esi+0ch], edi
mov     eax, [ecx+2ch]
and     ax, 0c0h
cmp     al, 40h
jnz     loc_277de40e
and     [ebp+arg_0], 0
and     [ebp+arg_4], 0
fldz
lea     eax, [ebp+arg_0]
mov     [ebp+var_1c], 612h
fstp    [ebp+var_10]
fldz
push    eax
push    edi
fstp    [ebp+var_c]
mov     [ebp+var_18], 7
mov     [ebp+var_14], offset dword_2782bf58
mov     [ebp+var_4], 2
call    sub_277deb4f
pop     ecx
lea     eax, [ebp+arg_4]
pop     ecx
push    eax
push    edi
call    sub_277deb26
pop     ecx
lea     eax, [ebp+var_10]
pop     ecx
mov     ecx, [esi+4]
push    eax
lea     eax, [ebp+arg_8]
push    eax
push    dword ptr [ecx+4]
call    sub_277deb76
mov     eax, [esi+4]
mov     ecx, [eax+10h]
test    ecx, ecx
jz      short loc_277de408
add     ecx, 1ch
mov     [ebp+arg_10], ecx
lea     ecx, [ebp+var_4]
push    ecx
lea     ecx, [ebp+var_c]
push    ecx
lea     ecx, [ebp+var_10]
push    ecx
lea     ecx, [ebp+arg_4]
push    ecx
lea     ecx, [ebp+arg_0]
push    ecx
lea     ecx, [ebp+arg_10]
push    ebx
push    ecx
lea     ecx, [ebp+var_1c]
push    ecx
push    dword ptr [eax+4]
call    sub_277b9711
add     esp, 24h
mov     eax, [ebp+var_8]
mov     ecx, [esi+4]
and     [ebx], eax
call    sub_277de9a2
neg     eax
sbb     eax, eax
pop     edi
pop     esi
and     eax, 8000ffffh
pop     ebx
leave
retn    14h
and     [ebp+arg_10], 0
jmp     short loc_277de3c3
mov     eax, [ecx+4]
test    byte ptr [eax+0b0h], 2
jz      short loc_277de423
cmp     dword ptr [eax+0ach], 0
jz      short loc_277de42f
lea     edx, [ebp+arg_8]
push    0
push    edx
push    eax
call    sub_277deb76
mov     ecx, [esi+4]
lea     eax, [ebp+arg_8]
push    2
push    eax
push    edi
push    ebx
push    dword ptr [ecx+10h]
call    sub_277de80b
jmp     short loc_277de3eb
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    1
mov     ecx, [esi+4]
xor     edi, edi
fldz
pop     eax
mov     [ebp+var_8], edi
fstp    [ebp+var_4]
mov     [ebp+var_c], eax
mov     [ebp+var_28], 612h
mov     [ebp+var_24], 7
mov     [ebp+var_20], offset dword_2782bf58
cmp     [ecx+10h], edi
jz      short loc_277de4fa
mov     edx, [ecx+2ch]
and     dx, 0c0h
cmp     dl, 40h
jnz     short loc_277de507
lea     eax, [ebp+var_14]
push    eax
push    dword ptr [esi+0ch]
call    sub_277deb4f
pop     ecx
lea     eax, [ebp+var_10]
pop     ecx
push    eax
push    dword ptr [esi+0ch]
call    sub_277deb26
mov     eax, [esi+4]
pop     ecx
pop     ecx
mov     ecx, [eax+10h]
cmp     ecx, edi
jz      short loc_277de502
add     ecx, 1ch
mov     [ebp+arg_0], ecx
lea     ecx, [ebp+var_c]
push    ecx
lea     ecx, [ebp+var_4]
push    ecx
lea     ecx, [ebp+var_4]
push    ecx
lea     ecx, [ebp+var_10]
push    ecx
lea     ecx, [ebp+var_14]
push    ecx
lea     ecx, [ebp+var_8]
push    ecx
lea     ecx, [ebp+arg_0]
push    ecx
lea     ecx, [ebp+var_28]
push    ecx
push    dword ptr [eax+4]
call    sub_277b9711
add     esp, 24h
mov     eax, [esi+4]
mov     eax, [eax+10h]
cmp     eax, edi
jz      short loc_277de4fa
mov     ecx, [eax+1ch]
add     eax, 1ch
push    eax
call    dword ptr [ecx+8]
mov     eax, [esi+4]
mov     [eax+10h], edi
pop     edi
xor     eax, eax
pop     esi
leave
retn    4
mov     [ebp+arg_0], edi
jmp     short loc_277de4b5
push    eax
lea     eax, [ebp+var_1c]
push    eax
lea     eax, [ebp+var_8]
push    edi
push    eax
mov     [ebp+var_1c], edi
mov     [ebp+var_18], edi
push    dword ptr [ecx+10h]
call    sub_277de80b
jmp     short loc_277de4e0
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    esi
mov     esi, [ebp+arg_0]
mov     ecx, [esi+4]
mov     eax, [ecx+2ch]
and     ax, 0c0h
cmp     al, 40h
jnz     loc_277de5fd
and     [ebp+var_4], 0
and     [ebp+arg_0], 0
fldz
lea     eax, [ebp+var_4]
mov     [ebp+var_1c], 613h
fstp    [ebp+var_10]
push    eax
mov     [ebp+var_18], 6
push    [ebp+arg_8]
mov     [ebp+var_14], offset dword_2782bf68
fldz
fstp    [ebp+var_c]
call    sub_277deb4f
pop     ecx
lea     eax, [ebp+arg_0]
pop     ecx
push    eax
push    [ebp+arg_8]
call    sub_277deb26
pop     ecx
lea     eax, [ebp+var_10]
pop     ecx
mov     ecx, [esi+4]
push    eax
lea     eax, [ebp+arg_c]
push    eax
push    dword ptr [ecx+4]
call    sub_277deb76
mov     eax, [esi+4]
mov     ecx, [eax+10h]
test    ecx, ecx
jz      short loc_277de5f7
add     ecx, 1ch
mov     [ebp+var_8], ecx
lea     ecx, [ebp+var_c]
push    ecx
lea     ecx, [ebp+var_10]
push    ecx
lea     ecx, [ebp+arg_0]
push    ecx
lea     ecx, [ebp+var_4]
push    ecx
lea     ecx, [ebp+var_8]
push    [ebp+arg_14]
push    ecx
lea     ecx, [ebp+var_1c]
push    ecx
push    dword ptr [eax+4]
call    sub_277b9711
add     esp, 20h
mov     ecx, [esi+4]
mov     eax, [ecx+10h]
test    eax, eax
jz      short loc_277de5e4
mov     ecx, [eax+1ch]
add     eax, 1ch
push    eax
call    dword ptr [ecx+8]
mov     ecx, [esi+4]
and     dword ptr [ecx+10h], 0
call    sub_277de9a2
neg     eax
sbb     eax, eax
pop     esi
and     eax, 8000ffffh
leave
retn    18h
and     [ebp+var_8], 0
jmp     short loc_277de5a3
mov     eax, [ecx+4]
test    byte ptr [eax+0b0h], 2
jz      short loc_277de612
cmp     dword ptr [eax+0ach], 0
jz      short loc_277de61e
lea     edx, [ebp+arg_c]
push    0
push    edx
push    eax
call    sub_277deb76
mov     ecx, [esi+4]
lea     eax, [ebp+arg_c]
push    3
push    eax
push    [ebp+arg_8]
push    [ebp+arg_14]
push    dword ptr [ecx+10h]
call    sub_277de80b
jmp     short loc_277de5c9
mov     eax, ecx
mov     ecx, [esp+arg_0]
mov     dword ptr [eax], offset off_277cb598
mov     [eax+4], ecx
mov     dword ptr [eax+8], 1
retn    4
push    esi
mov     esi, ecx
call    sub_277de678
test    [esp+4+arg_0], 1
jz      short loc_277de672
test    esi, esi
jz      short loc_277de672
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
mov     dword ptr [ecx], offset off_277cb598
retn
mov     ecx, [esp+arg_0]
dec     dword ptr [ecx+8]
mov     eax, [ecx+8]
jnz     short locret_277de698
test    ecx, ecx
jz      short loc_277de696
mov     eax, [ecx]
push    1
call    dword ptr [eax+14h]
xor     eax, eax
retn    4
mov     eax, [esp+0ch]
mov     edx, [esp+8]
push    ebx
push    esi
and     dword ptr [eax], 0
mov     eax, [edx]
cmp     eax, ds:dword_277cbf38+8
push    edi
jnz     short loc_277de6c3
push    10h
mov     edi, (offset dword_277cbf38+8)
pop     ecx
mov     esi, edx
xor     ebx, ebx
repe cmpsb
jz      short loc_277de6db
cmp     eax, ds:dword_277b6118
jnz     short loc_277de6f3
push    10h
mov     edi, offset dword_277b6118
pop     ecx
mov     esi, edx
xor     eax, eax
repe cmpsb
jnz     short loc_277de6f3
mov     esi, [esp+10h]
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [esp+18h]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     eax, 80004002h
jmp     short loc_277de6ed
cmp     [esp+arg_4], 0
push    esi
push    edi
jz      short loc_277de70d
mov     eax, 40101h
pop     edi
pop     esi
retn    0ch
mov     eax, [esp+8+arg_0]
mov     edx, [esp+8+arg_8]
mov     ecx, [eax+4]
mov     eax, [ecx+2ch]
mov     esi, eax
and     esi, 2
jz      short loc_277de727
test    dl, 1
jz      short loc_277de733
mov     edi, eax
and     edi, 4
jz      short loc_277de73f
test    dl, 2
jnz     short loc_277de73f
and     al, 0f9h
mov     [ecx+2ch], eax
mov     eax, 40100h
jmp     short loc_277de708
test    esi, esi
jnz     short loc_277de753
test    edi, edi
jnz     short loc_277de753
and     edx, 3
and     al, 0f9h
shl     edx, 1
or      edx, eax
mov     [ecx+2ch], edx
xor     eax, eax
jmp     short loc_277de708
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
mov     [ebp+var_4], 1
mov     [ebp+var_10], 60fh
mov     ecx, [esi+4]
mov     [ebp+var_c], 2
mov     [ebp+var_8], offset dword_2782bf48
mov     eax, [ecx+2ch]
test    ah, 1
jz      short loc_277de79f
and     eax, 30h
cmp     al, 10h
jnz     short loc_277de79f
lea     eax, [ebp+var_4]
push    eax
push    [ebp+arg_4]
call    sub_277de844
test    eax, eax
jl      short loc_277de7ca
lea     eax, [ebp+var_4]
push    eax
lea     eax, [ebp+arg_4]
push    eax
lea     eax, [ebp+var_10]
push    eax
mov     eax, [esi+4]
push    dword ptr [eax+4]
call    sub_277b9711
mov     ecx, [esi+4]
add     esp, 10h
call    sub_277de9a2
test    eax, eax
jz      short loc_277de7cf
mov     eax, 8000ffffh
pop     esi
leave
retn    8
mov     eax, [ebp+var_4]
neg     eax
sbb     eax, eax
and     eax, 40102h
jmp     short loc_277de7ca
cmp     dword ptr [ecx+40h], 0
jle     short loc_277de807
mov     eax, [ecx+3ch]
mov     ecx, [esp+arg_0]
push    esi
mov     esi, ecx
mov     eax, [eax]
push    [esp+4+arg_4]
add     ecx, 1ch
mov     edx, [eax]
neg     esi
sbb     esi, esi
and     esi, ecx
push    esi
push    eax
call    dword ptr [edx+0ch]
pop     esi
retn    8
xor     eax, eax
jmp     short locret_277de804
push    ebp
mov     ebp, esp
cmp     dword ptr [ecx+40h], 0
jle     short loc_277de840
mov     eax, [ecx+3ch]
mov     ecx, [ebp+arg_0]
push    esi
mov     esi, ecx
push    [ebp+arg_10]
mov     eax, [eax]
add     ecx, 1ch
push    [ebp+arg_c]
mov     edx, [eax]
neg     esi
push    [ebp+arg_8]
sbb     esi, esi
push    [ebp+arg_4]
and     esi, ecx
push    esi
push    eax
call    dword ptr [edx+14h]
pop     esi
pop     ebp
retn    14h
xor     eax, eax
jmp     short loc_277de83c
cmp     dword ptr [ecx+40h], 0
jle     short loc_277de860
mov     eax, [ecx+3ch]
push    [esp+arg_4]
mov     eax, [eax]
push    [esp+4+arg_0]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+18h]
retn    8
xor     eax, eax
jmp     short locret_277de85d
mov     eax, [ecx+30h]
push    esi
test    eax, eax
push    edi
jnz     short loc_277de87f
mov     eax, [esp+8+arg_0]
neg     eax
sbb     eax, eax
and     eax, 80004005h
pop     edi
pop     esi
retn    4
xor     edx, edx
mov     esi, eax
mov     edi, [esi]
test    edi, edi
jz      short loc_277de897
cmp     edi, [esp+8+arg_0]
jz      short loc_277de897
inc     edx
add     esi, 8
test    eax, eax
jnz     short loc_277de883
mov     esi, [eax+edx*8]
lea     eax, [eax+edx*8]
test    esi, esi
jz      short loc_277de8c6
mov     edx, 17ch
cmp     esi, edx
jz      short loc_277de8b1
mov     eax, 80004005h
jmp     short loc_277de87a
mov     ecx, [ecx+4]
mov     ax, [eax+4]
push    edx
push    eax
mov     esi, [ecx]
push    800a017ch
call    dword ptr [esi+30h]
jmp     short loc_277de87a
xor     eax, eax
jmp     short loc_277de87a
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_0]
push    ebx
push    esi
push    edi
lea     esi, [ecx+14h]
xor     edi, edi
mov     [ebp+var_4], edi
mov     [ebp+var_8], edi
cmp     [esi], edi
mov     [eax], edi
jnz     short loc_277de959
mov     ecx, [ecx+4]
lea     edx, [ebp+var_4]
push    edx
push    offset dword_277b61b0
lea     eax, [ecx+1ch]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
mov     ebx, eax
cmp     ebx, edi
jl      short loc_277de91f
mov     eax, [ebp+var_4]
lea     edx, [ebp+var_8]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
mov     ebx, eax
cmp     ebx, edi
jl      short loc_277de91f
mov     eax, [ebp+var_8]
cmp     eax, edi
jnz     short loc_277de948
mov     ebx, 80004002h
mov     eax, [ebp+var_4]
cmp     eax, edi
jz      short loc_277de92f
mov     [ebp+var_4], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_8]
cmp     eax, edi
jz      short loc_277de93f
mov     [ebp+var_8], edi
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    4
mov     ecx, [eax]
push    esi
push    offset dword_277b61f0
push    eax
call    dword ptr [ecx]
mov     ebx, eax
cmp     ebx, edi
jl      short loc_277de91f
mov     eax, [esi]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
mov     ecx, [ebp+arg_0]
mov     eax, [esi]
xor     ebx, ebx
mov     [ecx], eax
jmp     short loc_277de91f
cmp     dword ptr [ecx+1ch], 0
push    esi
lea     esi, [ecx+1ch]
jnz     short loc_277de98c
mov     eax, [ecx+4]
mov     ecx, [eax+1ch]
add     eax, 1ch
push    esi
push    offset dword_277cb398
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277de99e
mov     eax, [esi]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
mov     ecx, [esp+4+arg_0]
mov     eax, [esi]
mov     [ecx], eax
xor     eax, eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ecx+4]
and     [ebp+var_4], 0
test    byte ptr [eax+0b0h], 2
jz      short loc_277de9bf
cmp     dword ptr [eax+0ach], 0
jz      short loc_277de9f5
mov     ecx, [eax+0ach]
test    ecx, ecx
jnz     short loc_277de9d0
mov     ecx, [eax+74h]
test    ecx, ecx
jz      short loc_277de9e6
mov     ecx, [eax+0ach]
test    ecx, ecx
jz      short loc_277de9f0
mov     eax, ecx
mov     ecx, [eax]
lea     edx, [ebp+var_4]
push    edx
push    eax
call    dword ptr [ecx+0ch]
xor     eax, eax
cmp     [ebp+var_4], eax
setz    al
leave
retn
mov     eax, [eax+74h]
jmp     short loc_277de9dc
lea     eax, [ebp+var_4]
push    eax
call    sub_277b5186
jmp     short loc_277de9e6
push    ebp
mov     ebp, esp
sub     esp, 20h
push    esi
mov     esi, ecx
push    edi
mov     eax, [esi+4]
test    byte ptr [eax+0b0h], 2
jz      short loc_277dea23
cmp     dword ptr [eax+0ach], 0
jz      loc_277deb0c
lea     eax, [ebp+var_8]
mov     ecx, esi
push    eax
call    sub_277de96c
test    eax, eax
jl      loc_277deb03
mov     eax, [ebp+var_8]
lea     edx, [ebp+points]
push    edx
push    1
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+28h]
mov     edi, eax
mov     eax, [ebp+var_8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
test    edi, edi
jl      loc_277deb03
lea     eax, [ebp+points]
push    eax
lea     eax, [ebp+points]
push    eax
call    sub_277b4726
pop     ecx
lea     eax, [ebp+var_18]
pop     ecx
push    eax
lea     eax, [ebp+var_18]
push    eax
call    sub_277b4726
mov     eax, [esi+4]
pop     ecx
pop     ecx
mov     ecx, [eax+0ach]
test    ecx, ecx
jnz     short loc_277dea8a
mov     ecx, [eax+74h]
test    ecx, ecx
jz      short loc_277deab5
mov     ecx, [eax+0ach]
test    ecx, ecx
jz      short loc_277deb07
mov     eax, ecx
mov     ecx, [eax]
lea     edx, [ebp+hwndfrom]
push    edx
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jl      short loc_277deb03
lea     eax, [ebp+points]
push    2
push    eax
push    0
push    [ebp+hwndfrom]
call    ds:mapwindowpoints
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
mov     esi, [ebp+points.x]
mov     eax, [ebp+var_18]
cmp     [ebp+point.x], esi
jl      short loc_277deadc
cmp     [ebp+point.x], eax
jg      short loc_277deadc
mov     ecx, [ebp+point.y]
cmp     ecx, [ebp+points.y]
jl      short loc_277deadc
cmp     ecx, [ebp+var_14]
jle     short loc_277deb03
sub     eax, esi
cdq
sub     eax, edx
mov     ecx, eax
mov     eax, [ebp+var_14]
sub     eax, [ebp+points.y]
sar     ecx, 1
cdq
sub     eax, edx
add     ecx, esi
sar     eax, 1
add     eax, [ebp+points.y]
mov     [ebp+point.x], ecx
push    eax
push    ecx
mov     [ebp+point.y], eax
call    ds:setcursorpos
pop     edi
pop     esi
leave
retn
mov     eax, [eax+74h]
jmp     short loc_277dea96
lea     eax, [ebp+hwndfrom]
mov     ecx, esi
push    eax
call    sub_277b5186
lea     eax, [ebp+points]
push    eax
push    [ebp+hwndfrom]
call    ds:getwindowrect
jmp     short loc_277deab5
mov     eax, [esp+arg_4]
and     dword ptr [eax], 0
test    [esp+arg_0], 4
jz      short loc_277deb3a
mov     dword ptr [eax], 1
test    [esp+arg_0], 8
jz      short loc_277deb44
or      dword ptr [eax], 2
test    [esp+arg_0], 20h
jz      short locret_277deb4e
or      dword ptr [eax], 4
retn
mov     eax, [esp+arg_4]
push    1
pop     ecx
and     dword ptr [eax], 0
test    [esp+arg_0], cl
jz      short loc_277deb61
mov     [eax], ecx
test    [esp+arg_0], 2
jz      short loc_277deb6b
or      dword ptr [eax], 2
test    [esp+arg_0], 10h
jz      short locret_277deb75
or      dword ptr [eax], 4
retn
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+arg_8]
xor     ebx, ebx
cmp     esi, ebx
push    edi
mov     [ebp+var_c], ecx
mov     [ebp+var_4], ebx
jz      short loc_277deb97
fldz
fstp    dword ptr [esi]
fldz
fstp    dword ptr [esi+4]
mov     edi, [ebp+hwnd]
test    byte ptr [edi+0b0h], 2
jz      short loc_277debaf
cmp     [edi+0ach], ebx
jz      loc_277deccd
mov     eax, [edi+0ach]
cmp     eax, ebx
mov     ecx, eax
jnz     short loc_277debbe
mov     ecx, [edi+74h]
cmp     ecx, ebx
jz      short loc_277dec2f
cmp     eax, ebx
jnz     short loc_277debc9
mov     eax, [edi+74h]
mov     ecx, [eax]
lea     edx, [ebp+hwnd]
push    edx
push    eax
call    dword ptr [ecx+0ch]
cmp     eax, ebx
jl      loc_277decc6
mov     eax, [ebp+arg_4]
mov     ecx, [eax]
mov     eax, [eax+4]
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
mov     [ebp+point.x], ecx
push    [ebp+hwnd]
call    ds:screentoclient
mov     ecx, [ebp+var_c]
lea     eax, [ebp+var_8]
push    eax
call    sub_277de96c
cmp     eax, ebx
jl      loc_277decc6
mov     eax, [ebp+var_8]
lea     edx, [ebp+var_24]
push    edx
push    1
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+28h]
mov     esi, eax
mov     eax, [ebp+var_8]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
cmp     esi, ebx
jl      loc_277decc6
mov     esi, [ebp+arg_8]
lea     eax, [ebp+point]
push    eax
lea     eax, [ebp+point]
push    eax
call    sub_277b921f
pop     ecx
pop     ecx
mov     ecx, [ebp+var_c]
mov     eax, [ecx+4]
test    byte ptr [eax+0b0h], 2
jz      short loc_277dec55
cmp     [eax+0ach], ebx
jz      short loc_277dec61
mov     eax, [ebp+var_24]
sub     [ebp+point.x], eax
mov     eax, [ebp+var_20]
sub     [ebp+point.y], eax
cmp     esi, ebx
jz      short loc_277dec98
lea     eax, [ebp+var_4]
push    eax
call    sub_277de8ca
cmp     eax, ebx
jl      short loc_277decc6
mov     eax, [ebp+var_4]
push    5
lea     edx, [ebp+point]
push    esi
mov     ecx, [eax]
push    edx
push    eax
call    dword ptr [ecx+18h]
mov     esi, eax
mov     eax, [ebp+var_4]
cmp     eax, ebx
jz      short loc_277dec94
mov     [ebp+var_4], ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     esi, ebx
jl      short loc_277decc6
test    byte ptr [edi+0b0h], 2
jz      short loc_277deca9
cmp     [edi+0ach], ebx
jz      short loc_277decc6
lea     eax, [ebp+point]
push    eax
lea     eax, [ebp+point]
push    eax
call    sub_277b4726
mov     eax, [ebp+arg_4]
pop     ecx
pop     ecx
mov     ecx, [ebp+point.x]
mov     [eax], ecx
mov     ecx, [ebp+point.y]
mov     [eax+4], ecx
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
lea     eax, [ebp+hwnd]
push    eax
call    sub_277b5186
cmp     eax, ebx
jl      short loc_277decc6
mov     eax, [ebp+arg_4]
mov     ecx, [eax]
mov     eax, [eax+4]
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
mov     [ebp+point.x], ecx
push    [ebp+hwnd]
call    ds:screentoclient
jmp     loc_277dec2f
push    ebx
mov     ebx, [esp+4+arg_4]
push    esi
push    edi
or      dword ptr [ebx], 0ffffffffh
cmp     dword_2782bfe4, 0
mov     esi, offset dword_2782bf78
jz      short loc_277ded5e
mov     edi, offset criticalsection
push    edi
call    ds:entercriticalsection
cmp     dword_2782bfe4, 0
jz      short loc_277ded57
xor     ecx, ecx
mov     eax, esi
mov     dx, [eax]
cmp     dx, 0bf01h
jnz     short loc_277ded44
mov     cx, word ptr dword_2782a1f8
mov     [eax], cx
push    1
pop     ecx
jmp     short loc_277ded49
test    dx, dx
jz      short loc_277ded3f
add     eax, 0ch
test    ecx, ecx
jz      short loc_277ded2b
and     dword_2782bfe4, 0
push    edi
call    ds:leavecriticalsection
xor     edx, edx
mov     eax, esi
mov     cx, [eax]
test    cx, cx
jz      short loc_277ded77
cmp     cx, [esp+0ch+arg_0]
jz      short loc_277ded80
inc     edx
add     eax, 0ch
jmp     short loc_277ded62
mov     eax, 8004006ah
pop     edi
pop     esi
pop     ebx
retn
mov     [ebx], edx
xor     eax, eax
jmp     short loc_277ded7c
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+arg_0]
push    eax
push    esi
call    sub_277decfa
pop     ecx
pop     ecx
push    1
test    eax, eax
pop     edx
jl      short loc_277dedc6
mov     eax, [ebp+arg_0]
lea     eax, [eax+eax*2]
mov     ecx, dword_2782bf7c[eax*4]
mov     eax, [ebp+arg_4]
and     dword ptr [eax+4], 0
or      dword ptr [eax+0ch], 0ffffffffh
mov     [eax], si
mov     [eax+8], edx
mov     [eax+10h], ecx
xor     eax, eax
pop     esi
pop     ebp
retn
mov     ecx, edx
jmp     short loc_277dedad
push    ebp
mov     ebp, esp
sub     esp, 14h
lea     eax, [ebp+var_14]
push    eax
push    [ebp+arg_4]
call    sub_277ded86
pop     ecx
test    eax, eax
pop     ecx
jl      short locret_277dedef
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_14]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
leave
retn
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_8]
push    edi
push    [ebp+pvarg]
mov     [esi], bx
call    ds:variantinit
mov     edi, [ebp+pvargsrc]
cmp     word ptr [edi], 9
jnz     short loc_277dee5e
mov     eax, [edi+8]
lea     edx, [ebp+arg_4]
push    edx
push    offset riid
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277dee5e
push    [ebp+arg_14]
push    [ebp+arg_10]
push    esi
push    ebx
push    [ebp+arg_4]
call    sub_277df162
mov     esi, eax
mov     eax, [ebp+arg_4]
add     esp, 14h
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
test    esi, esi
jge     short loc_277dee50
mov     eax, esi
pop     edi
pop     esi
pop     ebx
pop     ebp
retn
push    edi
push    [ebp+pvarg]
call    ds:variantcopyind
xor     eax, eax
jmp     short loc_277dee4b
movzx   eax, bx
cmp     eax, 2
jl      short loc_277dee7a
cmp     eax, 3
jle     short loc_277deeb9
cmp     eax, 7
jle     short loc_277dee7a
cmp     eax, 9
jle     short loc_277deeb9
cmp     eax, 0eh
jz      short loc_277deeb9
test    bx, bx
jnz     short loc_277dee84
mov     word ptr [esi], 1
lea     eax, [ebp+arg_8]
push    eax
mov     ax, [esi]
push    eax
call    sub_277decfa
pop     ecx
test    eax, eax
pop     ecx
jl      short loc_277deec3
mov     eax, [ebp+arg_8]
lea     eax, [eax+eax*2]
mov     ax, vt[eax*4]
push    eax
push    0
push    edi
push    [ebp+pvarg]
call    ds:variantchangetype
cmp     eax, 80020005h
jnz     short loc_277deeee
push    [ebp+arg_14]
push    1cdh
jmp     short loc_277deed2
cmp     word ptr [edi], 2011h
jz      short loc_277deee2
push    [ebp+arg_14]
push    2a3h
push    [ebp+arg_10]
call    sub_277de110
add     esp, 0ch
jmp     loc_277dee4b
push    edi
push    [ebp+pvarg]
call    ds:variantcopy
jmp     short loc_277deeb2
test    eax, eax
jge     loc_277dee5a
jmp     loc_277dee4b
push    ebp
mov     ebp, esp
mov     edx, [ebp+arg_0]
test    edx, edx
jz      short loc_277def56
mov     ecx, [ebp+arg_4]
test    ecx, ecx
jz      short loc_277def56
cmp     [ebp+arg_8], 0
jz      short loc_277def56
cmp     [ebp+arg_c], 0
jz      short loc_277def34
mov     ax, [ecx]
cmp     ax, [ebp+arg_c]
jz      short loc_277def34
cmp     [ebp+arg_c], 1
jnz     short loc_277def3c
movzx   eax, ax
cmp     eax, dword_2782a1f8
jnz     short loc_277def3c
mov     eax, [ecx+10h]
cmp     eax, [ebp+arg_10]
jz      short loc_277def43
mov     eax, 8000ffffh
pop     ebp
retn
mov     ax, [edx]
sub     ax, [ebp+arg_14]
neg     ax
sbb     eax, eax
and     eax, 8000ffffh
pop     ebp
retn
mov     eax, 80070057h
pop     ebp
retn
push    esi
mov     esi, [esp+4+arg_8]
push    edi
mov     edi, [esp+8+arg_0]
push    8
push    1
push    1
push    esi
push    [esp+18h+arg_4]
push    edi
call    sub_277deefb
add     esp, 18h
test    eax, eax
jl      short loc_277defa5
push    dword ptr [edi+8]
call    ds:sysstringlen
lea     eax, [eax+eax+1]
inc     eax
push    eax
push    2000h
call    ds:globalalloc
test    eax, eax
mov     [esi+4], eax
jnz     short loc_277defa8
mov     eax, 8007000eh
pop     edi
pop     esi
retn
and     dword ptr [esi+8], 0
push    esi
push    [esp+0ch+arg_4]
mov     dword ptr [esi], 1
push    edi
call    sub_277df0ee
mov     edi, eax
add     esp, 0ch
test    edi, edi
jge     short loc_277defd7
push    dword ptr [esi+4]
call    ds:globalfree
and     dword ptr [esi+4], 0
mov     eax, edi
jmp     short loc_277defa5
xor     eax, eax
jmp     short loc_277defa5
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
push    edi
push    2011h
push    1
mov     edi, [ebp+pllbound]
pop     esi
push    esi
push    0
push    ebx
push    [ebp+plubound]
push    edi
call    sub_277deefb
add     esp, 18h
mov     [ebp+arg_8], eax
test    eax, eax
jl      short loc_277df036
mov     edi, [edi+8]
test    edi, edi
mov     [ebp+psa], edi
jz      short loc_277df03b
lea     eax, [ebp+pllbound]
push    eax
push    esi
push    edi
call    ds:safearraygetlbound
test    eax, eax
jl      short loc_277df036
lea     eax, [ebp+plubound]
push    eax
push    esi
push    edi
call    ds:safearraygetubound
test    eax, eax
mov     [ebp+arg_8], eax
jge     short loc_277df06c
pop     edi
pop     esi
pop     ebx
leave
retn
and     [ebp+pllbound], 0
or      eax, 0ffffffffh
mov     [ebp+plubound], eax
sub     eax, [ebp+pllbound]
inc     eax
cmp     eax, esi
mov     [ebp+var_4], eax
ja      short loc_277df052
mov     eax, esi
push    eax
push    2000h
call    ds:globalalloc
test    eax, eax
mov     [ebx+4], eax
jnz     short loc_277df071
mov     eax, 8007000eh
jmp     short loc_277df036
mov     eax, [ebp+plubound]
jmp     short loc_277df045
and     dword ptr [ebx+8], 0
push    eax
mov     [ebx], esi
call    ds:globallock
cmp     [ebp+var_4], 0
mov     edi, eax
jz      short loc_277df0e9
lea     eax, [ebp+ppvdata]
push    eax
push    [ebp+psa]
call    ds:safearrayaccessdata
test    eax, eax
mov     [ebp+arg_8], eax
jl      short loc_277df0c0
mov     ecx, [ebp+var_4]
mov     esi, [ebp+ppvdata]
mov     eax, ecx
push    [ebp+psa]
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
call    ds:safearrayunaccessdata
push    dword ptr [ebx+4]
call    ds:globalunlock
cmp     [ebp+arg_8], 0
jge     short loc_277df0e1
mov     eax, [ebx+4]
test    eax, eax
jz      short loc_277df0e1
push    eax
call    ds:globalunlock
push    dword ptr [ebx+4]
call    ds:globalfree
and     dword ptr [ebx+4], 0
mov     eax, [ebp+arg_8]
jmp     loc_277df036
and     byte ptr [edi], 0
jmp     short loc_277df0b7
push    ebx
push    esi
mov     esi, [esp+8+arg_8]
push    edi
push    8
push    1
push    1
push    esi
push    [esp+1ch+arg_4]
push    [esp+20h+arg_0]
call    sub_277deefb
add     esp, 18h
test    eax, eax
jl      short loc_277df125
push    dword ptr [esi+4]
call    ds:globalsize
mov     ebx, eax
cmp     ebx, 2
jge     short loc_277df129
mov     eax, 80030070h
pop     edi
pop     esi
pop     ebx
retn
push    dword ptr [esi+4]
call    ds:globallock
mov     edi, eax
test    edi, edi
jnz     short loc_277df13f
mov     eax, 80070057h
jmp     short loc_277df125
mov     eax, [esp+0ch+arg_0]
push    ebx
push    dword ptr [eax+8]
push    edi
call    sub_277e158b
and     byte ptr [edi+ebx-1], 0
add     esp, 0ch
push    dword ptr [esi+4]
call    ds:globalunlock
xor     eax, eax
jmp     short loc_277df125
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    esi
mov     si, word ptr [ebp+arg_4]
and     [ebp+arg_4], 0
push    edi
mov     edi, [ebp+arg_8]
test    eax, eax
mov     [edi], si
jz      short loc_277df186
mov     ecx, [eax]
lea     edx, [ebp+arg_4]
push    edx
push    eax
call    dword ptr [ecx+14h]
cmp     word ptr [ebp+arg_4], 0
jnz     short loc_277df1a2
push    [ebp+arg_10]
push    17ch
push    [ebp+arg_c]
call    sub_277de110
add     esp, 0ch
jmp     short loc_277df1e6
movsx   eax, word ptr [ebp+arg_4]
dec     eax
jz      short loc_277df1f1
dec     eax
jz      short loc_277df1cf
dec     eax
dec     eax
jnz     short loc_277df1bc
movzx   eax, si
test    eax, eax
jz      short loc_277df1c6
cmp     eax, 0eh
jz      short loc_277df1cb
push    [ebp+arg_10]
push    1cdh
jmp     short loc_277df195
mov     word ptr [edi], 0eh
xor     eax, eax
jmp     short loc_277df1e6
movzx   eax, si
test    eax, eax
jz      short loc_277df1ea
cmp     eax, 3
jz      short loc_277df1cb
push    1cdh
call    sub_277e166e
pop     ecx
pop     edi
pop     esi
pop     ebp
retn
mov     word ptr [edi], 3
jmp     short loc_277df1cb
movzx   eax, si
test    eax, eax
jz      short loc_277df209
cmp     eax, 2
jz      short loc_277df1cb
cmp     eax, 7
jle     short loc_277df1bc
cmp     eax, 9
jg      short loc_277df1bc
jmp     short loc_277df1cb
mov     word ptr [edi], 8
jmp     short loc_277df1cb
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_0]
push    ebx
push    esi
lea     edx, [ebp+var_4]
mov     eax, [eax+8]
push    edi
push    edx
push    offset riid
mov     ecx, [eax]
push    eax
call    dword ptr [ecx]
xor     edi, edi
cmp     eax, edi
jl      short loc_277df254
push    [ebp+h]
mov     esi, [ebp+arg_8]
lea     eax, [ebp+arg_0]
push    [ebp+arg_10]
push    eax
mov     ax, [esi]
push    eax
push    [ebp+var_4]
call    sub_277df162
add     esp, 14h
cmp     eax, edi
mov     [ebp+arg_0], eax
jge     short loc_277df25e
mov     eax, 8000ffffh
pop     edi
pop     esi
pop     ebx
leave
retn
mov     eax, [ebp+var_4]
mov     [ebp+h], edi
cmp     eax, edi
jz      short loc_277df272
mov     ecx, [eax]
lea     edx, [ebp+h]
push    edx
push    eax
call    dword ptr [ecx+14h]
cmp     word ptr [ebp+h], di
jnz     short loc_277df291
mov     [ebp+arg_0], 80004005h
mov     eax, [ebp+var_4]
cmp     eax, edi
jz      short loc_277df28c
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+arg_0]
jmp     short loc_277df259
mov     ebx, [ebp+arg_c]
mov     eax, [esi+10h]
mov     cx, [esi]
mov     [ebx], eax
mov     [ebx+8], edi
movsx   eax, word ptr [ebp+h]
dec     eax
jz      loc_277df3fa
dec     eax
jz      short loc_277df2f2
dec     eax
dec     eax
jnz     loc_277df35c
cmp     cx, 0eh
jnz     loc_277df35c
mov     eax, [ebp+var_4]
lea     edx, [ebp+henh]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277df35c
push    edi
push    [ebp+henh]
call    ds:copyenhmetafilea
cmp     eax, edi
jnz     loc_277df396
mov     [ebp+arg_0], 8007000eh
jmp     short loc_277df27f
cmp     cx, 3
jnz     short loc_277df35c
push    10h
push    2000h
call    ds:globalalloc
mov     edi, eax
test    edi, edi
jz      short loc_277df335
mov     eax, [ebp+var_4]
lea     edx, [ebp+henh]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
push    0
push    [ebp+henh]
call    ds:copymetafilea
test    eax, eax
mov     [ebp+henh], eax
push    edi
jnz     loc_277df3af
call    ds:globalfree
xor     edi, edi
jmp     short loc_277df2e9
mov     esi, [ebp+henh]
mov     eax, [esi]
cmp     eax, edi
jnz     short loc_277df394
mov     eax, [ebp+var_4]
lea     edx, [ebp+h]
mov     [ebp+h], edi
mov     [ebp+henh], edi
mov     ecx, [eax]
push    edx
push    eax
call    dword ptr [ecx+0ch]
cmp     eax, edi
mov     [ebp+arg_0], eax
jge     short loc_277df368
mov     [ebp+arg_0], 8000ffffh
jmp     loc_277df27f
mov     eax, [ebp+var_4]
lea     edx, [ebp+henh]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
cmp     [ebp+henh], edi
jz      short loc_277df39e
push    [ebp+henh]
mov     ecx, esi
push    [ebp+h]
call    sub_277dfb63
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277df27f
mov     eax, [esi]
mov     [esi], edi
mov     [ebx+4], eax
jmp     loc_277df27f
push    edi
push    edi
push    [ebp+var_4]
call    sub_27822f75
add     esp, 0ch
mov     [esi], eax
jmp     short loc_277df392
call    ds:globallock
mov     esi, eax
mov     eax, [ebp+henh]
lea     edx, [ebp+h]
mov     [esi+0ch], eax
mov     dword ptr [esi], 8
mov     eax, [ebp+var_4]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+18h]
mov     eax, [ebp+var_4]
lea     edx, [ebp+arg_10]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+1ch]
mov     eax, [ebp+h]
push    edi
mov     [esi+4], eax
mov     eax, [ebp+arg_10]
mov     [esi+8], eax
call    ds:globalunlock
mov     [ebx+4], edi
xor     edi, edi
jmp     loc_277df27f
movzx   eax, cx
dec     eax
dec     eax
jz      loc_277df339
sub     eax, 6
jz      short loc_277df474
dec     eax
jnz     loc_277df35c
mov     esi, [ebp+henh]
mov     eax, [esi+4]
cmp     eax, edi
jz      short loc_277df423
mov     [esi+4], edi
jmp     loc_277df396
mov     eax, [ebp+var_4]
lea     edx, [ebp+h]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277df35c
mov     eax, [ebp+var_4]
lea     edx, [ebp+henh]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
cmp     [ebp+henh], edi
jz      short loc_277df46d
push    [ebp+henh]
mov     ecx, esi
push    [ebp+h]
call    sub_277dfb63
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277df27f
mov     eax, [esi+4]
jmp     loc_277df396
xor     eax, eax
jmp     loc_277df396
mov     eax, [ebp+var_4]
lea     edx, [ebp+h]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+0ch]
cmp     eax, edi
jl      loc_277df35c
mov     eax, [ebp+var_4]
lea     edx, [ebp+henh]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+10h]
cmp     eax, edi
mov     [ebp+arg_0], eax
jl      loc_277df35c
push    [ebp+henh]
push    [ebp+h]
call    sub_277e16f9
pop     ecx
cmp     eax, edi
pop     ecx
jz      loc_277df2e9
jmp     loc_277df396
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+pvarg]
push    edi
call    ds:variantinit
mov     ebx, [esp+0ch+arg_8]
mov     esi, [esp+0ch+arg_0]
and     dword ptr [ebx], 0
cmp     dword ptr [esi], 1
jz      short loc_277df4e2
mov     eax, 8000ffffh
pop     edi
pop     esi
pop     ebx
retn
push    dword ptr [esi+4]
call    ds:globallock
test    eax, eax
jnz     short loc_277df4f6
mov     eax, 80070057h
jmp     short loc_277df4de
push    0
push    eax
mov     word ptr [edi], 8
call    sub_277b7d29
pop     ecx
mov     [edi+8], eax
pop     ecx
push    dword ptr [esi+4]
call    ds:globalunlock
cmp     dword ptr [edi+8], 0
jnz     short loc_277df51e
mov     eax, 8007000eh
jmp     short loc_277df4de
push    esi
call    ds:releasestgmedium
mov     dword ptr [ebx], 1
xor     eax, eax
jmp     short loc_277df4de
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
push    edi
mov     edi, [ebp+pvarg]
push    edi
call    ds:variantinit
mov     eax, [ebp+arg_8]
mov     ebx, [ebp+psa]
push    1
and     dword ptr [eax], 0
pop     esi
cmp     [ebx], esi
jz      short loc_277df55c
mov     eax, 8000ffffh
pop     edi
pop     esi
pop     ebx
leave
retn
push    dword ptr [ebx+4]
call    ds:globallock
test    eax, eax
mov     [ebp+var_4], eax
jnz     short loc_277df573
mov     eax, 80070057h
jmp     short loc_277df557
push    dword ptr [ebx+4]
call    ds:globalsize
mov     [ebp+var_c], eax
mov     [ebp+rgsabound.celements], eax
lea     eax, [ebp+rgsabound]
mov     [ebp+rgsabound.llbound], esi
push    eax
push    esi
push    11h
call    ds:safearraycreate
test    eax, eax
mov     [ebp+psa], eax
jnz     short loc_277df5c3
mov     [ebp+var_8], 8007000eh
cmp     [ebp+psa], 0
jz      short loc_277df5af
push    [ebp+psa]
call    ds:safearraydestroy
cmp     [ebp+var_4], 0
jz      short loc_277df5be
push    dword ptr [ebx+4]
call    ds:globalunlock
mov     eax, [ebp+var_8]
jmp     short loc_277df557
lea     ecx, [ebp+ppvdata]
push    ecx
push    eax
call    ds:safearrayaccessdata
test    eax, eax
mov     [ebp+var_8], eax
jl      short loc_277df5a0
mov     ecx, [ebp+var_c]
test    ecx, ecx
jz      short loc_277df5f6
mov     esi, [ebp+var_4]
mov     edi, [ebp+ppvdata]
mov     eax, ecx
push    1
shr     ecx, 2
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
mov     edi, [ebp+pvarg]
pop     esi
push    [ebp+psa]
call    ds:safearrayunaccessdata
mov     eax, [ebp+psa]
push    dword ptr [ebx+4]
and     [ebp+psa], 0
mov     word ptr [edi], 2011h
mov     [edi+8], eax
call    ds:globalunlock
and     [ebp+var_4], 0
push    ebx
call    ds:releasestgmedium
mov     eax, [ebp+arg_8]
mov     [eax], esi
jmp     loc_277df5a0
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
push    esi
push    edi
xor     ebx, ebx
push    [ebp+pvarg]
mov     [ebp+lpvobj], ebx
mov     [ebp+var_8], ebx
call    ds:variantinit
mov     eax, [ebp+arg_10]
mov     [eax], ebx
mov     eax, [ebp+arg_0]
mov     edi, [eax+4]
cmp     edi, ebx
jnz     short loc_277df666
cmp     word ptr [ebp+arg_4], 9
jz      short loc_277df666
mov     eax, 80070057h
pop     edi
pop     esi
pop     ebx
leave
retn
movzx   eax, word ptr [ebp+arg_4]
dec     eax
mov     [ebp+pictdesc.cbsizeofstruct], 14h
dec     eax
jz      loc_277df764
dec     eax
jz      loc_277df877
sub     eax, 5
jz      loc_277df7eb
dec     eax
jz      short loc_277df6c5
sub     eax, 5
jz      short loc_277df698
mov     eax, 80004005h
jmp     short loc_277df661
lea     eax, [ebp+lpvobj]
mov     [ebp+pictdesc.pictype], 4
push    eax
push    1
pop     esi
lea     eax, [ebp+pictdesc]
push    esi
push    offset riid
push    eax
mov     dword ptr [ebp+pictdesc.anonymous_0], edi
call    ds:olecreatepictureindirect
cmp     eax, ebx
mov     [ebp+arg_4], eax
jge     short loc_277df716
mov     [ebp+lpvobj], ebx
jmp     short loc_277df716
push    ebx
push    nbitcount
push    nplanes
push    1
pop     esi
push    esi
push    esi
call    ds:createbitmap
mov     ebx, eax
test    ebx, ebx
jz      loc_277df80f
lea     eax, [ebp+lpvobj]
mov     [ebp+pictdesc.pictype], esi
push    eax
push    esi
lea     eax, [ebp+pictdesc]
push    offset riid
push    eax
mov     dword ptr [ebp+pictdesc.anonymous_0], ebx
mov     dword ptr [ebp+pictdesc.anonymous_0+4], edi
call    ds:olecreatepictureindirect
test    eax, eax
mov     [ebp+arg_4], eax
jge     short loc_277df716
push    ebx
call    ds:deleteobject
and     [ebp+lpvobj], 0
xor     ebx, ebx
cmp     [ebp+arg_4], ebx
jl      short loc_277df742
mov     eax, [ebp+arg_10]
lea     edx, [ebp+var_8]
push    edx
push    offset dword_277b6200
mov     [eax], esi
mov     eax, [ebp+lpvobj]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
cmp     eax, ebx
jge     loc_277df7d2
mov     [ebp+arg_4], 8000ffffh
mov     eax, [ebp+lpvobj]
cmp     eax, ebx
jz      short loc_277df74f
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+var_8]
cmp     eax, ebx
jz      short loc_277df75c
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, [ebp+arg_4]
jmp     loc_277df661
mov     eax, [ebp+ho]
push    1
or      [ebp+var_30], 0ffffffffh
pop     esi
mov     ecx, [eax]
lea     edx, [ebp+var_14]
push    edx
lea     edx, [ebp+var_3c]
push    edx
push    eax
mov     [ebp+pictdesc.pictype], esi
mov     dword ptr [ebp+pictdesc.anonymous_0], edi
mov     [ebp+var_3c], 9
mov     [ebp+var_38], ebx
mov     [ebp+var_34], esi
mov     [ebp+var_2c], 10h
call    dword ptr [ecx+0ch]
cmp     eax, ebx
jl      short loc_277df7cd
mov     eax, dword ptr [ebp+var_14.anonymous_0]
mov     dword ptr [ebp+pictdesc.anonymous_0+4], eax
lea     eax, [ebp+lpvobj]
push    eax
push    esi
lea     eax, [ebp+pictdesc]
push    offset riid
push    eax
call    ds:olecreatepictureindirect
cmp     eax, ebx
mov     [ebp+arg_4], eax
jge     loc_277df716
lea     eax, [ebp+var_14]
push    eax
call    ds:releasestgmedium
jmp     loc_277df6c0
mov     dword ptr [ebp+pictdesc.anonymous_0+4], ebx
jmp     short loc_277df79f
mov     eax, [ebp+pvarg]
mov     ecx, [ebp+var_8]
mov     [ebp+var_8], ebx
mov     [ebp+arg_4], ebx
mov     word ptr [eax], 9
mov     [eax+8], ecx
jmp     loc_277df742
push    edi
call    ds:globallock
cmp     eax, ebx
jz      short loc_277df80f
lea     ecx, [ebp+ho]
push    ecx
push    eax
call    sub_277e1960
pop     ecx
mov     ebx, eax
pop     ecx
push    edi
call    ds:globalunlock
test    ebx, ebx
jnz     short loc_277df81d
mov     [ebp+arg_4], 8007000eh
xor     ebx, ebx
jmp     loc_277df742
mov     eax, [ebp+ho]
push    1
mov     dword ptr [ebp+pictdesc.anonymous_0+4], eax
pop     esi
lea     eax, [ebp+lpvobj]
mov     [ebp+pictdesc.pictype], esi
push    eax
push    esi
lea     eax, [ebp+pictdesc]
push    offset riid
push    eax
mov     dword ptr [ebp+pictdesc.anonymous_0], ebx
call    ds:olecreatepictureindirect
test    eax, eax
mov     [ebp+arg_4], eax
jge     short loc_277df864
mov     edi, ds:deleteobject
push    ebx
call    edi
cmp     [ebp+ho], 0
jz      loc_277df712
push    [ebp+ho]
call    edi
jmp     loc_277df712
push    [ebp+arg_0]
call    ds:releasestgmedium
mov     eax, [ebp+arg_10]
mov     [eax], esi
jmp     loc_277df716
push    edi
call    ds:globallock
mov     ecx, eax
cmp     ecx, ebx
jz      loc_277df73b
mov     eax, [ecx+4]
mov     esi, 4f6h
imul    eax, 5a0h
add     eax, esi
mov     ebx, 9ech
cdq
idiv    ebx
push    edi
mov     dword ptr [ebp+pictdesc.anonymous_0+4], eax
mov     eax, [ecx+8]
imul    eax, 5a0h
add     eax, esi
mov     esi, ebx
cdq
idiv    esi
mov     dword ptr [ebp+pictdesc.anonymous_0+8], eax
mov     eax, [ecx+0ch]
mov     dword ptr [ebp+pictdesc.anonymous_0], eax
mov     [ebp+pictdesc.pictype], 2
call    ds:globalunlock
cmp     dword ptr [ebp+pictdesc.anonymous_0+4], 0
push    1
pop     esi
jnz     short loc_277df8d9
mov     dword ptr [ebp+pictdesc.anonymous_0+8], esi
mov     dword ptr [ebp+pictdesc.anonymous_0+4], esi
lea     eax, [ebp+lpvobj]
push    eax
push    esi
lea     eax, [ebp+pictdesc]
push    offset riid
push    eax
call    ds:olecreatepictureindirect
test    eax, eax
mov     [ebp+arg_4], eax
jl      loc_277df712
push    edi
call    ds:globalfree
jmp     loc_277df86d
push    ebp
mov     ebp, esp
sub     esp, 9ch
mov     eax, [ebp+lpstring]
push    ebx
push    esi
lea     ecx, [ebp+var_18]
lea     ebx, [eax+1ch]
push    edi
xor     edi, edi
xor     esi, esi
mov     eax, [ebx]
push    ecx
push    ebx
mov     [ebp+var_14], esi
mov     [ebp+lpmem], edi
mov     [ebp+var_10], ebx
call    dword ptr [eax+20h]
cmp     eax, edi
mov     [ebp+var_c], eax
jl      loc_277dfaa9
xor     eax, eax
cmp     [ebp+var_18], edi
jle     loc_277dfa2e
mov     ecx, [ebx]
lea     edx, [ebp+lpstring]
inc     eax
push    edx
push    eax
push    ebx
mov     [ebp+var_1c], eax
call    dword ptr [ecx+1ch]
cmp     eax, edi
mov     [ebp+var_c], eax
jl      loc_277dfa4b
cmp     [ebp+lpstring], edi
jz      loc_277dfa22
push    [ebp+lpstring]
call    ds:lstrlenw
lea     ebx, [eax+eax+2]
lea     ecx, [ebp+lpmultibytestr]
push    ebx
call    sub_277b37aa
push    edi
push    edi
push    ebx
push    [ebp+lpmultibytestr]
push    0ffffffffh
push    [ebp+lpstring]
push    edi
push    edi
call    ds:widechartomultibyte
mov     eax, [ebp+lpmultibytestr]
push    eax
mov     [ebp+lpstring2], eax
call    ds:lstrlena
cmp     [ebp+lpmem], edi
lea     eax, [eax+esi+2]
push    eax
jz      loc_277dfa50
push    [ebp+lpmem]
push    edi
push    dword_278282f0
call    ds:heaprealloc
mov     ebx, eax
cmp     ebx, edi
jz      loc_277dfb0e
push    [ebp+lpstring2]
lea     eax, [ebx+esi]
mov     [ebp+lpmem], ebx
push    eax
call    ds:lstrcpya
push    [ebp+lpstring2]
call    ds:lstrlena
add     esi, eax
and     byte ptr [ebx+esi], 0
inc     esi
cmp     [ebp+lpstring], edi
mov     [ebp+var_14], esi
jz      short loc_277df9fe
push    [ebp+lpstring]
call    ds:sysfreestring
cmp     [ebp+lpmultibytestr], edi
jz      short loc_277dfa1f
test    [ebp+var_20], 1
jz      short loc_277dfa1f
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
mov     ebx, [ebp+var_10]
mov     eax, [ebp+var_1c]
cmp     eax, [ebp+var_18]
jl      loc_277df943
lea     eax, [esi+15h]
push    eax
push    2000h
call    ds:globalalloc
cmp     eax, edi
mov     [ebp+lpstring2], eax
jnz     short loc_277dfa62
mov     [ebp+var_c], 8007000eh
mov     ebx, [ebp+lpstring]
jmp     short loc_277dfa76
push    edi
push    dword_278282f0
call    ds:heapalloc
jmp     loc_277df9c3
push    eax
call    ds:globallock
mov     ebx, eax
cmp     ebx, edi
jnz     short loc_277dfaae
mov     [ebp+var_c], 8000ffffh
cmp     [ebp+lpmem], edi
jz      short loc_277dfa8b
push    [ebp+lpmem]
push    edi
push    dword_278282f0
call    ds:heapfree
cmp     ebx, edi
jz      short loc_277dfa98
push    [ebp+lpstring2]
call    ds:globalunlock
cmp     [ebp+lpstring2], edi
jz      short loc_277dfaa6
push    [ebp+lpstring2]
call    ds:globalfree
mov     eax, [ebp+var_c]
pop     edi
pop     esi
pop     ebx
leave
retn
lea     ecx, [esi+1]
mov     esi, [ebp+lpmem]
mov     eax, ecx
mov     [ebx+4], edi
mov     [ebx+8], edi
mov     [ebx+0ch], edi
mov     [ebx+10h], edi
lea     edi, [ebx+14h]
shr     ecx, 2
mov     dword ptr [ebx], 14h
push    [ebp+lpmem]
rep movsd
mov     ecx, eax
and     ecx, 3
rep movsb
mov     eax, [ebx]
add     eax, [ebp+var_14]
and     byte ptr [eax+ebx], 0
xor     ebx, ebx
push    ebx
push    dword_278282f0
call    ds:heapfree
mov     esi, [ebp+lpstring2]
mov     [ebp+lpmem], ebx
push    esi
call    ds:globalunlock
mov     eax, [ebp+arg_4]
mov     [ebp+lpstring2], ebx
xor     edi, edi
mov     [eax], esi
jmp     loc_277dfa76
cmp     [ebp+lpmultibytestr], edi
jz      loc_277dfa44
test    [ebp+var_20], 1
jz      loc_277dfa44
push    [ebp+lpmultibytestr]
push    edi
push    dword_278282f0
call    ds:heapfree
jmp     loc_277dfa44
push    esi
mov     esi, ecx
push    edi
mov     edi, ds:deleteobject
mov     eax, [esi]
test    eax, eax
jz      short loc_277dfb4f
push    eax
call    edi
mov     eax, [esi+4]
test    eax, eax
jz      short loc_277dfb59
push    eax
call    edi
and     dword ptr [esi], 0
and     dword ptr [esi+4], 0
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
mov     esi, ecx
call    sub_277dfb3c
mov     edi, [ebp+arg_0]
mov     ebx, [ebp+arg_4]
lea     eax, [ebp+var_8]
mov     [ebp+ho], edi
push    eax
lea     eax, [ebp+ho]
push    eax
mov     [ebp+var_8], ebx
call    sub_277e1a23
pop     ecx
mov     [ebp+arg_0], eax
test    eax, eax
pop     ecx
jz      short loc_277dfbca
cmp     [ebp+ho], 0
mov     esi, ds:deleteobject
jz      short loc_277dfbaa
cmp     [ebp+ho], edi
jz      short loc_277dfbaa
push    [ebp+ho]
call    esi
cmp     [ebp+var_8], 0
jz      short loc_277dfbba
cmp     [ebp+var_8], ebx
jz      short loc_277dfbba
push    [ebp+var_8]
call    esi
push    [ebp+arg_0]
call    sub_277e166e
pop     ecx
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebp+ho]
mov     [esi], eax
mov     eax, [ebp+var_8]
mov     [esi+4], eax
xor     eax, eax
jmp     short loc_277dfbc3
mov     eax, ecx
xor     ecx, ecx
mov     [eax], ecx
mov     [eax+4], ecx
mov     [eax+8], ecx
mov     [eax+0ch], ecx
mov     ecx, [esp+arg_0]
mov     [eax+10h], ecx
mov     ecx, [esp+arg_4]
mov     [eax+14h], ecx
retn    8
and     dword ptr [ecx+0ch], 0
push    ecx
push    ebp
push    esi
mov     esi, ecx
xor     ebp, ebp
mov     [esp+0ch+var_4], ebp
cmp     [esi+0ch], ebp
jz      short loc_277dfc34
push    dword ptr [esi+14h]
push    2a0h
push    dword ptr [esi+10h]
call    sub_277de110
add     esp, 0ch
pop     esi
pop     ebp
pop     ecx
retn
mov     eax, [esp+arg_0]
lea     eax, [eax+eax*2]
shl     eax, 4
add     eax, [ecx+8]
retn    4
push    edi
xor     edi, edi
cmp     [esi], ebp
push    ebx
jle     short loc_277dfc5b
xor     ebx, ebx
mov     eax, [esi+8]
mov     ecx, esi
add     eax, ebx
push    eax
call    sub_277dfebd
cmp     eax, ebp
jge     short loc_277dfc53
mov     [esp+14h+var_4], eax
inc     edi
add     ebx, 30h
cmp     edi, [esi]
jl      short loc_277dfc3e
mov     eax, [esi+8]
cmp     eax, ebp
jz      short loc_277dfc70
push    eax
push    ebp
push    dword_278282f0
call    ds:heapfree
mov     eax, [esp+14h+var_4]
pop     ebx
mov     [esi], ebp
mov     [esi+4], ebp
mov     [esi+8], ebp
pop     edi
jmp     short loc_277dfc20
push    ebp
mov     ebp, esp
sub     esp, 28h
and     [ebp+var_8], 0
push    ebx
mov     ebx, ds:variantinit
push    esi
lea     eax, [ebp+pvarg]
push    edi
mov     edi, ecx
push    eax
call    ebx
mov     eax, [ebp+pvargsrc]
mov     esi, [ebp+pvarsrc]
cmp     word ptr [eax], 0ah
jnz     short loc_277dfcda
mov     ecx, 80020004h
cmp     [eax+8], ecx
jnz     short loc_277dfcda
cmp     word ptr [esi], 0ah
jnz     loc_277dfd3d
cmp     [esi+8], ecx
jnz     short loc_277dfcda
push    dword ptr [edi+14h]
push    2a1h
push    dword ptr [edi+10h]
call    sub_277de110
add     esp, 0ch
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     word ptr [esi], 0ah
jnz     short loc_277dfd3d
cmp     dword ptr [esi+8], 80020004h
jnz     short loc_277dfd3d
xor     esi, esi
cmp     si, 0bf00h
jnz     short loc_277dfd60
mov     esi, dword_2782a1fc
cmp     si, 0c000h
jb      short loc_277dfd72
cmp     si, 0ffffh
ja      short loc_277dfd72
lea     eax, [ebp+pvargdest.anonymous_0+4]
push    0ah
push    eax
movzx   eax, si
push    eax
call    ds:getclipboardformatnamea
test    eax, eax
jnz     short loc_277dfd6f
push    dword ptr [edi+14h]
push    1cdh
push    dword ptr [edi+10h]
call    sub_277de110
add     esp, 0ch
mov     ebx, eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
mov     eax, ebx
jmp     short loc_277dfcd3
lea     eax, [ebp+pvargdest]
push    eax
call    ebx
push    2
push    0
lea     eax, [ebp+pvargdest]
push    esi
push    eax
call    ds:variantchangetype
mov     ebx, eax
test    ebx, ebx
jl      short loc_277dfd2f
mov     esi, dword ptr [ebp+pvargdest.anonymous_0+8]
mov     eax, [ebp+pvargsrc]
jmp     short loc_277dfceb
cmp     si, 0bf01h
jnz     short loc_277dfcf8
mov     esi, dword_2782a1f8
jmp     short loc_277dfcf8
mov     eax, [ebp+pvargsrc]
cmp     word ptr [eax], 0ah
jnz     short loc_277dfda4
cmp     dword ptr [eax+8], 80020004h
jnz     short loc_277dfda4
mov     [ebp+var_4], esi
cmp     word ptr [ebp+var_4], 0fh
jnz     short loc_277dfdcb
cmp     word ptr [eax], 0ah
jnz     short loc_277dfd9a
cmp     dword ptr [eax+8], 80020004h
jz      short loc_277dfdcb
push    dword ptr [edi+14h]
push    5
jmp     loc_277dfcc8
push    dword ptr [edi+14h]
lea     ecx, [ebp+pvarg]
push    dword ptr [edi+10h]
push    ecx
lea     ecx, [ebp+var_4]
push    ecx
push    esi
push    eax
call    sub_277dedf1
mov     ebx, eax
add     esp, 18h
test    ebx, ebx
jl      loc_277dfd2f
mov     eax, [ebp+pvargsrc]
jmp     short loc_277dfd84
push    [ebp+var_4]
mov     ecx, edi
call    sub_277dfe8b
mov     esi, eax
test    esi, esi
jz      short loc_277dfe41
lea     eax, [esi+8]
push    eax
mov     [ebp+pvarsrc], eax
call    ds:variantclear
lea     eax, [esi+18h]
push    eax
push    [ebp+var_4]
call    sub_277ded86
mov     ebx, eax
pop     ecx
test    ebx, ebx
pop     ecx
jl      loc_277dfd2f
mov     ax, word ptr [ebp+var_4]
mov     [esi], ax
mov     eax, [ebp+pvargsrc]
cmp     word ptr [eax], 0ah
jnz     short loc_277dfe19
cmp     dword ptr [eax+8], 80020004h
jz      short loc_277dfe1c
lea     eax, [ebp+pvarg]
push    eax
push    [ebp+pvarsrc]
call    ds:variantcopyind
mov     ebx, eax
test    ebx, ebx
jl      loc_277dfd2f
cmp     [ebp+var_8], 0
jz      loc_277dfd2f
inc     dword ptr [edi]
jmp     loc_277dfd2f
cmp     dword ptr [edi+0ch], 0
jz      short loc_277dfe54
push    dword ptr [edi+14h]
push    2a0h
jmp     loc_277dfcc8
mov     ecx, edi
call    sub_277dfed8
mov     ebx, eax
test    ebx, ebx
jl      loc_277dfd2f
mov     eax, [edi]
mov     esi, [edi+8]
lea     eax, [eax+eax*2]
shl     eax, 4
add     esi, eax
lea     eax, [esi+8]
push    eax
mov     [ebp+pvarsrc], eax
call    ds:variantinit
mov     [ebp+var_8], 1
jmp     loc_277dfde8
mov     edx, [ecx]
xor     eax, eax
push    esi
push    edi
test    edx, edx
jle     short loc_277dfeac
mov     ecx, [ecx+8]
mov     esi, ecx
mov     di, [esi]
cmp     di, [esp+8+arg_0]
jz      short loc_277dfeb3
inc     eax
add     esi, 30h
cmp     eax, edx
jl      short loc_277dfe9a
xor     eax, eax
pop     edi
pop     esi
retn    4
lea     eax, [eax+eax*2]
shl     eax, 4
add     eax, ecx
jmp     short loc_277dfeae
mov     eax, [esp+arg_0]
and     word ptr [eax], 0
add     eax, 8
push    eax
call    ds:variantclear
test    eax, eax
jl      short locret_277dfed5
xor     eax, eax
retn    4
push    esi
push    edi
mov     edi, ecx
mov     eax, [edi+4]
cmp     eax, [edi]
jle     short loc_277dfee9
push    1
pop     eax
pop     edi
pop     esi
retn
mov     ecx, [edi+8]
test    ecx, ecx
jnz     short loc_277dff13
push    5
pop     esi
push    0f0h
push    ecx
push    dword_278282f0
call    ds:heapalloc
test    eax, eax
mov     [edi+8], eax
jnz     short loc_277dff33
mov     eax, 8007000eh
jmp     short loc_277dfee6
lea     esi, [eax+5]
lea     eax, [esi+esi*2]
shl     eax, 4
push    eax
push    ecx
push    0
push    dword_278282f0
call    ds:heaprealloc
test    eax, eax
jz      short loc_277dff0c
mov     [edi+8], eax
mov     [edi+4], esi
xor     eax, eax
jmp     short loc_277dfee6
push    ebp
mov     ebp, esp
push    esi
mov     esi, ecx
mov     eax, esi
push    edi
neg     eax
lea     edi, [esi+1ch]
sbb     eax, eax
and     eax, edi
push    eax
push    [ebp+arg_8]
push    0
call    sub_277b3b9b
mov     ecx, [ebp+arg_4]
mov     eax, [ebp+arg_0]
mov     [esi+24h], ecx
mov     ecx, [ebp+arg_c]
mov     dword ptr [edi], offset off_277cb628
mov     dword ptr [esi+20h], offset off_277b5b88
test    eax, eax
mov     dword ptr [esi], offset off_277cb5f0
mov     dword ptr [edi], offset off_277cb5c0
mov     dword ptr [esi+20h], offset off_277cb5b0
mov     [esi+28h], eax
mov     [esi+2ch], ecx
jz      short loc_277dff93
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
mov     eax, [esi+24h]
test    eax, eax
jz      short loc_277dffa0
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
mov     eax, [esi+2ch]
test    eax, eax
jz      short loc_277dffb1
mov     ecx, [eax+1ch]
add     eax, 1ch
push    eax
call    dword ptr [ecx+4]
mov     eax, [ebp+arg_14]
pop     edi
mov     [esi+30h], eax
mov     eax, [ebp+arg_10]
mov     [esi+34h], eax
mov     eax, esi
pop     esi
pop     ebp
retn    18h
push    esi
mov     esi, ecx
call    sub_277dffed
test    [esp+4+arg_0], 1
jz      short loc_277dffe7
test    esi, esi
jz      short loc_277dffe7
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
mov     dword ptr [esi], offset off_277cb5f0
mov     dword ptr [esi+1ch], offset off_277cb5c0
mov     dword ptr [esi+20h], offset off_277cb5b0
call    sub_277e0023
mov     eax, [esi+2ch]
test    eax, eax
jz      short loc_277e001a
mov     ecx, [eax+1ch]
add     eax, 1ch
push    eax
call    dword ptr [ecx+8]
mov     ecx, esi
call    sub_277b5a47
pop     esi
retn
push    esi
mov     esi, ecx
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_277e0037
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
and     dword ptr [esi+28h], 0
mov     eax, [esi+24h]
test    eax, eax
jz      short loc_277e0048
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
and     dword ptr [esi+24h], 0
pop     esi
retn
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
mov     eax, ecx
mov     ecx, [ebp+arg_4]
push    edi
mov     edx, [esi]
and     dword ptr [ecx], 0
cmp     edx, ds:dword_277b1de8
jnz     short loc_277e0073
push    10h
mov     edi, offset dword_277b1de8
pop     ecx
xor     ebx, ebx
repe cmpsb
jz      short loc_277e00ec
cmp     edx, ds:dword_277cbf60
jnz     short loc_277e00aa
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277cbf60
xor     ebx, ebx
repe cmpsb
jnz     short loc_277e00aa
mov     esi, [eax+24h]
test    esi, esi
jnz     short loc_277e0096
mov     esi, [eax+28h]
mov     eax, [esi]
push    esi
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
cmp     edx, ds:dword_277b1df8
jnz     short loc_277e00d3
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b1df8
xor     ebx, ebx
repe cmpsb
jnz     short loc_277e00d3
mov     eax, [eax+2ch]
test    eax, eax
jz      short loc_277e00cf
lea     esi, [eax+1ch]
jmp     short loc_277e0096
xor     esi, esi
jmp     short loc_277e0096
cmp     edx, ds:dword_277b6200
jnz     short loc_277e00f9
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6200
xor     ebx, ebx
repe cmpsb
jnz     short loc_277e00f9
mov     esi, eax
add     eax, 1ch
neg     esi
sbb     esi, esi
and     esi, eax
jmp     short loc_277e0096
cmp     edx, ds:dword_277cbf50
jnz     short loc_277e0119
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277cbf50
xor     edx, edx
repe cmpsb
jnz     short loc_277e0119
mov     esi, eax
add     eax, 20h
jmp     short loc_277e00f1
push    [ebp+arg_4]
mov     ecx, eax
push    [ebp+arg_0]
call    sub_277b480f
jmp     loc_277e00a3
push    esi
mov     esi, [esp+4+arg_0]
push    edi
cmp     dword ptr [esi+0ch], 0
jnz     short loc_277e01a7
cmp     dword ptr [esi+8], 0
jz      loc_277e01c9
cmp     dword ptr [esi+10h], 0
jnz     short loc_277e01a7
push    dword_278282f0
push    34h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277e0180
push    dword ptr [esi+14h]
mov     ecx, eax
push    dword ptr [esi+18h]
push    dword_2782a274
call    sub_277e0a6f
test    eax, eax
mov     [esi+10h], eax
jnz     short loc_277e0184
mov     edi, 8007000eh
mov     eax, edi
pop     edi
pop     esi
retn    8
xor     eax, eax
jmp     short loc_277e016d
push    dword ptr [esi+8]
mov     ecx, eax
call    sub_277e0e8c
mov     edi, eax
test    edi, edi
jge     short loc_277e01a7
mov     ecx, [esi+10h]
test    ecx, ecx
jz      short loc_277e01a1
mov     eax, [ecx]
push    1
call    dword ptr [eax]
and     dword ptr [esi+10h], 0
jmp     short loc_277e0179
mov     esi, [esi+10h]
test    esi, esi
jz      short loc_277e01c5
lea     eax, [esi+1ch]
mov     ecx, [esp+8+arg_4]
mov     [ecx], eax
mov     ecx, [esi+1ch]
lea     eax, [esi+1ch]
push    eax
call    dword ptr [ecx+4]
xor     edi, edi
jmp     short loc_277e0179
xor     eax, eax
jmp     short loc_277e01b1
push    dword ptr [esi+14h]
push    1a9h
push    dword ptr [esi+18h]
call    sub_277de110
add     esp, 0ch
jmp     short loc_277e017b
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
xor     edi, edi
cmp     bx, 0bf00h
mov     [ebp+var_4], edi
jnz     short loc_277e0227
mov     ebx, dword_2782a1fc
push    [ebp+pvarg]
call    ds:variantinit
mov     esi, [ebp+arg_0]
cmp     [esi+0ch], edi
jz      short loc_277e0236
push    dword ptr [esi+14h]
push    1a9h
push    dword ptr [esi+18h]
call    sub_277de110
add     esp, 0ch
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     bx, 0bf01h
jnz     short loc_277e01fc
mov     ebx, dword_2782a1f8
jmp     short loc_277e01fc
cmp     [esi+8], edi
jz      loc_277e0334
lea     eax, [ebp+var_24]
push    eax
push    ebx
call    sub_277ded86
pop     ecx
cmp     eax, edi
pop     ecx
jl      short loc_277e026d
cmp     bx, 0fh
jnz     short loc_277e025c
push    dword ptr [esi+14h]
push    5
jmp     short loc_277e0215
mov     eax, [esi+8]
lea     edx, [ebp+var_24]
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+14h]
cmp     eax, edi
jz      short loc_277e0277
push    dword ptr [esi+14h]
push    1cdh
jmp     short loc_277e0215
mov     eax, [esi+8]
lea     edx, [ebp+var_10]
push    edx
lea     edx, [ebp+var_24]
mov     ecx, [eax]
push    edx
push    eax
call    dword ptr [ecx+0ch]
mov     edi, eax
test    edi, edi
jl      short loc_277e02eb
push    1
movsx   eax, bx
pop     ecx
cmp     eax, ecx
mov     [ebp+var_4], ecx
jz      loc_277e0322
jle     short loc_277e0302
cmp     eax, 3
jle     short loc_277e02c6
cmp     eax, 7
jle     short loc_277e0302
cmp     eax, 9
jle     short loc_277e02c6
cmp     eax, 0eh
jz      short loc_277e02c6
cmp     eax, 0fh
jnz     short loc_277e0302
push    0dh
call    sub_277e166e
pop     ecx
mov     edi, eax
jmp     short loc_277e02eb
lea     eax, [ebp+arg_4]
push    eax
lea     eax, [ebp+var_10]
push    [ebp+pvarg]
push    dword ptr [esi+8]
push    [ebp+var_24]
push    eax
call    sub_277df62c
add     esp, 14h
cmp     [ebp+arg_4], 0
mov     edi, eax
jz      short loc_277e02eb
and     [ebp+var_4], 0
cmp     [ebp+var_4], 0
jz      short loc_277e02fb
lea     eax, [ebp+var_10]
push    eax
call    ds:releasestgmedium
mov     eax, edi
jmp     loc_277e0220
movzx   eax, bx
cmp     eax, dword_2782a1f8
jz      short loc_277e0322
lea     eax, [ebp+arg_4]
push    eax
lea     eax, [ebp+var_10]
push    [ebp+pvarg]
push    eax
call    sub_277df52f
add     esp, 0ch
jmp     short loc_277e02df
lea     eax, [ebp+arg_4]
push    eax
lea     eax, [ebp+var_10]
push    [ebp+pvarg]
push    eax
call    sub_277df4bb
jmp     short loc_277e031d
push    dword ptr [esi+14h]
push    1a9h
push    dword ptr [esi+18h]
call    sub_277de110
add     esp, 0ch
jmp     loc_277e02c2
mov     edx, [esp+arg_4]
cmp     dx, 0bf00h
jnz     short loc_277e0381
mov     edx, dword_2782a1fc
mov     eax, [esp+arg_0]
mov     ecx, [eax+0ch]
test    ecx, ecx
jz      short loc_277e0390
add     ecx, 0ch
push    edx
call    sub_277dfe8b
neg     eax
mov     ecx, [esp+arg_8]
sbb     eax, eax
mov     [ecx], ax
xor     eax, eax
retn    0ch
cmp     dx, 0bf01h
jnz     short loc_277e035d
mov     edx, dword_2782a1f8
jmp     short loc_277e035d
mov     ecx, [eax+8]
test    ecx, ecx
jz      short loc_277e03b1
push    edx
push    ecx
call    sub_277dedca
pop     ecx
pop     ecx
xor     ecx, ecx
test    eax, eax
mov     eax, [esp+arg_8]
setnz   cl
dec     ecx
mov     [eax], cx
jmp     short loc_277e037c
push    dword ptr [eax+14h]
push    1a9h
push    dword ptr [eax+18h]
call    sub_277de110
add     esp, 0ch
jmp     short locret_277e037e
push    esi
mov     esi, [esp+4+arg_0]
cmp     dword ptr [esi+0ch], 0
jz      short loc_277e03f5
mov     eax, [esi+10h]
test    eax, eax
jz      short loc_277e03e6
mov     ecx, [eax+1ch]
add     eax, 1ch
push    eax
call    dword ptr [ecx+28h]
test    eax, eax
jl      short loc_277e03f1
mov     ecx, [esi+0ch]
add     ecx, 0ch
call    sub_277dfbfd
pop     esi
retn    4
push    dword ptr [esi+14h]
cmp     dword ptr [esi+8], 0
push    1a9h
push    dword ptr [esi+18h]
call    sub_277de110
add     esp, 0ch
jmp     short loc_277e03f1
mov     eax, [esp+arg_0]
mov     ecx, [eax+0ch]
test    ecx, ecx
jz      short loc_277e042e
lea     eax, [esp+pvargsrc]
add     ecx, 0ch
push    eax
lea     eax, [esp+4+pvarsrc]
push    eax
call    sub_277dfc80
retn    24h
push    dword ptr [eax+14h]
cmp     dword ptr [eax+8], 0
push    1a9h
push    dword ptr [eax+18h]
call    sub_277de110
add     esp, 0ch
jmp     short locret_277e042b
push    ebx
mov     ebx, [esp+4+arg_8]
push    esi
push    edi
mov     edi, [esp+0ch+arg_c]
mov     esi, ecx
push    edi
push    ebx
lea     ecx, [esi+0ch]
mov     dword ptr [esi], offset off_277cb690
call    sub_277dfbd9
mov     eax, [esp+0ch+arg_0]
mov     dword ptr [esi], offset off_277cb658
mov     [esi+34h], eax
mov     eax, [esp+0ch+arg_4]
mov     [esi+2ch], eax
add     eax, 1ch
push    eax
mov     dword ptr [esi+30h], 1
mov     ecx, [eax]
mov     [esi+8], ebx
mov     [esi+4], edi
call    dword ptr [ecx+4]
mov     eax, [esi+2ch]
add     eax, 1ch
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+28h]
and     dword ptr [esi+24h], 0
and     dword ptr [esi+28h], 0
mov     eax, esi
pop     edi
pop     esi
pop     ebx
retn    10h
push    esi
mov     esi, ecx
mov     eax, [esi+2ch]
mov     dword ptr [esi], offset off_277cb658
add     eax, 1ch
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
lea     ecx, [esi+24h]
call    sub_277dfb3c
lea     ecx, [esi+0ch]
call    sub_277dfbf9
pop     esi
retn
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_4]
push    edi
push    10h
pop     ecx
mov     edi, offset dword_277b6118
xor     eax, eax
repe cmpsb
jz      short loc_277e0509
mov     esi, [ebp+arg_4]
push    10h
pop     ecx
mov     edi, offset dword_277cbf60
xor     eax, eax
repe cmpsb
jz      short loc_277e0509
mov     eax, [ebp+arg_8]
and     dword ptr [eax], 0
mov     eax, 80004002h
pop     edi
pop     esi
pop     ebp
retn    0ch
mov     esi, [ebp+arg_0]
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_8]
mov     [eax], esi
xor     eax, eax
jmp     short loc_277e0503
mov     eax, [esp+arg_0]
inc     dword ptr [eax+30h]
mov     eax, [eax+30h]
retn    4
push    esi
mov     esi, [esp+4+lpmem]
dec     dword ptr [esi+30h]
mov     eax, [esi+30h]
jnz     short loc_277e0551
test    esi, esi
jz      short loc_277e054f
mov     ecx, esi
call    sub_277e04aa
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
xor     eax, eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
push    edi
test    ebx, ebx
jz      loc_277e06a1
cmp     [ebp+plubound], 0
jz      loc_277e06a1
xor     eax, eax
mov     edi, ebx
mov     esi, [ebp+arg_0]
lea     ecx, [ebp+arg_8]
stosd
stosd
push    ecx
push    [ebp+plubound]
stosd
mov     eax, [esi]
push    esi
call    dword ptr [eax+30h]
test    eax, eax
jz      short loc_277e059a
jl      short loc_277e0593
mov     eax, 80040064h
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    [ebp+arg_8]
lea     ecx, [esi+0ch]
call    sub_277dfc24
push    [ebp+arg_8]
mov     ecx, esi
mov     edi, eax
call    sub_277e06ab
test    eax, eax
jl      short loc_277e0593
cmp     word ptr [edi+8], 0ah
lea     ecx, [edi+8]
mov     [ebp+var_4], ecx
jnz     short loc_277e0603
cmp     dword ptr [edi+10h], 80020004h
jnz     short loc_277e0603
mov     eax, [esi+2ch]
lea     edx, [ebp+arg_0]
add     eax, 1ch
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+20h]
test    eax, eax
jl      short loc_277e0593
mov     edx, [ebp+plubound]
cmp     word ptr [edx], 0fh
jnz     short loc_277e05ee
cmp     [ebp+arg_0], 0
jg      short loc_277e0631
push    dword ptr [esi+4]
push    2a4h
push    dword ptr [esi+8]
call    sub_277de110
add     esp, 0ch
jmp     short loc_277e0593
mov     edx, [ebp+plubound]
movzx   eax, word ptr [edx]
cmp     eax, 9
jg      short loc_277e0640
cmp     eax, 8
jge     short loc_277e0687
cmp     eax, 1
jz      short loc_277e0636
jle     short loc_277e061f
cmp     eax, 3
jle     short loc_277e0687
cmp     eax, dword_2782a1f8
push    ebx
push    edx
push    ecx
jz      short loc_277e0639
call    sub_277defdb
jmp     short loc_277e05fe
mov     ecx, [ebp+var_4]
jmp     short loc_277e0606
push    ebx
push    edx
push    ecx
call    sub_277def5d
jmp     short loc_277e05fe
mov     edi, eax
sub     edi, 0eh
jz      short loc_277e0687
dec     edi
jz      short loc_277e065c
sub     edi, 0bef2h
jnz     short loc_277e061f
mov     eax, 80004001h
jmp     loc_277e0593
lea     eax, [ebp+plubound]
push    eax
push    dword ptr [esi+2ch]
call    sub_277df904
pop     ecx
test    eax, eax
pop     ecx
jl      loc_277e0593
mov     ecx, [ebp+plubound]
and     dword ptr [ebx+8], 0
mov     dword ptr [ebx], 1
mov     [ebx+4], ecx
jmp     loc_277e0593
push    dword ptr [esi+4]
add     esi, 24h
push    dword ptr [esi-1ch]
push    ebx
push    edx
push    esi
push    ecx
call    sub_277df210
add     esp, 18h
jmp     loc_277e0593
mov     eax, 80070057h
jmp     loc_277e0593
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
push    edi
mov     esi, ecx
push    [ebp+arg_0]
xor     edi, edi
lea     eax, [ebp+var_8]
lea     ecx, [esi+0ch]
mov     [ebp+var_8], 4009h
mov     [ebp+var_6], 4002h
mov     [ebp+var_1c], 610h
mov     [ebp+var_18], 2
mov     [ebp+var_14], eax
mov     [ebp+var_4], edi
call    sub_277dfc24
mov     ebx, eax
cmp     word ptr [ebx+8], 0ah
jnz     loc_277e07db
cmp     dword ptr [ebx+10h], 80020004h
jnz     loc_277e07db
cmp     word ptr [ebx], 0fh
jnz     short loc_277e071f
mov     eax, [esi+2ch]
lea     edx, [ebp+var_c]
add     eax, 1ch
push    edx
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+20h]
cmp     [ebp+var_c], edi
jg      loc_277e07db
push    esi
call    sub_277e0a35
test    eax, eax
pop     ecx
mov     [ebp+var_c], eax
jnz     short loc_277e075d
mov     esi, 8007000eh
test    edi, edi
jz      short loc_277e073c
mov     eax, [edi]
push    edi
call    dword ptr [eax+8]
mov     ecx, [ebp+var_c]
test    ecx, ecx
jz      short loc_277e0754
call    sub_277e0023
mov     eax, [ebp+var_c]
add     eax, 1ch
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    4
lea     edi, [eax+1ch]
push    edi
mov     eax, [edi]
call    dword ptr [eax+4]
movzx   eax, word ptr [ebx]
cmp     eax, dword_2782a1fc
jnz     short loc_277e07c7
mov     [ebp+arg_0], 0bf00h
mov     eax, [esi+34h]
lea     edx, [ebp+var_4]
add     eax, 1ch
push    edx
push    offset dword_277ca258
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
test    eax, eax
jl      short loc_277e07a6
mov     eax, [ebp+var_4]
push    [ebp+arg_0]
mov     ecx, [eax]
push    edi
push    eax
call    dword ptr [ecx+10h]
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
lea     eax, [ebp+arg_0]
mov     [ebp+var_10], edi
push    eax
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebp+var_1c]
push    eax
push    dword ptr [esi+34h]
call    sub_277b9711
add     esp, 10h
xor     esi, esi
jmp     loc_277e0732
cmp     eax, dword_2782a1f8
mov     [ebp+arg_0], 0bf01h
jz      short loc_277e0778
mov     [ebp+arg_0], eax
jmp     short loc_277e0778
xor     eax, eax
jmp     loc_277e0756
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
test    ebx, ebx
jz      loc_277e0881
mov     edi, [ebp+arg_8]
test    edi, edi
jz      loc_277e0881
xor     eax, eax
mov     esi, [ebp+arg_0]
stosd
stosd
lea     ecx, [ebp+arg_4]
stosd
mov     eax, [esi]
push    ecx
push    ebx
push    esi
call    dword ptr [eax+30h]
test    eax, eax
jz      short loc_277e0823
jl      short loc_277e081c
mov     eax, 80040064h
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
push    [ebp+arg_4]
lea     ecx, [esi+0ch]
call    sub_277dfc24
cmp     dword ptr [ebx+10h], 1
mov     edi, eax
jz      short loc_277e083d
mov     eax, 80040069h
jmp     short loc_277e081c
push    [ebp+arg_4]
mov     ecx, esi
call    sub_277e06ab
test    eax, eax
jl      short loc_277e081c
cmp     word ptr [edi+8], 0ah
lea     ecx, [edi+8]
jnz     short loc_277e0865
cmp     dword ptr [edi+10h], 80020004h
jnz     short loc_277e0865
mov     eax, 80004005h
jmp     short loc_277e081c
movzx   eax, word ptr [ebx]
dec     eax
jz      short loc_277e0872
mov     eax, 80004001h
jmp     short loc_277e081c
push    [ebp+arg_8]
push    ebx
push    ecx
call    sub_277df0ee
add     esp, 0ch
jmp     short loc_277e081c
mov     eax, 80070057h
jmp     short loc_277e081c
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
lea     edx, [ebp+arg_0]
push    edx
push    [ebp+arg_4]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+30h]
pop     ebp
retn    8
mov     eax, [esp+arg_8]
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_4]
or      dword ptr [eax], 0ffffffffh
xor     ebx, ebx
cmp     edi, ebx
jnz     short loc_277e08be
mov     eax, 80070057h
pop     edi
pop     esi
pop     ebx
retn    0ch
cmp     dword ptr [edi+0ch], 0ffffffffh
jz      short loc_277e08cb
mov     eax, 80040068h
jmp     short loc_277e08b8
test    byte ptr [edi+8], 1
jnz     short loc_277e08d8
mov     eax, 8004006bh
jmp     short loc_277e08b8
mov     eax, [esp+0ch+arg_0]
cmp     [eax+0ch], ebx
lea     esi, [eax+0ch]
jle     short loc_277e08f9
push    ebx
mov     ecx, esi
call    sub_277dfc24
mov     cx, [edi]
cmp     cx, [eax]
jz      short loc_277e08fe
inc     ebx
cmp     ebx, [esi]
jl      short loc_277e08e4
push    1
pop     eax
jmp     short loc_277e08b8
push    ebx
mov     ecx, esi
call    sub_277dfc24
mov     eax, [eax+28h]
test    [edi+10h], eax
jz      short loc_277e0918
mov     eax, [esp+0ch+arg_8]
mov     [eax], ebx
xor     eax, eax
jmp     short loc_277e08b8
mov     eax, 80040069h
jmp     short loc_277e08b8
mov     eax, [esp+arg_4]
push    esi
test    eax, eax
push    edi
jz      short loc_277e0952
mov     edx, [esp+8+arg_8]
test    edx, edx
jz      short loc_277e0952
cmp     dword ptr [eax+4], 0
push    5
pop     ecx
mov     esi, eax
mov     edi, edx
rep movsd
jnz     short loc_277e094a
mov     eax, 40130h
pop     edi
pop     esi
retn    0ch
and     dword ptr [edx+4], 0
xor     eax, eax
jmp     short loc_277e0945
mov     eax, 80070057h
jmp     short loc_277e0945
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
xor     edi, edi
cmp     [ebp+arg_4], 1
mov     [ebp+lpmem], edi
jz      short loc_277e0978
mov     eax, 80004001h
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     esi, [ebp+arg_8]
cmp     esi, edi
jnz     short loc_277e0986
mov     eax, 80070057h
jmp     short loc_277e0971
mov     ecx, dword_278282f0
mov     [esi], edi
cmp     ecx, edi
mov     [ebp+hheap], ecx
jz      short loc_277e09fa
mov     eax, [ebp+arg_0]
lea     ebx, [eax+0ch]
mov     eax, [eax+0ch]
lea     eax, [eax+eax*4]
shl     eax, 2
push    eax
push    edi
push    ecx
call    ds:heapalloc
cmp     eax, edi
mov     [ebp+lpmem], eax
jz      short loc_277e09fa
cmp     [ebx], edi
mov     [ebp+arg_4], edi
jle     short loc_277e09e8
mov     [ebp+arg_0], eax
push    [ebp+arg_4]
mov     ecx, ebx
call    sub_277dfc24
mov     edi, [ebp+arg_0]
add     [ebp+arg_0], 14h
mov     esi, eax
push    5
add     esi, 18h
inc     [ebp+arg_4]
mov     eax, [ebp+arg_4]
pop     ecx
cmp     eax, [ebx]
rep movsd
jl      short loc_277e09be
mov     esi, [ebp+arg_8]
xor     edi, edi
push    [ebp+lpmem]
push    dword ptr [ebx]
call    sub_277e14dd
pop     ecx
cmp     eax, edi
pop     ecx
mov     [esi], eax
jnz     short loc_277e0a16
cmp     [ebp+lpmem], edi
jz      short loc_277e0a0c
push    [ebp+lpmem]
push    edi
push    [ebp+hheap]
call    ds:heapfree
mov     eax, 8007000eh
jmp     loc_277e0971
xor     eax, eax
jmp     loc_277e0971
mov     eax, 80040003h
retn    14h
mov     eax, 80004005h
retn    8
mov     eax, 80040003h
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    edi
push    dword_278282f0
mov     edi, [esi+2ch]
push    38h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277e0a6b
push    dword ptr [esi+4]
mov     ecx, eax
push    dword ptr [esi+8]
push    edi
push    dword_2782a270
push    0
push    esi
call    sub_277dff3a
pop     edi
pop     esi
retn
xor     eax, eax
jmp     short loc_277e0a68
push    esi
mov     esi, ecx
mov     eax, esi
push    edi
neg     eax
lea     edi, [esi+1ch]
sbb     eax, eax
and     eax, edi
push    eax
push    [esp+0ch+arg_0]
push    0
call    sub_277b3b9b
mov     eax, [esp+8+arg_4]
and     dword ptr [esi+2ch], 0
and     dword ptr [esi+30h], 0
mov     [esi+28h], eax
mov     eax, [esp+8+arg_8]
mov     dword ptr [edi], offset off_277cb740
mov     dword ptr [esi+20h], offset off_277b5b88
mov     dword ptr [edi], offset off_277cb708
mov     [esi+24h], eax
mov     dword ptr [esi], offset off_277cb6d0
mov     dword ptr [esi+20h], offset off_277cb6c0
mov     eax, esi
pop     edi
pop     esi
retn    0ch
push    esi
mov     esi, ecx
call    sub_277e0aef
test    [esp+4+arg_0], 1
jz      short loc_277e0ae9
test    esi, esi
jz      short loc_277e0ae9
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
mov     eax, [esi+2ch]
mov     dword ptr [esi], offset off_277cb6d0
test    eax, eax
mov     dword ptr [esi+1ch], offset off_277cb708
mov     dword ptr [esi+20h], offset off_277cb6c0
jz      short loc_277e0b14
push    eax
call    ds:safearraydestroy
mov     ecx, esi
call    sub_277b5a47
pop     esi
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
and     dword ptr [eax], 0
push    edi
mov     eax, [esi]
mov     edx, ecx
cmp     eax, ds:dword_277b1df8
jnz     short loc_277e0b46
push    10h
mov     edi, offset dword_277b1df8
pop     ecx
xor     ebx, ebx
repe cmpsb
jz      short loc_277e0b5f
cmp     eax, ds:dword_277b6200
jnz     short loc_277e0b7e
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277b6200
xor     ebx, ebx
repe cmpsb
jnz     short loc_277e0b7e
mov     esi, edx
add     edx, 1ch
neg     esi
sbb     esi, esi
and     esi, edx
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_4]
mov     [eax], esi
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
cmp     eax, ds:dword_277cbf50
jnz     short loc_277e0b9e
mov     esi, [ebp+arg_0]
push    10h
pop     ecx
mov     edi, offset dword_277cbf50
xor     eax, eax
repe cmpsb
jnz     short loc_277e0b9e
mov     esi, edx
add     edx, 20h
jmp     short loc_277e0b64
push    [ebp+arg_4]
mov     ecx, edx
push    [ebp+arg_0]
call    sub_277b480f
jmp     short loc_277e0b77
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+pv], 0
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     ecx, [esi-1ch]
call    sub_277e0fb0
test    eax, eax
jl      short loc_277e0bf3
mov     edi, [ebp+arg_8]
mov     eax, [ebp+rgindices]
and     dword ptr [edi], 0
cmp     eax, 1
jl      short loc_277e0bf9
cmp     eax, [esi+14h]
jg      short loc_277e0bf9
lea     eax, [ebp+pv]
push    eax
lea     eax, [ebp+rgindices]
push    eax
push    dword ptr [esi+10h]
call    ds:safearraygetelement
test    eax, eax
jl      short loc_277e0bf3
mov     ecx, [ebp+pv]
mov     [edi], ecx
pop     edi
pop     esi
leave
retn    0ch
mov     eax, 8002000bh
jmp     short loc_277e0bf3
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
mov     eax, [eax+14h]
mov     [ecx], eax
xor     eax, eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 1ch
cmp     word ptr [ebp+pvarg.anonymous_0], 0ah
push    ebx
push    esi
push    edi
push    1
pop     ebx
jnz     loc_277e0cf7
cmp     dword ptr [ebp+pvarg.anonymous_0+8], 80020004h
jnz     loc_277e0cf7
mov     esi, [ebp+pv]
mov     eax, [esi+14h]
inc     eax
mov     [ebp+var_4], eax
lea     ecx, [esi-1ch]
call    sub_277e0fb0
mov     edi, eax
test    edi, edi
jl      loc_277e0ce4
lea     eax, [ebp+plubound]
push    eax
push    ebx
push    dword ptr [esi+10h]
call    ds:safearraygetubound
mov     edi, eax
test    edi, edi
jl      short loc_277e0ce4
mov     ecx, [esi+14h]
mov     eax, [ebp+plubound]
inc     ecx
cmp     ecx, eax
jle     short loc_277e0c8d
add     eax, 0ah
mov     dword ptr [ebp+pvargdest.anonymous_0+0ch], ebx
mov     dword ptr [ebp+pvargdest.anonymous_0+8], eax
lea     eax, [ebp+pvargdest.anonymous_0+8]
push    eax
push    dword ptr [esi+10h]
call    ds:safearrayredim
mov     edi, eax
test    edi, edi
jl      short loc_277e0ce4
mov     eax, [esi+14h]
mov     ebx, ds:safearrayputelement
cmp     eax, [ebp+var_4]
mov     [ebp+rgindices], eax
jl      short loc_277e0cd5
inc     eax
mov     dword ptr [ebp+pvargdest.anonymous_0+0ch], eax
lea     eax, [ebp+pv]
push    eax
lea     eax, [ebp+rgindices]
push    eax
push    dword ptr [esi+10h]
call    ds:safearraygetelement
mov     edi, eax
test    edi, edi
jge     short loc_277e0cbd
and     [ebp+pv], 0
push    [ebp+pv]
lea     eax, [ebp+pvargdest.anonymous_0+0ch]
push    eax
push    dword ptr [esi+10h]
call    ebx
mov     eax, [ebp+rgindices]
dec     eax
cmp     eax, [ebp+var_4]
mov     [ebp+rgindices], eax
jge     short loc_277e0c9e
push    [ebp+arg_4]
lea     eax, [ebp+var_4]
push    eax
push    dword ptr [esi+10h]
call    ebx
inc     dword ptr [esi+14h]
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantclear
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    18h
lea     eax, [ebp+pvargdest]
push    eax
call    ds:variantinit
push    3
lea     eax, [ebp+pvarg]
push    0
push    eax
lea     eax, [ebp+pvargdest]
push    eax
call    ds:variantchangetype
mov     edi, eax
test    edi, edi
jl      short loc_277e0ce4
mov     eax, dword ptr [ebp+pvargdest.anonymous_0+8]
cmp     eax, ebx
mov     [ebp+var_4], eax
jl      short loc_277e0d32
mov     esi, [ebp+pv]
mov     ecx, [esi+14h]
inc     ecx
cmp     eax, ecx
jle     loc_277e0c40
mov     edi, 8002000bh
jmp     short loc_277e0ce4
push    esi
mov     esi, [esp+4+arg_0]
xor     eax, eax
mov     ecx, [esi+10h]
test    ecx, ecx
jz      short loc_277e0d52
push    ecx
call    ds:safearraydestroy
and     dword ptr [esi+10h], 0
and     dword ptr [esi+14h], 0
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
lea     ecx, [edi-1ch]
call    sub_277e0fb0
test    eax, eax
mov     [ebp+var_4], eax
jl      loc_277e0e08
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
push    3
lea     eax, [ebp+pvarsrc]
push    0
push    eax
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantchangetype
test    eax, eax
mov     [ebp+var_4], eax
jl      short loc_277e0e08
mov     ecx, dword ptr [ebp+pvarg.anonymous_0+8]
cmp     ecx, 1
jl      short loc_277e0e12
mov     eax, [edi+14h]
lea     esi, [edi+14h]
cmp     ecx, eax
jg      short loc_277e0e12
mov     ebx, ds:safearrayputelement
cmp     ecx, eax
mov     [ebp+arg_0], ecx
jge     short loc_277e0df4
mov     eax, [ebp+arg_0]
inc     eax
mov     [ebp+rgindices], eax
lea     eax, [ebp+pv]
push    eax
lea     eax, [ebp+rgindices]
push    eax
push    dword ptr [edi+10h]
call    ds:safearraygetelement
test    eax, eax
mov     [ebp+var_4], eax
jge     short loc_277e0dde
and     [ebp+pv], 0
push    [ebp+pv]
lea     eax, [ebp+arg_0]
push    eax
push    dword ptr [edi+10h]
call    ebx
inc     [ebp+arg_0]
mov     eax, [ebp+arg_0]
cmp     eax, [esi]
jl      short loc_277e0dbb
push    0
push    esi
push    dword ptr [edi+10h]
call    ebx
dec     dword ptr [esi]
lea     eax, [ebp+pvarsrc]
push    eax
call    ds:variantclear
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     [ebp+var_4], 8002000bh
jmp     short loc_277e0e08
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
and     dword ptr [ebx], 0
lea     ecx, [esi-1ch]
call    sub_277e0fb0
mov     edi, eax
test    edi, edi
jl      short loc_277e0e76
lea     eax, [ebp+var_4]
push    eax
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
call    sub_277e1057
mov     edi, eax
add     esp, 0ch
test    edi, edi
jl      short loc_277e0e76
mov     eax, [ebp+var_4]
push    ebx
push    offset dword_277b6118
push    eax
mov     ecx, [eax]
call    dword ptr [ecx]
mov     edi, eax
test    edi, edi
jl      short loc_277e0e76
mov     eax, [ebp+var_4]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
and     [ebp+var_4], 0
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277e0e83
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
push    esi
mov     esi, ecx
xor     ebx, ebx
push    edi
mov     [ebp+var_c], esi
mov     [ebp+var_8], ebx
call    sub_277e15d1
cmp     eax, ebx
jz      short loc_277e0eb6
push    eax
call    sub_277e166e
pop     ecx
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     ecx, [esi+1ch]
lea     eax, [esi+1ch]
push    eax
call    dword ptr [ecx+28h]
lea     eax, [ebp+var_30]
push    eax
push    0fh
call    sub_277ded86
pop     ecx
cmp     eax, ebx
pop     ecx
mov     [ebp+var_4], eax
jl      short loc_277e0eff
mov     eax, [ebp+arg_0]
lea     edx, [ebp+var_1c]
push    edx
lea     edx, [ebp+var_30]
mov     ecx, [eax]
push    edx
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jge     short loc_277e0f13
push    dword ptr [esi+24h]
push    1cdh
push    dword ptr [esi+28h]
call    sub_277de110
add     esp, 0ch
mov     [ebp+var_4], eax
cmp     [ebp+var_8], ebx
jz      short loc_277e0f0e
lea     eax, [ebp+var_1c]
push    eax
call    ds:releasestgmedium
mov     eax, [ebp+var_4]
jmp     short loc_277e0eaf
push    1
pop     eax
cmp     [ebp+var_1c.tymed], eax
jnz     short loc_277e0f20
cmp     dword ptr [ebp+var_1c.anonymous_0], ebx
jnz     short loc_277e0f27
mov     eax, 8000ffffh
jmp     short loc_277e0eaf
mov     [ebp+var_8], eax
call    sub_277e15d1
test    eax, eax
jnz     short loc_277e0eff
push    ebx
push    ebx
push    0ffffffffh
push    dword ptr [ebp+var_1c.anonymous_0]
call    dword_2782c2b0
cmp     eax, ebx
mov     [ebp+var_10], eax
mov     [ebp+arg_0], ebx
jbe     short loc_277e0eff
push    ebx
push    ebx
push    [ebp+arg_0]
push    dword ptr [ebp+var_1c.anonymous_0]
call    dword_2782c2b0
lea     edi, [eax+1]
push    edi
push    ebx
push    dword_278282f0
call    ds:heapalloc
mov     esi, eax
cmp     esi, ebx
jz      short loc_277e0eff
push    edi
mov     edi, [ebp+arg_0]
push    esi
push    edi
push    dword ptr [ebp+var_1c.anonymous_0]
call    dword_2782c2b0
mov     ecx, [ebp+var_c]
push    esi
call    sub_277e0ff0
push    esi
push    ebx
push    dword_278282f0
mov     [ebp+var_4], eax
call    ds:heapfree
cmp     [ebp+var_4], ebx
jl      loc_277e0eff
inc     edi
cmp     edi, [ebp+var_10]
mov     [ebp+arg_0], edi
jnb     loc_277e0eff
jmp     short loc_277e0f4a
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, ecx
cmp     dword ptr [esi+2ch], 0
jz      short loc_277e0fc3
xor     eax, eax
pop     esi
leave
retn
push    1
lea     ecx, [ebp+rgsabound]
pop     eax
mov     [ebp+rgsabound.celements], 0ah
push    ecx
push    eax
push    8
mov     [ebp+rgsabound.llbound], eax
call    ds:safearraycreate
mov     [esi+2ch], eax
neg     eax
sbb     eax, eax
and     eax, 7ff8fff2h
add     eax, 8007000eh
jmp     short loc_277e0fc0
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
push    0
push    [ebp+lpmultibytestr]
mov     esi, ecx
call    sub_277b7d29
mov     ebx, eax
pop     ecx
test    ebx, ebx
pop     ecx
jnz     short loc_277e1026
mov     esi, 8007000eh
test    ebx, ebx
jz      short loc_277e101d
push    ebx
call    ds:sysfreestring
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    4
lea     eax, [ebp+pvarg]
push    eax
call    ds:variantinit
sub     esp, 10h
lea     eax, [esi+1ch]
lea     esi, [ebp+pvarg]
mov     edi, esp
mov     word ptr [ebp+pvarg.anonymous_0], 0ah
mov     dword ptr [ebp+pvarg.anonymous_0+8], 80020004h
movsd
mov     ecx, [eax]
push    ebx
movsd
movsd
push    eax
movsd
call    dword ptr [ecx+24h]
mov     esi, eax
jmp     short loc_277e1012
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_8]
push    dword_278282f0
and     dword ptr [edi], 0
push    18h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277e1096
mov     ecx, eax
call    sub_277e10bb
mov     esi, eax
test    esi, esi
jnz     short loc_277e109a
mov     ebx, 8007000eh
test    esi, esi
jz      short loc_277e1090
mov     eax, [esi]
push    esi
call    dword ptr [eax+8]
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
retn
xor     esi, esi
jmp     short loc_277e107d
mov     eax, [esi]
push    esi
call    dword ptr [eax+4]
push    [esp+0ch+arg_4]
mov     ecx, esi
push    [esp+10h+psa]
call    sub_277e1117
mov     ebx, eax
test    ebx, ebx
jl      short loc_277e1086
mov     [edi], esi
xor     eax, eax
jmp     short loc_277e1092
mov     eax, ecx
xor     ecx, ecx
mov     dword ptr [eax], offset off_277cb778
mov     [eax+10h], ecx
mov     [eax+8], ecx
mov     [eax+4], ecx
mov     [eax+14h], ecx
retn
push    esi
mov     esi, ecx
call    sub_277e10fa
test    [esp+4+arg_0], 1
jz      short loc_277e10f4
test    esi, esi
jz      short loc_277e10f4
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, esi
pop     esi
retn    4
push    esi
mov     esi, ecx
mov     eax, [esi+14h]
mov     dword ptr [esi], offset off_277cb778
test    eax, eax
jz      short loc_277e1111
push    eax
call    ds:safearraydestroy
and     dword ptr [esi+14h], 0
pop     esi
retn
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, ecx
push    edi
and     dword ptr [esi+14h], 0
lea     edi, [esi+14h]
push    edi
push    [ebp+psa]
call    ds:safearraycopy
test    eax, eax
mov     [ebp+var_4], eax
jl      short loc_277e1165
lea     ebx, [esi+4]
push    ebx
push    1
push    [ebp+psa]
call    ds:safearraygetlbound
test    eax, eax
mov     [ebp+var_4], eax
jl      short loc_277e1165
lea     eax, [ebp+plubound]
push    eax
push    1
push    [ebp+psa]
call    ds:safearraygetubound
test    eax, eax
mov     [ebp+var_4], eax
jge     short loc_277e117f
mov     eax, [edi]
test    eax, eax
jz      short loc_277e1172
push    eax
call    ds:safearraydestroy
and     dword ptr [edi], 0
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ebx, [ebx]
mov     eax, [ebp+plubound]
sub     eax, ebx
inc     eax
cmp     [ebp+arg_4], eax
jge     short loc_277e118f
mov     eax, [ebp+arg_4]
mov     [esi+8], eax
mov     [esi+0ch], ebx
xor     eax, eax
jmp     short loc_277e1178
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_4]
push    edi
push    10h
pop     ecx
mov     edi, offset dword_277b6118
xor     eax, eax
repe cmpsb
jz      short loc_277e11d1
mov     esi, [ebp+arg_4]
push    10h
pop     ecx
mov     edi, offset dword_277cbf70
xor     eax, eax
repe cmpsb
jz      short loc_277e11d1
mov     eax, [ebp+arg_8]
and     dword ptr [eax], 0
mov     eax, 80004002h
pop     edi
pop     esi
pop     ebp
retn    0ch
mov     esi, [ebp+arg_0]
push    esi
mov     eax, [esi]
call    dword ptr [eax+4]
mov     eax, [ebp+arg_8]
mov     [eax], esi
xor     eax, eax
jmp     short loc_277e11cb
mov     eax, [esp+arg_0]
inc     dword ptr [eax+10h]
mov     eax, [eax+10h]
retn    4
mov     ecx, [esp+arg_0]
dec     dword ptr [ecx+10h]
mov     eax, [ecx+10h]
jnz     short locret_277e1209
test    ecx, ecx
jz      short loc_277e1207
mov     eax, [ecx]
push    1
call    dword ptr [eax+1ch]
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_c]
push    ebx
xor     ebx, ebx
push    esi
cmp     eax, ebx
push    edi
jz      short loc_277e121f
mov     [eax], ebx
mov     esi, [ebp+rgindices]
mov     ecx, [esi+8]
mov     eax, [esi+0ch]
add     ecx, [esi+4]
mov     [ebp+rgindices], eax
cmp     eax, ecx
jge     short loc_277e127a
mov     edi, [ebp+pvarg]
cmp     ebx, [ebp+arg_4]
jnb     short loc_277e127a
lea     eax, [ebp+pv]
and     [ebp+pv], 0
push    eax
lea     eax, [ebp+rgindices]
push    eax
push    dword ptr [esi+14h]
call    ds:safearraygetelement
test    eax, eax
mov     [ebp+var_8], eax
jl      short loc_277e1297
push    edi
call    ds:variantinit
mov     eax, [ebp+pv]
inc     [ebp+rgindices]
mov     word ptr [edi], 8
mov     [edi+8], eax
mov     eax, [esi+8]
inc     ebx
add     eax, [esi+4]
add     edi, 10h
cmp     [ebp+rgindices], eax
jl      short loc_277e1235
mov     eax, [ebp+arg_c]
test    eax, eax
jz      short loc_277e1283
mov     [eax], ebx
mov     eax, [ebp+rgindices]
cmp     ebx, [ebp+arg_4]
mov     [esi+0ch], eax
sbb     eax, eax
neg     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edi, [ebp+arg_4]
test    edi, edi
jbe     short loc_277e12ae
mov     esi, [ebp+pvarg]
push    esi
call    ds:variantclear
add     esi, 10h
dec     edi
jnz     short loc_277e12a1
mov     eax, [ebp+var_8]
jmp     short loc_277e1290
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
push    esi
add     [eax+0ch], ecx
mov     ecx, [eax+4]
mov     esi, [eax+8]
mov     edx, [eax+0ch]
add     ecx, esi
cmp     edx, ecx
jle     short loc_277e12d8
push    1
mov     [eax+0ch], ecx
pop     eax
pop     esi
retn    8
xor     eax, eax
jmp     short loc_277e12d4
mov     eax, [esp+arg_0]
mov     ecx, [eax+4]
mov     [eax+0ch], ecx
xor     eax, eax
retn    4
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
push    dword_278282f0
and     dword ptr [ebx], 0
push    18h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277e1332
mov     ecx, eax
call    sub_277e10bb
mov     esi, eax
test    esi, esi
jnz     short loc_277e1336
mov     [ebp+arg_4], 8007000eh
test    esi, esi
jz      short loc_277e1328
mov     eax, [esi]
push    esi
call    dword ptr [eax+8]
mov     eax, [ebp+arg_4]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
xor     esi, esi
jmp     short loc_277e1313
mov     eax, [esi]
push    esi
call    dword ptr [eax+4]
mov     edi, [ebp+arg_0]
mov     ecx, esi
push    dword ptr [edi+8]
push    dword ptr [edi+14h]
call    sub_277e1117
test    eax, eax
mov     [ebp+arg_4], eax
jl      short loc_277e131e
mov     eax, [edi+0ch]
mov     [ebx], esi
mov     [esi+0ch], eax
xor     eax, eax
jmp     short loc_277e132b
sub     dword ptr [esp+4], 1ch
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d98ec
retn    8
sub     dword ptr [esp+4], 1ch
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277b535a
retn    10h
sub     dword ptr [esp+4], 1ch
push    ebp
mov     ebp, esp
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b91bc
pop     ebp
retn    18h
sub     [esp-4+arg_0], 1ch
push    ebp
mov     ebp, esp
push    [ebp+arg_20]
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b52e2
pop     ebp
retn    24h
sub     [esp+arg_0], 4
jmp     sub_277b516f
sub     [esp+arg_0], 4
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+4]
retn    4
sub     [esp+arg_0], 4
mov     eax, [esp+arg_0]
lea     ecx, [eax-1ch]
mov     eax, [eax-1ch]
call    dword ptr [eax+8]
retn    4
sub     [esp+arg_0], 20h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d9906
retn    8
sub     [esp+arg_0], 1ch
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d98ec
retn    8
sub     [esp+arg_0], 1ch
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277b535a
retn    10h
sub     [esp+arg_0], 1ch
push    ebp
mov     ebp, esp
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b91bc
pop     ebp
retn    18h
sub     [esp+arg_0], 1ch
push    ebp
mov     ebp, esp
push    [ebp+arg_20]
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b52e2
pop     ebp
retn    24h
sub     [esp+arg_0], 4
jmp     sub_277b516f
sub     [esp+arg_0], 4
jmp     sub_277b67f3
sub     [esp+arg_0], 4
jmp     sub_277b6a67
sub     [esp+arg_0], 20h
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277d9906
retn    8
push    dword_278282f0
push    40h
call    sub_277b39d6
pop     ecx
test    eax, eax
pop     ecx
jz      short loc_277e1515
push    offset loc_277e1519
mov     ecx, eax
push    [esp+4+arg_4]
push    14h
push    [esp+0ch+arg_0]
push    offset dword_277cbf80
call    sub_277da7fe
lea     ecx, [eax+14h]
neg     eax
sbb     eax, eax
and     eax, ecx
retn
xor     eax, eax
jmp     short loc_277e150b
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277e152b
pop     ecx
pop     ecx
retn    0ch
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     edi, [esp+8+arg_0]
mov     ax, [esi]
push    dword ptr [esi+4]
mov     [edi], ax
call    sub_277e155c
mov     [edi+4], eax
mov     eax, [esi+8]
mov     [edi+8], eax
mov     eax, [esi+0ch]
mov     [edi+0ch], eax
mov     eax, [esi+10h]
pop     ecx
mov     [edi+10h], eax
pop     edi
pop     esi
retn
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
jnz     short loc_277e1569
xor     eax, eax
pop     esi
retn
push    dword ptr [esi]
call    ds:cotaskmemalloc
test    eax, eax
jz      short loc_277e1589
mov     ecx, [esi]
push    edi
mov     edx, ecx
mov     edi, eax
shr     ecx, 2
rep movsd
mov     ecx, edx
and     ecx, 3
rep movsb
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
push    ebx
xor     ebx, ebx
cmp     [ebp+lpwidecharstr], ebx
push    esi
push    edi
jnz     short loc_277e159f
mov     [ebp+lpwidecharstr], offset word_2782b6b2
mov     esi, [ebp+arg_8]
mov     edi, [ebp+lpmultibytestr]
cmp     esi, 1
jnz     short loc_277e15bb
xor     eax, eax
cmp     eax, ebx
jnz     short loc_277e15b4
mov     [esi+edi-1], bl
mov     eax, edi
pop     edi
pop     esi
pop     ebx
pop     ebp
retn
push    ebx
lea     eax, [esi-1]
push    ebx
push    eax
push    edi
push    0ffffffffh
push    [ebp+lpwidecharstr]
push    ebx
push    ebx
call    ds:widechartomultibyte
jmp     short loc_277e15ac
push    offset off_2782bfe8
push    3
push    1
push    30h
push    offset dword_2782c2c8
push    offset ashell32dll
call    sub_277e15ef
add     esp, 18h
retn
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, offset criticalsection
push    edi
call    ds:entercriticalsection
mov     eax, [ebp+arg_4]
xor     esi, esi
cmp     [eax], esi
jnz     short loc_277e1649
push    [ebp+lplibfilename]
call    ds:loadlibrarya
mov     ebx, eax
cmp     ebx, esi
jz      short loc_277e1657
cmp     [ebp+arg_10], esi
mov     [ebp+lplibfilename], esi
jbe     short loc_277e1644
mov     esi, [ebp+arg_14]
push    dword ptr [esi]
push    ebx
call    ds:getprocaddress
mov     ecx, [esi+4]
test    eax, eax
mov     [ecx], eax
jz      short loc_277e1657
inc     [ebp+lplibfilename]
add     esi, 8
mov     eax, [ebp+lplibfilename]
cmp     eax, [ebp+arg_10]
jb      short loc_277e1624
mov     eax, [ebp+arg_4]
mov     [eax], ebx
push    edi
call    ds:leavecriticalsection
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn
test    ebx, ebx
jz      short loc_277e1662
push    ebx
call    ds:freelibrary
push    edi
call    ds:leavecriticalsection
mov     eax, [ebp+arg_8]
jmp     short loc_277e1652
mov     eax, [esp+arg_0]
test    eax, eax
jz      short loc_277e1687
cmp     eax, 7
jz      short loc_277e1681
or      eax, 800a0000h
retn
mov     eax, 8007000eh
retn
mov     eax, 80004005h
retn
cmp     dword_2782c2c4, 0
jnz     short locret_277e16f8
push    edi
push    esi
push    0
call    ds:getdc
mov     esi, ds:getdevicecaps
mov     edi, eax
push    0eh
push    edi
call    esi
push    68h
push    edi
mov     nplanes, eax
call    esi
push    0ch
push    edi
mov     dword_2782c2a0, eax
call    esi
mov     nbitcount, eax
xor     eax, eax
cmp     dword_2782c2a0, eax
push    0fh
mov     dword_2782c2c4, 1
setnz   al
mov     dword_2782c2b4, eax
call    ds:getstockobject
push    edi
push    0
mov     dword_2782c2b8, eax
call    ds:releasedc
pop     esi
pop     edi
retn
push    ebp
mov     ebp, esp
sub     esp, 5ch
push    ebx
push    esi
mov     esi, offset criticalsection
push    edi
xor     ebx, ebx
push    esi
mov     [ebp+centries], ebx
call    ds:entercriticalsection
cmp     dword_2782c2c4, ebx
jnz     short loc_277e1720
call    sub_277e168d
push    esi
call    ds:leavecriticalsection
cmp     [ebp+h], ebx
jz      loc_277e1821
mov     esi, ds:getobjecta
lea     eax, [ebp+pv]
push    eax
push    18h
push    [ebp+h]
call    esi
cmp     dword_2782c2b4, ebx
jz      short loc_277e1786
cmp     [ebp+arg_4], ebx
jnz     short loc_277e1756
mov     eax, dword_2782c2b8
mov     [ebp+arg_4], eax
mov     edi, 100h
cmp     dword_2782c2a0, edi
jnz     short loc_277e1786
movzx   eax, word ptr [ebp+var_24]
movzx   ecx, word ptr [ebp+var_24+2]
imul    eax, ecx
cmp     eax, 8
jnz     short loc_277e1786
lea     eax, [ebp+centries]
push    eax
push    4
push    [ebp+arg_4]
call    esi
cmp     [ebp+centries], edi
jbe     short loc_277e1786
mov     [ebp+centries], ebx
mov     edx, [ebp+var_24]
mov     eax, [ebp+var_30]
imul    edx, [ebp+var_24+2]
mov     [ebp+var_4e], dx
mov     ecx, [ebp+var_2c]
movzx   edx, dx
imul    edx, eax
add     edx, 1fh
mov     [ebp+var_58], eax
shr     edx, 5
imul    edx, ecx
lea     eax, [ebp+var_5c]
mov     [ebp+var_5c], 28h
shl     edx, 2
push    eax
mov     [ebp+clines], ecx
mov     [ebp+var_50], 1
mov     [ebp+var_4c], ebx
mov     [ebp+var_48], edx
mov     [ebp+var_44], ebx
mov     [ebp+var_40], ebx
mov     [ebp+var_3c], ebx
mov     [ebp+var_38], ebx
call    sub_277e1b1a
pop     ecx
mov     esi, ds:globalalloc
mov     ecx, [ebp+var_48]
mov     [ebp+var_18], eax
lea     eax, [eax+ecx+28h]
push    eax
push    42h
call    esi
cmp     eax, ebx
mov     [ebp+hmem], eax
jz      short loc_277e1821
mov     edi, ds:globallock
push    eax
call    edi
cmp     [ebp+centries], ebx
mov     [ebp+var_10], eax
jz      short loc_277e182b
mov     eax, [ebp+var_5c]
add     eax, 400h
push    eax
push    ebx
call    esi
cmp     eax, ebx
mov     [ebp+var_14], eax
jnz     short loc_277e1828
push    [ebp+hmem]
call    ds:globalfree
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
push    eax
call    edi
push    0ah
lea     esi, [ebp+var_5c]
pop     ecx
mov     edi, eax
rep movsd
push    ebx
mov     [ebp+lpbmi], eax
call    ds:getdc
cmp     dword_2782c2b4, ebx
mov     edi, eax
jz      short loc_277e185f
push    1
push    [ebp+arg_4]
push    edi
call    ds:selectpalette
push    edi
mov     [ebp+arg_4], eax
call    ds:realizepalette
mov     eax, [ebp+var_18]
mov     ecx, [ebp+var_10]
lea     eax, [eax+ecx+28h]
xor     ecx, ecx
cmp     [ebp+centries], ebx
mov     [ebp+var_18], eax
setnz   cl
push    ecx
push    [ebp+lpbmi]
push    eax
push    [ebp+clines]
push    ebx
push    [ebp+h]
push    edi
call    ds:getdibits
mov     esi, eax
neg     esi
sbb     esi, esi
neg     esi
cmp     dword_2782c2b4, ebx
mov     [ebp+var_1c], esi
jz      short loc_277e18a9
push    1
push    [ebp+arg_4]
push    edi
call    ds:selectpalette
mov     [ebp+arg_4], eax
push    edi
push    ebx
call    ds:releasedc
cmp     [ebp+centries], ebx
jz      loc_277e1943
cmp     esi, ebx
jz      short loc_277e1931
mov     esi, [ebp+lpbmi]
mov     edi, [ebp+var_10]
push    0ah
pop     ecx
rep movsd
mov     esi, [ebp+var_10]
mov     eax, [ebp+centries]
push    esi
mov     [esi+20h], eax
mov     eax, [ebp+var_18]
mov     [ebp+h], eax
call    sub_277e1b1a
xor     edi, edi
cmp     [ebp+var_48], ebx
pop     ecx
lea     eax, [eax+esi+28h]
jbe     short loc_277e1903
mov     ecx, [ebp+h]
mov     edx, [ebp+lpbmi]
inc     [ebp+h]
movzx   ecx, byte ptr [ecx]
mov     cl, [edx+ecx*2+28h]
mov     [edi+eax], cl
inc     edi
cmp     edi, [ebp+var_48]
jb      short loc_277e18ea
add     esi, 28h
push    esi
push    [ebp+centries]
push    ebx
push    [ebp+arg_4]
call    ds:getpaletteentries
xor     edi, edi
cmp     [ebp+centries], ebx
jbe     short loc_277e192e
mov     al, [esi]
mov     cl, [esi+2]
mov     [esi], cl
mov     [esi+2], al
inc     edi
add     esi, 4
cmp     edi, [ebp+centries]
jb      short loc_277e191b
mov     esi, [ebp+var_1c]
push    [ebp+var_14]
call    ds:globalunlock
push    [ebp+var_14]
call    ds:globalfree
push    [ebp+hmem]
call    ds:globalunlock
cmp     esi, ebx
jnz     short loc_277e1958
push    [ebp+hmem]
jmp     loc_277e181b
mov     eax, [ebp+hmem]
jmp     loc_277e1823
push    ecx
push    ebx
push    ebp
push    esi
xor     ebx, ebx
push    edi
push    ebx
xor     ebp, ebp
mov     [esp+18h+hpal], ebx
call    ds:getdc
mov     esi, offset criticalsection
mov     edi, eax
push    esi
call    ds:entercriticalsection
cmp     dword_2782c2c4, ebx
jnz     short loc_277e198f
call    sub_277e168d
push    esi
call    ds:leavecriticalsection
cmp     dword_2782c2b4, ebx
mov     esi, [esp+14h+pbmih]
jz      short loc_277e19c3
push    esi
call    sub_277e1b35
mov     ebp, eax
pop     ecx
cmp     ebp, ebx
jz      short loc_277e19c3
push    ebx
push    ebp
push    edi
call    ds:selectpalette
push    edi
mov     [esp+18h+hpal], eax
call    ds:realizepalette
push    esi
call    sub_277e1b1a
add     eax, [esi]
pop     ecx
push    ebx
push    esi
add     eax, esi
push    eax
push    4
push    esi
push    edi
call    ds:createdibitmap
cmp     dword_2782c2b4, ebx
mov     esi, eax
jz      short loc_277e1a0d
cmp     [esp+14h+hpal], ebx
jz      short loc_277e19fe
push    ebx
push    [esp+18h+hpal]
push    edi
call    ds:selectpalette
push    edi
call    ds:realizepalette
cmp     esi, ebx
jnz     short loc_277e1a0d
cmp     ebp, ebx
jz      short loc_277e1a0d
push    ebp
call    ds:deleteobject
mov     eax, [esp+14h+arg_4]
push    edi
push    ebx
mov     [eax], ebp
call    ds:releasedc
mov     eax, esi
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
mov     eax, [eax]
test    eax, eax
jz      short loc_277e1a7d
mov     esi, [ebp+arg_0]
push    eax
push    dword ptr [esi]
call    sub_277e16f9
mov     edi, eax
pop     ecx
test    edi, edi
pop     ecx
jz      short loc_277e1a90
lea     eax, [ebp+arg_0]
push    eax
push    edi
call    ds:globallock
push    eax
call    sub_277e1960
pop     ecx
mov     ebx, eax
pop     ecx
push    edi
call    ds:globalunlock
push    edi
call    ds:globalfree
test    ebx, ebx
jz      short loc_277e1a90
mov     ecx, [ebp+arg_4]
mov     eax, [ebp+arg_0]
mov     [esi], ebx
mov     [ecx], eax
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn
mov     esi, [ebp+arg_0]
push    dword ptr [esi]
call    sub_277e1a95
test    eax, eax
pop     ecx
jz      short loc_277e1a90
mov     [esi], eax
jmp     short loc_277e1a76
push    7
pop     eax
jmp     short loc_277e1a78
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
lea     eax, [ebp+pv]
push    edi
push    eax
push    18h
push    [ebp+h]
call    ds:getobjecta
test    eax, eax
jz      short loc_277e1acc
movzx   esi, [ebp+var_8]
imul    esi, [ebp+nheight]
imul    esi, [ebp+var_c]
push    esi
push    42h
call    ds:globalalloc
mov     ebx, eax
test    ebx, ebx
jnz     short loc_277e1ad3
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
push    ebx
call    ds:globallock
mov     edi, eax
push    edi
push    esi
push    [ebp+h]
call    ds:getbitmapbits
test    eax, eax
jnz     short loc_277e1aff
xor     esi, esi
push    ebx
call    ds:globalunlock
push    ebx
call    ds:globalfree
mov     eax, esi
jmp     short loc_277e1ace
movzx   eax, [ebp+var_6]
push    edi
push    eax
movzx   eax, [ebp+var_8]
push    eax
push    [ebp+nheight]
push    [ebp+nwidth]
call    ds:createbitmap
mov     esi, eax
jmp     short loc_277e1aed
push    esi
mov     esi, [esp+4+arg_0]
push    esi
call    sub_277e1d15
cmp     dword ptr [esi], 0ch
pop     ecx
jnz     short loc_277e1b30
lea     eax, [eax+eax*2]
pop     esi
retn
shl     eax, 2
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
mov     esi, offset criticalsection
push    edi
push    esi
call    ds:entercriticalsection
xor     edi, edi
cmp     dword_2782c2c4, edi
jnz     short loc_277e1b59
call    sub_277e168d
push    esi
call    ds:leavecriticalsection
mov     ebx, [ebp+arg_0]
cmp     ebx, edi
jz      short loc_277e1ba4
push    ebx
call    sub_277e1d15
cmp     eax, edi
pop     ecx
mov     [ebp+arg_0], eax
jz      loc_277e1d0b
push    10h
pop     ecx
cmp     ecx, eax
sbb     eax, eax
inc     eax
mov     [ebp+var_8], eax
mov     eax, dword_2782c2a0
lea     eax, ds:8[eax*4]
push    eax
push    edi
push    dword_278282f0
call    ds:heapalloc
mov     esi, eax
cmp     esi, edi
jnz     short loc_277e1bab
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn
mov     eax, [ebx]
mov     ecx, [ebp+arg_0]
and     [ebp+var_4], 0
mov     [ebp+var_14], eax
add     eax, ebx
mov     [esi+2], di
test    ecx, ecx
mov     word ptr [esi], 300h
lea     edi, [esi+4]
jbe     loc_277e1c73
mov     [ebp+var_c], ecx
mov     bl, [eax+2]
mov     cl, [eax]
mov     dl, [eax+1]
mov     byte ptr [ebp+arg_0], bl
xor     ebx, ebx
mov     bh, cl
movzx   ecx, byte ptr [ebp+arg_0]
mov     bl, dl
mov     [ebp+arg_0], 1
shl     ebx, 8
or      ebx, ecx
xor     edx, edx
mov     [ebp+var_10], ebx
mov     ecx, offset dword_277cb7d8
cmp     ecx, offset byte_277cb818
jnb     short loc_277e1c29
mov     ebx, [ebp+var_10]
xor     edx, edx
cmp     ebx, [ecx]
setz    dl
test    edx, edx
jz      short loc_277e1c1f
mov     ebx, [ebp+var_4]
test    [ebp+arg_0], ebx
jnz     short loc_277e1c5d
or      ebx, [ebp+arg_0]
mov     [ebp+var_4], ebx
shl     [ebp+arg_0], 1
add     ecx, 4
test    edx, edx
jz      short loc_277e1bfb
cmp     [ebp+var_8], 0
jz      loc_277e1cfa
test    edx, edx
jz      loc_277e1cfa
mov     [ebp+var_8], 1
mov     cl, [eax+2]
and     byte ptr [edi+3], 0
mov     [edi], cl
mov     cl, [eax+1]
mov     [edi+1], cl
mov     cl, [eax]
mov     [edi+2], cl
add     edi, 4
inc     word ptr [esi+2]
cmp     [ebp+var_14], 0ch
jnz     loc_277e1d03
add     eax, 3
dec     [ebp+var_c]
jnz     loc_277e1bd0
xor     edi, edi
cmp     [ebp+var_8], edi
jnz     short loc_277e1ce4
cmp     [ebp+var_4], 0ffffh
mov     [ebp+arg_0], edi
jz      short loc_277e1cdb
mov     edx, offset dword_277cb7d8
mov     di, [esi+2]
movzx   eax, di
cmp     eax, dword_2782c2a0
jge     short loc_277e1cdb
mov     ecx, [ebp+arg_0]
push    1
pop     ebx
shl     ebx, cl
test    [ebp+var_4], ebx
jnz     short loc_277e1ccc
or      [ebp+var_4], ebx
mov     cl, [edx]
inc     edi
mov     [esi+2], di
mov     [esi+eax*4+4], cl
xor     ecx, ecx
lea     eax, [esi+eax*4]
mov     cl, [edx+1]
mov     [eax+5], cl
mov     ecx, [edx]
sar     ecx, 10h
mov     [eax+6], cl
and     byte ptr [eax+7], 0
inc     [ebp+arg_0]
add     edx, 4
cmp     [ebp+var_4], 0ffffh
jnz     short loc_277e1c8b
push    esi
call    ds:createpalette
mov     edi, eax
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, edi
jmp     loc_277e1ba6
and     [ebp+var_8], 0
jmp     loc_277e1c42
add     eax, 4
jmp     loc_277e1c6a
call    sub_277e1d4d
jmp     loc_277e1ba6
mov     ecx, [esp+arg_0]
cmp     dword ptr [ecx], 0ch
jz      short loc_277e1d39
mov     eax, [ecx+20h]
test    eax, eax
jnz     short locret_277e1d4c
movzx   eax, word ptr [ecx+0eh]
dec     eax
jz      short loc_277e1d49
sub     eax, 3
jz      short loc_277e1d45
sub     eax, 4
jz      short loc_277e1d3f
xor     eax, eax
retn
movzx   eax, word ptr [ecx+0ah]
jmp     short loc_277e1d29
mov     eax, 100h
retn
push    10h
pop     eax
retn
push    2
pop     eax
retn
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
mov     esi, offset criticalsection
push    edi
push    esi
call    ds:entercriticalsection
mov     eax, dword_2782c2a8
xor     edi, edi
cmp     eax, edi
jz      short loc_277e1d7d
push    esi
mov     edi, eax
call    ds:leavecriticalsection
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn
push    esi
call    ds:leavecriticalsection
push    408h
push    edi
push    dword_278282f0
call    ds:heapalloc
mov     esi, eax
cmp     esi, edi
jnz     short loc_277e1da0
xor     eax, eax
jmp     short loc_277e1d78
push    edi
mov     word ptr [esi+2], 100h
mov     word ptr [esi], 300h
mov     [ebp+var_4], edi
call    ds:getdc
mov     [ebp+hdc], eax
lea     eax, [esi+7]
mov     [ebp+var_c], eax
lea     eax, [esi+6]
mov     [ebp+nindex], edi
mov     [ebp+var_8], eax
lea     ebx, [esi+5]
lea     edi, [esi+4]
push    [ebp+nindex]
call    ds:getsyscolor
mov     edx, [ebp+var_8]
xor     ecx, ecx
mov     cl, ah
mov     [edi], al
mov     [ebx], cl
mov     ecx, eax
shr     ecx, 10h
mov     [edx], cl
mov     ecx, [ebp+var_c]
push    4
and     byte ptr [ecx], 0
inc     [ebp+var_4]
pop     ecx
add     [ebp+var_8], ecx
add     [ebp+var_c], ecx
push    eax
add     edi, ecx
push    [ebp+hdc]
add     ebx, ecx
call    ds:getnearestcolor
xor     ecx, ecx
mov     [edi], al
mov     cl, ah
push    4
mov     [ebx], cl
mov     ecx, [ebp+var_8]
shr     eax, 10h
mov     [ecx], al
mov     eax, [ebp+var_c]
and     byte ptr [eax], 0
inc     [ebp+var_4]
pop     eax
add     [ebp+var_8], eax
add     [ebp+var_c], eax
add     edi, eax
add     ebx, eax
inc     [ebp+nindex]
cmp     [ebp+nindex], 14h
jb      short loc_277e1dcd
push    [ebp+hdc]
push    0
call    ds:releasedc
mov     eax, [ebp+var_4]
and     [ebp+nindex], 0
add     [ebp+var_4], 0d8h
lea     eax, [esi+eax*4+5]
mov     [ebp+var_c], eax
mov     eax, [ebp+var_c]
xor     edi, edi
add     [ebp+var_c], 90h
mov     [ebp+var_8], eax
mov     eax, [ebp+var_8]
mov     dl, ds:byte_277cb818[edi]
xor     ecx, ecx
add     [ebp+var_8], 18h
mov     ebx, [ebp+nindex]
mov     bl, ds:byte_277cb818[ebx]
mov     [eax-1], bl
mov     bl, ds:byte_277cb818[ecx]
mov     [eax], dl
mov     [eax+1], bl
and     byte ptr [eax+2], 0
add     eax, 4
inc     ecx
cmp     ecx, 6
jb      short loc_277e1e75
inc     edi
cmp     edi, 6
jb      short loc_277e1e66
inc     [ebp+nindex]
cmp     [ebp+nindex], 6
jb      short loc_277e1e57
mov     edx, [ebp+var_4]
mov     ecx, 100h
cmp     edx, ecx
jnb     short loc_277e1ecf
lea     eax, [esi+edx*4+5]
sub     ecx, edx
or      byte ptr [eax-1], 0ffh
and     byte ptr [eax], 0
and     byte ptr [eax+1], 0
and     byte ptr [eax+2], 0
add     eax, 4
dec     ecx
jnz     short loc_277e1eba
mov     edi, offset criticalsection
push    edi
call    ds:entercriticalsection
push    esi
call    ds:createpalette
push    edi
mov     dword_2782c2a8, eax
mov     ebx, eax
call    ds:leavecriticalsection
push    esi
push    0
push    dword_278282f0
call    ds:heapfree
mov     eax, ebx
jmp     loc_277e1d78
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, ds:sysstringlen
push    edi
push    [ebp+pbstr]
call    esi
push    [ebp+arg_4]
mov     edi, eax
call    esi
cmp     edi, eax
jz      short loc_277e1f2c
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    edi, edi
jnz     short loc_277e1f35
push    1
pop     eax
jmp     short loc_277e1f25
mov     ecx, [ebp+pbstr]
xor     esi, esi
test    edi, edi
mov     [ebp+var_4], 1
jbe     short loc_277e1f5d
mov     edx, [ebp+arg_4]
sub     edx, ecx
mov     ax, [ecx]
mov     bx, [ecx+edx]
inc     ecx
inc     ecx
cmp     ax, bx
jnz     short loc_277e1f62
inc     esi
cmp     esi, edi
jb      short loc_277e1f4a
mov     eax, [ebp+var_4]
jmp     short loc_277e1f25
and     [ebp+var_4], 0
jmp     short loc_277e1f5d
mov     eax, dword_2782c2cc
test    eax, eax
jz      short locret_277e1f83
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    eax
retn    10h
mov     eax, dword_2782c2d0
test    eax, eax
jz      short locret_277e1f99
push    [esp+arg_4]
push    [esp+4+arg_0]
call    eax
retn    8
mov     eax, dword_2782c2d4
test    eax, eax
jz      short locret_277e1faf
push    [esp+arg_4]
push    [esp+4+arg_0]
call    eax
retn    8
mov     eax, dword_2782c2d8
test    eax, eax
jz      short locret_277e1fc1
push    [esp+arg_0]
call    eax
retn    4
mov     eax, dword_2782c2dc
test    eax, eax
jz      short locret_277e1fdf
push    [esp+arg_c]
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    eax
retn    10h
push    ebp
mov     ebp, esp
mov     eax, dword_2782c2e4
test    eax, eax
jz      short loc_277e2002
push    [ebp+arg_14]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    eax
pop     ebp
retn    18h
mov     eax, dword_2782c2ec
test    eax, eax
jz      short locret_277e2019
push    [esp+arg_4]
push    [esp+4+arg_0]
call    eax
retn    8
push    ebp
mov     ebp, esp
push    esi
call    sub_277b33bf
test    eax, eax
jz      short loc_277e203d
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    dword_2782a0ec
pop     esi
pop     ebp
retn    0ch
test    byte ptr [ebp+arg_8], 3
jnz     short loc_277e206b
cmp     [ebp+arg_0], 0
jl      short loc_277e2067
mov     esi, ds:getsystemmetrics
push    0
call    esi
cmp     [ebp+arg_0], eax
jge     short loc_277e2067
cmp     [ebp+arg_4], 0
jl      short loc_277e2067
push    1
call    esi
cmp     [ebp+arg_4], eax
jl      short loc_277e206b
xor     eax, eax
jmp     short loc_277e2038
mov     eax, 12340042h
jmp     short loc_277e2038
push    esi
push    edi
call    sub_277b33bf
test    eax, eax
jz      short loc_277e2090
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    dword_2782a0e8
pop     edi
pop     esi
retn    8
test    byte ptr [esp+8+arg_4], 3
jnz     short loc_277e20c1
mov     esi, [esp+8+arg_0]
xor     eax, eax
cmp     [esi+8], eax
jle     short loc_277e20bd
cmp     [esi+0ch], eax
jle     short loc_277e20bd
mov     edi, ds:getsystemmetrics
push    eax
call    edi
cmp     [esi], eax
jge     short loc_277e20bd
push    1
call    edi
cmp     [esi+4], eax
jl      short loc_277e20c1
xor     eax, eax
jmp     short loc_277e208b
mov     eax, 12340042h
jmp     short loc_277e208b
push    ebp
mov     ebp, esp
sub     esp, 2ch
call    sub_277b33bf
test    eax, eax
jz      short loc_277e20e7
push    [ebp+arg_4]
push    [ebp+hwnd]
call    dword_2782a0e4
leave
retn    8
test    byte ptr [ebp+arg_4], 3
jz      short loc_277e20f4
mov     eax, 12340042h
jmp     short locret_277e20e3
push    [ebp+hwnd]
call    ds:isiconic
test    eax, eax
jz      short loc_277e2120
lea     eax, [ebp+wndpl]
push    eax
push    [ebp+hwnd]
call    ds:getwindowplacement
test    eax, eax
jz      short loc_277e212f
push    [ebp+arg_4]
lea     eax, [ebp+wndpl.rcnormalposition]
push    eax
call    sub_277e2072
jmp     short locret_277e20e3
lea     eax, [ebp+wndpl.rcnormalposition]
push    eax
push    [ebp+hwnd]
call    ds:getwindowrect
jmp     short loc_277e210e
xor     eax, eax
jmp     short locret_277e20e3
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
call    sub_277b33bf
test    eax, eax
jz      short loc_277e2158
push    [ebp+arg_4]
push    [ebp+arg_0]
call    dword_2782a0f0
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     [ebp+arg_0], 12340042h
jnz     short loc_277e21c2
mov     ebx, [ebp+arg_4]
xor     esi, esi
cmp     ebx, esi
jz      short loc_277e21c2
cmp     dword ptr [ebx], 28h
jb      short loc_277e21c2
lea     eax, [ebp+pvparam]
push    esi
push    eax
push    esi
push    30h
call    ds:systemparametersinfoa
test    eax, eax
jz      short loc_277e21c2
mov     [ebx+4], esi
mov     [ebx+8], esi
push    esi
mov     esi, ds:getsystemmetrics
call    esi
push    1
mov     [ebx+0ch], eax
call    esi
lea     edi, [ebx+14h]
lea     esi, [ebp+pvparam]
movsd
movsd
movsd
cmp     dword ptr [ebx], 48h
push    1
movsd
pop     esi
mov     [ebx+10h], eax
mov     [ebx+24h], esi
jb      short loc_277e21be
add     ebx, 28h
push    offset adisplay_2
push    ebx
call    ds:lstrcpya
mov     eax, esi
jmp     short loc_277e2151
xor     eax, eax
jmp     short loc_277e2151
push    ebp
mov     ebp, esp
sub     esp, 30h
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_277e2236
test    byte ptr [esi+8], 0ch
jz      short loc_277e2236
lea     ecx, [ebp+rect]
push    edi
mov     edi, ds:getwindowrect
push    ecx
push    eax
call    edi
lea     eax, [ebp+rcsrc1]
push    eax
push    dword ptr [esi]
call    edi
lea     eax, [ebp+rect]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:unionrect
lea     eax, [ebp+rcdst]
push    2
push    eax
push    dword ptr [esi+4]
push    0
call    ds:mapwindowpoints
mov     eax, [ebp+rcdst.bottom]
push    0
sub     eax, [ebp+rcdst.top]
push    eax
mov     eax, [ebp+rcdst.right]
sub     eax, [ebp+rcdst.left]
push    eax
push    [ebp+rcdst.top]
push    [ebp+rcdst.left]
push    dword ptr [esi+18h]
call    ds:movewindow
pop     edi
pop     esi
leave
retn    4
push    esi
mov     esi, [esp+4+lplcdata]
push    2
push    esi
push    0fh
push    400h
call    ds:getlocaleinfoa
test    eax, eax
jnz     short loc_277e225a
and     [esi+1], al
mov     byte ptr [esi], 2ch
pop     esi
retn    4
push    ebp
mov     ebp, esp
mov     ecx, [ebp+arg_4]
push    ebx
mov     eax, ecx
push    esi
push    edi
mov     edi, [ebp+arg_8]
sub     eax, 7
jz      loc_277e2317
dec     eax
jz      loc_277e243e
sub     eax, 7ah
jz      loc_277e2412
sub     eax, 5
jz      loc_277e23f8
sub     eax, 79h
jz      loc_277e23ae
dec     eax
jz      loc_277e2388
cmp     ecx, dword_2782a054
jnz     short loc_277e2317
call    ds:getcapture
mov     esi, [ebp+hmem]
cmp     eax, [esi]
jz      short loc_277e2317
mov     ecx, dword_27829f44
test    ecx, ecx
jnz     short loc_277e232a
cmp     dword_2782a854, ecx
jnz     short loc_277e232a
mov     eax, edi
sub     dword_2782c3b8, eax
mov     eax, dword_2782c3b8
push    78h
cdq
pop     edi
idiv    edi
mov     edi, eax
test    edi, edi
jz      loc_277e237e
mov     eax, dword_2782c3b8
push    78h
cdq
pop     ebx
idiv    ebx
test    ecx, ecx
mov     dword_2782c3b8, edx
jnz     short loc_277e2332
cmp     dword_2782a854, ecx
jnz     short loc_277e2332
mov     ebx, ds:getkeystate
push    10h
call    ebx
test    ax, ax
jl      short loc_277e2317
push    11h
call    ebx
test    ax, ax
jge     short loc_277e2338
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+hwnd]
call    sub_27812262
jmp     short loc_277e2381
shr     edi, 10h
movsx   eax, di
jmp     short loc_277e22c7
test    byte ptr [ebp+arg_8], 0ch
jnz     short loc_277e2317
push    esi
call    sub_277c3a67
xor     eax, eax
test    edi, edi
setnle  al
mov     [esi+34h], eax
mov     eax, edi
cdq
xor     eax, edx
sub     eax, edx
mov     ecx, eax
dec     eax
test    ecx, ecx
jle     short loc_277e2374
lea     edi, [eax+1]
mov     eax, [esi+34h]
xor     ecx, ecx
test    eax, eax
setz    cl
push    eax
push    ecx
push    esi
call    sub_277c3ae0
push    esi
call    sub_277c3b78
dec     edi
jnz     short loc_277e2359
push    0
push    0
push    esi
call    sub_277c3ae0
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    18h
mov     eax, edi
sub     eax, 26h
jz      short loc_277e2393
dec     eax
dec     eax
jnz     short loc_277e2317
call    ds:getcapture
mov     ecx, [ebp+hmem]
cmp     eax, [ecx]
jz      short loc_277e23aa
push    0
push    0
push    ecx
call    sub_277c3ae0
xor     eax, eax
jmp     short loc_277e2381
mov     eax, edi
sub     eax, 26h
jz      short loc_277e23bd
dec     eax
dec     eax
jnz     loc_277e2317
call    ds:getcapture
mov     esi, [ebp+hmem]
cmp     eax, [esi]
jz      short loc_277e23aa
test    byte ptr [ebp+arg_c+3], 40h
jnz     short loc_277e23d6
push    esi
call    sub_277c3a67
xor     eax, eax
cmp     edi, 28h
setz    al
xor     ecx, ecx
push    eax
test    eax, eax
setz    cl
push    ecx
push    esi
mov     [esi+34h], eax
call    sub_277c3ae0
push    esi
call    sub_277c3b78
jmp     short loc_277e23aa
push    [ebp+arg_c]
push    [ebp+arg_8]
push    87h
push    [ebp+hwnd]
call    sub_27812262
or      al, 1
jmp     loc_277e2381
push    0
push    offset sub_277e225e
push    [ebp+hwnd]
call    sub_278121f8
mov     eax, [ebp+hmem]
and     dword ptr [eax+18h], 0
test    byte ptr [eax+1ch], 20h
jz      loc_277e2317
push    eax
call    ds:localfree
jmp     loc_277e2317
and     dword_2782c3b8, 0
jmp     loc_277e2317
mov     ecx, [esp+arg_4]
push    esi
cmp     ecx, 0ah
jz      short loc_277e245f
cmp     ecx, 10h
jz      short loc_277e245f
xor     eax, eax
pop     esi
retn    8
mov     eax, dword ptr [esp+4+lcdata]
xor     edx, edx
cmp     ecx, 0ah
push    eax
mov     esi, [eax+1ch]
setnz   dl
and     edx, 1
and     esi, 0fffffffbh
shl     edx, 2
or      edx, esi
mov     esi, [eax+20h]
mov     [eax+1ch], edx
mov     [eax+20h], ecx
call    sub_277b8804
mov     eax, esi
jmp     short loc_277e245b
push    ebp
mov     ebp, esp
push    ebx
push    edi
xor     edi, edi
push    edi
push    [ebp+hinstance]
push    [ebp+hmenu]
push    [ebp+hwndparent]
push    [ebp+nheight]
push    [ebp+nwidth]
push    [ebp+y]
push    [ebp+x]
push    [ebp+dwstyle]
push    edi
push    offset amsvblibupdown
push    edi
call    ds:createwindowexa
mov     ebx, eax
cmp     ebx, edi
jz      short loc_277e24f8
push    esi
mov     esi, ds:sendmessagea
push    edi
push    [ebp+wparam]
push    469h
push    ebx
call    esi
movzx   eax, [ebp+arg_28]
movzx   ecx, [ebp+arg_24]
shl     eax, 10h
or      eax, ecx
push    eax
push    edi
push    465h
push    ebx
call    esi
movzx   eax, [ebp+arg_2c]
push    eax
push    edi
push    467h
push    ebx
call    esi
pop     esi
mov     eax, ebx
pop     edi
pop     ebx
pop     ebp
retn    30h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
test    byte ptr [esi+8], 40h
jz      short loc_277e254c
mov     eax, [ebp+rect.right]
cdq
sub     eax, edx
sar     eax, 1
cmp     [ebp+arg_4], 1
jnz     short loc_277e2541
mov     [ebp+rect.right], eax
push    [ebp+berase]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
pop     esi
leave
retn    0ch
cmp     [ebp+arg_4], 2
jnz     short loc_277e253c
mov     [ebp+rect.left], eax
jmp     short loc_277e252d
mov     eax, [ebp+rect.bottom]
cdq
sub     eax, edx
sar     eax, 1
cmp     [ebp+arg_4], 1
jnz     short loc_277e255f
mov     [ebp+rect.top], eax
jmp     short loc_277e252d
cmp     [ebp+arg_4], 2
jnz     short loc_277e253c
mov     [ebp+rect.bottom], eax
jmp     short loc_277e252d
push    esi
mov     esi, [esp+4+arg_0]
push    edi
test    byte ptr [esi+9], 1
jz      short loc_277e25ab
mov     eax, [esp+8+arg_4]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [esp+0ch+arg_4]
push    eax
push    esi
call    sub_277c3aa1
mov     edi, eax
mov     eax, [esi+58h]
cmp     edi, eax
jz      short loc_277e25ab
push    0
push    eax
push    esi
call    sub_277e2500
push    0
push    edi
push    esi
call    sub_277e2500
mov     [esi+58h], edi
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 50h
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
lea     eax, [ebp+hmem]
xor     edi, edi
push    eax
mov     ebx, offset sub_277e3000
push    edi
push    ebx
push    esi
call    sub_27812105
mov     eax, [ebp+hmem]
cmp     eax, edi
jz      short loc_277e25e3
cmp     eax, 0ffffffffh
jnz     short loc_277e25ed
push    edi
push    ebx
push    esi
call    sub_278121f8
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
cmp     [eax+78h], edi
jz      short loc_277e25f9
mov     eax, 80004005h
jmp     short loc_277e25e6
mov     eax, [eax]
push    1ch
mov     [ebp+var_18], eax
pop     eax
push    1fh
mov     [ebp+var_50.cbsize], eax
mov     [ebp+var_34.cbsize], eax
pop     eax
mov     [ebp+var_50.fmask], eax
mov     [ebp+var_34.fmask], eax
lea     eax, [ebp+var_50]
push    eax
push    edi
push    esi
call    sub_277e4223
push    edi
mov     [ebp+var_10], eax
push    [ebp+hmem]
call    sub_277e451c
mov     [ebp+var_14], eax
lea     eax, [ebp+var_34]
push    eax
push    1
push    esi
call    sub_277e4223
push    1
mov     [ebp+var_8], eax
push    [ebp+hmem]
call    sub_277e451c
mov     esi, ds:deleteobject
mov     [ebp+warrows], eax
mov     eax, [ebp+hmem]
push    dword ptr [eax+0e4h]
call    esi
mov     eax, [ebp+hmem]
push    dword ptr [eax+0e0h]
call    esi
push    [ebp+hmem]
call    ds:localfree
push    edi
push    ebx
push    [ebp+hwnd]
call    sub_278121f8
cmp     [ebp+var_8], edi
mov     esi, ds:setscrollinfo
mov     ebx, ds:enablescrollbar
jz      short loc_277e269c
lea     eax, [ebp+var_34]
push    edi
push    eax
push    1
push    [ebp+hwnd]
call    esi
push    [ebp+warrows]
push    1
push    [ebp+hwnd]
call    ebx
cmp     [ebp+var_10], edi
jz      short loc_277e26b5
lea     eax, [ebp+var_50]
push    edi
push    eax
push    edi
push    [ebp+hwnd]
call    esi
push    [ebp+var_14]
push    edi
push    [ebp+hwnd]
call    ebx
mov     ecx, [ebp+var_18]
mov     eax, 300000h
and     ecx, eax
push    ecx
push    eax
push    0fffffff0h
push    [ebp+hwnd]
call    sub_278119ca
push    27h
push    edi
push    edi
push    edi
push    edi
push    edi
push    [ebp+hwnd]
call    ds:setwindowpos
xor     eax, eax
jmp     loc_277e25e6
push    ebp
mov     ebp, esp
sub     esp, 44h
push    ebx
push    esi
push    edi
push    0fffffff0h
push    [ebp+hwnd]
xor     edi, edi
mov     [ebp+var_8], edi
mov     [ebp+var_c], edi
call    ds:getwindowlonga
push    1ch
mov     ebx, ds:getscrollinfo
mov     esi, eax
pop     eax
push    1fh
mov     [ebp+var_28.cbsize], eax
mov     [ebp+var_44.cbsize], eax
pop     eax
test    esi, 100000h
mov     [ebp+var_28.fmask], eax
mov     [ebp+var_44.fmask], eax
jz      short loc_277e272d
lea     eax, [ebp+var_28]
push    eax
push    edi
push    [ebp+hwnd]
call    ebx
mov     [ebp+var_8], eax
test    esi, 200000h
jz      short loc_277e2743
lea     eax, [ebp+var_44]
push    eax
push    1
push    [ebp+hwnd]
call    ebx
mov     [ebp+var_c], eax
mov     ebx, esi
and     esi, 0ffcfffffh
push    esi
push    0fffffff0h
push    [ebp+hwnd]
and     ebx, 300000h
call    ds:setwindowlonga
lea     eax, [ebp+hmem]
mov     esi, offset sub_277e3000
push    eax
push    edi
push    esi
push    [ebp+hwnd]
call    sub_27812105
cmp     [ebp+var_c], edi
jnz     short loc_277e27a0
cmp     [ebp+var_8], edi
jnz     short loc_277e27a0
cmp     [ebp+hmem], edi
jnz     loc_277e2855
push    0ffffffffh
push    edi
push    esi
push    [ebp+hwnd]
call    sub_27812153
test    eax, eax
jnz     loc_277e2855
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
cmp     [ebp+hmem], edi
jz      short loc_277e27ab
cmp     [ebp+hmem], 0ffffffffh
jnz     short loc_277e27f0
push    [ebp+hwnd]
call    sub_277e43dd
cmp     eax, edi
mov     [ebp+hmem], eax
jz      short loc_277e2797
push    eax
push    edi
push    esi
push    [ebp+hwnd]
call    sub_27812153
test    eax, eax
jnz     short loc_277e27f0
mov     eax, [ebp+hmem]
mov     esi, ds:deleteobject
push    dword ptr [eax+0e4h]
call    esi
mov     eax, [ebp+hmem]
push    dword ptr [eax+0e0h]
call    esi
push    [ebp+hmem]
call    ds:localfree
jmp     short loc_277e2797
mov     eax, [ebp+hmem]
cmp     [ebp+var_8], edi
mov     [eax], ebx
jz      short loc_277e2808
lea     eax, [ebp+var_28]
push    edi
push    eax
push    edi
push    [ebp+hmem]
call    sub_277e4e27
cmp     [ebp+var_c], edi
jz      short loc_277e281c
lea     eax, [ebp+var_44]
push    edi
push    eax
push    1
push    [ebp+hmem]
call    sub_277e4e27
mov     esi, ds:setscrollinfo
lea     eax, [ebp+var_28]
push    edi
push    eax
push    edi
mov     [ebp+var_28.nmax], edi
push    [ebp+hwnd]
mov     [ebp+var_28.nmin], edi
call    esi
lea     eax, [ebp+var_44]
push    edi
push    eax
push    1
push    [ebp+hwnd]
mov     [ebp+var_44.nmax], edi
mov     [ebp+var_44.nmin], edi
call    esi
push    27h
push    edi
push    edi
push    edi
push    edi
push    edi
push    [ebp+hwnd]
call    ds:setwindowpos
push    1
pop     eax
jmp     loc_277e2799
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+hmem]
push    esi
lea     eax, [ebp+hmem]
push    edi
push    eax
mov     esi, offset sub_277e3000
push    0
push    esi
push    ebx
call    sub_27812105
mov     eax, [ebp+hmem]
test    eax, eax
jz      short loc_277e28af
cmp     eax, 0ffffffffh
jz      short loc_277e28a6
push    dword ptr [eax+0e4h]
mov     edi, ds:deleteobject
call    edi
mov     eax, [ebp+hmem]
push    dword ptr [eax+0e0h]
call    edi
push    [ebp+hmem]
call    ds:localfree
push    0
push    esi
push    ebx
call    sub_278121f8
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    ebx
call    sub_27812262
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
lea     eax, [ebp+hwnd]
push    edi
mov     edi, [ebp+hwnd]
push    eax
push    0
push    offset sub_277e3000
push    edi
call    sub_27812105
cmp     [ebp+hwnd], 0
jz      short loc_277e28ee
cmp     [ebp+hwnd], 0ffffffffh
jnz     short loc_277e2904
push    [ebp+lprcsrc]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    edi
call    sub_27812262
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     ebx, [ebp+lprcsrc]
mov     esi, ds:copyrect
cmp     [ebp+arg_8], 1
lea     eax, [ebp+rcdst]
push    ebx
push    eax
call    esi
push    0
push    300000h
push    0fffffff0h
push    edi
call    sub_278119ca
push    ebx
push    [ebp+arg_8]
push    [ebp+arg_4]
push    edi
call    sub_27812262
cmp     [ebp+arg_8], 1
mov     edi, eax
lea     eax, [ebp+rcsrc]
push    ebx
push    eax
call    esi
mov     eax, [ebp+hwnd]
and     dword ptr [eax], 0fffffff9h
mov     eax, [ebp+hwnd]
mov     ecx, [eax]
test    ecx, 200000h
jz      short loc_277e296d
mov     edx, [ebp+rcsrc.right]
sub     edx, [ebp+rcsrc.left]
cmp     edx, [eax+4]
jl      short loc_277e296d
or      ecx, 2
mov     [eax], ecx
mov     eax, [ebp+hwnd]
mov     ecx, [eax+4]
sub     [ebp+rcsrc.right], ecx
mov     ecx, [eax]
test    ecx, 100000h
jz      short loc_277e2990
mov     edx, [ebp+rcsrc.bottom]
sub     edx, [ebp+rcsrc.top]
cmp     edx, [eax+14h]
jl      short loc_277e2990
or      ecx, 4
mov     [eax], ecx
mov     eax, [ebp+hwnd]
mov     eax, [eax+14h]
sub     [ebp+rcsrc.bottom], eax
cmp     [ebp+arg_8], 1
lea     eax, [ebp+rcsrc]
push    eax
push    ebx
call    esi
mov     eax, [ebp+rcsrc.top]
mov     ecx, [ebp+hwnd]
sub     eax, [ebp+rcdst.top]
mov     [ecx+0a0h], eax
mov     eax, [ebp+rcsrc.bottom]
sub     eax, [ebp+rcdst.top]
mov     ecx, [ebp+hwnd]
mov     [ecx+0a8h], eax
mov     eax, [ebp+rcsrc.left]
sub     eax, [ebp+rcdst.left]
mov     ecx, [ebp+hwnd]
mov     [ecx+9ch], eax
mov     eax, [ebp+rcsrc.right]
sub     eax, [ebp+rcdst.left]
mov     ecx, [ebp+hwnd]
mov     [ecx+0a4h], eax
mov     eax, edi
jmp     loc_277e28fd
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     eax, [ebp+arg_0]
xor     edi, edi
push    eax
push    edi
push    offset sub_277e3000
push    esi
call    sub_27812105
cmp     [ebp+arg_0], edi
jnz     short loc_277e2a14
push    [ebp+arg_c]
push    [ebp+hdc]
push    [ebp+arg_4]
push    esi
call    sub_27812262
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
cmp     [ebp+arg_0], 0ffffffffh
push    [ebp+arg_c]
jz      short loc_277e2a01
mov     ebx, [ebp+hdc]
push    ebx
push    [ebp+arg_4]
push    esi
call    sub_27812262
mov     [ebp+arg_c], eax
mov     eax, [ebp+arg_0]
mov     ecx, [eax]
mov     esi, [eax+0cch]
test    cl, 4
jz      short loc_277e2a58
test    cl, 2
jz      short loc_277e2a58
push    dword ptr [eax+0a8h]
push    dword ptr [eax+0a4h]
push    ebx
push    eax
call    sub_277e3696
mov     eax, [ebp+arg_0]
test    byte ptr [eax], 4
jz      short loc_277e2a7a
push    0
push    0
push    ebx
push    eax
call    sub_277e5342
mov     eax, [ebp+arg_0]
cmp     dword ptr [eax+80h], 0
jz      short loc_277e2a7a
mov     edi, [eax+0cch]
test    byte ptr [eax], 2
jz      short loc_277e2aa1
push    0
push    1
push    ebx
mov     [eax+0cch], esi
push    [ebp+arg_0]
call    sub_277e5342
mov     eax, [ebp+arg_0]
cmp     dword ptr [eax+7ch], 0
jz      short loc_277e2aa1
mov     edi, [eax+0cch]
mov     [eax+0cch], edi
mov     eax, [ebp+arg_c]
jmp     loc_277e2a0d
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
lea     eax, [ebp+var_4]
xor     edi, edi
push    eax
push    edi
push    offset sub_277e3000
push    esi
call    sub_27812105
cmp     [ebp+var_4], edi
jnz     short loc_277e2ae6
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_27812262
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    [ebp+arg_c]
cmp     [ebp+var_4], 0ffffffffh
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
jz      short loc_277e2ada
call    sub_27812262
push    esi
mov     [ebp+arg_c], eax
call    ds:getwindowdc
mov     ebx, eax
mov     eax, [ebp+var_4]
mov     ecx, [eax]
mov     esi, [eax+0cch]
test    cl, 4
jz      short loc_277e2b32
test    cl, 2
jz      short loc_277e2b32
push    dword ptr [eax+0a8h]
push    dword ptr [eax+0a4h]
push    ebx
push    eax
call    sub_277e3696
mov     eax, [ebp+var_4]
test    byte ptr [eax], 4
jz      short loc_277e2b54
push    0
push    0
push    ebx
push    eax
call    sub_277e5342
mov     eax, [ebp+var_4]
cmp     dword ptr [eax+80h], 0
jz      short loc_277e2b54
mov     edi, [eax+0cch]
test    byte ptr [eax], 2
jz      short loc_277e2b7b
push    0
push    1
push    ebx
mov     [eax+0cch], esi
push    [ebp+var_4]
call    sub_277e5342
mov     eax, [ebp+var_4]
cmp     dword ptr [eax+7ch], 0
jz      short loc_277e2b7b
mov     edi, [eax+0cch]
push    ebx
mov     [eax+0cch], edi
push    [ebp+hwnd]
call    ds:releasedc
mov     eax, [ebp+arg_c]
jmp     loc_277e2adf
push    ebp
mov     ebp, esp
cmp     [ebp+arg_8], 0fffffff2h
jnz     short loc_277e2bd4
lea     eax, [ebp+arg_8]
push    eax
push    0
push    offset sub_277e3000
push    [ebp+hwnd]
call    sub_27812105
mov     eax, [ebp+arg_8]
test    eax, eax
jz      short loc_277e2bd8
cmp     eax, 0ffffffffh
jz      short loc_277e2bd8
cmp     dword ptr [eax+78h], 0
jnz     short loc_277e2bd4
push    1
push    0
push    0
push    84h
push    [ebp+hwnd]
call    sub_277e2be5
pop     ebp
retn    10h
push    0fffffff2h
push    [ebp+hwnd]
call    ds:killtimer
jmp     short loc_277e2bd4
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hwnd]
push    edi
call    sub_2780569f
mov     [ebp+var_8], eax
lea     eax, [ebp+var_4]
xor     ebx, ebx
push    eax
push    ebx
push    offset sub_277e3000
push    edi
call    sub_27812105
cmp     [ebp+var_4], ebx
jz      short loc_277e2c17
cmp     [ebp+var_4], 0ffffffffh
jnz     short loc_277e2c2d
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    edi
call    sub_27812262
pop     edi
pop     esi
pop     ebx
leave
retn    14h
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:getwindowrect
cmp     [ebp+arg_10], ebx
jz      loc_277e2df4
cmp     [ebp+var_8], ebx
mov     [ebp+arg_c], ebx
jz      loc_277e2de3
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
mov     edx, [ebp+point.y]
mov     edi, [ebp+point.x]
sub     edi, [ebp+rect.left]
sub     edx, [ebp+rect.top]
cmp     [ebp+arg_10], ebx
mov     eax, [ebp+var_4]
mov     [ebp+point.x], edi
mov     [ebp+point.y], edx
jz      short loc_277e2c8a
cmp     [ebp+var_8], ebx
jz      short loc_277e2c8a
cmp     edi, [eax+0c4h]
jnz     short loc_277e2c8a
cmp     edx, [eax+0c8h]
jz      loc_277e2ddb
cmp     [ebp+arg_c], ebx
jnz     short loc_277e2ce3
test    byte ptr [eax], 2
mov     esi, ds:ptinrect
jz      loc_277e2e20
mov     ebx, [eax+0a4h]
lea     ecx, [eax+0a4h]
mov     [ebp+rc.left], ebx
mov     ebx, [eax+4]
add     ebx, [ecx]
push    edx
push    edi
mov     [ebp+rc.right], ebx
mov     ecx, [eax+0a0h]
mov     [ebp+rc.top], ecx
mov     eax, [eax+0a8h]
mov     [ebp+rc.bottom], eax
lea     eax, [ebp+rc]
push    eax
call    esi
test    eax, eax
jz      loc_277e2e15
mov     [ebp+arg_c], 7
mov     eax, [ebp+var_4]
xor     ebx, ebx
cmp     [eax+78h], ebx
jnz     loc_277e2ddb
cmp     [ebp+var_8], ebx
push    1
pop     edi
jz      short loc_277e2d07
mov     ecx, [ebp+arg_c]
sub     ecx, 6
jz      loc_277e2ee4
dec     ecx
jz      loc_277e2eda
mov     ecx, [eax+7ch]
mov     [eax+7ch], ebx
mov     eax, [ebp+var_4]
add     eax, 80h
mov     esi, [eax]
mov     [eax], ebx
mov     eax, [ebp+var_4]
mov     edx, [ebp+point.x]
test    ecx, ecx
mov     [eax+0c4h], edx
mov     eax, [ebp+var_4]
mov     edx, [ebp+point.y]
mov     [eax+0c8h], edx
mov     eax, [ebp+var_4]
mov     edx, [eax+0cch]
mov     [ebp+arg_8], edx
jz      short loc_277e2d66
mov     ecx, [eax+0bch]
cmp     ecx, 2
jz      short loc_277e2d50
cmp     ecx, edi
jnz     short loc_277e2d66
push    edi
push    eax
call    sub_277e44e5
mov     eax, [ebp+var_4]
cmp     dword ptr [eax+7ch], 0
jz      short loc_277e2d66
mov     ebx, [eax+0cch]
test    esi, esi
jz      short loc_277e2d9e
mov     ecx, [eax+0c0h]
cmp     ecx, 2
jz      short loc_277e2d79
cmp     ecx, edi
jnz     short loc_277e2d9e
mov     ecx, [ebp+arg_8]
push    0
mov     [eax+0cch], ecx
push    [ebp+var_4]
call    sub_277e44e5
mov     eax, [ebp+var_4]
cmp     dword ptr [eax+80h], 0
jz      short loc_277e2d9e
mov     ebx, [eax+0cch]
mov     [eax+0cch], ebx
mov     eax, [ebp+var_4]
xor     ecx, ecx
cmp     [eax+7ch], ecx
jnz     loc_277e2efa
cmp     [eax+80h], ecx
jnz     loc_277e2efa
cmp     [eax+88h], ecx
jz      short loc_277e2ddb
push    0fffffff2h
push    [ebp+hwnd]
call    ds:killtimer
mov     eax, [ebp+var_4]
and     dword ptr [eax+88h], 0
mov     eax, [ebp+arg_c]
jmp     loc_277e2c26
mov     eax, [ebp+rect.left]
lea     edi, [eax-1]
mov     eax, [ebp+rect.top]
lea     edx, [eax-1]
jmp     loc_277e2c5d
mov     esi, [ebp+arg_c]
push    esi
push    [ebp+arg_8]
push    [ebp+arg_4]
push    edi
call    sub_27812262
movsx   edi, si
shr     esi, 10h
mov     [ebp+arg_c], eax
movsx   edx, si
jmp     loc_277e2c5d
mov     eax, [ebp+var_4]
mov     edx, [ebp+point.y]
mov     edi, [ebp+point.x]
xor     ebx, ebx
test    byte ptr [eax], 4
jz      short loc_277e2e71
mov     ecx, [eax+9ch]
push    edx
mov     [ebp+rc.left], ecx
mov     ecx, [eax+0a4h]
mov     [ebp+rc.right], ecx
mov     ebx, [eax+0a8h]
lea     ecx, [eax+0a8h]
mov     [ebp+rc.top], ebx
mov     eax, [eax+14h]
push    edi
add     eax, [ecx]
mov     [ebp+rc.bottom], eax
lea     eax, [ebp+rc]
push    eax
call    esi
test    eax, eax
jz      short loc_277e2e66
mov     [ebp+arg_c], 6
jmp     loc_277e2cde
mov     eax, [ebp+var_4]
mov     edx, [ebp+point.y]
mov     edi, [ebp+point.x]
xor     ebx, ebx
mov     ecx, [eax]
test    cl, 4
jz      short loc_277e2ed2
test    cl, 2
jz      short loc_277e2ed2
mov     ebx, [eax+0a4h]
lea     ecx, [eax+0a4h]
mov     [ebp+rc.left], ebx
mov     ebx, [eax+4]
add     ebx, [ecx]
lea     ecx, [eax+0a8h]
push    edx
push    edi
mov     [ebp+rc.right], ebx
mov     ebx, [ecx]
mov     [ebp+rc.top], ebx
mov     eax, [eax+14h]
add     eax, [ecx]
mov     [ebp+rc.bottom], eax
lea     eax, [ebp+rc]
push    eax
call    esi
test    eax, eax
jz      short loc_277e2ecd
push    [ebp+hwnd]
call    sub_277e5381
neg     eax
sbb     eax, eax
and     eax, 0dh
add     eax, 4
mov     [ebp+arg_c], eax
jmp     loc_277e2cde
mov     eax, [ebp+var_4]
xor     ebx, ebx
mov     [ebp+arg_c], ebx
jmp     loc_277e2ce3
mov     ecx, edi
mov     [eax+7ch], edi
jmp     loc_277e2d0d
mov     ecx, [eax+7ch]
mov     [eax+7ch], ebx
mov     eax, [ebp+var_4]
mov     esi, edi
mov     [eax+80h], edi
jmp     loc_277e2d19
cmp     [eax+88h], ecx
jnz     loc_277e2ddb
push    offset timerfunc
call    ds:getdoubleclicktime
shr     eax, 1
push    eax
push    0fffffff2h
push    [ebp+hwnd]
call    ds:settimer
mov     ecx, [ebp+var_4]
mov     [ecx+88h], eax
jmp     loc_277e2ddb
push    ebp
mov     ebp, esp
push    esi
lea     eax, [ebp+hwnd]
push    edi
mov     edi, [ebp+hwnd]
push    eax
push    0
push    offset sub_277e3000
push    edi
call    sub_27812105
cmp     [ebp+hwnd], 0
jz      short loc_277e2f6e
cmp     [ebp+hwnd], 0ffffffffh
jz      short loc_277e2f6e
mov     eax, [ebp+arg_8]
mov     esi, [ebp+arg_8]
and     eax, 0fff0h
and     esi, 0fh
cmp     eax, 0f080h
jz      short loc_277e2f83
cmp     eax, 0f070h
jz      short loc_277e2f83
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    edi
call    sub_27812262
pop     edi
pop     esi
pop     ebp
retn    10h
push    [ebp+arg_c]
push    0
push    [ebp+arg_4]
push    edi
call    sub_27812262
push    esi
push    [ebp+arg_c]
push    edi
push    [ebp+hwnd]
call    sub_277e3e39
xor     eax, eax
jmp     short loc_277e2f7d
push    ebp
mov     ebp, esp
lea     eax, [ebp+hwnd]
push    esi
mov     esi, [ebp+hwnd]
push    eax
push    0
push    offset sub_277e3000
push    esi
call    sub_27812105
cmp     [ebp+hwnd], 0
jnz     short loc_277e2fd4
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_27812262
pop     esi
pop     ebp
retn    10h
push    [ebp+arg_c]
cmp     [ebp+hwnd], 0ffffffffh
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
jz      short loc_277e2fca
call    sub_27812262
mov     esi, eax
mov     eax, [ebp+hwnd]
cmp     dword ptr [eax+68h], 0
jz      short loc_277e2ffc
push    1
push    eax
call    sub_277e39b6
mov     eax, esi
jmp     short loc_277e2fcf
push    ebp
mov     ebp, esp
mov     edx, [ebp+arg_4]
push    esi
mov     esi, [ebp+hdc]
cmp     edx, 1fh
ja      short loc_277e303d
cmp     edx, 1fh
jz      short loc_277e302b
cmp     edx, 0fh
jz      short loc_277e306f
push    [ebp+lprcsrc]
push    esi
push    edx
push    [ebp+hwnd]
call    sub_27812262
pop     esi
pop     ebp
retn    18h
push    [ebp+lprcsrc]
push    [ebp+hdc]
push    1fh
push    [ebp+hwnd]
call    sub_277e2fa2
jmp     short loc_277e3026
mov     ecx, edx
mov     eax, 82h
sub     ecx, eax
jz      loc_277e30e1
dec     ecx
jz      short loc_277e30c9
dec     ecx
jz      short loc_277e30af
dec     ecx
jz      short loc_277e3097
sub     ecx, 8dh
jz      short loc_277e3082
sub     ecx, 205h
jnz     short loc_277e3019
test    esi, esi
jz      short loc_277e3019
test    byte ptr [ebp+lprcsrc], 2
jz      short loc_277e3019
test    esi, esi
jz      short loc_277e3019
push    [ebp+lprcsrc]
push    esi
push    edx
push    [ebp+hwnd]
call    sub_277e29de
jmp     short loc_277e3026
push    [ebp+lprcsrc]
push    [ebp+hdc]
push    112h
push    [ebp+hwnd]
call    sub_277e2f2d
jmp     short loc_277e3026
push    [ebp+lprcsrc]
push    [ebp+hdc]
push    85h
push    [ebp+hwnd]
call    sub_277e2aaf
jmp     loc_277e3026
push    0
push    [ebp+lprcsrc]
push    [ebp+hdc]
push    84h
push    [ebp+hwnd]
call    sub_277e2be5
jmp     loc_277e3026
push    [ebp+lprcsrc]
push    [ebp+hdc]
push    83h
push    [ebp+hwnd]
call    sub_277e28c5
jmp     loc_277e3026
push    [ebp+lprcsrc]
push    [ebp+hdc]
push    eax
push    [ebp+hwnd]
call    sub_277e285d
jmp     loc_277e3026
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+x]
push    esi
mov     edx, [eax]
mov     ecx, [eax+8]
cmp     edx, ecx
mov     [ebp+x], edx
jg      loc_277e31f3
mov     esi, [eax+4]
mov     eax, [eax+0ch]
cmp     esi, eax
mov     [ebp+y], esi
jg      loc_277e31f3
sub     eax, esi
sub     ecx, edx
mov     [ebp+h], eax
mov     eax, [ebp+arg_8]
push    edi
dec     eax
push    ebx
mov     [ebp+w], ecx
jz      loc_277e3216
dec     eax
jz      loc_277e31ff
dec     eax
jz      loc_277e31f8
push    10h
mov     ebx, ds:getsyscolorbrush
call    ebx
push    0fh
mov     edi, eax
call    ebx
mov     [ebp+arg_8], eax
mov     ebx, ds:selectobject
push    edi
push    [ebp+hdc]
call    ebx
mov     edi, 0f00021h
mov     [ebp+var_10], eax
push    edi
push    1
push    [ebp+w]
push    esi
mov     esi, ds:patblt
push    [ebp+x]
push    [ebp+hdc]
call    esi
push    edi
push    [ebp+h]
push    1
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    esi
mov     eax, [ebp+y]
mov     ecx, [ebp+h]
push    edi
push    1
push    [ebp+w]
lea     eax, [eax+ecx-1]
push    eax
push    [ebp+x]
push    [ebp+hdc]
call    esi
mov     eax, [ebp+x]
mov     ecx, [ebp+w]
push    edi
push    [ebp+h]
lea     eax, [eax+ecx-1]
push    1
push    [ebp+y]
push    eax
push    [ebp+hdc]
call    esi
push    [ebp+arg_8]
push    [ebp+hdc]
call    ebx
mov     eax, [ebp+h]
push    edi
add     eax, 0fffffffeh
push    eax
mov     eax, [ebp+w]
add     eax, 0fffffffeh
push    eax
mov     eax, [ebp+y]
inc     eax
push    eax
mov     eax, [ebp+x]
inc     eax
push    eax
push    [ebp+hdc]
call    esi
push    [ebp+var_10]
push    [ebp+hdc]
call    ebx
pop     ebx
pop     edi
pop     esi
leave
retn    0ch
push    14h
jmp     loc_277e3146
push    10h
call    ds:getsyscolorbrush
push    4
mov     edi, eax
call    ds:getstockobject
jmp     loc_277e3154
push    10h
call    ds:getsyscolorbrush
mov     edi, eax
mov     [ebp+arg_8], edi
jmp     loc_277e3157
push    ebp
mov     ebp, esp
sub     esp, 14h
mov     eax, [ebp+x]
push    esi
mov     edx, [eax]
mov     ecx, [eax+8]
cmp     edx, ecx
mov     [ebp+x], edx
jg      loc_277e3331
mov     esi, [eax+4]
mov     eax, [eax+0ch]
cmp     esi, eax
mov     [ebp+y], esi
jg      loc_277e3331
sub     eax, esi
sub     ecx, edx
mov     [ebp+h], eax
mov     eax, [ebp+arg_8]
push    edi
dec     eax
push    ebx
mov     [ebp+w], ecx
jz      loc_277e3355
dec     eax
jz      loc_277e333d
dec     eax
jz      loc_277e3336
push    10h
mov     edi, ds:getsyscolorbrush
call    edi
mov     ebx, eax
mov     [ebp+arg_8], ebx
push    0fh
call    edi
push    ebx
mov     ebx, ds:selectobject
push    [ebp+hdc]
mov     [ebp+var_10], eax
call    ebx
mov     edi, 0f00021h
mov     [ebp+var_14], eax
push    edi
push    1
push    [ebp+w]
push    esi
mov     esi, ds:patblt
push    [ebp+x]
push    [ebp+hdc]
call    esi
push    edi
push    [ebp+h]
push    1
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    esi
push    [ebp+arg_8]
push    [ebp+hdc]
call    ebx
mov     eax, [ebp+y]
mov     ecx, [ebp+h]
push    edi
push    1
push    [ebp+w]
lea     eax, [eax+ecx-1]
push    eax
push    [ebp+x]
push    [ebp+hdc]
call    esi
mov     eax, [ebp+x]
mov     ecx, [ebp+w]
push    edi
push    [ebp+h]
lea     eax, [eax+ecx-1]
push    1
push    [ebp+y]
push    eax
push    [ebp+hdc]
call    esi
push    [ebp+var_10]
push    [ebp+hdc]
call    ebx
mov     eax, [ebp+h]
push    edi
add     eax, 0fffffffeh
push    eax
mov     eax, [ebp+w]
add     eax, 0fffffffeh
push    eax
mov     eax, [ebp+y]
inc     eax
push    eax
mov     eax, [ebp+x]
inc     eax
push    eax
push    [ebp+hdc]
call    esi
push    [ebp+var_14]
push    [ebp+hdc]
call    ebx
pop     ebx
pop     edi
pop     esi
leave
retn    0ch
push    14h
jmp     loc_277e3279
mov     edi, ds:getsyscolorbrush
push    14h
call    edi
push    10h
mov     [ebp+arg_8], eax
call    edi
mov     ebx, eax
jmp     loc_277e3286
mov     edi, ds:getsyscolorbrush
push    14h
call    edi
push    10h
mov     ebx, eax
call    edi
mov     [ebp+arg_8], eax
jmp     loc_277e3286
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     eax, [ebp+mode]
push    ebx
push    esi
push    edi
mov     edi, [ebp+lprcsrc]
mov     edx, eax
and     eax, 200h
and     edx, 100h
mov     [ebp+var_4], eax
mov     eax, [edi]
cmp     eax, [edi+8]
mov     [ebp+x], edx
jge     loc_277e3433
mov     eax, [edi+4]
cmp     eax, [edi+0ch]
jge     loc_277e3433
mov     ebx, [ebp+y]
cmp     ebx, 2
jz      loc_277e343a
cmp     ebx, 3
jz      loc_277e343a
mov     eax, [ebp+h]
mov     ecx, [eax+0bch]
mov     [ebp+mode], ecx
mov     ecx, ebx
xor     esi, esi
sub     ecx, esi
jz      loc_277e3472
dec     ecx
jz      loc_277e345d
dec     ecx
jz      short loc_277e3448
dec     ecx
jnz     short loc_277e3433
xor     ecx, ecx
cmp     dword ptr [eax+0cch], 6
mov     [ebp+lprcsrc], offset a4
setz    cl
cmp     edx, esi
jnz     short loc_277e3407
cmp     ecx, esi
jz      short loc_277e3407
cmp     [eax+70h], esi
jz      short loc_277e3407
mov     [ebp+var_4], 1
cmp     [ebp+mode], esi
jnz     loc_277e3494
lea     eax, [ebp+rcdst]
push    edi
push    eax
call    ds:copyrect
cmp     [ebp+x], esi
jz      short loc_277e348a
or      bh, 1
push    ebx
lea     eax, [ebp+rcdst]
push    3
push    eax
push    [ebp+hdc]
call    ds:drawframecontrol
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     eax, [ebp+h]
mov     ecx, [eax+0c0h]
jmp     loc_277e33c4
xor     ecx, ecx
cmp     dword ptr [eax+0cch], 5
mov     [ebp+lprcsrc], offset a3
setz    cl
jmp     short loc_277e33f3
xor     ecx, ecx
cmp     dword ptr [eax+0cch], 2
mov     [ebp+lprcsrc], offset a6
setz    cl
jmp     short loc_277e33f3
xor     ecx, ecx
cmp     dword ptr [eax+0cch], 1
mov     [ebp+lprcsrc], offset a5
setz    cl
jmp     loc_277e33f3
cmp     [ebp+var_4], esi
jz      short loc_277e3423
or      bh, 40h
jmp     short loc_277e3423
cmp     edx, esi
jz      loc_277e35b2
mov     [ebp+h], 3
push    [ebp+h]
mov     ebx, [ebp+hdc]
cmp     [ebp+mode], 1
push    edi
push    ebx
jnz     loc_277e35d2
call    sub_277e3228
mov     ecx, [edi]
mov     eax, [edi+8]
mov     edx, [edi+4]
mov     [ebp+hdc], ecx
sub     eax, ecx
mov     ecx, [edi+0ch]
sub     ecx, edx
mov     [ebp+y], edx
cmp     eax, ecx
mov     edi, eax
jl      short loc_277e34d7
mov     edi, ecx
cmp     edi, 4
jl      loc_277e3433
sub     eax, edi
cdq
sub     eax, edx
mov     edx, [ebp+hdc]
sar     eax, 1
lea     eax, [eax+edx+2]
mov     [ebp+x], eax
mov     eax, ecx
mov     ecx, [ebp+y]
sub     eax, edi
cdq
sub     eax, edx
sub     edi, 4
sar     eax, 1
cmp     [ebp+mode], 2
lea     eax, [eax+ecx+2]
mov     [ebp+y], eax
jnz     loc_277e35e8
mov     eax, [ebp+h]
cmp     eax, esi
jz      loc_277e35f2
jle     loc_277e35f2
cmp     eax, 2
jle     loc_277e35dc
cmp     eax, 3
jnz     loc_277e35f2
push    10h
call    ds:getsyscolor
mov     [ebp+hdc], eax
push    offset pszfacename
push    esi
push    esi
push    esi
push    esi
push    2
push    esi
push    esi
push    esi
push    190h
push    esi
push    esi
push    esi
push    edi
call    ds:createfonta
mov     esi, ds:setbkmode
push    1
push    ebx
mov     [ebp+h], eax
call    esi
push    [ebp+h]
mov     edi, ds:selectobject
mov     [ebp+mode], eax
push    ebx
call    edi
push    [ebp+hdc]
mov     [ebp+var_4], eax
push    ebx
call    ds:settextcolor
push    1
push    [ebp+lprcsrc]
push    [ebp+y]
push    [ebp+x]
push    ebx
call    ds:textouta
push    [ebp+mode]
push    ebx
call    esi
push    [ebp+var_4]
push    ebx
call    edi
push    [ebp+h]
call    ds:deleteobject
jmp     loc_277e3433
cmp     [ebp+var_4], esi
jz      short loc_277e35c3
mov     [ebp+h], 2
jmp     loc_277e34a3
xor     eax, eax
cmp     ecx, esi
setnz   al
mov     [ebp+h], eax
jmp     loc_277e34a3
call    sub_277e30f5
jmp     loc_277e34ba
mov     [ebp+hdc], 0ffffffh
jmp     loc_277e353f
cmp     [ebp+h], 3
jz      loc_277e3534
mov     [ebp+hdc], esi
jmp     loc_277e353f
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     edx, [ebp+arg_c]
push    esi
test    edx, edx
jz      short loc_277e3650
mov     eax, [ebp+arg_0]
xor     ecx, ecx
cmp     dword ptr [eax+0cch], 3
setz    cl
test    edx, edx
mov     esi, ecx
jz      short loc_277e365e
mov     ecx, [eax+0bch]
test    ecx, ecx
jle     short loc_277e3676
cmp     ecx, 2
jg      short loc_277e3676
cmp     dword ptr [eax+58h], 4
jnz     short loc_277e3666
cmp     edx, [eax+74h]
jnz     short loc_277e3666
push    1
pop     eax
push    eax
cmp     ecx, 2
push    [ebp+lprcsrc]
push    [ebp+hdc]
jnz     short loc_277e366f
call    sub_277e30f5
pop     esi
leave
retn    10h
mov     eax, [ebp+arg_0]
xor     ecx, ecx
cmp     dword ptr [eax+0cch], 7
jmp     short loc_277e3614
mov     ecx, [eax+0c0h]
jmp     short loc_277e3623
xor     eax, eax
test    esi, esi
setnz   al
jmp     short loc_277e363a
call    sub_277e3228
jmp     short loc_277e364b
push    [ebp+lprcsrc]
lea     eax, [ebp+rcdst]
push    eax
call    ds:copyrect
push    10h
lea     eax, [ebp+rcdst]
push    4
push    eax
push    [ebp+hdc]
call    ds:drawframecontrol
jmp     short loc_277e364b
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    0fffffff0h
mov     edi, [esi+0ech]
push    edi
call    ds:getwindowlonga
push    edi
call    sub_277e5381
test    eax, eax
jnz     short loc_277e36f8
push    ebx
push    0fh
call    ds:getsyscolorbrush
mov     edi, ds:selectobject
push    eax
push    [ebp+hdc]
call    edi
push    0f00021h
mov     ebx, eax
push    dword ptr [esi+14h]
push    dword ptr [esi+4]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ds:patblt
push    ebx
push    [ebp+hdc]
call    edi
pop     ebx
pop     edi
pop     esi
leave
retn    10h
mov     eax, [ebp+x]
mov     ecx, [esi+4]
add     ecx, eax
mov     [ebp+var_10.left], eax
mov     eax, [ebp+y]
mov     [ebp+var_10.right], ecx
mov     ecx, [esi+14h]
mov     [ebp+var_10.top], eax
add     ecx, eax
push    8
lea     eax, [ebp+var_10]
push    3
push    eax
mov     [ebp+var_10.bottom], ecx
push    [ebp+hdc]
call    ds:drawframecontrol
jmp     short loc_277e36f2
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+hbr]
xor     ecx, ecx
cmp     [ebp+color], ecx
push    ebx
push    esi
push    edi
mov     [ebp+hpal], ecx
jz      short loc_277e376b
mov     edx, [eax+0d8h]
mov     edi, [eax+0d0h]
mov     [ebp+hbr], edx
cmp     [ebp+hbr], ecx
jnz     short loc_277e377c
push    16h
call    ds:getsyscolorbrush
push    eax
push    [ebp+lprc]
push    [ebp+hdc]
call    ds:fillrect
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edx, [eax+0dch]
mov     edi, [eax+0d4h]
mov     [ebp+hbr], edx
jmp     short loc_277e374a
mov     eax, [eax+0e8h]
mov     ebx, [ebp+hdc]
cmp     eax, ecx
jz      short loc_277e379d
push    1
push    eax
push    ebx
call    ds:selectpalette
push    ebx
mov     [ebp+hpal], eax
call    ds:realizepalette
push    0fh
call    ds:getsyscolor
mov     esi, ds:settextcolor
push    eax
push    ebx
call    esi
push    edi
mov     edi, ds:setbkcolor
push    ebx
mov     [ebp+hdc], eax
call    edi
push    [ebp+hbr]
mov     [ebp+color], eax
push    [ebp+lprc]
push    ebx
call    ds:fillrect
cmp     [ebp+hpal], 0
jz      short loc_277e37de
push    1
push    [ebp+hpal]
push    ebx
call    ds:selectpalette
push    [ebp+hdc]
push    ebx
call    esi
push    [ebp+color]
push    ebx
call    edi
jmp     loc_277e3764
mov     eax, [esp+arg_0]
push    esi
cmp     dword ptr [eax+74h], 0
lea     esi, [eax+104h]
jnz     short loc_277e3806
lea     esi, [eax+0f4h]
mov     edx, [eax+48h]
mov     ecx, [esp+4+arg_4]
cmp     ecx, edx
jge     short loc_277e3817
mov     eax, [esi]
pop     esi
retn    8
cmp     ecx, [eax+2ch]
jl      short loc_277e3821
mov     eax, [esi+4]
jmp     short loc_277e3813
mov     eax, [eax+54h]
test    eax, eax
jnz     short loc_277e3843
mov     eax, [esi+4]
sub     eax, [esi]
inc     eax
mov     ecx, [esi]
add     eax, ecx
cmp     eax, ecx
jge     short loc_277e3838
mov     eax, ecx
mov     esi, [esi+4]
cmp     eax, esi
jle     short loc_277e3813
mov     eax, esi
jmp     short loc_277e3813
push    eax
mov     eax, [esi+4]
sub     eax, [esi]
sub     ecx, edx
push    ecx
inc     eax
push    eax
call    ds:muldiv
jmp     short loc_277e382e
mov     eax, [esp+arg_0]
push    esi
push    edi
mov     esi, [eax+0ech]
lea     edi, [eax+0ach]
push    edi
call    ds:isrectempty
test    eax, eax
jnz     short loc_277e388e
push    ebx
push    esi
call    ds:getwindowdc
mov     ebx, eax
push    edi
push    ebx
call    ds:invertrect
push    ebx
push    esi
call    ds:releasedc
pop     ebx
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
mov     edi, [ebp+arg_4]
mov     ebx, [esi+0ech]
cmp     edi, [esi+34h]
mov     [ebp+hwnd], ebx
jz      short loc_277e391e
push    edi
push    esi
call    sub_277e37ef
cmp     eax, [esi+5ch]
mov     [esi+60h], eax
jz      short loc_277e38f1
push    dword ptr [esi+74h]
push    eax
push    5
push    ebx
call    sub_277e3ac8
cmp     dword ptr [esi+78h], 0
jz      short loc_277e391e
mov     eax, [esi+60h]
mov     [esi+5ch], eax
mov     eax, [esi+74h]
cmp     eax, [esi+6ch]
jz      short loc_277e38e3
push    eax
push    esi
call    sub_277e4c46
mov     eax, [esi+2ch]
sub     eax, [esi+4ch]
cmp     edi, eax
jl      short loc_277e38f1
mov     edi, eax
jmp     short loc_277e38ad
push    ebx
call    ds:getwindowdc
push    0
mov     ebx, eax
push    dword ptr [esi+74h]
mov     eax, [esi+4ch]
add     eax, edi
mov     [esi+40h], edi
push    ebx
push    esi
mov     [esi+3ch], eax
call    sub_277e4734
push    ebx
push    [ebp+hwnd]
call    ds:releasedc
mov     [esi+34h], edi
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+hwnd]
push    dword ptr [edi+74h]
mov     ebx, [edi+0ech]
mov     [ebp+hwnd], ebx
push    edi
call    sub_277e451c
mov     esi, [ebp+arg_4]
neg     esi
sbb     esi, esi
and     al, 3
and     esi, 200h
neg     al
sbb     eax, eax
and     eax, 100h
or      esi, eax
cmp     [ebp+arg_8], 0
jz      short loc_277e3973
cmp     [ebp+arg_8], 1
jz      short loc_277e3973
push    edi
call    sub_277e3856
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
push    ebx
call    ds:getwindowdc
mov     ebx, eax
xor     eax, eax
cmp     [ebp+arg_8], eax
jnz     short loc_277e39a8
cmp     [edi+74h], eax
push    esi
jz      short loc_277e39a4
push    eax
lea     eax, [edi+0ach]
push    eax
push    ebx
push    edi
call    sub_277e336d
push    ebx
push    [ebp+hwnd]
call    ds:releasedc
jmp     short loc_277e396c
push    2
jmp     short loc_277e398a
cmp     [edi+74h], eax
push    esi
jz      short loc_277e39b2
push    1
jmp     short loc_277e398a
push    3
jmp     short loc_277e398a
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
xor     ebx, ebx
mov     eax, [esi+0ech]
mov     edi, [esi+74h]
cmp     [esi+78h], ebx
mov     [ebp+hwnd], eax
mov     [ebp+var_8], edi
jz      short loc_277e3a4f
mov     eax, [esi+58h]
mov     [esi+58h], ebx
mov     [ebp+var_4], eax
call    ds:getcapture
cmp     eax, [ebp+hwnd]
jnz     short loc_277e39f2
call    ds:releasecapture
mov     eax, [esi+68h]
cmp     eax, offset sub_277e3cac
jnz     short loc_277e3a5e
cmp     [ebp+arg_4], ebx
jz      short loc_277e3a07
mov     eax, [esi+64h]
mov     [esi+5ch], eax
mov     eax, [esi+5ch]
cmp     edi, ebx
jz      short loc_277e3a56
mov     [esi+110h], eax
push    edi
push    eax
push    4
push    [ebp+hwnd]
call    sub_277e3ac8
push    edi
push    esi
call    sub_277e4cd2
push    [ebp+var_8]
mov     [esi+68h], ebx
push    ebx
push    8
push    [ebp+hwnd]
call    sub_277e3ac8
push    1
push    ebx
push    ebx
push    84h
push    [ebp+hwnd]
mov     [esi+78h], ebx
mov     [esi+70h], ebx
call    sub_277e2be5
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     [esi+100h], eax
jmp     short loc_277e3a14
cmp     eax, offset sub_277e3bcf
jnz     short loc_277e3a27
cmp     [esi+84h], ebx
jz      short loc_277e3a7b
push    0fffeh
push    [ebp+hwnd]
call    ds:killtimer
call    ds:getmessagepos
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getwindowrect
movsx   eax, di
sub     eax, [ebp+rect.left]
shr     edi, 10h
movsx   ecx, di
sub     ecx, [ebp+rect.top]
push    ecx
push    eax
lea     eax, [esi+0ach]
push    eax
call    ds:ptinrect
test    eax, eax
jz      loc_277e3a27
push    [ebp+var_4]
mov     [esi+70h], ebx
push    ebx
push    esi
call    sub_277e3925
jmp     loc_277e3a27
push    ebp
mov     ebp, esp
xor     eax, eax
cmp     [ebp+hwnd], eax
jz      short loc_277e3afe
movzx   edx, [ebp+arg_8]
mov     ecx, [ebp+arg_4]
push    eax
and     ecx, 0ffffh
shl     edx, 10h
or      ecx, edx
push    ecx
xor     ecx, ecx
cmp     [ebp+arg_c], eax
setnz   cl
add     ecx, 114h
push    ecx
push    [ebp+hwnd]
call    ds:sendmessagea
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
lea     eax, [ebp+var_4]
push    edi
xor     ebx, ebx
push    eax
push    ebx
push    offset sub_277e3000
push    [ebp+hwnd]
call    sub_27812105
cmp     [ebp+var_4], ebx
jz      loc_277e3bbf
cmp     [ebp+var_4], 0ffffffffh
jz      loc_277e3bbf
call    ds:getmessagepos
mov     esi, eax
call    ds:getdoubleclicktime
push    5
xor     edx, edx
shl     eax, 2
pop     ecx
div     ecx
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getwindowrect
movsx   eax, si
sub     eax, [ebp+rect.left]
shr     esi, 10h
movsx   ecx, si
sub     ecx, [ebp+rect.top]
movzx   eax, ax
movzx   ecx, cx
shl     ecx, 10h
or      ecx, eax
push    ecx
push    ebx
push    ebx
push    [ebp+var_4]
call    sub_277e3bcf
mov     eax, [ebp+var_4]
cmp     [eax+70h], ebx
jz      short loc_277e3bb8
shr     edi, 3
push    offset sub_277e3b02
push    edi
push    0fffeh
push    [ebp+hwnd]
call    ds:settimer
mov     ecx, [ebp+var_4]
mov     [ecx+84h], eax
mov     eax, [ebp+var_4]
push    dword ptr [eax+74h]
push    ebx
push    dword ptr [eax+58h]
push    [ebp+hwnd]
call    sub_277e3ac8
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    0fffeh
push    [ebp+hwnd]
call    ds:killtimer
jmp     short loc_277e3bb8
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
cmp     [ebp+arg_4], 0
push    edi
mov     ebx, 200h
mov     eax, [esi+0ech]
mov     [ebp+hwnd], eax
mov     eax, [esi+74h]
mov     [ebp+var_c], eax
mov     eax, [esi+70h]
mov     [ebp+var_4], eax
jz      short loc_277e3c09
cmp     [ebp+arg_4], ebx
jl      short loc_277e3c66
cmp     [ebp+arg_4], 209h
jg      short loc_277e3c66
call    ds:getdoubleclicktime
push    5
xor     edx, edx
shl     eax, 2
pop     ecx
div     ecx
mov     [ebp+arg_0], eax
mov     eax, [ebp+arg_c]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
push    eax
lea     eax, [esi+0ach]
push    ecx
push    eax
call    ds:ptinrect
mov     edi, eax
cmp     edi, [ebp+var_4]
jz      short loc_277e3c4b
push    dword ptr [esi+58h]
mov     [esi+70h], edi
push    edi
push    esi
call    sub_277e3925
mov     eax, [ebp+arg_0]
mov     ecx, [ebp+arg_4]
shr     eax, 3
sub     ecx, ebx
jz      short loc_277e3c77
dec     ecx
jz      short loc_277e3c6d
dec     ecx
jnz     short loc_277e3c66
push    0
push    esi
call    sub_277e39b6
pop     edi
pop     esi
pop     ebx
leave
retn    10h
and     dword ptr [esi+84h], 0
mov     eax, [ebp+arg_0]
test    edi, edi
jz      short loc_277e3c66
cmp     edi, [ebp+var_4]
jz      short loc_277e3c66
push    offset sub_277e3b02
push    eax
push    0fffeh
push    [ebp+hwnd]
call    ds:settimer
push    [ebp+var_c]
mov     [esi+84h], eax
push    0
push    dword ptr [esi+58h]
push    [ebp+hwnd]
call    sub_277e3ac8
jmp     short loc_277e3c66
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 200h
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
mov     eax, [esi+74h]
mov     [ebp+hwnd], eax
jl      short loc_277e3d3c
cmp     [ebp+arg_4], 209h
jg      short loc_277e3d3c
cmp     eax, [esi+6ch]
jz      short loc_277e3cd9
push    eax
push    esi
call    sub_277e4c46
mov     eax, [ebp+arg_c]
movsx   edi, ax
shr     eax, 10h
movsx   ebx, ax
push    ebx
lea     eax, [esi+0ach]
push    edi
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_277e3d00
mov     eax, [esi+20h]
mov     [esi+1ch], eax
jmp     short loc_277e3d22
cmp     [ebp+hwnd], 0
jz      short loc_277e3d08
mov     edi, ebx
mov     eax, [esi+24h]
lea     ecx, [eax+edi]
mov     eax, [esi+48h]
cmp     ecx, eax
mov     [esi+1ch], ecx
jl      short loc_277e3cfb
mov     eax, [esi+2ch]
sub     eax, [esi+4ch]
cmp     ecx, eax
jge     short loc_277e3cfb
push    dword ptr [esi+1ch]
push    esi
call    sub_277e3893
cmp     [ebp+arg_4], 202h
jnz     short loc_277e3d3c
push    0
push    esi
call    sub_277e39b6
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
cmp     [esi+78h], ebx
mov     edi, [esi+0ech]
jz      loc_277e3e32
push    [ebp+arg_4]
push    ebx
push    201h
push    esi
call    dword ptr [esi+68h]
call    ds:getcapture
cmp     eax, edi
jnz     loc_277e3e32
push    ebx
push    ebx
lea     eax, [ebp+msg]
push    ebx
push    eax
call    ds:getmessagea
test    eax, eax
jz      loc_277e3e32
lea     eax, [ebp+msg]
push    5
push    eax
call    ds:callmsgfiltera
test    eax, eax
jnz     short loc_277e3d6d
mov     eax, [ebp+msg.message]
cmp     [ebp+msg.hwnd], edi
mov     edx, eax
jnz     short loc_277e3e19
cmp     eax, 200h
jl      short loc_277e3db8
cmp     eax, 209h
jle     short loc_277e3dc6
cmp     eax, 100h
jl      short loc_277e3e19
cmp     eax, 108h
jg      short loc_277e3e19
mov     ecx, [ebp+msg.lparam]
cmp     eax, 104h
jl      short loc_277e3de2
cmp     eax, 107h
jg      short loc_277e3de2
test    ecx, 20000000h
jz      short loc_277e3de2
lea     edx, [eax-4]
cmp     [esi+78h], ebx
jz      short loc_277e3e32
movsx   ebx, cx
mov     eax, [esi+9ch]
shr     ecx, 10h
movsx   ecx, cx
add     ecx, [esi+0a0h]
add     eax, ebx
movzx   eax, ax
movzx   ecx, cx
shl     ecx, 10h
or      ecx, eax
push    ecx
push    [ebp+msg.wparam]
push    edx
push    esi
call    dword ptr [esi+68h]
xor     ebx, ebx
jmp     loc_277e3d6d
lea     eax, [ebp+msg]
push    eax
call    ds:translatemessage
lea     eax, [ebp+msg]
push    eax
call    ds:dispatchmessagea
jmp     loc_277e3d6d
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     [ebp+color], 6
push    ebx
push    esi
push    edi
jnz     loc_277e3f4f
and     [ebp+color], 0
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getwindowrect
mov     eax, [ebp+arg_8]
push    [ebp+color]
movsx   edi, ax
sub     edi, [ebp+rect.left]
mov     esi, [ebp+hbr]
shr     eax, 10h
movsx   ebx, ax
sub     ebx, [ebp+rect.top]
push    esi
movzx   ecx, di
movzx   eax, bx
shl     eax, 10h
or      eax, ecx
mov     [ebp+arg_8], eax
call    sub_277e451c
mov     [ebp+hbr], eax
and     eax, 3
cmp     al, 3
jz      loc_277e405f
xor     eax, eax
cmp     [ebp+color], eax
mov     [esi+84h], eax
mov     [esi+70h], eax
mov     [esi+78h], eax
jz      loc_277e3f61
mov     dword ptr [esi+7ch], 1
mov     [esi+80h], eax
push    [ebp+color]
push    esi
call    sub_277e4c46
cmp     [ebp+color], 0
lea     ecx, [esi+8ch]
mov     dword ptr [esi+68h], offset sub_277e3bcf
mov     dword ptr [esi+78h], 1
lea     eax, [ecx+4]
jnz     short loc_277e3ee6
mov     ecx, eax
sub     eax, 4
mov     edx, [esi+30h]
mov     [ecx], edx
mov     edx, [esi+44h]
mov     [eax], edx
mov     edx, [esi+38h]
mov     [ecx+8], edx
mov     ecx, [esi+28h]
xor     edx, edx
mov     [eax+8], ecx
cmp     [ebp+color], edx
jz      short loc_277e3f05
mov     edi, ebx
mov     ebx, [esi+48h]
mov     [esi+1ch], edi
cmp     edi, ebx
jge     short loc_277e3f73
test    byte ptr [ebp+hbr], 1
jnz     short loc_277e3f80
mov     [esi+58h], edx
mov     [eax+8], ebx
cmp     dword ptr [esi+58h], 4
jz      short loc_277e3f44
mov     eax, [ebp+color]
push    [ebp+hwnd]
mov     [esi+74h], eax
call    ds:setcapture
lea     eax, [esi+8ch]
push    eax
lea     eax, [esi+0ach]
push    eax
call    ds:copyrect
push    [ebp+arg_8]
push    esi
call    sub_277e3d43
jmp     short loc_277e3f86
cmp     [ebp+color], 7
jnz     short loc_277e3f86
mov     [ebp+color], 1
jmp     loc_277e3e50
mov     dword ptr [esi+80h], 1
mov     [esi+7ch], eax
jmp     loc_277e3ebb
mov     ecx, [esi+2ch]
cmp     edi, ecx
jl      short loc_277e3f98
test    byte ptr [ebp+hbr], 2
jz      short loc_277e3f8d
mov     [esi+68h], edx
mov     [esi+78h], edx
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     dword ptr [esi+58h], 1
mov     [eax], ecx
jmp     short loc_277e3f1b
cmp     edi, [esi+40h]
jge     short loc_277e3fb1
mov     dword ptr [esi+58h], 2
mov     [eax], ebx
mov     ecx, [esi+40h]
mov     [eax+8], ecx
jmp     loc_277e3f1b
mov     edx, [esi+3ch]
cmp     edi, edx
jge     loc_277e409f
sub     ecx, ebx
cmp     ecx, [esi+4ch]
jle     loc_277e405f
mov     eax, [ebp+color]
lea     edi, [esi+0ach]
mov     [esi+74h], eax
lea     eax, [esi+8ch]
push    eax
push    edi
mov     dword ptr [esi+58h], 4
call    ds:copyrect
mov     ebx, [ebp+color]
test    ebx, ebx
jz      short loc_277e406c
mov     eax, [esi+18h]
shl     eax, 1
push    eax
mov     eax, [esi+0b4h]
sub     eax, [edi]
shl     eax, 1
push    eax
push    edi
call    ds:inflaterect
mov     eax, [esi+40h]
mov     dword ptr [esi+68h], offset sub_277e3cac
test    ebx, ebx
mov     [esi+20h], eax
mov     [esi+34h], eax
jz      short loc_277e4083
mov     ecx, [esi+110h]
sub     eax, [esi+1ch]
push    [ebp+hwnd]
mov     [esi+64h], ecx
mov     [esi+60h], ecx
mov     [esi+5ch], ecx
mov     [esi+24h], eax
call    ds:setcapture
mov     eax, [esi+5ch]
test    ebx, ebx
jz      short loc_277e408b
mov     [esi+110h], eax
push    ebx
push    eax
push    5
push    [ebp+hwnd]
call    sub_277e3ac8
push    [ebp+hwnd]
call    ds:iswindow
test    eax, eax
jnz     short loc_277e4093
and     dword ptr [esi+68h], 0
and     dword ptr [esi+78h], 0
jmp     loc_277e3f86
mov     eax, [esi+0b8h]
sub     eax, [esi+0b0h]
shl     eax, 1
push    eax
mov     eax, [esi+0ch]
jmp     loc_277e3ffd
mov     ecx, [esi+100h]
jmp     short loc_277e4021
mov     [esi+100h], eax
jmp     short loc_277e4046
push    ebx
push    esi
call    sub_277e4cd2
jmp     loc_277e3f1b
mov     dword ptr [esi+58h], 3
mov     [eax], edx
mov     ecx, [esi+2ch]
jmp     loc_277e3fa9
push    ebp
mov     ebp, esp
lea     eax, [ebp+hwnd]
push    esi
mov     esi, [ebp+hwnd]
push    eax
push    0
push    offset sub_277e3000
push    esi
call    sub_27812105
mov     eax, [ebp+hwnd]
test    eax, eax
jnz     short loc_277e40de
push    [ebp+nbar]
push    esi
call    ds:getscrollpos
pop     esi
pop     ebp
retn    8
cmp     eax, 0ffffffffh
jz      short loc_277e40eb
cmp     [eax+0ech], esi
jz      short loc_277e40ef
xor     eax, eax
jmp     short loc_277e40d9
cmp     [ebp+nbar], 1
jnz     short loc_277e40fd
mov     eax, [eax+110h]
jmp     short loc_277e40d9
mov     eax, [eax+100h]
jmp     short loc_277e40d9
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
test    esi, esi
jz      short loc_277e4176
mov     ebx, [ebp+hwnd]
and     dword ptr [esi], 0
lea     eax, [ebp+hmem]
mov     edi, offset sub_277e3000
push    eax
push    0
push    edi
push    ebx
call    sub_27812105
mov     eax, [ebp+hmem]
test    eax, eax
jz      short loc_277e4176
cmp     eax, 0ffffffffh
jnz     short loc_277e417f
push    ebx
call    sub_277e43dd
test    eax, eax
mov     [ebp+hmem], eax
jz      short loc_277e4176
push    eax
push    0
push    edi
push    ebx
call    sub_27812153
test    eax, eax
mov     eax, [ebp+hmem]
jnz     short loc_277e4187
push    dword ptr [eax+0e4h]
mov     esi, ds:deleteobject
call    esi
mov     eax, [ebp+hmem]
push    dword ptr [eax+0e0h]
call    esi
push    [ebp+hmem]
call    ds:localfree
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
cmp     [eax+0ech], ebx
jnz     short loc_277e4176
mov     ecx, [ebp+arg_4]
cmp     ecx, 8
jg      short loc_277e41b4
jz      short loc_277e41af
dec     ecx
jz      short loc_277e41aa
dec     ecx
jz      short loc_277e41a5
dec     ecx
dec     ecx
jnz     short loc_277e4176
mov     eax, [eax+14h]
push    1
mov     [esi], eax
pop     eax
jmp     short loc_277e4178
mov     eax, [eax+8]
jmp     short loc_277e419e
mov     eax, [eax+10h]
jmp     short loc_277e419e
mov     eax, [eax+4]
jmp     short loc_277e419e
cmp     ecx, 20h
jg      short loc_277e41ca
jz      short loc_277e41c5
cmp     ecx, 10h
jnz     short loc_277e4176
mov     eax, [eax+0ch]
jmp     short loc_277e419e
mov     eax, [eax+18h]
jmp     short loc_277e419e
sub     ecx, 40h
jz      short loc_277e4218
sub     ecx, 40h
jz      short loc_277e4210
sub     ecx, 80h
jz      short loc_277e4208
sub     ecx, 100h
jz      short loc_277e4200
sub     ecx, 200h
jz      short loc_277e41fc
sub     ecx, 400h
jnz     short loc_277e4176
mov     eax, [eax+0e8h]
jmp     short loc_277e419e
mov     eax, [eax]
jmp     short loc_277e419e
mov     eax, [eax+0c0h]
jmp     short loc_277e419e
mov     eax, [eax+0bch]
jmp     short loc_277e419e
mov     eax, [eax+0d4h]
jmp     short loc_277e419e
mov     eax, [eax+0d0h]
jmp     loc_277e419e
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+lpsi]
push    edi
test    esi, esi
jz      loc_277e42e5
cmp     dword ptr [esi], 1ch
jb      loc_277e42e5
mov     edi, [ebp+hwnd]
lea     eax, [ebp+lpsi]
push    eax
push    0
push    offset sub_277e3000
push    edi
call    sub_27812105
mov     edx, [ebp+lpsi]
test    edx, edx
jnz     short loc_277e426a
push    esi
push    [ebp+nbar]
push    edi
call    ds:getscrollinfo
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
cmp     edx, 0ffffffffh
jz      short loc_277e42e5
cmp     [edx+0ech], edi
jnz     short loc_277e42e5
mov     edi, [ebp+nbar]
cmp     edi, 1
jnz     short loc_277e42d4
lea     ecx, [edx+104h]
mov     eax, [esi+4]
test    al, 1
jz      short loc_277e4297
mov     ebx, [ecx]
mov     [esi+8], ebx
mov     ebx, [ecx+4]
mov     [esi+0ch], ebx
test    al, 4
jz      short loc_277e42a1
mov     ebx, [ecx+0ch]
mov     [esi+14h], ebx
test    al, 2
jz      short loc_277e42ab
mov     ebx, [ecx+8]
mov     [esi+10h], ebx
test    al, 10h
jz      short loc_277e42cf
xor     eax, eax
cmp     [edx+68h], eax
jz      short loc_277e42e0
cmp     edi, 1
jnz     short loc_277e42c0
cmp     [edx+74h], eax
jnz     short loc_277e42c9
cmp     edi, eax
jnz     short loc_277e42e0
cmp     [edx+74h], eax
jnz     short loc_277e42e0
mov     eax, [edx+60h]
mov     [esi+18h], eax
push    1
pop     eax
jmp     short loc_277e4263
test    edi, edi
jnz     short loc_277e42e5
lea     ecx, [edx+0f4h]
jmp     short loc_277e4285
mov     eax, [ecx+0ch]
jmp     short loc_277e42cc
xor     eax, eax
jmp     loc_277e4263
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
lea     eax, [ebp+hmem]
push    edi
xor     ebx, ebx
push    eax
mov     edi, offset sub_277e3000
push    ebx
push    edi
mov     [ebp+var_8], ebx
push    [ebp+hwnd]
call    sub_27812105
mov     eax, [ebp+hmem]
cmp     eax, ebx
jnz     short loc_277e4329
push    [ebp+bshow]
push    [ebp+wbar]
push    [ebp+hwnd]
call    ds:showscrollbar
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     ecx, [ebp+wbar]
sub     ecx, ebx
jz      short loc_277e4394
dec     ecx
jz      short loc_277e438d
dec     ecx
dec     ecx
jnz     short loc_277e4389
mov     esi, 300000h
cmp     eax, 0ffffffffh
jnz     short loc_277e439b
cmp     [ebp+bshow], ebx
jz      short loc_277e4389
push    [ebp+hwnd]
call    sub_277e43dd
cmp     eax, ebx
mov     [ebp+hmem], eax
jz      short loc_277e4389
push    eax
push    ebx
push    edi
push    [ebp+hwnd]
call    sub_27812153
test    eax, eax
mov     eax, [ebp+hmem]
jnz     short loc_277e439b
push    dword ptr [eax+0e4h]
mov     esi, ds:deleteobject
call    esi
mov     eax, [ebp+hmem]
push    dword ptr [eax+0e0h]
call    esi
push    [ebp+hmem]
call    ds:localfree
xor     eax, eax
jmp     short loc_277e4322
mov     esi, 200000h
jmp     short loc_277e433c
mov     esi, 100000h
jmp     short loc_277e433c
cmp     [ebp+bshow], ebx
mov     ecx, [eax]
push    1
pop     edi
jnz     short loc_277e43ce
test    ecx, esi
jz      short loc_277e43b2
not     esi
mov     [ebp+var_8], edi
and     esi, ecx
mov     [eax], esi
cmp     [ebp+var_8], ebx
jz      short loc_277e43c7
push    27h
push    ebx
push    ebx
push    ebx
push    ebx
push    ebx
push    [ebp+hwnd]
call    ds:setwindowpos
mov     eax, edi
jmp     loc_277e4322
mov     edx, esi
and     edx, ecx
cmp     edx, esi
jz      short loc_277e43b2
mov     [ebp+var_8], edi
or      esi, ecx
jmp     short loc_277e43b0
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
push    114h
push    40h
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      loc_277e449b
mov     eax, 5500aah
push    64h
mov     [ebp+bits], eax
mov     [ebp+var_c], eax
mov     [ebp+var_8], eax
mov     [ebp+var_4], eax
pop     eax
mov     [esi+0f8h], eax
mov     [esi+108h], eax
mov     eax, [ebp+arg_0]
push    0ah
mov     [esi+0ech], eax
call    sub_277b339b
push    9
mov     [esi+0ch], eax
call    sub_277b339b
push    2
mov     [esi+18h], eax
pop     ebx
push    ebx
call    sub_277b339b
push    14h
mov     [esi+4], eax
call    sub_277b339b
push    15h
mov     [esi+10h], eax
call    sub_277b339b
push    3
mov     [esi+8], eax
call    sub_277b339b
mov     [esi+14h], eax
lea     eax, [ebp+bits]
push    eax
push    1
push    1
push    8
push    8
call    ds:createbitmap
mov     edi, eax
test    edi, edi
jz      short loc_277e4494
push    edi
call    ds:createpatternbrush
test    eax, eax
mov     [esi+0d8h], eax
jnz     short loc_277e44a4
push    edi
call    ds:deleteobject
push    esi
call    ds:localfree
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
or      dword ptr [esi+0c4h], 0ffffffffh
or      dword ptr [esi+0c8h], 0ffffffffh
mov     [esi+0dch], eax
mov     [esi+0e0h], eax
mov     eax, 0ffffffh
mov     [esi+0e4h], edi
mov     [esi+0d4h], eax
mov     [esi+0d0h], eax
mov     [esi+0bch], ebx
mov     [esi+0c0h], ebx
mov     eax, esi
jmp     short loc_277e449d
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
push    dword ptr [edi+0ech]
lea     esi, [edi+0ech]
call    ds:getwindowdc
push    1
mov     ebx, eax
push    [esp+10h+color]
push    ebx
push    edi
call    sub_277e5342
push    ebx
push    dword ptr [esi]
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, [esp+arg_0]
test    eax, eax
jz      short locret_277e4537
cmp     [esp+arg_4], 0
mov     eax, [eax+0f0h]
jz      short loc_277e4534
sar     eax, 2
and     eax, 3
retn    8
push    ebp
mov     ebp, esp
push    esi
lea     eax, [ebp+hwnd]
push    edi
mov     edi, [ebp+hwnd]
push    eax
mov     esi, offset sub_277e3000
push    0
push    esi
push    edi
call    sub_27812105
mov     eax, [ebp+hwnd]
test    eax, eax
jnz     short loc_277e456e
push    [ebp+warrows]
push    [ebp+wsbflags]
push    edi
call    ds:enablescrollbar
pop     edi
pop     esi
pop     ebp
retn    0ch
cmp     eax, 0ffffffffh
jnz     short loc_277e45bd
cmp     [ebp+warrows], 0
jz      short loc_277e45b9
push    edi
call    sub_277e43dd
test    eax, eax
mov     [ebp+hwnd], eax
jz      short loc_277e45b9
push    eax
push    0
push    esi
push    edi
call    sub_27812153
test    eax, eax
jnz     short loc_277e45c5
mov     eax, [ebp+hwnd]
mov     esi, ds:deleteobject
push    dword ptr [eax+0e4h]
call    esi
mov     eax, [ebp+hwnd]
push    dword ptr [eax+0e0h]
call    esi
push    [ebp+hwnd]
call    ds:localfree
xor     eax, eax
jmp     short loc_277e4568
cmp     edi, [eax+0ech]
jnz     short loc_277e45b9
push    [ebp+warrows]
push    [ebp+wsbflags]
push    [ebp+hwnd]
call    sub_277e45d5
jmp     short loc_277e4568
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     eax, eax
push    0fffffff0h
mov     ebx, [esi+0ech]
mov     edi, [esi+0f0h]
push    ebx
mov     [ebp+var_c], eax
mov     [ebp+var_4], eax
mov     [ebp+var_8], eax
mov     [ebp+hwnd], ebx
call    ds:getwindowlonga
mov     [ebp+arg_0], eax
mov     eax, [ebp+hdc]
sub     eax, 0
jz      short loc_277e461a
dec     eax
jz      short loc_277e465f
dec     eax
dec     eax
jnz     loc_277e46b8
mov     eax, [ebp+arg_8]
test    eax, eax
jnz     loc_277e46c1
and     dword ptr [esi+0f0h], 0fffffffch
cmp     edi, [esi+0f0h]
jz      short loc_277e4653
test    byte ptr [esi], 4
push    1
pop     edi
mov     [ebp+var_c], edi
jz      short loc_277e4653
test    byte ptr [ebp+arg_0+3], 20h
jnz     short loc_277e4653
push    ebx
call    ds:iswindowvisible
test    eax, eax
jz      short loc_277e4653
mov     [ebp+var_4], edi
cmp     [ebp+hdc], 0
jz      short loc_277e4694
mov     edi, [esi+0f0h]
mov     eax, [ebp+arg_8]
test    eax, eax
jnz     short loc_277e46cc
and     dword ptr [esi+0f0h], 0fffffff3h
cmp     edi, [esi+0f0h]
jz      short loc_277e4694
test    byte ptr [esi], 2
push    1
pop     edi
mov     [ebp+var_c], edi
jz      short loc_277e4694
test    byte ptr [ebp+arg_0+3], 20h
jnz     short loc_277e4694
push    ebx
call    ds:iswindowvisible
test    eax, eax
jz      short loc_277e4694
mov     [ebp+var_8], edi
cmp     [ebp+var_8], 0
jnz     short loc_277e46a4
cmp     [ebp+var_4], 0
jz      loc_277e472f
mov     edi, [esi+0cch]
push    ebx
call    ds:getwindowdc
test    eax, eax
mov     [ebp+hdc], eax
jnz     short loc_277e46d7
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
or      [esi+0f0h], eax
jmp     loc_277e462c
shl     eax, 2
or      [esi+0f0h], eax
jmp     short loc_277e466d
xor     ecx, ecx
mov     ebx, edi
cmp     [ebp+var_4], ecx
jz      short loc_277e46f8
push    ecx
push    ecx
push    eax
push    esi
call    sub_277e5342
cmp     dword ptr [esi+80h], 0
jz      short loc_277e46f8
mov     ebx, [esi+0cch]
cmp     [ebp+var_8], 0
jz      short loc_277e471d
push    0
push    1
push    [ebp+hdc]
mov     [esi+0cch], edi
push    esi
call    sub_277e5342
cmp     dword ptr [esi+7ch], 0
jz      short loc_277e471d
mov     ebx, [esi+0cch]
push    [ebp+hdc]
mov     [esi+0cch], ebx
push    [ebp+hwnd]
call    ds:releasedc
mov     eax, [ebp+var_c]
jmp     short loc_277e46ba
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+hbr]
push    edi
mov     eax, [esi+44h]
cmp     eax, [esi+28h]
jge     short loc_277e4799
mov     ecx, [esi+30h]
cmp     ecx, [esi+38h]
jge     short loc_277e4799
cmp     [ebp+color], 0
lea     ebx, [esi+8ch]
mov     edi, ebx
jz      short loc_277e47a0
mov     eax, edi
add     edi, 4
test    [ebp+arg_c], 1
mov     [eax], ecx
mov     ecx, [esi+38h]
mov     [eax+8], ecx
jz      short loc_277e4774
test    [ebp+arg_c], 2
jnz     short loc_277e4781
mov     eax, [esi+48h]
mov     ecx, [esi+2ch]
sub     ecx, eax
cmp     ecx, [esi+4ch]
jge     short loc_277e47a5
push    [ebp+color]
mov     eax, [esi+48h]
mov     [edi], eax
mov     eax, [esi+2ch]
push    ebx
mov     [edi+8], eax
push    [ebp+hdc]
push    esi
call    sub_277e3727
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
lea     eax, [edi+4]
jmp     short loc_277e4760
cmp     eax, [esi+40h]
jg      short loc_277e47bf
push    [ebp+color]
mov     [edi], eax
mov     eax, [esi+40h]
push    ebx
mov     [edi+8], eax
push    [ebp+hdc]
push    esi
call    sub_277e3727
mov     eax, [esi+3ch]
cmp     eax, [esi+2ch]
jg      short loc_277e47dc
push    [ebp+color]
mov     [edi], eax
mov     eax, [esi+2ch]
push    ebx
mov     [edi+8], eax
push    [ebp+hdc]
push    esi
call    sub_277e3727
push    [ebp+color]
mov     eax, [esi+40h]
mov     [edi], eax
mov     eax, [esi+3ch]
push    ebx
mov     [edi+8], eax
push    [ebp+hdc]
push    esi
call    sub_277e35fa
mov     ecx, [esi+58h]
cmp     ecx, 2
jz      short loc_277e4801
cmp     ecx, 3
jnz     short loc_277e4799
mov     edi, [ebp+color]
cmp     [esi+74h], edi
jnz     short loc_277e4799
lea     edx, [esi+0ach]
test    edi, edi
mov     eax, edx
jz      short loc_277e4818
add     eax, 4
cmp     ecx, 2
jnz     short loc_277e483d
mov     ecx, [esi+40h]
mov     [eax+8], ecx
mov     ecx, [eax]
cmp     ecx, [eax+8]
jge     loc_277e4799
push    edx
push    [ebp+hdc]
call    ds:invertrect
jmp     loc_277e4799
mov     ecx, [esi+3ch]
mov     [eax], ecx
jmp     short loc_277e4823
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    [ebp+color]
mov     eax, [esi+0cch]
push    esi
mov     [ebp+var_4], eax
call    sub_277e451c
mov     [ebp+arg_0], eax
mov     eax, [esi+28h]
sub     eax, [esi+44h]
mov     ecx, [esi+30h]
cdq
sub     eax, edx
mov     edi, eax
mov     eax, [esi+38h]
sar     edi, 1
sub     eax, ecx
test    edi, edi
jle     loc_277e497f
test    eax, eax
jle     loc_277e497f
cmp     [ebp+color], 0
jz      loc_277e4986
mov     eax, [esi+10h]
cmp     edi, eax
jle     short loc_277e489d
mov     edi, eax
cmp     [ebp+color], 0
lea     ebx, [esi+8ch]
mov     ecx, ebx
lea     eax, [ebx+4]
jnz     short loc_277e48b3
mov     ecx, eax
sub     eax, 4
mov     edx, [esi+30h]
push    12h
mov     [ecx], edx
mov     edx, [esi+44h]
mov     [eax], edx
mov     edx, [esi+38h]
mov     [ecx+8], edx
mov     ecx, [esi+28h]
mov     [eax+8], ecx
call    ds:getsyscolorbrush
push    eax
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+h], eax
lea     eax, [ebp+rcdst]
push    ebx
push    eax
call    ds:copyrect
xor     eax, eax
cmp     [ebp+color], eax
jz      loc_277e498e
mov     ecx, [ebp+rcdst.top]
add     ecx, edi
cmp     [ebp+arg_c], eax
mov     [ebp+rcdst.bottom], ecx
jz      short loc_277e490d
cmp     [ebp+var_4], 1
jz      short loc_277e490d
cmp     [ebp+arg_10], 1
jnz     short loc_277e4925
mov     ecx, [ebp+arg_0]
and     ecx, 1
shl     ecx, 8
push    ecx
push    eax
lea     eax, [ebp+rcdst]
push    eax
push    [ebp+hdc]
push    esi
call    sub_277e336d
mov     eax, [ebx+0ch]
mov     [ebp+rcdst.bottom], eax
sub     eax, edi
cmp     [ebp+arg_c], 0
mov     [ebp+rcdst.top], eax
jz      short loc_277e4942
cmp     [ebp+var_4], 2
jz      short loc_277e4942
cmp     [ebp+arg_10], 2
jnz     short loc_277e495b
mov     eax, [ebp+arg_0]
and     eax, 2
shl     eax, 7
push    eax
lea     eax, [ebp+rcdst]
push    1
push    eax
push    [ebp+hdc]
push    esi
call    sub_277e336d
push    [ebp+h]
mov     edi, [ebp+hdc]
push    edi
call    ds:selectobject
cmp     [ebp+arg_c], 0
push    [ebp+arg_0]
jnz     loc_277e49f9
push    [ebp+color]
push    edi
push    esi
call    sub_277e4734
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     eax, [esi+8]
jmp     loc_277e4897
mov     ecx, [ebp+rcdst.left]
add     ecx, edi
cmp     [ebp+arg_c], eax
mov     [ebp+rcdst.right], ecx
jz      short loc_277e49a7
cmp     [ebp+var_4], 5
jz      short loc_277e49a7
cmp     [ebp+arg_10], 5
jnz     short loc_277e49c0
mov     eax, [ebp+arg_0]
and     eax, 1
shl     eax, 8
push    eax
lea     eax, [ebp+rcdst]
push    2
push    eax
push    [ebp+hdc]
push    esi
call    sub_277e336d
mov     eax, [ebx+8]
mov     [ebp+rcdst.right], eax
sub     eax, edi
cmp     [ebp+arg_c], 0
mov     [ebp+rcdst.left], eax
jz      short loc_277e49e1
cmp     [ebp+var_4], 6
jz      short loc_277e49e1
cmp     [ebp+arg_10], 6
jnz     loc_277e495b
mov     eax, [ebp+arg_0]
and     eax, 2
shl     eax, 7
push    eax
lea     eax, [ebp+rcdst]
push    3
push    eax
push    [ebp+hdc]
jmp     loc_277e4955
push    [ebp+color]
jmp     loc_277e4978
push    ebp
mov     ebp, esp
sub     esp, 2ch
cmp     [ebp+arg_8], 0
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
jz      loc_277e4ad3
mov     edx, [eax+0ch]
mov     ecx, [eax+4]
mov     esi, [ebp+arg_0]
mov     [ebp+var_8], edx
mov     edx, [eax]
mov     eax, [eax+8]
mov     ebx, [esi+110h]
mov     edi, [esi+108h]
mov     [ebp+var_28], eax
mov     eax, [esi+10h]
mov     [ebp+var_4], eax
mov     eax, [esi+18h]
mov     [ebp+arg_4], eax
mov     eax, [esi+104h]
sub     ebx, eax
sub     edi, eax
mov     eax, [esi+0c8h]
mov     [ebp+var_24], edx
mov     edx, [esi+10ch]
mov     [ebp+var_1c], eax
mov     eax, [esi+7ch]
mov     [ebp+var_10], ecx
mov     [ebp+nnumerator], edx
inc     edi
mov     [ebp+var_2c], eax
mov     eax, [ebp+var_8]
sub     eax, ecx
sar     eax, 1
cmp     eax, [ebp+var_4]
jge     short loc_277e4a7b
mov     [ebp+var_4], eax
mov     edx, [ebp+var_4]
lea     eax, [ecx+edx]
mov     ecx, [ebp+var_8]
sub     ecx, edx
mov     [ebp+var_20], eax
mov     [ebp+nnumber], ecx
mov     [ebp+var_18], ecx
sub     [ebp+nnumber], eax
cmp     [ebp+nnumerator], 0
mov     eax, [ebp+nnumber]
mov     [ebp+arg_0], eax
jz      loc_277e4b46
test    edi, edi
jz      short loc_277e4ab4
push    edi
push    [ebp+nnumerator]
push    eax
call    ds:muldiv
mov     ecx, [ebp+var_18]
push    0ah
pop     edx
cmp     [ebp+arg_4], edx
jge     short loc_277e4abf
mov     edx, [ebp+arg_4]
cmp     eax, edx
jle     loc_277e4bd5
test    edi, edi
jnz     short loc_277e4b33
mov     eax, [ebp+arg_0]
mov     [ebp+arg_4], eax
jmp     short loc_277e4b46
mov     ecx, [eax]
mov     esi, [ebp+arg_0]
mov     [ebp+var_10], ecx
mov     ecx, [eax+8]
mov     [ebp+var_8], ecx
mov     ecx, [eax+4]
mov     eax, [eax+0ch]
mov     ebx, [esi+100h]
mov     edi, [esi+0f8h]
mov     [ebp+var_28], eax
mov     eax, [esi+8]
mov     [ebp+var_24], ecx
mov     [ebp+var_4], eax
mov     eax, [esi+0ch]
mov     ecx, [esi+0fch]
mov     [ebp+arg_4], eax
mov     eax, [esi+0f4h]
mov     [ebp+nnumerator], ecx
mov     ecx, [ebp+var_10]
sub     ebx, eax
sub     edi, eax
mov     eax, [esi+0c4h]
mov     [ebp+var_1c], eax
mov     eax, [esi+80h]
inc     edi
mov     [ebp+var_2c], eax
jmp     loc_277e4a6c
push    edi
push    [ebp+nnumerator]
push    [ebp+arg_0]
call    ds:muldiv
mov     ecx, [ebp+var_18]
mov     [ebp+arg_4], eax
mov     eax, [ebp+arg_0]
sub     eax, [ebp+arg_4]
dec     edi
test    edi, edi
mov     [ebp+arg_0], eax
jnz     loc_277e4be6
mov     edi, [ebp+var_20]
mov     eax, ebx
mov     ebx, [ebp+arg_0]
mov     edx, [ebp+arg_4]
add     eax, edi
lea     ebx, [ebx+edx-1]
cmp     eax, ebx
jl      loc_277e4bfa
lea     edx, [ecx+1]
mov     eax, edx
sub     eax, [ebp+arg_4]
mov     ebx, [ebp+var_24]
cmp     dword ptr [esi+78h], 0
mov     [esi+30h], ebx
mov     ebx, [ebp+var_28]
mov     [esi+38h], ebx
mov     ebx, [ebp+var_10]
mov     [esi+44h], ebx
mov     ebx, [ebp+var_8]
mov     [esi+28h], ebx
mov     ebx, [ebp+var_4]
mov     [esi+50h], ebx
mov     ebx, [ebp+arg_4]
mov     [esi+4ch], ebx
mov     ebx, [ebp+arg_0]
mov     [esi+54h], ebx
mov     ebx, [ebp+arg_8]
mov     [esi+48h], edi
mov     [esi+2ch], ecx
mov     [esi+40h], eax
mov     [esi+3ch], edx
mov     [esi+6ch], ebx
jnz     short loc_277e4c1f
cmp     [ebp+var_2c], 0
jz      short loc_277e4c0a
mov     ebx, [ebp+var_10]
cmp     [ebp+var_1c], ebx
jl      short loc_277e4c0a
mov     ebx, [ebp+var_1c]
cmp     ebx, edi
jge     short loc_277e4c01
push    1
pop     eax
jmp     short loc_277e4c0c
push    0ah
pop     eax
cmp     [ebp+arg_4], eax
jge     loc_277e4ace
jmp     loc_277e4b46
push    edi
push    eax
push    ebx
call    ds:muldiv
mov     edi, [ebp+var_20]
mov     ecx, [ebp+var_18]
jmp     loc_277e4b5d
add     edx, eax
jmp     loc_277e4b79
cmp     ebx, eax
jl      short loc_277e4c32
cmp     ebx, [ebp+var_8]
jl      short loc_277e4c26
xor     eax, eax
cmp     [ebp+arg_8], 0
jnz     short loc_277e4c19
test    eax, eax
jz      short loc_277e4c19
add     eax, 4
mov     [esi+0cch], eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     ebx, ecx
jl      short loc_277e4c2e
push    2
jmp     short loc_277e4bd2
cmp     ebx, edx
jl      short loc_277e4c36
push    4
jmp     short loc_277e4bd2
mov     ecx, [ebp+arg_4]
xor     eax, eax
cmp     [ebp+nnumber], ecx
setle   al
add     eax, 3
jmp     short loc_277e4c0c
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
test    esi, esi
jz      short loc_277e4ca0
push    0fffffff0h
push    dword ptr [esi+0ech]
call    ds:getwindowlonga
cmp     [ebp+arg_4], 0
jz      short loc_277e4ca5
mov     eax, [esi+0a4h]
test    byte ptr [esi], 2
mov     [ebp+var_10], eax
mov     [ebp+var_8], eax
jz      short loc_277e4c81
mov     ecx, [esi+4]
add     ecx, eax
mov     [ebp+var_8], ecx
mov     eax, [esi+0a0h]
mov     [ebp+var_c], eax
mov     eax, [esi+0a8h]
mov     [ebp+var_4], eax
push    [ebp+arg_4]
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_277e4a01
pop     esi
leave
retn    8
mov     eax, [esi+0a8h]
test    byte ptr [esi], 4
mov     [ebp+var_c], eax
mov     [ebp+var_4], eax
jz      short loc_277e4cbe
mov     ecx, [esi+14h]
add     ecx, eax
mov     [ebp+var_4], ecx
mov     eax, [esi+9ch]
mov     [ebp+var_10], eax
mov     eax, [esi+0a4h]
mov     [ebp+var_8], eax
jmp     short loc_277e4c93
push    ebx
push    esi
mov     esi, [esp+8+hbr]
push    edi
mov     edi, [esi+0ech]
push    edi
call    ds:getwindowdc
mov     ebx, eax
push    [esp+0ch+color]
push    esi
call    sub_277e4c46
push    [esp+0ch+color]
push    esi
call    sub_277e451c
push    eax
push    [esp+10h+color]
push    ebx
push    esi
call    sub_277e4734
push    ebx
push    edi
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
retn    8
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
cmp     [ebp+arg_28], 0
mov     ecx, [ebp+arg_0]
push    ebx
push    esi
push    edi
jz      short loc_277e4d32
mov     edx, [ebp+arg_24]
mov     eax, [ecx+0ch]
mov     [edx], eax
mov     ebx, [ebp+arg_8]
test    bl, 1
jz      loc_277e4e14
mov     eax, [ebp+arg_10]
mov     edx, [ebp+arg_c]
cmp     eax, edx
jge     short loc_277e4d4a
mov     eax, edx
cmp     [ecx], edx
jnz     short loc_277e4d57
cmp     [ecx+4], eax
jz      loc_277e4e14
test    bl, 2
mov     [ecx], edx
mov     [ecx+4], eax
jnz     loc_277e4e04
mov     edi, [ecx+8]
or      ebx, 2
test    bl, 4
jnz     loc_277e4e0c
mov     esi, [ecx+0ch]
or      ebx, 4
mov     [ebp+var_4], 1
test    bl, 2
jz      short loc_277e4db1
mov     eax, [ecx+4]
sub     eax, [ecx]
cdq
xor     eax, edx
sub     eax, edx
inc     eax
cmp     edi, eax
jbe     short loc_277e4d97
mov     edi, eax
cmp     [ecx+8], edi
jz      short loc_277e4db1
test    bl, 4
mov     [ecx+8], edi
jnz     short loc_277e4daa
mov     esi, [ecx+0ch]
or      ebx, 4
mov     [ebp+var_4], 1
test    bl, 4
jz      short loc_277e4dd0
mov     eax, [ecx]
mov     edx, [ecx+4]
cmp     esi, eax
jge     short loc_277e4e1f
mov     esi, eax
cmp     [ecx+0ch], esi
jz      short loc_277e4dd0
mov     [ecx+0ch], esi
mov     [ebp+var_4], 1
cmp     [ebp+arg_28], 0
jnz     short loc_277e4dde
mov     edx, [ebp+arg_24]
mov     eax, [ecx+0ch]
mov     [edx], eax
test    bl, 1
jnz     short loc_277e4dfa
test    bl, 2
jz      short loc_277e4dfa
mov     eax, [ecx+4]
xor     edx, edx
sub     eax, [ecx]
cmp     [ecx+8], eax
mov     eax, [ebp+arg_20]
setle   dl
mov     [eax], edx
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    2ch
mov     edi, [ebp+arg_14]
jmp     loc_277e4d6b
mov     esi, [ebp+arg_18]
jmp     loc_277e4d7a
mov     esi, [ebp+arg_18]
mov     edi, [ebp+arg_14]
jmp     loc_277e4d81
cmp     esi, edx
jle     short loc_277e4dc1
mov     esi, edx
jmp     short loc_277e4dc1
push    ebp
mov     ebp, esp
sub     esp, 18h
cmp     [ebp+arg_c], 0
push    ebx
push    esi
push    edi
mov     edi, [ebp+hbr]
mov     eax, [edi+0ech]
mov     [ebp+hwnd], eax
jz      short loc_277e4e4c
push    eax
call    ds:iswindowvisible
mov     [ebp+arg_c], eax
mov     esi, [ebp+arg_8]
xor     eax, eax
cmp     [ebp+hdc], eax
mov     ebx, [edi]
mov     edx, [esi+4]
setnz   al
xor     ecx, ecx
cmp     edx, 4
mov     [ebp+color], eax
setz    cl
neg     eax
mov     [ebp+var_14], ecx
mov     ecx, 100000h
sbb     eax, eax
and     eax, ecx
add     eax, ecx
and     ebx, eax
mov     [ebp+var_10], eax
neg     ebx
sbb     ebx, ebx
neg     ebx
test    dl, 1
mov     [ebp+var_4], ebx
jnz     short loc_277e4e97
test    ebx, ebx
jnz     short loc_277e4e97
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    [ebp+var_14]
lea     eax, [ebp+var_c]
push    eax
lea     eax, [ebp+var_4]
push    eax
mov     eax, [ebp+color]
sub     esp, 1ch
neg     eax
push    7
pop     ecx
mov     edi, esp
sbb     eax, eax
rep movsd
mov     esi, [ebp+hbr]
and     eax, 4
inc     eax
lea     eax, [esi+eax*4+0f0h]
push    eax
call    sub_277e4d16
test    eax, eax
jnz     short loc_277e4ed9
test    ebx, ebx
jz      short loc_277e4ed4
cmp     [ebp+arg_c], eax
jnz     short loc_277e4f25
mov     eax, [ebp+var_c]
jmp     short loc_277e4e90
mov     eax, [ebp+var_10]
xor     edi, edi
cmp     [ebp+var_4], edi
jz      short loc_277e4f39
or      [esi], eax
mov     eax, [ebp+arg_8]
test    byte ptr [eax+4], 8
jz      short loc_277e4f4b
cmp     ebx, edi
jz      short loc_277e4f0d
mov     eax, [ebp+var_10]
or      [esi], eax
mov     eax, [ebp+var_4]
neg     eax
sbb     eax, eax
and     al, 0fdh
add     eax, 3
push    eax
push    [ebp+hdc]
push    esi
call    sub_277e45d5
cmp     [ebp+var_4], edi
jz      short loc_277e4ed4
cmp     [ebp+arg_c], edi
jz      short loc_277e4ed4
cmp     [ebp+color], edi
mov     eax, [esi]
jz      short loc_277e4f3f
and     eax, 2
cmp     eax, edi
jz      short loc_277e4ed4
push    [ebp+color]
cmp     dword ptr [esi+68h], offset sub_277e3cac
push    esi
jnz     short loc_277e4f44
call    sub_277e4c46
jmp     short loc_277e4ed4
not     eax
and     [esi], eax
jmp     short loc_277e4ee5
and     eax, 4
jmp     short loc_277e4f21
call    sub_277e4cd2
jmp     short loc_277e4ed4
mov     eax, [ebp+var_4]
xor     eax, ebx
jz      short loc_277e4f0d
push    27h
push    edi
push    edi
push    edi
push    edi
push    edi
push    [ebp+hwnd]
call    ds:setwindowpos
jmp     loc_277e4ed4
push    ebp
mov     ebp, esp
sub     esp, 1ch
lea     eax, [ebp+hwnd]
push    esi
mov     esi, [ebp+hwnd]
push    eax
push    0
push    offset sub_277e3000
push    esi
call    sub_27812105
mov     eax, [ebp+hwnd]
test    eax, eax
jnz     short loc_277e4f9e
push    [ebp+bredraw]
push    [ebp+npos]
push    [ebp+nbar]
push    esi
call    ds:setscrollpos
pop     esi
leave
retn    10h
cmp     eax, 0ffffffffh
jz      short loc_277e4fab
cmp     esi, [eax+0ech]
jz      short loc_277e4faf
xor     eax, eax
jmp     short loc_277e4f99
mov     ecx, [ebp+npos]
push    [ebp+bredraw]
mov     [ebp+var_8], ecx
lea     ecx, [ebp+var_1c]
push    ecx
mov     [ebp+var_1c], 1ch
push    [ebp+nbar]
mov     [ebp+var_18], 4
push    eax
call    sub_277e4e27
jmp     short loc_277e4f99
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
lea     eax, [ebp+hwnd]
push    edi
mov     edi, [ebp+hwnd]
push    eax
mov     esi, offset sub_277e3000
push    0
push    esi
push    edi
call    sub_27812105
mov     eax, [ebp+hwnd]
test    eax, eax
jnz     short loc_277e5014
push    [ebp+bredraw]
push    [ebp+nmaxpos]
push    [ebp+nminpos]
push    [ebp+nbar]
push    edi
call    ds:setscrollrange
pop     edi
pop     esi
pop     ebx
leave
retn    14h
push    1
cmp     eax, 0ffffffffh
pop     ebx
jnz     loc_277e50a2
push    edi
call    sub_277e43dd
test    eax, eax
mov     [ebp+hwnd], eax
jz      short loc_277e5060
push    eax
push    0
push    esi
push    edi
call    sub_27812153
test    eax, eax
jnz     short loc_277e5064
mov     eax, [ebp+hwnd]
mov     esi, ds:deleteobject
push    dword ptr [eax+0e4h]
call    esi
mov     eax, [ebp+hwnd]
push    dword ptr [eax+0e0h]
call    esi
push    [ebp+hwnd]
call    ds:localfree
xor     eax, eax
jmp     short loc_277e500d
mov     [ebp+bredraw], ebx
mov     eax, [ebp+nmaxpos]
mov     ecx, [ebp+nminpos]
mov     edx, eax
sub     edx, ecx
cmp     edx, 7fffh
ja      short loc_277e5060
push    [ebp+bredraw]
mov     [ebp+var_10], eax
lea     eax, [ebp+var_1c]
mov     [ebp+var_1c], 1ch
push    eax
mov     [ebp+var_18], ebx
push    [ebp+nbar]
mov     [ebp+var_14], ecx
push    [ebp+hwnd]
call    sub_277e4e27
mov     eax, ebx
jmp     loc_277e500d
cmp     edi, [eax+0ech]
jz      short loc_277e5067
jmp     short loc_277e5060
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+lpsi]
push    esi
push    edi
test    ebx, ebx
jz      loc_277e513e
cmp     dword ptr [ebx], 1ch
jb      short loc_277e513e
mov     edi, [ebp+hwnd]
lea     eax, [ebp+lpsi]
push    eax
mov     esi, offset sub_277e3000
push    0
push    esi
push    edi
call    sub_27812105
mov     eax, [ebp+lpsi]
test    eax, eax
jnz     short loc_277e50f3
push    [ebp+redraw]
push    ebx
push    [ebp+nbar]
push    edi
call    ds:setscrollinfo
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
cmp     eax, 0ffffffffh
jnz     short loc_277e5167
test    byte ptr [ebx+4], 1
jz      short loc_277e513e
push    edi
call    sub_277e43dd
test    eax, eax
mov     [ebp+lpsi], eax
jz      short loc_277e513e
push    eax
push    0
push    esi
push    edi
call    sub_27812153
test    eax, eax
jnz     short loc_277e5142
mov     eax, [ebp+lpsi]
mov     esi, ds:deleteobject
push    dword ptr [eax+0e4h]
call    esi
mov     eax, [ebp+lpsi]
push    dword ptr [eax+0e0h]
call    esi
push    [ebp+lpsi]
call    ds:localfree
xor     eax, eax
jmp     short loc_277e50ec
mov     [ebp+redraw], 1
cmp     dword ptr [ebx+4], 4
jnz     short loc_277e5156
mov     dword ptr [ebx+4], 14h
push    [ebp+redraw]
push    ebx
push    [ebp+nbar]
push    [ebp+lpsi]
call    sub_277e4e27
jmp     short loc_277e50ec
cmp     edi, [eax+0ech]
jnz     short loc_277e513e
jmp     short loc_277e5149
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
lea     eax, [ebp+hmem]
xor     edi, edi
push    eax
mov     esi, offset sub_277e3000
push    edi
push    esi
xor     ebx, ebx
push    [ebp+hwnd]
mov     [ebp+color], edi
call    sub_27812105
mov     eax, [ebp+hmem]
cmp     eax, edi
jz      short loc_277e51e2
cmp     eax, 0ffffffffh
jnz     short loc_277e51f1
push    [ebp+hwnd]
call    sub_277e43dd
cmp     eax, edi
mov     [ebp+hmem], eax
jz      short loc_277e51e2
push    eax
push    edi
push    esi
push    [ebp+hwnd]
call    sub_27812153
test    eax, eax
jnz     short loc_277e51eb
mov     eax, [ebp+hmem]
mov     esi, ds:deleteobject
push    dword ptr [eax+0e4h]
call    esi
mov     eax, [ebp+hmem]
push    dword ptr [eax+0e0h]
call    esi
push    [ebp+hmem]
call    ds:localfree
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [ebp+hmem]
mov     [ebp+arg_c], edi
cmp     [eax+78h], edi
jnz     short loc_277e51e2
mov     ecx, [ebp+arg_4]
cmp     ecx, 8
ja      short loc_277e5245
jz      short loc_277e5238
dec     ecx
jz      short loc_277e522b
dec     ecx
jz      short loc_277e521e
dec     ecx
dec     ecx
jnz     short loc_277e51e2
mov     ecx, [ebp+arg_8]
cmp     ecx, [eax+14h]
jz      loc_277e529b
mov     [eax+14h], ecx
push    1
pop     ebx
jmp     short loc_277e5287
mov     ecx, [ebp+arg_8]
cmp     ecx, [eax+8]
jz      short loc_277e529b
mov     [eax+8], ecx
jmp     short loc_277e5219
mov     ecx, [ebp+arg_8]
cmp     ecx, [eax+10h]
jz      short loc_277e529b
mov     [eax+10h], ecx
jmp     short loc_277e5219
mov     ecx, [ebp+arg_8]
cmp     ecx, [eax+4]
jz      short loc_277e529b
mov     [eax+4], ecx
jmp     short loc_277e5219
sub     ecx, 10h
jz      loc_277e52df
sub     ecx, 10h
jz      short loc_277e52cf
sub     ecx, 20h
jz      short loc_277e52c8
sub     ecx, 40h
jz      short loc_277e52c1
sub     ecx, 80h
jz      short loc_277e52aa
sub     ecx, 100h
jz      short loc_277e52a3
sub     ecx, 600h
jnz     loc_277e51e2
add     eax, 0e8h
mov     ecx, [ebp+arg_8]
cmp     ecx, [eax]
jz      short loc_277e529b
mov     [eax], ecx
cmp     ebx, edi
jz      short loc_277e52ef
push    27h
push    edi
push    edi
push    edi
push    edi
push    edi
push    [ebp+hwnd]
call    ds:setwindowpos
push    1
pop     eax
jmp     loc_277e51e4
add     eax, 0c0h
jmp     short loc_277e527e
add     eax, 0bch
mov     ecx, [ebp+arg_8]
cmp     ecx, [eax]
jz      short loc_277e529b
mov     [eax], ecx
mov     [ebp+color], 1
jmp     short loc_277e5287
add     eax, 0d4h
jmp     short loc_277e527e
add     eax, 0d0h
jmp     short loc_277e52af
mov     ecx, [ebp+arg_8]
cmp     ecx, [eax+18h]
jz      short loc_277e529b
mov     [eax+18h], ecx
jmp     loc_277e5219
mov     ecx, [ebp+arg_8]
cmp     ecx, [eax+0ch]
jz      short loc_277e529b
mov     [eax+0ch], ecx
jmp     loc_277e5219
cmp     [ebp+arg_c], edi
jz      short loc_277e529b
mov     eax, [ebp+hmem]
cmp     [ebp+color], edi
mov     ebx, [eax+0cch]
jz      short loc_277e533a
mov     esi, [eax+7ch]
push    [ebp+hwnd]
call    ds:getwindowdc
push    0
mov     edi, eax
push    [ebp+color]
push    edi
push    [ebp+hmem]
call    sub_277e5342
test    esi, esi
jnz     short loc_277e532b
mov     eax, [ebp+hmem]
mov     [eax+0cch], ebx
push    edi
push    [ebp+hwnd]
call    ds:releasedc
jmp     loc_277e529b
mov     esi, [eax+80h]
jmp     short loc_277e5305
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    [ebp+color]
mov     edi, [ebx+0cch]
lea     esi, [ebx+0cch]
push    ebx
call    sub_277e4c46
cmp     [ebp+arg_c], 0
jz      short loc_277e536a
cmp     edi, [esi]
jz      short loc_277e537a
push    edi
push    [ebp+arg_c]
push    [ebp+color]
push    [ebp+hdc]
push    ebx
call    sub_277e4844
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
call    ds:getdesktopwindow
push    2dh
mov     [ebp+hwnd], eax
call    sub_277b339b
push    2eh
mov     [ebp+var_4], eax
call    sub_277b339b
mov     [ebp+var_8], eax
lea     eax, [ebp+rect]
push    eax
push    ebx
call    ds:getwindowrect
test    eax, eax
jz      loc_277e543c
mov     esi, ds:getwindowlonga
push    0fffffff0h
push    ebx
call    esi
mov     edi, 40000h
test    edi, eax
push    ebx
jnz     short loc_277e53ea
call    ds:getparent
mov     ebx, eax
test    ebx, ebx
jz      short loc_277e543c
cmp     ebx, [ebp+hwnd]
jz      short loc_277e543c
push    0fffffff0h
push    ebx
call    esi
jmp     short loc_277e53cd
call    ds:iszoomed
test    eax, eax
jnz     short loc_277e543c
lea     eax, [ebp+var_20]
push    eax
push    ebx
call    ds:getclientrect
mov     eax, [ebp+var_20.right]
mov     [ebp+point.x], eax
mov     eax, [ebp+var_20.bottom]
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
push    ebx
call    ds:clienttoscreen
mov     eax, [ebp+rect.right]
mov     ecx, [ebp+var_4]
add     eax, ecx
cmp     eax, [ebp+point.x]
jl      short loc_277e543c
mov     eax, [ebp+rect.bottom]
mov     ecx, [ebp+var_8]
add     eax, ecx
xor     ecx, ecx
cmp     eax, [ebp+point.y]
setnl   cl
mov     eax, ecx
pop     edi
pop     esi
pop     ebx
leave
retn    4
xor     eax, eax
jmp     short loc_277e5435
push    [esp+hinstance]
push    offset amsvblibtoolbar
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibrebar
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibtooltip
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibstatusb
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvbliblistvie
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibheader
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibtab
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibtreevie
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibslider
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibprogres
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibhotkey_0
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibcomboex
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibsysipad_1
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibpager_1
call    ds:unregisterclassa
retn    4
push    [esp+hinstance]
push    offset amsvblibnativef_1
call    ds:unregisterclassa
retn    4
mov     eax, ecx
xor     ecx, ecx
mov     dword ptr [eax], offset off_277cb828
mov     [eax+1ch], ecx
mov     [eax+20h], ecx
mov     [eax+24h], ecx
retn
push    ebp
mov     ebp, esp
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
cmp     [ebp+msg], 1
jnz     short loc_277e559c
push    28h
call    sub_277b35e7
test    eax, eax
pop     ecx
jz      short loc_277e5598
mov     ecx, eax
call    sub_277e5551
test    eax, eax
jnz     short loc_277e55a0
pop     ebp
retn    10h
xor     eax, eax
jmp     short loc_277e5590
test    eax, eax
jz      short loc_277e55b4
push    [ebp+lparam]
mov     edx, [eax]
mov     ecx, eax
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    dword ptr [edx]
jmp     short loc_277e5594
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     short loc_277e5594
push    [esp+lparam]
push    [esp+4+wparam]
push    111h
push    dword ptr [ecx+8]
call    ds:sendmessagea
retn    8
push    dword ptr [ecx+14h]
mov     eax, [esp+4+lparam]
push    eax
push    dword ptr [eax+8]
push    0ffffffffh
push    dword ptr [ecx+8]
call    sub_27811d28
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
xor     edi, edi
cmp     ebx, edi
jz      loc_277e56f0
cmp     [ebx], edi
jz      loc_277e56f0
test    byte ptr [ebx+4], 10h
jz      short loc_277e5640
push    1
pop     edi
test    edi, edi
jz      short loc_277e5636
push    0
push    dword ptr [ebx]
push    30h
push    [ebp+hwnd]
call    ds:sendmessagea
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+classname]
push    20h
push    eax
push    [ebp+hwnd]
call    ds:getclassnamea
test    byte ptr [ebx+4], 1
mov     esi, ds:lstrcmpia
jz      short loc_277e566d
lea     eax, [ebp+classname]
push    eax
push    offset string1
call    esi
mov     edi, eax
neg     edi
sbb     edi, edi
inc     edi
test    byte ptr [ebx+4], 2
jz      short loc_277e5685
lea     eax, [ebp+classname]
push    eax
push    offset astatic
call    esi
neg     eax
sbb     eax, eax
inc     eax
or      edi, eax
test    byte ptr [ebx+4], 8
jz      short loc_277e569d
lea     eax, [ebp+classname]
push    eax
push    offset abutton
call    esi
neg     eax
sbb     eax, eax
inc     eax
or      edi, eax
test    byte ptr [ebx+4], 4
jz      short loc_277e5623
lea     eax, [ebp+classname]
push    eax
push    offset alistbox_0
call    esi
neg     eax
sbb     eax, eax
inc     eax
or      edi, eax
lea     eax, [ebp+classname]
push    eax
push    offset acombobox
call    esi
neg     eax
sbb     eax, eax
inc     eax
or      edi, eax
lea     eax, [ebp+classname]
push    eax
push    offset acomboboxex32
call    esi
neg     eax
sbb     eax, eax
inc     eax
or      edi, eax
lea     eax, [ebp+classname]
push    eax
push    offset asyslistview32
call    esi
neg     eax
sbb     eax, eax
inc     eax
or      edi, eax
jmp     loc_277e5623
xor     eax, eax
jmp     loc_277e5639
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+arg_14]
xor     eax, eax
test    esi, esi
jz      short loc_277e5750
mov     eax, [ebp+arg_4]
push    edi
mov     edi, [ebp+hwndparent]
dec     eax
dec     eax
jz      short loc_277e5755
sub     eax, 10eh
jnz     short loc_277e5740
push    edi
mov     ecx, esi
call    sub_277e57d2
test    eax, eax
jnz     short loc_277e5740
mov     eax, [esi+20h]
mov     [ebp+lparam], eax
mov     eax, [esi+0ch]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    offset enumfunc
push    edi
call    ds:enumchildwindows
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    edi
call    sub_27812262
pop     edi
pop     esi
leave
retn    18h
cmp     dword ptr [esi+24h], 0
jz      short loc_277e5784
mov     eax, [esi+1ch]
mov     [ebp+lparam], eax
mov     eax, [esi+0ch]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    offset enumfunc
push    edi
call    ds:enumchildwindows
push    dword ptr [esi+24h]
call    ds:deleteobject
and     dword ptr [esi+24h], 0
push    0
push    offset sub_277e56f7
push    edi
call    sub_278121f8
jmp     short loc_277e5740
push    ebp
mov     ebp, esp
mov     eax, [ebp+msg]
push    esi
dec     eax
mov     esi, ecx
jnz     short loc_277e57ba
push    [ebp+hwnd]
call    ds:getparent
test    eax, eax
jz      short loc_277e57ba
push    esi
push    0
push    offset sub_277e56f7
push    eax
call    sub_27812153
push    [ebp+lparam]
mov     ecx, esi
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    sub_277e5a1c
pop     esi
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 78h
push    ebx
push    esi
push    edi
mov     edi, ecx
xor     eax, eax
cmp     [edi+20h], eax
jnz     short loc_277e5824
push    eax
push    eax
push    31h
push    [ebp+hwnd]
call    ds:sendmessagea
mov     esi, ds:getobjecta
mov     ebx, eax
lea     eax, [ebp+pv]
push    eax
push    3ch
push    ebx
call    esi
push    11h
call    ds:getstockobject
lea     ecx, [ebp+lf]
mov     [ebp+hwnd], eax
push    ecx
push    3ch
push    eax
call    esi
mov     al, [ebp+lf.lfcharset]
cmp     al, [ebp+var_61]
jnz     short loc_277e5836
mov     [edi+20h], ebx
mov     [edi+1ch], ebx
mov     eax, [edi+20h]
sub     eax, [edi+1ch]
pop     edi
pop     esi
pop     ebx
neg     eax
sbb     eax, eax
inc     eax
leave
retn    4
mov     eax, [ebp+pv]
mov     [edi+1ch], ebx
cmp     [ebp+lf.lfheight], eax
jz      short loc_277e5852
mov     [ebp+lf.lfheight], eax
lea     eax, [ebp+lf]
push    eax
call    ds:createfontindirecta
test    eax, eax
jnz     short loc_277e5855
mov     eax, [ebp+hwnd]
cmp     eax, [ebp+hwnd]
jz      short loc_277e585d
mov     [edi+24h], eax
mov     [edi+20h], eax
jmp     short loc_277e5824
push    ebp
mov     ebp, esp
sub     esp, 28h
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
push    eax
push    offset amsvblibnativef
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277e58d0
push    esi
xor     esi, esi
push    7f00h
push    esi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277e5569
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hicon], esi
mov     [ebp+wndclass.lpszmenuname], esi
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.lpszclassname], offset amsvblibnativef_0
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.style], esi
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.cbclsextra], esi
call    ds:registerclassa
movzx   eax, ax
pop     esi
pop     edi
leave
retn    4
push    1
pop     eax
jmp     short loc_277e58cb
mov     eax, [esp+arg_0]
mov     ecx, [eax]
mov     edx, [eax+4]
mov     [eax], edx
mov     [eax+4], ecx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 28h
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
push    eax
push    offset amsvblibpager
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277e5954
push    esi
xor     esi, esi
push    7f00h
push    esi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277e598f
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hicon], esi
mov     [ebp+wndclass.lpszmenuname], esi
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.lpszclassname], offset amsvblibpager_0
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.style], esi
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.cbclsextra], esi
call    ds:registerclassa
movzx   eax, ax
pop     esi
pop     edi
leave
retn    4
push    1
pop     eax
jmp     short loc_277e594f
mov     dword ptr [ecx], offset off_277cb850
mov     eax, color
mov     [ecx+68h], eax
mov     eax, dword_2782a08c
push    esi
push    4
lea     eax, [eax+eax*2]
pop     esi
cdq
idiv    esi
push    0ch
pop     edx
cmp     eax, edx
mov     [ecx+60h], eax
jge     short loc_277e5983
mov     [ecx+60h], edx
or      dword ptr [ecx+28h], 0ffffffffh
or      dword ptr [ecx+2ch], 0ffffffffh
mov     eax, ecx
pop     esi
retn
push    ebp
mov     ebp, esp
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
cmp     [ebp+msg], 1
jnz     short loc_277e59c2
push    70h
call    sub_277b35e7
test    eax, eax
pop     ecx
jz      short loc_277e59be
mov     ecx, eax
call    sub_277e5959
test    eax, eax
jnz     short loc_277e59c6
pop     ebp
retn    10h
xor     eax, eax
jmp     short loc_277e59b6
test    eax, eax
jz      short loc_277e59da
push    [ebp+lparam]
mov     edx, [eax]
mov     ecx, eax
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    dword ptr [edx]
jmp     short loc_277e59ba
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     short loc_277e59ba
push    ebp
mov     ebp, esp
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
test    eax, eax
jz      short loc_277e5a17
push    [ebp+arg_c]
mov     ecx, eax
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+hwnd]
call    sub_277e5ba8
pop     ebp
retn    10h
or      eax, 0ffffffffh
jmp     short loc_277e5a13
push    ebp
mov     ebp, esp
push    ecx
push    esi
push    edi
mov     edi, [ebp+msg]
mov     esi, ecx
xor     ecx, ecx
cmp     edi, 0fh
mov     [ebp+var_4], ecx
ja      short loc_277e5a9e
jz      loc_277e5aca
mov     eax, edi
dec     eax
jz      short loc_277e5a77
dec     eax
jz      short loc_277e5a63
sub     eax, 3
jnz     loc_277e5aec
mov     ecx, [ebp+lparam]
mov     eax, [esi]
shr     ecx, 10h
movsx   ecx, cx
push    ecx
movsx   ecx, word ptr [ebp+lparam]
push    ecx
mov     ecx, esi
call    dword ptr [eax+10h]
mov     eax, [ebp+var_4]
jmp     short loc_277e5a98
push    ecx
push    ecx
push    [ebp+hwnd]
call    ds:setwindowlonga
push    esi
call    sub_277b221b
pop     ecx
jmp     short loc_277e5a5e
push    esi
push    ecx
push    [ebp+hwnd]
call    ds:setwindowlonga
push    [ebp+lparam]
lea     eax, [esi+4]
push    [ebp+hwnd]
push    eax
call    sub_277b6303
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+0ch]
pop     edi
pop     esi
leave
retn    10h
mov     eax, edi
sub     eax, 4eh
jz      loc_277e5b3b
sub     eax, 7
jz      short loc_277e5b2a
sub     eax, 28h
jz      short loc_277e5b18
sub     eax, 6
jz      short loc_277e5afe
dec     eax
dec     eax
jz      short loc_277e5ae5
sub     eax, 8ch
jz      short loc_277e5ad6
sub     eax, 207h
jnz     short loc_277e5aec
push    [ebp+wparam]
mov     ecx, esi
call    sub_277e5b68
jmp     short loc_277e5a5e
push    [ebp+lparam]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+wparam]
call    dword ptr [eax+14h]
jmp     short loc_277e5a98
mov     eax, [esi]
mov     ecx, esi
call    dword ptr [eax+4]
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     short loc_277e5a98
mov     eax, [esi]
lea     ecx, [ebp+var_4]
push    ecx
mov     ecx, esi
push    [ebp+lparam]
push    [ebp+wparam]
call    dword ptr [eax+20h]
test    eax, eax
jz      short loc_277e5aec
jmp     loc_277e5a5e
push    [ebp+lparam]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+wparam]
call    dword ptr [eax+1ch]
jmp     loc_277e5a5e
push    [ebp+lparam]
add     esi, 4
push    esi
call    sub_278112e5
jmp     loc_277e5a98
push    [ebp+lparam]
mov     eax, [esi]
mov     ecx, esi
push    [ebp+wparam]
call    dword ptr [eax+18h]
jmp     loc_277e5a98
xor     eax, eax
cmp     [esp+arg_0], 0fffffff0h
jnz     short locret_277e5b65
mov     edx, [esp+arg_4]
mov     eax, [edx+4]
mov     [ecx+0ch], eax
mov     eax, [edx]
xor     eax, [edx+4]
retn    8
push    ebp
mov     ebp, esp
sub     esp, 40h
cmp     [ebp+arg_0], 0
push    esi
mov     esi, ecx
jz      short loc_277e5b84
mov     eax, [esi]
push    [ebp+arg_0]
call    dword ptr [eax+8]
pop     esi
leave
retn    4
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi+4]
call    ds:beginpaint
mov     edx, [esi]
push    eax
mov     ecx, esi
call    dword ptr [edx+8]
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi+4]
call    ds:endpaint
jmp     short loc_277e5b7f
push    ebp
mov     ebp, esp
push    ecx
push    ecx
cmp     [ebp+arg_4], 0
push    esi
mov     esi, ecx
jz      short loc_277e5bcf
cmp     [ebp+arg_4], 4
jnz     short loc_277e5bc7
mov     ecx, esi
call    sub_277e69d2
or      dword ptr [esi+34h], 0ffffffffh
or      eax, 0ffffffffh
pop     esi
leave
retn    10h
mov     eax, [ebp+arg_c]
test    eax, eax
jz      short loc_277e5bc7
mov     ecx, [eax]
mov     eax, [eax+4]
mov     [ebp+points.y], eax
lea     eax, [ebp+points]
push    1
push    eax
push    dword ptr [esi+4]
mov     [ebp+points.x], ecx
push    0
call    ds:mapwindowpoints
push    [ebp+points.y]
mov     ecx, esi
push    [ebp+points.x]
call    sub_277e5eba
test    eax, eax
jl      short loc_277e5bbc
mov     ecx, [esi+30h]
test    cl, 8
jnz     short loc_277e5bc7
or      ecx, 8
push    0
mov     [esi+30h], ecx
mov     [esi+34h], eax
call    ds:getdoubleclicktime
shr     eax, 3
push    eax
push    1
push    dword ptr [esi+4]
call    ds:settimer
jmp     short loc_277e5bc7
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
mov     ebx, ecx
push    esi
push    edi
mov     eax, [ebx+20h]
test    byte ptr [ebx+0ch], 1
mov     [ebp+var_c], eax
mov     eax, [ebx+24h]
mov     [ebp+var_8], eax
jz      short loc_277e5c5c
lea     eax, [ebp+arg_0]
push    eax
call    sub_278119ad
lea     eax, [ebp+var_c]
push    eax
call    sub_277e58d5
mov     eax, [ebp+arg_c]
lea     esi, [ebx+50h]
sub     eax, [ebp+arg_4]
lea     edi, [ebp+arg_0]
movsd
movsd
test    byte ptr [ebx+0ch], 1
movsd
mov     [ebp+var_4], eax
movsd
jz      short loc_277e5c81
lea     eax, [ebp+arg_0]
push    eax
call    sub_278119ad
mov     eax, [ebp+var_4]
mov     esi, [ebp+arg_c]
xor     edi, edi
sub     esi, [ebp+arg_4]
cmp     esi, eax
jge     short loc_277e5c90
mov     [ebp+var_8], edi
mov     ecx, ebx
call    sub_277e5df1
cmp     [ebp+var_8], edi
jle     short loc_277e5ccb
mov     ecx, [ebx+48h]
and     ecx, 0fffffffdh
or      ecx, 1
mov     [ebx+48h], ecx
cmp     [ebx+48h], edi
mov     ecx, [ebp+var_4]
jz      short loc_277e5cb3
sub     ecx, [ebx+60h]
sub     esi, [ebp+var_8]
cmp     esi, ecx
jle     short loc_277e5ce5
mov     eax, [ebx+4ch]
and     al, 0fdh
or      al, 1
mov     [ebx+4ch], eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
test    byte ptr [ebx+0ch], 2
jnz     short loc_277e5ce0
cmp     eax, edi
jz      short loc_277e5cda
cmp     [ebx+34h], edi
jnz     short loc_277e5ce0
or      dword ptr [ebx+48h], 2
jmp     short loc_277e5ca8
mov     [ebx+48h], edi
jmp     short loc_277e5ca8
test    byte ptr [ebx+0ch], 2
jnz     short loc_277e5cfc
cmp     eax, 1
jz      short loc_277e5cf6
cmp     dword ptr [ebx+34h], 1
jnz     short loc_277e5cfc
or      dword ptr [ebx+4ch], 2
jmp     short loc_277e5cc4
mov     [ebx+4ch], edi
jmp     short loc_277e5cc4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, [ebp+lparam]
push    edi
push    esi
mov     ebx, ecx
push    [ebp+wparam]
push    83h
push    dword ptr [ebx+4]
call    ds:defwindowproca
mov     ecx, [ebp+arg_8]
cmp     [ebp+wparam], 0
mov     [ecx], eax
jz      loc_277e5dd9
lea     ecx, [ebx+38h]
mov     eax, [ebx+6ch]
mov     edi, ecx
movsd
movsd
movsd
neg     eax
push    eax
push    eax
push    ecx
movsd
call    ds:inflaterect
mov     ecx, ebx
call    sub_277e6288
mov     esi, [ebp+lparam]
sub     esp, 10h
mov     edi, esp
mov     eax, [ebx+48h]
movsd
movsd
movsd
mov     [ebp+var_8], eax
mov     eax, [ebx+4ch]
mov     ecx, ebx
mov     [ebp+var_4], eax
movsd
call    sub_277e5c2d
mov     eax, [ebx+48h]
cmp     [ebp+var_8], eax
jz      short loc_277e5de3
xor     edi, edi
cmp     [ebp+var_8], edi
jz      short loc_277e5d90
cmp     eax, edi
jz      short loc_277e5d90
mov     eax, [ebx+4ch]
cmp     [ebp+var_4], eax
jz      short loc_277e5d9d
cmp     [ebp+var_4], edi
jz      short loc_277e5d90
cmp     eax, edi
jnz     short loc_277e5d9d
push    5
push    edi
push    edi
push    dword ptr [ebx+4]
call    ds:redrawwindow
test    byte ptr [ebx+0ch], 1
mov     esi, [ebp+lparam]
jz      short loc_277e5dac
push    esi
call    sub_278119ad
cmp     [ebx+48h], edi
jz      short loc_277e5de7
mov     eax, [ebx+60h]
add     [esi+4], eax
cmp     [ebx+4ch], edi
jz      short loc_277e5dec
mov     eax, [ebx+60h]
sub     [esi+0ch], eax
mov     eax, [esi+4]
cmp     [esi+0ch], eax
jge     short loc_277e5dcd
mov     [esi+0ch], eax
test    byte ptr [ebx+0ch], 1
jz      short loc_277e5dd9
push    esi
call    sub_278119ad
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     edi, edi
jmp     short loc_277e5d7f
mov     eax, [ebx+6ch]
jmp     short loc_277e5db4
mov     eax, [ebx+6ch]
jmp     short loc_277e5dbf
push    ebp
mov     ebp, esp
push    ecx
push    ecx
lea     eax, [ebp+point]
push    esi
mov     esi, ecx
push    eax
call    ds:getcursorpos
lea     eax, [ebp+point]
mov     ecx, esi
push    eax
call    sub_277e5e11
pop     esi
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
lea     eax, [ebp+rect]
push    edi
mov     esi, ecx
push    eax
mov     [ebp+var_4], esi
push    dword ptr [esi+4]
call    ds:getwindowrect
mov     ebx, [ebp+arg_0]
lea     eax, [ebp+rect]
push    dword ptr [ebx+4]
push    dword ptr [ebx]
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277e5eb5
lea     eax, [ebp+var_34]
push    0
push    eax
mov     ecx, esi
call    sub_277e6654
mov     esi, eax
lea     edi, [ebp+rect]
movsd
movsd
mov     ecx, [ebp+var_4]
lea     eax, [ebp+var_34]
movsd
push    1
push    eax
movsd
call    sub_277e6654
mov     esi, eax
lea     edi, [ebp+rc]
movsd
push    dword ptr [ebx+4]
lea     eax, [ebp+rect]
movsd
push    dword ptr [ebx]
movsd
movsd
mov     esi, ds:ptinrect
push    eax
call    esi
test    eax, eax
jz      short loc_277e5e97
mov     ecx, [ebp+var_4]
xor     eax, eax
cmp     [ecx+48h], eax
setnz   al
dec     eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    dword ptr [ebx+4]
lea     eax, [ebp+rc]
push    dword ptr [ebx]
push    eax
call    esi
test    eax, eax
jz      short loc_277e5eb5
mov     eax, [ebp+var_4]
mov     eax, [eax+4ch]
neg     eax
sbb     eax, eax
and     eax, 2
jmp     short loc_277e5e8f
or      eax, 0ffffffffh
jmp     short loc_277e5e90
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_0]
push    esi
mov     [ebp+point.x], eax
mov     eax, [ebp+arg_4]
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
mov     esi, ecx
push    eax
push    dword ptr [esi+4]
call    ds:clienttoscreen
lea     eax, [ebp+point]
mov     ecx, esi
push    eax
call    sub_277e5e11
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hdc]
xor     ebx, ebx
mov     esi, ecx
cmp     edi, ebx
mov     [ebp+var_4], ebx
jnz     short loc_277e5f14
push    dword ptr [esi+4]
call    ds:getwindowdc
mov     edi, eax
mov     [ebp+var_4], 1
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+4]
call    ds:getwindowrect
lea     eax, [ebp+rect]
push    2
push    eax
push    dword ptr [esi+4]
push    ebx
call    ds:mapwindowpoints
mov     eax, [ebp+rect.top]
neg     eax
push    eax
mov     eax, [ebp+rect.left]
neg     eax
push    eax
lea     eax, [ebp+rect]
push    eax
call    ds:offsetrect
test    byte ptr [esi+0ch], 1
jz      short loc_277e5f56
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
mov     ecx, [ebp+arg_4]
cmp     [esi+ecx*4+48h], ebx
jnz     short loc_277e5fa3
mov     eax, [esi+6ch]
sub     ecx, ebx
jz      short loc_277e5fa8
dec     ecx
jnz     short loc_277e5f71
mov     ecx, [ebp+rect.bottom]
sub     ecx, eax
mov     [ebp+rect.top], ecx
test    byte ptr [esi+0ch], 1
jz      short loc_277e5f80
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
push    dword ptr [esi+68h]
lea     eax, [ebp+rect]
push    eax
push    edi
call    sub_277be3ec
cmp     [ebp+var_4], ebx
jz      short loc_277e5f9c
push    edi
push    dword ptr [esi+4]
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+60h]
jmp     short loc_277e5f62
mov     ecx, [ebp+rect.top]
add     eax, ecx
mov     [ebp+rect.bottom], eax
jmp     short loc_277e5f71
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
lea     eax, [ebp+rect]
push    edi
mov     esi, ecx
push    eax
xor     edi, edi
push    dword ptr [esi+4]
mov     [ebp+var_4], edi
mov     [ebp+var_8], edi
call    ds:getwindowrect
lea     eax, [ebp+rect]
push    2
push    eax
push    dword ptr [esi+4]
push    edi
call    ds:mapwindowpoints
mov     edi, [ebp+arg_4]
mov     ebx, [esi+edi*4+48h]
test    ebx, ebx
jz      loc_277e60a9
cmp     [ebp+hdc], 0
jnz     short loc_277e600a
push    dword ptr [esi+4]
call    ds:getwindowdc
mov     [ebp+hdc], eax
mov     [ebp+var_8], 1
test    bl, 2
jz      loc_277e60b0
mov     [ebp+var_4], 100h
mov     eax, [ebp+rect.top]
neg     eax
push    eax
mov     eax, [ebp+rect.left]
neg     eax
push    eax
lea     eax, [ebp+rect]
push    eax
call    ds:offsetrect
test    byte ptr [esi+0ch], 1
jz      short loc_277e603f
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
mov     ecx, [esi+0ch]
and     ecx, 1
jz      short loc_277e604b
or      [ebp+var_4], 2
cmp     edi, 1
jnz     short loc_277e6053
or      [ebp+var_4], edi
mov     eax, edi
sub     eax, 0
jz      short loc_277e60d6
dec     eax
jnz     short loc_277e606f
mov     eax, [ebp+rect.bottom]
sub     eax, [esi+60h]
mov     [ebp+rect.top], eax
mov     eax, [esi+6ch]
add     [ebp+rect.left], eax
sub     [ebp+rect.right], eax
test    ecx, ecx
jz      short loc_277e607c
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
push    dword ptr [esi+68h]
push    [ebp+hdc]
call    ds:setbkcolor
push    [ebp+var_4]
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    sub_277e6e76
cmp     [ebp+var_8], 0
jz      short loc_277e60a9
push    [ebp+hdc]
push    dword ptr [esi+4]
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    bl, 4
jz      short loc_277e60c1
mov     [ebp+var_4], 200h
jmp     loc_277e601a
test    bl, 8
jz      loc_277e601a
mov     [ebp+var_4], 1000h
jmp     loc_277e601a
mov     eax, [esi+60h]
add     eax, [ebp+rect.top]
mov     [ebp+rect.bottom], eax
jmp     short loc_277e6066
push    esi
mov     esi, ecx
push    edi
push    dword ptr [esi+4]
call    ds:getwindowdc
mov     edi, eax
push    0
push    edi
mov     ecx, esi
call    sub_277e5eeb
push    0
push    edi
mov     ecx, esi
call    sub_277e5fb2
push    1
push    edi
mov     ecx, esi
call    sub_277e5eeb
push    1
push    edi
mov     ecx, esi
call    sub_277e5fb2
push    edi
push    dword ptr [esi+4]
call    ds:releasedc
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 14h
push    esi
push    edi
mov     edi, [ebp+hdc]
mov     esi, ecx
push    edi
call    ds:savedc
test    byte ptr [ebp+lparam], 2
mov     [ebp+nsaveddc], eax
jz      short loc_277e61af
push    ebx
xor     ebx, ebx
push    ebx
push    edi
mov     ecx, esi
mov     [ebp+hdc], ebx
call    sub_277e5eeb
push    ebx
push    edi
mov     ecx, esi
call    sub_277e5fb2
push    1
push    edi
mov     ecx, esi
call    sub_277e5eeb
push    1
push    edi
mov     ecx, esi
call    sub_277e5fb2
cmp     [esi+48h], ebx
jz      short loc_277e617f
test    byte ptr [esi+0ch], 1
jz      short loc_277e61d4
mov     eax, [esi+60h]
mov     [ebp+hdc], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+4]
call    ds:getclientrect
mov     eax, [ebp+rect.bottom]
mov     ecx, [ebp+rect.right]
add     eax, ebx
sub     eax, [ebp+rect.top]
push    eax
mov     eax, [ebp+hdc]
add     ecx, eax
sub     ecx, [ebp+rect.left]
push    ecx
push    ebx
push    eax
push    edi
call    ds:intersectcliprect
and     [ebp+lparam], 0fffffffdh
pop     ebx
push    [ebp+lparam]
push    edi
push    317h
push    dword ptr [esi+4]
call    ds:defwindowproca
push    [ebp+nsaveddc]
push    edi
call    ds:restoredc
push    1
pop     eax
pop     edi
pop     esi
leave
retn    8
mov     ebx, [esi+60h]
jmp     short loc_277e617f
push    [esp+lparam]
push    [esp+4+wparam]
push    111h
push    dword ptr [ecx+8]
call    ds:sendmessagea
retn    8
push    dword ptr [ecx+14h]
mov     eax, [esp+4+lparam]
push    eax
push    dword ptr [eax+8]
push    0ffffffffh
push    dword ptr [ecx+8]
call    sub_27811d28
retn    8
push    ebx
push    esi
push    [esp+8+arg_4]
mov     esi, ecx
push    [esp+0ch+arg_0]
call    sub_277e5b4d
mov     ebx, eax
test    bl, 4
jz      short loc_277e6242
mov     eax, [esi+0ch]
and     eax, 4
jz      short loc_277e6255
cmp     dword ptr [esi+64h], 0
jnz     short loc_277e6255
push    1
push    offset sub_277e59ee
push    dword ptr [esi+4]
call    sub_27812b44
mov     [esi+64h], eax
test    ebx, ebx
jz      short loc_277e624e
push    dword ptr [esi+4]
call    sub_27811c84
mov     eax, ebx
pop     esi
pop     ebx
retn    8
test    eax, eax
jnz     short loc_277e6242
mov     eax, [esi+64h]
test    eax, eax
jz      short loc_277e6242
push    eax
call    sub_27812b8a
jmp     short loc_277e6242
push    esi
mov     esi, ecx
test    byte ptr [esi+0ch], 4
jz      short loc_277e6283
push    1
push    offset sub_277e59ee
push    dword ptr [esi+4]
call    sub_27812b44
mov     [esi+64h], eax
push    1
pop     eax
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, ecx
cmp     dword ptr [ebx+1ch], 0
jz      loc_277e632e
mov     eax, [ebx+0ch]
push    edi
push    esi
lea     esi, [ebx+38h]
lea     edi, [ebp+rect]
and     al, 1
movsd
movsd
neg     al
sbb     eax, eax
lea     ecx, [ebp+lparam]
movsd
inc     eax
push    ecx
inc     eax
push    0fffffc7ah
movsd
mov     [ebp+var_1c], eax
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
mov     [ebp+var_18], eax
mov     eax, [ebp+rect.bottom]
sub     eax, [ebp+rect.top]
mov     [ebp+var_14], eax
lea     eax, [ebx+4]
push    eax
call    sub_277b9838
test    byte ptr [ebx+0ch], 1
jz      short loc_277e6331
mov     edi, [ebp+rect.bottom]
mov     esi, [ebp+var_18]
sub     edi, [ebp+rect.top]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx+1ch]
call    ds:getwindowrect
lea     eax, [ebp+rect]
push    2
push    eax
push    dword ptr [ebx+4]
push    0
call    ds:mapwindowpoints
test    byte ptr [ebx+0ch], 1
mov     eax, [ebx+6ch]
jz      short loc_277e633c
mov     [ebp+rect.top], eax
mov     eax, [ebp+rect.left]
add     esi, eax
mov     eax, [ebp+rect.top]
add     edi, eax
mov     [ebp+rect.right], esi
mov     [ebp+rect.bottom], edi
lea     edi, [ebx+50h]
lea     esi, [ebp+rect]
movsd
movsd
movsd
movsd
pop     esi
pop     edi
pop     ebx
leave
retn
mov     esi, [ebp+rect.right]
mov     edi, [ebp+var_14]
sub     esi, [ebp+rect.left]
jmp     short loc_277e62e8
mov     [ebp+rect.left], eax
jmp     short loc_277e6312
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     dword ptr [ecx+1ch], 0
jz      short locret_277e6366
push    edi
push    esi
lea     esi, [ecx+50h]
lea     edi, [ebp+var_10]
movsd
movsd
movsd
lea     eax, [ebp+var_10]
push    0
push    eax
movsd
call    sub_277e636a
pop     esi
pop     edi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [ebp+rc]
mov     ebx, ecx
movsd
movsd
movsd
movsd
lea     esi, [ebx+38h]
lea     edi, [ebp+var_28]
movsd
mov     eax, [ebx+20h]
movsd
test    byte ptr [ebx+0ch], 1
movsd
mov     [ebp+var_8], eax
mov     eax, [ebx+24h]
mov     [ebp+var_4], eax
movsd
jz      short loc_277e63b6
lea     eax, [ebp+var_8]
push    eax
call    sub_277e58d5
lea     eax, [ebp+rc]
push    eax
call    sub_278119ad
lea     eax, [ebp+var_28]
push    eax
call    sub_278119ad
mov     eax, [ebp+rc.bottom]
mov     edi, [ebp+var_1c]
mov     ecx, [ebp+rc.top]
sub     edi, [ebp+var_24]
mov     esi, [ebp+var_4]
mov     edx, eax
sub     edx, ecx
cmp     edx, edi
jge     short loc_277e63da
mov     eax, [ebp+var_1c]
add     eax, ecx
sub     eax, [ebp+var_24]
xor     esi, esi
mov     [ebp+rc.bottom], eax
mov     edi, [ebp+var_24]
mov     edx, [ebx+60h]
add     eax, edi
sub     eax, ecx
sub     eax, [ebp+var_1c]
add     eax, edx
test    esi, esi
jge     short loc_277e645b
xor     esi, esi
test    byte ptr [ebx+48h], 2
mov     eax, esi
jz      short loc_277e63fa
lea     eax, [esi+edx]
add     eax, ecx
neg     eax
push    eax
lea     eax, [ebp+rc]
push    0
push    eax
call    ds:offsetrect
test    byte ptr [ebx+0ch], 1
mov     [ebp+var_4], esi
jz      short loc_277e6426
lea     eax, [ebp+var_8]
push    eax
call    sub_277e58d5
lea     eax, [ebp+rc]
push    eax
call    sub_278119ad
mov     eax, [ebp+var_8]
push    [ebp+uflags]
mov     [ebx+20h], eax
mov     eax, [ebp+var_4]
mov     [ebx+24h], eax
mov     eax, [ebp+rc.bottom]
sub     eax, [ebp+rc.top]
push    eax
mov     eax, [ebp+rc.right]
sub     eax, [ebp+rc.left]
push    eax
push    [ebp+rc.top]
push    [ebp+rc.left]
push    0
push    dword ptr [ebx+1ch]
call    ds:setwindowpos
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     esi, eax
jle     short loc_277e63ef
mov     esi, eax
jmp     short loc_277e63ef
test    byte ptr [ecx+0ch], 1
jz      short loc_277e647a
mov     eax, [esp+arg_0]
neg     eax
sbb     eax, eax
and     eax, 4
add     eax, 4
retn    4
xor     eax, eax
cmp     [esp+arg_0], eax
setnz   al
inc     eax
jmp     short locret_277e6477
push    ebp
mov     ebp, esp
sub     esp, 48h
mov     eax, [ebp+arg_0]
push    ebx
mov     ebx, ecx
push    esi
xor     esi, esi
test    byte ptr [ebx+eax*4+48h], 2
mov     [ebp+var_8], esi
mov     [ebp+dy], esi
jnz     loc_277e657e
push    edi
mov     edi, ds:getkeystate
push    11h
call    edi
test    ax, ax
jge     short loc_277e64b9
push    2
pop     esi
push    10h
call    edi
test    ax, ax
jge     short loc_277e64c5
or      esi, 1
push    12h
call    edi
test    ax, ax
jge     short loc_277e64d1
or      esi, 4
push    [ebp+arg_0]
mov     ecx, ebx
call    sub_277e6463
mov     [ebp+arg_0], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx+4]
call    ds:getclientrect
mov     [ebp+var_3c], si
lea     esi, [ebp+rect]
lea     edi, [ebp+var_3a]
mov     eax, [ebx+20h]
movsd
movsd
movsd
test    byte ptr [ebx+0ch], 1
movsd
mov     edi, [ebp+arg_0]
mov     [ebp+var_26], eax
mov     eax, [ebx+24h]
mov     [ebp+var_2a], edi
mov     [ebp+var_22], eax
jz      short loc_277e6584
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
mov     [ebp+var_1e], eax
lea     eax, [ebp+lparam]
push    eax
lea     esi, [ebx+4]
push    0fffffc7bh
push    esi
call    sub_277b9838
cmp     edi, 2
jnz     short loc_277e658c
mov     eax, [ebp+var_1e]
add     [ebx+24h], eax
neg     eax
mov     [ebp+dy], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx+1ch]
call    ds:getwindowrect
lea     eax, [ebp+rect]
push    2
push    eax
push    dword ptr [esi]
push    0
call    ds:mapwindowpoints
push    [ebp+dy]
lea     eax, [ebp+rect]
push    [ebp+var_8]
push    eax
call    ds:offsetrect
push    dword ptr [esi]
call    sub_27811c84
lea     eax, [ebp+rect]
push    0
push    eax
mov     ecx, ebx
call    sub_277e636a
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [ebp+rect.bottom]
sub     eax, [ebp+rect.top]
jmp     short loc_277e6517
cmp     edi, 1
jnz     short loc_277e6599
mov     eax, [ebp+var_1e]
sub     [ebx+24h], eax
jmp     short loc_277e6539
cmp     edi, 8
jnz     short loc_277e65ab
mov     eax, [ebp+var_1e]
add     [ebx+20h], eax
neg     eax
mov     [ebp+var_8], eax
jmp     short loc_277e653c
cmp     edi, 4
jnz     short loc_277e653c
mov     eax, [ebp+var_1e]
sub     [ebx+20h], eax
jmp     short loc_277e65a6
mov     eax, [esp+arg_4]
push    esi
shr     eax, 10h
movsx   eax, ax
push    edi
push    eax
movsx   eax, word ptr [esp+0ch+arg_4]
mov     esi, ecx
push    eax
call    sub_277e5eba
cmp     [esp+8+arg_0], 201h
mov     edi, eax
jnz     short loc_277e6624
test    edi, edi
jl      short loc_277e661f
push    dword ptr [esi+4]
call    ds:setcapture
or      dword ptr [esi+30h], 10h
push    edi
mov     [esi+34h], edi
or      dword ptr [esi+edi*4+48h], 4
push    0
mov     ecx, esi
call    sub_277e5fb2
push    edi
mov     ecx, esi
call    sub_277e6486
push    0
call    ds:getdoubleclicktime
shr     eax, 1
push    eax
push    1
push    dword ptr [esi+4]
call    ds:settimer
pop     edi
pop     esi
retn    8
mov     eax, [esi+34h]
test    eax, eax
jl      short loc_277e6640
and     dword ptr [esi+eax*4+48h], 0fffffffbh
push    dword ptr [esi+34h]
lea     eax, [esi+eax*4+48h]
mov     ecx, esi
push    0
call    sub_277e5fb2
mov     ecx, esi
call    sub_277e69d2
test    edi, edi
jge     short loc_277e661f
mov     ecx, esi
call    sub_277e66c3
jmp     short loc_277e661f
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
lea     eax, [ebp+rect]
push    edi
mov     esi, ecx
push    eax
push    dword ptr [esi+4]
call    ds:getwindowrect
test    byte ptr [esi+0ch], 1
jz      short loc_277e667a
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
mov     eax, [ebp+arg_4]
sub     eax, 0
jz      short loc_277e66b8
dec     eax
jnz     short loc_277e6697
mov     eax, [ebp+rect.bottom]
sub     eax, [esi+60h]
mov     [ebp+rect.top], eax
mov     eax, [esi+6ch]
add     [ebp+rect.left], eax
sub     [ebp+rect.right], eax
test    byte ptr [esi+0ch], 1
jz      short loc_277e66a6
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
mov     eax, [ebp+arg_0]
lea     esi, [ebp+rect]
mov     edi, eax
movsd
movsd
movsd
movsd
pop     edi
pop     esi
leave
retn    8
mov     eax, [esi+60h]
add     eax, [ebp+rect.top]
mov     [ebp+rect.bottom], eax
jmp     short loc_277e668e
push    ebx
push    esi
mov     esi, ecx
lea     ebx, [esi+4]
call    ds:getcapture
cmp     eax, [ebx]
jnz     short loc_277e66da
push    ebx
call    sub_277bf76d
cmp     dword ptr [esi+34h], 0
jl      short loc_277e66e4
or      dword ptr [esi+34h], 0ffffffffh
mov     eax, [esi+48h]
test    al, 0ch
jz      short loc_277e66fb
and     al, 0f3h
push    0
push    0
mov     ecx, esi
mov     [esi+48h], eax
call    sub_277e5fb2
mov     eax, [esi+4ch]
test    al, 0ch
jz      short loc_277e6712
and     al, 0f3h
push    1
push    0
mov     ecx, esi
mov     [esi+4ch], eax
call    sub_277e5fb2
mov     ecx, esi
call    sub_277e69d2
and     dword ptr [esi+30h], 0ffffffefh
test    byte ptr [esi+48h], 2
jnz     short loc_277e6729
test    byte ptr [esi+4ch], 2
jz      short loc_277e6730
push    dword ptr [ebx]
call    sub_27811c84
pop     esi
pop     ebx
retn
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, ecx
mov     ecx, [ebp+arg_4]
push    esi
movsx   eax, cx
shr     ecx, 10h
cmp     eax, [ebx+28h]
push    edi
movsx   ecx, cx
mov     [ebp+point.x], eax
mov     [ebp+point.y], ecx
jnz     short loc_277e675e
cmp     ecx, [ebx+2ch]
jz      loc_277e67ff
mov     [ebx+28h], eax
mov     [ebx+2ch], ecx
push    ecx
push    eax
mov     ecx, ebx
call    sub_277e5eba
xor     edi, edi
mov     esi, eax
cmp     [ebx+34h], edi
mov     [ebp+arg_4], esi
jl      loc_277e680b
lea     eax, [ebp+point]
push    eax
push    dword ptr [ebx+4]
call    ds:clienttoscreen
push    dword ptr [ebx+34h]
lea     eax, [ebp+var_28]
mov     ecx, ebx
push    eax
call    sub_277e6654
mov     esi, eax
lea     edi, [ebp+rc]
movsd
movsd
mov     eax, [ebx+34h]
push    [ebp+point.y]
movsd
push    [ebp+point.x]
movsd
mov     esi, [ebx+eax*4+48h]
lea     eax, [ebp+rc]
push    eax
call    ds:ptinrect
test    eax, eax
mov     eax, [ebx+34h]
lea     eax, [ebx+eax*4+48h]
jz      short loc_277e6806
or      dword ptr [eax], 4
mov     eax, [ebx+34h]
cmp     esi, [ebx+eax*4+48h]
jz      short loc_277e67d9
push    eax
push    0
mov     ecx, ebx
call    sub_277e5fb2
call    ds:getcapture
cmp     eax, [ebx+4]
jnz     short loc_277e67ff
test    [ebp+arg_0], 1
jnz     short loc_277e67ff
test    byte ptr [ebx+0ch], 2
jnz     short loc_277e67ff
mov     eax, [ebp+arg_4]
cmp     eax, [ebx+34h]
jz      short loc_277e67ff
mov     ecx, ebx
call    sub_277e66c3
pop     edi
pop     esi
pop     ebx
leave
retn    8
and     dword ptr [eax], 0fffffffbh
jmp     short loc_277e67c6
cmp     esi, edi
jl      short loc_277e67f8
push    dword ptr [ebx+4]
call    ds:setcapture
or      dword ptr [ebx+esi*4+48h], 8
mov     ecx, [ebx+esi*4+48h]
test    byte ptr [ebx+0ch], 2
lea     eax, [ebx+esi*4+48h]
jz      short loc_277e6830
or      ecx, 4
mov     [eax], ecx
test    [ebp+arg_0], 1
jz      short loc_277e683b
cmp     [ebx+34h], edi
jl      short loc_277e6841
test    byte ptr [ebx+0ch], 2
jz      short loc_277e685a
push    edi
mov     [ebx+34h], esi
call    ds:getdoubleclicktime
shr     eax, 3
push    eax
push    1
push    dword ptr [ebx+4]
call    ds:settimer
push    esi
push    edi
mov     ecx, ebx
call    sub_277e5fb2
jmp     short loc_277e67ff
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_4]
push    esi
mov     esi, ecx
push    edi
and     dword ptr [esi+20h], 0
and     dword ptr [esi+24h], 0
and     dword ptr [esi+30h], 0fffffffeh
mov     [esi+1ch], eax
lea     edi, [esi+4]
call    ds:getcapture
cmp     eax, [edi]
jnz     short loc_277e6894
push    edi
call    sub_277bf76d
or      dword ptr [esi+34h], 0ffffffffh
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getclientrect
mov     ecx, esi
call    sub_277e68b2
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     ebx, ecx
push    edi
push    dword ptr [ebx+4]
call    sub_27811c84
lea     esi, [ebx+50h]
lea     edi, [ebp+var_10]
movsd
movsd
and     dword ptr [ebx+30h], 0fffffffeh
lea     eax, [ebp+var_10]
movsd
push    0
push    eax
mov     ecx, ebx
movsd
call    sub_277e636a
pop     edi
pop     esi
pop     ebx
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, ecx
push    esi
push    edi
lea     esi, [ebx+50h]
lea     edi, [ebp+var_10]
movsd
movsd
test    byte ptr [ebx+0ch], 1
movsd
movsd
jz      short loc_277e6912
lea     eax, [ebp+var_10]
push    eax
call    sub_278119ad
lea     eax, [ebx+20h]
push    eax
call    sub_277e58d5
mov     ecx, [ebp+arg_0]
test    ecx, ecx
jge     short loc_277e691b
xor     ecx, ecx
mov     eax, [ebp+var_4]
sub     eax, [ebp+var_c]
test    ecx, ecx
jl      short loc_277e6955
cmp     ecx, eax
jg      short loc_277e6955
cmp     [ebx+24h], ecx
jz      short loc_277e6955
test    byte ptr [ebx+0ch], 1
mov     [ebx+24h], ecx
jz      short loc_277e6940
lea     eax, [ebx+20h]
push    eax
call    sub_277e58d5
push    dword ptr [ebx+4]
call    sub_27811c84
lea     eax, [ebp+var_10]
push    0
push    eax
mov     ecx, ebx
call    sub_277e636a
pop     edi
pop     esi
pop     ebx
leave
retn    4
test    byte ptr [ecx+0ch], 1
jz      short loc_277e6966
mov     eax, [ecx+20h]
retn
mov     eax, [ecx+24h]
retn
mov     edx, [esp+arg_0]
xor     eax, eax
test    edx, edx
jz      short loc_277e6979
cmp     edx, 1
jnz     short locret_277e697d
mov     eax, [ecx+edx*4+48h]
retn    4
mov     eax, [esp+arg_0]
push    esi
dec     eax
push    edi
mov     esi, ecx
jnz     short loc_277e69be
cmp     dword ptr [esi+34h], 0
jl      short loc_277e69be
push    0
call    ds:getdoubleclicktime
shr     eax, 3
push    eax
push    1
push    dword ptr [esi+4]
call    ds:settimer
mov     edi, [esi+34h]
mov     ecx, esi
call    sub_277e5df1
cmp     eax, edi
jnz     short loc_277e69c3
push    edi
mov     ecx, esi
call    sub_277e6486
pop     edi
pop     esi
retn    4
test    byte ptr [esi+30h], 10h
jnz     short loc_277e69be
mov     ecx, esi
call    sub_277e66c3
jmp     short loc_277e69be
push    esi
mov     esi, ecx
push    1
push    dword ptr [esi+4]
call    ds:killtimer
and     dword ptr [esi+30h], 0fffffff7h
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     esi, [ebp+msg]
push    edi
cmp     esi, 7
mov     ebx, ecx
ja      short loc_277e6a34
jz      short loc_277e6a24
mov     eax, esi
dec     eax
dec     eax
jnz     short def_277e6c8f
mov     eax, [ebx+64h]
test    eax, eax
jz      short def_277e6c8f
push    eax
call    sub_27812b8a
push    [ebp+lparam]
mov     ecx, ebx
push    [ebp+wparam]
push    esi
push    [ebp+hwnd]
call    sub_277e5a1c
jmp     loc_277e6ad3
push    dword ptr [ebx+1ch]
call    ds:setfocus
xor     eax, eax
jmp     loc_277e6ad3
cmp     esi, 1ah
ja      loc_277e6b06
jz      loc_277e6ada
mov     eax, esi
sub     eax, 14h
jz      short loc_277e6a6a
dec     eax
jnz     short def_277e6c8f
test    byte ptr [ebx+30h], 4
jnz     short def_277e6c8f
call    sub_277b344b
mov     eax, color
push    dword ptr [ebx+4]
mov     [ebx+68h], eax
call    sub_27811c84
jmp     short def_277e6c8f
push    [ebp+wparam]
push    dword ptr [ebx+4]
call    sub_2781185f
cmp     dword ptr [ebx+6ch], 0
jz      short loc_277e6ad0
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx+4]
call    ds:getclientrect
lea     esi, [ebp+rect]
lea     edi, [ebp+rect]
movsd
mov     eax, [ebx+6ch]
mov     ecx, [ebp+rect.left]
movsd
push    dword ptr [ebx+68h]
lea     eax, [ecx+eax+1]
movsd
movsd
mov     [ebp+rect.right], eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    sub_277be3ec
lea     esi, [ebp+rect]
lea     edi, [ebp+rect]
movsd
mov     eax, [ebp+rect.right]
push    dword ptr [ebx+68h]
movsd
sub     eax, [ebx+6ch]
movsd
movsd
mov     [ebp+rect.left], eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    sub_277be3ec
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    [ebp+wparam]
call    sub_277b3170
mov     eax, dword_2782a08c
push    4
pop     ecx
lea     eax, [eax+eax*2]
push    0ch
cdq
idiv    ecx
pop     ecx
cmp     eax, ecx
mov     [ebx+60h], eax
jge     def_277e6c8f
mov     [ebx+60h], ecx
jmp     def_277e6c8f
mov     ecx, 0c9h
cmp     esi, ecx
ja      short loc_277e6b51
jz      short loc_277e6b45
cmp     esi, 84h
jnz     def_277e6c8f
mov     eax, [ebp+lparam]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect.right]
mov     [ebp+rect.right], ecx
push    eax
mov     ecx, ebx
call    sub_277e5e11
inc     eax
neg     eax
sbb     eax, eax
and     eax, 2
dec     eax
jmp     short loc_277e6ad3
mov     ecx, ebx
call    sub_277e68b2
jmp     def_277e6c8f
mov     eax, 200h
cmp     esi, eax
ja      loc_277e6be9
jz      short loc_277e6b7b
cmp     esi, 113h
jnz     def_277e6c8f
push    [ebp+wparam]
mov     ecx, ebx
call    sub_277e6980
jmp     loc_277e6a2d
test    byte ptr [ebx+30h], 2
jz      short loc_277e6bd7
cmp     dword ptr [ebx+1ch], 0
jz      short loc_277e6bd7
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx+4]
call    ds:getclientrect
mov     eax, [ebp+lparam]
movsx   esi, word ptr [ebp+lparam]
shr     eax, 10h
movsx   edi, ax
push    edi
lea     eax, [ebp+rect]
push    esi
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277e6bd4
add     edi, [ebx+24h]
add     esi, [ebx+20h]
movzx   eax, di
movzx   ecx, si
shl     eax, 10h
or      eax, ecx
push    eax
push    [ebp+wparam]
push    200h
push    dword ptr [ebx+1ch]
call    ds:sendmessagea
mov     esi, [ebp+msg]
push    [ebp+lparam]
mov     ecx, ebx
push    [ebp+wparam]
call    sub_277e6733
jmp     def_277e6c8f
mov     eax, 2a3h
cmp     esi, eax
ja      short loc_277e6c32
jz      short loc_277e6c26
cmp     esi, 201h
jb      def_277e6c8f
cmp     esi, 202h
ja      def_277e6c8f
test    byte ptr [ebx+0ch], 2
jnz     def_277e6c8f
push    [ebp+lparam]
mov     ecx, ebx
push    esi
call    sub_277e65b8
jmp     def_277e6c8f
mov     ecx, ebx
call    sub_277e66c3
jmp     def_277e6c8f
mov     eax, 1401h
cmp     esi, eax
ja      short loc_277e6c6d
jz      short loc_277e6c5b
cmp     esi, 317h
jnz     def_277e6c8f
push    [ebp+lparam]
mov     ecx, ebx
push    [ebp+wparam]
call    sub_277e6125
jmp     loc_277e6ad3
push    [ebp+lparam]
mov     ecx, ebx
push    [ebp+hwnd]
call    sub_277e6865
jmp     def_277e6c8f
mov     eax, 2004h
cmp     esi, eax
ja      def_277e6c8f
jz      loc_277e6d65
lea     eax, [esi-1402h]
cmp     eax, 0ah
ja      def_277e6c8f
jmp     ds:jpt_277e6c8f[eax*4]
mov     eax, [ebx+30h]
test    al, 1
jnz     def_277e6c8f
push    [ebp+lparam]
or      al, 1
mov     [ebx+30h], eax
push    [ebp+wparam]
push    ecx
push    [ebp+hwnd]
call    ds:postmessagea
jmp     def_277e6c8f
mov     ecx, [ebx+30h]
xor     eax, eax
cmp     [ebp+wparam], eax
setnz   al
and     eax, 1
and     ecx, 0fffffffdh
shl     eax, 1
or      eax, ecx
mov     [ebx+30h], eax
jmp     def_277e6c8f
mov     eax, [ebp+lparam]
mov     esi, [ebx+68h]
cmp     eax, 0ff000000h
jnz     short loc_277e6ced
push    0fh
call    ds:getsyscolor
or      dword ptr [ebx+30h], 4
mov     [ebx+68h], eax
push    dword ptr [ebx+4]
call    sub_27811c84
mov     eax, esi
jmp     loc_277e6ad3
mov     eax, [ebx+68h]
jmp     loc_277e6ad3
mov     eax, [ebp+lparam]
mov     esi, [ebx+6ch]
mov     [ebx+6ch], eax
jmp     short loc_277e6cf4
mov     eax, [ebx+6ch]
jmp     loc_277e6ad3
push    [ebp+lparam]
mov     ecx, ebx
call    sub_277e68e5
jmp     def_277e6c8f
mov     ecx, ebx
call    sub_277e695c
jmp     loc_277e6ad3
mov     eax, [ebp+lparam]
mov     esi, [ebx+60h]
push    0ch
mov     [ebx+60h], eax
pop     ecx
cmp     eax, ecx
jge     short loc_277e6cf4
mov     [ebx+60h], ecx
jmp     short loc_277e6cf4
mov     eax, [ebx+60h]
jmp     loc_277e6ad3
push    [ebp+lparam]
mov     ecx, ebx
call    sub_277e696a
jmp     loc_277e6ad3
cmp     dword ptr [ebx+64h], 0
jnz     short loc_277e6d7d
push    0
push    offset sub_277e59ee
push    dword ptr [ebx+4]
call    sub_27812b44
mov     [ebx+64h], eax
push    [ebp+lparam]
push    dword ptr [ebx+64h]
call    sub_27812b9a
jmp     def_277e6c8f
mov     ecx, [esp+color]
push    ebx
mov     ebx, [esp+4+arg_8]
push    ebp
mov     eax, [ecx+8]
mov     ebp, [ecx+4]
push    esi
push    edi
mov     edi, [ecx]
mov     ecx, [ecx+0ch]
sub     eax, edi
sub     ecx, ebp
and     ebx, 100h
cmp     eax, ecx
mov     [esp+10h+color], eax
jl      short loc_277e6de6
mov     [esp+10h+color], ecx
sub     eax, [esp+10h+color]
cdq
sub     eax, edx
mov     esi, eax
mov     eax, ecx
sub     eax, [esp+10h+color]
sar     esi, 1
cdq
sub     eax, edx
add     esi, edi
mov     edi, eax
sar     edi, 1
add     edi, ebp
test    ebx, ebx
jz      short loc_277e6e72
push    14h
call    ds:getsyscolor
push    eax
mov     ebp, [esp+14h+hdc]
push    ebp
call    ds:settextcolor
test    byte ptr [esp+10h+arg_8+1], 3
mov     [esp+10h+color], eax
jz      short loc_277e6e27
inc     esi
inc     edi
lea     eax, [esp+10h+string]
push    1
push    eax
push    edi
push    esi
push    ebp
call    ds:textouta
test    ebx, ebx
jz      short loc_277e6e5d
push    10h
call    ds:getsyscolor
push    eax
push    ebp
call    ds:settextcolor
lea     eax, [esp+10h+string]
push    1
dec     edi
push    eax
dec     esi
push    edi
push    esi
push    ebp
call    ds:textouta
push    [esp+10h+color]
push    ebp
call    ds:settextcolor
push    1
pop     eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    10h
push    12h
jmp     short loc_277e6e08
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     bl, byte ptr [ebp+arg_8]
and     bl, 2
push    esi
neg     bl
push    edi
lea     eax, [ebp+rcdst]
push    [ebp+lprcsrc]
sbb     bl, bl
xor     esi, esi
and     bl, 0feh
push    eax
add     bl, 35h
xor     edi, edi
mov     [ebp+string], bl
call    ds:copyrect
test    byte ptr [ebp+arg_8+1], 12h
jz      short loc_277e6f0a
push    [ebp+hdc]
mov     [ebp+color], 1
call    ds:getbkcolor
push    10h
mov     edi, eax
call    ds:getsyscolor
cmp     edi, eax
jnz     loc_277e6fd8
mov     edi, ds:getsyscolor
push    0fh
call    edi
push    12h
mov     [ebp+var_14], eax
call    edi
mov     [ebp+var_10], eax
lea     eax, [ebp+color]
push    eax
mov     eax, [ebp+arg_8]
and     ax, 200h
push    200fh
neg     ax
sbb     eax, eax
and     eax, 4
add     eax, 4
push    eax
lea     eax, [ebp+rcdst]
push    eax
push    [ebp+hdc]
call    sub_27811a00
push    1
pop     edi
test    byte ptr [ebp+arg_8+1], 8
jnz     short loc_277e6f26
push    [ebp+hdc]
call    ds:getbkcolor
push    eax
lea     eax, [ebp+rcdst]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
cmp     edi, esi
jnz     short loc_277e6f44
mov     eax, y
neg     eax
push    eax
mov     eax, w
neg     eax
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:inflaterect
mov     eax, [ebp+rcdst.right]
mov     ecx, [ebp+rcdst.bottom]
sub     eax, [ebp+rcdst.left]
sub     ecx, [ebp+rcdst.top]
cmp     eax, ecx
jl      short loc_277e6f56
mov     eax, ecx
cmp     eax, esi
jle     short loc_277e6fd1
push    offset amarlett_0
push    esi
push    esi
push    esi
push    esi
push    2
push    esi
push    esi
push    esi
push    190h
push    esi
push    esi
push    esi
push    eax
call    ds:createfonta
mov     esi, ds:setbkmode
push    1
push    [ebp+hdc]
mov     [ebp+lprcsrc], eax
call    esi
push    [ebp+lprcsrc]
mov     edi, ds:selectobject
mov     [ebp+mode], eax
push    [ebp+hdc]
call    edi
test    byte ptr [ebp+arg_8], 1
mov     [ebp+h], eax
jz      short loc_277e6fa6
inc     bl
mov     [ebp+string], bl
push    dword ptr [ebp+string]
lea     eax, [ebp+rcdst]
push    [ebp+arg_8]
push    eax
push    [ebp+hdc]
call    sub_277e6db9
push    [ebp+mode]
push    [ebp+hdc]
call    esi
push    [ebp+h]
push    [ebp+hdc]
call    edi
push    [ebp+lprcsrc]
call    ds:deleteobject
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, 0ff000000h
mov     [ebp+var_10], eax
mov     [ebp+var_14], eax
jmp     loc_277e6edf
push    ebp
mov     ebp, esp
sub     esp, 28h
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
push    eax
push    offset amsvblibsysipad
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277e7059
push    7f01h
push    eax
mov     [ebp+wndclass.lpszclassname], offset amsvblibsysipad_0
call    ds:loadcursora
and     [ebp+wndclass.lpszmenuname], 0
and     [ebp+wndclass.hicon], 0
and     [ebp+wndclass.cbclsextra], 0
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.style], 0bh
push    eax
mov     [ebp+wndclass.lpfnwndproc], offset sub_277e71b8
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.hbrbackground], 6
call    ds:registerclassa
movzx   eax, ax
pop     edi
leave
retn    4
push    1
pop     eax
jmp     short loc_277e7054
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_4]
mov     edx, [ebp+arg_0]
push    ebx
xor     ebx, ebx
mov     [eax], ebx
mov     [eax+4], ebx
mov     [eax+8], ebx
mov     [eax+0ch], ebx
cmp     [edx], bl
mov     [ebp+var_4], ebx
jz      short loc_277e70a7
push    edi
push    esi
xor     esi, esi
mov     ecx, eax
mov     al, [edx]
cmp     al, 30h
jl      short loc_277e70ac
cmp     al, 39h
jg      short loc_277e70ac
mov     eax, [ecx]
lea     eax, [eax+eax*4]
shl     eax, 1
mov     [ecx], eax
movsx   edi, byte ptr [edx]
lea     eax, [eax+edi-30h]
mov     [ecx], eax
inc     edx
cmp     [ebp+var_4], ebx
jz      short loc_277e7083
pop     esi
pop     edi
pop     ebx
leave
retn    8
inc     esi
add     ecx, 4
xor     eax, eax
cmp     esi, 4
setz    al
mov     [ebp+var_4], eax
jmp     short loc_277e709f
push    ebp
mov     ebp, esp
sub     esp, 1ch
xor     eax, eax
push    ebx
cmp     [ebp+h], eax
push    esi
mov     esi, [ebp+hdc]
push    edi
mov     [ebp+var_4], eax
jz      loc_277e71a3
mov     [ebp+var_4], 1
push    dword ptr [esi+4]
call    ds:getdc
push    [ebp+h]
mov     ebx, ds:selectobject
mov     [ebp+hdc], eax
push    eax
call    ebx
lea     edi, [esi+0ch]
mov     [ebp+var_8], eax
push    edi
push    2eh
push    2eh
push    [ebp+hdc]
call    ds:getcharwidtha
push    [ebp+var_8]
push    [ebp+hdc]
call    ebx
push    [ebp+hdc]
push    dword ptr [esi+4]
call    ds:releasedc
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+4]
call    ds:getclientrect
mov     eax, [ebp+h]
mov     ecx, [ebp+rect.right]
mov     [esi+14h], eax
mov     eax, [edi]
inc     eax
mov     [ebp+hdc], 3
lea     ebx, [esi+18h]
mov     [ebp+var_8], 4
lea     eax, [eax+eax*2]
sub     ecx, eax
sub     ecx, [ebp+rect.left]
shr     ecx, 2
mov     [esi+8], ecx
mov     eax, [ebx]
cmp     [ebp+var_4], 0
mov     [ebp+hwnd], eax
jz      short loc_277e7170
push    [ebp+lparam]
push    [ebp+h]
push    30h
push    eax
call    ds:sendmessagea
mov     eax, [ebp+rect.bottom]
push    10h
sub     eax, [ebp+rect.top]
push    eax
push    dword ptr [esi+8]
push    1
push    [ebp+hdc]
push    0
push    [ebp+hwnd]
call    ds:setwindowpos
mov     eax, [esi+8]
add     ebx, 0ch
add     eax, [edi]
add     [ebp+hdc], eax
dec     [ebp+var_8]
jnz     short loc_277e7156
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    eax
push    eax
push    31h
push    dword ptr [esi+4]
call    ds:sendmessagea
mov     [ebp+h], eax
jmp     loc_277e70de
push    ebp
mov     ebp, esp
sub     esp, 7ch
push    ebx
push    esi
push    edi
mov     edi, ds:getwindowlonga
push    0ffffffebh
push    [ebp+hwnd]
call    edi
mov     ebx, [ebp+hmenu]
push    1
pop     ecx
cmp     ebx, 7
mov     esi, eax
mov     [ebp+var_4], ecx
ja      loc_277e7418
jz      loc_277e7406
mov     eax, ebx
dec     eax
jz      short loc_277e722c
dec     eax
jnz     loc_277e7829
push    4
lea     edi, [esi+18h]
pop     ebx
push    0
push    0
push    2
push    dword ptr [edi]
call    ds:sendmessagea
push    dword ptr [edi+4]
push    0fffffffch
push    dword ptr [edi]
call    ds:setwindowlonga
add     edi, 0ch
dec     ebx
jnz     short loc_277e71fa
push    esi
call    ds:localfree
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    48h
push    40h
call    ds:localalloc
mov     ebx, eax
test    ebx, ebx
jz      loc_277e730a
mov     eax, [ebp+color]
or      dword ptr [ebx+10h], 1
push    0fffffff4h
mov     eax, [eax+0ch]
mov     [ebx], eax
mov     eax, [ebp+hwnd]
push    eax
mov     [ebx+4], eax
call    edi
and     [ebp+dwnewlong], 0
mov     edi, ds:setwindowlonga
lea     esi, [ebx+18h]
mov     [ebp+hmenu], eax
mov     [ebp+var_c], esi
mov     ecx, [ebp+color]
and     byte ptr [esi+8], 0
or      byte ptr [esi+9], 0ffh
xor     eax, eax
push    eax
push    dword ptr [ecx+4]
push    [ebp+hmenu]
push    [ebp+hwnd]
push    64h
push    64h
push    0ah
push    eax
push    40000001h
push    eax
push    offset aedit_1
push    eax
call    ds:createwindowexa
push    [ebp+dwnewlong]
mov     [esi], eax
push    0ffffffebh
push    eax
call    edi
push    0
push    3
push    0c5h
push    dword ptr [esi]
call    ds:sendmessagea
push    0fffffffch
push    dword ptr [esi]
call    ds:getwindowlonga
push    offset sub_277e78ed
push    0fffffffch
mov     [esi+4], eax
push    dword ptr [esi]
call    edi
inc     [ebp+dwnewlong]
add     esi, 0ch
cmp     [ebp+dwnewlong], 4
jl      short loc_277e726a
push    ebx
push    0ffffffebh
push    [ebp+hwnd]
call    edi
push    0
push    0
push    ebx
call    sub_277e70bd
mov     esi, [ebp+var_c]
push    4
pop     edi
push    5
push    dword ptr [esi]
call    ds:showwindow
add     esi, 0ch
dec     edi
jnz     short loc_277e72f1
and     [ebp+var_4], 0
jmp     loc_277e7222
push    [ebp+hwnd]
call    ds:destroywindow
jmp     short loc_277e7301
xor     edi, edi
push    4
mov     [ebp+var_4], edi
add     esi, 18h
pop     ebx
push    esi
call    sub_277e7cfa
cmp     eax, 0ffffffffh
jnz     short loc_277e7342
xor     eax, eax
shl     edi, 8
add     edi, eax
add     esi, 0ch
dec     ebx
jnz     short loc_277e7320
mov     eax, [ebp+color]
mov     [eax], edi
jmp     loc_277e7222
inc     [ebp+var_4]
jmp     short loc_277e732d
or      dword ptr [esi+10h], 8
and     [ebp+dwnewlong], 0
lea     ebx, [esi+21h]
mov     ecx, [ebp+color]
xor     eax, eax
shr     ecx, 10h
mov     al, ch
cmp     [ebx-1], al
ja      short loc_277e73ab
cmp     al, [ebx]
ja      short loc_277e73ab
movzx   eax, al
push    eax
push    [ebp+dwnewlong]
push    esi
call    sub_277e7c42
shl     [ebp+color], 8
inc     [ebp+dwnewlong]
add     ebx, 0ch
cmp     [ebp+dwnewlong], 4
jl      short loc_277e7352
push    [ebp+hwnd]
and     dword ptr [esi+10h], 0fffffff7h
push    0fffffff4h
push    [ebp+hwnd]
call    edi
movzx   eax, ax
or      eax, 3000000h
push    eax
push    111h
push    dword ptr [esi]
call    ds:sendmessagea
jmp     loc_277e7222
and     [ebp+var_4], 0
jmp     short loc_277e7372
or      dword ptr [esi+10h], 8
mov     ebx, ds:sendmessagea
lea     eax, [esi+18h]
mov     [ebp+dwnewlong], 4
mov     [ebp+color], eax
mov     eax, [ebp+color]
push    offset byte_2782b6b4
push    0
push    0ch
push    dword ptr [eax]
call    ebx
add     [ebp+color], 0ch
dec     [ebp+dwnewlong]
jnz     short loc_277e73c8
push    [ebp+hwnd]
and     dword ptr [esi+10h], 0fffffff7h
push    0fffffff4h
push    [ebp+hwnd]
call    edi
movzx   eax, ax
or      eax, 3000000h
push    eax
push    111h
push    dword ptr [esi]
call    ebx
jmp     loc_277e7222
push    3
add     esi, 18h
push    0
push    esi
call    sub_277e7c18
jmp     loc_277e7222
cmp     ebx, 30h
ja      loc_277e76a5
jz      loc_277e7692
cmp     ebx, 0ah
jz      loc_277e7650
cmp     ebx, 0ch
jz      loc_277e75e0
jbe     loc_277e7829
cmp     ebx, 0eh
jbe     loc_277e753c
cmp     ebx, 0fh
jnz     loc_277e7829
lea     eax, [ebp+paint]
push    eax
push    [ebp+hwnd]
call    ds:beginpaint
push    dword ptr [esi+14h]
mov     ebx, ds:selectobject
push    [ebp+paint.hdc]
call    ebx
mov     [ebp+dwnewlong], eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getclientrect
test    byte ptr [esi+10h], 1
jz      loc_277e7528
mov     edi, ds:getsyscolor
push    8
call    edi
mov     [ebp+color], eax
push    5
call    edi
mov     edi, eax
lea     eax, [ebp+rect]
push    edi
push    eax
push    [ebp+paint.hdc]
call    sub_277be3ec
mov     eax, [ebp+rect.bottom]
sub     eax, [ebp+rect.top]
push    eax
lea     eax, [ebp+rect]
push    dword ptr [esi+0ch]
push    1
push    0
push    eax
call    ds:setrect
push    edi
push    [ebp+paint.hdc]
call    ds:setbkcolor
push    [ebp+color]
push    [ebp+paint.hdc]
call    ds:settextcolor
push    3
pop     edi
mov     eax, [esi+0ch]
push    0
mov     ecx, eax
push    1
add     ecx, [esi+8]
push    offset asc_2782b3c8
add     [ebp+rect.left], ecx
mov     ecx, [ebp+rect.left]
add     ecx, eax
lea     eax, [ebp+rect]
push    eax
add     [ebp+rect.right], ecx
push    2
push    1
push    [ebp+rect.left]
push    [ebp+paint.hdc]
call    ds:exttextouta
dec     edi
jnz     short loc_277e74d7
push    [ebp+dwnewlong]
or      dword ptr [esi+10h], 2
push    [ebp+paint.hdc]
call    ebx
lea     eax, [ebp+paint]
push    eax
push    [ebp+hwnd]
call    ds:endpaint
jmp     loc_277e7222
mov     edi, ds:getsyscolor
push    11h
call    edi
mov     [ebp+color], eax
push    0fh
jmp     loc_277e7495
xor     eax, eax
lea     edi, [ebp+rect]
mov     [ebp+rect.left], eax
mov     [ebp+rect.top], eax
mov     [ebp+rect.right], eax
mov     [ebp+rect.bottom], eax
add     esi, 18h
mov     [ebp+hwnd], 4
push    esi
call    sub_277e7cfa
cmp     eax, 0ffffffffh
jnz     short loc_277e7564
xor     eax, eax
mov     [edi], eax
add     esi, 0ch
add     edi, 4
dec     [ebp+hwnd]
jnz     short loc_277e7557
push    [ebp+rect.bottom]
lea     eax, [ebp+string]
push    [ebp+rect.right]
push    [ebp+rect.top]
push    [ebp+rect.left]
push    offset adddd
push    eax
call    ds:wsprintfa
add     esp, 18h
cmp     ebx, 0eh
jnz     short loc_277e75a6
lea     eax, [ebp+string]
push    eax
call    ds:lstrlena
mov     [ebp+var_4], eax
jmp     loc_277e7222
mov     edi, [ebp+color]
push    1
pop     esi
xor     eax, eax
cmp     [ebp+dwnewlong], esi
jle     short loc_277e75da
mov     edx, edi
lea     ecx, [ebp+string]
sub     edx, ecx
lea     ecx, [ebp+string]
sub     esi, ecx
mov     cl, [ebp+eax+string]
test    cl, cl
jz      short loc_277e75da
lea     ebx, [ebp+eax+string]
inc     eax
mov     [ebx+edx], cl
lea     ecx, [ebp+eax+string]
add     ecx, esi
cmp     ecx, [ebp+dwnewlong]
jl      short loc_277e75bf
and     byte ptr [eax+edi], 0
jmp     short loc_277e759e
lea     eax, [ebp+rect]
push    eax
push    [ebp+color]
call    sub_277e705e
or      dword ptr [esi+10h], 8
mov     ebx, ds:sendmessagea
lea     eax, [ebp+rect]
mov     [ebp+var_c], 4
mov     [ebp+hmenu], eax
lea     eax, [esi+18h]
mov     [ebp+dwnewlong], eax
mov     eax, [ebp+color]
cmp     byte ptr [eax], 0
jnz     short loc_277e7637
and     byte ptr [ebp+lparam], 0
lea     eax, [ebp+lparam]
push    eax
mov     eax, [ebp+dwnewlong]
push    0
push    0ch
push    dword ptr [eax]
call    ebx
add     [ebp+dwnewlong], 0ch
add     [ebp+hmenu], 4
dec     [ebp+var_c]
jz      loc_277e73e1
jmp     short loc_277e7609
mov     eax, [ebp+hmenu]
push    dword ptr [eax]
lea     eax, [ebp+lparam]
push    offset ad_4
push    eax
call    ds:wsprintfa
add     esp, 0ch
jmp     short loc_277e7615
mov     eax, [esi+10h]
mov     edx, [ebp+dwnewlong]
xor     edx, eax
push    4
and     edx, ecx
lea     edi, [esi+18h]
xor     edx, eax
pop     ebx
mov     [esi+10h], edx
push    [ebp+dwnewlong]
push    dword ptr [edi]
call    ds:enablewindow
add     edi, 0ch
dec     ebx
jnz     short loc_277e7665
test    byte ptr [esi+10h], 2
jz      loc_277e7222
push    0
push    0
push    [ebp+hwnd]
call    ds:invalidaterect
jmp     loc_277e7222
push    [ebp+color]
push    [ebp+dwnewlong]
push    esi
call    sub_277e70bd
xor     eax, eax
jmp     loc_277e7225
mov     eax, 87h
cmp     ebx, eax
ja      short loc_277e76e5
jz      short loc_277e76d9
cmp     ebx, 81h
jnz     loc_277e7829
mov     eax, 200h
push    eax
push    eax
push    0ffffffech
push    [ebp+hwnd]
call    sub_278119ca
mov     [ebp+var_4], 1
jmp     loc_277e7222
mov     [ebp+var_4], 80h
jmp     loc_277e7222
mov     eax, 201h
cmp     ebx, eax
ja      loc_277e7801
jz      loc_277e77f3
mov     ebx, 111h
cmp     [ebp+hmenu], ebx
jnz     loc_277e783e
mov     eax, [ebp+dwnewlong]
shr     eax, 10h
cmp     eax, 100h
jz      loc_277e779c
cmp     eax, 200h
jz      short loc_277e774c
cmp     eax, 300h
jnz     loc_277e7222
test    byte ptr [esi+10h], 8
jnz     loc_277e7222
push    [ebp+hwnd]
push    0fffffff4h
push    [ebp+hwnd]
call    edi
movzx   eax, ax
or      eax, 3000000h
push    eax
push    ebx
jmp     loc_277e739e
test    byte ptr [esi+10h], 10h
jnz     loc_277e7222
call    ds:getfocus
xor     edx, edx
lea     ecx, [esi+18h]
cmp     [ecx], eax
jz      short loc_277e776e
inc     edx
add     ecx, 0ch
cmp     edx, 4
jl      short loc_277e7761
cmp     edx, 4
jl      loc_277e7222
push    [ebp+hwnd]
push    0fffffff4h
push    [ebp+hwnd]
call    edi
movzx   eax, ax
or      eax, 2000000h
push    eax
push    ebx
push    dword ptr [esi]
call    ds:sendmessagea
and     dword ptr [esi+10h], 0fffffffbh
jmp     loc_277e7222
test    byte ptr [esi+10h], 10h
jnz     loc_277e7222
xor     ecx, ecx
lea     eax, [esi+18h]
mov     edx, [eax]
cmp     edx, [ebp+color]
jz      short loc_277e77bb
inc     ecx
add     eax, 0ch
cmp     ecx, 4
jl      short loc_277e77ab
cmp     ecx, 4
jge     loc_277e7222
test    byte ptr [esi+10h], 4
jnz     loc_277e7222
push    [ebp+hwnd]
push    0fffffff4h
push    [ebp+hwnd]
call    edi
movzx   eax, ax
or      eax, 1000000h
push    eax
push    ebx
push    dword ptr [esi]
call    ds:sendmessagea
or      dword ptr [esi+10h], 4
jmp     loc_277e7222
push    [ebp+hwnd]
call    ds:setfocus
jmp     loc_277e7222
mov     eax, ebx
sub     eax, 464h
jz      loc_277e73b1
dec     eax
jz      loc_277e7347
dec     eax
jz      loc_277e7315
dec     eax
jz      loc_277e78a8
dec     eax
jz      short loc_277e786d
dec     eax
jz      short loc_277e7843
push    [ebp+color]
push    [ebp+dwnewlong]
push    ebx
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_277e759e
mov     ebx, [ebp+hmenu]
jmp     short loc_277e7829
xor     edi, edi
mov     [ebp+var_4], 1
add     esi, 18h
push    esi
call    sub_277e7cfa
cmp     eax, 0ffffffffh
jnz     loc_277e7301
inc     edi
add     esi, 0ch
cmp     edi, 4
jge     loc_277e7222
jmp     short loc_277e784f
mov     edi, [ebp+dwnewlong]
cmp     edi, 4
jb      short loc_277e7895
xor     edi, edi
lea     ebx, [esi+18h]
push    ebx
call    sub_277e7cfa
cmp     eax, 0ffffffffh
jz      short loc_277e788e
inc     edi
add     ebx, 0ch
cmp     edi, 4
jb      short loc_277e787a
cmp     edi, 4
jb      short loc_277e7895
xor     edi, edi
lea     eax, [edi+2]
push    3
push    0
lea     eax, [eax+eax*2]
lea     eax, [esi+eax*4]
push    eax
jmp     loc_277e740e
mov     eax, [ebp+dwnewlong]
cmp     eax, 4
jnb     loc_277e7301
mov     edx, [ebp+color]
mov     cx, dx
shr     cx, 8
cmp     dl, cl
ja      loc_277e7301
lea     eax, [eax+eax*2]
movzx   di, byte ptr [esi+eax*4+20h]
lea     eax, [esi+eax*4]
movzx   si, byte ptr [eax+21h]
shl     esi, 8
add     esi, edi
mov     [eax+20h], dl
movzx   esi, si
mov     [ebp+var_4], esi
mov     [eax+21h], cl
jmp     loc_277e7222
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
push    [ebp+hwnd]
call    ds:getparent
xor     ebx, ebx
cmp     eax, ebx
jz      loc_277e7a3d
mov     esi, ds:getwindowlonga
push    0ffffffebh
push    eax
call    esi
mov     edi, eax
cmp     edi, ebx
jz      loc_277e7a3d
push    0ffffffebh
push    [ebp+hwnd]
call    esi
mov     ecx, eax
mov     edx, [ebp+hwnd]
movzx   esi, cx
mov     [ebp+var_4], ecx
lea     eax, [esi+2]
lea     eax, [eax+eax*2]
cmp     [edi+eax*4], edx
jnz     loc_277e7a3d
mov     eax, [ebp+msg]
dec     eax
dec     eax
jz      loc_277e7bcd
sub     eax, 6
jz      loc_277e7ba0
sub     eax, 0f8h
jz      loc_277e7aa0
dec     eax
dec     eax
jnz     loc_277e7baf
mov     eax, [ebp+wparam]
cmp     eax, 30h
jb      short loc_277e79d1
cmp     eax, 39h
ja      short loc_277e79d1
push    [ebp+lparam]
push    eax
push    102h
lea     eax, [esi+esi*2]
push    edx
push    dword ptr [edi+eax*4+1ch]
call    ds:callwindowproca
push    ebx
push    ebx
push    0b0h
push    [ebp+hwnd]
call    ds:sendmessagea
cmp     eax, 30003h
mov     [ebp+wparam], eax
jnz     short loc_277e79c7
push    esi
push    edi
call    sub_277e7c7b
test    eax, eax
jz      short loc_277e79c7
cmp     word ptr [ebp+var_4], 3
jnb     short loc_277e79c7
add     esi, 3
push    3
push    ebx
lea     eax, [esi+esi*2]
lea     eax, [edi+eax*4]
push    eax
call    sub_277e7c18
mov     eax, [ebp+wparam]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     eax, 2eh
jz      short loc_277e7a54
cmp     eax, 20h
jz      short loc_277e7a54
cmp     eax, 8
jnz     short loc_277e7a41
cmp     cx, bx
jbe     loc_277e7baf
push    ebx
push    ebx
mov     ebx, ds:sendmessagea
push    0b0h
push    edx
call    ebx
test    eax, eax
jnz     loc_277e7baf
push    3
lea     eax, [esi-1]
push    3
push    eax
push    esi
push    edi
call    sub_277e7be4
test    eax, eax
jz      short loc_277e7a3d
lea     eax, [esi+1]
push    0
push    0
push    0c1h
lea     eax, [eax+eax*2]
push    dword ptr [edi+eax*4]
lea     esi, [edi+eax*4]
call    ebx
test    eax, eax
jz      short loc_277e7a3d
push    [ebp+lparam]
push    8
push    102h
push    dword ptr [esi]
call    ebx
xor     eax, eax
jmp     short loc_277e79ca
cmp     eax, 20h
jbe     loc_277e7baf
push    0ffffffffh
call    ds:messagebeep
jmp     short loc_277e7a3d
push    ebx
push    ebx
push    0b0h
push    edx
call    ds:sendmessagea
cmp     eax, ebx
jz      short loc_277e7a3d
mov     ecx, eax
shr     ecx, 10h
cmp     cx, ax
jnz     short loc_277e7a3d
push    esi
push    edi
call    sub_277e7c7b
test    eax, eax
jz      short loc_277e7a3d
cmp     word ptr [ebp+var_4], 3
jb      short loc_277e7a8c
push    0ffffffffh
call    ds:messagebeep
jmp     short loc_277e7a3d
lea     eax, [esi+3]
push    3
push    ebx
lea     eax, [eax+eax*2]
lea     eax, [edi+eax*4]
push    eax
call    sub_277e7c18
jmp     short loc_277e7a3d
cmp     [ebp+wparam], 23h
jz      loc_277e7b8f
cmp     [ebp+wparam], 24h
jz      loc_277e7b82
jbe     loc_277e7baf
cmp     [ebp+wparam], 28h
ja      loc_277e7baf
push    11h
call    ds:getkeystate
test    ax, ax
jge     short loc_277e7b18
mov     eax, [ebp+wparam]
cmp     eax, 25h
jz      short loc_277e7ade
cmp     eax, 26h
jnz     short loc_277e7af7
cmp     word ptr [ebp+var_4], bx
jbe     short loc_277e7af7
push    3
push    ebx
lea     eax, [esi-1]
push    eax
push    esi
push    edi
call    sub_277e7be4
jmp     loc_277e7a3d
cmp     eax, 27h
jz      short loc_277e7b05
cmp     eax, 28h
jnz     loc_277e7baf
cmp     word ptr [ebp+var_4], 3
jnb     loc_277e7baf
push    3
push    ebx
lea     eax, [esi+1]
jmp     short loc_277e7aea
push    ebx
push    ebx
mov     ebx, ds:sendmessagea
push    0b0h
push    [ebp+hwnd]
call    ebx
mov     ecx, eax
mov     [ebp+var_8], eax
shr     ecx, 10h
cmp     ax, cx
jnz     short loc_277e7baf
mov     ecx, [ebp+wparam]
cmp     ecx, 25h
jz      short loc_277e7b44
cmp     ecx, 26h
jnz     short loc_277e7b55
test    ax, ax
jnz     short loc_277e7b55
cmp     word ptr [ebp+var_4], ax
jbe     short loc_277e7b55
push    3
push    3
jmp     short loc_277e7ae7
cmp     ecx, 27h
jz      short loc_277e7b5f
cmp     ecx, 28h
jnz     short loc_277e7baf
cmp     word ptr [ebp+var_4], 3
jnb     short loc_277e7baf
push    0
push    0
push    0c1h
push    [ebp+hwnd]
call    ebx
movzx   ecx, word ptr [ebp+var_8]
cmp     ecx, eax
jb      short loc_277e7baf
push    0
push    0
jmp     short loc_277e7b13
cmp     cx, bx
jbe     short loc_277e7baf
push    ebx
push    ebx
push    ebx
jmp     loc_277e7aeb
cmp     cx, 3
jnb     short loc_277e7baf
push    3
push    3
push    3
jmp     loc_277e7aeb
push    esi
push    edi
call    sub_277e7c7b
test    eax, eax
jz      loc_277e7a3d
push    [ebp+lparam]
lea     eax, [esi+esi*2]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
push    dword ptr [edi+eax*4+1ch]
call    ds:callwindowproca
jmp     loc_277e79ca
push    ebx
push    ebx
push    31h
push    edx
call    ds:sendmessagea
push    eax
call    ds:deleteobject
jmp     loc_277e7a3d
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
push    [ebp+arg_4]
push    esi
call    sub_277e7c7b
test    eax, eax
jz      short loc_277e7c13
mov     eax, [ebp+arg_8]
push    [ebp+arg_10]
add     eax, 2
push    [ebp+arg_c]
lea     eax, [eax+eax*2]
lea     eax, [esi+eax*4]
push    eax
call    sub_277e7c18
push    1
pop     eax
pop     esi
pop     ebp
retn    14h
push    esi
mov     esi, [esp+4+arg_0]
push    dword ptr [esi]
call    ds:setfocus
movzx   eax, [esp+4+arg_8]
push    eax
movzx   eax, [esp+8+arg_4]
push    eax
push    0b1h
push    dword ptr [esi]
call    ds:sendmessagea
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    dword ptr [ebp+arg_8]
lea     eax, [ebp+arg_8]
push    offset ad_5
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+arg_8]
mov     ecx, [ebp+arg_0]
push    eax
mov     eax, [ebp+arg_4]
add     eax, 2
push    0
push    0ch
lea     eax, [eax+eax*2]
push    dword ptr [ecx+eax*4]
call    ds:sendmessagea
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebx+2]
push    edi
lea     eax, [eax+eax*2]
lea     edi, [esi+eax*4]
push    edi
call    sub_277e7cfa
mov     [ebp+arg_4], eax
mov     dword ptr [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    0
push    eax
push    0fffffca4h
push    dword ptr [esi+4]
mov     [ebp+var_8], ebx
push    dword ptr [esi]
call    sub_27811d28
mov     eax, dword ptr [ebp+var_4]
cmp     eax, 0ffffffffh
jz      short loc_277e7ce8
movzx   ecx, byte ptr [edi+8]
cmp     eax, ecx
jl      short loc_277e7cd7
movzx   edx, byte ptr [edi+9]
cmp     eax, edx
jle     short loc_277e7ce8
cmp     eax, ecx
jl      short loc_277e7cd7
movzx   ecx, byte ptr [edi+9]
push    ecx
push    ebx
push    esi
call    sub_277e7c42
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     [ebp+arg_4], eax
jz      short loc_277e7cf5
push    eax
push    ebx
push    esi
call    sub_277e7c42
push    1
pop     eax
jmp     short loc_277e7ce1
push    ebp
mov     ebp, esp
push    ecx
lea     eax, [ebp+lparam]
mov     word ptr [ebp+lparam], 3
push    eax
mov     eax, [ebp+arg_0]
push    0
push    0c4h
push    dword ptr [eax]
call    ds:sendmessagea
test    ax, ax
jz      short loc_277e7d34
movzx   eax, ax
and     byte ptr [ebp+eax+lparam], 0
lea     eax, [ebp+lparam]
push    eax
call    sub_27810f98
leave
retn    4
or      eax, 0ffffffffh
jmp     short locret_277e7d30
push    ebp
mov     ebp, esp
sub     esp, 40h
and     [ebp+ho], 0
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+4ch], 4
jz      short loc_277e7d58
push    esi
call    sub_277e9347
mov     [ebp+ho], eax
mov     ebx, [ebp+fwinini]
test    ebx, ebx
jnz     loc_277e7df6
lea     eax, [ebp+pvparam]
push    ebx
push    eax
push    3ch
push    1fh
call    ds:systemparametersinfoa
lea     eax, [ebp+pvparam]
push    eax
call    ds:createfontindirecta
or      dword ptr [esi+4ch], 4
mov     ebx, eax
push    ebx
call    sub_277bc9de
push    [ebp+lparam]
mov     edi, ds:sendmessagea
mov     [esi+14h], eax
push    ebx
push    30h
push    dword ptr [esi+18h]
call    edi
mov     eax, [esi+1ch]
test    eax, eax
jz      short loc_277e7dbd
push    [ebp+lparam]
push    ebx
push    30h
push    eax
call    edi
push    0
push    0ffffh
push    0d3h
push    dword ptr [esi+1ch]
call    edi
push    0
push    esi
call    sub_277e8bfc
push    eax
mov     ebx, 153h
push    0ffffffffh
push    ebx
push    dword ptr [esi]
mov     [ebp+lparam], eax
call    edi
push    [ebp+lparam]
push    0
push    ebx
push    dword ptr [esi+18h]
call    edi
cmp     [ebp+ho], 0
jz      short loc_277e7def
push    [ebp+ho]
call    ds:deleteobject
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
and     dword ptr [esi+4ch], 0fffffffbh
jmp     short loc_277e7d82
push    esi
mov     esi, [esp+4+hmem]
push    edi
xor     edi, edi
push    edi
push    edi
push    14bh
push    dword ptr [esi+18h]
call    ds:sendmessagea
test    byte ptr [esi+4ch], 4
jz      short loc_277e7e27
push    esi
call    sub_277e9347
push    eax
call    ds:deleteobject
mov     eax, [esi+1ch]
cmp     eax, edi
jz      short loc_277e7e3a
push    edi
push    offset sub_277e83fd
push    eax
call    sub_278121f8
mov     eax, [esi+18h]
cmp     eax, edi
jz      short loc_277e7e4d
push    edi
push    offset sub_277e8687
push    eax
call    sub_278121f8
push    edi
push    edi
push    dword ptr [esi]
call    ds:setwindowlonga
push    esi
call    ds:localfree
pop     edi
pop     esi
retn    4
mov     eax, [esp+arg_0]
push    esi
mov     esi, [esp+4+lprect]
push    esi
push    dword ptr [eax+18h]
call    ds:getclientrect
mov     eax, dy
neg     eax
push    eax
mov     eax, dword_2782a06c
neg     eax
push    eax
push    esi
call    ds:inflaterect
mov     eax, dword_2782a08c
sub     [esi+8], eax
pop     esi
retn    8
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
xor     edi, edi
mov     eax, [esi+1ch]
cmp     eax, edi
jnz     short loc_277e7f26
mov     eax, [esi+8]
mov     ecx, eax
and     ecx, 3
cmp     cl, 2
jnz     short loc_277e7f2c
test    al, 40h
mov     ebx, 54000000h
jz      short loc_277e7ec4
mov     ebx, 54000080h
test    al, 80h
jz      short loc_277e7ecb
or      bh, 4
push    edi
push    dword_27828334
push    dword ptr [esi]
call    ds:getdlgctrlid
push    eax
push    dword ptr [esi+18h]
push    edi
push    edi
push    edi
push    edi
push    ebx
push    offset byte_277cba1c
push    offset string2
push    edi
call    ds:createwindowexa
cmp     eax, edi
mov     [esi+1ch], eax
jz      short loc_277e7f2c
push    esi
push    edi
push    offset sub_277e83fd
push    eax
call    sub_27812153
test    eax, eax
jz      short loc_277e7f2c
push    esi
call    sub_277e9347
cmp     eax, edi
jz      short loc_277e7f23
push    edi
push    eax
push    30h
push    dword ptr [esi+1ch]
call    ds:sendmessagea
mov     eax, [esi+1ch]
pop     edi
pop     esi
pop     ebx
retn    4
xor     eax, eax
jmp     short loc_277e7f26
push    ebp
mov     ebp, esp
sub     esp, 11ch
push    esi
mov     esi, [ebp+arg_0]
push    esi
call    sub_277e7e99
test    eax, eax
jz      loc_277e8007
or      dword ptr [esi+4ch], 8
push    edi
lea     eax, [ebp+string]
push    104h
push    eax
push    dword ptr [esi+1ch]
call    ds:getwindowtexta
mov     eax, [esi+4ch]
shl     eax, 1eh
sar     eax, 1fh
mov     [ebp+var_110], eax
mov     eax, [ebp+arg_4]
mov     [ebp+var_4], eax
jz      loc_277e800c
lea     eax, [ebp+string]
mov     edi, ds:sendmessagea
push    eax
push    0
push    0
push    147h
push    dword ptr [esi+18h]
call    edi
dec     eax
push    eax
push    esi
call    sub_277e91f8
mov     [ebp+wparam], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffcdbh
push    esi
call    sub_277b9838
and     dword ptr [esi+4ch], 0fffffff7h
mov     [ebp+arg_0], eax
mov     eax, [esi+4ch]
xor     ecx, ecx
cmp     [ebp+arg_0], ecx
jnz     short loc_277e7ff6
push    ecx
push    ecx
push    147h
and     al, 0fdh
push    dword ptr [esi+18h]
mov     [esi+4ch], eax
call    edi
cmp     [ebp+wparam], eax
jz      short loc_277e7ff6
push    0
push    [ebp+wparam]
push    14eh
push    dword ptr [esi]
call    edi
push    0
push    0
push    dword ptr [esi+18h]
call    ds:invalidaterect
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
leave
retn    8
mov     edi, ds:sendmessagea
push    0
push    0
push    147h
push    dword ptr [esi+18h]
call    edi
jmp     short loc_277e7fa3
push    ebp
mov     ebp, esp
sub     esp, 18h
and     [ebp+var_4], 0
and     [ebp+var_8], 0
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_277e7e63
lea     eax, [ebp+rect]
push    1
push    eax
push    dword ptr [esi+18h]
call    ds:invalidaterect
mov     eax, [esi+24h]
test    eax, eax
jz      short loc_277e8072
test    byte ptr [esi+20h], 2
jnz     short loc_277e8072
lea     ecx, [ebp+var_8]
push    ecx
lea     ecx, [ebp+var_4]
push    ecx
push    eax
call    sub_278139de
cmp     [ebp+var_4], 0
jz      short loc_277e8072
add     [ebp+var_4], 4
mov     eax, w
mov     ecx, [ebp+var_4]
add     ecx, eax
mov     eax, y
add     [ebp+rect.left], ecx
sub     [ebp+rect.bottom], eax
push    1
push    esi
call    sub_277e8bfc
mov     edx, [ebp+rect.bottom]
push    54h
mov     ecx, edx
sub     ecx, y
sub     ecx, eax
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
sub     edx, ecx
push    edx
mov     [ebp+rect.top], ecx
push    eax
push    ecx
push    [ebp+rect.left]
push    0
push    dword ptr [esi+1ch]
call    ds:setwindowpos
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 24h
mov     eax, [ebp+arg_8]
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     edi, [ebp+arg_0]
push    0
push    0
push    147h
push    dword ptr [edi+18h]
mov     [ebp+var_24], 1
mov     [ebp+var_1c], esi
mov     [ebp+var_18], eax
call    ds:sendmessagea
cmp     eax, 0ffffffffh
mov     [ebp+var_20], eax
jnz     short loc_277e8102
and     byte ptr [esi], 0
xor     eax, eax
pop     edi
pop     esi
leave
retn    0ch
lea     eax, [ebp+var_24]
push    eax
push    edi
call    sub_277e8cfa
push    1
pop     eax
jmp     short loc_277e80fc
push    ebp
mov     ebp, esp
sub     esp, 104h
push    ebx
push    edi
mov     edi, [ebp+arg_0]
xor     ebx, ebx
cmp     [edi+1ch], ebx
jz      short loc_277e8170
test    byte ptr [edi+4ch], 8
jnz     short loc_277e8170
lea     eax, [ebp+lparam]
push    104h
push    eax
push    edi
call    sub_277e80bf
test    eax, eax
jz      short loc_277e8170
lea     eax, [ebp+lparam]
push    esi
mov     esi, ds:sendmessagea
push    eax
push    ebx
push    0ch
push    dword ptr [edi+1ch]
call    esi
push    ebx
push    ebx
mov     ebx, 0b1h
push    ebx
push    dword ptr [edi+1ch]
call    esi
push    0ffffffffh
push    0
push    ebx
push    dword ptr [edi+1ch]
call    esi
pop     esi
pop     edi
pop     ebx
leave
retn    4
push    esi
mov     esi, [esp+4+arg_0]
push    esi
call    sub_277e7e99
test    eax, eax
jz      short loc_277e8191
push    dword ptr [esi+1ch]
call    ds:setfocus
push    1
pop     eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 128h
mov     eax, [ebp+arg_8]
push    ebx
shr     eax, 10h
mov     [ebp+var_4], eax
push    esi
mov     esi, [ebp+arg_0]
push    edi
movsx   edi, word ptr [ebp+arg_8]
movsx   ebx, ax
lea     eax, [ebp+rc]
push    eax
push    esi
call    sub_277e7e63
push    dy
lea     eax, [ebp+rc]
push    dword_2782a06c
push    eax
call    ds:inflaterect
push    ebx
lea     eax, [ebp+rc]
push    edi
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277e8251
movzx   eax, word ptr [ebp+var_4]
push    eax
movzx   eax, word ptr [ebp+arg_8]
push    eax
push    dword ptr [esi+18h]
call    sub_27810ea0
test    eax, eax
jz      short loc_277e8232
or      [ebp+var_11c], 0ffffffffh
lea     eax, [ebp+string]
push    104h
push    eax
push    dword ptr [esi+1ch]
call    ds:getwindowtexta
lea     eax, [ebp+lparam]
push    eax
push    0fffffcd8h
push    esi
call    sub_277b9838
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+8]
and     eax, 3
cmp     al, 2
jnz     short loc_277e8251
push    esi
call    sub_277e8176
test    eax, eax
jnz     short loc_277e8228
push    dword ptr [esi+18h]
call    ds:setfocus
jmp     short loc_277e8228
xor     eax, eax
jmp     short loc_277e822b
push    ebp
mov     ebp, esp
sub     esp, 208h
mov     eax, [ebp+arg_4]
push    ebx
movzx   ecx, ax
shr     eax, 10h
push    esi
mov     esi, [ebp+arg_0]
cmp     eax, 100h
push    edi
mov     [ebp+arg_4], ecx
jz      loc_277e839c
cmp     eax, 200h
jz      loc_277e8377
cmp     eax, 300h
jnz     loc_277e834d
mov     ebx, ds:sendmessagea
push    0
push    0
push    147h
push    dword ptr [esi+18h]
call    ebx
cmp     eax, 0ffffffffh
jnz     loc_277e835f
test    byte ptr [esi+4ch], 1
jz      loc_277e835f
mov     eax, [esi+34h]
test    eax, eax
jz      loc_277e835f
mov     edi, 104h
lea     ecx, [ebp+string1]
push    edi
push    ecx
push    eax
call    sub_27816125
lea     eax, [ebp+string]
push    edi
push    eax
push    dword ptr [esi+1ch]
call    ds:getwindowtexta
lea     eax, [ebp+string]
push    eax
lea     eax, [ebp+string1]
push    eax
push    esi
call    sub_277e92ad
xor     ecx, ecx
test    eax, eax
mov     eax, [esi+4ch]
setnz   cl
and     ecx, 1
and     al, 0fdh
shl     ecx, 1
or      ecx, eax
test    cl, 2
mov     [esi+4ch], ecx
jz      short loc_277e8337
lea     eax, [ebp+string]
push    eax
push    0ffffffffh
push    esi
call    sub_277e91f8
cmp     eax, 0ffffffffh
jnz     short loc_277e8337
push    0
push    eax
push    14eh
push    dword ptr [esi+18h]
call    ebx
movzx   eax, word ptr [ebp+arg_4]
push    dword ptr [esi]
or      eax, 50000h
push    eax
push    111h
push    dword ptr [esi+4]
call    ebx
mov     ecx, [ebp+arg_8]
xor     eax, eax
cmp     ecx, [esi+1ch]
pop     edi
pop     esi
pop     ebx
setz    al
leave
retn    0ch
mov     edi, 104h
lea     eax, [ebp+string1]
push    edi
push    eax
push    esi
call    sub_277e80bf
jmp     loc_277e82d6
call    ds:getfocus
mov     edi, eax
cmp     edi, [esi+18h]
jz      short loc_277e834d
push    1
push    esi
call    sub_277e7f30
push    0
push    edi
push    8
push    dword ptr [esi+18h]
call    ds:sendmessagea
jmp     short loc_277e834d
test    byte ptr [esi+4ch], 10h
jnz     short loc_277e834d
mov     edi, ds:sendmessagea
push    0
mov     ebx, 0b1h
push    0
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    0ffffffffh
push    0
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    0
push    0fffffcdch
push    esi
call    sub_277b9838
and     dword ptr [esi+4ch], 0fffffffdh
jmp     loc_277e834d
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getclientrect
push    [ebp+color]
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
leave
retn    0ch
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
cmp     eax, 30h
push    edi
jz      loc_277e8678
cmp     eax, 1ah
jz      loc_277e8678
push    2
pop     ecx
sub     eax, ecx
jz      loc_277e8664
sub     eax, 3
jz      loc_277e863b
sub     eax, 0fh
jz      loc_277e8622
sub     eax, 0ech
jz      short loc_277e84b4
sub     eax, ecx
jz      short loc_277e8495
sub     eax, ecx
jz      short loc_277e846b
sub     eax, 0fdh
jnz     short loc_277e84a1
mov     eax, [ebp+arg_14]
mov     esi, [eax+1ch]
call    ds:getfocus
cmp     eax, esi
jz      short loc_277e84a1
push    esi
call    ds:setfocus
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    18h
mov     eax, [ebp+wparam]
sub     eax, 26h
jz      short loc_277e8477
sub     eax, ecx
jnz     short loc_277e84a1
mov     eax, [ebp+arg_14]
mov     eax, [eax+18h]
test    eax, eax
jz      short loc_277e84a1
push    [ebp+lparam]
push    [ebp+wparam]
push    104h
push    eax
call    ds:sendmessagea
jmp     short loc_277e8464
cmp     byte ptr [ebp+wparam], 0ah
jz      short loc_277e8462
cmp     byte ptr [ebp+wparam], 0dh
jz      short loc_277e8462
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+arg_4]
push    [ebp+hwnd]
call    sub_27812262
jmp     short loc_277e8464
mov     eax, [ebp+wparam]
cmp     eax, 1bh
ja      loc_277e85d0
jz      loc_277e8551
cmp     eax, 0dh
jnz     short loc_277e84a1
mov     esi, [ebp+arg_14]
push    ecx
push    esi
and     dword ptr [esi+4ch], 0fffffffeh
call    sub_277e7f30
test    eax, eax
jnz     short loc_277e84a1
test    byte ptr [esi+4ch], 1
jz      short loc_277e8532
mov     eax, [esi+34h]
mov     edi, ds:sendmessagea
xor     ebx, ebx
cmp     eax, ebx
jz      short loc_277e8514
push    eax
push    ebx
push    0ch
push    dword ptr [esi+1ch]
call    edi
push    ebx
push    ebx
mov     ebx, 0b1h
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    0ffffffffh
push    0
push    ebx
push    dword ptr [esi+1ch]
call    edi
xor     ebx, ebx
push    5
push    ebx
push    ebx
push    dword ptr [esi+18h]
call    ds:redrawwindow
push    ebx
push    ebx
push    14fh
push    dword ptr [esi+18h]
call    edi
jmp     loc_277e84a1
push    0
mov     edi, ds:sendmessagea
push    dword ptr [esi+30h]
push    14eh
push    dword ptr [esi+18h]
call    edi
push    esi
call    sub_277e8176
xor     ebx, ebx
jmp     short loc_277e8521
mov     esi, [ebp+arg_14]
push    3
push    esi
and     dword ptr [esi+4ch], 0fffffffdh
call    sub_277e7f30
mov     edi, ds:sendmessagea
test    eax, eax
jnz     short loc_277e85a8
test    byte ptr [esi+4ch], 1
jz      short loc_277e85b9
mov     eax, [esi+34h]
xor     ebx, ebx
cmp     eax, ebx
jz      short loc_277e8599
push    eax
push    ebx
push    0ch
push    dword ptr [esi+1ch]
call    edi
push    ebx
push    ebx
mov     ebx, 0b1h
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    0ffffffffh
push    0
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    5
push    0
push    0
push    dword ptr [esi+18h]
call    ds:redrawwindow
push    0
push    0
push    14fh
push    dword ptr [esi+18h]
jmp     loc_277e852b
push    0
push    dword ptr [esi+30h]
push    14eh
push    dword ptr [esi+18h]
call    edi
push    esi
call    sub_277e8176
jmp     short loc_277e85a8
cmp     eax, 21h
jb      loc_277e84a1
mov     eax, [ebp+wparam]
mov     ecx, [ebp+arg_14]
cmp     eax, 22h
jbe     short loc_277e85fc
cmp     eax, 24h
jbe     short loc_277e8617
cmp     eax, 26h
jz      short loc_277e85fc
cmp     eax, 28h
jz      short loc_277e85fc
cmp     eax, 73h
jnz     loc_277e84a1
mov     eax, [ecx+18h]
test    eax, eax
jz      loc_277e84a1
push    [ebp+lparam]
push    [ebp+wparam]
push    100h
jmp     loc_277e848c
test    byte ptr [ecx+4ch], 10h
jnz     short loc_277e85fc
jmp     loc_277e84a1
push    5
call    ds:getsyscolor
push    eax
push    [ebp+wparam]
push    [ebp+hwnd]
call    sub_277e83d7
jmp     loc_277e84a1
call    ds:getfocus
cmp     eax, [ebp+hwnd]
jz      loc_277e84a1
mov     eax, [ebp+arg_14]
push    0
push    0
push    0b1h
push    dword ptr [eax+1ch]
call    ds:sendmessagea
jmp     loc_277e84a1
push    0
push    offset sub_277e83fd
push    [ebp+hwnd]
call    sub_278121f8
jmp     loc_277e84a1
push    [ebp+lparam]
push    [ebp+wparam]
push    eax
push    [ebp+hwnd]
jmp     loc_277e84ad
push    ebp
mov     ebp, esp
sub     esp, 128h
push    ebx
mov     ebx, [ebp+lpstring1]
push    esi
mov     esi, [ebp+arg_4]
cmp     esi, 14h
push    edi
ja      short loc_277e86e2
cmp     esi, 14h
jz      short loc_277e86cc
mov     eax, esi
dec     eax
dec     eax
jnz     short loc_277e86b8
push    0
push    offset sub_277e8687
push    [ebp+hwnd]
call    sub_278121f8
push    ebx
push    [ebp+hdc]
push    esi
push    [ebp+hwnd]
call    sub_27812262
pop     edi
pop     esi
pop     ebx
leave
retn    18h
push    5
call    ds:getsyscolor
push    eax
push    [ebp+hdc]
push    [ebp+hwnd]
call    sub_277e83d7
jmp     short loc_277e86b8
cmp     esi, 20h
jz      loc_277e879e
cmp     esi, 111h
jz      loc_277e8790
cmp     esi, 147h
jbe     short loc_277e86b8
cmp     esi, 149h
jbe     short loc_277e872b
cmp     esi, 201h
jz      short loc_277e8717
cmp     esi, 204h
jnz     short loc_277e86b8
push    ebx
push    [ebp+hdc]
push    [ebp+arg_14]
call    sub_277e8195
test    eax, eax
jz      short loc_277e86b8
xor     eax, eax
jmp     short loc_277e86c5
lea     eax, [ebp+string2]
mov     [ebp+var_24], 1
mov     [ebp+var_1c], eax
mov     eax, [ebp+hdc]
mov     [ebp+lparam], eax
lea     eax, [ebp+var_24]
push    eax
mov     [ebp+var_18], 104h
push    [ebp+arg_14]
call    sub_277e8cfa
test    eax, eax
jnz     short loc_277e8760
or      eax, 0ffffffffh
jmp     loc_277e86c5
cmp     [ebp+lpstring1], 0
jz      short loc_277e877e
cmp     esi, 148h
jnz     short loc_277e877e
lea     eax, [ebp+string2]
push    eax
push    [ebp+lpstring1]
call    ds:lstrcpya
lea     eax, [ebp+string2]
push    eax
call    ds:lstrlena
jmp     loc_277e86c5
push    ebx
push    [ebp+hdc]
push    [ebp+arg_14]
call    sub_277e8255
jmp     short loc_277e8723
cmp     [ebp+arg_14], 0
jz      loc_277e86b8
and     [ebp+lparam], 0
push    7
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_1c]
rep stosd
lea     eax, [ebp+lparam]
mov     [ebp+var_4], ebx
push    eax
push    0ffffffefh
push    [ebp+arg_14]
call    sub_277b9838
jmp     loc_277e8723
push    ebx
push    ebp
push    esi
push    edi
push    50h
push    40h
call    ds:localalloc
mov     edi, eax
test    edi, edi
jz      loc_277e8894
mov     ebx, [esp+10h+hwnd]
mov     ebp, ds:setwindowlonga
push    edi
push    0
push    ebx
call    ebp
mov     esi, [esp+10h+arg_4]
and     dword ptr [esi+20h], 0ff4f9fffh
push    dword ptr [esi+20h]
push    0fffffff0h
push    ebx
call    ebp
push    esi
push    ebx
push    edi
call    sub_277b6303
xor     ebp, ebp
mov     eax, [esi+20h]
push    ebp
and     eax, 40000202h
push    dword ptr [esi+4]
or      eax, 16200411h
push    dword ptr [esi+8]
push    ebx
push    dword ptr [esi+10h]
push    dword ptr [esi+14h]
push    ebp
push    ebp
push    eax
push    dword ptr [esi+24h]
push    offset acombobox_0
push    ebp
call    ds:createwindowexa
cmp     eax, ebp
mov     [edi+18h], eax
jz      short loc_277e888e
push    edi
push    ebp
push    offset sub_277e8687
push    eax
call    sub_27812153
test    eax, eax
jz      short loc_277e888e
push    edi
call    sub_277e7e99
test    eax, eax
jnz     short loc_277e886a
mov     eax, [edi+8]
and     eax, 3
cmp     al, 2
jz      short loc_277e888e
push    ebp
push    ebp
push    edi
call    sub_277e7d39
or      dword ptr [edi+30h], 0ffffffffh
push    ebp
push    edi
mov     dword ptr [edi+2ch], 0ah
call    sub_277e9005
push    1
pop     eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    8
push    edi
call    sub_277e7dfc
xor     eax, eax
jmp     short loc_277e8887
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+arg_0]
push    edi
push    0
mov     eax, [esi+24h]
push    esi
mov     [esp+18h+arg_0], eax
mov     eax, [esp+18h+arg_4]
mov     [esi+24h], eax
call    sub_277e8bfc
mov     edi, ds:sendmessagea
mov     ebp, eax
push    ebp
mov     ebx, 153h
push    0ffffffffh
push    ebx
push    dword ptr [esi]
call    edi
push    ebp
xor     ebp, ebp
push    ebp
push    ebx
push    dword ptr [esi+18h]
call    edi
push    1
push    ebp
push    dword ptr [esi+18h]
call    ds:invalidaterect
cmp     [esi+1ch], ebp
jz      short loc_277e88ec
push    esi
call    sub_277e8022
mov     eax, [esp+10h+arg_0]
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 164h
push    ebx
mov     ebx, [ebp+hdc]
push    esi
push    edi
lea     esi, [ebx+1ch]
lea     edi, [ebp+rect]
movsd
movsd
movsd
mov     eax, [ebx+18h]
movsd
mov     edi, [ebp+arg_0]
xor     esi, esi
mov     [ebp+hdc], eax
mov     [ebp+var_4], esi
push    dword ptr [edi+18h]
mov     [ebp+var_2c], esi
mov     [ebp+var_14], esi
mov     [ebp+var_10], esi
call    ds:iswindowenabled
and     [ebp+string], 0
mov     [ebp+var_28], eax
mov     eax, y
add     [ebp+rect.top], eax
mov     eax, [ebx+8]
cmp     eax, 0ffffffffh
jz      loc_277e8b85
mov     [ebp+var_54], eax
lea     eax, [ebp+var_58]
lea     ecx, [ebp+string]
push    eax
push    edi
mov     [ebp+var_58], 1fh
mov     [ebp+var_50], ecx
mov     [ebp+var_4c], 104h
call    sub_277e8cfa
mov     eax, [edi+30h]
cmp     eax, [ebx+8]
jz      short loc_277e899a
test    byte ptr [ebx+11h], 10h
jz      short loc_277e89a1
cmp     eax, 0ffffffffh
jnz     short loc_277e89a1
push    esi
push    esi
push    147h
push    dword ptr [edi+18h]
call    ds:sendmessagea
cmp     [ebx+8], eax
jnz     short loc_277e89a1
mov     [ebp+var_14], 1
mov     eax, [edi+24h]
test    eax, eax
jz      short loc_277e89c6
test    byte ptr [edi+20h], 2
jnz     short loc_277e89c6
lea     ecx, [ebp+var_2c]
push    ecx
lea     ecx, [ebp+var_4]
push    ecx
push    eax
call    sub_278139de
cmp     [ebp+var_4], 0
jz      short loc_277e89c6
add     [ebp+var_4], 4
test    byte ptr [ebx+11h], 10h
jnz     loc_277e8bb9
mov     esi, [edi+2ch]
imul    esi, [ebp+var_3c]
add     esi, 3
mov     eax, [ebp+rect.left]
mov     ecx, [ebp+var_4]
add     eax, esi
mov     [ebp+var_30], eax
add     eax, ecx
mov     [ebp+x], eax
mov     [ebp+rect.left], eax
lea     eax, [ebp+string]
push    eax
call    ds:lstrlena
lea     ecx, [ebp+sz]
mov     [ebp+c], eax
push    ecx
push    eax
lea     eax, [ebp+string]
push    eax
push    [ebp+hdc]
call    ds:gettextextentpointa
mov     eax, [ebp+sz._cx]
mov     ecx, [ebp+rect.left]
add     eax, ecx
dec     [ebp+rect.left]
inc     eax
cmp     dword ptr [ebx+0ch], 4
mov     [ebp+rect.right], eax
jz      loc_277e8b6b
mov     eax, [ebp+rect.top]
mov     ecx, [ebp+rect.bottom]
add     eax, ecx
and     [ebp+arg_0], 0
cdq
sub     eax, edx
mov     esi, eax
mov     eax, [ebp+sz.cy]
cdq
sub     eax, edx
sar     esi, 1
mov     ecx, eax
mov     eax, esi
sar     ecx, 1
sub     eax, ecx
mov     [ebp+y], eax
mov     eax, [ebx+10h]
test    al, 1
jz      short loc_277e8a6c
test    ah, 10h
jz      short loc_277e8a65
mov     eax, [edi+8]
and     eax, 3
cmp     al, 2
jz      short loc_277e8a6c
mov     [ebp+arg_0], 1
cmp     [ebp+var_28], 0
jnz     loc_277e8bd9
push    color
push    [ebp+hdc]
call    ds:setbkcolor
push    11h
call    ds:getsyscolor
push    eax
push    [ebp+hdc]
call    ds:settextcolor
test    byte ptr [ebx+11h], 10h
jz      short loc_277e8aa8
mov     eax, [ebx+24h]
cmp     [ebp+rect.right], eax
jle     short loc_277e8aa8
mov     [ebp+rect.right], eax
cmp     [ebp+var_10], 0
jnz     short loc_277e8acf
push    0
lea     eax, [ebp+string]
push    [ebp+c]
push    eax
lea     eax, [ebp+rect]
push    eax
push    6
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ds:exttextouta
mov     eax, [edi+24h]
test    eax, eax
mov     [ebp+y], eax
jz      loc_277e8b5f
mov     ecx, [ebx+8]
cmp     ecx, 0ffffffffh
jnz     short loc_277e8aeb
test    byte ptr [edi+4ch], 1
jz      short loc_277e8b5f
mov     eax, [edi+20h]
and     eax, 3
mov     [ebp+x], eax
jz      short loc_277e8afc
test    byte ptr [ebx+11h], 10h
jnz     short loc_277e8b5f
mov     eax, [ebx+10h]
xor     edx, edx
test    ah, 10h
jz      short loc_277e8b0e
cmp     [ebp+var_28], edx
jnz     short loc_277e8b0e
push    1
pop     edx
cmp     ecx, 0ffffffffh
jnz     short loc_277e8b19
test    byte ptr [edi+4ch], 1
jz      short loc_277e8b5f
cmp     [ebp+x], 0
jnz     short loc_277e8b5f
mov     ecx, [ebp+arg_0]
or      ecx, [ebp+var_14]
jz      short loc_277e8b2e
mov     edi, [ebp+var_44]
test    edi, edi
jge     short loc_277e8b31
mov     edi, [ebp+var_48]
mov     ecx, [ebp+var_40]
and     al, 1
shl     ecx, 8
neg     al
sbb     eax, eax
and     eax, 6
or      ecx, eax
mov     eax, [ebp+var_2c]
or      ecx, edx
cdq
sub     eax, edx
push    ecx
sar     eax, 1
sub     esi, eax
push    esi
push    [ebp+var_30]
push    [ebp+hdc]
push    edi
push    [ebp+y]
call    sub_27814e65
cmp     dword ptr [ebx+0ch], 4
jz      short loc_277e8b6b
test    byte ptr [ebx+10h], 10h
jz      short loc_277e8b7e
cmp     [ebp+var_10], 0
jnz     short loc_277e8b7e
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    byte ptr [edi+4ch], 1
jz      loc_277e89a1
or      [ebp+var_54], 0ffffffffh
lea     eax, [ebp+string]
mov     [ebp+var_50], eax
lea     eax, [ebp+var_58]
push    eax
push    edi
mov     [ebp+var_58], 1fh
mov     [ebp+var_4c], 104h
call    sub_277e8cfa
jmp     loc_277e89a1
cmp     dword ptr [edi+1ch], 0
jz      short loc_277e8bc6
mov     [ebp+var_10], 1
test    byte ptr [edi+20h], 2
jz      loc_277e89da
and     [ebp+var_4], 0
jmp     loc_277e89da
cmp     [ebp+arg_0], 0
jz      loc_277e8a97
push    0dh
call    ds:getsyscolor
push    eax
push    [ebp+hdc]
call    ds:setbkcolor
push    0eh
jmp     loc_277e8a87
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
push    esi
push    edi
push    0
call    ds:getdc
push    [ebp+arg_0]
mov     [ebp+hdc], eax
call    sub_277e9347
mov     edi, ds:selectobject
mov     esi, eax
test    esi, esi
jz      short loc_277e8c2c
push    esi
push    [ebp+hdc]
call    edi
mov     esi, eax
lea     eax, [ebp+sz]
push    eax
push    1
push    offset aw
push    [ebp+hdc]
call    ds:gettextextentpointa
mov     ebx, [ebp+sz.cy]
test    esi, esi
jz      short loc_277e8c4d
push    esi
push    [ebp+hdc]
call    edi
push    [ebp+hdc]
push    0
call    ds:releasedc
xor     ecx, ecx
cmp     [ebp+arg_4], ecx
jnz     short loc_277e8c88
mov     eax, [ebp+arg_0]
add     ebx, 3
mov     eax, [eax+24h]
cmp     eax, ecx
jz      short loc_277e8c88
mov     [ebp+arg_4], ecx
mov     [ebp+arg_0], ecx
lea     ecx, [ebp+arg_0]
push    ecx
lea     ecx, [ebp+arg_4]
push    ecx
push    eax
call    sub_278139de
cmp     ebx, [ebp+arg_0]
jge     short loc_277e8c88
mov     ebx, [ebp+arg_0]
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    8
push    0
push    [esp+4+arg_0]
call    sub_277e8bfc
mov     ecx, [esp+arg_4]
mov     [ecx+10h], eax
retn    8
push    esi
mov     esi, [esp+4+arg_8]
push    edi
mov     edi, [esp+8+arg_4]
test    byte ptr [esi], 10h
jz      short loc_277e8cbb
mov     eax, [esi+1ch]
mov     [edi+10h], eax
test    byte ptr [esi], 2
jz      short loc_277e8cc6
mov     eax, [esi+10h]
mov     [edi+4], eax
test    byte ptr [esi], 4
jz      short loc_277e8cd1
mov     eax, [esi+14h]
mov     [edi+8], eax
test    byte ptr [esi], 8
jz      short loc_277e8cdc
mov     eax, [esi+18h]
mov     [edi+0ch], eax
test    byte ptr [esi], 1
jz      short loc_277e8cea
push    dword ptr [esi+8]
push    edi
call    sub_2781617a
test    byte ptr [esi], 20h
jz      short loc_277e8cf5
mov     eax, [esi+20h]
mov     [edi+14h], eax
pop     edi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
mov     eax, [ebx+4]
mov     edi, ds:sendmessagea
cmp     eax, 0ffffffffh
jz      loc_277e8e53
push    0
push    eax
mov     eax, [ebp+arg_0]
push    150h
push    dword ptr [eax+18h]
call    edi
mov     esi, eax
mov     [ebp+arg_4], esi
test    esi, esi
jz      loc_277e8e97
cmp     esi, 0ffffffffh
jz      loc_277e8e97
and     [ebp+var_24], 0
test    byte ptr [ebx], 1
jz      short loc_277e8d59
mov     eax, [esi]
cmp     eax, 0ffffffffh
jnz     loc_277e8e63
mov     [ebp+var_24], 1
mov     ecx, [ebx]
test    cl, 2
jz      short loc_277e8d70
cmp     dword ptr [esi+4], 0ffffffffh
jnz     short loc_277e8d6a
or      [ebp+var_24], 2
mov     eax, [esi+4]
mov     [ebx+10h], eax
test    cl, 4
jz      short loc_277e8d85
cmp     dword ptr [esi+8], 0ffffffffh
jnz     short loc_277e8d7f
or      [ebp+var_24], 4
mov     eax, [esi+8]
mov     [ebx+14h], eax
test    cl, 8
jz      short loc_277e8d9a
cmp     dword ptr [esi+0ch], 0ffffffffh
jnz     short loc_277e8d94
or      [ebp+var_24], 8
mov     eax, [esi+0ch]
mov     [ebx+18h], eax
test    cl, 10h
jz      short loc_277e8db3
mov     eax, [esi+10h]
cmp     eax, 0ffffffffh
jnz     loc_277e8e8f
or      [ebp+var_24], 10h
and     dword ptr [ebx+1ch], 0
test    cl, 20h
jz      short loc_277e8dbe
mov     eax, [esi+14h]
mov     [ebx+20h], eax
mov     eax, [ebp+var_24]
test    eax, eax
jz      loc_277e8e49
push    9
mov     esi, ebx
pop     ecx
lea     edi, [ebp+var_24]
rep movsd
mov     esi, [ebp+arg_4]
test    al, 1
mov     ecx, [esi+14h]
mov     [ebp+var_24], eax
mov     [ebp+var_4], ecx
jz      short loc_277e8def
cmp     [ebp+var_18], 0
jz      short loc_277e8def
mov     eax, [ebp+var_1c]
and     byte ptr [eax], 0
lea     eax, [ebp+lparam]
push    eax
push    0fffffce0h
push    [ebp+arg_0]
call    sub_277b9838
mov     eax, [ebp+var_24]
test    al, 10h
jz      short loc_277e8e0d
mov     ecx, [ebp+var_8]
mov     [ebx+1ch], ecx
test    al, 2
jz      short loc_277e8e17
mov     ecx, [ebp+var_14]
mov     [ebx+10h], ecx
test    al, 4
jz      short loc_277e8e21
mov     ecx, [ebp+var_10]
mov     [ebx+14h], ecx
test    al, 8
jz      short loc_277e8e2b
mov     ecx, [ebp+var_c]
mov     [ebx+18h], ecx
test    al, 1
jz      short loc_277e8e35
mov     ecx, [ebp+var_1c]
mov     [ebx+8], ecx
test    eax, 10000000h
jz      short loc_277e8e49
lea     eax, [ebp+var_24]
push    eax
push    esi
push    [ebp+arg_0]
call    sub_277e8ca6
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebp+arg_0]
add     eax, 34h
mov     [ebp+arg_4], eax
mov     esi, eax
jmp     loc_277e8d2d
cmp     dword ptr [ebx+4], 0ffffffffh
jz      short loc_277e8e7a
push    dword ptr [ebx+0ch]
push    dword ptr [ebx+8]
push    eax
call    sub_27816125
jmp     loc_277e8d59
push    dword ptr [ebx+8]
mov     eax, [ebp+arg_0]
push    dword ptr [ebx+0ch]
push    0dh
push    dword ptr [eax+1ch]
call    edi
jmp     loc_277e8d59
mov     [ebx+1ch], eax
jmp     loc_277e8db3
xor     eax, eax
jmp     short loc_277e8e4c
push    ebx
push    ebp
mov     ebp, [esp+8+arg_4]
or      ebx, 0ffffffffh
push    esi
push    edi
mov     eax, [ebp+4]
cmp     eax, ebx
jz      short loc_277e8ee2
mov     esi, [esp+10h+arg_0]
push    0
push    eax
push    150h
push    dword ptr [esi+18h]
call    ds:sendmessagea
cmp     eax, ebx
jnz     short loc_277e8ecf
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    8
push    ebp
push    eax
push    esi
call    sub_277e8ca6
push    esi
call    sub_277e8111
push    1
pop     eax
jmp     short loc_277e8ec8
mov     esi, [esp+10h+arg_0]
push    ebp
lea     edi, [esi+34h]
mov     [esi+38h], ebx
push    edi
push    esi
mov     [esi+3ch], ebx
call    sub_277e8ca6
mov     eax, [esi+1ch]
or      dword ptr [esi+4ch], 1
xor     ebp, ebp
cmp     eax, ebp
jnz     short loc_277e8f13
push    ebp
push    edi
call    sub_2781617a
and     dword ptr [esi+4ch], 0fffffffeh
mov     eax, ebx
jmp     short loc_277e8ec8
mov     edi, [edi]
cmp     edi, ebp
jz      short loc_277e8f3c
push    edi
mov     edi, ds:sendmessagea
push    ebp
push    0ch
push    eax
call    edi
push    ebp
mov     ebx, 0b1h
push    ebp
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    0ffffffffh
push    ebp
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    5
push    ebp
push    ebp
push    dword ptr [esi+18h]
call    ds:redrawwindow
jmp     short loc_277e8edd
push    ebp
mov     ebp, esp
sub     esp, 30h
push    esi
push    edi
mov     edi, [ebp+arg_4]
mov     esi, [edi+10h]
test    esi, esi
jz      short loc_277e8f90
push    0
push    esi
call    sub_2781617a
mov     eax, [edi+8]
mov     [ebp+var_24], 20h
mov     [ebp+var_20], eax
mov     eax, [esi+14h]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffcdeh
push    [ebp+arg_0]
call    sub_277b9838
push    esi
call    ds:localfree
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 30h
push    edi
push    18h
push    40h
call    ds:localalloc
mov     edi, eax
test    edi, edi
jnz     short loc_277e8fb5
or      eax, 0ffffffffh
pop     edi
leave
retn    8
or      dword ptr [edi+4], 0ffffffffh
or      dword ptr [edi+8], 0ffffffffh
push    esi
mov     esi, [ebp+arg_4]
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    ebx
call    sub_277e8ca6
push    edi
push    dword ptr [esi+4]
push    14ah
push    dword ptr [ebx+18h]
call    ds:sendmessagea
cmp     eax, 0ffffffffh
mov     [ebp+arg_4], eax
jz      short loc_277e8ffe
push    9
lea     eax, [ebp+lparam]
pop     ecx
lea     edi, [ebp+var_24]
push    eax
push    0fffffcdfh
rep movsd
push    ebx
call    sub_277b9838
mov     eax, [ebp+arg_4]
pop     ebx
pop     esi
jmp     short loc_277e8fb0
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
mov     ebx, ds:getwindowrect
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+rect]
push    edi
push    eax
push    dword ptr [esi]
call    ebx
lea     eax, [ebp+var_20]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+arg_4]
test    eax, eax
jz      loc_277e90c8
mov     edi, [eax+10h]
sub     edi, [ebp+rect.left]
sub     edi, [ebp+var_20.right]
add     edi, [ebp+var_20.left]
add     edi, [ebp+rect.right]
lea     eax, [ebp+var_30]
push    eax
push    dword ptr [esi+18h]
call    ebx
xor     eax, eax
cmp     edi, eax
jz      short loc_277e9076
mov     ecx, [esi+1ch]
neg     ecx
sbb     ecx, ecx
and     ecx, 8
or      ecx, 10h
push    ecx
mov     ecx, [ebp+var_30.bottom]
sub     ecx, [ebp+var_30.top]
push    ecx
push    edi
push    eax
push    eax
push    eax
push    dword ptr [esi+18h]
call    ds:setwindowpos
lea     eax, [ebp+var_30]
push    eax
push    dword ptr [esi+18h]
call    ebx
mov     eax, [ebp+var_30.bottom]
mov     ecx, [ebp+rect.bottom]
sub     eax, [ebp+rect.top]
mov     edx, [ebp+arg_4]
xor     edi, edi
sub     eax, [ebp+var_20.bottom]
sub     eax, [ebp+var_30.top]
add     eax, [ebp+var_20.top]
add     eax, ecx
cmp     edx, edi
jz      short loc_277e90d3
cmp     eax, [edx+14h]
jl      short loc_277e90a7
test    byte ptr [esi+20h], 8
jnz     short loc_277e90aa
mov     [edx+14h], eax
cmp     [esi+1ch], edi
jz      short loc_277e90c1
push    esi
call    sub_277e8022
push    1
push    edi
push    dword ptr [esi+18h]
call    ds:invalidaterect
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edi, [ebp+var_20.right]
sub     edi, [ebp+var_20.left]
jmp     loc_277e9045
sub     ecx, [ebp+rect.top]
cmp     eax, ecx
jl      short loc_277e90e0
test    byte ptr [esi+20h], 8
jnz     short loc_277e90aa
push    16h
push    eax
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
push    eax
push    edi
push    edi
push    edi
push    dword ptr [esi]
call    ds:setwindowpos
jmp     short loc_277e90aa
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
movzx   edi, ax
shr     eax, 10h
test    esi, esi
mov     ebx, eax
jnz     short loc_277e9118
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
cmp     ebx, 1
jnz     short loc_277e9123
push    esi
call    sub_277e8111
push    dword ptr [esi]
movzx   eax, bx
movzx   ecx, di
shl     eax, 10h
mov     edi, ds:sendmessagea
or      eax, ecx
push    eax
push    111h
push    dword ptr [esi+4]
call    edi
mov     [ebp+arg_4], eax
mov     eax, ebx
sub     eax, 3
jz      short loc_277e9192
dec     eax
jz      short loc_277e9188
sub     eax, 3
jz      short loc_277e9169
dec     eax
jnz     short loc_277e9164
or      dword ptr [esi+30h], 0ffffffffh
push    esi
call    sub_277e8176
and     dword ptr [esi+4ch], 0ffffffefh
mov     eax, [ebp+arg_4]
jmp     short loc_277e9111
push    0
push    0
push    147h
push    dword ptr [esi+18h]
call    edi
push    4
push    esi
mov     [esi+30h], eax
call    sub_277e7f30
or      dword ptr [esi+4ch], 10h
jmp     short loc_277e9164
push    1
push    esi
call    sub_277e7f30
jmp     short loc_277e9164
push    esi
call    sub_277e8176
jmp     short loc_277e9164
mov     eax, [esp+arg_0]
push    0
push    [esp+4+wparam]
push    150h
push    dword ptr [eax+18h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277e91c1
cmp     eax, 0ffffffffh
jz      short loc_277e91c1
mov     eax, [eax+14h]
retn    8
or      eax, 0ffffffffh
jmp     short locret_277e91be
mov     eax, [esp+arg_0]
push    0
push    [esp+4+wparam]
push    150h
push    dword ptr [eax+18h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_277e91f3
cmp     eax, 0ffffffffh
jz      short loc_277e91f3
mov     ecx, [esp+arg_8]
mov     [eax+14h], ecx
xor     eax, eax
retn    0ch
or      eax, 0ffffffffh
jmp     short locret_277e91f0
push    ebp
mov     ebp, esp
sub     esp, 128h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    0
push    0
push    146h
push    dword ptr [ebx+18h]
call    ds:sendmessagea
mov     edi, [ebp+arg_4]
mov     [ebp+arg_0], eax
test    edi, edi
jge     short loc_277e9226
or      edi, 0ffffffffh
lea     esi, [edi+1]
lea     ecx, [ebp+string2]
cmp     esi, eax
mov     [ebp+var_24], 1
mov     [ebp+var_1c], ecx
mov     [ebp+var_18], 104h
jge     short loc_277e926f
lea     eax, [ebp+var_24]
mov     [ebp+var_20], esi
push    eax
push    ebx
call    sub_277e8cfa
test    eax, eax
jz      short loc_277e9269
lea     eax, [ebp+string2]
push    eax
push    [ebp+lpstring1]
push    ebx
call    sub_277e92ad
test    eax, eax
jz      short loc_277e92a9
inc     esi
cmp     esi, [ebp+arg_0]
jl      short loc_277e9244
xor     esi, esi
test    edi, edi
jl      short loc_277e929f
lea     eax, [ebp+var_24]
mov     [ebp+var_20], esi
push    eax
push    ebx
call    sub_277e8cfa
test    eax, eax
jz      short loc_277e929a
lea     eax, [ebp+string2]
push    eax
push    [ebp+lpstring1]
push    ebx
call    sub_277e92ad
test    eax, eax
jz      short loc_277e92a9
inc     esi
cmp     esi, edi
jle     short loc_277e9275
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, esi
jmp     short loc_277e92a2
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    [ebp+lpstring2]
test    byte ptr [eax+20h], 10h
push    [ebp+lpstring1]
jz      short loc_277e92c9
call    ds:lstrcmpa
pop     ebp
retn    0ch
call    ds:lstrcmpia
jmp     short loc_277e92c5
push    ebp
mov     ebp, esp
mov     ecx, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
test    ecx, ecx
push    edi
jz      short loc_277e9342
mov     edx, [esi+20h]
mov     eax, ecx
and     eax, [ebp+arg_4]
not     ecx
and     edx, ecx
or      eax, edx
mov     ecx, [esi+20h]
mov     ebx, eax
xor     ebx, ecx
mov     [ebp+arg_4], ecx
test    bl, 3
mov     [esi+20h], eax
jz      short loc_277e9324
mov     edi, ds:invalidaterect
push    1
push    0
push    dword ptr [esi]
call    edi
cmp     dword ptr [esi+1ch], 0
jz      short loc_277e9324
push    esi
call    sub_277e8022
push    1
push    0
push    dword ptr [esi+1ch]
call    edi
test    bl, 4
jz      short loc_277e9338
mov     eax, [esi+20h]
and     eax, 4
push    eax
push    dword ptr [esi+1ch]
call    nullsub_3
mov     eax, [ebp+arg_4]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     eax, [ebp+arg_4]
jmp     short loc_277e92ef
mov     eax, [esp+arg_0]
mov     eax, [eax+18h]
test    eax, eax
jz      short loc_277e9362
push    0
push    0
push    31h
push    eax
call    ds:sendmessagea
retn    4
xor     eax, eax
jmp     short locret_277e935f
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
xor     ebx, ebx
push    edi
push    ebx
mov     [ebp+var_4], ebx
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     edi, [ebp+msg]
mov     esi, eax
cmp     esi, ebx
mov     ecx, 81h
jnz     short loc_277e9399
cmp     edi, ecx
jz      short loc_277e9399
cmp     edi, 1
jnz     def_277e95da
cmp     edi, 7
ja      short loc_277e93df
jz      short loc_277e93cf
mov     eax, edi
dec     eax
jz      short loc_277e93ba
dec     eax
jnz     def_277e95da
push    esi
call    sub_277e7dfc
mov     eax, [ebp+var_4]
jmp     loc_277e94f2
push    [ebp+lparam]
push    [ebp+hwnd]
call    sub_277e87cc
test    eax, eax
jnz     short loc_277e93b2
or      [ebp+var_4], 0ffffffffh
jmp     short loc_277e93b2
mov     esi, [esi+18h]
cmp     esi, ebx
jz      short loc_277e93b2
push    esi
call    ds:setfocus
jmp     short loc_277e93b2
cmp     edi, 1ah
ja      loc_277e94d0
jz      loc_277e94a8
mov     eax, edi
sub     eax, 0ah
jz      loc_277e947f
dec     eax
jz      short loc_277e9460
dec     eax
jz      short loc_277e9416
dec     eax
jz      loc_277e96ce
sub     eax, 8
jnz     def_277e95da
call    sub_277b344b
jmp     short loc_277e93b2
mov     eax, [esi+1ch]
cmp     eax, ebx
jz      loc_277e96d5
push    [ebp+lparam]
mov     edi, ds:sendmessagea
push    [ebp+wparam]
push    0ch
push    eax
call    edi
push    ebx
push    ebx
mov     ebx, 0b1h
mov     [ebp+var_4], eax
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    0ffffffffh
push    0
push    ebx
push    dword ptr [esi+1ch]
call    edi
push    5
push    0
push    0
push    dword ptr [esi+18h]
call    ds:redrawwindow
jmp     loc_277e93b2
mov     esi, [esi+1ch]
cmp     esi, ebx
jz      loc_277e93b2
push    [ebp+lparam]
push    [ebp+wparam]
push    0bh
push    esi
call    ds:sendmessagea
jmp     loc_277e93b2
mov     eax, [esi+18h]
mov     edi, ds:enablewindow
cmp     eax, ebx
jz      short loc_277e9492
push    [ebp+wparam]
push    eax
call    edi
mov     esi, [esi+1ch]
cmp     esi, ebx
jz      loc_277e93b2
push    [ebp+wparam]
push    esi
call    edi
jmp     loc_277e93b2
push    [ebp+wparam]
call    sub_277b3170
cmp     esi, ebx
jz      loc_277e93b2
test    byte ptr [esi+4ch], 4
jz      loc_277e93b2
push    1
push    ebx
push    esi
call    sub_277e7d39
jmp     loc_277e93b2
cmp     edi, 46h
ja      short loc_277e9541
jz      short loc_277e9533
mov     eax, edi
sub     eax, 2bh
jz      short loc_277e9525
dec     eax
jz      short loc_277e9517
dec     eax
jz      short loc_277e9509
sub     eax, 3
jz      short loc_277e94f9
dec     eax
jnz     short def_277e95da
push    esi
call    sub_277e9347
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277e7d39
xor     eax, eax
jmp     short loc_277e94f2
push    [ebp+lparam]
push    esi
call    sub_277e8f4b
push    1
pop     eax
jmp     short loc_277e94f2
push    [ebp+lparam]
push    esi
call    sub_277e8c91
jmp     loc_277e93b2
push    [ebp+lparam]
push    esi
call    sub_277e88f7
jmp     loc_277e93b2
push    [ebp+lparam]
push    esi
call    sub_277e9005
jmp     loc_277e93b2
mov     eax, 87h
cmp     edi, eax
ja      short loc_277e9579
jz      loc_277e96b9
cmp     edi, ecx
jnz     short def_277e95da
push    ebx
push    0b00000h
push    0fffffff0h
push    [ebp+hwnd]
call    sub_278119ca
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_277e94f2
mov     eax, 141h
cmp     edi, eax
ja      short loc_277e95bc
jz      short loc_277e959d
cmp     edi, 111h
jnz     short def_277e95da
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277e90f7
jmp     loc_277e94f2
push    esi
call    sub_277e7e99
test    eax, eax
jz      loc_277e93b2
push    ebx
push    [ebp+wparam]
push    0c5h
push    dword ptr [esi+1ch]
jmp     loc_277e9474
mov     eax, 158h
cmp     edi, eax
ja      loc_277e969d
jz      loc_277e968c
lea     eax, [edi-142h]
cmp     eax, 15h
ja      short def_277e95da
jmp     ds:jpt_277e95da[eax*4]
push    [ebp+wparam]
push    esi
call    sub_277e919a
jmp     loc_277e94f2
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277e91c6
jmp     loc_277e94f2
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    dword ptr [esi+18h]
call    ds:sendmessagea
cmp     [ebp+wparam], 0ffffffffh
mov     [ebp+var_4], eax
jnz     loc_277e93b2
mov     ebx, ds:getwindowrect
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+18h]
call    ebx
mov     edi, [ebp+rect.bottom]
lea     eax, [ebp+rect]
sub     edi, [ebp+rect.top]
push    eax
push    dword ptr [esi]
call    ebx
lea     eax, [ebp+var_24]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
sub     edi, [ebp+var_24.bottom]
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
push    16h
sub     edi, [ebp+rect.top]
add     edi, [ebp+var_24.top]
add     edi, [ebp+rect.bottom]
push    edi
push    eax
xor     eax, eax
push    eax
push    eax
push    eax
push    dword ptr [esi]
call    ds:setwindowpos
jmp     loc_277e93b2
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    dword ptr [esi+18h]
call    ds:sendmessagea
push    esi
mov     [ebp+var_4], eax
call    sub_277e8111
jmp     loc_277e93b2
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277e91f8
jmp     loc_277e94f2
cmp     edi, 302h
ja      short loc_277e96e7
cmp     edi, 300h
jnb     short loc_277e96ce
cmp     edi, 160h
jnz     def_277e95da
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    dword ptr [esi+18h]
call    ds:sendmessagea
jmp     loc_277e94f2
mov     esi, [esi+1ch]
cmp     esi, ebx
jnz     short loc_277e96dd
or      eax, 0ffffffffh
jmp     loc_277e94f2
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    esi
jmp     short loc_277e96c3
mov     eax, 40eh
cmp     edi, eax
ja      loc_277e978d
jz      loc_277e9785
lea     eax, [edi-401h]
cmp     eax, 9
ja      def_277e95da
jmp     ds:jpt_277e9709[eax*4]
push    ebx
push    [ebp+wparam]
push    esi
call    sub_277e92d1
jmp     loc_277e94f2
mov     eax, [esi+20h]
jmp     loc_277e94f2
mov     eax, [esi+18h]
jmp     loc_277e94f2
push    [ebp+lparam]
push    esi
call    sub_277e8898
jmp     loc_277e94f2
mov     eax, [esi+24h]
jmp     loc_277e94f2
push    [ebp+lparam]
push    esi
call    sub_277e8cfa
jmp     loc_277e94f2
push    [ebp+lparam]
push    esi
call    sub_277e8e9b
jmp     loc_277e94f2
push    [ebp+lparam]
push    esi
call    sub_277e8f96
jmp     loc_277e94f2
mov     eax, [esi+1ch]
jmp     loc_277e94f2
mov     eax, [esi+4ch]
shl     eax, 1eh
sar     eax, 1fh
jmp     loc_277e94f2
push    [ebp+wparam]
push    [ebp+lparam]
jmp     short loc_277e9714
mov     eax, edi
sub     eax, 2005h
jz      short loc_277e97a5
dec     eax
jnz     def_277e95da
mov     eax, [esi+10h]
jmp     loc_277e94f2
mov     ecx, [ebp+wparam]
mov     eax, [esi+10h]
mov     [esi+10h], ecx
jmp     loc_277e94f2
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, [ebp+hinstance]
push    esi
lea     eax, [ebp+wndclass]
mov     esi, offset amsvblibcomboex
push    eax
push    esi
push    ebx
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277e98a0
push    edi
xor     edi, edi
push    7f00h
push    edi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277e9366
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hicon], edi
mov     [ebp+wndclass.lpszmenuname], edi
mov     [ebp+wndclass.hinstance], ebx
mov     [ebp+wndclass.lpszclassname], esi
mov     [ebp+wndclass.hbrbackground], 6
mov     [ebp+wndclass.style], edi
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.cbclsextra], edi
call    ds:registerclassa
movzx   eax, ax
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    1
pop     eax
jmp     short loc_277e989a
push    ebp
mov     ebp, esp
sub     esp, 48h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
test    esi, esi
jz      loc_277e9aec
cmp     dword ptr [esi], 20h
jnz     loc_277e9aec
mov     edi, [ebp+arg_0]
and     dword ptr [esi+0ch], 0
lea     eax, [ebp+rc]
push    eax
push    edi
call    sub_277bf0c6
push    dword ptr [esi+8]
mov     ebx, ds:ptinrect
lea     eax, [ebp+rc]
push    dword ptr [esi+4]
push    eax
call    ebx
test    eax, eax
jz      short loc_277e9900
test    byte ptr [edi+8], 10h
jnz     short loc_277e9900
mov     dword ptr [esi+0ch], 30000h
mov     eax, [esi+0ch]
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    dword ptr [esi+8]
lea     eax, [edi+498h]
push    dword ptr [esi+4]
push    eax
call    ebx
mov     cx, [edi+694h]
lea     edx, [edi+694h]
and     eax, 1
and     ecx, 0fff7h
shl     eax, 3
or      ecx, eax
test    cl, 8
mov     [edx], cx
jz      short loc_277e993b
mov     dword ptr [esi+0ch], 2010003h
jmp     short loc_277e98f6
push    dword ptr [esi+8]
lea     eax, [edi+4a8h]
push    dword ptr [esi+4]
push    eax
call    ebx
test    eax, eax
jz      short loc_277e9957
mov     dword ptr [esi+0ch], 1010003h
jmp     short loc_277e98f6
lea     eax, [ebp+arg_4]
push    eax
push    dword ptr [esi+8]
push    dword ptr [esi+4]
push    edi
call    sub_277e9bdb
test    eax, eax
jz      short loc_277e98f6
lea     eax, [ebp+var_28]
push    eax
push    [ebp+arg_4]
push    edi
call    sub_277bd491
mov     eax, [esi+4]
sub     eax, [ebp+var_28]
mov     [ebp+var_18.right], eax
mov     eax, [esi+8]
sub     eax, [ebp+var_24]
mov     [ebp+var_18.bottom], eax
lea     eax, [ebp+arg_0]
push    eax
lea     eax, [ebp+var_4]
push    eax
push    [ebp+arg_4]
push    edi
call    sub_277e9c95
mov     ax, word ptr [ebp+arg_0]
mov     [esi+12h], ax
mov     ax, [ebp+var_4]
mov     [esi+10h], ax
test    byte ptr [edi+8], 4
jz      short loc_277e99ef
push    [ebp+var_18.bottom]
lea     eax, [edi+568h]
push    [ebp+var_18.right]
push    eax
call    ebx
test    eax, eax
jz      short loc_277e99ef
or      dword ptr [esi+0ch], 20003h
mov     eax, [edi+578h]
add     [esi+4], eax
xor     eax, eax
push    eax
push    eax
push    eax
push    eax
lea     eax, [esi+10h]
push    eax
push    dword ptr [esi+8]
push    dword ptr [esi+4]
push    edi
call    sub_277e9ce2
jmp     loc_277e98f6
push    [ebp+var_18.bottom]
lea     eax, [edi+558h]
push    [ebp+var_18.right]
push    eax
call    ebx
test    eax, eax
jz      short loc_277e9a2e
or      dword ptr [esi+0ch], 20002h
mov     eax, [edi+57ch]
lea     ecx, [ebp+var_8]
push    ecx
lea     ecx, [ebp+var_18.bottom]
push    ecx
push    eax
push    [ebp+var_18.right]
push    edi
call    sub_277e9c45
mov     ax, word ptr [ebp+var_8]
mov     [esi+14h], ax
jmp     loc_277e98f6
push    [ebp+var_18.bottom]
lea     eax, [edi+578h]
push    [ebp+var_18.right]
push    eax
call    ebx
test    eax, eax
jz      short loc_277e9a9b
xor     ebx, ebx
lea     eax, [ebp+var_8]
push    ebx
push    ebx
push    ebx
push    eax
lea     eax, [esi+10h]
or      byte ptr [esi+0eh], 2
push    eax
push    dword ptr [esi+8]
push    dword ptr [esi+4]
push    edi
call    sub_277e9ce2
test    eax, eax
jz      loc_277e98f6
mov     ecx, [ebp+var_8]
or      dword ptr [esi+0ch], 20001h
mov     eax, [esi+0ch]
cmp     ecx, ebx
jg      short loc_277e9a84
or      eax, 2000000h
mov     [esi+0ch], eax
jmp     loc_277e98f6
mov     edx, [ebp+arg_4]
cmp     ecx, [edi+edx*4+5d8h]
jle     loc_277e98f6
or      eax, 1000000h
jmp     short loc_277e9a7c
lea     eax, [ebp+var_48]
or      byte ptr [esi+0eh], 1
push    eax
lea     eax, [ebp+var_18]
push    eax
push    [ebp+arg_4]
push    edi
call    sub_277ea2e9
push    dword ptr [esi+8]
lea     eax, [ebp+var_18]
push    dword ptr [esi+4]
push    eax
call    ebx
test    eax, eax
jz      short loc_277e9acc
or      dword ptr [esi+0ch], 10001h
jmp     loc_277e98f6
push    dword ptr [esi+8]
lea     eax, [ebp+var_48]
push    dword ptr [esi+4]
push    eax
call    ebx
test    eax, eax
jz      loc_277e98f6
or      dword ptr [esi+0ch], 10002h
jmp     loc_277e98f6
or      eax, 0ffffffffh
jmp     loc_277e98f9
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
lea     eax, [ebp+var_20]
push    edi
push    eax
lea     eax, [ebp+pt.y]
push    eax
lea     eax, [ebp+arg_0]
push    eax
lea     eax, [ebp+var_10]
mov     esi, [ebp+arg_0]
push    0
push    eax
push    [ebp+pt.y]
push    [ebp+pt.x]
push    esi
call    sub_277e9ce2
test    eax, eax
jz      short loc_277e9b5e
test    byte ptr [esi+695h], 8
jz      short loc_277e9b40
lea     eax, [esi+3c0h]
push    eax
lea     eax, [ebp+var_10]
push    eax
call    sub_277be055
cmp     eax, 0ffffffffh
jz      short loc_277e9b5e
test    byte ptr [esi+695h], 10h
jz      short loc_277e9b67
lea     eax, [esi+3d0h]
push    eax
lea     eax, [ebp+var_10]
push    eax
call    sub_277be055
cmp     eax, 1
jnz     short loc_277e9b67
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edx, [esi+39ch]
mov     eax, [ebp+arg_0]
imul    eax, edx
add     eax, [esi+578h]
mov     ecx, [ebp+var_20]
mov     edi, [esi+3a0h]
mov     ebx, [ebp+var_1c]
add     eax, ecx
mov     ecx, [ebp+pt.y]
imul    ecx, edi
add     ecx, [esi+57ch]
mov     [esi+594h], eax
add     eax, edx
push    1
add     ecx, ebx
mov     [esi+59ch], eax
mov     [esi+598h], ecx
add     ecx, edi
mov     [esi+5a0h], ecx
pop     eax
jmp     short loc_277e9b60
push    esi
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_277be233
mov     esi, eax
test    esi, esi
jnz     short loc_277e9bd5
push    eax
call    ds:messagebeep
mov     eax, esi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    [ebp+pt.y]
lea     edi, [esi+5c4h]
push    [ebp+pt.x]
push    edi
call    ds:ptinrect
test    eax, eax
jz      short loc_277e9c33
mov     eax, [ebp+pt.y]
mov     ecx, [esi+3a8h]
sub     eax, [esi+5c8h]
add     ecx, 6
cdq
idiv    ecx
mov     ecx, eax
mov     eax, [ebp+pt.x]
sub     eax, [edi]
mov     edi, [esi+3a4h]
add     edi, 6
imul    ecx, [esi+494h]
cdq
idiv    edi
add     ecx, eax
cmp     ecx, [esi+484h]
jl      short loc_277e9c3b
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    10h
mov     eax, [ebp+arg_c]
push    1
mov     [eax], ecx
pop     eax
jmp     short loc_277e9c35
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+pt.y]
push    edi
lea     ebx, [esi+578h]
push    [ebp+pt.x]
push    ebx
call    ds:ptinrect
test    eax, eax
jz      short loc_277e9c8e
mov     eax, [ebp+pt.x]
mov     ecx, [ebp+arg_10]
sub     eax, [ebx]
sub     edi, [esi+57ch]
push    1
cdq
idiv    dword ptr [esi+39ch]
mov     [ecx], eax
mov     eax, edi
cdq
idiv    dword ptr [esi+3a0h]
mov     ecx, [ebp+arg_c]
mov     [ecx], eax
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
push    2
push    [ebp+arg_4]
mov     [ebp+var_a], 1
mov     cx, [eax+466h]
mov     ax, [eax+464h]
mov     [ebp+var_10], ax
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebp+var_10]
push    eax
mov     [ebp+var_e], cx
call    sub_277bd1d8
movzx   eax, [ebp+var_10]
mov     ecx, [ebp+arg_8]
mov     [ecx], eax
mov     ecx, [ebp+arg_c]
movzx   eax, [ebp+var_e]
mov     [ecx], eax
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
mov     ebx, [ebp+pt.y]
push    esi
mov     esi, [ebp+pt.x]
lea     eax, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_0]
push    eax
push    ebx
push    esi
push    edi
call    sub_277e9bdb
test    eax, eax
jz      loc_277e9dd4
lea     eax, [ebp+var_1c]
push    eax
push    [ebp+arg_0]
push    edi
call    sub_277bd491
sub     ebx, [ebp+var_18]
sub     esi, [ebp+var_1c]
lea     eax, [ebp+pt.y]
push    eax
lea     eax, [ebp+var_4]
push    eax
push    ebx
push    esi
push    edi
call    sub_277e9c45
test    eax, eax
jz      loc_277e9dd4
mov     edx, [ebp+var_4]
mov     eax, [ebp+arg_0]
mov     esi, [ebp+pt.y]
imul    edx, 7
mov     ecx, [edi+eax*4+60ch]
sub     ecx, [edi+eax*4+5d4h]
add     esi, ecx
mov     ecx, [ebp+arg_10]
test    ecx, ecx
lea     esi, [edx+esi+1]
jz      short loc_277e9d5c
mov     [ecx], esi
test    esi, esi
jg      short loc_277e9dc0
test    eax, eax
jnz     short loc_277e9dd4
add     esi, [edi+5d4h]
or      eax, 0ffffffffh
mov     [ebp+arg_0], eax
lea     ecx, [ebp+var_8]
push    ecx
lea     ecx, [ebp+var_c]
push    ecx
push    eax
push    edi
call    sub_277e9c95
mov     eax, [ebp+arg_c]
mov     cx, [ebp+var_8]
mov     [eax+2], cx
mov     cx, [ebp+var_c]
mov     [eax+6], si
mov     [eax], cx
mov     eax, [ebp+arg_14]
test    eax, eax
jz      short loc_277e9da1
mov     ecx, [ebp+pt.y]
mov     [eax], ecx
mov     eax, [ebp+arg_18]
test    eax, eax
jz      short loc_277e9dad
mov     ecx, [ebp+var_4]
mov     [eax], ecx
mov     edi, [ebp+arg_1c]
test    edi, edi
jz      short loc_277e9dbb
lea     esi, [ebp+var_1c]
movsd
movsd
movsd
movsd
push    1
pop     eax
jmp     short loc_277e9dd6
cmp     esi, [edi+eax*4+5d8h]
jle     short loc_277e9d70
mov     ecx, [edi+484h]
dec     ecx
cmp     eax, ecx
jge     short loc_277e9ddd
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    20h
inc     eax
mov     [ebp+arg_0], eax
sub     esi, [edi+eax*4+5d4h]
jmp     short loc_277e9d70
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
test    esi, esi
jnz     loc_277e9eac
lea     eax, [ebp+systemtime]
push    eax
call    ds:getlocaltime
mov     ebx, [ebp+arg_0]
and     word ptr [ebx+694h], 0fbffh
lea     edi, [ebx+3e4h]
lea     eax, [ebp+systemtime]
push    edi
push    eax
call    sub_277be055
test    eax, eax
jz      short loc_277e9ea5
lea     eax, [ebp+rect]
push    eax
movzx   eax, word ptr [ebx+3eah]
push    eax
push    dword ptr [ebx+588h]
push    ebx
call    sub_277bd40e
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [ebx]
call    ds:invalidaterect
lea     esi, [ebp+systemtime]
push    ebx
movsd
movsd
movsd
movsd
call    sub_277bd4ef
lea     eax, [ebp+rect]
push    eax
movzx   eax, word ptr [ebx+3eah]
push    eax
push    dword ptr [ebx+588h]
push    ebx
call    sub_277bd40e
mov     esi, ds:invalidaterect
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [ebx]
call    esi
test    byte ptr [ebx+8], 10h
jnz     short loc_277e9e9d
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_277bf0c6
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [ebx]
call    esi
push    dword ptr [ebx]
call    ds:updatewindow
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     edi, [ebp+systemtime]
mov     ebx, [ebp+arg_0]
movsd
movsd
movsd
movsd
or      byte ptr [ebx+695h], 4
jmp     loc_277e9e14
cmp     [esp+arg_4], 1
push    esi
jnz     short loc_277e9f3e
push    edi
push    ebx
mov     ebx, [esp+0ch+arg_0]
test    byte ptr [ebx+695h], 20h
jz      short loc_277e9f36
mov     edi, [ebx+688h]
cmp     dword ptr [ebx+488h], 0
lea     esi, [ebx+488h]
jnz     short loc_277e9f01
push    0
push    15eh
push    1
push    dword ptr [ebx]
call    ds:settimer
mov     [esi], eax
test    byte ptr [ebx+694h], 8
jz      short loc_277e9f0c
neg     edi
push    0
push    edi
push    ebx
call    sub_277e9bb6
lea     esi, [ebx+594h]
lea     edi, [ebx+5a4h]
movsd
movsd
push    dword ptr [ebx]
movsd
movsd
call    ds:updatewindow
push    1
pop     eax
pop     ebx
pop     edi
pop     esi
retn    8
mov     edi, [ebx+484h]
jmp     short loc_277e9edf
cmp     [esp+4+arg_4], 2
mov     esi, [esp+4+arg_0]
jnz     short loc_277e9f5a
test    byte ptr [esi+695h], 4
jnz     short loc_277e9f5a
push    0
push    esi
call    sub_277e9dea
push    0fffffd13h
push    esi
call    sub_277be303
push    1
pop     eax
jmp     short loc_277e9f32
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     ax, [esi+694h]
test    al, 80h
jnz     loc_277ea0d8
mov     ecx, [ebp+arg_4]
or      ax, 180h
mov     dx, [ecx]
mov     di, [ecx+2]
mov     cx, [ecx+6]
mov     [esi+694h], ax
mov     ax, [esi+3f4h]
mov     [ebp+var_10], dx
mov     [esi+414h], ax
mov     ax, [esi+3f6h]
mov     [esi+416h], ax
mov     ax, [esi+3fah]
mov     [esi+41ah], ax
mov     ax, [esi+404h]
mov     [esi+424h], ax
mov     ax, [esi+406h]
mov     [esi+426h], ax
mov     ax, [esi+40ah]
mov     [ebp+var_e], di
mov     [ebp+var_a], cx
mov     [ebp+var_20], dx
mov     [ebp+var_1e], di
mov     [ebp+var_1a], cx
mov     [esi+42ah], ax
lea     eax, [ebp+var_20]
push    eax
lea     eax, [ebp+var_10]
push    eax
call    sub_277c009c
mov     ecx, [esi+3e0h]
inc     eax
cmp     eax, ecx
jbe     short loc_277ea040
test    byte ptr [esi+695h], 1
push    8
jz      loc_277ea1f9
dec     ecx
lea     eax, [ebp+var_20]
push    ecx
push    eax
lea     eax, [ebp+var_10]
push    eax
call    sub_277bd1d8
lea     ebx, [esi+3f4h]
lea     eax, [ebp+var_10]
push    ebx
push    eax
call    sub_277be055
test    eax, eax
jnz     short loc_277ea068
lea     eax, [esi+404h]
push    eax
lea     eax, [ebp+var_20]
push    eax
call    sub_277be055
test    eax, eax
jz      short loc_277ea0d1
lea     edi, [esi+404h]
push    edi
push    ebx
push    esi
call    sub_277c0b19
lea     eax, [ebp+var_20]
push    eax
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_277c0b19
mov     ax, [ebp+var_10]
push    0fffffd13h
mov     [ebx], ax
mov     ax, [ebp+var_e]
mov     [esi+3f6h], ax
mov     ax, [ebp+var_a]
mov     [esi+3fah], ax
mov     ax, [ebp+var_20]
mov     [edi], ax
mov     ax, [ebp+var_1e]
mov     [esi+406h], ax
mov     ax, [ebp+var_1a]
push    esi
mov     [esi+40ah], ax
call    sub_277be303
push    dword ptr [esi]
call    ds:updatewindow
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    ah, 1
jz      loc_277ea170
mov     edi, [ebp+arg_4]
lea     ebx, [esi+3f4h]
push    ebx
push    edi
call    sub_277be055
test    eax, eax
jl      short loc_277ea12e
mov     ax, [ebx]
mov     [ebp+var_10], ax
mov     ax, [esi+3f6h]
mov     [ebp+var_e], ax
mov     ax, [esi+3fah]
mov     [ebp+var_a], ax
mov     ax, [edi]
mov     [ebp+var_20], ax
mov     ax, [edi+2]
mov     [ebp+var_1e], ax
mov     ax, [edi+6]
mov     [ebp+var_1a], ax
jmp     loc_277ea00a
mov     ax, [edi]
mov     [ebp+var_10], ax
mov     ax, [edi+2]
mov     [ebp+var_e], ax
mov     ax, [edi+6]
mov     [ebp+var_a], ax
mov     ax, [ebx]
and     word ptr [esi+694h], 0feffh
mov     [ebp+var_20], ax
mov     ax, [esi+3f6h]
mov     [ebp+var_1e], ax
mov     ax, [esi+3fah]
mov     [ebp+var_1a], ax
jmp     loc_277ea00a
mov     edi, [ebp+arg_4]
lea     ebx, [esi+404h]
push    ebx
push    edi
call    sub_277be055
test    eax, eax
jge     short loc_277ea1b9
mov     ax, [edi]
mov     [ebp+var_10], ax
mov     ax, [edi+2]
mov     [ebp+var_e], ax
mov     ax, [edi+6]
mov     [ebp+var_a], ax
mov     ax, [ebx]
mov     [ebp+var_20], ax
mov     ax, [esi+406h]
mov     [ebp+var_1e], ax
mov     ax, [esi+40ah]
jmp     loc_277ea125
mov     ax, [ebx]
mov     [ebp+var_10], ax
mov     ax, [esi+406h]
mov     [ebp+var_e], ax
mov     ax, [esi+40ah]
mov     [ebp+var_a], ax
mov     ax, [edi]
mov     [ebp+var_20], ax
mov     ax, [edi+2]
mov     [ebp+var_1e], ax
mov     ax, [edi+6]
or      byte ptr [esi+695h], 1
mov     [ebp+var_1a], ax
jmp     loc_277ea00a
push    1
pop     eax
sub     eax, ecx
push    eax
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebp+var_20]
jmp     loc_277ea03a
push    ebx
mov     ebx, [esp+4+arg_0]
push    ebp
push    esi
lea     ebp, [ebx+594h]
lea     eax, [ebx+5a4h]
push    edi
mov     esi, ebp
mov     edi, eax
movsd
movsd
test    byte ptr [ebx+8], 2
movsd
movsd
mov     esi, ds:invalidaterect
jz      short loc_277ea275
lea     eax, [ebx+404h]
push    eax
lea     eax, [ebx+3f4h]
push    eax
push    ebx
call    sub_277c0b19
lea     eax, [ebx+3e4h]
push    eax
push    ebx
call    sub_277be0e8
push    0fffffd16h
push    ebx
call    sub_277be303
push    0
push    ebp
push    dword ptr [ebx]
call    esi
push    dword ptr [ebx]
call    ds:updatewindow
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    0
push    eax
push    dword ptr [ebx]
call    esi
jmp     short loc_277ea247
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+arg_0]
mov     ax, [esi+694h]
test    al, 2
jz      short loc_277ea2e2
test    byte ptr [esi+8], 10h
jnz     short loc_277ea2e2
test    al, 4
jnz     short loc_277ea2e2
mov     eax, [ebp+arg_8]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
mov     [ebp+point.x], ecx
push    dword ptr [esi]
call    ds:clienttoscreen
push    0
push    dword ptr [esi]
push    0
push    [ebp+point.y]
push    [ebp+point.x]
push    182h
push    dword ptr [esi+3b8h]
call    ds:trackpopupmenu
cmp     eax, 1
jl      short loc_277ea2e2
push    esi
call    sub_277ea20b
xor     eax, eax
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_4]
lea     eax, [ebp+var_20]
push    edi
push    eax
push    esi
push    ebx
call    sub_277bd491
mov     ecx, [ebx+3a0h]
mov     edi, [ebp+arg_8]
mov     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
add     eax, [ebp+var_1c]
mov     [ebp+var_c], eax
add     eax, ecx
mov     ecx, [ebx+4b8h]
mov     [ebp+var_4], eax
mov     eax, [ebx+esi*4+4c8h]
add     eax, [ebp+var_20]
add     eax, ecx
mov     [ebp+var_10], eax
mov     eax, [ebx+esi*4+4f8h]
add     eax, [ebp+var_20]
lea     esi, [ebp+var_10]
add     eax, ecx
cmp     dword ptr [ebx+0c8h], 0
mov     [ebp+var_8], eax
jnz     short loc_277ea351
mov     edi, [ebp+arg_c]
movsd
movsd
movsd
movsd
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_4]
mov     edi, [ebp+arg_c]
lea     esi, [ebp+var_10]
mov     eax, [ebx+eax*4+528h]
add     eax, [ebp+var_20]
add     eax, [ebx+4b8h]
cmp     dword ptr [ebx+0c8h], 0
mov     [ebp+var_8], eax
jnz     short loc_277ea380
mov     edi, [ebp+arg_8]
movsd
movsd
movsd
movsd
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 54h
push    ebx
mov     ebx, [ebp+hdc]
push    esi
push    edi
test    byte ptr [ebx+694h], 2
jz      loc_277ea462
mov     edi, [ebp+lparam]
movzx   eax, di
shr     edi, 10h
test    byte ptr [ebx+8], 2
movzx   esi, di
mov     [ebp+pt.x], eax
mov     [ebp+pt.y], esi
jz      loc_277ea46b
mov     ecx, [ebp+wparam]
and     ecx, 4
cmp     cl, 4
jnz     loc_277ea46b
lea     ecx, [ebx+594h]
push    esi
push    eax
push    ecx
call    ds:ptinrect
test    eax, eax
jnz     loc_277ea46b
push    dword ptr [ebx]
call    ds:setcapture
or      byte ptr [ebx+694h], 4
lea     eax, [ebx+3f4h]
push    eax
lea     eax, [ebx+434h]
push    eax
call    sub_277be055
mov     cx, [ebx+694h]
xor     edx, edx
and     cx, 0feffh
push    dword ptr [ebx]
test    eax, eax
setz    dl
and     dl, 1
xor     eax, eax
mov     ah, dl
or      ecx, eax
or      cl, 80h
mov     [ebx+694h], cx
call    ds:getdc
mov     esi, eax
lea     eax, [ebx+594h]
push    eax
push    esi
call    ds:drawfocusrect
or      byte ptr [ebx+694h], 10h
push    esi
push    dword ptr [ebx]
call    ds:releasedc
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
call    sub_277ea790
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    0ch
test    byte ptr [ebx+694h], 4
jnz     short loc_277ea462
push    dword ptr [ebx]
call    ds:setcapture
movsx   eax, word ptr [ebp+lparam]
movsx   ecx, di
mov     esi, ds:ptinrect
or      byte ptr [ebx+694h], 4
push    ecx
mov     [ebp+pt.x], eax
push    eax
lea     eax, [ebx+498h]
push    eax
mov     [ebp+pt.y], ecx
call    esi
mov     cx, [ebx+694h]
and     eax, 1
and     ecx, 0fff7h
shl     eax, 3
or      ecx, eax
test    cl, 8
mov     [ebx+694h], cx
jnz     loc_277ea783
push    [ebp+pt.y]
lea     eax, [ebx+4a8h]
push    [ebp+pt.x]
push    eax
call    esi
test    eax, eax
jnz     loc_277ea783
lea     esi, [ebx+594h]
lea     edi, [ebx+5a4h]
movsd
movsd
test    byte ptr [ebx+8], 2
movsd
movsd
jz      short loc_277ea547
mov     ax, [ebx+3f4h]
mov     [ebx+414h], ax
mov     ax, [ebx+3f6h]
mov     [ebx+416h], ax
mov     ax, [ebx+3fah]
mov     [ebx+41ah], ax
mov     ax, [ebx+404h]
mov     [ebx+424h], ax
mov     ax, [ebx+406h]
mov     [ebx+426h], ax
mov     ax, [ebx+40ah]
mov     [ebx+42ah], ax
push    [ebp+pt.y]
push    [ebp+pt.x]
push    ebx
call    sub_277e9af4
test    eax, eax
jz      short loc_277ea5cf
test    byte ptr [ebx+8], 2
jz      short loc_277ea581
xor     edi, edi
lea     eax, [ebp+var_34]
push    edi
push    edi
push    edi
push    edi
push    eax
push    [ebp+pt.y]
push    [ebp+pt.x]
push    ebx
call    sub_277e9ce2
test    eax, eax
jz      short loc_277ea581
lea     eax, [ebp+var_34]
push    eax
push    ebx
call    sub_277e9f6a
push    dword ptr [ebx]
call    ds:getdc
mov     esi, eax
lea     eax, [ebx+594h]
push    eax
push    esi
call    ds:drawfocusrect
or      byte ptr [ebx+694h], 10h
push    esi
push    dword ptr [ebx]
call    ds:releasedc
mov     ax, word ptr [ebp+var_34]
mov     [ebx+434h], ax
mov     ax, word ptr [ebp+var_34+2]
mov     [ebx+436h], ax
mov     ax, [ebp+var_2e]
mov     [ebx+43ah], ax
jmp     loc_277ea462
test    byte ptr [ebx+8], 10h
jnz     short loc_277ea60d
lea     eax, [ebp+rc]
push    eax
push    ebx
call    sub_277bf0c6
push    [ebp+pt.y]
lea     eax, [ebp+rc]
push    [ebp+pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277ea60d
push    ebx
call    sub_277bf76d
and     word ptr [ebx+694h], 0fffbh
push    ebx
call    sub_277ea20b
jmp     loc_277ea462
lea     eax, [ebp+var_4]
push    eax
push    [ebp+pt.y]
push    [ebp+pt.x]
push    ebx
call    sub_277e9bdb
test    eax, eax
jnz     short loc_277ea635
push    ebx
call    sub_277bf76d
and     word ptr [ebx+694h], 0fffbh
jmp     loc_277ea462
lea     eax, [ebp+var_8]
push    eax
lea     eax, [ebp+var_c]
push    eax
push    [ebp+var_4]
push    ebx
call    sub_277e9c95
lea     eax, [ebp+var_24]
push    eax
lea     eax, [ebp+var_44]
push    eax
push    [ebp+var_4]
push    ebx
call    sub_277ea2e9
push    [ebp+pt.y]
lea     eax, [ebp+var_44]
xor     edi, edi
push    [ebp+pt.x]
mov     [ebp+hdc], edi
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277ea6ec
push    ebx
call    sub_277bf76d
mov     eax, [ebp+var_44.right]
and     word ptr [ebx+694h], 0fffbh
mov     [ebp+pt.x], eax
mov     eax, [ebp+var_44.bottom]
mov     [ebp+pt.y], eax
lea     eax, [ebp+pt]
push    eax
push    dword ptr [ebx]
call    ds:clienttoscreen
push    edi
push    dword ptr [ebx]
push    edi
push    [ebp+pt.y]
push    [ebp+pt.x]
push    18ah
push    dword ptr [ebx+3bch]
call    ds:trackpopupmenu
push    [ebp+lparam]
mov     esi, eax
push    [ebp+wparam]
push    202h
push    dword ptr [ebx]
call    ds:postmessagea
cmp     esi, 1
jl      short loc_277ea6d2
sub     esi, [ebp+var_8]
mov     [ebp+hdc], esi
cmp     [ebp+hdc], edi
jz      short loc_277ea6ec
push    edi
push    [ebp+hdc]
push    ebx
call    sub_277e9bb6
push    0fffffd13h
push    ebx
call    sub_277be303
push    [ebp+pt.y]
lea     eax, [ebp+var_24]
push    [ebp+pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jz      loc_277ea462
mov     ax, [ebx+694h]
mov     edx, 6d9h
test    ah, 8
jz      short loc_277ea71c
movzx   edx, word ptr [ebx+3c0h]
test    ah, 10h
mov     [ebp+lparam], 0bb7h
jz      short loc_277ea732
movzx   eax, word ptr [ebx+3d0h]
mov     [ebp+lparam], eax
cmp     [ebx+0c8h], edi
mov     ecx, [ebp+var_24.top]
mov     eax, [ebp+var_24.bottom]
jz      short loc_277ea77a
mov     esi, [ebp+var_24.right]
push    dword ptr [ebp+var_c]
sub     eax, ecx
push    edx
lea     edx, [eax+eax]
push    [ebp+lparam]
push    edi
push    dword ptr [ebx+368h]
push    1
push    dword ptr [ebx]
push    edx
push    eax
cdq
sub     eax, edx
sar     eax, 1
sub     ecx, eax
push    ecx
push    esi
push    50000000h
call    sub_277e248c
mov     [ebx+370h], eax
jmp     loc_277ea462
mov     esi, [ebp+var_24.left]
add     esi, ecx
sub     esi, eax
jmp     short loc_277ea743
push    1
push    ebx
call    sub_277e9ec2
jmp     loc_277ea462
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
mov     ebx, [ebp+hdc]
push    esi
push    edi
test    byte ptr [ebx+694h], 4
jz      loc_277ea8ba
mov     eax, [ebp+arg_8]
mov     edi, ds:ptinrect
movsx   esi, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+pt.y], eax
push    eax
lea     eax, [ebx+498h]
push    esi
push    eax
mov     [ebp+pt.x], esi
call    edi
test    eax, eax
mov     [ebp+hdc], eax
jnz     loc_277ea8f4
push    [ebp+pt.y]
lea     eax, [ebx+4a8h]
push    esi
push    eax
call    edi
test    eax, eax
jnz     loc_277ea8f1
push    dword ptr [ebx]
call    ds:getdc
lea     esi, [ebx+488h]
mov     [ebp+hdc], eax
mov     eax, [esi]
test    eax, eax
jz      short loc_277ea827
push    eax
push    dword ptr [ebx]
call    ds:killtimer
mov     al, [ebx+694h]
and     dword ptr [esi], 0
shr     eax, 3
and     eax, 1
push    0
push    eax
push    [ebp+hdc]
push    ebx
call    sub_277bf1df
push    [ebp+pt.y]
lea     esi, [ebx+594h]
push    [ebp+pt.x]
push    esi
call    edi
test    eax, eax
jnz     loc_277ea8d5
test    byte ptr [ebx+694h], 10h
mov     edi, ds:drawfocusrect
jz      short loc_277ea853
push    esi
push    [ebp+hdc]
call    edi
push    [ebp+pt.y]
push    [ebp+pt.x]
push    ebx
call    sub_277e9af4
mov     cx, [ebx+694h]
and     eax, 1
and     ecx, 0ffefh
shl     eax, 4
or      ecx, eax
test    cl, 10h
mov     [ebx+694h], cx
jz      short loc_277ea8c3
test    cl, 80h
jz      short loc_277ea8a9
xor     eax, eax
push    eax
push    eax
push    eax
push    eax
lea     eax, [ebp+var_18]
push    eax
push    [ebp+pt.y]
push    [ebp+pt.x]
push    ebx
call    sub_277e9ce2
test    eax, eax
jz      short loc_277ea8a9
lea     eax, [ebp+var_18]
push    eax
push    ebx
call    sub_277e9f6a
push    esi
push    [ebp+hdc]
call    edi
push    [ebp+hdc]
push    dword ptr [ebx]
call    ds:releasedc
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    0ch
lea     esi, [ebx+5a4h]
lea     edi, [ebx+594h]
movsd
movsd
movsd
movsd
jmp     short loc_277ea8af
test    byte ptr [ebx+694h], 10h
jnz     short loc_277ea8af
push    esi
push    [ebp+hdc]
call    ds:drawfocusrect
or      byte ptr [ebx+694h], 10h
jmp     short loc_277ea8af
mov     eax, [ebp+hdc]
cmp     dword ptr [ebx+488h], 0
jnz     short loc_277ea8ba
mov     cx, [ebx+694h]
and     eax, 1
and     cx, 0fff7h
push    1
shl     eax, 3
or      ecx, eax
push    ebx
mov     [ebx+694h], cx
call    sub_277e9ec2
jmp     short loc_277ea8ba
push    ebp
mov     ebp, esp
sub     esp, 24h
mov     eax, [ebp+arg_4]
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
xor     edi, edi
cmp     eax, 21h
mov     [ebp+var_4], edi
ja      short loc_277ea97b
cmp     eax, 21h
jz      short loc_277ea968
sub     eax, 10h
jz      short loc_277ea95a
dec     eax
jnz     short loc_277ea99a
push    1
mov     ecx, ebx
pop     eax
mov     [ecx+68ch], eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     ecx, [ebp+arg_0]
push    1
pop     eax
mov     [ecx+690h], eax
jmp     short loc_277ea953
or      eax, 0ffffffffh
xor     ecx, ecx
cmp     [ebx+68ch], edi
setz    cl
inc     ecx
mov     esi, ecx
jmp     short loc_277ea9a4
sub     eax, 22h
jz      loc_277eab8d
dec     eax
jz      loc_277eab2d
dec     eax
jz      short loc_277eaa00
dec     eax
jz      short loc_277ea9fb
dec     eax
jz      short loc_277ea9f6
dec     eax
jz      short loc_277ea9ef
dec     eax
jz      short loc_277ea99e
xor     eax, eax
jmp     short loc_277ea953
push    1
pop     eax
push    4
pop     esi
mov     cx, [ebx+694h]
test    cl, 80h
jz      loc_277eab95
test    ch, 1
jz      loc_277eab95
mov     cx, [ebx+404h]
mov     [ebp+var_14], cx
mov     cx, [ebx+406h]
mov     [ebp+var_12], cx
mov     cx, [ebx+40ah]
push    esi
push    eax
lea     eax, [ebp+var_14]
mov     [ebp+var_e], cx
push    eax
lea     eax, [ebp+var_14]
push    eax
call    sub_277bd1d8
jmp     short loc_277eaa4a
push    1
pop     eax
push    8
jmp     short loc_277ea9a3
or      eax, 0ffffffffh
jmp     short loc_277ea9a1
or      eax, 0ffffffffh
jmp     short loc_277ea9f2
mov     ebx, [ebp+arg_0]
cmp     [ebx+68ch], edi
jz      short loc_277eaa2e
mov     ax, [ebx+464h]
mov     [ebp+var_14], ax
mov     ax, [ebx+466h]
mov     [ebp+var_12], ax
mov     ax, [ebx+46ah]
mov     [ebp+var_e], ax
jmp     short loc_277eaa4a
mov     ax, [ebx+3f4h]
mov     [ebp+var_e], 1
mov     [ebp+var_14], ax
mov     ax, [ebx+3f6h]
mov     [ebp+var_12], ax
cmp     [ebx+690h], edi
jz      loc_277eabb7
lea     eax, [ebx+434h]
push    eax
lea     eax, [ebx+3f4h]
push    eax
call    sub_277be055
mov     cx, [ebx+694h]
xor     edx, edx
and     cx, 0feffh
cmp     eax, edi
setnl   dl
and     dl, 1
xor     eax, eax
mov     ah, dl
or      ecx, eax
or      cl, 80h
mov     [ebx+694h], cx
test    byte ptr [ebx+694h], 10h
jz      loc_277eabe6
push    dword ptr [ebx]
call    ds:getdc
lea     esi, [ebx+594h]
mov     edi, eax
push    esi
push    edi
call    ds:drawfocusrect
push    edi
push    dword ptr [ebx]
call    ds:releasedc
lea     edi, [ebp+var_24]
movsd
movsd
test    byte ptr [ebx+8], 2
movsd
lea     eax, [ebp+var_14]
push    eax
push    ebx
movsd
jz      loc_277eabf7
call    sub_277e9f6a
push    ebx
call    sub_277be179
test    byte ptr [ebx+694h], 10h
jz      short loc_277eab25
lea     edi, [ebx+5a4h]
lea     esi, [ebx+594h]
movsd
movsd
movsd
movsd
lea     esi, [ebp+var_24]
lea     edi, [ebx+594h]
movsd
movsd
push    dword ptr [ebx]
movsd
movsd
call    ds:getdc
mov     esi, eax
lea     eax, [ebx+594h]
push    eax
push    esi
call    ds:drawfocusrect
push    esi
push    dword ptr [ebx]
call    ds:releasedc
mov     eax, [ebp+var_4]
jmp     loc_277ea953
mov     ebx, [ebp+arg_0]
cmp     [ebx+68ch], edi
jz      short loc_277eab5a
mov     ax, [ebx+474h]
mov     [ebp+var_14], ax
mov     ax, [ebx+476h]
mov     [ebp+var_12], ax
mov     ax, [ebx+47ah]
jmp     loc_277eaa28
mov     cx, [ebx+3f6h]
mov     ax, [ebx+3f4h]
mov     dx, [ebx+3fah]
mov     [ebp+var_12], cx
mov     [ebp+var_14], ax
mov     [ebp+var_e], dx
movzx   ecx, cx
movzx   eax, ax
push    ecx
push    eax
call    sub_277bd0f4
jmp     loc_277eaa28
push    1
pop     eax
jmp     loc_277ea96b
mov     cx, [ebx+3f4h]
mov     [ebp+var_14], cx
mov     cx, [ebx+3f6h]
mov     [ebp+var_12], cx
mov     cx, [ebx+3fah]
jmp     loc_277ea9da
mov     ax, [ebp+var_14]
and     word ptr [ebx+694h], 0ff7fh
mov     [ebx+434h], ax
mov     ax, [ebp+var_12]
mov     [ebx+436h], ax
mov     ax, [ebp+var_e]
mov     [ebx+43ah], ax
jmp     loc_277eaa8f
lea     esi, [ebx+594h]
lea     edi, [ebx+5a4h]
jmp     loc_277eaac0
call    sub_277be0e8
test    eax, eax
mov     [ebp+var_4], eax
jz      loc_277eaade
mov     esi, ds:invalidaterect
lea     eax, [ebx+5a4h]
push    0
push    eax
push    dword ptr [ebx]
call    esi
lea     eax, [ebx+594h]
push    0
push    eax
push    dword ptr [ebx]
call    esi
push    dword ptr [ebx]
call    ds:updatewindow
jmp     loc_277eaade
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
mov     edx, 6d9h
mov     ebx, 0bb7h
mov     ax, [esi+694h]
test    ah, 8
jz      short loc_277eac59
mov     dx, [esi+3c0h]
test    ah, 10h
jz      short loc_277eac65
mov     bx, [esi+3d0h]
mov     eax, [ebp+arg_8]
cmp     eax, 4eh
ja      short loc_277eac80
jz      loc_277ead44
cmp     eax, 8
jz      loc_277ead9e
xor     eax, eax
jmp     short loc_277eacf3
mov     ecx, 0a4h
cmp     eax, ecx
ja      short loc_277eac96
jz      loc_277ead9e
cmp     eax, 0a1h
jmp     short loc_277eac76
mov     ecx, 100h
cmp     eax, ecx
ja      short loc_277ead14
jz      short loc_277eaca8
cmp     eax, 0a7h
jmp     short loc_277eac76
mov     eax, [ebp+arg_c]
sub     eax, 0dh
jz      loc_277ead9e
sub     eax, 0eh
jz      loc_277ead9e
sub     eax, 0bh
jz      short loc_277eacf9
dec     eax
dec     eax
jnz     short loc_277eac7c
mov     eax, [ebp+arg_14]
movzx   ecx, dx
and     dword ptr [eax], 0
movzx   eax, word ptr [esi+3f4h]
dec     eax
cmp     eax, ecx
jl      short loc_277eacf0
push    0
push    0fffffff4h
push    esi
call    sub_277e9bb6
push    0fffffd13h
push    esi
call    sub_277be303
push    1
pop     eax
pop     esi
pop     ebx
pop     ebp
retn    18h
mov     eax, [ebp+arg_14]
movzx   ecx, bx
and     dword ptr [eax], 0
movzx   eax, word ptr [esi+3f4h]
inc     eax
cmp     eax, ecx
jg      short loc_277eacf0
push    0
push    0ch
jmp     short loc_277eacdf
sub     eax, 102h
jz      loc_277eadc1
dec     eax
dec     eax
jz      short loc_277ead9e
sub     eax, 3
jz      short loc_277ead9e
sub     eax, 0fah
jz      short loc_277ead9e
sub     eax, 3
jz      short loc_277ead9e
sub     eax, 3
jz      short loc_277ead9e
sub     eax, 1e47h
jnz     loc_277eac7c
mov     eax, [ebp+arg_10]
cmp     dword ptr [eax+8], 0fffffd2eh
jnz     loc_277eac7c
movzx   ecx, word ptr [esi+3f4h]
mov     eax, [eax+10h]
movzx   edx, dx
add     ecx, eax
cmp     ecx, edx
jl      short loc_277ead93
movzx   edx, bx
cmp     ecx, edx
jg      short loc_277ead93
lea     eax, [eax+eax*2]
push    0
shl     eax, 2
push    eax
push    esi
call    sub_277e9bb6
push    0fffffd13h
push    esi
call    sub_277be303
mov     eax, [ebp+arg_14]
and     dword ptr [eax], 0
jmp     loc_277eacf0
mov     eax, [ebp+arg_14]
or      dword ptr [eax], 0ffffffffh
jmp     loc_277eacf0
push    dword ptr [esi+370h]
lea     ebx, [esi+370h]
call    ds:destroywindow
and     dword ptr [ebx], 0
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
jmp     short loc_277ead88
mov     eax, [ebp+arg_c]
cmp     eax, 26h
jz      short loc_277ead88
cmp     eax, 28h
jz      short loc_277ead88
cmp     eax, 0dh
jz      short loc_277ead88
cmp     eax, 1bh
jnz     loc_277eac7c
jmp     short loc_277ead88
push    ebp
mov     ebp, esp
sub     esp, 0cch
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebx+0ch]
mov     eax, [esi]
movsd
movsd
movsd
mov     [ebp+var_20], eax
mov     eax, [ebx]
movsd
push    dword ptr [eax]
call    ds:getdc
push    dword ptr [ebx+8]
mov     [ebp+hdc], eax
push    eax
call    ds:selectobject
mov     esi, [ebp+arg_0]
and     [ebp+var_14], 0
mov     ebx, [ebx+3ch]
mov     [ebp+h], eax
cmp     dword ptr [esi+24h], 0
jle     loc_277eaed4
add     esi, 28h
mov     [ebp+var_8], esi
mov     esi, [ebp+var_8]
lea     edi, [ebp+var_34]
movsd
movsd
movsd
mov     ecx, [ebx+1ch]
movsd
mov     edi, [ebx+18h]
xor     esi, esi
cmp     [ebx+34h], esi
mov     [ebp+var_4], ecx
jz      loc_277eaef4
mov     eax, [ebx+30h]
mov     [ebp+lpstring], eax
cmp     dword ptr [ebx], 9
jnz     loc_277eaf6d
xor     eax, eax
lea     edi, [ebp+var_48]
mov     [ebp+lparam], esi
stosd
stosd
stosd
stosd
stosd
mov     eax, [ebx+30h]
mov     [ebp+var_40], eax
lea     eax, [ebp+lparam]
push    eax
mov     eax, [ebp+arg_0]
push    0fffffd0dh
push    dword ptr [eax]
call    sub_277b9838
mov     eax, [ebp+var_3c]
mov     ecx, [ebp+var_38]
mov     [ebp+psizl._cx], eax
mov     [ebp+psizl.cy], ecx
mov     esi, eax
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+psizl.cy]
mov     edi, [ebp+var_8]
add     ebx, 38h
mov     eax, [eax+4]
add     eax, 2
mov     [ebx-30h], eax
add     ecx, eax
mov     eax, [ebp+var_20]
mov     [ebx-28h], ecx
mov     [ebx-34h], eax
add     eax, esi
lea     esi, [ebp+var_34]
mov     [ebx-2ch], eax
movsd
inc     [ebp+var_14]
mov     [ebp+var_20], eax
mov     eax, [ebp+arg_0]
mov     ecx, [ebp+var_14]
movsd
cmp     ecx, [eax+24h]
movsd
movsd
jl      loc_277eae30
mov     esi, eax
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+hdc]
mov     eax, [esi]
push    dword ptr [eax]
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+datestr]
mov     [ebp+lpstring], eax
mov     eax, [ebx]
cmp     eax, esi
jz      short loc_277eaf5f
cmp     eax, 1
jz      short loc_277eaf46
cmp     eax, 3
jz      short loc_277eaf37
cmp     eax, 4
jz      short loc_277eaf28
jle     loc_277eae54
cmp     eax, 7
jg      loc_277eae54
mov     edi, ecx
jmp     loc_277eae54
push    0bh
mov     [ebp+var_4], 0ch
pop     edi
jmp     loc_277eae54
push    0ah
mov     [ebp+var_4], 11h
pop     edi
jmp     loc_277eae54
cmp     [ebp+var_32], 2
jnz     short loc_277eaf21
cmp     [ebp+var_2e], 1dh
jnz     short loc_277eaf21
mov     eax, [ebp+arg_0]
mov     word ptr [eax+2eh], 1ch
jmp     short loc_277eaf21
mov     eax, [ebx+14h]
movzx   edi, word ptr [eax]
mov     [ebp+var_4], edi
jmp     loc_277eae54
cmp     edi, [ebp+var_4]
jg      loc_277eae91
xor     ecx, ecx
cmp     [ebx+34h], ecx
jnz     short loc_277eafb7
mov     eax, [ebx+14h]
mov     [eax], di
cmp     dword ptr [ebx], 4
mov     eax, [ebp+arg_0]
jge     short loc_277eafe3
lea     edx, [ebp+datestr]
push    80h
push    edx
add     eax, 28h
push    dword ptr [ebx+30h]
mov     [ebp+var_8], eax
push    eax
push    ecx
push    400h
call    ds:getdateformata
test    eax, eax
jnz     short loc_277eafb7
and     [ebp+datestr], al
lea     eax, [ebp+psizl]
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    ds:gettextextentpoint32a
test    eax, eax
jnz     short loc_277eafd8
and     [ebp+psizl._cx], eax
cmp     [ebp+psizl._cx], esi
jle     short loc_277eafe0
mov     esi, [ebp+psizl._cx]
inc     edi
jmp     short loc_277eaf6d
lea     edx, [ebp+datestr]
push    80h
push    edx
add     eax, 28h
push    dword ptr [ebx+30h]
mov     [ebp+var_8], eax
push    eax
push    ecx
push    400h
call    ds:gettimeformata
jmp     short loc_277eafad
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
push    esi
push    edi
mov     edi, [ebp+lpstring]
mov     ebx, offset sz
mov     esi, edi
cmp     byte ptr [edi], 0
jz      short loc_277eb043
movsx   ax, byte ptr [esi]
push    eax
push    ebx
call    sub_278162ef
test    eax, eax
mov     al, [esi]
jz      loc_277eb374
inc     esi
cmp     al, [esi]
jz      short loc_277eb036
inc     [ebp+var_4]
cmp     byte ptr [esi], 0
jnz     short loc_277eb021
push    edi
call    ds:lstrlena
mov     edi, [ebp+var_4]
lea     esi, [eax+edi+1]
imul    edi, 38h
add     esi, 3
and     esi, 0fffffffch
lea     eax, [esi+edi]
push    eax
push    40h
call    ds:localalloc
mov     ebx, eax
test    ebx, ebx
jz      loc_277eb2db
mov     eax, [ebp+arg_0]
mov     eax, [eax+38h]
test    eax, eax
jz      short loc_277eb081
push    eax
call    ds:localfree
mov     eax, [ebp+arg_0]
mov     ecx, [ebp+var_4]
add     esi, ebx
and     byte ptr [eax+40h], 0
or      dword ptr [eax+20h], 0ffffffffh
mov     [eax+24h], ecx
mov     ecx, edi
mov     edx, ecx
mov     [eax+38h], ebx
mov     [eax+3ch], esi
xor     eax, eax
mov     edi, esi
shr     ecx, 2
rep stosd
mov     ecx, edx
and     ecx, 3
rep stosb
mov     edi, [ebp+lpstring]
cmp     byte ptr [edi], 0
jz      loc_277eb2bd
mov     eax, [ebp+arg_0]
push    2
pop     ecx
mov     dl, [edi]
cmp     dl, 79h
jz      loc_277eb32b
cmp     dl, 67h
jz      loc_277eb32b
cmp     dl, 4dh
jnz     short loc_277eb106
lea     edx, [eax+2ah]
mov     [esi], ecx
mov     [esi+14h], edx
mov     dword ptr [esi+18h], 1
mov     dword ptr [esi+1ch], 0ch
mov     [esi+24h], ecx
mov     [esi+30h], ebx
mov     dl, [edi]
cmp     dl, 4dh
jnz     loc_277eb2ad
mov     [ebx], dl
inc     ebx
inc     edi
jmp     short loc_277eb0f5
cmp     dl, 64h
jnz     short loc_277eb158
mov     eax, [ebp+arg_0]
mov     dword ptr [esi], 3
mov     dword ptr [esi+18h], 1
lea     ecx, [eax+2eh]
mov     [esi+14h], ecx
movzx   ecx, word ptr [eax+2ah]
movzx   eax, word ptr [eax+28h]
push    ecx
push    eax
call    sub_277bd0f4
mov     [esi+1ch], eax
mov     dword ptr [esi+24h], 2
mov     [esi+30h], ebx
mov     al, [edi]
cmp     al, 64h
jnz     short loc_277eb149
mov     [ebx], al
inc     ebx
inc     edi
jmp     short loc_277eb13d
and     byte ptr [ebx], 0
mov     eax, [ebp+arg_0]
inc     ebx
push    2
pop     ecx
jmp     loc_277eb2b1
cmp     dl, 74h
jnz     short loc_277eb192
and     dword ptr [esi+18h], 0
lea     edx, [eax+30h]
mov     dword ptr [esi], 4
mov     [esi+14h], edx
mov     dword ptr [esi+1ch], 17h
mov     dword ptr [esi+20h], 0ch
mov     [esi+24h], ecx
mov     [esi+30h], ebx
mov     dl, [edi]
cmp     dl, 74h
jnz     loc_277eb2ad
mov     [ebx], dl
inc     ebx
inc     edi
jmp     short loc_277eb181
cmp     dl, 68h
jnz     short loc_277eb1c5
and     dword ptr [esi+18h], 0
lea     edx, [eax+30h]
mov     dword ptr [esi], 5
mov     [esi+14h], edx
mov     dword ptr [esi+1ch], 17h
mov     [esi+24h], ecx
mov     [esi+30h], ebx
mov     dl, [edi]
cmp     dl, 68h
jnz     loc_277eb2ad
mov     [ebx], dl
inc     ebx
inc     edi
jmp     short loc_277eb1b4
cmp     dl, 48h
jnz     short loc_277eb1f8
and     dword ptr [esi+18h], 0
lea     edx, [eax+30h]
mov     dword ptr [esi], 5
mov     [esi+14h], edx
mov     dword ptr [esi+1ch], 17h
mov     [esi+24h], ecx
mov     [esi+30h], ebx
mov     dl, [edi]
cmp     dl, 48h
jnz     loc_277eb2ad
mov     [ebx], dl
inc     ebx
inc     edi
jmp     short loc_277eb1e7
cmp     dl, 6dh
jnz     short loc_277eb22b
and     dword ptr [esi+18h], 0
lea     edx, [eax+32h]
mov     dword ptr [esi], 6
mov     [esi+14h], edx
mov     dword ptr [esi+1ch], 3bh
mov     [esi+24h], ecx
mov     [esi+30h], ebx
mov     dl, [edi]
cmp     dl, 6dh
jnz     loc_277eb2ad
mov     [ebx], dl
inc     ebx
inc     edi
jmp     short loc_277eb21a
cmp     dl, 73h
jnz     short loc_277eb25a
and     dword ptr [esi+18h], 0
lea     edx, [eax+34h]
mov     dword ptr [esi], 7
mov     [esi+14h], edx
mov     dword ptr [esi+1ch], 3bh
mov     [esi+24h], ecx
mov     [esi+30h], ebx
mov     dl, [edi]
cmp     dl, 73h
jnz     short loc_277eb2ad
mov     [ebx], dl
inc     ebx
inc     edi
jmp     short loc_277eb24d
cmp     dl, 58h
jnz     short loc_277eb275
mov     dword ptr [esi], 9
mov     [esi+30h], ebx
mov     dl, [edi]
cmp     dl, 58h
jnz     short loc_277eb2ad
mov     [ebx], dl
inc     ebx
inc     edi
jmp     short loc_277eb268
cmp     dl, 27h
mov     dword ptr [esi], 8
mov     dword ptr [esi+34h], 1
jnz     short loc_277eb2e2
mov     [esi+30h], ebx
mov     dl, [edi+1]
inc     edi
test    dl, dl
jz      short loc_277eb29c
cmp     dl, 27h
jz      short loc_277eb29c
mov     [ebx], dl
inc     ebx
jmp     short loc_277eb28a
cmp     byte ptr [edi], 0
jz      short loc_277eb2ad
inc     edi
cmp     byte ptr [edi], 27h
jnz     short loc_277eb2ad
mov     byte ptr [ebx], 27h
inc     ebx
jmp     short loc_277eb28a
and     byte ptr [ebx], 0
inc     ebx
add     esi, 38h
cmp     byte ptr [edi], 0
jnz     loc_277eb0c0
mov     esi, [ebp+arg_0]
lea     eax, [esi+0ch]
push    eax
push    esi
call    sub_277eadde
mov     eax, [esi]
push    1
push    0
push    dword ptr [eax]
call    ds:invalidaterect
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     byte ptr [eax+40h], 0
jnz     short loc_277eb2ed
mov     dl, [edi]
mov     [eax+40h], dl
mov     [esi+30h], ebx
mov     al, [edi]
test    al, al
jz      short loc_277eb31d
cmp     al, 27h
jz      short loc_277eb31d
movsx   ax, al
push    eax
push    offset sz
call    sub_278162ef
test    eax, eax
jnz     short loc_277eb31a
mov     al, [edi]
mov     [ebx], al
mov     al, [edi+1]
inc     ebx
inc     edi
test    al, al
jnz     short loc_277eb326
push    2
pop     ecx
and     byte ptr [ebx], 0
mov     eax, [ebp+arg_0]
inc     ebx
jmp     short loc_277eb2b1
push    2
pop     ecx
jmp     short loc_277eb2f6
xor     ecx, ecx
cmp     dl, 79h
setz    cl
and     dword ptr [esi+24h], 0
mov     [esi], ecx
lea     ecx, [eax+28h]
mov     dword ptr [esi+18h], 6d9h
mov     [esi+14h], ecx
mov     dword ptr [esi+1ch], 270fh
mov     [esi+30h], ebx
cmp     [edi], dl
jnz     short loc_277eb35f
inc     dword ptr [esi+24h]
mov     cl, [edi]
mov     [ebx], cl
inc     ebx
inc     edi
jmp     short loc_277eb350
mov     ecx, [esi+24h]
cmp     ecx, 3
jnz     short loc_277eb36b
inc     ecx
mov     [esi+24h], ecx
and     byte ptr [ebx], 0
inc     ebx
jmp     loc_277eb150
cmp     al, 27h
jnz     short loc_277eb399
mov     al, [esi+1]
inc     esi
test    al, al
jz      short loc_277eb384
cmp     al, 27h
jnz     short loc_277eb378
cmp     byte ptr [esi], 0
jz      loc_277eb03b
inc     esi
cmp     byte ptr [esi], 27h
jnz     loc_277eb03b
jmp     short loc_277eb378
test    al, al
jz      loc_277eb03b
cmp     al, 27h
jz      loc_277eb03b
movsx   ax, al
push    eax
push    ebx
call    sub_278162ef
test    eax, eax
jnz     loc_277eb03b
mov     al, [esi+1]
inc     esi
jmp     short loc_277eb399
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+38h]
test    eax, eax
jz      short loc_277eb3d9
push    eax
call    ds:localfree
and     dword ptr [esi+38h], 0
pop     esi
retn    4
mov     eax, [esp+arg_4]
test    eax, eax
jnz     short loc_277eb3ed
push    11h
call    ds:getstockobject
mov     ecx, [esp+arg_0]
mov     [ecx+8], eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_8]
test    eax, eax
jz      short loc_277eb434
push    edi
push    esi
mov     esi, [ebp+arg_4]
lea     edi, [ebp+rc]
movsd
movsd
neg     eax
movsd
push    0
push    eax
lea     eax, [ebp+rc]
push    eax
movsd
call    ds:offsetrect
pop     esi
lea     eax, [ebp+rc]
pop     edi
push    1
push    eax
push    [ebp+hwnd]
call    ds:invalidaterect
leave
retn    0ch
mov     eax, [ebp+arg_4]
jmp     short loc_277eb424
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_4]
mov     eax, [ebx+20h]
push    edi
cmp     esi, eax
jz      short loc_277eb4bd
cmp     eax, 0ffffffffh
jz      short loc_277eb46b
imul    eax, 38h
mov     ecx, [ebx+3ch]
push    dword ptr [ebx+1ch]
lea     eax, [ecx+eax+4]
push    eax
mov     eax, [ebx]
push    dword ptr [eax]
call    sub_277eb3f7
cmp     esi, 0ffffffffh
mov     [ebx+20h], esi
jz      short loc_277eb4bd
imul    esi, 38h
mov     eax, [ebx+3ch]
lea     edi, [ebp+rc]
lea     esi, [eax+esi+4]
mov     eax, [ebx+1ch]
movsd
movsd
movsd
movsd
xor     esi, esi
neg     eax
push    esi
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
mov     ecx, [ebx+0ch]
mov     eax, [ebp+rc.left]
cmp     eax, ecx
jl      short loc_277eb4ab
mov     ecx, [ebx+14h]
mov     eax, [ebp+rc.right]
cmp     eax, ecx
jle     short loc_277eb4c4
sub     eax, ecx
push    1
add     [ebx+1ch], eax
push    esi
mov     eax, [ebx]
push    dword ptr [eax]
call    ds:invalidaterect
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+rc]
push    1
push    eax
jmp     short loc_277eb4b3
push    ebp
mov     ebp, esp
mov     ecx, [ebp+arg_0]
push    ebx
push    esi
push    edi
mov     esi, [ecx+20h]
cmp     esi, 0ffffffffh
jnz     short loc_277eb4e6
cmp     [ebp+arg_4], 0
jge     short loc_277eb4e6
mov     esi, [ecx+24h]
mov     edi, [ecx+24h]
and     [ebp+arg_0], 0
test    edi, edi
jle     short loc_277eb525
mov     eax, [ebp+arg_4]
mov     ebx, esi
add     eax, esi
add     eax, edi
cdq
idiv    edi
mov     eax, [ebp+arg_4]
add     ebx, eax
mov     esi, edx
cmp     esi, ebx
jz      short loc_277eb50e
cmp     dword ptr [ecx+4], 0
jnz     short loc_277eb525
mov     eax, esi
mov     edx, [ecx+3ch]
imul    eax, 38h
cmp     dword ptr [edx+eax+34h], 0
jz      short loc_277eb528
inc     [ebp+arg_0]
cmp     [ebp+arg_0], edi
jl      short loc_277eb4f1
or      esi, 0ffffffffh
push    esi
push    ecx
call    sub_277eb439
mov     eax, esi
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     eax, [esi+20h]
cmp     eax, 0ffffffffh
jz      loc_277eb630
imul    eax, 38h
mov     edi, [esi+3ch]
add     edi, eax
cmp     dword ptr [esi+50h], 0
jz      loc_277eb630
mov     eax, [esi]
push    ebx
push    10171972h
push    dword ptr [eax]
call    ds:killtimer
push    edi
push    esi
push    [ebp+arg_0]
call    sub_277ed998
mov     ebx, eax
test    ebx, ebx
jnz     loc_277eb604
cmp     dword ptr [edi], 2
jnz     short loc_277eb5cd
mov     ax, [edi+2ch]
cmp     ax, 1
jb      short loc_277eb5cd
cmp     ax, 0ch
ja      short loc_277eb5cd
movzx   ecx, word ptr [esi+2eh]
movzx   eax, ax
push    eax
mov     [ebp+arg_4], ecx
movzx   eax, word ptr [esi+28h]
push    eax
call    sub_277bd0f4
cmp     [ebp+arg_4], eax
jle     short loc_277eb5cd
push    edi
push    esi
push    [ebp+arg_0]
mov     [esi+2eh], ax
call    sub_277ed998
mov     ebx, eax
test    ebx, ebx
jnz     short loc_277eb604
mov     ax, word ptr [ebp+arg_4]
mov     [esi+2eh], ax
test    ebx, ebx
jnz     short loc_277eb604
cmp     dword ptr [edi], 1
jnz     short loc_277eb600
cmp     word ptr [esi+2ah], 2
jnz     short loc_277eb600
cmp     word ptr [esi+2eh], 1dh
jnz     short loc_277eb600
push    edi
push    esi
push    [ebp+arg_0]
mov     word ptr [esi+2eh], 1ch
call    sub_277ed998
mov     ebx, eax
test    ebx, ebx
jnz     short loc_277eb604
mov     word ptr [esi+2eh], 1dh
test    ebx, ebx
jz      short loc_277eb636
push    edi
push    esi
call    sub_277edadd
test    eax, eax
jz      short loc_277eb617
push    [ebp+arg_0]
call    sub_277ed6c3
push    9
push    esi
call    sub_277eb644
push    dword ptr [esi+1ch]
mov     eax, [esi]
add     edi, 4
push    edi
push    dword ptr [eax]
call    sub_277eb3f7
pop     ebx
pop     edi
pop     esi
pop     ebp
retn    8
push    10h
call    ds:messagebeep
and     dword ptr [esi+50h], 0
jmp     short loc_277eb617
push    ebp
mov     ebp, esp
push    ecx
mov     ecx, [ebp+arg_4]
push    ebx
push    esi
push    edi
push    1
cmp     ecx, 2
pop     ebx
jz      loc_277eb753
cmp     ecx, ebx
jz      loc_277eb753
cmp     ecx, 9
jz      loc_277eb753
test    ecx, ecx
jz      loc_277eb753
and     [ebp+var_4], 0
mov     esi, [ebp+arg_0]
and     [ebp+arg_0], 0
cmp     dword ptr [esi+24h], 0
mov     edi, [esi+3ch]
jle     loc_277eb74c
mov     eax, [edi]
cmp     ecx, eax
jz      short loc_277eb6af
cmp     eax, 9
jz      short loc_277eb6af
cmp     ecx, 9
jz      short loc_277eb6af
cmp     ecx, 4
jnz     short loc_277eb6a5
cmp     eax, 5
jz      short loc_277eb6af
cmp     ecx, 5
jnz     short loc_277eb6bf
cmp     eax, 4
jnz     short loc_277eb6bf
push    dword ptr [esi+1ch]
lea     eax, [edi+4]
push    eax
mov     eax, [esi]
push    dword ptr [eax]
call    sub_277eb3f7
cmp     [ebp+arg_4], ebx
jnz     short loc_277eb6e2
cmp     dword_2782c2fc, 0
jnz     short loc_277eb6e2
push    0
push    esi
mov     dword_2782c2fc, ebx
call    sub_277eb644
and     dword_2782c2fc, 0
cmp     [ebp+arg_4], 0
jnz     short loc_277eb705
cmp     dword_2782c2fc, 0
jnz     short loc_277eb705
push    ebx
push    esi
mov     dword_2782c2fc, ebx
call    sub_277eb644
and     dword_2782c2fc, 0
cmp     [ebp+var_4], 0
jz      short loc_277eb73e
cmp     dword ptr [edi], 3
jnz     short loc_277eb73e
movzx   eax, word ptr [esi+2ah]
push    eax
movzx   eax, word ptr [esi+28h]
push    eax
call    sub_277bd0f4
mov     ecx, [edi+14h]
mov     [edi+1ch], eax
movzx   ecx, word ptr [ecx]
cmp     ecx, eax
jbe     short loc_277eb736
mov     eax, [edi+14h]
mov     cx, [edi+1ch]
mov     [eax], cx
push    3
push    esi
call    sub_277eb644
add     edi, 38h
inc     [ebp+arg_0]
mov     eax, [ebp+arg_0]
cmp     eax, [esi+24h]
jl      short loc_277eb75b
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     [ebp+var_4], ebx
jmp     loc_277eb677
mov     ecx, [ebp+arg_4]
jmp     loc_277eb68b
mov     eax, [esp+arg_0]
push    ebx
push    esi
push    edi
mov     ecx, [eax+20h]
cmp     ecx, 0ffffffffh
jz      short loc_277eb7cc
imul    ecx, 38h
mov     eax, [eax+3ch]
add     eax, ecx
cmp     dword ptr [eax], 9
jz      short loc_277eb7cc
mov     edx, [eax+20h]
mov     ecx, [esp+0ch+arg_4]
test    edx, edx
jle     short loc_277eb78d
imul    ecx, edx
mov     esi, [eax+14h]
mov     edx, [eax+18h]
mov     ebx, [eax+1ch]
movzx   edi, word ptr [esi]
add     ecx, edi
cmp     ecx, edx
jge     short loc_277eb7c0
sub     ebx, edx
lea     ecx, [ecx+ebx+1]
cmp     edi, ecx
jz      short loc_277eb7cc
mov     [esi], cx
push    dword ptr [eax]
push    [esp+10h+arg_0]
call    sub_277eb644
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    8
cmp     ecx, ebx
jbe     short loc_277eb7a5
sub     edx, ebx
lea     ecx, [ecx+edx-1]
jmp     short loc_277eb7a5
xor     eax, eax
jmp     short loc_277eb7ba
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+arg_8]
push    edi
mov     eax, esi
push    1
sub     eax, 9
pop     edi
jz      loc_277eb9a6
sub     eax, 1ch
jz      loc_277eb9a3
dec     eax
dec     eax
jz      loc_277eb9b6
mov     ebx, [ebp+arg_4]
mov     eax, [ebx+20h]
cmp     eax, 0ffffffffh
jz      loc_277eb8a4
mov     ecx, eax
mov     edx, [ebx+3ch]
imul    ecx, 38h
add     edx, ecx
cmp     dword ptr [edx], 9
jnz     loc_277eb8a4
and     [ebp+lparam], 0
push    8
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_20]
rep stosd
mov     [ebp+msg.message], esi
mov     eax, [edx+30h]
mov     [ebp+msg.wparam], eax
lea     eax, [ebp+msg.lparam]
push    eax
push    ebx
call    sub_277ebc4f
lea     eax, [ebp+lparam]
push    eax
push    0fffffd0bh
push    dword ptr [ebx]
call    sub_277b9838
mov     ax, [ebx+28h]
lea     edi, [ebx+28h]
cmp     ax, word ptr [ebp+msg.lparam]
jnz     short loc_277eb88d
mov     ax, [ebx+2ah]
cmp     ax, word ptr [ebp+msg.lparam+2]
jnz     short loc_277eb88d
mov     ax, [ebx+2eh]
cmp     ax, word ptr [ebp+msg.time+2]
jnz     short loc_277eb88d
mov     ax, [ebx+30h]
cmp     ax, word ptr [ebp+msg.pt.x]
jnz     short loc_277eb88d
mov     ax, [ebx+32h]
cmp     ax, word ptr [ebp+msg.pt.x+2]
jnz     short loc_277eb88d
mov     ax, [ebx+34h]
cmp     ax, word ptr [ebp+msg.pt.y]
jz      short loc_277eb8ce
lea     esi, [ebp+msg.lparam]
push    9
movsd
movsd
movsd
movsd
push    ebx
call    sub_277eb644
push    1
pop     eax
jmp     loc_277eb954
cmp     esi, 1bh
ja      short loc_277eb90e
jz      short loc_277eb8d5
cmp     esi, 0dh
jnz     short loc_277eb8ce
mov     eax, 102h
push    1
push    eax
push    eax
lea     eax, [ebp+msg]
push    0
push    eax
call    ds:peekmessagea
push    ebx
push    [ebp+arg_0]
call    sub_277eb538
xor     eax, eax
jmp     loc_277eb954
xor     esi, esi
cmp     [ebx+50h], esi
jz      short loc_277eb8ce
mov     eax, 102h
push    1
push    eax
push    eax
lea     eax, [ebp+msg]
push    esi
push    eax
call    ds:peekmessagea
push    9
push    ebx
mov     [ebx+50h], esi
call    sub_277eb644
push    dword ptr [ebx+1ch]
mov     eax, [ebp+arg_0]
add     ebx, 0ch
push    ebx
push    dword ptr [eax]
call    sub_277eb3f7
jmp     short loc_277eb8ce
cmp     esi, 23h
jb      short loc_277eb8ce
cmp     esi, 24h
jbe     short loc_277eb95b
cmp     esi, 26h
jz      short loc_277eb92f
cmp     esi, 28h
jz      short loc_277eb92c
cmp     esi, 6bh
jz      short loc_277eb92f
cmp     esi, 6dh
jnz     short loc_277eb8ce
or      edi, 0ffffffffh
mov     eax, 102h
push    1
push    eax
push    eax
lea     eax, [ebp+msg]
push    0
push    eax
call    ds:peekmessagea
push    ebx
push    [ebp+arg_0]
call    sub_277eb538
push    edi
push    ebx
call    sub_277eb763
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     eax, 0ffffffffh
jz      loc_277eb8ce
push    ebx
push    [ebp+arg_0]
call    sub_277eb538
mov     ecx, [ebx+20h]
mov     eax, [ebx+3ch]
imul    ecx, 38h
add     eax, ecx
cmp     esi, 24h
mov     ecx, [eax+14h]
movzx   edi, word ptr [ecx]
jnz     short loc_277eb99e
mov     edx, [eax+18h]
mov     [ecx], dx
mov     ecx, [eax+14h]
movzx   ecx, word ptr [ecx]
sub     ecx, edi
jz      loc_277eb8ce
push    dword ptr [eax]
jmp     loc_277eb896
mov     edx, [eax+1ch]
jmp     short loc_277eb986
or      edi, 0ffffffffh
push    10h
call    ds:getkeystate
test    ax, ax
jge     short loc_277eb9b6
or      edi, 0ffffffffh
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277eb538
push    edi
push    [ebp+arg_4]
call    sub_277eb4cc
jmp     loc_277eb8ce
push    ebp
mov     ebp, esp
sub     esp, 64h
mov     edx, [ebp+arg_4]
xor     ecx, ecx
push    esi
push    edi
cmp     [edx+34h], ecx
jz      short loc_277eb9ec
mov     esi, [edx+30h]
mov     eax, esi
pop     edi
pop     esi
leave
retn    10h
mov     esi, [ebp+lpdatestr]
mov     [esi], cl
mov     eax, [edx]
cmp     eax, 4
jge     short loc_277eba14
push    [ebp+cchdate]
mov     eax, [ebp+arg_0]
add     eax, 28h
push    esi
push    dword ptr [edx+30h]
push    eax
push    ecx
push    400h
call    ds:getdateformata
jmp     short loc_277eb9e4
cmp     eax, 9
jz      short loc_277eba35
push    [ebp+cchdate]
mov     eax, [ebp+arg_0]
add     eax, 28h
push    esi
push    dword ptr [edx+30h]
push    eax
push    ecx
push    400h
call    ds:gettimeformata
jmp     short loc_277eb9e4
push    18h
mov     [ebp+lparam], ecx
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_60]
rep stosd
mov     eax, [edx+30h]
mov     edi, [ebp+arg_0]
mov     [ebp+var_58], eax
lea     eax, [ebp+var_54]
push    eax
push    edi
call    sub_277ebc4f
lea     eax, [ebp+var_40]
mov     [ebp+lpstring2], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffd0ch
push    dword ptr [edi]
call    sub_277b9838
push    [ebp+cchdate]
push    [ebp+lpstring2]
push    esi
call    ds:lstrcpyna
jmp     loc_277eb9e4
push    ebp
mov     ebp, esp
sub     esp, 0b0h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
push    dword ptr [ebx+8]
push    [ebp+hdc]
call    ds:selectobject
push    dword ptr [ebx+18h]
mov     [ebp+h], eax
push    dword ptr [ebx+14h]
push    dword ptr [ebx+10h]
push    dword ptr [ebx+0ch]
push    [ebp+hdc]
call    ds:intersectcliprect
mov     esi, ds:getsyscolor
push    11h
call    esi
push    0eh
mov     [ebp+color], eax
call    esi
push    8
mov     [ebp+var_14], eax
call    esi
push    0dh
mov     [ebp+var_8], eax
call    esi
push    eax
push    [ebp+hdc]
call    ds:setbkcolor
mov     eax, [ebx+20h]
mov     [ebp+var_4], eax
xor     eax, eax
cmp     [ebp+arg_8], eax
jnz     short loc_277ebaea
or      [ebp+var_4], 0ffffffffh
mov     ecx, [ebx+3ch]
cmp     [ebx+24h], eax
mov     [ebp+arg_8], eax
mov     [ebp+arg_4], ecx
jle     loc_277ebbba
mov     eax, [ebp+arg_4]
lea     edi, [ebp+rc]
lea     esi, [eax+4]
mov     eax, [ebx+1ch]
movsd
movsd
movsd
test    eax, eax
movsd
jz      short loc_277ebb1f
neg     eax
push    0
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
cmp     [ebp+arg_c], 0
jnz     loc_277ebbd8
push    1
push    [ebp+hdc]
call    ds:setbkmode
push    [ebp+color]
push    [ebp+hdc]
call    ds:settextcolor
mov     edi, [ebp+arg_8]
mov     esi, 821h
cmp     edi, [ebx+20h]
jnz     loc_277ebc06
cmp     dword ptr [ebx+50h], 0
jz      loc_277ebc06
mov     eax, [ebp+arg_4]
mov     esi, ds:wsprintfa
push    dword ptr [eax+24h]
lea     eax, [ebp+var_20]
push    offset a0dd
push    eax
call    esi
mov     eax, [ebp+arg_4]
add     esp, 0ch
movzx   eax, word ptr [eax+2ch]
push    eax
lea     eax, [ebp+var_20]
push    eax
lea     eax, [ebp+chtext]
push    eax
call    esi
add     esp, 0ch
lea     eax, [ebp+chtext]
mov     esi, 822h
lea     ecx, [ebp+rc]
push    esi
push    ecx
push    0ffffffffh
push    eax
push    [ebp+hdc]
call    ds:drawtexta
add     [ebp+arg_4], 38h
inc     edi
cmp     edi, [ebx+24h]
mov     [ebp+arg_8], edi
jl      loc_277ebafc
push    0
push    [ebp+hdc]
call    ds:selectcliprgn
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [ebp+arg_8]
cmp     [ebp+var_4], eax
jnz     short loc_277ebbf3
push    2
push    [ebp+hdc]
call    ds:setbkmode
push    [ebp+var_14]
jmp     loc_277ebb37
push    1
push    [ebp+hdc]
call    ds:setbkmode
push    [ebp+var_8]
jmp     loc_277ebb37
lea     eax, [ebp+chtext]
push    80h
push    eax
push    [ebp+arg_4]
push    ebx
call    sub_277eb9cf
jmp     loc_277ebb98
mov     ecx, [esp+arg_0]
mov     eax, [ecx+24h]
dec     eax
js      short locret_277ebc4c
mov     edx, eax
mov     ecx, [ecx+3ch]
imul    edx, 38h
lea     ecx, [edx+ecx+4]
cmp     dword ptr [ecx+30h], 0
jnz     short loc_277ebc44
mov     edx, [esp+arg_4]
cmp     edx, [ecx]
jge     short locret_277ebc4c
dec     eax
sub     ecx, 38h
test    eax, eax
jge     short loc_277ebc36
retn    0ch
mov     eax, [esp+arg_0]
push    ebx
mov     ebx, [esp+4+arg_4]
push    esi
push    edi
lea     esi, [eax+28h]
mov     edi, ebx
push    ebx
movsd
movsd
movsd
movsd
call    sub_277c0129
inc     eax
push    7
cdq
pop     ecx
pop     edi
idiv    ecx
pop     esi
mov     [ebx+4], dx
pop     ebx
retn    8
mov     eax, [esp+arg_0]
push    esi
mov     esi, [esp+4+arg_4]
push    edi
lea     edi, [eax+28h]
push    1
movsd
movsd
movsd
movsd
pop     eax
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 120h
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
mov     esi, [ebx+3ch]
xor     edi, edi
cmp     [ebx+24h], edi
lea     eax, [ebp+windowname]
mov     [ebp+var_c], edi
mov     [ebp+lpstring1], eax
mov     [ebp+imaxlength], 80h
mov     [ebp+var_10], edi
jle     short loc_277ebcf7
cmp     [esi+34h], edi
jz      loc_277ebe85
push    [ebp+imaxlength]
push    dword ptr [esi+30h]
push    [ebp+lpstring1]
call    ds:lstrcpyna
push    [ebp+lpstring1]
call    ds:lstrlena
sub     [ebp+imaxlength], eax
add     [ebp+lpstring1], eax
inc     [ebp+var_10]
add     esi, 38h
mov     eax, [ebp+var_10]
cmp     eax, [ebx+24h]
jl      short loc_277ebcc2
lea     esi, [ebx+0ch]
lea     edi, [ebp+point]
movsd
movsd
movsd
lea     eax, [ebp+point]
push    eax
mov     eax, [ebx]
movsd
push    dword ptr [eax]
mov     esi, ds:clienttoscreen
call    esi
lea     eax, [ebp+var_18]
push    eax
mov     eax, [ebx]
push    dword ptr [eax]
call    esi
mov     eax, [ebx]
xor     esi, esi
push    esi
push    dword_27828334
push    esi
push    dword ptr [eax]
mov     eax, [ebp+var_18.y]
sub     eax, [ebp+point.y]
push    eax
mov     eax, [ebp+var_18.x]
sub     eax, [ebp+point.x]
push    eax
push    2
push    2
lea     eax, [ebp+windowname]
push    40000080h
push    eax
push    offset aedit_2
push    esi
call    ds:createwindowexa
mov     edi, eax
cmp     edi, esi
mov     [ebp+hwnd], edi
jz      loc_277ebe7b
push    esi
mov     esi, ds:sendmessagea
push    80h
push    0c5h
push    edi
call    esi
push    0
push    dword ptr [ebx+8]
push    30h
push    edi
call    esi
push    edi
call    ds:setfocus
mov     ebx, 7d00h
mov     edi, 0b1h
push    ebx
push    ebx
push    edi
push    [ebp+hwnd]
call    esi
push    ebx
xor     ebx, ebx
push    ebx
push    edi
mov     edi, [ebp+hwnd]
push    edi
call    esi
push    1
push    edi
call    ds:showwindow
mov     esi, 100h
push    ebx
push    ebx
lea     eax, [ebp+msg]
push    ebx
push    eax
call    ds:getmessagea
mov     [ebp+hwnd], eax
mov     eax, [ebp+msg.message]
cmp     eax, 201h
jz      short loc_277ebde6
cmp     eax, 0a1h
jz      short loc_277ebde6
cmp     eax, 204h
jz      short loc_277ebde6
cmp     eax, 0a4h
jz      short loc_277ebde6
cmp     eax, 203h
jnz     short loc_277ebe01
push    [ebp+msg.pt.y]
lea     eax, [ebp+point]
push    [ebp+msg.pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jz      loc_277ebf25
mov     eax, [ebp+msg.message]
cmp     eax, 8
jz      loc_277ebf25
cmp     eax, esi
jnz     short loc_277ebe18
cmp     [ebp+msg.wparam], 0dh
jz      loc_277ebf25
cmp     eax, 112h
jz      short loc_277ebe62
cmp     eax, 106h
jz      short loc_277ebe62
cmp     eax, 107h
jz      short loc_277ebe62
cmp     eax, 103h
jz      short loc_277ebe62
cmp     eax, 104h
jz      short loc_277ebe62
cmp     eax, esi
jnz     short loc_277ebe45
cmp     [ebp+msg.wparam], 1bh
jz      short loc_277ebe62
lea     eax, [ebp+msg]
push    eax
call    ds:translatemessage
lea     eax, [ebp+msg]
push    eax
call    ds:dispatchmessagea
cmp     [ebp+hwnd], ebx
jnz     loc_277ebdb0
cmp     [ebp+var_c], ebx
jz      short loc_277ebe74
push    [ebp+nmaxcount]
push    [ebp+lpstring]
push    edi
call    ds:getwindowtexta
push    edi
call    ds:destroywindow
mov     eax, [ebp+var_c]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi]
cmp     eax, 4
jge     short loc_277ebeaa
push    [ebp+imaxlength]
lea     eax, [ebx+28h]
push    [ebp+lpstring1]
push    dword ptr [esi+30h]
push    eax
push    edi
push    400h
call    ds:getdateformata
jmp     loc_277ebcda
cmp     eax, 9
jz      short loc_277ebecd
push    [ebp+imaxlength]
lea     eax, [ebx+28h]
push    [ebp+lpstring1]
push    dword ptr [esi+30h]
push    eax
push    edi
push    400h
call    ds:gettimeformata
jmp     loc_277ebcda
push    18h
mov     [ebp+lparam], edi
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_9c]
rep stosd
mov     eax, [esi+30h]
mov     [ebp+var_94], eax
lea     eax, [ebp+var_90]
push    eax
push    ebx
call    sub_277ebc4f
lea     eax, [ebp+var_7c]
mov     [ebp+lpstring2], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffd0ch
push    dword ptr [ebx]
call    sub_277b9838
push    [ebp+imaxlength]
push    [ebp+lpstring2]
push    [ebp+lpstring1]
call    ds:lstrcpyna
xor     edi, edi
jmp     loc_277ebcda
mov     [ebp+var_c], 1
jmp     loc_277ebe62
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
or      edi, 0ffffffffh
mov     eax, [esi+7ch]
cmp     eax, edi
jz      short loc_277ebfa8
imul    eax, 38h
mov     ecx, [esi+98h]
mov     ebx, [ecx+eax]
mov     eax, [esp+0ch+lpstring]
test    eax, eax
jz      short loc_277ebfac
cmp     byte ptr [eax], 0
jz      short loc_277ebfac
and     word ptr [esi+0e0h], 0fbffh
push    eax
lea     eax, [esi+5ch]
push    eax
call    sub_277eb007
mov     eax, [esi+80h]
xor     edx, edx
test    eax, eax
jle     short loc_277ebf8e
mov     ecx, [esi+98h]
cmp     [ecx], ebx
jnz     short loc_277ebf86
mov     edi, edx
inc     edx
add     ecx, 38h
cmp     edx, eax
jl      short loc_277ebf80
cmp     edi, eax
jl      short loc_277ebf95
or      edi, 0ffffffffh
add     esi, 5ch
push    edi
push    esi
call    sub_277eb439
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     ebx, edi
jmp     short loc_277ebf4e
or      byte ptr [esi+0e1h], 4
push    esi
call    sub_277eca51
jmp     short loc_277ebf6e
push    ebp
mov     ebp, esp
sub     esp, 0a4h
and     [ebp+var_4], 0
push    ebx
push    esi
mov     esi, [ebp+msg]
push    edi
mov     edi, 81h
cmp     esi, edi
jnz     short loc_277ebfe6
push    [ebp+hwnd]
call    sub_277ec842
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     ebx, eax
test    ebx, ebx
jnz     short loc_277ec009
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     short loc_277ebfdf
cmp     esi, 14h
ja      loc_277ec2a1
jz      loc_277ec26d
cmp     esi, 0ah
ja      loc_277ec175
jz      loc_277ec130
cmp     esi, 1
jz      loc_277ec11f
cmp     esi, 2
jz      loc_277ec108
cmp     esi, 5
jz      loc_277ec518
cmp     esi, 6
jbe     def_277ec511
cmp     esi, 8
ja      def_277ec511
xor     eax, eax
cmp     esi, 7
setz    al
mov     esi, eax
mov     ax, [ebx+0e0h]
mov     ecx, eax
shr     ecx, 2
and     ecx, 1
cmp     esi, ecx
jz      short loc_277ec0be
mov     ecx, esi
and     eax, 0fffbh
and     ecx, 1
mov     edx, ecx
shl     edx, 2
or      eax, edx
mov     edx, [ebx+7ch]
cmp     edx, 0ffffffffh
mov     [ebx+0e0h], ax
jz      short loc_277ec0ce
imul    edx, 38h
mov     eax, [ebx+98h]
push    dword ptr [ebx+78h]
lea     eax, [eax+edx+4]
push    eax
push    dword ptr [ebx]
call    sub_277eb3f7
lea     eax, [ebp+var_24]
push    eax
xor     eax, eax
test    esi, esi
setnz   al
add     eax, 0fffffff8h
push    eax
push    ebx
call    sub_277b9838
test    esi, esi
jnz     short loc_277ec117
lea     eax, [ebx+5ch]
push    eax
push    ebx
call    sub_277eb538
jmp     short loc_277ec117
test    byte ptr [ebx+8], 2
jz      short loc_277ec0f7
and     ax, 0fdffh
push    1
shl     ecx, 9
or      eax, ecx
mov     [ebx+0e0h], ax
lea     eax, [ebx+0b0h]
push    eax
push    dword ptr [ebx]
call    ds:invalidaterect
jmp     short loc_277ec0a9
test    esi, esi
jz      short loc_277ec0a9
lea     eax, [ebx+5ch]
push    1
push    eax
call    sub_277eb4cc
jmp     short loc_277ec0a9
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
push    [ebp+hwnd]
call    sub_277ec87b
mov     eax, [ebp+var_4]
jmp     loc_277ebfdf
push    [ebp+lparam]
push    [ebp+hwnd]
push    ebx
call    sub_277ec8bb
mov     [ebp+var_4], eax
jmp     short loc_277ec117
mov     cx, [ebx+0e0h]
xor     eax, eax
cmp     [ebp+wparam], eax
mov     edx, ecx
setnz   al
and     edx, 1
cmp     edx, eax
jz      short loc_277ec117
mov     dl, al
xor     dl, cl
and     edx, 1
xor     edx, ecx
mov     ecx, [ebx+18h]
test    ecx, ecx
mov     [ebx+0e0h], dx
jz      short loc_277ec167
push    eax
push    ecx
call    ds:enablewindow
push    1
push    0
push    dword ptr [ebx]
call    ds:invalidaterect
jmp     short loc_277ec117
mov     eax, esi
sub     eax, 0dh
jz      short loc_277ec1df
dec     eax
jz      short loc_277ec198
dec     eax
jz      loc_277ec4ca
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     short loc_277ec12b
mov     edi, [ebx+98h]
xor     esi, esi
cmp     [ebx+80h], esi
mov     [ebp+wparam], esi
jle     short loc_277ec1d7
lea     eax, [ebp+datestr]
push    80h
push    eax
lea     eax, [ebx+5ch]
push    edi
push    eax
call    sub_277eb9cf
push    eax
call    ds:lstrlena
add     [ebp+wparam], eax
inc     esi
add     edi, 38h
cmp     esi, [ebx+80h]
jl      short loc_277ec1ab
mov     eax, [ebp+wparam]
jmp     loc_277ec12b
mov     eax, [ebp+lparam]
test    eax, eax
jz      loc_277ec117
cmp     [ebp+wparam], 0
jz      loc_277ec117
xor     ecx, ecx
mov     [ebp+lparam], eax
and     [eax], cl
mov     eax, [ebx+98h]
cmp     [ebx+80h], ecx
mov     [ebp+var_4], ecx
mov     [ebp+msg], ecx
mov     [ebp+hwnd], eax
jle     short loc_277ec265
lea     eax, [ebp+datestr]
push    80h
push    eax
lea     eax, [ebx+5ch]
push    [ebp+hwnd]
push    eax
call    sub_277eb9cf
push    eax
mov     [ebp+lpstring2], eax
call    ds:lstrlena
mov     esi, eax
mov     eax, [ebp+var_4]
lea     edi, [esi+eax]
cmp     edi, [ebp+wparam]
jnb     short loc_277ec265
push    [ebp+lpstring2]
push    [ebp+lparam]
call    ds:lstrcpya
add     [ebp+lparam], esi
inc     [ebp+msg]
mov     eax, [ebp+msg]
add     [ebp+hwnd], 38h
cmp     eax, [ebx+80h]
mov     [ebp+var_4], edi
jl      short loc_277ec212
mov     eax, [ebp+var_4]
jmp     loc_277ec12b
test    byte ptr [ebx+0e0h], 1
jnz     def_277ec511
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    ds:getclipbox
push    0fh
call    ds:getsyscolor
push    eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    sub_277be3ec
jmp     loc_277ec117
cmp     esi, 30h
ja      short loc_277ec2e6
jz      short loc_277ec2d2
cmp     esi, 1ah
jnz     def_277ec511
push    offset aintl_0
push    [ebp+lparam]
call    ds:lstrcmpia
test    eax, eax
jnz     loc_277ec117
push    ebx
call    sub_277eca51
jmp     loc_277ec117
movzx   eax, word ptr [ebp+lparam]
push    eax
push    [ebp+wparam]
push    ebx
call    sub_277ecab1
jmp     loc_277ec117
cmp     esi, 4eh
ja      loc_277ec390
jz      short loc_277ec302
cmp     esi, 31h
jnz     def_277ec511
mov     eax, [ebx+64h]
jmp     loc_277ec12b
mov     esi, [ebp+lparam]
mov     eax, [esi+8]
cmp     eax, 0fffffd13h
jz      short loc_277ec36f
cmp     eax, 0fffffd16h
jz      short loc_277ec361
cmp     eax, 0fffffd2eh
jnz     loc_277ec117
cmp     [ebp+wparam], 3e8h
jnz     loc_277ec117
test    byte ptr [ebx+0e0h], 4
jnz     short loc_277ec33f
push    dword ptr [ebx]
call    ds:setfocus
mov     eax, [esi+10h]
neg     eax
push    eax
lea     eax, [ebx+5ch]
push    eax
call    sub_277eb763
test    eax, eax
jz      loc_277ec117
push    ebx
call    sub_277ed6c3
jmp     loc_277ec117
and     word ptr [ebx+0e0h], 0ff7fh
jmp     loc_277ec117
add     esi, 0ch
push    1
push    esi
push    ebx
call    sub_277ed76f
test    eax, eax
jnz     loc_277ec117
push    10h
call    ds:messagebeep
jmp     loc_277ec117
mov     eax, 87h
cmp     esi, eax
ja      short loc_277ec3d3
jz      short loc_277ec3cb
mov     eax, esi
sub     eax, 7ch
jz      short loc_277ec3ba
dec     eax
jnz     def_277ec511
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
call    sub_277eca08
jmp     loc_277ec12b
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
call    sub_277ec9e1
jmp     loc_277ec12b
mov     [ebp+var_4], edi
jmp     loc_277ec117
mov     eax, 113h
cmp     esi, eax
ja      loc_277ec4a2
jz      loc_277ec483
mov     ecx, esi
add     eax, 0ffffffedh
sub     ecx, eax
jz      short loc_277ec458
dec     ecx
jz      short loc_277ec432
dec     ecx
jz      short loc_277ec421
dec     ecx
dec     ecx
jnz     def_277ec511
cmp     [ebp+wparam], 28h
jnz     loc_277ec117
test    byte ptr [ebx+0e0h], 2
jnz     loc_277ec117
push    0
push    ebx
call    sub_277ecd6d
jmp     loc_277ec117
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
call    sub_277ed641
jmp     loc_277ec12b
test    byte ptr [ebx+0e0h], 80h
jz      loc_277ec117
push    [ebp+lparam]
push    [ebp+wparam]
push    101h
push    dword ptr [ebx+1ch]
call    ds:sendmessagea
jmp     loc_277ec117
push    [ebp+lparam]
test    byte ptr [ebx+0e0h], 80h
push    [ebp+wparam]
jz      short loc_277ec478
push    eax
push    dword ptr [ebx+1ch]
call    ds:sendmessagea
xor     eax, eax
jmp     loc_277ebfdf
push    ebx
call    sub_277ed54c
jmp     loc_277ec12b
cmp     [ebp+wparam], 10171972h
jnz     def_277ec511
cmp     dword ptr [ebx+0ach], 0
jnz     loc_277ec0c2
jmp     loc_277ec117
mov     eax, 318h
cmp     esi, eax
ja      short loc_277ec502
jz      short loc_277ec4ca
cmp     esi, 201h
jnz     def_277ec511
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
call    sub_277ed2da
jmp     loc_277ec117
cmp     [ebp+wparam], 0
jz      short loc_277ec4de
push    [ebp+wparam]
push    ebx
call    sub_277ecafd
jmp     loc_277ec117
mov     esi, [ebx]
lea     eax, [ebp+paint]
push    eax
push    esi
call    ds:beginpaint
push    eax
push    ebx
call    sub_277ecafd
lea     eax, [ebp+paint]
push    eax
push    esi
call    ds:endpaint
jmp     loc_277ec117
lea     eax, [esi-0fffh]
cmp     eax, 0bh
ja      def_277ec511
jmp     ds:jpt_277ec511[eax*4]
cmp     esi, 0fffh
jnz     short loc_277ec54f
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_277ed426
push    1
push    0
push    dword ptr [ebx]
call    ds:invalidaterect
push    dword ptr [ebx]
call    ds:updatewindow
jmp     loc_277ec117
mov     eax, [ebp+lparam]
and     [ebp+rect.left], 0
and     [ebp+rect.top], 0
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+rect.right], ecx
mov     [ebp+rect.bottom], eax
jmp     short loc_277ec52c
test    byte ptr [ebx+0e1h], 1
jnz     short loc_277ec580
mov     [ebp+var_4], 1
jmp     loc_277ec117
push    [ebp+lparam]
add     ebx, 5ch
push    ebx
call    sub_277ebc4f
and     [ebp+var_4], 0
jmp     loc_277ec117
mov     edi, [ebp+wparam]
cmp     edi, 1
jz      short loc_277ec5aa
test    edi, edi
jnz     loc_277ec117
cmp     edi, 1
jnz     short loc_277ec5b4
test    byte ptr [ebx+8], 2
jz      loc_277ec117
test    edi, edi
jnz     short loc_277ec5c8
push    [ebp+lparam]
call    sub_2781624a
test    eax, eax
jz      loc_277ec117
lea     esi, [ebx+5ch]
push    esi
push    ebx
call    sub_277eb538
or      byte ptr [ebx+0e0h], 20h
mov     ax, [ebx+0e0h]
test    byte ptr [ebx+8], 2
jz      short loc_277ec62e
cmp     edi, 1
jz      short loc_277ec5f0
test    ah, 1
jz      short loc_277ec60b
push    0ffffffffh
push    esi
call    sub_277eb439
or      byte ptr [ebx+0e1h], 2
push    1
push    0
push    dword ptr [ebx]
call    ds:invalidaterect
mov     ax, [ebx+0e0h]
xor     ecx, ecx
and     ax, 0feffh
cmp     edi, 1
setnz   cl
and     cl, 1
xor     edx, edx
mov     dh, cl
or      eax, edx
mov     [ebx+0e0h], ax
test    edi, edi
jnz     short loc_277ec64c
or      byte ptr [ebx+0e0h], 20h
push    edi
push    [ebp+lparam]
push    ebx
call    sub_277ed76f
and     word ptr [ebx+0e0h], 0ffdfh
mov     [ebp+var_4], 1
and     word ptr [ebx+0e0h], 0ffdfh
jmp     loc_277ec117
mov     edx, [ebp+lparam]
push    8
pop     ecx
xor     eax, eax
mov     edi, edx
rep stosd
test    byte ptr [ebx+0e0h], 8
jz      short loc_277ec686
lea     esi, [ebx+3ch]
mov     edi, edx
movsd
movsd
movsd
movsd
mov     [ebp+var_4], 1
test    byte ptr [ebx+0e0h], 10h
jz      loc_277ec117
lea     esi, [ebx+4ch]
lea     edi, [edx+10h]
movsd
movsd
or      [ebp+var_4], 2
movsd
movsd
jmp     loc_277ec117
mov     ecx, [ebp+wparam]
mov     esi, [ebp+lparam]
test    cl, 1
jz      short loc_277ec6c2
push    esi
call    sub_277bdfd8
test    eax, eax
jz      loc_277ec117
mov     ecx, [ebp+wparam]
test    cl, 2
jz      short loc_277ec6db
add     esi, 10h
push    esi
call    sub_277bdfd8
test    eax, eax
jz      loc_277ec117
mov     ecx, [ebp+wparam]
mov     ax, [ebx+0e0h]
mov     dl, cl
and     edx, 1
and     eax, 0fff7h
shl     edx, 3
or      eax, edx
mov     [ebp+var_4], 1
test    al, 8
mov     [ebx+0e0h], ax
jz      short loc_277ec70d
mov     esi, [ebp+lparam]
lea     edi, [ebx+3ch]
movsd
movsd
movsd
movsd
shr     ecx, 1
and     ecx, 1
and     eax, 0ffefh
shl     ecx, 4
or      eax, ecx
mov     ecx, eax
mov     [ebx+0e0h], ax
and     ecx, 10h
test    cx, cx
jz      short loc_277ec73a
mov     edx, [ebp+lparam]
lea     edi, [ebx+4ch]
lea     esi, [edx+10h]
movsd
movsd
movsd
movsd
test    al, 8
jz      short loc_277ec774
test    cx, cx
jz      short loc_277ec774
lea     eax, [ebx+4ch]
lea     ecx, [ebx+3ch]
push    eax
push    ecx
call    sub_277be055
test    eax, eax
jle     short loc_277ec774
lea     ecx, [ebx+3ch]
lea     edi, [ebp+rect]
mov     esi, ecx
lea     eax, [ebx+4ch]
movsd
movsd
movsd
movsd
mov     esi, eax
mov     edi, ecx
movsd
movsd
movsd
movsd
lea     esi, [ebp+rect]
mov     edi, eax
movsd
movsd
movsd
movsd
or      byte ptr [ebx+0e0h], 20h
lea     eax, [ebx+84h]
push    1
push    eax
push    ebx
call    sub_277ed76f
jmp     loc_277ec653
push    [ebp+lparam]
push    ebx
call    sub_277ebf31
jmp     loc_277ec12b
mov     eax, [ebp+wparam]
cmp     eax, 6
jnb     short loc_277ec7dd
mov     ecx, [ebp+lparam]
mov     esi, [ebx+eax*4+24h]
mov     [ebx+eax*4+24h], ecx
mov     ebx, [ebx+1ch]
test    ebx, ebx
jz      short loc_277ec7c5
push    ecx
push    eax
push    100ah
push    ebx
call    ds:sendmessagea
mov     eax, esi
jmp     loc_277ebfdf
mov     eax, [ebp+wparam]
cmp     eax, 6
jnb     short loc_277ec7dd
mov     eax, [ebx+eax*4+24h]
jmp     loc_277ebfdf
or      eax, 0ffffffffh
jmp     loc_277ebfdf
mov     eax, [ebx+1ch]
jmp     loc_277ebfdf
mov     eax, [ebp+wparam]
mov     [ebx+20h], eax
mov     ebx, [ebx+1ch]
test    ebx, ebx
jz      loc_277ec117
push    [ebp+lparam]
push    eax
push    30h
push    ebx
jmp     loc_277ec44d
mov     eax, [ebx+20h]
jmp     loc_277ebfdf
mov     eax, 200h
push    esi
push    eax
push    eax
push    0ffffffech
push    [esp+10h+hwnd]
call    sub_278119ca
push    0e4h
push    40h
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      short loc_277ec875
push    esi
push    0
push    [esp+0ch+hwnd]
call    ds:setwindowlonga
mov     eax, esi
pop     esi
retn    4
push    edi
mov     edi, [esp+4+pmem]
test    edi, edi
jz      short loc_277ec8a9
lea     eax, [edi+5ch]
push    esi
push    eax
call    sub_277eb3c2
mov     esi, ds:globalhandle
push    edi
call    esi
push    eax
call    ds:globalunlock
push    edi
call    esi
push    eax
call    ds:globalfree
pop     esi
push    0
push    0
push    [esp+0ch+hwnd]
call    ds:setwindowlonga
pop     edi
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    [ebp+arg_8]
push    [ebp+hwndparent]
push    esi
call    sub_277b6303
mov     ecx, [esi+8]
test    cx, 0ffc0h
jz      short loc_277ec8e3
or      eax, 0ffffffffh
pop     esi
leave
retn    0ch
push    edi
push    ebx
xor     ebx, ebx
test    cl, 1
jz      short loc_277ec928
or      byte ptr [esi+0e0h], 2
push    ebx
push    dword_27828334
mov     eax, 80000000h
and     ecx, 8000000h
push    3e8h
or      ecx, 50000000h
push    [ebp+hwndparent]
push    eax
push    eax
push    eax
push    eax
push    ecx
push    ebx
push    offset amsvblibupdown_1
push    ebx
call    ds:createwindowexa
mov     [esi+18h], eax
mov     ecx, [esi+8]
test    cl, 2
jz      short loc_277ec937
mov     dword ptr [esi+60h], 1
mov     ax, [esi+0e0h]
lea     edi, [esi+5ch]
shr     ecx, 1bh
not     cl
and     ax, 0ffeeh
and     ecx, 1
xor     eax, ecx
mov     word ptr [esi+42h], 0eh
or      ax, 108h
mov     word ptr [esi+3eh], 9
mov     [esi+0e0h], ax
lea     eax, [ebp+systemtime]
push    eax
mov     word ptr [esi+3ch], 6d8h
mov     [edi], esi
call    ds:getlocaltime
lea     eax, [ebp+systemtime]
push    eax
push    edi
call    sub_277ebc7a
push    ebx
push    edi
call    sub_277eb3dd
or      byte ptr [esi+0e1h], 4
push    esi
call    sub_277eca51
lea     eax, [esi+9dh]
push    0fh
push    eax
push    1045h
call    sub_277bc928
push    eax
call    ds:loadstringa
mov     ecx, [ebp+arg_8]
xor     eax, eax
mov     ecx, [ecx+0ch]
cmp     ecx, ebx
jz      short loc_277ec9c7
push    ebx
push    ebx
push    31h
push    ecx
call    ds:sendmessagea
push    ebx
push    eax
push    esi
call    sub_277ecab1
add     esi, 24h
push    esi
call    sub_277bd696
pop     ebx
xor     eax, eax
pop     edi
jmp     loc_277ec8de
cmp     [esp+arg_4], 0fffffff0h
jnz     short loc_277eca03
mov     eax, [esp+arg_8]
mov     edx, [esp+arg_0]
mov     ecx, [eax+4]
mov     edx, [edx+8]
xor     edx, ecx
and     edx, 0ffc3h
xor     edx, ecx
mov     [eax+4], edx
xor     eax, eax
retn    0ch
cmp     [esp+arg_4], 0fffffff0h
push    esi
push    edi
jnz     short loc_277eca4a
mov     edi, [esp+8+arg_0]
mov     eax, [esp+8+arg_8]
mov     eax, [eax+4]
mov     esi, [edi+8]
xor     esi, eax
mov     [edi+8], eax
test    si, 0ffcdh
jz      short loc_277eca31
push    edi
call    sub_277eca51
test    esi, 0c40000h
jz      short loc_277eca4a
push    0
push    0
push    0fffh
push    dword ptr [edi]
call    ds:postmessagea
pop     edi
xor     eax, eax
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 80h
push    esi
mov     esi, [ebp+arg_0]
mov     eax, 400h
test    [esi+0e0h], ax
jz      short loc_277eca96
mov     ecx, [esi+8]
test    cl, 8
jz      short loc_277eca9b
lea     ecx, [ebp+lcdata]
push    80h
push    ecx
push    1003h
push    eax
call    ds:getlocaleinfoa
lea     eax, [ebp+lcdata]
add     esi, 5ch
push    eax
push    esi
call    sub_277eb007
pop     esi
leave
retn    4
test    cl, 4
lea     ecx, [ebp+lcdata]
push    80h
push    ecx
jz      short loc_277ecaad
push    20h
jmp     short loc_277eca82
push    1fh
jmp     short loc_277eca82
push    esi
mov     esi, [esp+4+arg_0]
push    edi
push    [esp+8+arg_4]
lea     edi, [esi+5ch]
push    edi
call    sub_277eb3dd
lea     eax, [esi+0c0h]
push    eax
push    edi
call    sub_277eadde
push    [esp+8+arg_4]
call    sub_277bc9de
cmp     [esp+8+arg_8], 0
mov     [esi+14h], eax
jz      short loc_277ecaf8
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
push    dword ptr [esi]
call    ds:updatewindow
pop     edi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
test    byte ptr [ebx+8], 2
jz      short loc_277ecb7c
lea     esi, [ebx+0b0h]
push    esi
push    [ebp+hdc]
call    ds:rectvisible
test    eax, eax
jz      short loc_277ecb7c
lea     edi, [ebp+rc]
movsd
movsd
test    byte ptr [ebx+0e1h], 2
movsd
movsd
jz      short loc_277ecb40
lea     eax, [ebp+rc]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
push    0ffffffffh
lea     eax, [ebp+rc]
push    0ffffffffh
push    eax
call    ds:inflaterect
mov     ax, [ebx+0e0h]
mov     edx, 100h
xor     ecx, ecx
test    dx, ax
jz      short loc_277ecb66
mov     ecx, 400h
test    al, 1
jnz     short loc_277ecb6c
or      ecx, edx
push    ecx
lea     eax, [ebp+rc]
push    4
push    eax
push    [ebp+hdc]
call    ds:drawframecontrol
mov     ax, [ebx+0e0h]
test    ah, 1
jz      short loc_277ecbd0
mov     ecx, eax
and     ecx, 1
shr     eax, 2
and     eax, 1
push    ecx
push    eax
lea     eax, [ebx+5ch]
push    eax
push    [ebp+hdc]
call    sub_277eba7d
test    byte ptr [ebx+0e0h], 2
jnz     short loc_277ecbc9
lea     eax, [ebx+0d0h]
push    eax
push    [ebp+hdc]
call    ds:rectvisible
test    eax, eax
jz      short loc_277ecbc9
push    0
push    [ebp+hdc]
push    ebx
call    sub_277ed816
pop     edi
pop     esi
pop     ebx
leave
retn    8
xor     ecx, ecx
jmp     short loc_277ecb8d
push    ebp
mov     ebp, esp
sub     esp, 0ech
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebp+var_10]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_8]
lea     edi, [ebp+pvparam]
movsd
movsd
movsd
movsd
mov     edi, [ebp+arg_0]
test    byte ptr [edi+8], 20h
jz      loc_277ecd16
mov     esi, [ebp+pvparam]
sub     esi, [ebp+var_18]
add     esi, [ebp+var_8]
mov     [ebp+var_10], esi
mov     ebx, [ebp+var_14]
lea     eax, [ebp+versioninformation]
sub     ebx, [ebp+var_1c]
push    eax
mov     [ebp+versioninformation.dwosversioninfosize], 94h
add     ebx, [ebp+var_c]
mov     [ebp+var_4], ebx
call    ds:getversionexa
cmp     [ebp+versioninformation.dwplatformid], 2
jnz     short loc_277ecc42
cmp     [ebp+versioninformation.dwmajorversion], 5
jnb     short loc_277ecc6b
cmp     [ebp+versioninformation.dwplatformid], 1
jnz     loc_277ecd2a
cmp     [ebp+versioninformation.dwmajorversion], 4
ja      short loc_277ecc6b
jnz     loc_277ecd2a
cmp     [ebp+versioninformation.dwminorversion], 1
jb      loc_277ecd2a
push    2
push    dword ptr [edi]
call    sub_277e20c8
lea     ecx, [ebp+var_58]
mov     [ebp+var_58], 28h
push    ecx
push    eax
call    sub_277e2133
push    0ffffffech
push    dword ptr [edi]
call    ds:getwindowlonga
test    al, 8
lea     esi, [ebp+var_54]
jnz     short loc_277ecc99
lea     esi, [ebp+var_44]
lea     edi, [ebp+pvparam]
movsd
movsd
movsd
movsd
mov     esi, [ebp+var_10]
mov     edi, [ebp+arg_0]
mov     ecx, [ebp+var_18]
cmp     [ebp+var_8], ecx
jle     short loc_277eccbb
mov     eax, [ebp+var_8]
sub     eax, ecx
sub     esi, eax
sub     [ebp+var_8], eax
mov     [ebp+var_10], esi
mov     eax, [ebp+pvparam]
cmp     esi, eax
jge     short loc_277ecccc
sub     eax, esi
add     esi, eax
add     [ebp+var_8], eax
mov     [ebp+var_10], esi
cmp     ebx, [ebp+var_14]
jle     short loc_277ecd05
lea     esi, [edi+0c0h]
lea     edi, [ebp+point]
movsd
movsd
movsd
sub     ebx, [ebp+var_c]
lea     eax, [ebp+point]
movsd
mov     edi, [ebp+arg_0]
mov     esi, ds:clienttoscreen
push    eax
push    dword ptr [edi]
call    esi
lea     eax, [ebp+var_28]
push    eax
push    dword ptr [edi]
call    esi
mov     eax, [ebp+point.y]
mov     [ebp+var_4], eax
sub     eax, ebx
mov     [ebp+var_c], eax
mov     edi, [ebp+arg_4]
lea     esi, [ebp+var_10]
movsd
movsd
movsd
movsd
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [ebp+var_18]
mov     esi, [ebp+var_10]
sub     eax, [ebp+pvparam]
add     eax, [ebp+var_10]
mov     [ebp+var_8], eax
jmp     loc_277ecc0d
push    0ffffffech
push    dword ptr [edi]
call    ds:getwindowlonga
test    al, 8
jz      short loc_277ecd58
xor     eax, eax
push    eax
mov     [ebp+pvparam], eax
mov     [ebp+var_1c], eax
call    sub_277b339b
push    1
mov     [ebp+var_18], eax
call    sub_277b339b
mov     [ebp+var_14], eax
jmp     loc_277ecca6
xor     eax, eax
lea     ecx, [ebp+pvparam]
push    eax
push    ecx
push    eax
push    30h
call    ds:systemparametersinfoa
jmp     loc_277ecca6
push    ebp
mov     ebp, esp
sub     esp, 88h
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
push    dword ptr [ebx]
call    ds:getdc
mov     [ebp+hdc], eax
mov     ax, [ebx+0e0h]
mov     ecx, 100h
test    cx, ax
jnz     short loc_277ecdb3
push    1
push    0
push    dword ptr [ebx]
or      eax, ecx
mov     [ebx+0e0h], ax
call    ds:invalidaterect
push    ebx
call    sub_277ed6c3
mov     ax, [ebx+0e0h]
test    ah, 2
jz      short loc_277ecddb
and     ax, 0fdffh
push    1
mov     [ebx+0e0h], ax
lea     eax, [ebx+0b0h]
push    eax
push    dword ptr [ebx]
call    ds:invalidaterect
lea     eax, [ebx+5ch]
push    0ffffffffh
push    eax
call    sub_277eb439
cmp     [ebp+arg_4], 0
jz      short loc_277ecdf7
push    1
push    [ebp+hdc]
push    ebx
call    sub_277ed816
lea     esi, [ebx+0c0h]
lea     edi, [ebp+point]
movsd
movsd
movsd
lea     eax, [ebp+point]
push    eax
push    dword ptr [ebx]
movsd
mov     esi, ds:clienttoscreen
call    esi
lea     eax, [ebp+var_40]
push    eax
push    dword ptr [ebx]
call    esi
lea     esi, [ebx+0d0h]
lea     edi, [ebp+var_68]
movsd
movsd
movsd
lea     eax, [ebp+var_68]
push    eax
push    dword ptr [ebx]
movsd
mov     esi, ds:clienttoscreen
call    esi
lea     eax, [ebp+var_60]
push    eax
push    dword ptr [ebx]
call    esi
lea     esi, [ebp+point]
lea     edi, [ebp+x]
movsd
movsd
movsd
mov     eax, [ebp+var_40.y]
movsd
xor     edi, edi
lea     ecx, [eax+1]
push    edi
mov     [ebp+y], ecx
push    dword_27828334
lea     eax, [ecx+1]
mov     [ebp+var_8], eax
sub     eax, ecx
push    edi
push    dword ptr [ebx]
push    eax
mov     eax, [ebp+var_c]
sub     eax, [ebp+x]
push    eax
push    ecx
push    [ebp+x]
push    80800000h
push    edi
push    offset amsvblibmonthvi_0
push    edi
call    ds:createwindowexa
mov     esi, eax
cmp     esi, edi
mov     [ebp+hwnd], esi
jz      loc_277ed06c
lea     eax, [ebx+24h]
mov     [ebx+1ch], esi
mov     [ebp+wparam], edi
mov     [ebp+var_4], eax
mov     eax, [ebp+var_4]
push    dword ptr [eax]
push    [ebp+wparam]
push    100ah
push    esi
call    ds:sendmessagea
inc     [ebp+wparam]
add     [ebp+var_4], 4
cmp     [ebp+wparam], 6
jl      short loc_277ece9b
mov     eax, [ebx+20h]
cmp     eax, edi
jz      loc_277ed073
push    edi
push    eax
push    30h
push    esi
mov     esi, ds:sendmessagea
call    esi
mov     ax, [ebx+0e0h]
xor     ecx, ecx
test    al, 8
jz      short loc_277ecee4
push    1
pop     ecx
test    al, 10h
jz      short loc_277eceeb
or      ecx, 2
lea     eax, [ebx+3ch]
push    eax
push    ecx
push    1012h
push    [ebp+hwnd]
call    esi
lea     eax, [ebp+lparam]
push    eax
push    edi
push    1009h
push    [ebp+hwnd]
call    esi
push    edi
push    edi
push    1015h
push    [ebp+hwnd]
call    esi
cmp     eax, [ebp+var_50]
jbe     short loc_277ecf1d
mov     [ebp+var_50], eax
lea     eax, [ebp+var_78]
push    eax
lea     eax, [ebx+5ch]
push    eax
call    sub_277ebc4f
lea     eax, [ebp+var_78]
push    eax
push    edi
push    1002h
push    [ebp+hwnd]
call    esi
lea     eax, [ebp+lparam]
push    eax
lea     eax, [ebp+x]
push    eax
push    ebx
call    sub_277ecbd4
mov     eax, [ebp+var_8]
push    edi
sub     eax, [ebp+y]
mov     esi, ds:movewindow
push    eax
mov     eax, [ebp+var_c]
sub     eax, [ebp+x]
push    eax
push    [ebp+y]
push    [ebp+x]
push    [ebp+hwnd]
call    esi
push    edi
push    0fffffd0eh
push    ebx
call    sub_277b9838
push    edi
push    [ebp+hwnd]
call    ds:getwindowlonga
add     eax, 5b4h
push    eax
lea     eax, [ebp+x]
push    eax
push    ebx
call    sub_277ecbd4
mov     eax, [ebp+var_8]
push    edi
sub     eax, [ebp+y]
push    eax
mov     eax, [ebp+var_c]
sub     eax, [ebp+x]
push    eax
push    [ebp+y]
push    [ebp+x]
push    [ebp+hwnd]
call    esi
push    8
push    [ebp+hwnd]
call    ds:showwindow
lea     esi, [ebx+84h]
lea     edi, [ebp+var_88]
movsd
or      byte ptr [ebx+0e0h], 80h
mov     cx, [ebx+0e0h]
mov     eax, [ebp+arg_4]
movsd
movsd
test    cl, 80h
mov     [ebp+arg_4], eax
mov     [ebp+var_4], eax
movsd
jz      loc_277ed1e4
xor     esi, esi
lea     eax, [ebp+msg]
push    esi
push    esi
push    esi
push    eax
call    ds:getmessagea
mov     cx, [ebx+0e0h]
push    1
pop     edi
and     cx, 0ff7fh
and     eax, edi
shl     eax, 7
or      ecx, eax
cmp     [ebp+var_4], esi
mov     [ebx+0e0h], cx
mov     ecx, [ebp+msg.message]
jz      loc_277ed11b
mov     eax, ecx
sub     eax, 200h
jz      short loc_277ed07e
dec     eax
dec     eax
jnz     loc_277ed11b
cmp     [ebp+arg_4], esi
jz      short loc_277ed03d
push    esi
push    [ebp+hdc]
push    ebx
call    sub_277ed816
mov     [ebp+arg_4], esi
mov     [ebp+var_4], esi
test    byte ptr [ebx+0e0h], 80h
jnz     short loc_277ecfe2
push    esi
push    0fffffd0fh
push    ebx
call    sub_277b9838
push    [ebp+hwnd]
mov     [ebx+1ch], esi
call    ds:destroywindow
push    [ebp+hdc]
push    dword ptr [ebx]
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     esi, ds:sendmessagea
jmp     loc_277eced4
push    [ebp+msg.pt.y]
lea     eax, [ebp+var_68]
push    [ebp+msg.pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277ed0a6
cmp     [ebp+arg_4], esi
jnz     short loc_277ed040
push    edi
push    [ebp+hdc]
push    ebx
call    sub_277ed816
mov     [ebp+arg_4], edi
jmp     short loc_277ed040
cmp     [ebp+arg_4], esi
jz      short loc_277ed0b8
push    esi
push    [ebp+hdc]
push    ebx
call    sub_277ed816
mov     [ebp+arg_4], esi
push    [ebp+msg.pt.y]
lea     eax, [ebp+x]
push    [ebp+msg.pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jz      loc_277ed040
mov     eax, [ebp+y]
mov     [ebp+var_4], esi
cdq
sub     eax, edx
mov     ecx, eax
mov     eax, [ebp+var_8]
cdq
sub     eax, edx
sar     ecx, 1
sar     eax, 1
add     ecx, eax
mov     eax, [ebp+x]
cdq
sub     eax, edx
mov     edi, eax
mov     eax, [ebp+var_c]
cdq
sub     eax, edx
sar     edi, 1
sar     eax, 1
movzx   ecx, cx
add     edi, eax
movzx   eax, di
shl     ecx, 10h
or      ecx, eax
push    ecx
push    esi
push    201h
push    [ebp+hwnd]
call    ds:sendmessagea
jmp     loc_277ed040
cmp     ecx, 201h
jz      short loc_277ed133
cmp     ecx, 0a1h
jz      short loc_277ed133
cmp     ecx, 203h
jnz     short loc_277ed14e
push    [ebp+msg.pt.y]
lea     eax, [ebp+x]
push    [ebp+msg.pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jz      loc_277ed1d6
mov     ecx, [ebp+msg.message]
cmp     ecx, 111h
jnz     short loc_277ed15b
cmp     [ebp+msg.lparam], esi
jz      short loc_277ed1d6
cmp     ecx, 112h
jz      short loc_277ed1d6
mov     eax, 100h
cmp     ecx, eax
jnz     short loc_277ed172
cmp     [ebp+msg.wparam], 0dh
jz      short loc_277ed1d6
cmp     ecx, 8
jz      short loc_277ed1d6
cmp     ecx, 204h
jz      short loc_277ed1aa
cmp     ecx, 0a4h
jz      short loc_277ed1aa
cmp     ecx, eax
jnz     short loc_277ed191
cmp     [ebp+msg.wparam], 1bh
jz      short loc_277ed1aa
lea     eax, [ebp+msg]
push    eax
call    ds:translatemessage
lea     eax, [ebp+msg]
push    eax
call    ds:dispatchmessagea
jmp     loc_277ed040
lea     esi, [ebp+var_88]
lea     edi, [ebx+84h]
movsd
movsd
and     word ptr [ebx+0e0h], 0ff7fh
push    1
movsd
push    0
push    dword ptr [ebx]
movsd
call    ds:invalidaterect
xor     esi, esi
jmp     loc_277ed040
and     word ptr [ebx+0e0h], 0ff7fh
jmp     loc_277ed040
xor     esi, esi
jmp     loc_277ed049
push    ebp
mov     ebp, esp
sub     esp, 0a4h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
lea     ecx, [ebp+string]
lea     eax, [ebx+5ch]
push    80h
push    ecx
push    eax
call    sub_277ebc93
test    eax, eax
jz      loc_277ed2bf
and     [ebp+lparam], 0
push    8
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_20]
lea     esi, [ebx+84h]
rep stosd
lea     eax, [ebp+string]
lea     edi, [ebp+var_14]
mov     [ebp+var_18], eax
mov     ax, [ebx+0e0h]
movsd
movsd
and     ax, 100h
xor     ecx, ecx
movsd
cmp     ax, 100h
lea     eax, [ebp+lparam]
push    eax
push    0fffffd0ah
setnz   cl
movsd
push    ebx
mov     [ebp+var_4], ecx
call    sub_277b9838
cmp     [ebp+var_4], 0
jnz     short loc_277ed281
lea     eax, [ebp+var_14]
push    eax
call    sub_2781624a
test    eax, eax
jnz     short loc_277ed281
lea     esi, [ebx+84h]
lea     edi, [ebp+var_14]
movsd
movsd
movsd
movsd
cmp     [ebp+var_4], 1
jnz     short loc_277ed2c6
test    byte ptr [ebx+8], 2
jz      short loc_277ed2bf
mov     ax, [ebx+0e0h]
push    0ffffffffh
and     ax, 0feffh
or      ah, 2
mov     [ebx+0e0h], ax
lea     eax, [ebx+5ch]
push    eax
call    sub_277eb439
push    1
push    0
push    dword ptr [ebx]
call    ds:invalidaterect
push    ebx
call    sub_277ed6c3
pop     edi
pop     esi
pop     ebx
leave
retn    4
cmp     [ebp+var_4], 0
jnz     short loc_277ed2bf
lea     eax, [ebp+var_14]
push    0
push    eax
push    ebx
call    sub_277ed76f
jmp     short loc_277ed2bf
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+hwnd]
test    byte ptr [esi+0e0h], 1
jnz     short loc_277ed2f3
xor     eax, eax
pop     esi
leave
retn    0ch
mov     eax, [ebp+arg_8]
push    edi
movsx   edi, ax
shr     eax, 10h
push    ebx
movsx   ebx, ax
lea     eax, [esi+5ch]
mov     [ebp+var_4], ebx
push    eax
push    esi
call    sub_277eb538
mov     al, [esi+0e0h]
shr     eax, 2
and     eax, 1
mov     [ebp+hwnd], eax
jnz     short loc_277ed327
push    dword ptr [esi]
call    ds:setfocus
push    ebx
mov     ebx, ds:ptinrect
lea     eax, [esi+0d0h]
push    edi
push    eax
call    ebx
test    eax, eax
jz      short loc_277ed356
push    dword ptr [esi]
call    ds:iswindowvisible
test    eax, eax
jz      short loc_277ed356
push    1
push    esi
call    sub_277ecd6d
pop     ebx
xor     eax, eax
pop     edi
jmp     short loc_277ed2ee
test    byte ptr [esi+0e0h], 40h
jnz     short loc_277ed350
sub     edi, [esi+78h]
test    byte ptr [esi+8], 2
jz      short loc_277ed3c0
push    [ebp+var_4]
lea     eax, [esi+0b0h]
push    edi
push    eax
call    ebx
test    eax, eax
jz      short loc_277ed3c0
mov     ax, [esi+0e0h]
xor     ecx, ecx
mov     cl, ah
push    0ffffffffh
and     ecx, 1
inc     ecx
imul    ecx, 0ff00h
xor     ecx, eax
and     cx, 100h
xor     ecx, eax
lea     eax, [esi+5ch]
or      ch, 2
push    eax
mov     [esi+0e0h], cx
call    sub_277eb439
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
push    esi
call    sub_277ed6c3
jmp     short loc_277ed350
test    byte ptr [esi+0e1h], 1
jz      short loc_277ed350
test    byte ptr [esi+8], 10h
jz      short loc_277ed3e0
cmp     [ebp+hwnd], 0
jz      short loc_277ed3e0
push    esi
call    sub_277ed1eb
jmp     loc_277ed350
push    [ebp+var_4]
push    edi
lea     edi, [esi+5ch]
push    edi
call    sub_277ebc20
cmp     eax, 0ffffffffh
jz      loc_277ed350
push    eax
push    edi
call    sub_277eb439
test    byte ptr [esi+8], 2
jz      loc_277ed350
and     word ptr [esi+0e0h], 0fdffh
lea     eax, [esi+0b0h]
push    1
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
jmp     loc_277ed350
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
test    byte ptr [ebx+8], 2
jz      loc_277ed51e
mov     esi, [ebp+arg_4]
mov     eax, [esi+4]
inc     eax
mov     [ebx+0b4h], eax
mov     ecx, [esi+0ch]
lea     eax, [ebx+0bch]
dec     ecx
mov     [eax], ecx
mov     ecx, [esi]
inc     ecx
mov     [ebx+0b0h], ecx
mov     ecx, [esi]
add     ecx, [eax]
sub     ecx, [ebx+0b4h]
mov     [ebx+0b8h], ecx
mov     eax, [esi+8]
cdq
sub     eax, edx
sub     ecx, [esi]
mov     edi, eax
mov     eax, [esi]
cdq
sub     eax, edx
sar     edi, 1
sar     eax, 1
sub     edi, eax
cmp     ecx, edi
jle     short loc_277ed48a
mov     [ebx+0b8h], edi
lea     edi, [ebx+0d0h]
push    2
movsd
movsd
movsd
movsd
mov     edi, [ebx+0d8h]
call    sub_277b339b
mov     ecx, edi
lea     esi, [ebx+0d0h]
sub     ecx, eax
mov     eax, [ebx+0b8h]
cmp     ecx, eax
mov     [esi], ecx
jge     short loc_277ed4b9
mov     [esi], eax
mov     eax, [ebx+18h]
test    eax, eax
jz      short loc_277ed4e3
mov     eax, [ebx+0d4h]
mov     edx, [ebx+0dch]
mov     ecx, [esi]
sub     edx, eax
sub     edi, ecx
inc     edx
push    0
inc     edi
push    edx
push    edi
push    eax
push    ecx
push    dword ptr [ebx+18h]
call    ds:movewindow
mov     eax, [ebp+arg_4]
mov     ecx, [eax+4]
mov     [ebx+0c4h], ecx
mov     eax, [eax+0ch]
mov     ecx, [ebx+0b8h]
mov     [ebx+0cch], eax
lea     eax, [ebx+0c0h]
inc     ecx
add     ebx, 5ch
push    eax
mov     [eax], ecx
mov     ecx, [esi]
dec     ecx
push    ebx
mov     [ebx+6ch], ecx
call    sub_277eadde
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     eax, [ebp+arg_4]
mov     esi, [ebp+arg_4]
mov     ecx, [eax+4]
mov     [ebx+0b4h], ecx
mov     ecx, [eax+4]
mov     [ebx+0bch], ecx
mov     ecx, [eax]
mov     [ebx+0b0h], ecx
mov     eax, [eax]
inc     eax
mov     [ebx+0b8h], eax
jmp     loc_277ed48a
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+hwnd]
push    edi
mov     edi, [ebp+arg_4]
push    1
cmp     edi, 73h
pop     edx
jnz     short loc_277ed57b
test    byte ptr [esi+0e0h], 2
jnz     short loc_277ed57b
push    0
push    esi
call    sub_277ecd6d
pop     edi
xor     eax, eax
pop     esi
leave
retn    0ch
test    byte ptr [esi+8], 10h
jz      short loc_277ed58e
cmp     edi, 71h
jnz     short loc_277ed58e
push    esi
call    sub_277ed1eb
jmp     short loc_277ed573
mov     cx, [esi+0e0h]
test    ch, 2
jz      short loc_277ed5da
mov     eax, edi
sub     eax, 25h
jz      short loc_277ed5d5
dec     eax
dec     eax
jnz     short loc_277ed573
test    ch, 1
jz      short loc_277ed573
lea     eax, [esi+5ch]
push    edx
push    eax
call    sub_277eb4cc
cmp     eax, 0ffffffffh
jz      short loc_277ed573
and     word ptr [esi+0e0h], 0fdffh
lea     eax, [esi+0b0h]
push    1
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
jmp     short loc_277ed573
or      edx, 0ffffffffh
jmp     short loc_277ed5a5
cmp     edi, 24h
jnz     short loc_277ed607
push    11h
call    ds:getkeystate
test    ax, ax
jge     short loc_277ed607
lea     eax, [ebp+systemtime]
push    eax
call    ds:getlocaltime
lea     eax, [ebp+systemtime]
push    1
push    eax
push    esi
call    sub_277ed76f
jmp     loc_277ed573
push    [ebp+arg_8]
lea     eax, [esi+5ch]
push    edi
push    eax
push    esi
call    sub_277eb7d0
test    eax, eax
jz      short loc_277ed624
push    esi
call    sub_277ed6c3
jmp     loc_277ed573
test    byte ptr [esi+8], 2
jz      loc_277ed573
cmp     dword ptr [esi+7ch], 0ffffffffh
jnz     loc_277ed573
or      byte ptr [esi+0e1h], 2
jmp     short loc_277ed5c2
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     ax, [esi+0e0h]
test    ah, 2
jz      short loc_277ed69b
cmp     byte ptr [esp+8+arg_4], 20h
jnz     short loc_277ed691
xor     ecx, ecx
push    1
mov     cl, ah
push    0
and     ecx, 1
push    dword ptr [esi]
inc     ecx
imul    ecx, 0ff00h
xor     ecx, eax
and     cx, 100h
xor     ecx, eax
mov     [esi+0e0h], cx
call    ds:invalidaterect
push    esi
call    sub_277ed6c3
pop     edi
xor     eax, eax
pop     esi
retn    0ch
push    10h
call    ds:messagebeep
jmp     short loc_277ed68a
push    [esp+8+arg_4]
lea     edi, [esi+5ch]
push    edi
push    esi
call    sub_277edb34
test    eax, eax
jz      short loc_277ed68a
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
push    9
push    edi
call    sub_277eb644
jmp     short loc_277ed68a
push    ebp
mov     ebp, esp
sub     esp, 20h
and     [ebp+lparam], 0
push    ebx
mov     ebx, [ebp+arg_0]
push    edi
push    7
xor     eax, eax
pop     ecx
lea     edi, [ebp+var_1c]
rep stosd
mov     ax, [ebx+0e0h]
test    al, 20h
jnz     short loc_277ed704
test    ah, 1
push    esi
jnz     short loc_277ed70a
mov     [ebp+var_14], 1
lea     eax, [ebp+lparam]
push    eax
push    0fffffd09h
push    ebx
call    sub_277b9838
pop     esi
pop     edi
pop     ebx
leave
retn    4
test    al, 8
jz      short loc_277ed723
lea     esi, [ebx+3ch]
lea     edi, [ebx+84h]
push    esi
push    edi
call    sub_278161d9
cmp     eax, 0ffffffffh
jz      short loc_277ed741
test    byte ptr [ebx+0e0h], 10h
jz      short loc_277ed75c
lea     esi, [ebx+4ch]
lea     edi, [ebx+84h]
push    esi
push    edi
call    sub_278161d9
cmp     eax, 1
jnz     short loc_277ed75c
movsd
movsd
movsd
push    1
push    0
push    dword ptr [ebx]
movsd
call    ds:invalidaterect
lea     eax, [ebx+5ch]
push    9
push    eax
call    sub_277eb644
and     [ebp+var_14], 0
lea     eax, [ebp+var_10]
push    eax
lea     eax, [ebx+5ch]
push    eax
call    sub_277ebc4f
jmp     short loc_277ed6f4
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+0e0h], 8
jz      short loc_277ed7c0
mov     edi, [ebp+arg_4]
lea     ebx, [esi+3ch]
push    ebx
push    edi
call    sub_278161d9
test    eax, eax
jge     short loc_277ed79a
cmp     [ebp+arg_8], 0
jz      short loc_277ed7b7
mov     edi, ebx
test    byte ptr [esi+0e0h], 10h
jz      short loc_277ed7c7
lea     ebx, [esi+4ch]
push    edi
push    ebx
call    sub_278161d9
test    eax, eax
jge     short loc_277ed7c7
cmp     [ebp+arg_8], 0
jnz     short loc_277ed7c5
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     edi, [ebp+arg_4]
jmp     short loc_277ed79a
mov     edi, ebx
cmp     [ebp+arg_8], 0
jz      short loc_277ed80a
mov     ax, [edi]
push    1
mov     [esi+84h], ax
mov     ax, [edi+2]
mov     [esi+86h], ax
mov     ax, [edi+6]
mov     [esi+8ah], ax
pop     eax
test    eax, eax
jz      short loc_277ed805
lea     eax, [esi+5ch]
push    9
push    eax
call    sub_277eb644
push    esi
call    sub_277ed6c3
push    1
pop     eax
jmp     short loc_277ed7b9
lea     eax, [esi+5ch]
push    edi
push    eax
call    sub_277ebc7a
jmp     short loc_277ed7f0
cmp     [esp+arg_8], 0
push    1
pop     ecx
jz      short loc_277ed825
mov     ecx, 201h
mov     eax, [esp+arg_0]
test    byte ptr [eax+0e0h], 1
jnz     short loc_277ed835
or      ch, 1
push    ecx
add     eax, 0d0h
push    3
push    eax
push    [esp+0ch+arg_4]
call    ds:drawframecontrol
retn    0ch
mov     edx, [esp+arg_0]
push    esi
cmp     byte ptr [edx], 20h
jnz     short loc_277ed858
inc     edx
jmp     short loc_277ed850
movzx   ecx, byte ptr [edx]
inc     edx
cmp     ecx, 2dh
mov     esi, ecx
jz      short loc_277ed868
cmp     ecx, 2bh
jnz     short loc_277ed86c
movzx   ecx, byte ptr [edx]
inc     edx
xor     eax, eax
cmp     ecx, 30h
jl      short loc_277ed885
cmp     ecx, 39h
jg      short loc_277ed885
lea     eax, [eax+eax*4]
lea     eax, [ecx+eax*2-30h]
movzx   ecx, byte ptr [edx]
inc     edx
jmp     short loc_277ed86e
cmp     esi, 2dh
jnz     short loc_277ed88c
neg     eax
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 14h
push    esi
mov     esi, [ebp+phkresult]
push    edi
push    offset akernel32dll_1
xor     edi, edi
mov     dword ptr [esi], 7edh
call    ds:loadlibrarya
push    offset agetcalendarinf
push    eax
call    ds:getprocaddress
cmp     eax, edi
jz      short loc_277ed8d5
push    esi
push    edi
push    edi
push    20000030h
push    1
push    400h
call    eax
mov     eax, edi
pop     edi
pop     esi
leave
retn    4
lea     eax, [ebp+phkresult]
push    eax
push    1
push    edi
push    offset acontrolpanelin
push    80000001h
call    ds:regopenkeyexa
test    eax, eax
jnz     short loc_277ed8cd
lea     eax, [ebp+cbdata]
mov     [ebp+cbdata], 0ah
push    eax
lea     eax, [ebp+data]
push    eax
lea     eax, [ebp+type]
push    eax
push    edi
push    offset a1_0
push    [ebp+phkresult]
call    ds:regqueryvalueexa
push    [ebp+phkresult]
mov     edi, eax
call    ds:regclosekey
cmp     [ebp+type], 1
jnz     short loc_277ed8cd
lea     eax, [ebp+data]
push    eax
call    sub_277ed84b
pop     ecx
mov     [esi], eax
jmp     short loc_277ed8cd
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    esi
push    edi
lea     eax, [ebp+lcdata]
push    0ah
push    eax
push    1009h
push    400h
call    ds:getlocaleinfoa
lea     eax, [ebp+lcdata]
push    eax
call    sub_277ed84b
mov     esi, [ebp+phkresult.unused]
pop     ecx
cmp     si, 64h
jnb     short loc_277ed98b
lea     eax, [ebp+phkresult]
push    eax
call    sub_277ed88e
test    eax, eax
mov     ecx, 7edh
jl      short loc_277ed977
mov     ecx, [ebp+phkresult.unused]
push    64h
mov     eax, ecx
xor     edx, edx
pop     edi
div     edi
sub     ecx, edx
cmp     si, dx
jbe     short loc_277ed994
lea     esi, [esi+ecx-64h]
mov     ax, si
pop     edi
pop     esi
leave
retn    8
add     esi, ecx
jmp     short loc_277ed98b
push    ebp
mov     ebp, esp
sub     esp, 68h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_8]
push    1
mov     eax, [edi+14h]
pop     esi
cmp     [edi], esi
mov     cx, [eax]
mov     ax, [edi+2ch]
mov     [ebp+var_4], ecx
jnz     short loc_277ed9bf
push    eax
push    ecx
call    sub_277ed931
mov     ecx, [edi+14h]
mov     [ebp+arg_8], esi
mov     esi, [ebp+arg_4]
xor     ebx, ebx
mov     [ecx], ax
mov     eax, [esi+24h]
test    eax, eax
jle     short loc_277eda04
mov     edx, [esi+3ch]
mov     ecx, [edx]
cmp     ecx, 1
jz      loc_277eda9e
test    ecx, ecx
jz      loc_277eda9e
cmp     ecx, 2
jz      loc_277eda9e
cmp     ecx, 3
jz      loc_277eda9e
inc     ebx
add     edx, 38h
cmp     ebx, eax
jl      short loc_277ed9d7
cmp     [ebp+arg_8], 0
jz      short loc_277eda4d
mov     ebx, [ebp+arg_0]
test    byte ptr [ebx+0e0h], 8
jz      short loc_277eda2b
lea     eax, [ebx+3ch]
push    eax
lea     eax, [ebx+84h]
push    eax
call    sub_278161d9
cmp     eax, 0ffffffffh
jz      short loc_277eda49
test    byte ptr [ebx+0e0h], 10h
jz      short loc_277eda4d
lea     eax, [ebx+4ch]
add     ebx, 84h
push    eax
push    ebx
call    sub_278161d9
cmp     eax, 1
jnz     short loc_277eda4d
and     [ebp+arg_8], 0
mov     ecx, [esi+24h]
xor     eax, eax
test    ecx, ecx
mov     [ebp+arg_4], 1
jle     short loc_277eda7e
mov     edx, [esi+3ch]
mov     ebx, [edx]
cmp     ebx, 5
jz      short loc_277edabf
cmp     ebx, 4
jz      short loc_277edabf
cmp     ebx, 7
jz      short loc_277edabf
cmp     ebx, 6
jz      short loc_277edabf
inc     eax
add     edx, 38h
cmp     eax, ecx
jl      short loc_277eda60
mov     eax, [edi+14h]
mov     cx, word ptr [ebp+var_4]
mov     [eax], cx
xor     eax, eax
cmp     [ebp+arg_8], eax
jle     short loc_277eda97
cmp     [ebp+arg_4], eax
jle     short loc_277eda97
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
lea     eax, [ebp+datestr]
push    64h
push    eax
lea     eax, [esi+28h]
push    0
push    eax
push    1
push    400h
call    ds:getdateformata
mov     [ebp+arg_8], eax
jmp     loc_277eda04
lea     eax, [ebp+datestr]
push    64h
push    eax
add     esi, 28h
push    0
push    esi
push    0
push    400h
call    ds:gettimeformata
mov     [ebp+arg_4], eax
jmp     short loc_277eda7e
mov     ecx, [esp+arg_0]
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     eax, [esi+14h]
mov     di, [eax]
mov     ax, [esi+2ch]
and     dword ptr [ecx+50h], 0
cmp     di, ax
jnz     short loc_277edb01
xor     eax, eax
pop     edi
pop     esi
retn    8
cmp     dword ptr [esi], 1
jnz     short loc_277edb0d
push    eax
push    edi
call    sub_277ed931
cmp     dword ptr [esi], 5
jnz     short loc_277edb29
mov     ecx, [esi+30h]
cmp     byte ptr [ecx], 68h
jnz     short loc_277edb29
cmp     di, 0ch
jbe     short loc_277edb29
cmp     ax, 0ch
jnb     short loc_277edb29
add     eax, 0ch
mov     ecx, [esi+14h]
push    1
mov     [ecx], ax
pop     eax
jmp     short loc_277edafc
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
mov     eax, [edi+20h]
cmp     eax, 0ffffffffh
jz      loc_277edc8c
imul    eax, 38h
mov     esi, [edi+3ch]
mov     bl, byte ptr [ebp+arg_8]
add     esi, eax
cmp     bl, [edi+40h]
jz      loc_277edc95
movsx   ax, bl
mov     word ptr [ebp+arg_8], ax
push    eax
lea     eax, [edi+41h]
push    eax
call    sub_278162ef
test    eax, eax
jnz     loc_277edc95
mov     edx, [esi]
cmp     edx, 4
jz      short loc_277edb83
cmp     edx, 5
jnz     short loc_277edbca
cmp     bl, 70h
jz      short loc_277edb8d
cmp     bl, 50h
jnz     short loc_277edbaf
mov     eax, [esi+14h]
mov     cx, [eax]
cmp     cx, 0ch
jnb     short loc_277edbaf
add     ecx, 0ch
push    [ebp+arg_0]
mov     [eax], cx
call    sub_277ed6c3
push    1
pop     eax
jmp     loc_277edc8e
cmp     bl, 61h
jz      short loc_277edbb9
cmp     bl, 41h
jnz     short loc_277edbca
mov     eax, [esi+14h]
mov     cx, [eax]
cmp     cx, 0ch
jb      short loc_277edbca
add     ecx, 0fffffff4h
jmp     short loc_277edb9c
push    1
pop     eax
cmp     edx, eax
jz      short loc_277edbee
cmp     edx, 2
jz      short loc_277edbee
cmp     edx, 3
jz      short loc_277edbee
cmp     edx, 5
jz      short loc_277edbee
cmp     edx, 6
jz      short loc_277edbee
cmp     edx, 7
jnz     loc_277edc8c
cmp     bl, 30h
jl      loc_277edc7f
cmp     bl, 39h
jg      loc_277edc7f
mov     ecx, [ebp+arg_8]
cmp     dword ptr [edi+50h], 0
lea     ebx, [ecx-30h]
jnz     short loc_277edc2e
mov     [esi+2ch], bx
mov     [edi+50h], eax
mov     eax, [edi]
push    0
push    7d0h
push    10171972h
push    dword ptr [eax]
call    ds:settimer
jmp     loc_277edba7
mov     eax, [edi]
push    10171972h
push    dword ptr [eax]
call    ds:killtimer
mov     ax, [esi+2ch]
mov     ecx, [esi+24h]
movzx   edx, ax
lea     eax, [eax+eax*4]
cmp     ecx, 2
lea     eax, [ebx+eax*2]
mov     [esi+2ch], ax
jnz     short loc_277edc61
cmp     dword ptr [esi], 1
jz      short loc_277edc61
cmp     ax, 63h
ja      short loc_277edc71
cmp     ecx, 4
jz      short loc_277edc6b
cmp     dword ptr [esi], 1
jnz     short loc_277edc13
cmp     ax, 270fh
jbe     short loc_277edc13
push    9
push    edi
mov     [esi+2ch], dx
call    sub_277eb644
jmp     short loc_277edc13
cmp     bl, 20h
jle     short loc_277edc8c
push    10h
call    ds:messagebeep
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
push    edi
push    [ebp+arg_0]
call    sub_277eb538
push    1
push    edi
call    sub_277eb4cc
jmp     loc_277edba7
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    dword ptr [esi]
push    [ebp+wparam]
push    138h
push    dword ptr [esi+8]
call    ds:sendmessagea
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
lea     eax, [ebp+rect]
push    edi
push    eax
push    [ebp+wparam]
call    ds:fillrect
pop     edi
pop     esi
leave
retn    8
cmp     [esp+arg_4], 0fffffff0h
jnz     short locret_277edd00
mov     eax, [esp+arg_8]
mov     ecx, [esp+arg_0]
mov     eax, [eax+4]
mov     [ecx+0ch], eax
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 28h
lea     eax, [ebp+wndclass]
push    esi
mov     esi, [ebp+hinstance]
push    eax
push    offset amsvblibhotkey
push    esi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277edd61
mov     [ebp+wndclass.style], eax
mov     [ebp+wndclass.hicon], eax
mov     [ebp+wndclass.hcursor], eax
mov     [ebp+wndclass.hbrbackground], eax
mov     [ebp+wndclass.lpszmenuname], eax
mov     [ebp+wndclass.cbclsextra], eax
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.lpfnwndproc], offset sub_277ee107
push    eax
mov     [ebp+wndclass.lpszclassname], offset amsvblibhotkey_0
mov     [ebp+wndclass.hinstance], esi
mov     [ebp+wndclass.cbwndextra], 18h
call    ds:registerclassa
test    ax, ax
jnz     short loc_277edd61
xor     eax, eax
pop     esi
leave
retn    4
push    1
pop     eax
jmp     short loc_277edd5c
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, ds:getwindowlonga
push    edi
mov     edi, [ebp+hwnd]
push    0
movzx   ebx, [ebp+arg_4]
push    edi
call    esi
cmp     ebx, eax
jnz     short loc_277edd8f
push    4
push    edi
call    esi
movzx   ecx, [ebp+arg_8]
cmp     ecx, eax
jz      short loc_277edde7
mov     esi, ds:setwindowlonga
push    ebx
xor     ebx, ebx
push    ebx
push    edi
call    esi
movzx   eax, [ebp+arg_8]
push    eax
push    4
push    edi
call    esi
push    1
push    ebx
push    edi
call    ds:invalidaterect
cmp     [ebp+arg_c], ebx
jz      short loc_277eddd9
push    edi
push    edi
call    ds:getdlgctrlid
movzx   eax, ax
or      eax, 3000000h
push    eax
push    111h
push    edi
call    ds:getparent
push    eax
call    ds:sendmessagea
push    ebx
push    0fffffffch
push    edi
push    800eh
call    sub_277b8949
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    0
push    [esp+4+ucode]
call    ds:mapvirtualkeya
shl     eax, 10h
cmp     [esp+arg_8], 0
jz      short loc_277ede09
or      eax, 1000000h
push    32h
push    [esp+4+lpstring]
push    eax
call    ds:getkeynametexta
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 0d8h
push    ebx
push    esi
push    edi
lea     eax, [ebp+buffer]
push    0ah
push    eax
push    401h
call    sub_277bc928
mov     ebx, ds:loadstringa
push    eax
call    ebx
mov     esi, ds:getwindowlonga
push    0
push    [ebp+hwnd]
call    esi
push    4
mov     [ebp+ucode], eax
push    [ebp+hwnd]
call    esi
cmp     [ebp+ucode], 0
mov     edi, ds:lstrlena
mov     [ebp+var_4], eax
jnz     loc_277edf6e
test    eax, eax
jnz     loc_277edf6e
lea     eax, [ebp+string]
push    64h
push    eax
push    402h
call    sub_277bc928
push    eax
call    ebx
lea     eax, [ebp+string]
push    eax
call    edi
mov     ebx, [ebp+hwnd]
mov     [ebp+var_4], eax
push    ebx
call    ds:hidecaret
push    1
push    0
push    ebx
call    ds:invalidaterect
lea     eax, [ebp+paint]
push    eax
push    ebx
call    ds:beginpaint
push    10h
push    ebx
mov     edi, eax
call    esi
push    eax
push    edi
call    ds:selectobject
mov     eax, w
push    [ebp+hwnd]
mov     ebx, y
mov     [ebp+x], eax
call    ds:iswindowenabled
test    eax, eax
jz      loc_277ee01b
push    5
call    ds:getsyscolor
push    eax
push    edi
call    ds:setbkcolor
push    dword_2782a108
push    edi
call    ds:settextcolor
movzx   esi, word ptr [ebp+var_4]
lea     eax, [ebp+string]
push    esi
push    eax
push    ebx
push    [ebp+x]
push    edi
call    ds:textouta
lea     eax, [ebp+x]
push    0
push    eax
lea     eax, [ebp+string]
push    esi
push    eax
push    edi
call    sub_277bccbe
call    ds:getfocus
cmp     eax, [ebp+hwnd]
jnz     short loc_277edf4e
mov     eax, [ebp+x]
mov     ecx, w
push    y
add     eax, ecx
push    eax
call    ds:setcaretpos
push    [ebp+hwnd]
call    ds:showcaret
lea     eax, [ebp+paint]
push    eax
push    [ebp+hwnd]
call    ds:endpaint
pop     edi
pop     esi
pop     ebx
leave
retn    4
and     [ebp+string], 0
mov     ebx, ds:lstrcata
test    al, 2
jz      short loc_277edf9c
lea     eax, [ebp+string]
push    0
push    eax
push    11h
call    sub_277eddee
lea     eax, [ebp+buffer]
push    eax
lea     eax, [ebp+string]
push    eax
call    ebx
test    byte ptr [ebp+var_4], 1
jz      short loc_277edfc9
lea     eax, [ebp+string]
push    0
push    eax
call    edi
lea     eax, [ebp+eax+string]
push    eax
push    10h
call    sub_277eddee
lea     eax, [ebp+buffer]
push    eax
lea     eax, [ebp+string]
push    eax
call    ebx
test    byte ptr [ebp+var_4], 4
jz      short loc_277edff6
lea     eax, [ebp+string]
push    0
push    eax
call    edi
lea     eax, [ebp+eax+string]
push    eax
push    12h
call    sub_277eddee
lea     eax, [ebp+buffer]
push    eax
lea     eax, [ebp+string]
push    eax
call    ebx
mov     eax, [ebp+var_4]
and     eax, 8
push    eax
lea     eax, [ebp+string]
push    eax
call    edi
lea     eax, [ebp+eax+string]
push    eax
push    [ebp+ucode]
call    sub_277eddee
jmp     loc_277ede86
push    0fh
call    ds:getsyscolor
push    eax
push    edi
call    ds:setbkcolor
mov     eax, dword_2782a138
xor     ecx, ecx
cmp     eax, ecx
jz      short loc_277ee03c
push    eax
jmp     loc_277edef9
movzx   esi, word ptr [ebp+var_4]
push    ecx
push    ecx
push    ebx
lea     eax, [ebp+string]
push    [ebp+x]
push    esi
push    eax
push    ecx
push    ecx
push    edi
call    ds:graystringa
jmp     loc_277edf17
push    esi
mov     esi, ds:setwindowlonga
push    [esp+4+dwnewlong]
push    8
push    [esp+0ch+hwnd]
call    esi
push    [esp+4+arg_8]
push    0ch
push    [esp+0ch+hwnd]
call    esi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+hwnd]
push    10h
push    edi
call    ds:getwindowlonga
mov     ebx, [ebp+dwnewlong]
mov     esi, ds:setwindowlonga
push    ebx
push    10h
push    edi
mov     [ebp+var_8], eax
call    esi
push    edi
call    ds:getdc
test    ebx, ebx
mov     [ebp+hwnd], eax
jz      short loc_277ee0bd
push    ebx
push    eax
call    ds:selectobject
mov     ebx, eax
lea     eax, [ebp+var_4]
push    eax
push    0
push    1
push    offset ac
push    [ebp+hwnd]
call    sub_277bccbe
push    [ebp+var_4]
push    14h
push    edi
call    esi
test    ebx, ebx
jz      short loc_277ee0e8
push    ebx
push    [ebp+hwnd]
call    ds:selectobject
push    [ebp+hwnd]
push    edi
call    ds:releasedc
push    1
push    0
push    edi
call    ds:invalidaterect
mov     eax, [ebp+var_8]
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
mov     edi, [ebp+msg]
cmp     edi, 7
ja      short loc_277ee173
jz      short loc_277ee148
mov     eax, edi
dec     eax
jnz     short loc_277ee192
xor     ebx, ebx
push    ebx
push    ebx
push    ebx
push    [ebp+hwnd]
call    sub_277edd66
push    ebx
push    ebx
push    [ebp+hwnd]
call    sub_277ee05c
push    dword_2782a124
push    [ebp+hwnd]
call    sub_277ee07f
xor     eax, eax
jmp     short loc_277ee1a2
mov     esi, [ebp+hwnd]
xor     ebx, ebx
push    1
push    ebx
push    esi
call    ds:invalidaterect
push    14h
push    esi
call    ds:getwindowlonga
push    eax
push    ebx
push    ebx
push    esi
call    ds:createcaret
push    esi
call    ds:showcaret
jmp     short loc_277ee144
cmp     edi, 0fh
ja      short loc_277ee1dd
jz      short loc_277ee1d0
mov     eax, edi
sub     eax, 8
jz      short loc_277ee1a9
dec     eax
dec     eax
jnz     short loc_277ee192
push    1
push    0
push    [ebp+hwnd]
call    ds:invalidaterect
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
call    ds:defwindowproca
pop     edi
pop     esi
pop     ebx
leave
retn    10h
xor     ebx, ebx
push    ebx
push    [ebp+hwnd]
call    ds:getwindowlonga
test    eax, eax
jnz     short loc_277ee1c5
push    1
push    ebx
push    ebx
push    [ebp+hwnd]
call    sub_277edd66
call    ds:destroycaret
jmp     loc_277ee144
push    [ebp+hwnd]
call    sub_277ede19
jmp     loc_277ee144
cmp     edi, 30h
ja      short loc_277ee251
jz      short loc_277ee241
cmp     edi, 14h
jnz     short loc_277ee192
mov     esi, [ebp+hwnd]
push    esi
call    ds:hidecaret
push    esi
call    ds:getdc
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    esi
call    ds:getclientrect
push    esi
call    ds:iswindowenabled
test    eax, eax
jz      short loc_277ee23d
push    5
call    ds:getsyscolorbrush
push    eax
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:fillrect
push    edi
push    esi
call    ds:releasedc
push    esi
call    ds:showcaret
push    1
pop     eax
jmp     loc_277ee1a2
push    0fh
jmp     short loc_277ee214
push    [ebp+wparam]
push    [ebp+hwnd]
call    sub_277ee07f
jmp     loc_277ee1a2
mov     eax, 81h
cmp     edi, eax
ja      short loc_277ee28d
jz      short loc_277ee275
cmp     edi, 31h
jnz     loc_277ee192
push    10h
push    [ebp+hwnd]
call    ds:getwindowlonga
jmp     loc_277ee1a2
mov     eax, 200h
push    eax
push    eax
push    0ffffffech
push    [ebp+hwnd]
call    sub_278119ca
call    sub_277b344b
jmp     short loc_277ee235
mov     ecx, 100h
cmp     edi, ecx
ja      short loc_277ee2a9
jz      short loc_277ee2ed
cmp     edi, 87h
jz      loc_277ee1a2
jmp     loc_277ee192
mov     eax, 104h
cmp     edi, eax
ja      loc_277ee390
jz      short loc_277ee2ed
cmp     edi, 101h
jb      loc_277ee192
cmp     edi, 102h
ja      loc_277ee192
xor     ebx, ebx
push    ebx
push    [ebp+hwnd]
call    ds:getwindowlonga
test    eax, eax
jnz     loc_277ee144
push    1
push    ebx
push    ebx
jmp     loc_277ee417
mov     esi, [ebp+wparam]
xor     ebx, ebx
cmp     esi, 0dh
ja      loc_277ee42d
jz      loc_277ee45c
cmp     esi, 8
jb      short loc_277ee30f
cmp     esi, 9
jbe     loc_277ee45c
mov     edi, esi
mov     esi, ds:getkeystate
push    11h
call    esi
test    ax, ax
jge     short loc_277ee323
push    2
pop     ebx
push    10h
call    esi
test    ax, ax
jge     short loc_277ee32f
or      ebx, 1
push    12h
call    esi
test    ax, ax
jge     short loc_277ee33b
or      ebx, 4
cmp     di, 70h
jb      short loc_277ee348
cmp     di, 87h
jbe     short loc_277ee376
cmp     di, 60h
jb      short loc_277ee354
cmp     di, 6fh
jbe     short loc_277ee376
mov     esi, ds:getwindowlonga
push    8
push    [ebp+hwnd]
call    esi
movzx   ecx, bx
test    ds:dword_277cb908[ecx*4], eax
jz      short loc_277ee376
push    0ch
push    [ebp+hwnd]
call    esi
mov     ebx, eax
test    byte ptr [ebp+lparam+3], 1
jz      short loc_277ee37f
or      ebx, 8
push    1
push    ebx
push    edi
push    [ebp+hwnd]
call    sub_277edd66
jmp     loc_277ee144
cmp     edi, 105h
jb      loc_277ee192
cmp     edi, 106h
jbe     loc_277ee2d0
cmp     edi, 201h
jz      short loc_277ee41f
cmp     edi, 401h
jz      short loc_277ee405
cmp     edi, 402h
jz      short loc_277ee3e1
cmp     edi, 403h
jnz     loc_277ee192
movzx   eax, word ptr [ebp+lparam]
push    eax
push    [ebp+wparam]
push    [ebp+hwnd]
call    sub_277ee05c
jmp     loc_277ee144
mov     esi, ds:getwindowlonga
push    4
push    [ebp+hwnd]
call    esi
movzx   edi, al
push    0
push    [ebp+hwnd]
shl     edi, 8
call    esi
movzx   eax, al
add     eax, edi
jmp     loc_277ee1a2
xor     eax, eax
push    0
mov     al, byte ptr [ebp+wparam+1]
movzx   ax, al
push    eax
movzx   ax, byte ptr [ebp+wparam]
push    eax
push    [ebp+hwnd]
jmp     loc_277ee386
push    [ebp+hwnd]
call    ds:setfocus
jmp     loc_277ee144
cmp     esi, 10h
jb      loc_277ee30f
cmp     esi, 12h
jbe     short loc_277ee473
cmp     esi, 1bh
jz      short loc_277ee45c
cmp     esi, 20h
jz      short loc_277ee45c
cmp     esi, 2eh
jz      short loc_277ee45c
cmp     esi, 5ah
jbe     loc_277ee30f
cmp     esi, 5dh
ja      loc_277ee30f
xor     ebx, ebx
push    1
push    ebx
push    ebx
push    [ebp+hwnd]
call    sub_277edd66
push    [ebp+lparam]
push    esi
jmp     loc_277ee198
xor     edi, edi
jmp     loc_277ee311
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
mov     esi, offset amsvblibprogres
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277ee4ed
mov     [ebp+wndclass.lpszclassname], esi
xor     esi, esi
push    7f00h
push    esi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277ee766
mov     [ebp+wndclass.style], 3
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.hicon], esi
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.lpszmenuname], esi
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.cbclsextra], esi
call    ds:registerclassa
test    ax, ax
jnz     short loc_277ee4ed
xor     eax, eax
pop     edi
pop     esi
leave
retn    4
push    1
pop     eax
jmp     short loc_277ee4e7
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     eax, [esi+10h]
mov     edi, [esi+8]
mov     ecx, [esi+0ch]
mov     [ebp+arg_0], eax
cmp     edi, ecx
mov     eax, 101h
mov     edx, edi
jz      short loc_277ee515
mov     edx, [ebp+arg_4]
xor     ebx, ebx
cmp     edx, edi
jge     short loc_277ee571
cmp     [ebp+arg_8], ebx
jnz     short loc_277ee555
mov     edx, edi
cmp     edx, [ebp+arg_0]
jge     short loc_277ee52c
or      al, 4
cmp     edx, [ebp+arg_0]
jz      short loc_277ee54b
push    eax
push    ebx
push    ebx
mov     [esi+10h], edx
push    dword ptr [esi]
call    ds:redrawwindow
push    ebx
push    0fffffffch
push    dword ptr [esi]
push    800eh
call    sub_277b8949
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     eax, edi
sub     eax, edx
mov     edx, ecx
sub     edx, edi
mov     [ebp+arg_8], edx
mov     edi, [ebp+arg_8]
cdq
idiv    edi
sub     ecx, edx
mov     edx, ecx
mov     eax, 105h
jmp     short loc_277ee522
cmp     edx, ecx
jle     short loc_277ee522
cmp     [ebp+arg_8], ebx
jnz     short loc_277ee57e
mov     edx, ecx
jmp     short loc_277ee522
mov     eax, edx
sub     eax, ecx
sub     ecx, edi
cdq
idiv    ecx
add     edx, edi
jmp     short loc_277ee56a
push    ebp
mov     ebp, esp
sub     esp, 68h
mov     eax, [ebp+arg_4]
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
test    eax, eax
push    edi
jnz     short loc_277ee5aa
lea     eax, [ebp+paint]
push    eax
push    dword ptr [ebx]
call    ds:beginpaint
mov     [ebp+hdc], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
push    0ffffffffh
lea     eax, [ebp+rect]
push    0ffffffffh
push    eax
call    ds:inflaterect
lea     esi, [ebp+rect]
lea     edi, [ebp+rect]
movsd
movsd
test    byte ptr [ebx+4], 4
movsd
movsd
jz      loc_277ee6a9
mov     eax, [ebp+rect.right]
mov     esi, [ebp+rect.top]
mov     ecx, [ebp+rect.bottom]
sub     eax, [ebp+rect.left]
shl     eax, 1
push    3
sub     ecx, esi
cdq
pop     edi
idiv    edi
mov     edx, [ebx+0ch]
mov     edi, eax
mov     eax, [ebx+8]
sub     edx, eax
push    edx
mov     edx, [ebx+10h]
sub     edx, eax
push    edx
push    ecx
call    ds:muldiv
test    edi, edi
mov     [ebp+arg_0], 2
jnz     short loc_277ee617
push    1
pop     edi
mov     ecx, [ebx+4]
test    cl, 1
jz      short loc_277ee626
and     [ebp+arg_0], 0
push    1
pop     edi
mov     edx, [ebp+arg_0]
and     [ebp+var_8], 0
lea     esi, [edi+edx]
lea     eax, [eax+esi-1]
cdq
idiv    esi
mov     esi, eax
test    esi, esi
jle     short loc_277ee690
mov     eax, [ebp+rect.bottom]
test    cl, 4
jz      short loc_277ee6ba
mov     edx, [ebp+rect.top]
mov     ecx, eax
sub     ecx, edi
cmp     eax, edx
mov     [ebp+rect.top], ecx
jle     short loc_277ee690
cmp     ecx, edx
jg      short loc_277ee65b
inc     edx
mov     [ebp+rect.top], edx
mov     eax, [ebx+20h]
cmp     eax, 0ff000000h
jnz     short loc_277ee6d4
push    dword_2782a114
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
mov     ecx, [ebx+4]
test    cl, 4
jz      short loc_277ee6d7
mov     eax, [ebp+rect.top]
sub     eax, [ebp+arg_0]
mov     [ebp+rect.bottom], eax
inc     [ebp+var_8]
cmp     [ebp+var_8], esi
jl      short loc_277ee640
cmp     [ebp+arg_4], 0
jnz     short loc_277ee6a2
lea     eax, [ebp+paint]
push    eax
push    dword ptr [ebx]
call    ds:endpaint
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebp+rect.bottom]
mov     esi, [ebp+rect.left]
mov     ecx, [ebp+rect.right]
sub     eax, [ebp+rect.top]
jmp     loc_277ee5e7
mov     eax, [ebp+rect.left]
mov     ecx, [ebp+rect.right]
add     eax, edi
cmp     [ebp+rect.left], ecx
mov     [ebp+rect.right], eax
jge     short loc_277ee690
cmp     eax, ecx
jl      short loc_277ee65b
dec     ecx
mov     [ebp+rect.right], ecx
jmp     short loc_277ee65b
push    eax
jmp     short loc_277ee66b
mov     eax, [ebp+rect.right]
mov     edx, [ebp+arg_0]
add     eax, edx
mov     [ebp+rect.left], eax
mov     eax, [ebp+rect.bottom]
jmp     short loc_277ee688
push    esi
push    24h
push    40h
call    ds:localalloc
mov     esi, eax
test    esi, esi
jnz     short loc_277ee6ff
or      eax, 0ffffffffh
pop     esi
retn    8
push    edi
push    ebp
mov     ebp, ds:setwindowlonga
push    ebx
mov     ebx, [esp+10h+hwnd]
push    esi
push    0
push    ebx
call    ebp
mov     [esi], ebx
mov     dword ptr [esi+0ch], 64h
mov     edi, [esp+10h+arg_4]
mov     dword ptr [esi+14h], 0ah
mov     eax, [edi+20h]
mov     [esi+4], eax
mov     eax, 0ff000000h
mov     [esi+1ch], eax
mov     [esi+20h], eax
mov     eax, [edi+2ch]
mov     esi, 20000h
and     ah, 0fdh
or      eax, esi
push    eax
push    0ffffffech
push    ebx
call    ebp
test    [edi+2ch], esi
jnz     short loc_277ee75f
xor     eax, eax
push    37h
push    eax
push    eax
push    eax
push    eax
push    eax
push    ebx
call    ds:setwindowpos
pop     ebx
pop     ebp
xor     eax, eax
pop     edi
jmp     short loc_277ee6fb
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hwnd]
xor     ebx, ebx
push    ebx
push    edi
call    ds:getwindowlonga
mov     esi, eax
mov     eax, [ebp+msg]
cmp     eax, 0fh
ja      short loc_277ee7b7
jz      loc_277ee838
mov     ecx, eax
dec     ecx
jz      short loc_277ee7a7
dec     ecx
jnz     def_277ee868
cmp     esi, ebx
jz      short loc_277ee7a3
push    esi
call    ds:localfree
xor     eax, eax
jmp     short loc_277ee7b0
push    [ebp+lparam]
push    edi
call    sub_277ee6e7
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     eax, 30h
ja      short loc_277ee81c
jz      short loc_277ee811
mov     ecx, eax
sub     ecx, 14h
jz      short loc_277ee7dd
dec     ecx
jnz     def_277ee868
call    sub_277b344b
push    1
push    ebx
push    edi
call    ds:invalidaterect
jmp     short loc_277ee7a3
cmp     esi, ebx
jz      def_277ee868
cmp     dword ptr [esi+1ch], 0ff000000h
jz      def_277ee868
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:getclientrect
push    dword ptr [esi+1ch]
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    sub_277be3ec
push    1
pop     eax
jmp     short loc_277ee7b0
mov     ecx, [ebp+wparam]
mov     eax, [esi+18h]
mov     [esi+18h], ecx
jmp     short loc_277ee7b0
mov     ecx, 318h
cmp     eax, ecx
ja      short loc_277ee846
jz      short loc_277ee838
cmp     eax, 31h
jnz     def_277ee868
mov     eax, [esi+18h]
jmp     loc_277ee7b0
push    [ebp+wparam]
push    esi
call    sub_277ee58b
jmp     loc_277ee7a3
mov     ecx, 2001h
cmp     eax, ecx
ja      def_277ee868
jz      loc_277ee931
lea     ecx, [eax-401h]
cmp     ecx, 8
ja      def_277ee868
jmp     ds:jpt_277ee868[ecx*4]
mov     eax, [esi+10h]
jmp     loc_277ee7b0
mov     eax, [ebp+lparam]
cmp     eax, ebx
jz      short loc_277ee889
mov     ecx, [esi+8]
mov     [eax], ecx
mov     ecx, [esi+0ch]
mov     [eax+4], ecx
cmp     [ebp+wparam], ebx
jz      short loc_277ee896
mov     eax, [esi+8]
jmp     loc_277ee7b0
mov     eax, [esi+0ch]
jmp     loc_277ee7b0
mov     ecx, [ebp+lparam]
movzx   eax, cx
shr     ecx, 10h
movzx   edi, word ptr [esi+0ch]
movzx   edx, word ptr [esi+8]
shl     edi, 10h
or      edi, edx
cmp     eax, [esi+8]
jnz     short loc_277ee8be
cmp     ecx, [esi+0ch]
jz      short loc_277ee8da
push    5
push    ebx
push    ebx
mov     [esi+0ch], ecx
push    dword ptr [esi]
mov     [esi+8], eax
call    ds:redrawwindow
push    ebx
push    dword ptr [esi+10h]
push    esi
call    sub_277ee4f2
mov     eax, edi
jmp     loc_277ee7b0
mov     ecx, [ebp+lparam]
mov     eax, [ebp+wparam]
jmp     short loc_277ee8a7
push    ebx
push    [ebp+wparam]
push    esi
call    sub_277ee4f2
jmp     loc_277ee7b0
mov     ecx, [ebp+wparam]
mov     eax, [esi+14h]
mov     [esi+14h], ecx
jmp     loc_277ee7b0
mov     eax, [esi+10h]
push    1
add     eax, [esi+14h]
push    eax
jmp     short loc_277ee8ed
mov     eax, [esi+10h]
push    ebx
add     eax, [ebp+wparam]
jmp     short loc_277ee90e
mov     eax, [ebp+lparam]
mov     edi, [esi+20h]
mov     [esi+20h], eax
push    1
push    ebx
push    [ebp+hwnd]
call    ds:invalidaterect
jmp     short loc_277ee8da
mov     eax, [ebp+lparam]
mov     edi, [esi+1ch]
mov     [esi+1ch], eax
jmp     short loc_277ee923
push    [ebp+lparam]
push    [ebp+wparam]
push    eax
push    edi
call    ds:defwindowproca
jmp     loc_277ee7b0
mov     eax, [esp+arg_0]
push    esi
mov     ecx, [eax+24h]
mov     edx, [eax+20h]
mov     esi, [eax+40h]
cmp     ecx, edx
jnz     short loc_277ee98b
mov     eax, esi
pop     esi
retn    8
mov     eax, [eax+3ch]
sub     ecx, edx
dec     eax
push    ecx
push    eax
mov     eax, [esp+0ch+arg_4]
sub     eax, edx
push    eax
call    ds:muldiv
add     eax, esi
jmp     short loc_277ee987
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     ecx, [esi+3ch]
mov     edx, [esi+40h]
mov     edi, [esi+48h]
cmp     ecx, 1
jle     short loc_277ee9c0
mov     eax, [esp+8+arg_4]
cmp     eax, edx
jg      short loc_277ee9c8
mov     eax, [esi+20h]
pop     edi
pop     esi
retn    8
cmp     eax, edi
jl      short loc_277ee9d1
mov     eax, [esi+24h]
jmp     short loc_277ee9c3
dec     ecx
sub     eax, edx
push    ecx
mov     ecx, [esi+24h]
sub     ecx, [esi+20h]
push    ecx
push    eax
call    ds:muldiv
add     eax, [esi+20h]
jmp     short loc_277ee9c3
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
mov     esi, offset amsvblibslider
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277eea53
mov     [ebp+wndclass.lpszclassname], esi
xor     esi, esi
push    7f00h
push    esi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277ef737
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hicon], esi
mov     [ebp+wndclass.lpszmenuname], esi
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.style], esi
mov     [ebp+wndclass.cbclsextra], esi
mov     [ebp+wndclass.cbwndextra], 4
call    ds:registerclassa
movzx   eax, ax
pop     edi
pop     esi
leave
retn    4
push    1
pop     eax
jmp     short loc_277eea4d
mov     eax, [esp+arg_0]
test    byte ptr [eax+8], 2
jz      short locret_277eea70
mov     eax, [esp+arg_4]
mov     ecx, [eax]
mov     edx, [eax+4]
mov     [eax], edx
mov     [eax+4], ecx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_4]
mov     edx, [ebp+arg_c]
mov     ecx, [ebp+arg_8]
mov     [ebp+rect.left], eax
add     edx, eax
mov     eax, [ebp+arg_10]
add     eax, ecx
mov     [ebp+rect.top], ecx
mov     [ebp+rect.bottom], eax
mov     eax, [ebp+arg_14]
mov     [ebp+rect.right], edx
test    byte ptr [eax+8], 2
jz      short loc_277eeaa7
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
xor     eax, eax
lea     ecx, [ebp+rect]
push    eax
push    eax
push    eax
push    ecx
push    2
push    eax
push    eax
push    [ebp+hdc]
call    ds:exttextouta
leave
retn    18h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebp+rect]
movsd
movsd
cmp     [ebp+arg_c], 0
movsd
movsd
jz      short loc_277eeae2
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
push    [ebp+berase]
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:invalidaterect
pop     edi
pop     esi
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebp+qrc]
mov     ebx, [ebp+grfflags]
movsd
movsd
cmp     [ebp+arg_10], 0
mov     [ebp+grfflags], ebx
movsd
movsd
jz      short loc_277eeb46
lea     eax, [ebp+qrc]
push    eax
call    sub_278119ad
test    bl, 10h
jnz     short loc_277eeb73
test    bl, 2
mov     eax, ebx
jz      short loc_277eeb60
or      al, 1
test    bl, 1
jz      short loc_277eeb67
or      al, 2
test    bl, 8
jz      short loc_277eeb6b
or      al, 4
test    bl, 4
jz      short loc_277eeb6f
or      al, 8
mov     [ebp+grfflags], eax
push    [ebp+grfflags]
lea     eax, [ebp+qrc]
push    [ebp+edge]
push    eax
push    [ebp+hdc]
call    ds:drawedge
pop     edi
pop     esi
pop     ebx
leave
retn    14h
and     al, 0feh
mov     [ebp+grfflags], eax
jmp     short loc_277eeb2e
and     al, 0fdh
jmp     short loc_277eeb35
and     al, 0fbh
jmp     short loc_277eeb3c
and     al, 0f7h
jmp     short loc_277eeb43
mov     eax, ebx
and     eax, 0ch
cmp     al, 0ch
jnz     short loc_277eeb46
xor     eax, eax
cmp     [ebp+edge], 5
setnz   al
dec     eax
and     ebx, 0fffffff3h
and     eax, 5
or      ebx, 3
add     eax, 5
xor     ebx, 1000h
mov     [ebp+edge], eax
mov     [ebp+grfflags], ebx
jmp     short loc_277eeb46
push    ebp
mov     ebp, esp
cmp     [ebp+arg_18], 0
push    [ebp+rop]
jz      short loc_277eebc5
push    [ebp+h]
push    [ebp+w]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ds:patblt
pop     ebp
retn    1ch
push    [ebp+w]
push    [ebp+h]
push    [ebp+x]
push    [ebp+y]
jmp     short loc_277eebb8
push    ebp
mov     ebp, esp
cmp     [ebp+arg_c], 0ffffffffh
push    esi
jnz     short loc_277eebe1
sub     [ebp+arg_8], 3
mov     esi, [ebp+arg_0]
push    dword_2782a128
push    dword ptr [esi+18h]
call    ds:setbkcolor
push    esi
push    3
push    1
push    [ebp+arg_8]
push    [ebp+arg_4]
push    dword ptr [esi+18h]
call    sub_277eea73
pop     esi
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
push    edi
push    ebx
push    dword ptr [esi+40h]
push    esi
call    sub_277eebd3
lea     eax, [ebx+edi]
push    edi
push    eax
push    dword ptr [esi+40h]
push    esi
call    sub_277eebd3
mov     eax, [esi+48h]
push    edi
dec     eax
push    ebx
push    eax
push    esi
call    sub_277eebd3
lea     eax, [ebx+edi]
push    edi
push    eax
mov     eax, [esi+48h]
dec     eax
push    eax
push    esi
call    sub_277eebd3
mov     ecx, [esi+6ch]
xor     eax, eax
cmp     [esi+70h], eax
jz      short loc_277eec92
cmp     ecx, eax
jz      short loc_277eec92
cmp     [esi+68h], eax
jle     short loc_277eec92
mov     [ebp+arg_0], ecx
inc     eax
mov     [ebp+arg_8], eax
cdq
idiv    dword ptr [esi+70h]
test    edx, edx
jnz     short loc_277eec86
mov     eax, [ebp+arg_0]
push    dword ptr [eax]
push    esi
call    sub_277ee973
push    edi
push    ebx
push    eax
push    esi
call    sub_277eebd3
mov     eax, [ebp+arg_8]
add     [ebp+arg_0], 4
cmp     eax, [esi+68h]
jl      short loc_277eec66
test    byte ptr [esi+88h], 2
jz      loc_277eed42
mov     eax, [esi+30h]
cmp     [esi+2ch], eax
jg      loc_277eed42
cmp     eax, [esi+20h]
jl      loc_277eed42
push    dword_2782a128
push    dword ptr [esi+18h]
call    ds:setbkcolor
push    dword ptr [esi+2ch]
push    esi
call    sub_277ee973
and     [ebp+arg_0], 0
mov     [ebp+arg_8], 3
sub     [ebp+arg_8], eax
mov     edi, eax
cmp     [ebp+arg_4], 1
jnz     short loc_277eed49
mov     eax, [ebp+arg_0]
mov     ecx, [ebp+arg_8]
push    esi
add     ecx, edi
add     eax, ebx
push    ecx
push    1
push    eax
push    edi
push    dword ptr [esi+18h]
call    sub_277eea73
inc     [ebp+arg_0]
dec     edi
cmp     [ebp+arg_0], 3
jl      short loc_277eecdc
push    dword ptr [esi+30h]
push    esi
call    sub_277ee973
mov     [ebp+arg_8], eax
xor     edi, edi
mov     [ebp+arg_0], 3
cmp     [ebp+arg_4], 1
jnz     short loc_277eed4e
mov     eax, edi
push    esi
add     eax, ebx
push    [ebp+arg_0]
push    1
push    eax
mov     eax, [ebp+arg_8]
add     eax, edi
push    eax
push    dword ptr [esi+18h]
call    sub_277eea73
inc     edi
dec     [ebp+arg_0]
cmp     [ebp+arg_0], 0
jg      short loc_277eed19
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
push    0fffffffdh
pop     eax
jmp     short loc_277eece5
push    0fffffffdh
pop     eax
jmp     short loc_277eed21
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+8]
test    al, 10h
jnz     short loc_277eed87
test    al, 8
jnz     short loc_277eed67
test    al, 4
jnz     short loc_277eed74
mov     eax, [esi+4ch]
inc     eax
push    eax
push    1
push    esi
call    sub_277eec0b
test    byte ptr [esi+8], 0ch
jz      short loc_277eed87
mov     eax, [esi+44h]
dec     eax
push    eax
push    0ffffffffh
push    esi
call    sub_277eec0b
pop     esi
retn    4
push    esi
mov     esi, [esp+4+arg_4]
test    esi, esi
jz      short loc_277eedf1
mov     ecx, [esp+4+arg_0]
push    edi
mov     eax, [ecx+34h]
cdq
sub     eax, edx
mov     edx, eax
mov     eax, [ecx+40h]
sar     edx, 1
sub     eax, edx
mov     [esi], eax
mov     edx, [ecx+3ch]
add     edx, [ecx+34h]
lea     eax, [edx+eax-1]
mov     [esi+8], eax
test    byte ptr [ecx+8], 20h
jz      short loc_277eedf5
mov     eax, [ecx+38h]
push    4
cdq
pop     edi
idiv    edi
lea     edi, [eax+eax*2]
mov     eax, [ecx+4ch]
add     eax, [ecx+44h]
sub     eax, edi
cdq
sub     eax, edx
sar     eax, 1
mov     [esi+4], eax
mov     ecx, [ecx+8]
test    cl, 8
jnz     short loc_277eedea
test    cl, 4
jz      short loc_277eedfa
inc     eax
mov     [esi+4], eax
add     edi, [esi+4]
mov     [esi+0ch], edi
pop     edi
pop     esi
retn    8
push    4
pop     edi
jmp     short loc_277eedc9
dec     eax
jmp     short loc_277eede7
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
mov     eax, [esi+8]
and     eax, 2
push    eax
push    0fh
push    0ah
push    edi
push    dword ptr [esi+18h]
call    sub_277eeaf8
push    dword_2782a118
push    dword ptr [esi+18h]
call    ds:setbkcolor
mov     eax, [edi+4]
mov     edx, [edi+0ch]
mov     ecx, [edi]
sub     edx, eax
sub     edx, 4
push    esi
push    edx
mov     edx, [edi+8]
sub     edx, ecx
add     eax, 2
sub     edx, 4
add     ecx, 2
push    edx
push    eax
push    ecx
push    dword ptr [esi+18h]
call    sub_277eea73
test    byte ptr [esi+88h], 2
jz      short loc_277eeebc
mov     ecx, [esi+2ch]
mov     eax, [esi+30h]
cmp     ecx, eax
jg      short loc_277eeebc
cmp     eax, [esi+20h]
jle     short loc_277eeebc
push    ecx
push    esi
call    sub_277ee973
push    dword ptr [esi+30h]
mov     [ebp+arg_0], eax
push    esi
call    sub_277ee973
mov     ebx, eax
mov     eax, [ebp+arg_0]
add     eax, 2
cmp     eax, ebx
jg      short loc_277eeebc
push    dword_2782a114
push    dword ptr [esi+18h]
call    ds:setbkcolor
mov     eax, [edi+4]
mov     ecx, [edi+0ch]
sub     ecx, eax
push    esi
sub     ecx, 6
add     eax, 3
push    ecx
mov     ecx, [ebp+arg_0]
sub     ebx, ecx
dec     ebx
inc     ecx
push    ebx
push    eax
push    ecx
push    dword ptr [esi+18h]
call    sub_277eea73
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebp+rc]
xor     ebx, ebx
movsd
movsd
movsd
movsd
mov     esi, [ebp+y]
mov     [ebp+var_4], ebx
mov     [ebp+var_8], ebx
mov     [ebp+var_c], ebx
test    byte ptr [esi+88h], 1
jnz     loc_277ef065
mov     eax, [esi+8]
test    al, 80h
jnz     loc_277ef065
test    al, 8
jnz     loc_277ef087
mov     eax, [esi+34h]
sub     eax, 3
cdq
sub     eax, edx
mov     edi, eax
mov     eax, [esi+38h]
cdq
sub     eax, edx
mov     edx, [ebp+rc.top]
sar     eax, 1
sar     edi, 1
test    byte ptr [esi+8], 4
mov     [ebp+var_8], edi
lea     ecx, [edx+eax]
jz      loc_277ef06c
lea     edx, [edx+edi+1]
inc     ecx
or      [ebp+var_4], 0ffffffffh
mov     [ebp+rc.top], edx
mov     [ebp+grfflags], 100dh
mov     ebx, [ebp+var_4]
imul    ebx, eax
mov     eax, [ebp+rc.left]
add     ebx, ecx
add     eax, edi
mov     [ebp+var_c], eax
nop
cmp     [ebp+arg_8], 0
jnz     loc_277ef093
push    dword ptr [esi]
call    ds:iswindowenabled
test    eax, eax
jz      loc_277ef093
push    color
push    dword ptr [esi+18h]
call    ds:setbkcolor
mov     eax, [ebp+rc.bottom]
mov     ecx, [ebp+rc.right]
sub     eax, [ebp+rc.top]
push    esi
push    eax
mov     eax, [ebp+rc.left]
sub     ecx, eax
add     eax, 2
sub     ecx, 4
push    ecx
push    [ebp+rc.top]
push    eax
push    dword ptr [esi+18h]
call    sub_277eea73
test    byte ptr [esi+8], 8
jnz     short loc_277eefe2
mov     eax, [ebp+var_8]
cmp     eax, 1
jl      short loc_277eefe2
mov     edi, [ebp+var_4]
mov     ecx, [ebp+var_c]
neg     edi
sub     ebx, [ebp+var_4]
mov     [ebp+arg_4], 2
mov     [ebp+y], ecx
mov     [ebp+arg_8], eax
push    esi
push    1
push    [ebp+arg_4]
push    ebx
push    [ebp+y]
push    dword ptr [esi+18h]
call    sub_277eea73
add     [ebp+arg_4], 2
add     ebx, edi
dec     [ebp+y]
dec     [ebp+arg_8]
jnz     short loc_277eefc2
mov     eax, [esi+8]
and     eax, 2
push    eax
lea     eax, [ebp+rc]
push    [ebp+grfflags]
push    5
push    eax
push    dword ptr [esi+18h]
call    sub_277eeaf8
mov     ecx, [esi+8]
test    cl, 8
jnz     short loc_277ef065
test    cl, 4
jz      loc_277ef158
mov     eax, [ebp+rc.top]
mov     edi, [ebp+var_8]
inc     eax
push    1ch
mov     [ebp+rc.bottom], eax
sub     eax, edi
dec     eax
pop     ebx
dec     eax
mov     [ebp+rc.top], eax
mov     eax, 1016h
mov     edx, [ebp+rc.left]
and     ecx, 2
push    ecx
push    eax
lea     eax, [ebp+rc]
push    5
push    eax
lea     edx, [edx+edi+2]
push    dword ptr [esi+18h]
mov     [ebp+rc.right], edx
call    sub_277eeaf8
inc     edi
push    0
lea     eax, [ebp+rc]
push    edi
push    eax
call    ds:offsetrect
mov     eax, [esi+8]
and     eax, 2
push    eax
push    ebx
lea     eax, [ebp+rc]
push    5
push    eax
push    dword ptr [esi+18h]
call    sub_277eeaf8
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
or      edx, 0ffffffffh
mov     [ebp+var_4], 1
sub     edx, edi
mov     [ebp+grfflags], 1007h
add     [ebp+rc.bottom], edx
jmp     loc_277eef3f
mov     [ebp+grfflags], 100fh
jmp     loc_277eef50
push    ho
push    dword ptr [esi+18h]
call    ds:selectobject
test    eax, eax
mov     [ebp+h], eax
jz      loc_277eefe2
push    dword_2782a118
push    dword ptr [esi+18h]
call    ds:settextcolor
push    color
push    dword ptr [esi+18h]
call    ds:setbkcolor
mov     eax, [esi+8]
push    2
pop     edi
mov     ecx, [ebp+rc.right]
and     eax, edi
push    eax
mov     eax, [ebp+rc.bottom]
sub     eax, [ebp+rc.top]
push    0f00021h
push    eax
mov     eax, [ebp+rc.left]
sub     ecx, eax
add     eax, edi
sub     ecx, 4
push    ecx
push    [ebp+rc.top]
push    eax
push    dword ptr [esi+18h]
call    sub_277eeba0
test    byte ptr [esi+8], 8
jnz     short loc_277ef147
mov     eax, [ebp+var_8]
cmp     eax, 1
jl      short loc_277ef147
mov     ecx, [ebp+var_c]
mov     [ebp+arg_4], edi
mov     edi, [ebp+var_4]
mov     [ebp+y], ecx
neg     edi
sub     ebx, [ebp+var_4]
mov     [ebp+arg_8], eax
mov     eax, [esi+8]
and     eax, 2
push    eax
push    0f00021h
push    1
push    [ebp+arg_4]
push    ebx
push    [ebp+y]
push    dword ptr [esi+18h]
call    sub_277eeba0
add     [ebp+arg_4], 2
add     ebx, edi
dec     [ebp+y]
dec     [ebp+arg_8]
jnz     short loc_277ef11c
push    [ebp+h]
push    dword ptr [esi+18h]
call    ds:selectobject
jmp     loc_277eefe2
mov     eax, [ebp+rc.bottom]
mov     edx, [ebp+var_8]
dec     eax
push    19h
mov     [ebp+rc.top], eax
pop     ebx
lea     eax, [eax+edx+2]
mov     edi, edx
mov     [ebp+rc.bottom], eax
mov     eax, 1013h
jmp     loc_277ef024
mov     eax, [esp+arg_0]
test    eax, eax
jz      short locret_277ef193
or      dword ptr [eax+80h], 0fh
push    0
push    0
push    dword ptr [eax]
call    ds:invalidaterect
retn    4
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     eax, [esi+28h]
lea     ebx, [esi+50h]
mov     [ebp+arg_0], eax
mov     eax, [esi+8]
and     eax, 2
push    eax
push    0
push    ebx
push    dword ptr [esi]
call    sub_277eeac1
mov     ecx, [esi+24h]
mov     edx, [ebp+arg_4]
cmp     edx, ecx
mov     edi, edx
jl      short loc_277ef1c7
mov     edi, ecx
mov     eax, [esi+20h]
cmp     edi, eax
jle     short loc_277ef1d4
cmp     edx, ecx
jge     short loc_277ef232
mov     eax, edx
mov     edi, [esi+34h]
push    eax
push    esi
mov     [esi+28h], eax
call    sub_277ee973
mov     ecx, eax
mov     eax, edi
cdq
sub     eax, edx
sar     eax, 1
sub     ecx, eax
mov     eax, [esi+8]
and     eax, 2
mov     [ebx], ecx
push    eax
push    0
push    ebx
add     ecx, edi
push    dword ptr [esi]
mov     [esi+58h], ecx
call    sub_277eeac1
push    dword ptr [esi]
or      dword ptr [esi+80h], 2
call    ds:updatewindow
mov     eax, [ebp+arg_0]
cmp     eax, [esi+28h]
jz      short loc_277ef22b
push    0
push    0fffffffch
push    dword ptr [esi]
push    800eh
call    sub_277b8949
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     eax, ecx
jmp     short loc_277ef1d4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
call    ds:getfocus
mov     esi, [ebp+arg_0]
cmp     [esi], eax
jnz     short loc_277ef272
push    dword_2782a118
push    dword ptr [esi+18h]
call    ds:setbkcolor
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+18h]
call    ds:drawfocusrect
pop     esi
leave
retn    4
push    esi
mov     esi, [esp+4+arg_0]
test    byte ptr [esi+8], 1
jz      short loc_277ef2b7
mov     eax, [esi+6ch]
test    eax, eax
jz      short loc_277ef290
push    eax
call    ds:localfree
mov     eax, [esi+24h]
sub     eax, [esi+20h]
dec     eax
test    eax, eax
mov     [esi+68h], eax
jle     short loc_277ef2bb
shl     eax, 2
push    eax
push    40h
call    ds:localalloc
mov     [esi+6ch], eax
mov     ecx, [esi+6ch]
test    ecx, ecx
jnz     short loc_277ef2c1
and     [esi+68h], ecx
pop     esi
retn    4
and     dword ptr [esi+6ch], 0
jmp     short loc_277ef2ad
mov     eax, [esi+20h]
inc     eax
cmp     eax, [esi+24h]
jge     short loc_277ef2b7
mov     [ecx], eax
add     ecx, 4
jmp     short loc_277ef2c4
mov     eax, dword_2782a06c
mov     ecx, [esp+arg_0]
add     eax, eax
push    esi
cmp     [ecx+38h], eax
push    edi
jge     short loc_277ef2e6
mov     [ecx+38h], eax
mov     esi, [ecx+38h]
mov     eax, esi
cdq
sub     eax, edx
mov     edx, [ecx+8]
sar     eax, 1
or      al, 1
test    dl, 20h
mov     [ecx+34h], eax
jz      short loc_277ef310
test    dl, 40h
jz      short loc_277ef315
lea     eax, [esi+esi*8]
push    14h
cdq
pop     esi
idiv    esi
or      al, 1
mov     [ecx+34h], eax
pop     edi
pop     esi
retn    4
add     eax, eax
push    9
cdq
pop     edi
idiv    edi
add     eax, esi
mov     [ecx+38h], eax
jmp     short loc_277ef310
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
push    esi
mov     esi, [ebp+hwndto]
lea     eax, [ebp+var_38]
push    edi
push    eax
push    esi
call    sub_277eed8b
mov     eax, [ebp+var_34]
mov     ecx, [ebp+var_2c]
add     eax, ecx
cdq
sub     eax, edx
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
sar     edi, 1
call    ds:getclientrect
test    byte ptr [esi+8], 2
jz      short loc_277ef364
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
mov     eax, [esi+94h]
mov     ebx, ds:getparent
test    eax, eax
jz      loc_277ef3f7
lea     ecx, [ebp+var_18]
push    ecx
push    eax
call    ds:getclientrect
test    byte ptr [esi+8], 2
jz      short loc_277ef392
lea     eax, [ebp+var_18]
push    eax
call    sub_278119ad
mov     eax, [ebp+var_18.bottom]
mov     ecx, edi
sub     eax, [ebp+var_18.top]
push    dword ptr [esi+94h]
cdq
sub     eax, edx
sar     eax, 1
sub     ecx, eax
mov     eax, [ebp+rect.left]
mov     [ebp+points.y], ecx
mov     ecx, [ebp+var_18.left]
add     eax, ecx
sub     eax, dword_2782a06c
sub     eax, [ebp+var_18.right]
mov     [ebp+points.x], eax
call    ebx
mov     [ebp+hwndto], eax
lea     eax, [ebp+points]
push    eax
push    esi
call    sub_277eea58
lea     eax, [ebp+points]
push    1
push    eax
push    [ebp+hwndto]
push    dword ptr [esi]
call    ds:mapwindowpoints
xor     eax, eax
push    15h
push    eax
push    eax
push    [ebp+points.y]
push    [ebp+points.x]
push    eax
push    dword ptr [esi+94h]
call    ds:setwindowpos
mov     eax, [esi+98h]
test    eax, eax
jz      short loc_277ef475
lea     ecx, [ebp+var_18]
push    ecx
push    eax
call    ds:getclientrect
test    byte ptr [esi+8], 2
jz      short loc_277ef41b
lea     eax, [ebp+var_18]
push    eax
call    sub_278119ad
mov     eax, [ebp+var_18.bottom]
mov     ecx, dword_2782a06c
sub     eax, [ebp+var_18.top]
push    dword ptr [esi+98h]
cdq
sub     eax, edx
sar     eax, 1
sub     edi, eax
mov     eax, [ebp+rect.right]
add     eax, ecx
mov     [ebp+points.y], edi
mov     [ebp+points.x], eax
call    ebx
mov     edi, eax
lea     eax, [ebp+points]
push    eax
push    esi
call    sub_277eea58
lea     eax, [ebp+points]
push    1
push    eax
push    edi
push    dword ptr [esi]
call    ds:mapwindowpoints
xor     eax, eax
push    15h
push    eax
push    eax
push    [ebp+points.y]
push    [ebp+points.x]
push    eax
push    dword ptr [esi+98h]
call    ds:setwindowpos
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    esi
mov     esi, [esp+4+hwndto]
push    edi
lea     edi, [esi+40h]
push    edi
push    dword ptr [esi]
call    ds:getclientrect
test    byte ptr [esi+8], 2
jz      short loc_277ef49a
push    edi
call    sub_278119ad
test    byte ptr [esi+8], 40h
jnz     short loc_277ef4ee
mov     eax, dword_2782a084
push    3
shl     eax, 2
cdq
pop     ecx
idiv    ecx
push    esi
mov     [esi+38h], eax
call    sub_277ef2d1
mov     ecx, dword_2782a06c
mov     eax, [esi+38h]
add     ecx, ecx
cmp     eax, ecx
jle     short loc_277ef4f4
mov     ecx, [esi+4ch]
cmp     ecx, eax
jge     short loc_277ef4f4
mov     eax, dy
lea     edx, [eax+eax*2]
mov     eax, ecx
sub     eax, edx
test    byte ptr [esi+8], 20h
mov     [esi+38h], eax
jz      short loc_277ef4ee
lea     eax, [eax+eax*2]
push    4
cdq
pop     ecx
idiv    ecx
mov     [esi+38h], eax
push    esi
call    sub_277ef2d1
mov     eax, [esi+8]
test    al, 0ch
jz      short loc_277ef503
test    al, 10h
jnz     short loc_277ef503
add     dword ptr [esi+44h], 8
add     dword ptr [esi+44h], 2
mov     eax, [esi+44h]
mov     ecx, [esi+38h]
push    0fffffffeh
add     ecx, eax
mov     [esi+54h], eax
mov     [esi+4ch], ecx
mov     ecx, [esi+34h]
mov     eax, [esi+4ch]
lea     edx, [ecx+2]
mov     [esi+5ch], eax
add     [edi], edx
mov     edi, [edi]
pop     edx
sub     edx, ecx
add     [esi+48h], edx
mov     ecx, [esi+48h]
mov     eax, ecx
sub     eax, edi
mov     [esi+3ch], eax
jnz     short loc_277ef571
push    1
pop     eax
or      [esi+88h], eax
mov     [esi+3ch], eax
mov     eax, [esi+1ch]
test    eax, eax
jz      short loc_277ef557
push    eax
call    ds:deleteobject
and     dword ptr [esi+1ch], 0
push    dword ptr [esi+28h]
push    esi
call    sub_277ef196
push    esi
call    sub_277ef178
push    esi
call    sub_277ef324
pop     edi
pop     esi
retn    4
and     dword ptr [esi+88h], 0fffffffeh
jmp     short loc_277ef545
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    esi
push    edi
call    sub_27812f98
call    sub_277b344b
push    9ch
push    40h
call    ds:localalloc
mov     esi, eax
xor     edi, edi
cmp     esi, edi
jnz     short loc_277ef5aa
or      eax, 0ffffffffh
pop     edi
pop     esi
leave
retn    8
push    ebx
push    esi
push    edi
push    [ebp+hwnd]
call    ds:setwindowlonga
push    [ebp+arg_4]
push    [ebp+hwnd]
push    esi
call    sub_277b6303
or      dword ptr [esi+8ch], 0ffffffffh
or      dword ptr [esi+74h], 0ffffffffh
push    1
mov     dword ptr [esi+24h], 64h
pop     ebx
mov     [esi+70h], ebx
mov     [esi+78h], ebx
mov     eax, dword_2782a084
push    3
shl     eax, 2
cdq
pop     ecx
idiv    ecx
mov     [esi+38h], eax
cmp     dword_2782a150, edi
jz      short loc_277ef605
push    edi
push    [ebp+hwnd]
call    sub_277e1f86
mov     [esi+90h], eax
mov     ecx, [esi+8]
push    2
pop     eax
test    al, cl
jz      loc_277ef6a4
test    cl, 4
jz      loc_277ef69c
mov     dword ptr [esi+84h], 3
test    ch, 1
jz      short loc_277ef68e
push    edi
mov     eax, 80000000h
push    dword_27828334
push    edi
push    dword ptr [esi]
push    eax
push    eax
push    eax
push    eax
push    eax
push    offset byte_2782b6b5
push    offset amsvblibtooltip
push    edi
call    ds:createwindowexa
cmp     eax, edi
mov     [esi+7ch], eax
jz      short loc_277ef6bf
mov     ecx, [esi]
or      [ebp+var_8], 0ffffffffh
mov     [ebp+var_24], ecx
mov     [ebp+var_20], ecx
lea     ecx, [ebp+lparam]
mov     [ebp+lparam], 2ch
push    ecx
push    edi
push    404h
push    eax
mov     [ebp+var_28], 23h
mov     [ebp+var_14], edi
mov     [ebp+var_10], edi
mov     [ebp+var_18], edi
mov     [ebp+var_1c], edi
call    ds:sendmessagea
push    esi
call    sub_277ef47c
xor     eax, eax
pop     ebx
jmp     loc_277ef5a4
mov     [esi+84h], ebx
jmp     short loc_277ef626
test    cl, 4
jz      short loc_277ef6b4
mov     [esi+84h], eax
jmp     loc_277ef626
mov     [esi+84h], edi
jmp     loc_277ef626
and     byte ptr [esi+9], 0feh
jmp     short loc_277ef68e
push    esi
mov     esi, [esp+4+lparam]
push    edi
mov     edi, [esp+8+arg_0]
mov     eax, [esi]
cmp     eax, [edi+7ch]
jnz     short loc_277ef705
cmp     dword ptr [esi+8], 0fffffdf8h
jnz     short loc_277ef6f4
push    dword ptr [edi+28h]
lea     eax, [esi+10h]
push    offset ad_6
push    eax
call    ds:wsprintfa
add     esp, 0ch
push    dword ptr [edi+10h]
push    esi
push    dword ptr [esi+8]
push    0ffffffffh
push    dword ptr [edi+4]
call    sub_27811d28
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
mov     ecx, [ebp+hwndto]
cmp     [ebp+arg_4], 0
push    esi
lea     eax, [ecx+94h]
jnz     short loc_277ef723
lea     eax, [ecx+98h]
mov     edx, [ebp+arg_8]
mov     esi, [eax]
push    ecx
mov     [eax], edx
call    sub_277ef47c
mov     eax, esi
pop     esi
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 50h
push    ebx
push    esi
push    edi
xor     edi, edi
push    edi
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     esi, [ebp+msg]
mov     ebx, eax
cmp     esi, 0fh
ja      loc_277ef83c
jz      loc_277ef9a9
mov     eax, esi
dec     eax
jz      loc_277ef82a
dec     eax
jz      short loc_277ef7be
sub     eax, 3
jz      loc_277ef85e
dec     eax
dec     eax
jz      short loc_277ef7b2
dec     eax
jz      short loc_277ef7ac
dec     eax
dec     eax
jnz     def_277efaa8
cmp     [ebp+hdc], edi
jz      short loc_277ef7a6
and     byte ptr [ebx+0bh], 0f7h
or      dword ptr [ebx+80h], 2
push    edi
push    edi
push    [ebp+hwnd]
call    ds:invalidaterect
xor     eax, eax
jmp     loc_277ef835
or      byte ptr [ebx+0bh], 8
jmp     short loc_277ef78d
mov     dword_2782c3b8, edi
cmp     ebx, edi
jz      short def_277ef923
push    ebx
call    sub_277ef178
jmp     short def_277ef923
call    sub_27813018
cmp     ebx, edi
jz      short def_277ef923
cmp     dword_2782a150, edi
jz      short loc_277ef7dd
push    dword ptr [ebx+90h]
push    [ebp+hwnd]
call    sub_277e1f86
test    byte ptr [ebx+9], 1
jz      short loc_277ef7f9
push    dword ptr [ebx+7ch]
call    ds:iswindow
test    eax, eax
jz      short loc_277ef7f9
push    dword ptr [ebx+7ch]
call    ds:destroywindow
mov     eax, [ebx+1ch]
cmp     eax, edi
jz      short loc_277ef807
push    eax
call    ds:deleteobject
mov     eax, [ebx+6ch]
mov     esi, ds:localfree
cmp     eax, edi
jz      short loc_277ef817
push    eax
call    esi
push    ebx
call    esi
push    edi
push    edi
push    [ebp+hwnd]
call    ds:setwindowlonga
jmp     def_277ef923
push    [ebp+h]
push    [ebp+hwnd]
call    sub_277ef57a
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     esi, 1ah
ja      short loc_277ef869
jz      short loc_277ef856
cmp     esi, 15h
jnz     def_277efaa8
call    sub_277b344b
jmp     loc_277ef7b6
push    [ebp+hdc]
call    sub_277b3170
push    ebx
call    sub_277ef47c
jmp     def_277ef923
cmp     esi, 55h
ja      short loc_277ef892
jz      short loc_277ef887
cmp     esi, 4eh
jnz     def_277efaa8
push    [ebp+h]
push    ebx
call    sub_277ef6c5
jmp     def_277ef923
push    [ebp+h]
push    ebx
call    sub_278112e5
jmp     short loc_277ef835
mov     eax, 87h
cmp     esi, eax
ja      short loc_277ef8bf
jz      loc_277efbf0
cmp     esi, 7dh
jnz     def_277efaa8
cmp     [ebp+hdc], 0fffffff0h
jnz     def_277ef923
mov     eax, [ebp+h]
mov     eax, [eax+4]
mov     [ebx+8], eax
jmp     short loc_277ef85e
mov     eax, 113h
cmp     esi, eax
ja      loc_277eff9b
jz      short loc_277ef945
mov     eax, esi
sub     eax, 100h
jz      short loc_277ef90a
dec     eax
jnz     def_277efaa8
test    byte ptr [ebx+0bh], 8
jnz     def_277ef923
cmp     [ebp+hdc], 21h
jb      def_277ef923
cmp     [ebp+hdc], 28h
ja      def_277ef923
push    edi
push    8
push    ebx
call    sub_277f00b8
jmp     def_277ef923
test    byte ptr [ebx+0bh], 8
jnz     def_277ef923
mov     eax, [ebp+hdc]
add     eax, 0ffffffdfh
cmp     eax, 7
ja      def_277ef923
jmp     ds:jpt_277ef923[eax*4]
push    6
pop     eax
jmp     short loc_277ef93d
push    7
jmp     short loc_277ef92c
push    2
jmp     short loc_277ef92c
push    3
jmp     short loc_277ef92c
xor     eax, eax
push    edi
push    eax
jmp     short loc_277ef8ff
push    1
jmp     short loc_277ef92c
push    edi
push    dword ptr [ebx]
call    sub_27811942
mov     [ebp+h], eax
cmp     dword ptr [ebx+8ch], 0ffffffffh
jz      def_277ef923
test    byte ptr [ebx+0bh], 8
jnz     def_277ef923
push    [ebp+h]
push    ebx
call    sub_277f02e6
jmp     def_277ef923
push    [ebp+hwnd]
call    ds:setfocus
jmp     def_277ef923
mov     eax, 318h
cmp     esi, eax
ja      loc_277efa83
jz      short loc_277ef9a9
cmp     esi, 215h
jnz     def_277efaa8
push    ebx
call    sub_277f0285
jmp     def_277ef923
cmp     [ebp+hdc], edi
jz      loc_277efa6f
mov     edi, [ebp+hdc]
push    edi
call    ds:createcompatibledc
cmp     dword ptr [ebx+1ch], 0
mov     [ebx+18h], eax
jnz     short loc_277ef9e2
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getclientrect
push    [ebp+rect.bottom]
push    [ebp+rect.right]
push    edi
call    ds:createcompatiblebitmap
mov     [ebx+1ch], eax
push    dword ptr [ebx+1ch]
mov     esi, ds:selectobject
push    dword ptr [ebx+18h]
call    esi
push    ebx
mov     [ebp+h], eax
call    sub_277f03fb
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:getclipbox
test    eax, eax
jl      short loc_277efa19
cmp     eax, 1
jg      short loc_277efa19
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
mov     eax, [ebp+rect.bottom]
push    0cc0020h
push    [ebp+rect.top]
sub     eax, [ebp+rect.top]
push    [ebp+rect.left]
push    dword ptr [ebx+18h]
push    eax
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
push    eax
push    [ebp+rect.top]
push    [ebp+rect.left]
push    edi
call    ds:bitblt
push    [ebp+h]
push    dword ptr [ebx+18h]
call    esi
push    dword ptr [ebx+18h]
call    ds:deletedc
cmp     [ebp+hdc], 0
jnz     short loc_277efa66
lea     eax, [ebp+paint]
push    eax
push    [ebp+hwnd]
call    ds:endpaint
and     dword ptr [ebx+18h], 0
jmp     def_277ef923
lea     eax, [ebp+paint]
push    eax
push    [ebp+hwnd]
call    ds:beginpaint
mov     edi, eax
jmp     loc_277ef9b5
mov     eax, 2005h
cmp     esi, eax
ja      loc_277efe81
jz      loc_277efe73
lea     eax, [esi-400h]
cmp     eax, 21h
ja      def_277efaa8
mov     edi, [ebp+hdc]
jmp     ds:jpt_277efaa8[eax*4]
mov     eax, [ebx+28h]
jmp     loc_277ef835
mov     eax, [ebx+2ch]
jmp     loc_277ef835
mov     eax, [ebx+30h]
jmp     loc_277ef835
mov     eax, [ebx+20h]
jmp     loc_277ef835
mov     eax, [ebx+24h]
jmp     loc_277ef835
mov     eax, [ebx+6ch]
jmp     loc_277ef835
and     dword ptr [ebx+88h], 0fffffffdh
or      dword ptr [ebx+2ch], 0ffffffffh
or      dword ptr [ebx+30h], 0ffffffffh
mov     eax, [ebx+28h]
mov     edx, [ebx+24h]
cmp     eax, edx
mov     esi, eax
jl      short loc_277efafc
mov     esi, edx
mov     ecx, [ebx+20h]
cmp     esi, ecx
jle     loc_277efd6e
cmp     eax, edx
jl      short loc_277efb0d
mov     eax, edx
or      dword ptr [ebx+80h], 0fh
mov     [ebx+28h], eax
test    edi, edi
jz      def_277ef923
push    0
push    0
push    [ebp+hwnd]
call    ds:invalidaterect
push    dword ptr [ebx+28h]
jmp     loc_277efc22
mov     eax, [ebx+6ch]
test    eax, eax
jz      short loc_277efb42
push    eax
call    ds:localfree
and     dword ptr [ebx+6ch], 0
and     dword ptr [ebx+68h], 0
jmp     short loc_277efaee
mov     eax, [ebx+6ch]
test    eax, eax
jz      short loc_277efb80
mov     ecx, [ebp+hdc]
cmp     ecx, [ebx+68h]
jge     short loc_277efb80
mov     eax, [eax+ecx*4]
jmp     loc_277ef835
mov     eax, [ebx+6ch]
test    eax, eax
jz      short loc_277efb80
mov     ecx, [ebp+hdc]
cmp     ecx, [ebx+68h]
jge     short loc_277efb80
push    dword ptr [eax+ecx*4]
push    ebx
call    sub_277ee973
jmp     loc_277ef835
or      eax, 0ffffffffh
jmp     loc_277ef835
test    byte ptr [ebx+8], 10h
jnz     def_277ef923
mov     ecx, [ebx+70h]
test    ecx, ecx
jz      short loc_277efba6
mov     eax, [ebx+68h]
cdq
idiv    ecx
inc     eax
inc     eax
jmp     loc_277ef835
push    2
pop     eax
jmp     loc_277ef835
mov     esi, [ebp+h]
cmp     esi, [ebx+20h]
jl      def_277ef923
cmp     esi, [ebx+24h]
jg      def_277ef923
mov     eax, [ebx+68h]
lea     eax, ds:4[eax*4]
push    eax
push    dword ptr [ebx+6ch]
call    sub_27811902
test    eax, eax
jz      def_277ef923
mov     ecx, [ebx+68h]
mov     [ebx+6ch], eax
push    ebx
mov     [eax+ecx*4], esi
inc     dword ptr [ebx+68h]
call    sub_277ef178
push    1
jmp     short loc_277efba8
mov     [ebx+70h], edi
push    ebx
call    sub_277ef277
jmp     loc_277efaee
cmp     [ebp+hdc], 0
mov     esi, [ebp+h]
jz      short loc_277efc2d
push    dword ptr [ebx+28h]
push    ebx
call    sub_277ee973
push    esi
push    ebx
mov     edi, eax
call    sub_277ee973
cmp     eax, edi
jz      short loc_277efc2d
push    esi
push    ebx
call    sub_277ef196
jmp     def_277ef923
mov     ecx, [ebx+24h]
mov     edx, esi
cmp     esi, ecx
jl      short loc_277efc38
mov     edx, ecx
mov     eax, [ebx+20h]
cmp     edx, eax
jle     short loc_277efc45
cmp     esi, ecx
jge     short loc_277efc4d
mov     eax, esi
mov     [ebx+28h], eax
jmp     def_277ef923
mov     eax, ecx
jmp     short loc_277efc45
test    byte ptr [ebx+8], 20h
jz      def_277ef923
mov     eax, [ebp+h]
mov     edx, [ebx+20h]
or      dword ptr [ebx+88h], 2
movsx   ecx, ax
cmp     ecx, edx
jge     short loc_277efc96
mov     [ebx+2ch], edx
mov     ecx, [ebx+24h]
shr     eax, 10h
movsx   eax, ax
cmp     eax, ecx
jle     short loc_277efc9b
mov     [ebx+30h], ecx
mov     eax, [ebx+2ch]
cmp     [ebx+30h], eax
jge     loc_277efaee
mov     [ebx+30h], eax
jmp     loc_277efaee
mov     [ebx+2ch], ecx
jmp     short loc_277efc72
mov     [ebx+30h], eax
jmp     short loc_277efc82
test    byte ptr [ebx+8], 20h
jz      def_277ef923
mov     eax, [ebx+20h]
mov     ecx, [ebp+h]
or      dword ptr [ebx+88h], 2
cmp     ecx, eax
jge     short loc_277efcd2
mov     [ebx+2ch], eax
mov     ecx, [ebx+30h]
mov     eax, [ebx+2ch]
cmp     ecx, eax
jl      short loc_277efc8e
cmp     ecx, 0ffffffffh
jz      short loc_277efc8e
jmp     loc_277efaee
mov     [ebx+2ch], ecx
jmp     short loc_277efcbe
test    byte ptr [ebx+8], 20h
jz      def_277ef923
mov     eax, [ebx+24h]
mov     ecx, [ebp+h]
or      dword ptr [ebx+88h], 2
cmp     ecx, eax
jle     short loc_277efd10
mov     [ebx+30h], eax
mov     ecx, [ebx+2ch]
mov     eax, [ebx+30h]
cmp     ecx, eax
jg      short loc_277efd08
cmp     ecx, 0ffffffffh
jnz     loc_277efaee
mov     [ebx+2ch], eax
jmp     loc_277efaee
mov     [ebx+30h], ecx
jmp     short loc_277efcf5
mov     ecx, [ebp+h]
movsx   eax, cx
shr     ecx, 10h
cmp     [ebx+2ch], eax
mov     [ebx+20h], eax
movsx   ecx, cx
mov     [ebx+24h], ecx
jge     short loc_277efd2f
mov     [ebx+2ch], eax
cmp     [ebx+30h], ecx
jle     loc_277efbf7
mov     [ebx+30h], ecx
jmp     loc_277efbf7
mov     eax, [ebp+h]
cmp     [ebx+2ch], eax
mov     [ebx+20h], eax
jge     loc_277efbf7
mov     [ebx+2ch], eax
jmp     loc_277efbf7
mov     eax, [ebp+h]
cmp     [ebx+30h], eax
mov     [ebx+24h], eax
jle     loc_277efbf7
mov     [ebx+30h], eax
jmp     loc_277efbf7
mov     eax, ecx
jmp     loc_277efb0d
test    byte ptr [ebx+8], 40h
jz      def_277ef923
mov     eax, [ebp+hdc]
mov     [ebx+38h], eax
jmp     loc_277ef85e
mov     eax, [ebx+38h]
jmp     loc_277ef835
mov     eax, [ebx+74h]
cmp     eax, 0ffffffffh
jnz     short loc_277efda6
mov     eax, [ebx+24h]
push    5
sub     eax, [ebx+20h]
pop     ecx
cdq
idiv    ecx
mov     ecx, [ebp+h]
mov     [ebx+74h], ecx
jmp     loc_277ef835
mov     eax, [ebx+74h]
cmp     eax, 0ffffffffh
jnz     loc_277ef835
mov     eax, [ebx+24h]
push    5
sub     eax, [ebx+20h]
pop     ecx
cdq
idiv    ecx
jmp     loc_277ef835
mov     ecx, [ebp+h]
mov     eax, [ebx+78h]
mov     [ebx+78h], ecx
jmp     loc_277ef835
mov     eax, [ebx+78h]
jmp     loc_277ef835
cmp     [ebp+h], 0
jz      def_277ef923
mov     edi, [ebp+h]
lea     esi, [ebx+50h]
movsd
movsd
movsd
movsd
test    byte ptr [ebx+8], 2
jz      def_277ef923
push    [ebp+h]
call    sub_278119ad
jmp     def_277ef923
mov     eax, [ebx+7ch]
jmp     loc_277ef835
mov     eax, [ebp+hdc]
mov     [ebx+7ch], eax
jmp     def_277ef923
mov     edx, [ebp+hdc]
mov     eax, [ebx+84h]
lea     ecx, [ebx+84h]
mov     [ecx], edx
jmp     loc_277ef835
push    [ebp+h]
push    ebx
call    sub_277eed8b
jmp     def_277ef923
push    [ebp+h]
push    [ebp+hdc]
push    ebx
call    sub_277ef70a
jmp     loc_277ef835
cmp     [ebp+hdc], 0
jz      short loc_277efe68
mov     eax, [ebx+94h]
jmp     loc_277ef835
mov     eax, [ebx+98h]
jmp     loc_277ef835
mov     ecx, [ebp+hdc]
mov     eax, [ebx+10h]
mov     [ebx+10h], ecx
jmp     loc_277ef835
cmp     esi, 2006h
jz      loc_277eff93
cmp     esi, dword_2782a054
jnz     short loc_277efefb
cmp     dword_27829f44, 0
jnz     short loc_277eff10
cmp     dword_2782a854, 0
jnz     short loc_277eff10
mov     eax, [ebp+hdc]
sub     dword_2782c3b8, eax
mov     eax, dword_2782c3b8
push    78h
cdq
pop     ecx
idiv    ecx
mov     edi, eax
test    edi, edi
jz      short loc_277efecf
mov     eax, dword_2782c3b8
cdq
idiv    ecx
mov     dword_2782c3b8, edx
cmp     dword_27829f44, 0
jnz     short loc_277eff1b
cmp     dword_2782a854, 0
jnz     short loc_277eff1b
push    10h
call    ds:getkeystate
test    ax, ax
jl      short loc_277efefb
push    11h
call    ds:getkeystate
test    ax, ax
jge     short loc_277eff21
push    [ebp+h]
push    [ebp+hdc]
push    esi
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_277ef835
mov     eax, [ebp+hdc]
shr     eax, 10h
movsx   eax, ax
jmp     short loc_277efeaa
test    byte ptr [ebp+hdc], 0ch
jnz     short loc_277efefb
mov     eax, [ebx+28h]
cmp     eax, 0ffff8000h
jl      loc_277efbf0
mov     esi, 7fffh
cmp     eax, esi
jg      loc_277efbf0
mov     ecx, [ebx+24h]
add     eax, edi
cmp     eax, ecx
mov     edi, eax
jl      short loc_277eff49
mov     edi, ecx
mov     edx, [ebx+20h]
cmp     edi, edx
jle     short loc_277eff8b
cmp     eax, ecx
jl      short loc_277eff56
mov     eax, ecx
cmp     eax, esi
mov     edx, eax
jl      short loc_277eff5e
mov     edx, esi
mov     ecx, 0ffff8000h
cmp     edx, ecx
jle     short loc_277eff8f
cmp     eax, esi
jge     short loc_277eff6d
mov     esi, eax
cmp     esi, [ebx+28h]
jz      loc_277efbf0
push    esi
push    ebx
call    sub_277ef196
push    esi
push    4
push    ebx
call    sub_277f00b8
jmp     loc_277efbf0
mov     eax, edx
jmp     short loc_277eff56
mov     esi, ecx
jmp     short loc_277eff6d
mov     eax, [ebx+10h]
jmp     loc_277ef835
mov     eax, 207h
cmp     esi, eax
ja      loc_277ef983
jz      loc_277ef975
mov     eax, esi
sub     eax, 200h
jz      loc_277ef950
dec     eax
jz      short loc_277effef
dec     eax
jnz     def_277efaa8
test    byte ptr [ebx+0bh], 8
jnz     def_277ef923
push    ebx
call    sub_277f0285
call    ds:getcapture
cmp     eax, [ebp+hwnd]
jnz     def_277ef923
push    ebx
call    sub_277bf76d
jmp     def_277ef923
test    byte ptr [ebx+0bh], 8
jnz     def_277ef923
push    [ebp+hwnd]
call    ds:setfocus
push    [ebp+h]
push    ebx
call    sub_277f01d0
jmp     def_277ef923
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+arg_4]
test    edi, edi
jz      short loc_277f0143
cmp     edi, 1
jz      short loc_277f0138
jle     short loc_277f00e6
cmp     edi, 3
jle     short loc_277f0114
cmp     edi, 6
jz      short loc_277f010f
cmp     edi, 7
jnz     short loc_277f00e6
mov     eax, [esi+24h]
push    eax
push    esi
call    sub_277ef196
test    byte ptr [esi+8], 2
push    dword ptr [esi]
movzx   eax, [esp+0ch+arg_8]
jz      short loc_277f0148
movzx   ecx, di
shl     eax, 10h
or      eax, ecx
push    eax
push    115h
push    dword ptr [esi+4]
call    ds:sendmessagea
pop     edi
pop     esi
retn    0ch
mov     eax, [esi+20h]
jmp     short loc_277f00df
mov     eax, [esi+74h]
cmp     eax, 0ffffffffh
jnz     short loc_277f012f
mov     eax, [esi+24h]
push    5
sub     eax, [esi+20h]
pop     ecx
cdq
idiv    ecx
test    eax, eax
jnz     short loc_277f012f
push    1
pop     eax
cmp     edi, 2
jnz     short loc_277f013b
neg     eax
jmp     short loc_277f013b
mov     eax, [esi+78h]
mov     ecx, [esi+28h]
add     ecx, eax
push    ecx
jmp     short loc_277f00e0
mov     eax, [esi+78h]
jmp     short loc_277f0134
movzx   ecx, di
shl     eax, 10h
or      eax, ecx
push    eax
push    114h
jmp     short loc_277f0101
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_4]
push    ebx
movsx   ebx, ax
shr     eax, 10h
push    esi
mov     esi, [ebp+arg_0]
movsx   ecx, ax
test    byte ptr [esi+88h], 1
push    edi
mov     [ebp+var_4], ecx
jnz     short loc_277f01cb
mov     eax, [esi+8]
test    al, 80h
jnz     short loc_277f01cb
test    al, 2
jz      short loc_277f018d
mov     eax, ebx
mov     ebx, ecx
mov     [ebp+var_4], eax
push    [ebp+var_4]
mov     edi, ds:ptinrect
lea     eax, [esi+50h]
push    ebx
push    eax
mov     [ebp+arg_4], eax
call    edi
test    eax, eax
jz      short loc_277f01af
mov     ax, 5
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    [ebp+var_4]
add     esi, 40h
push    ebx
push    esi
call    edi
test    eax, eax
jz      short loc_277f01cb
mov     ecx, [ebp+arg_4]
xor     eax, eax
cmp     ebx, [ecx]
setnl   al
inc     eax
inc     eax
jmp     short loc_277f01a8
xor     ax, ax
jmp     short loc_277f01a8
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+88h], 1
jnz     short loc_277f022f
test    byte ptr [esi+8], 80h
jnz     short loc_277f022f
mov     ebx, [ebp+arg_4]
push    ebx
push    esi
call    sub_277f0158
mov     edi, eax
test    di, di
jz      short loc_277f022f
push    dword ptr [esi]
call    ds:setcapture
or      dword ptr [esi+60h], 0ffffffffh
cmp     di, 5
movzx   eax, di
mov     [esi+8ch], eax
jz      short loc_277f0236
push    0
push    1f4h
push    1
push    dword ptr [esi]
call    ds:settimer
push    ebx
push    esi
call    sub_277f02e6
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    dword ptr [esi+28h]
push    esi
call    sub_277ee973
test    byte ptr [esi+8], 2
jz      short loc_277f0280
mov     ecx, ebx
shr     ecx, 10h
sub     ecx, eax
mov     [esi+64h], ecx
mov     ecx, [esi+7ch]
test    ecx, ecx
jz      short loc_277f0228
mov     eax, [esi]
mov     [ebp+lparam], 2ch
mov     [ebp+var_24], eax
mov     [ebp+var_20], eax
lea     eax, [ebp+lparam]
mov     [ebp+var_28], 22h
push    eax
push    1
push    411h
push    ecx
call    ds:sendmessagea
jmp     short loc_277f0228
movzx   ecx, bx
jmp     short loc_277f024a
push    esi
mov     esi, [esp+4+arg_0]
cmp     dword ptr [esi+8ch], 5
jnz     short loc_277f02b5
mov     eax, [esi+7ch]
test    eax, eax
jz      short loc_277f02aa
push    0
push    0
push    411h
push    eax
call    ds:sendmessagea
push    dword ptr [esi+60h]
push    4
push    esi
call    sub_277f00b8
push    1
push    dword ptr [esi]
call    ds:killtimer
cmp     dword ptr [esi+8ch], 0ffffffffh
jz      short loc_277f02d9
push    0
push    8
push    esi
call    sub_277f00b8
or      dword ptr [esi+8ch], 0ffffffffh
push    dword ptr [esi+28h]
push    esi
call    sub_277ef196
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
cmp     dword ptr [esi+8ch], 5
jnz     loc_277f03da
test    byte ptr [esi+8], 2
mov     eax, [ebp+arg_4]
jz      short loc_277f030b
shr     eax, 10h
sub     ax, [esi+64h]
movsx   eax, ax
push    eax
push    esi
call    sub_277ee9a4
mov     edi, eax
cmp     edi, [esi+60h]
jz      short loc_277f0333
push    edi
push    esi
mov     [esi+60h], edi
call    sub_277ef196
push    edi
push    5
push    esi
call    sub_277f00b8
cmp     dword ptr [esi+7ch], 0
jz      short loc_277f03b6
mov     ebx, [esi+84h]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+rect.right]
push    edi
cdq
sub     eax, edx
push    esi
sar     eax, 1
mov     [ebp+points.x], eax
mov     eax, [ebp+rect.bottom]
cdq
sub     eax, edx
sar     eax, 1
mov     [ebp+points.y], eax
call    sub_277ee973
test    byte ptr [esi+8], 2
jz      short loc_277f03bd
mov     [ebp+points.y], eax
or      ebx, 1
xor     edi, edi
sub     ebx, edi
jz      short loc_277f03d4
dec     ebx
jz      short loc_277f03ce
dec     ebx
jz      short loc_277f03c5
dec     ebx
jnz     short loc_277f038a
mov     eax, [ebp+rect.right]
inc     eax
mov     [ebp+points.x], eax
lea     eax, [ebp+points]
push    1
push    eax
push    edi
push    dword ptr [esi]
call    ds:mapwindowpoints
movzx   eax, word ptr [ebp+points.y]
movzx   ecx, word ptr [ebp+points.x]
shl     eax, 10h
or      eax, ecx
push    eax
push    edi
push    412h
push    dword ptr [esi+7ch]
call    ds:sendmessagea
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     [ebp+points.x], eax
and     ebx, 0fffffffeh
jmp     short loc_277f0374
mov     eax, [ebp+rect.bottom]
inc     eax
mov     [ebp+points.y], eax
jmp     short loc_277f038a
or      [ebp+points.x], 0ffffffffh
jmp     short loc_277f038a
or      [ebp+points.y], 0ffffffffh
jmp     short loc_277f038a
push    [ebp+arg_4]
mov     edi, [esi+8ch]
push    esi
call    sub_277f0158
movzx   eax, ax
cmp     edi, eax
jnz     short loc_277f03b6
push    0
push    edi
push    esi
call    sub_277f00b8
jmp     short loc_277f03b6
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
mov     ebx, [ebp+hbr]
push    esi
push    edi
push    dword ptr [ebx]
push    dword ptr [ebx+18h]
push    138h
push    dword ptr [ebx+4]
call    ds:sendmessagea
test    eax, eax
mov     [ebp+hbr], eax
jz      short loc_277f0455
mov     eax, [ebx+80h]
xor     ecx, ecx
cmp     eax, 0fh
jnz     loc_277f060e
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
push    1
pop     ecx
test    ecx, ecx
jz      short loc_277f0455
push    [ebp+hbr]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx+18h]
call    ds:fillrect
mov     eax, [ebx+18h]
mov     [ebp+var_30], eax
call    ds:getfocus
cmp     [ebx], eax
jnz     loc_277f0642
mov     [ebp+var_18], 10h
lea     eax, [ebp+lparam]
and     [ebp+var_14], 0
push    eax
push    1
pop     esi
push    esi
push    ebx
call    sub_27811d7b
cmp     eax, 4
mov     [ebx+0ch], eax
jz      loc_277f0607
test    byte ptr [ebp+var_18], 10h
jz      short loc_277f049a
push    ebx
call    sub_277ef236
and     [ebp+var_18], 0
test    byte ptr [ebx+80h], 1
jz      short loc_277f04df
lea     eax, [ebp+lparam]
mov     [ebp+var_1c], esi
push    eax
push    10001h
push    ebx
call    sub_27811d7b
cmp     eax, 4
mov     [ebp+hbr], eax
jz      short loc_277f04df
push    ebx
call    sub_277eed53
test    byte ptr [ebp+hbr], 10h
jz      short loc_277f04df
lea     eax, [ebp+lparam]
mov     [ebp+var_1c], esi
push    eax
push    10002h
push    ebx
call    sub_27811d7b
test    byte ptr [ebx+80h], 2
jz      loc_277f064b
lea     eax, [ebp+var_2c]
push    eax
push    ebx
call    sub_277eed8b
test    byte ptr [ebx+8], 2
jz      short loc_277f0505
lea     eax, [ebp+var_2c]
push    eax
call    sub_278119ad
push    3
lea     eax, [ebp+lparam]
pop     esi
push    eax
push    10001h
push    ebx
mov     [ebp+var_1c], esi
call    sub_27811d7b
cmp     eax, 4
mov     [ebp+hbr], eax
jz      short loc_277f0562
test    byte ptr [ebx+8], 2
jz      short loc_277f0531
lea     eax, [ebp+var_2c]
push    eax
call    sub_278119ad
lea     eax, [ebp+var_2c]
push    eax
push    ebx
call    sub_277eedfd
test    byte ptr [ebp+hbr], 10h
jz      short loc_277f0562
test    byte ptr [ebx+8], 2
jz      short loc_277f0550
lea     eax, [ebp+var_2c]
push    eax
call    sub_278119ad
lea     eax, [ebp+lparam]
mov     [ebp+var_1c], esi
push    eax
push    10002h
push    ebx
call    sub_27811d7b
lea     esi, [ebx+50h]
lea     edi, [ebp+var_2c]
movsd
movsd
cmp     dword ptr [ebx+8ch], 5
movsd
movsd
jnz     short loc_277f057c
mov     [ebp+var_18], 1
test    byte ptr [ebx+8], 2
jz      short loc_277f058b
lea     eax, [ebp+var_2c]
push    eax
call    sub_278119ad
push    2
lea     eax, [ebp+lparam]
pop     esi
push    eax
push    10001h
push    ebx
mov     [ebp+var_1c], esi
call    sub_27811d7b
cmp     eax, 4
mov     [ebp+hbr], eax
jz      short loc_277f05ef
test    byte ptr [ebx+8], 2
jz      short loc_277f05b7
lea     eax, [ebp+var_2c]
push    eax
call    sub_278119ad
mov     eax, [ebp+var_18]
and     eax, 1
push    eax
lea     eax, [ebp+var_2c]
push    eax
push    ebx
call    sub_277eeec3
test    byte ptr [ebp+hbr], 10h
jz      short loc_277f05ef
test    byte ptr [ebx+8], 2
jz      short loc_277f05dd
lea     eax, [ebp+var_2c]
push    eax
call    sub_278119ad
lea     eax, [ebp+lparam]
mov     [ebp+var_1c], esi
push    eax
push    10002h
push    ebx
call    sub_27811d7b
and     dword ptr [ebx+80h], 0
test    byte ptr [ebx+0ch], 10h
jz      short loc_277f0607
lea     eax, [ebp+lparam]
push    eax
push    esi
push    ebx
call    sub_27811d7b
pop     edi
pop     esi
pop     ebx
leave
retn    4
test    al, 2
jz      loc_277f0441
lea     esi, [ebx+40h]
lea     edi, [ebp+rect]
movsd
movsd
mov     eax, [ebx+34h]
movsd
movsd
and     [ebp+rect.left], 0
add     [ebp+rect.right], eax
test    byte ptr [ebx+8], 2
jz      loc_277f043e
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
jmp     loc_277f043e
and     [ebp+var_18], 0
jmp     loc_277f0470
push    2
pop     esi
jmp     short loc_277f05ef
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, [ebp+hinstance]
push    esi
lea     eax, [ebp+wndclass]
mov     esi, offset amsvblibtreevie
push    eax
push    esi
push    ebx
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277f06bd
push    edi
xor     edi, edi
push    7f00h
push    edi
mov     [ebp+wndclass.lpfnwndproc], offset sub_277f27bd
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hicon], edi
mov     [ebp+wndclass.lpszmenuname], edi
mov     [ebp+wndclass.hinstance], ebx
mov     [ebp+wndclass.lpszclassname], esi
mov     [ebp+wndclass.hbrbackground], edi
mov     [ebp+wndclass.style], 8
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.cbclsextra], edi
call    ds:registerclassa
movzx   eax, ax
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    1
pop     eax
jmp     short loc_277f06b7
push    ebp
mov     ebp, esp
sub     esp, 68h
mov     eax, [ebp+arg_8]
and     [ebp+var_58], 0
mov     [ebp+var_2c], eax
mov     [ebp+var_30], 1ch
movzx   ecx, word ptr [eax+10h]
mov     eax, [eax+1ch]
mov     [ebp+var_28], ecx
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_8], eax
mov     eax, [ebp+arg_10]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b9838
leave
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 68h
mov     eax, [ebp+arg_8]
mov     ecx, [ebp+arg_0]
xor     edx, edx
cmp     eax, 0ffff0000h
push    esi
mov     [ebp+var_30], edx
mov     [ebp+var_2c], eax
jnz     short loc_277f0724
mov     eax, [ecx+1ch]
movzx   esi, word ptr [eax+10h]
mov     [ebp+var_28], esi
mov     esi, [eax+1ch]
mov     [ebp+var_c], esi
movzx   esi, word ptr [eax+12h]
mov     [ebp+var_18], esi
movzx   esi, word ptr [eax+14h]
mov     [ebp+var_14], esi
movzx   eax, byte ptr [eax+1bh]
dec     eax
jz      short loc_277f077a
dec     eax
jz      short loc_277f076e
dec     eax
jz      short loc_277f077a
mov     eax, [ebp+arg_c]
or      [ebp+var_30], 3eh
and     eax, 3
mov     [ebp+var_58], edx
mov     [ebp+var_5c], eax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_4]
push    ecx
call    sub_277b9838
pop     esi
leave
retn    10h
mov     [ebp+var_10], edx
mov     [ebp+var_30], 40h
jmp     short loc_277f074c
mov     [ebp+var_10], 1
jmp     short loc_277f0771
push    ebp
mov     ebp, esp
sub     esp, 68h
mov     eax, [ebp+arg_10]
xor     edx, edx
mov     [ebp+var_5c], eax
mov     eax, [ebp+arg_c]
cmp     eax, edx
push    esi
mov     [ebp+var_2c], eax
jz      short loc_277f07e5
movzx   ecx, word ptr [eax+10h]
mov     [ebp+var_28], ecx
cmp     eax, edx
jz      short loc_277f07ea
mov     eax, [eax+1ch]
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_8]
push    1ch
pop     ecx
cmp     eax, edx
mov     [ebp+var_30], ecx
mov     [ebp+var_54], eax
jz      short loc_277f07ef
movzx   esi, word ptr [eax+10h]
mov     [ebp+var_50], esi
cmp     eax, edx
jz      short loc_277f07f4
mov     eax, [eax+1ch]
mov     [ebp+var_34], eax
lea     eax, [ebp+lparam]
mov     [ebp+var_58], ecx
push    eax
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277b9838
pop     esi
leave
retn    14h
mov     [ebp+var_28], edx
jmp     short loc_277f07a3
mov     [ebp+var_c], edx
jmp     short loc_277f07ad
mov     [ebp+var_50], edx
jmp     short loc_277f07c4
mov     [ebp+var_34], edx
jmp     short loc_277f07ce
mov     edx, [esp+arg_0]
mov     ecx, [edx]
mov     eax, [ecx+8]
cmp     eax, edx
jnz     short loc_277f0812
mov     al, [edx+1ah]
neg     al
sbb     eax, eax
and     eax, ecx
retn    4
mov     ecx, [eax+4]
cmp     ecx, edx
jz      short loc_277f081d
mov     eax, ecx
jmp     short loc_277f0812
mov     ecx, [eax+8]
test    ecx, ecx
jz      short locret_277f080f
test    byte ptr [eax+10h], 20h
jz      short locret_277f080f
mov     eax, ecx
mov     ecx, [eax+4]
test    ecx, ecx
jz      short loc_277f081d
jmp     short loc_277f082a
mov     ecx, [esp+arg_0]
mov     eax, [ecx+8]
test    eax, eax
jz      short loc_277f0846
test    byte ptr [ecx+10h], 20h
jnz     short locret_277f0859
cmp     dword ptr [ecx+4], 0
jnz     short loc_277f0856
mov     ecx, [ecx]
test    ecx, ecx
jnz     short loc_277f0846
xor     eax, eax
jmp     short locret_277f0859
mov     eax, [ecx+4]
retn    4
push    ebp
mov     ebp, esp
sub     esp, 2ch
mov     ecx, [ebp+arg_c]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     edx, edx
push    edi
mov     edi, [esi+0c4h]
cmp     [ebp+arg_4], edx
mov     [ecx], edx
jge     short loc_277f08ca
mov     dword ptr [ecx], 800h
mov     eax, [ebp+arg_8]
cmp     eax, edx
jge     short loc_277f08de
or      byte ptr [ecx+1], 1
cmp     [ecx], edx
jnz     short loc_277f08c1
movsx   ebx, word ptr [esi+0aah]
cdq
idiv    ebx
test    edi, edi
mov     ebx, eax
jz      short loc_277f08bb
mov     eax, [edi+20h]
cmp     ebx, eax
jl      short loc_277f08b7
push    edi
sub     ebx, eax
call    sub_277f0835
mov     ecx, [ebp+arg_c]
mov     edi, eax
test    edi, edi
jnz     short loc_277f089f
test    edi, edi
jnz     short loc_277f08ef
mov     dword ptr [ecx], 1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
movsx   eax, word ptr [esi+0b2h]
cmp     [ebp+arg_4], eax
jle     short loc_277f0880
mov     dword ptr [ecx], 400h
jmp     short loc_277f0880
movsx   ebx, word ptr [esi+0b4h]
cmp     eax, ebx
jle     short loc_277f088b
or      byte ptr [ecx+1], 2
jmp     short loc_277f088b
movsx   ecx, word ptr [esi+0b0h]
movzx   eax, byte ptr [edi+1ah]
movsx   edx, word ptr [esi+0bah]
imul    eax, ecx
sub     edx, eax
movsx   eax, word ptr [esi+0ach]
sub     edx, eax
mov     eax, [esi+8]
add     [ebp+arg_4], edx
test    al, 3
jz      short loc_277f0920
test    al, 4
jz      short loc_277f0920
sub     [ebp+arg_4], ecx
lea     eax, [ebp+var_2c]
push    eax
push    40h
push    edi
push    esi
call    sub_27816aad
test    [ebp+var_23], 0f0h
jz      short loc_277f096c
mov     ecx, [esi+68h]
movzx   edx, word ptr [edi+16h]
movsx   eax, word ptr [esi+0a4h]
add     edx, ecx
add     edx, eax
cmp     [ebp+arg_4], edx
jg      short loc_277f09bf
mov     edx, [ebp+arg_4]
xor     ebx, ebx
cmp     edx, ebx
jl      short loc_277f0991
cmp     [esi+3ch], ebx
jz      short loc_277f0970
cmp     edx, ecx
jge     short loc_277f0970
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 40h
mov     eax, edi
jmp     loc_277f08c3
xor     ecx, ecx
jmp     short loc_277f0936
cmp     [esi+38h], ebx
jz      short loc_277f0986
add     ecx, eax
cmp     edx, ecx
jge     short loc_277f0986
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 2
jmp     short loc_277f0965
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 4
jmp     short loc_277f0965
movsx   eax, word ptr [esi+0b0h]
neg     eax
cmp     edx, eax
jl      short loc_277f09b4
cmp     [ebp+var_c], ebx
jz      short loc_277f09b4
test    byte ptr [esi+8], 1
jz      short loc_277f09b4
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 10h
jmp     short loc_277f0965
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 8
jmp     short loc_277f0965
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 20h
jmp     short loc_277f0965
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
lea     eax, [ebp+var_4]
mov     esi, [ebp+hwnd]
push    edi
push    eax
push    [ebp+arg_8]
xor     ebx, ebx
push    [ebp+arg_4]
push    esi
call    sub_277f085c
mov     edi, eax
mov     eax, [esi+24h]
push    ebx
push    esi
mov     [ebp+hwnd], eax
call    sub_277f356b
test    eax, eax
jz      short loc_277f0a61
cmp     edi, [esi+20h]
jz      short loc_277f0a0c
push    1
push    1
push    ebx
push    edi
push    8
push    esi
call    sub_277f0e41
push    [ebp+arg_8]
push    [ebp+arg_4]
push    dword ptr [esi]
call    sub_27810ea0
test    eax, eax
jz      short loc_277f0a68
test    edi, edi
jz      short loc_277f0a33
push    [ebp+arg_8]
push    [ebp+arg_4]
push    edi
push    0fffffe68h
push    esi
call    sub_277f06c2
cmp     [esi+24h], edi
jnz     short loc_277f0a49
push    1
push    1
push    0
push    [ebp+hwnd]
push    8
push    esi
call    sub_277f0e41
test    ebx, ebx
jz      short loc_277f0a61
call    ds:getmessagepos
push    eax
push    dword ptr [esi]
push    7bh
push    dword ptr [esi+4]
call    ds:sendmessagea
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    dword ptr [esi]
call    ds:setfocus
push    0
push    0fffffffbh
push    esi
call    sub_277b9838
mov     ebx, eax
neg     ebx
sbb     ebx, ebx
inc     ebx
jmp     short loc_277f0a33
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     [ebp+arg_4], 0
push    esi
jz      short loc_277f0abd
mov     esi, [ebp+arg_0]
test    byte ptr [esi+18h], 10h
jz      short loc_277f0abd
lea     eax, [ebp+rcupdate]
push    0
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277f0b01
test    eax, eax
jz      short loc_277f0abd
push    [ebp+flags]
lea     eax, [ebp+rcupdate]
push    0
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
pop     esi
leave
retn    0ch
mov     ecx, [esp+arg_0]
mov     eax, [esp+arg_4]
push    esi
movsx   edx, word ptr [ecx+0b0h]
movzx   eax, byte ptr [eax+1ah]
movsx   esi, word ptr [ecx+0ach]
imul    eax, edx
add     eax, esi
movsx   esi, word ptr [ecx+0a4h]
add     eax, esi
add     eax, [ecx+68h]
mov     ecx, [ecx+8]
test    cl, 4
jz      short loc_277f0afd
test    cl, 3
jz      short loc_277f0afd
add     eax, edx
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
test    ebx, ebx
jz      short loc_277f0b1b
mov     ax, [ebx+18h]
cmp     ax, 0ffffh
jnz     short loc_277f0b24
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edi, [ebp+arg_0]
movzx   eax, ax
mov     ecx, [edi+0c4h]
movzx   ecx, word ptr [ecx+18h]
sub     eax, ecx
cmp     [ebp+arg_c], 0
mov     [ebp+arg_4], eax
jz      short loc_277f0bb6
push    ebx
push    edi
call    sub_277f0ac2
movsx   ecx, word ptr [edi+0bah]
mov     esi, [ebp+arg_8]
sub     eax, ecx
mov     [esi], eax
cmp     dword ptr [edi+3ch], 0
jz      short loc_277f0b72
lea     eax, [ebp+var_2c]
push    eax
push    0
push    ebx
push    edi
call    sub_27816aad
test    [ebp+var_23], 0f0h
jnz     short loc_277f0b72
mov     eax, [edi+68h]
sub     [esi], eax
cmp     dword ptr [edi+38h], 0
jnz     short loc_277f0b81
movsx   eax, word ptr [edi+0a4h]
sub     [esi], eax
movzx   eax, word ptr [ebx+16h]
add     eax, [esi]
mov     [esi+8], eax
mov     eax, [ebp+arg_4]
movsx   edx, word ptr [edi+0aah]
lea     ecx, [edi+0aah]
imul    eax, edx
mov     [esi+4], eax
mov     edx, [ebx+20h]
movsx   ecx, word ptr [ecx]
imul    edx, ecx
add     edx, eax
push    1
mov     [esi+0ch], edx
pop     eax
jmp     loc_277f0b1d
mov     esi, [ebp+arg_8]
and     dword ptr [esi], 0
movsx   ecx, word ptr [edi+0b2h]
mov     [esi+8], ecx
jmp     short loc_277f0b8d
xor     ecx, ecx
push    esi
cmp     [esp+4+arg_4], ecx
mov     esi, [esp+4+arg_0]
mov     eax, [esi+18h]
setnz   cl
and     ecx, 1
and     al, 0efh
shl     ecx, 4
or      eax, ecx
test    al, 10h
mov     [esi+18h], eax
jz      short loc_277f0c12
mov     eax, [esi+1ch]
test    eax, eax
jz      short loc_277f0bfe
push    eax
push    esi
call    sub_27817a0f
mov     [esi+0bch], eax
push    0
push    esi
call    sub_27818051
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
pop     esi
retn    8
push    esi
mov     esi, [esp+4+arg_4]
test    esi, esi
jz      short loc_277f0c4b
push    edi
mov     edi, [esp+8+arg_8]
push    edi
mov     [edi+4], esi
push    [esp+0ch+arg_0]
call    sub_277f1dea
mov     eax, [esi+8]
test    eax, eax
jz      short loc_277f0c43
push    edi
push    eax
push    [esp+10h+arg_0]
call    sub_277f0c16
mov     esi, [esi+4]
test    esi, esi
jnz     short loc_277f0c24
pop     edi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_4]
test    esi, esi
jz      short loc_277f0c80
push    [ebp+arg_8]
push    esi
push    2
push    [ebp+arg_0]
call    sub_277f102d
mov     eax, [esi+8]
test    eax, eax
jz      short loc_277f0c7b
push    [ebp+arg_8]
push    eax
push    [ebp+arg_0]
call    sub_277f0c4f
mov     esi, [esi+4]
jmp     short loc_277f0c56
pop     esi
pop     ebp
retn    0ch
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
push    0
push    edi
mov     esi, [edi+18h]
shr     esi, 4
and     esi, 1
call    sub_277f0bc8
push    [esp+0ch+arg_8]
mov     ebx, [esp+10h+arg_4]
push    ebx
push    2
push    edi
call    sub_277f102d
push    [esp+0ch+arg_8]
push    dword ptr [ebx+8]
push    edi
call    sub_277f0c4f
push    esi
push    edi
call    sub_277f0bc8
pop     edi
pop     esi
pop     ebx
retn    0ch
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_4]
mov     eax, [esi]
test    eax, eax
jz      short loc_277f0cf7
push    [ebp+arg_8]
push    eax
push    [ebp+arg_0]
call    sub_277f0cc8
mov     eax, [esi]
test    byte ptr [eax+10h], 20h
jnz     short loc_277f0cf7
push    [ebp+arg_8]
push    eax
push    2
push    [ebp+arg_0]
call    sub_277f102d
pop     esi
pop     ebp
retn    0ch
push    1
push    [esp+4+arg_4]
push    [esp+8+arg_0]
call    sub_277f0cc8
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_27818120
retn    8
push    ebp
mov     ebp, esp
sub     esp, 70h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_8]
test    edi, edi
mov     [ebp+var_5c], edi
jz      short loc_277f0d34
mov     eax, [edi+1ch]
mov     [ebp+var_3c], eax
mov     ebx, [ebp+arg_4]
push    14h
pop     eax
mov     [ebp+var_34], ebx
test    ebx, ebx
mov     [ebp+var_60], eax
jz      short loc_277f0d4a
mov     ecx, [ebx+1ch]
mov     [ebp+var_14], ecx
mov     esi, [ebp+arg_0]
mov     [ebp+var_38], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffe61h
push    esi
call    sub_277b9838
push    dword ptr [esi]
mov     [ebp+var_8], eax
call    ds:updatewindow
test    byte ptr [ebp+var_8], 1
jnz     loc_277f0e17
test    edi, edi
jz      loc_277f0e17
push    11h
call    ds:getasynckeystate
test    ax, ax
jl      loc_277f0e17
push    4
call    sub_27815c0e
push    4
mov     [ebp+lpmem], eax
call    sub_27815c0e
test    ebx, ebx
mov     edi, eax
mov     esi, ebx
jz      short loc_277f0db5
push    esi
push    0
push    edi
call    sub_27815df2
mov     esi, [esi]
test    esi, esi
jnz     short loc_277f0da6
mov     esi, [ebp+arg_8]
push    esi
push    0
push    [ebp+lpmem]
call    sub_27815df2
mov     esi, [esi]
test    esi, esi
jnz     short loc_277f0db8
mov     eax, [ebp+lpmem]
mov     esi, [eax]
dec     esi
js      short loc_277f0e06
push    esi
xor     ebx, ebx
push    [ebp+lpmem]
call    sub_27815cea
cmp     esi, [edi]
mov     [ebp+arg_8], eax
jge     short loc_277f0dec
push    esi
push    edi
call    sub_27815cea
mov     ebx, eax
cmp     ebx, [ebp+arg_8]
jz      short loc_277f0e03
push    1
push    [ebp+arg_8]
push    1
push    [ebp+arg_0]
call    sub_277f102d
dec     esi
jns     short loc_277f0dd1
mov     ebx, [ebp+arg_4]
push    [ebp+lpmem]
call    sub_27815c57
push    edi
call    sub_27815c57
mov     esi, [ebp+arg_0]
test    byte ptr [ebp+var_8], 2
jnz     short loc_277f0e3a
test    ebx, ebx
jz      short loc_277f0e3a
test    byte ptr [ebx+10h], 20h
jnz     short loc_277f0e3a
push    1
push    ebx
push    2
push    esi
call    sub_277f102d
push    dword ptr [esi]
call    ds:updatewindow
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     ebx, ebx
push    5
mov     eax, [esi+38h]
mov     [ebp+flags], 1
cmp     eax, ebx
pop     edi
jz      short loc_277f0e6c
push    eax
call    sub_27813b52
cmp     eax, 0ffffffffh
jnz     short loc_277f0e6c
mov     [ebp+flags], edi
mov     eax, [ebp+arg_4]
sub     eax, edi
jz      loc_277f0fda
sub     eax, 3
jz      loc_277f0f85
dec     eax
jnz     loc_277f0fe1
mov     eax, [esi+20h]
mov     edi, [ebp+arg_8]
cmp     eax, edi
jz      loc_277f0f71
cmp     [ebp+arg_c], ebx
jz      short loc_277f0eb2
push    [ebp+arg_14]
push    edi
push    eax
push    0fffffe6fh
push    esi
call    sub_277f0783
test    eax, eax
jnz     loc_277f0fe1
mov     eax, [esi+20h]
cmp     eax, ebx
jz      short loc_277f0ecb
push    [ebp+flags]
and     word ptr [eax+10h], 0fffdh
push    dword ptr [esi+20h]
push    esi
call    sub_277f0a83
mov     ebx, [esi+20h]
mov     [esi+20h], edi
test    edi, edi
jz      short loc_277f0f0e
push    [ebp+arg_c]
or      byte ptr [edi+10h], 2
push    edi
push    esi
call    sub_277f0cc8
push    [ebp+flags]
push    edi
push    esi
call    sub_277f0a83
cmp     [ebp+arg_14], 1
jnz     loc_277f0f76
push    0
call    ds:getdoubleclicktime
push    eax
push    2bh
push    dword ptr [esi]
call    ds:settimer
or      dword ptr [esi+18h], 20h
cmp     dword ptr [esi+0d4h], 0
jz      short loc_277f0f1f
push    2
push    esi
call    sub_277f23e6
cmp     [ebp+arg_c], 0
jz      short loc_277f0f35
push    [ebp+arg_14]
push    edi
push    ebx
push    0fffffe6eh
push    esi
call    sub_277f0783
test    byte ptr [esi+9], 4
jz      short loc_277f0f45
push    ebx
push    dword ptr [esi+20h]
push    esi
call    sub_277f0d1b
cmp     [ebp+arg_10], 0
jz      short loc_277f0f53
push    dword ptr [esi]
call    ds:updatewindow
push    edi
push    0fffffffch
push    dword ptr [esi]
push    8005h
call    sub_277b8949
push    edi
push    0fffffffch
push    dword ptr [esi]
push    8006h
call    sub_277b8949
push    1
pop     eax
jmp     short loc_277f0fe3
test    byte ptr [esi+18h], 10h
jz      short loc_277f0f0e
push    edi
push    esi
call    sub_278180c4
jmp     short loc_277f0f0e
mov     eax, [esi+24h]
mov     edi, [ebp+arg_8]
cmp     edi, eax
jz      short loc_277f0f71
cmp     eax, ebx
jz      short loc_277f0fa5
push    [ebp+flags]
and     word ptr [eax+10h], 0fff7h
push    dword ptr [esi+24h]
push    esi
call    sub_277f0a83
cmp     edi, ebx
jz      short loc_277f0fb7
push    [ebp+flags]
or      byte ptr [edi+10h], 8
push    edi
push    esi
call    sub_277f0a83
mov     eax, [esi+20h]
mov     [esi+24h], edi
cmp     eax, ebx
jz      short loc_277f0fcb
push    [ebp+flags]
push    eax
push    esi
call    sub_277f0a83
cmp     [ebp+arg_10], ebx
jz      short loc_277f0f71
push    dword ptr [esi]
call    ds:updatewindow
jmp     short loc_277f0f71
mov     edi, [ebp+arg_8]
cmp     edi, ebx
jnz     short loc_277f0fea
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    18h
push    edi
push    esi
call    sub_277f0cfc
test    byte ptr [esi+18h], 2
jz      loc_277f0f71
movzx   eax, word ptr [edi+18h]
push    ebx
push    eax
push    esi
call    sub_27818290
jmp     loc_277f0f71
push    esi
mov     esi, [esp+4+lpmem]
push    2
push    esi
push    [esp+0ch+arg_0]
call    sub_27818adb
and     word ptr [esi+10h], 0ffbfh
push    1
pop     eax
mov     [esi+1bh], al
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
push    esi
mov     esi, [ebp+arg_8]
push    edi
mov     edi, [ebp+arg_0]
mov     [ebp+var_4], esi
test    esi, esi
jz      short loc_277f104b
cmp     esi, 0ffff0000h
jnz     short loc_277f104e
mov     esi, [edi+1ch]
lea     eax, [ebp+var_30]
push    eax
push    40h
push    esi
push    edi
call    sub_27816aad
mov     ebx, [ebp+arg_4]
mov     eax, ebx
and     eax, 3
jz      short loc_277f10c9
cmp     [ebp+var_10], 0
jz      short loc_277f10c9
cmp     eax, 3
jnz     short loc_277f1087
mov     ax, [esi+10h]
and     ebx, 0fffffffch
test    al, 20h
jz      short loc_277f10d2
test    al, 80h
jnz     short loc_277f10d2
push    1
pop     eax
or      ebx, eax
mov     [ebp+arg_4], ebx
mov     [ebp+arg_8], ebx
and     [ebp+arg_8], 3
cmp     [ebp+arg_8], 2
jnz     short loc_277f10a1
test    byte ptr [esi+10h], 40h
jnz     short loc_277f10a1
mov     [ebp+arg_c], 1
cmp     [ebp+arg_c], 0
jz      short loc_277f10ba
push    ebx
push    [ebp+var_4]
push    0fffffe6bh
push    edi
call    sub_277f0705
test    eax, eax
jnz     short loc_277f10c9
cmp     dword ptr [esi+8], 0
jnz     short loc_277f10d6
push    1
push    esi
push    edi
call    sub_277f0a83
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    2
jmp     short loc_277f1081
mov     ax, [esi+10h]
cmp     dword ptr [esi], 0
mov     ecx, eax
jz      short loc_277f10f6
cmp     [ebp+arg_8], 2
jnz     short loc_277f1118
or      al, 20h
test    bh, 40h
mov     [esi+10h], ax
jz      short loc_277f111e
or      byte ptr [esi+10h], 80h
test    cl, 20h
jnz     short loc_277f1126
test    byte ptr [esi+10h], 20h
jnz     short loc_277f1126
and     ebx, 8003h
cmp     ebx, 8001h
jnz     short loc_277f10c9
push    esi
push    edi
call    sub_277f100c
jmp     short loc_277f10c9
and     ax, 0ff5fh
jmp     short loc_277f10e9
and     word ptr [esi+10h], 0ff7fh
jmp     short loc_277f10f6
mov     ax, [esi+10h]
xor     ecx, eax
test    cl, 20h
jz      loc_277f1232
and     eax, 20h
push    eax
push    1
push    esi
push    edi
call    sub_27817b32
test    byte ptr [esi+10h], 20h
push    esi
mov     ebx, eax
push    edi
jz      short loc_277f11c9
call    sub_27817e72
mov     eax, [edi+0c4h]
movzx   ecx, word ptr [eax+18h]
movzx   eax, word ptr [esi+18h]
sub     eax, ecx
lea     edx, [eax+ebx+1]
movzx   ebx, word ptr [edi+0b8h]
cmp     edx, ebx
jbe     short loc_277f1183
sub     edx, ebx
cmp     edx, eax
jnb     short loc_277f1178
mov     eax, edx
add     ecx, eax
push    0
push    ecx
push    edi
call    sub_27818290
mov     ebx, [ebp+arg_4]
cmp     [ebp+arg_c], 0
jz      short loc_277f1199
push    ebx
push    esi
push    0fffffe6ah
push    edi
call    sub_277f0705
or      byte ptr [esi+10h], 40h
and     ebx, 8003h
cmp     ebx, 8001h
jnz     short loc_277f11b2
push    esi
push    edi
call    sub_277f100c
push    esi
push    0fffffffch
push    dword ptr [edi]
push    800ah
call    sub_277b8949
push    1
pop     eax
jmp     loc_277f10cb
call    sub_27817f12
push    esi
push    edi
call    sub_278180c4
mov     ecx, [edi+20h]
test    ecx, ecx
jz      short loc_277f1183
movzx   eax, byte ptr [ecx+1ah]
movzx   edx, byte ptr [esi+1ah]
sub     eax, edx
test    eax, eax
jle     short loc_277f11ef
mov     ecx, [ecx]
dec     eax
jnz     short loc_277f11ea
cmp     ecx, esi
jnz     short loc_277f1183
mov     eax, [edi+8]
and     [ebp+arg_8], 0
mov     ebx, 400h
test    ebx, eax
jz      short loc_277f1210
and     ah, 0fbh
mov     [ebp+arg_8], 1
mov     [edi+8], eax
push    0
push    1
push    [ebp+arg_c]
push    esi
push    9
push    edi
call    sub_277f0e41
cmp     [ebp+arg_8], 0
jz      loc_277f1183
or      [edi+8], ebx
jmp     loc_277f1183
test    cl, 80h
jz      loc_277f1186
push    1
push    esi
push    edi
call    sub_277f0a83
jmp     loc_277f1186
push    [esp+arg_8]
call    sub_277f0835
test    eax, eax
jz      short loc_277f126b
cmp     [esp+arg_c], eax
jz      short loc_277f126b
cmp     [esp+arg_4], eax
jz      short loc_277f1265
push    eax
jmp     short loc_277f124d
push    1
pop     eax
retn    10h
xor     eax, eax
jmp     short locret_277f1268
push    ebp
mov     ebp, esp
sub     esp, 13ch
push    ebx
push    esi
lea     eax, [ebp+lpstring]
push    edi
push    eax
xor     edi, edi
push    [ebp+arg_4]
mov     [ebp+var_c], edi
mov     [ebp+lpstring1], edi
call    sub_278111b6
mov     esi, [ebp+arg_0]
test    eax, eax
jz      short loc_277f12b8
mov     eax, [esi+20h]
cmp     eax, edi
jnz     short loc_277f12b3
mov     eax, [esi+1ch]
cmp     eax, edi
jz      loc_277f13c3
mov     eax, [eax+8]
cmp     eax, edi
jz      loc_277f13c3
mov     dword_2782c300, eax
mov     ecx, [ebp+lpstring]
cmp     ecx, edi
jz      loc_277f13c3
cmp     byte ptr [ecx], 0
jz      loc_277f13c3
mov     eax, [esi+1ch]
cmp     eax, edi
jz      loc_277f13c3
cmp     [eax+8], edi
jz      loc_277f13c3
mov     edi, dword_2782c300
push    ecx
mov     [ebp+var_24], 104h
call    ds:lstrlena
mov     ebx, eax
cmp     ebx, 1
jle     short loc_277f1315
mov     eax, [ebp+lpstring]
mov     cl, [eax]
push    ecx
push    eax
call    sub_277fe607
test    eax, eax
jz      short loc_277f1315
mov     eax, [ebp+lpstring]
lea     eax, [ebx+eax-1]
mov     [ebp+lpstring1], eax
lea     eax, [ebp+var_13c]
push    edi
mov     [ebp+lpstring2], eax
call    sub_277f0835
mov     edi, eax
test    edi, edi
jnz     short loc_277f1333
mov     eax, [esi+1ch]
inc     [ebp+var_c]
mov     edi, [eax+8]
lea     eax, [ebp+var_38]
push    eax
push    1
push    edi
push    esi
call    sub_27816aad
cmp     [ebp+lpstring2], 0ffffffffh
jz      short loc_277f138e
mov     eax, [ebp+lpstring2]
shr     eax, 10h
test    ax, ax
jz      short loc_277f138e
push    ebx
push    [ebp+lpstring2]
push    [ebp+lpstring]
push    0
call    sub_27816446
test    eax, eax
jnz     short loc_277f13b4
cmp     [ebp+lpstring1], eax
jz      short loc_277f1390
push    1
push    [ebp+lpstring2]
push    [ebp+lpstring1]
push    eax
call    sub_27816446
test    eax, eax
jz      short loc_277f138e
push    dword_2782c300
push    dword ptr [esi+20h]
push    edi
push    esi
call    sub_277f1249
test    eax, eax
jnz     short loc_277f13b4
xor     eax, eax
cmp     [ebp+var_c], 2
jl      loc_277f1315
cmp     [ebp+lpstring1], eax
jz      short loc_277f13ca
push    eax
push    eax
call    sub_278111b6
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_277f126f
jmp     short loc_277f13c3
push    2
push    1
push    1
push    edi
push    9
push    esi
call    sub_277f0e41
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     dword_2782c310, eax
jnz     short loc_277f13d9
push    eax
call    ds:messagebeep
inc     dword_2782c310
jmp     short loc_277f13c3
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
mov     edi, [ebp+arg_4]
push    1
pop     ebx
lea     eax, [ebp+lparam]
push    eax
push    0fffffe64h
push    esi
mov     [ebp+var_4], ebx
mov     [ebp+var_c], di
call    sub_277b9838
push    11h
mov     [ebp+arg_4], eax
call    ds:getkeystate
test    ax, ax
jge     short loc_277f1474
lea     eax, [edi-21h]
cmp     eax, 7
ja      def_277f1425
jmp     ds:jpt_277f1425[eax*4]
push    0
push    0
push    esi
call    sub_278184c6
cmp     [ebp+arg_4], 0
jz      loc_277f164b
inc     dword ptr [esi+64h]
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    0
push    ebx
jmp     short loc_277f1430
push    2
pop     eax
push    0
push    eax
push    esi
call    sub_2781855c
jmp     short loc_277f1436
push    6
jmp     short loc_277f1454
push    3
jmp     short loc_277f1454
push    7
jmp     short loc_277f1454
xor     eax, eax
jmp     short loc_277f1455
mov     eax, ebx
jmp     short loc_277f1455
cmp     edi, 0dh
ja      short loc_277f14ab
jz      short loc_277f149c
cmp     edi, 8
jnz     def_277f1425
mov     eax, [esi+20h]
mov     [ebp+arg_4], ebx
test    eax, eax
jz      short loc_277f1436
cmp     byte ptr [eax+1ah], 0
jnz     loc_277f158a
xor     eax, eax
jmp     short loc_277f14f5
push    0
push    0fffffffch
push    esi
call    sub_277b9838
mov     [ebp+arg_4], eax
jmp     short loc_277f1436
cmp     edi, 6ah
ja      loc_277f160d
jz      loc_277f15f2
lea     eax, [edi-20h]
cmp     eax, 8
ja      def_277f1425
jmp     ds:jpt_277f14c6[eax*4]
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_277f1548
movzx   ecx, word ptr [esi+0b8h]
movzx   eax, word ptr [eax+18h]
lea     edx, [ecx-1]
cmp     eax, edx
jle     short loc_277f1548
sub     eax, ecx
inc     eax
push    eax
mov     eax, [esi+1ch]
push    dword ptr [eax+8]
call    sub_27818258
test    eax, eax
jz      loc_277f1436
push    2
push    ebx
push    ebx
push    eax
push    9
push    esi
call    sub_277f0e41
cmp     edi, 25h
jnz     loc_277f1436
mov     eax, [esi+20h]
test    eax, eax
jz      loc_277f1436
test    byte ptr [esi+9], 4
jz      loc_277f1436
push    ebx
push    eax
mov     al, [eax+10h]
and     al, 20h
neg     al
sbb     eax, eax
inc     eax
inc     eax
push    eax
push    esi
call    sub_277f102d
jmp     loc_277f1436
mov     eax, [esi+20h]
test    eax, eax
jnz     short loc_277f154c
xor     eax, eax
jmp     short loc_277f14e9
movzx   ecx, word ptr [esi+0b8h]
movzx   eax, word ptr [eax+18h]
lea     eax, [ecx+eax-1]
cmp     eax, [esi+0bch]
nop
jb      short loc_277f14e9
mov     eax, [esi+0bch]
dec     eax
jmp     loc_277f14e9
mov     eax, [esi+20h]
test    eax, eax
jz      loc_277f1436
test    byte ptr [eax+10h], 20h
jz      loc_277f148a
push    ebx
push    eax
push    ebx
jmp     short loc_277f1536
mov     eax, [eax]
jmp     loc_277f14f5
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_277f15c6
push    eax
call    sub_277f07f9
jmp     loc_277f14f5
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_277f15b4
test    byte ptr [eax+10h], 20h
jz      loc_277f1642
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_277f15c6
push    eax
call    sub_277f0835
jmp     loc_277f14f5
mov     eax, [esi+1ch]
mov     eax, [eax+8]
jmp     loc_277f14f5
test    byte ptr [esi+9], 1
jz      loc_277f1436
mov     eax, [esi+20h]
test    eax, eax
jz      loc_277f1436
push    eax
push    esi
call    sub_277f1b9d
jmp     loc_277f1436
mov     eax, [esi+20h]
test    eax, eax
jz      loc_277f1436
push    ebx
push    eax
push    esi
mov     [ebp+arg_4], ebx
call    sub_277f0c85
jmp     loc_277f1436
mov     eax, edi
sub     eax, 6bh
jz      short loc_277f1634
dec     eax
dec     eax
jz      short loc_277f1621
and     [ebp+var_4], 0
jmp     loc_277f1436
mov     eax, [esi+20h]
test    eax, eax
jz      loc_277f1436
mov     [ebp+arg_4], ebx
jmp     loc_277f1585
mov     eax, [esi+20h]
test    eax, eax
jz      loc_277f1436
mov     [ebp+arg_4], ebx
push    ebx
push    eax
push    2
jmp     loc_277f1536
mov     eax, [esi+64h]
test    eax, eax
jz      loc_277f1443
jle     loc_277f1443
mov     edi, 102h
push    ebx
push    edi
push    edi
lea     eax, [ebp+msg]
push    dword ptr [esi]
push    eax
call    ds:peekmessagea
test    eax, eax
jz      loc_277f1443
dec     dword ptr [esi+64h]
cmp     dword ptr [esi+64h], 0
jle     loc_277f1443
jmp     short loc_277f1661
push    esi
mov     esi, [esp+4+hdc]
cmp     dword ptr [esi+38h], 0
jz      short loc_277f1719
mov     cx, [esi+0a4h]
mov     eax, [esp+4+arg_4]
cmp     ax, cx
jge     short loc_277f16e9
movsx   eax, cx
mov     cx, [esi+0a8h]
cmp     ax, cx
jge     short loc_277f16f8
movsx   eax, cx
cmp     eax, 5
jnb     short loc_277f1700
push    5
pop     eax
push    esi
mov     [esi+0b0h], ax
call    sub_278166cc
push    0
push    esi
call    sub_27818051
pop     esi
retn    8
mov     eax, [esp+4+arg_4]
jmp     short loc_277f16e9
push    esi
mov     esi, [esp+4+hdc]
test    byte ptr [esi+19h], 8
jnz     short loc_277f174b
mov     ax, [esi+0a6h]
mov     cx, [esi+0a8h]
cmp     ax, cx
movsx   eax, ax
jg      short loc_277f1743
movsx   eax, cx
inc     eax
mov     [esi+0aah], ax
test    byte ptr [esi+9], 40h
jnz     short loc_277f1758
and     byte ptr [esi+0aah], 0feh
movsx   eax, word ptr [esi+0b4h]
movsx   ecx, word ptr [esi+0aah]
cdq
idiv    ecx
push    esi
mov     [esi+0b8h], ax
call    sub_278166cc
push    esi
call    sub_278183a8
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 48h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     [ebp+string], 4ah
test    byte ptr [esi+18h], 40h
jz      short loc_277f17a8
mov     eax, [esi+74h]
test    eax, eax
jz      short loc_277f17a8
push    eax
call    ds:deleteobject
and     dword ptr [esi+18h], 0ffffffbfh
xor     ebx, ebx
cmp     [ebp+h], ebx
jnz     short loc_277f17cf
lea     eax, [ebp+pvparam]
push    ebx
push    eax
push    3ch
push    1fh
call    ds:systemparametersinfoa
lea     eax, [ebp+pvparam]
push    eax
call    ds:createfontindirecta
or      dword ptr [esi+18h], 40h
mov     [ebp+h], eax
push    dword ptr [esi]
call    ds:getdc
cmp     [ebp+h], ebx
mov     ebx, ds:selectobject
mov     edi, eax
jz      loc_277f18a1
push    [ebp+h]
push    edi
call    ebx
mov     [ebp+arg_0], eax
lea     eax, [ebp+sz]
push    eax
lea     eax, [ebp+string]
push    1
push    eax
push    edi
call    ds:gettextextentpointa
mov     eax, y
mov     ecx, [ebp+sz.cy]
cmp     [ebp+arg_0], 0
lea     eax, [ecx+eax*2]
mov     [esi+0a8h], ax
jz      short loc_277f1820
push    [ebp+arg_0]
push    edi
call    ebx
push    edi
push    dword ptr [esi]
call    ds:releasedc
mov     edi, [ebp+h]
xor     ebx, ebx
cmp     [esi+7ch], ebx
mov     [esi+74h], edi
jz      short loc_277f183c
push    esi
call    sub_277f18aa
push    edi
call    sub_277bc9de
push    esi
mov     [esi+14h], eax
call    sub_27818f44
cmp     [esi+0b0h], bx
jnz     short loc_277f1875
cmp     [esi+0aah], bx
lea     eax, [esi+0aah]
jnz     short loc_277f186d
mov     cx, [esi+0a8h]
mov     [eax], cx
push    13h
push    esi
call    sub_277f16cb
push    ebx
push    esi
call    sub_27818051
push    esi
call    sub_277f171f
mov     eax, [esi+0d4h]
cmp     eax, ebx
jz      short loc_277f189a
push    1
push    dword ptr [esi+74h]
push    30h
push    eax
call    ds:sendmessagea
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
and     [ebp+arg_0], 0
jmp     loc_277f17f1
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [esi+7ch]
test    eax, eax
jz      short loc_277f18c2
push    eax
call    ds:deleteobject
lea     eax, [ebp+pv]
push    eax
push    3ch
push    dword ptr [esi+74h]
call    ds:getobjecta
lea     eax, [ebp+pv]
mov     [ebp+var_2c], 2bch
push    eax
call    ds:createfontindirecta
mov     [esi+7ch], eax
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
xor     edi, edi
sub     eax, edi
jz      short loc_277f1955
dec     eax
dec     eax
jnz     short loc_277f1938
mov     eax, [esi+0e0h]
lea     edi, [esi+0e0h]
test    eax, eax
jz      short loc_277f191d
push    eax
call    sub_27813889
and     dword ptr [esi+3ch], 0
and     dword ptr [edi], 0
mov     eax, [ebp+lp]
mov     edi, [esi+3ch]
test    eax, eax
mov     [esi+3ch], eax
jz      short loc_277f194f
lea     ecx, [esi+6ch]
push    ecx
lea     ecx, [esi+68h]
push    ecx
push    eax
call    sub_278139de
push    0
push    esi
call    sub_27818051
push    esi
call    sub_277f171f
mov     eax, edi
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
and     dword ptr [esi+68h], 0
jmp     short loc_277f1938
mov     ebx, [ebp+lp]
mov     edi, [esi+38h]
test    ebx, ebx
jz      short loc_277f19b1
lea     eax, [ebp+hdc]
push    eax
lea     eax, [ebp+arg_8]
push    eax
push    ebx
call    sub_278139de
test    eax, eax
jz      short loc_277f19b1
mov     eax, [ebp+arg_8]
mov     cx, word ptr [ebp+hdc]
add     eax, 3
mov     [esi+0a6h], cx
cmp     [esi+0b0h], ax
mov     [esi+0a4h], ax
jge     short loc_277f199c
movsx   eax, ax
push    eax
push    esi
call    sub_277f16cb
test    edi, edi
mov     [esi+38h], ebx
jnz     short loc_277f1938
test    byte ptr [esi+9], 1
jz      short loc_277f1938
push    esi
call    sub_277f24dc
jmp     short loc_277f1938
xor     eax, eax
mov     [esi+0a6h], ax
mov     [esi+0a4h], ax
mov     [esi+38h], eax
jmp     loc_277f1938
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
sub     eax, 0
jz      loc_277f1a88
mov     edx, [ebp+arg_4]
sub     eax, 4
jz      short loc_277f1a23
dec     eax
jz      short loc_277f1a18
sub     eax, 3
jz      short loc_277f1a10
dec     eax
jz      short loc_277f1a08
dec     eax
jnz     short loc_277f1a2f
mov     eax, [ebp+arg_0]
mov     ecx, [eax+0bch]
mov     eax, [eax+1ch]
dec     ecx
push    ecx
push    dword ptr [eax+8]
call    sub_27818258
pop     ebp
retn    0ch
mov     eax, [ebp+arg_0]
mov     eax, [eax+20h]
jmp     short loc_277f1a04
mov     eax, [ebp+arg_0]
mov     eax, [eax+24h]
jmp     short loc_277f1a04
mov     eax, [ebp+arg_0]
mov     eax, [eax+0c4h]
jmp     short loc_277f1a04
test    edx, edx
jz      short loc_277f1a88
cmp     edx, 0ffff0000h
jz      short loc_277f1a88
test    edx, edx
jz      short loc_277f1a71
mov     eax, [ebp+arg_8]
dec     eax
jz      short loc_277f1a80
dec     eax
jz      short loc_277f1a68
dec     eax
jz      short loc_277f1a5e
dec     eax
jz      short loc_277f1a59
dec     eax
dec     eax
jz      short loc_277f1a51
dec     eax
jnz     short loc_277f1a71
push    edx
call    sub_277f07f9
jmp     short loc_277f1a04
push    edx
call    sub_277f0835
jmp     short loc_277f1a04
mov     eax, [edx+8]
jmp     short loc_277f1a04
cmp     byte ptr [edx+1ah], 0
jz      short loc_277f1a71
mov     eax, [edx]
jmp     short loc_277f1a04
mov     eax, [edx]
mov     eax, [eax+8]
cmp     eax, edx
jnz     short loc_277f1a75
xor     eax, eax
jmp     short loc_277f1a04
mov     ecx, [eax+4]
cmp     ecx, edx
jz      short loc_277f1a04
mov     eax, ecx
jmp     short loc_277f1a75
mov     eax, [edx+4]
jmp     loc_277f1a04
mov     eax, [ebp+arg_0]
mov     eax, [eax+1ch]
mov     eax, [eax+8]
jmp     loc_277f1a04
cmp     [esp+arg_4], 0
jnz     short loc_277f1aab
mov     eax, [esp+arg_0]
movzx   eax, word ptr [eax+0b8h]
retn    8
mov     ecx, [esp+arg_0]
movzx   eax, word ptr [ecx+0b8h]
movsx   edx, word ptr [ecx+0aah]
movsx   ecx, word ptr [ecx+0b4h]
imul    edx, eax
sub     ecx, edx
jz      short locret_277f1aa8
inc     eax
jmp     short locret_277f1aa8
push    ebp
mov     ebp, esp
sub     esp, 20h
cmp     [ebp+arg_4], 0
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
movsx   edi, word ptr [esi+0b2h]
jz      short loc_277f1aee
mov     ebx, [ebp+arg_8]
test    ebx, ebx
jnz     short loc_277f1b03
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+rect.right]
mov     ebx, [ebp+rect.bottom]
mov     [ebp+arg_4], eax
mov     ax, word ptr [ebp+arg_4]
xor     edx, edx
movsx   ecx, word ptr [esi+0aah]
mov     [esi+0b2h], ax
mov     eax, ebx
div     ecx
test    byte ptr [esi+9], 20h
mov     [esi+0b4h], bx
mov     [esi+0b8h], ax
jz      short loc_277f1b3a
mov     ax, word ptr [ebp+arg_4]
mov     [esi+0b6h], ax
push    esi
call    sub_278183a8
mov     ax, [esi+0ach]
test    ax, ax
jz      short loc_277f1b71
and     [ebp+var_10.top], 0
mov     [ebp+var_10.right], edi
movsx   eax, ax
sub     edi, eax
mov     [ebp+var_10.bottom], ebx
cmp     edi, [ebp+arg_4]
mov     [ebp+var_10.left], edi
jge     short loc_277f1b71
lea     eax, [ebp+var_10]
push    1
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
cmp     dword ptr [esi+34h], 0
jz      short loc_277f1b93
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_27817617
test    eax, eax
jz      short loc_277f1b93
lea     eax, [ebp+var_10]
push    1
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
lea     eax, [ebp+var_2c]
push    edi
mov     edi, [ebp+arg_0]
push    eax
push    8
push    ebx
push    edi
mov     [ebp+var_20], 0f000h
call    sub_27816aad
mov     esi, [ebp+var_24]
mov     eax, [ebp+var_20]
push    dword ptr [edi+3ch]
shr     esi, 0ch
shr     eax, 0ch
and     esi, eax
and     esi, 0fh
call    sub_278139c8
mov     ecx, eax
mov     eax, esi
cdq
dec     ecx
mov     [ebp+var_2c], 8
idiv    ecx
lea     eax, [ebp+var_2c]
mov     [ebp+var_28], ebx
push    eax
push    edi
inc     edx
shl     edx, 0ch
mov     [ebp+var_24], edx
call    sub_277f1dea
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
test    byte ptr [esi+19h], 20h
jz      loc_277f1cfc
xor     ebx, ebx
push    ebx
push    ebx
push    ebx
push    esi
call    sub_277f3934
push    ebx
push    esi
call    sub_277f356b
test    eax, eax
jz      loc_277f1cf5
lea     eax, [ebp+hwnd]
push    eax
push    [ebp+arg_10]
push    [ebp+arg_c]
push    esi
call    sub_277f085c
cmp     [ebp+arg_4], 203h
mov     edi, eax
jnz     loc_277f1d03
push    esi
call    sub_277f33ee
test    byte ptr [ebp+hwnd], 56h
jnz     short loc_277f1cc6
mov     ecx, [esi+8]
test    cl, 2
jz      loc_277f1cf1
test    byte ptr [ebp+hwnd], 8
jz      loc_277f1cf1
mov     eax, [ebp+arg_c]
movsx   ebx, word ptr [esi+0b0h]
cdq
idiv    ebx
mov     eax, ebx
mov     [ebp+arg_14], edx
cdq
sub     eax, edx
mov     edx, [ebp+arg_14]
sar     eax, 1
sub     edx, eax
mov     eax, edx
cdq
xor     eax, edx
sub     eax, edx
cmp     eax, dword_2782a098
jg      short loc_277f1cf1
mov     eax, [ebp+arg_c]
movsx   ebx, word ptr [esi+0b0h]
cdq
idiv    ebx
shr     ecx, 2
and     ecx, 1
mov     edx, eax
movzx   eax, byte ptr [edi+1ah]
sub     eax, edx
add     eax, ecx
cmp     eax, 1
jle     short loc_277f1cc4
dec     eax
mov     edi, [edi]
dec     eax
jnz     short loc_277f1cbf
xor     ebx, ebx
mov     eax, [ebp+arg_8]
push    ebx
and     al, 2
neg     al
sbb     eax, eax
and     al, 0fdh
add     eax, 0fffffffdh
push    eax
push    esi
call    sub_277b9838
test    eax, eax
jnz     short loc_277f1cf1
test    byte ptr [esi+9], 4
jnz     short loc_277f1cf1
push    1
push    edi
push    3
push    esi
call    sub_277f102d
and     dword ptr [esi+18h], 0ffffffdfh
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    18h
xor     ebx, ebx
jmp     loc_277f1c21
mov     eax, [ebp+hwnd]
cmp     eax, 10h
jnz     short loc_277f1d36
push    ebx
push    0fffffffeh
push    esi
call    sub_277b9838
test    eax, eax
jnz     short loc_277f1cf5
test    byte ptr [ebp+arg_14], 1
push    1
push    edi
jz      short loc_277f1d32
test    byte ptr [ebp+arg_14], 2
setnz   al
inc     eax
push    eax
push    esi
call    sub_277f102d
jmp     short loc_277f1cf5
push    3
jmp     short loc_277f1d2a
test    al, 46h
jnz     short loc_277f1d4f
test    byte ptr [esi+9], 10h
jz      short loc_277f1d44
test    al, 28h
jnz     short loc_277f1d4f
push    ebx
push    0fffffffeh
push    esi
call    sub_277b9838
jmp     short loc_277f1cf5
cmp     eax, 40h
jnz     short loc_277f1d63
test    byte ptr [esi+9], 1
jz      short loc_277f1d63
push    edi
push    esi
call    sub_277f1b9d
jmp     short loc_277f1cf5
xor     eax, eax
cmp     edi, [esi+20h]
mov     ebx, [esi+24h]
setz    al
mov     [ebp+arg_4], eax
xor     eax, eax
cmp     [ebp+arg_4], eax
jnz     short loc_277f1d8d
cmp     word ptr [edi+18h], 0ffffh
jz      short loc_277f1d8d
push    1
push    eax
push    eax
push    edi
push    8
push    esi
call    sub_277f0e41
test    byte ptr [ebp+arg_14], 1
jnz     loc_277f1cf5
test    byte ptr [esi+8], 10h
jnz     loc_277f1cf5
test    byte ptr [esi+19h], 20h
jnz     loc_277f1cf5
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_4]
push    [ebp+hwnd]
push    ebx
push    edi
push    esi
call    sub_277f38bb
jmp     loc_277f1cf5
mov     eax, [esp+arg_4]
test    eax, eax
jz      short loc_277f1de6
mov     ecx, [eax+4]
test    ecx, ecx
jz      short loc_277f1de6
push    eax
push    dword ptr [eax]
push    ecx
push    [esp+0ch+arg_0]
call    sub_27816aad
push    1
pop     eax
retn    8
xor     eax, eax
jmp     short locret_277f1de3
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
push    1
xor     edi, edi
pop     ebx
cmp     esi, edi
mov     [ebp+flags], ebx
mov     [ebp+var_10], edi
mov     [ebp+var_8], edi
mov     [ebp+var_14], edi
mov     [ebp+var_18], edi
mov     [ebp+var_c], edi
jz      loc_277f204f
mov     ecx, [esi+4]
cmp     ecx, edi
jz      loc_277f204f
test    [esi], bl
jz      short loc_277f1e51
mov     eax, [esi+10h]
mov     [ebp+flags], 5
cmp     eax, edi
mov     [ebp+var_8], ebx
jnz     loc_277f2023
add     ecx, 0ch
push    0ffffffffh
push    ecx
call    sub_2781617a
mov     eax, [esi+4]
mov     [ebp+var_c], ebx
mov     [ebp+var_14], ebx
mov     [eax+16h], di
test    byte ptr [esi], 4
jz      short loc_277f1e62
mov     eax, [esi+4]
mov     ecx, [esi+24h]
mov     [ebp+var_8], ebx
mov     [eax+1ch], ecx
test    byte ptr [esi], 2
mov     edi, [ebp+arg_0]
jz      short loc_277f1e9c
mov     eax, [esi+4]
cmp     word ptr [eax+12h], 0ffffh
jz      short loc_277f1e91
mov     eax, [edi+38h]
mov     [ebp+var_8], ebx
test    eax, eax
mov     [ebp+var_10], ebx
jz      short loc_277f1e91
push    eax
call    sub_27813b52
cmp     eax, 0ffffffffh
jnz     short loc_277f1e91
or      [ebp+flags], 4
mov     eax, [esi+4]
mov     cx, [esi+18h]
mov     [eax+12h], cx
test    byte ptr [esi], 20h
jz      short loc_277f1eb7
mov     eax, [esi+4]
cmp     word ptr [eax+14h], 0ffffh
jz      short loc_277f1eaf
mov     [ebp+var_8], ebx
mov     cx, [esi+1ch]
mov     [eax+14h], cx
test    byte ptr [esi], 40h
jz      short loc_277f1efb
mov     eax, [esi+4]
cmp     byte ptr [eax+1bh], 3
jz      short loc_277f1ec8
mov     [ebp+var_8], ebx
mov     ecx, [esi+20h]
cmp     ecx, 0ffffffffh
jnz     loc_277f2041
mov     byte ptr [eax+1bh], 3
cmp     dword ptr [esi+20h], 0ffffffffh
jnz     short loc_277f1efb
mov     eax, [esi+4]
cmp     dword ptr [eax+8], 0
jnz     short loc_277f1efb
and     word ptr [eax+10h], 0ffbfh
mov     eax, [esi+4]
cmp     dword ptr [eax], 0
jz      short loc_277f1efb
and     word ptr [eax+10h], 0ffdfh
test    byte ptr [esi], 80h
jz      short loc_277f1f09
mov     eax, [esi+4]
mov     ecx, [esi+28h]
mov     [eax+20h], ecx
test    byte ptr [esi], 8
jz      short loc_277f1f72
mov     eax, [esi+4]
mov     ebx, [esi+8]
mov     cx, [eax+10h]
movzx   edx, cx
xor     ebx, edx
and     ebx, [esi+0ch]
jz      short loc_277f1f6f
mov     edx, ebx
push    1
xor     edx, ecx
mov     [eax+10h], dx
mov     ecx, [esi+4]
pop     eax
test    byte ptr [ecx+10h], 10h
mov     [ebp+var_8], eax
mov     [ebp+var_10], eax
jz      short loc_277f1f4b
cmp     dword ptr [edi+7ch], 0
jnz     short loc_277f1f4b
push    edi
call    sub_277f18aa
push    1
pop     eax
test    bl, 10h
jz      short loc_277f1f5f
mov     ecx, [esi+4]
or      [ebp+flags], 4
mov     [ebp+var_c], eax
and     word ptr [ecx+16h], 0
test    bh, 0f0h
jz      short loc_277f1f68
or      [ebp+flags], 4
shr     ebx, 1
and     ebx, eax
mov     [ebp+var_18], ebx
push    1
pop     ebx
cmp     [ebp+var_c], 0
jz      short loc_277f1f8d
push    dword ptr [esi+4]
call    sub_27817d53
test    eax, eax
jz      short loc_277f1f8d
push    dword ptr [esi+4]
push    edi
call    sub_27818051
cmp     [ebp+var_8], 0
jz      loc_277f201a
mov     eax, [edi+90h]
cmp     eax, [esi+4]
jz      short loc_277f1fca
cmp     [ebp+var_10], 0
jz      short loc_277f1fbe
mov     eax, [edi+38h]
test    eax, eax
jz      short loc_277f1fbe
push    eax
call    sub_27813b52
cmp     eax, 0ffffffffh
jnz     short loc_277f1fbe
or      [ebp+flags], 4
push    [ebp+flags]
push    dword ptr [esi+4]
push    edi
call    sub_277f0a83
cmp     [ebp+var_8], 0
jz      short loc_277f201a
cmp     [ebp+var_14], 0
jz      short loc_277f1fe7
push    dword ptr [esi+4]
push    0fffffffch
push    dword ptr [edi]
push    800ch
call    sub_277b8949
cmp     [ebp+var_18], 0
jz      short loc_277f201a
push    dword ptr [esi+4]
push    0fffffffch
push    dword ptr [edi]
push    8005h
call    sub_277b8949
mov     esi, [esi+4]
push    esi
push    0fffffffch
mov     al, [esi+10h]
push    dword ptr [edi]
and     al, 2
neg     al
sbb     eax, eax
add     eax, 8008h
push    eax
call    sub_277b8949
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
leave
retn    8
add     ecx, 0ch
push    eax
push    ecx
call    sub_2781617a
test    eax, eax
jnz     loc_277f1e44
mov     eax, [esi+4]
or      dword ptr [eax+0ch], 0ffffffffh
jmp     loc_277f1e44
test    ecx, ecx
setz    cl
inc     ecx
mov     [eax+1bh], cl
jmp     loc_277f1ed8
xor     eax, eax
jmp     short loc_277f201c
push    esi
mov     esi, [esp+4+arg_4]
test    esi, esi
jnz     short loc_277f2062
xor     eax, eax
pop     esi
retn    8
lea     eax, [esi+8]
push    eax
push    dword ptr [esi+4]
push    dword ptr [esi]
push    [esp+10h+arg_0]
call    sub_277f085c
mov     [esi+0ch], eax
jmp     short loc_277f205e
push    ebx
mov     ebx, [esp+4+arg_0]
push    esi
mov     esi, [esp+8+arg_8]
push    edi
mov     edi, [esp+0ch+arg_4]
push    1
push    esi
push    edi
push    ebx
call    sub_277f0b01
test    eax, eax
jz      short loc_277f20bf
mov     eax, dword_2782a06c
sub     [esi], eax
mov     eax, y
sub     [esi+4], eax
movzx   eax, word ptr [edi+16h]
movsx   ecx, word ptr [ebx+0b2h]
add     eax, [esi]
cmp     eax, ecx
jle     short loc_277f20bf
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    0ch
xor     eax, eax
jmp     short loc_277f20b9
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [esi+30h]
test    eax, eax
jz      loc_277f215c
test    byte ptr [esi+19h], 4
jz      short loc_277f215c
lea     ecx, [ebp+var_3c]
mov     [ebp+var_30], 10h
push    ecx
push    8
push    eax
push    esi
call    sub_27816aad
test    [ebp+var_34], 10h
jz      short loc_277f2157
mov     eax, [esi+7ch]
push    0
push    eax
push    30h
push    dword ptr [esi+0d4h]
call    ds:sendmessagea
lea     eax, [ebp+point]
push    1
push    eax
push    dword ptr [esi+30h]
push    esi
call    sub_277f0b01
lea     eax, [ebp+point]
push    eax
push    dword ptr [esi]
call    ds:clienttoscreen
mov     eax, [ebp+point.y]
push    15h
sub     eax, y
push    0
push    0
push    eax
mov     eax, [ebp+point.x]
sub     eax, w
push    eax
push    0
push    dword ptr [esi+0d4h]
call    ds:setwindowpos
push    1
pop     eax
pop     esi
leave
retn    4
mov     eax, [esi+74h]
jmp     short loc_277f20fb
xor     eax, eax
jmp     short loc_277f2152
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+arg_4]
cmp     [esi+30h], edi
jz      short loc_277f21a9
push    0
push    dword ptr [esi+0d4h]
call    ds:showwindow
push    dword ptr [esi+0d4h]
call    ds:updatewindow
push    0
push    0
push    41dh
mov     [esi+30h], edi
push    dword ptr [esi+0d4h]
call    ds:sendmessagea
push    1
pop     eax
pop     edi
pop     esi
retn    8
xor     eax, eax
jmp     short loc_277f21a4
push    ebp
mov     ebp, esp
sub     esp, 14h
push    esi
lea     eax, [ebp+point]
push    edi
push    eax
call    ds:getcursorpos
mov     esi, [ebp+arg_0]
lea     eax, [ebp+point]
push    eax
push    dword ptr [esi]
call    ds:screentoclient
lea     eax, [ebp+var_4]
push    eax
push    [ebp+point.y]
push    [ebp+point.x]
push    esi
call    sub_277f085c
mov     edi, [ebp+arg_4]
test    edi, edi
jz      short loc_277f21ec
lea     esi, [ebp+point]
movsd
movsd
movsd
movsd
test    [ebp+var_4], 46h
jnz     short loc_277f21f4
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+var_10]
push    edi
push    eax
push    esi
call    sub_277f21ad
test    byte ptr [esi+8], 80h
mov     edi, eax
jnz     short loc_277f222e
lea     eax, [ebp+var_10]
push    eax
push    edi
push    esi
call    sub_277f2079
test    eax, eax
jnz     short loc_277f222e
test    byte ptr [esi+9], 8
jnz     short loc_277f222e
xor     edi, edi
push    edi
push    esi
call    sub_277f2160
pop     edi
pop     esi
leave
retn    4
mov     eax, [esp+arg_0]
cmp     dword ptr [eax+0d4h], 0
jz      short loc_277f2257
test    byte ptr [eax+18h], 10h
jz      short loc_277f2257
push    eax
call    sub_277f21fa
retn    4
push    1
pop     eax
jmp     short locret_277f2254
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, ds:invalidaterect
cmp     dword ptr [esi+34h], 0
jz      short loc_277f228b
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_27817617
test    eax, eax
jz      short loc_277f228b
lea     eax, [ebp+rect]
push    1
push    eax
push    dword ptr [esi]
call    edi
mov     ecx, [esi+18h]
xor     eax, eax
cmp     [ebp+arg_8], eax
setnz   al
and     eax, 1
and     ch, 0efh
shl     eax, 0ch
or      eax, ecx
mov     [esi+18h], eax
mov     eax, [ebp+arg_4]
test    eax, eax
mov     [esi+34h], eax
jz      short loc_277f22c6
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_27817617
test    eax, eax
jz      short loc_277f22c6
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [esi]
call    edi
push    1
pop     eax
pop     edi
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 41ch
lea     eax, [ebp+string]
and     [ebp+string], 0
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_8], eax
push    esi
mov     eax, [eax+1ch]
mov     esi, [ebp+arg_0]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffe63h
push    esi
mov     [ebp+var_c], 400h
call    sub_277b9838
push    12ch
push    0
push    418h
push    dword ptr [esi+0d4h]
call    ds:sendmessagea
lea     eax, [ebp+string]
add     esi, 0dch
push    eax
push    esi
call    sub_2781617a
mov     eax, [esi]
mov     ecx, [ebp+arg_4]
test    eax, eax
mov     [ecx+0ch], eax
jz      short loc_277f2352
cmp     byte ptr [eax], 0
jz      short loc_277f2352
push    1
pop     eax
pop     esi
leave
retn    0ch
xor     eax, eax
jmp     short loc_277f234d
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+9], 8
jz      short loc_277f2393
push    0
push    esi
call    sub_277f21ad
mov     edi, eax
test    edi, edi
jz      short loc_277f2393
push    edi
push    ebx
push    esi
call    sub_277f22cf
test    eax, eax
jz      short loc_277f2393
and     byte ptr [esi+19h], 0fbh
mov     [esi+30h], edi
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+30h]
test    eax, eax
mov     [ebp+var_38], eax
jnz     short loc_277f23bb
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_277f21ad
mov     edi, eax
lea     eax, [ebp+var_10]
push    eax
push    edi
push    esi
call    sub_277f2079
test    eax, eax
jz      short loc_277f238c
mov     [ebp+var_38], edi
or      byte ptr [esi+19h], 4
lea     eax, [ebp+var_3c]
add     ebx, 10h
push    eax
push    esi
mov     [ebp+var_3c], 9
mov     [ebp+var_2c], ebx
mov     [ebp+var_30], 0ah
mov     [ebp+var_28], 50h
call    sub_277f1dc4
jmp     short loc_277f238c
mov     eax, [esp+arg_4]
push    esi
sub     eax, 2ah
jz      short loc_277f241f
dec     eax
jnz     short loc_277f2419
mov     esi, [esp+4+hwnd]
push    2bh
push    dword ptr [esi]
call    ds:killtimer
test    byte ptr [esi+18h], 20h
jz      short loc_277f2419
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_277f2415
push    eax
push    esi
call    sub_278180c4
and     dword ptr [esi+18h], 0ffffffdfh
xor     eax, eax
pop     esi
retn    8
mov     esi, [esp+4+hwnd]
push    2ah
push    dword ptr [esi]
call    ds:killtimer
test    byte ptr [esi+18h], 8
jz      short loc_277f2419
push    0
push    0
push    dword ptr [esi+20h]
push    esi
call    sub_277f340b
test    eax, eax
jnz     short loc_277f244b
push    eax
push    esi
call    sub_277f356b
and     dword ptr [esi+18h], 0fffffff7h
jmp     short loc_277f2419
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
test    esi, esi
jz      short loc_277f24cb
mov     ecx, [esi+0cch]
cmp     [ebp+hwnd], ecx
jnz     short loc_277f24cb
mov     eax, [ebp+arg_c]
sub     eax, 28h
jz      short loc_277f24d6
dec     eax
jz      short loc_277f24d0
sub     eax, 1d7h
jz      short loc_277f24bf
sub     eax, 200h
jnz     short loc_277f2491
push    1
push    0fffffff4h
push    ecx
call    ds:setwindowlonga
push    esi
call    sub_277f338f
push    [ebp+hwnd]
call    ds:iswindow
test    eax, eax
jz      short loc_277f24cb
movzx   eax, word ptr [ebp+arg_c]
movzx   ecx, [ebp+arg_4]
push    [ebp+hwnd]
shl     eax, 10h
or      eax, ecx
push    eax
push    111h
push    dword ptr [esi+4]
call    ds:sendmessagea
jmp     short loc_277f24cb
push    0
push    esi
call    sub_277f356b
test    eax, eax
jnz     short loc_277f2491
pop     esi
pop     ebp
retn    10h
and     byte ptr [esi+18h], 7fh
jmp     short loc_277f2491
or      byte ptr [esi+18h], 80h
jmp     short loc_277f2491
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    esi
mov     esi, [ebp+hdc]
push    edi
push    1
push    dword ptr [esi+38h]
call    sub_277faa8d
mov     edi, eax
mov     eax, [esi+38h]
test    eax, eax
jz      short loc_277f2507
push    eax
call    sub_27813b52
push    eax
push    edi
call    sub_27813ac4
push    2
push    edi
push    esi
call    sub_277f18ea
lea     eax, [ebp+var_2c]
mov     [esi+0e0h], edi
push    eax
mov     [ebp+var_2c], 8
push    dword ptr [esi+1ch]
mov     [ebp+var_24], 1000h
mov     [ebp+var_20], 0f000h
push    esi
call    sub_277f0c16
pop     edi
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 1ch
cmp     [ebp+arg_4], 0fffffff0h
push    ebx
push    esi
push    edi
jnz     loc_277f2656
mov     esi, [ebp+hdc]
xor     edi, edi
push    edi
push    esi
mov     eax, [esi+8]
mov     [ebp+arg_4], eax
and     al, 0bfh
mov     [esi+8], eax
call    sub_277f356b
mov     eax, [ebp+arg_8]
mov     ebx, [esi+8]
mov     eax, [eax+4]
xor     ebx, eax
mov     [esi+8], eax
test    bl, 7
jz      short loc_277f2581
push    esi
call    sub_278166cc
mov     eax, 100h
test    eax, ebx
jz      short loc_277f2595
test    [esi+8], eax
jz      short loc_277f2595
push    esi
call    sub_277f24dc
test    bl, 80h
jz      short loc_277f25bb
test    byte ptr [esi+8], 80h
jz      loc_277f264b
push    dword ptr [esi+0d4h]
lea     edi, [esi+0d4h]
call    ds:destroywindow
and     dword ptr [edi], 0
xor     edi, edi
mov     eax, 200h
test    eax, ebx
jz      short loc_277f25dc
test    [esi+8], eax
jnz     short loc_277f25dc
mov     eax, [esi+2ch]
cmp     eax, edi
jz      short loc_277f25dc
push    5
push    eax
push    esi
call    sub_277f0a83
mov     [esi+2ch], edi
mov     eax, [ebp+arg_4]
mov     ebx, 2000h
mov     ecx, eax
and     ecx, [esi+8]
test    ebx, ecx
jnz     short loc_277f263e
push    edi
push    edi
push    esi
call    sub_277f1ace
test    [esi+8], ebx
jz      short loc_277f263b
test    byte ptr [esi+18h], 2
mov     ebx, ds:setscrollinfo
mov     [ebp+var_1c.fmask], 3
mov     [ebp+var_1c.nmin], edi
mov     [ebp+var_1c.nmax], edi
mov     [ebp+var_1c.npage], edi
jz      short loc_277f2626
lea     eax, [ebp+var_1c]
push    1
push    eax
push    1
push    dword ptr [esi]
call    ebx
and     dword ptr [esi+18h], 0fffffffdh
test    byte ptr [esi+18h], 1
jz      short loc_277f263b
lea     eax, [ebp+var_1c]
push    1
push    eax
push    edi
push    dword ptr [esi]
call    ebx
and     dword ptr [esi+18h], 0fffffffeh
mov     eax, [ebp+arg_4]
and     eax, 40h
or      [esi+8], eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    esi
call    sub_2781913f
jmp     loc_277f25bb
cmp     [ebp+arg_4], 0ffffffech
jnz     short loc_277f2644
mov     ecx, [ebp+hdc]
mov     edx, [ebp+arg_8]
mov     eax, [ecx+8]
mov     edx, [edx+4]
shr     edx, 7
mov     esi, eax
and     edx, 40h
and     esi, 40h
xor     edx, esi
jz      short loc_277f2644
xor     eax, 40h
push    0
push    ecx
mov     [ecx+8], eax
call    sub_277f356b
jmp     short loc_277f2644
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
shr     eax, 10h
test    byte ptr [esi+19h], 20h
push    edi
movsx   edi, word ptr [ebp+arg_4]
movsx   ebx, ax
jz      short loc_277f26c4
push    ebx
lea     eax, [esi+50h]
push    edi
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_277f26bd
push    ebx
push    edi
push    1
push    esi
call    sub_277f3934
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
test    byte ptr [esi+9], 2
jz      short loc_277f270a
lea     eax, [ebp+arg_0]
push    eax
push    ebx
push    edi
push    esi
call    sub_277f085c
test    byte ptr [esi+9], 10h
mov     edi, eax
jnz     short loc_277f26e6
test    byte ptr [ebp+arg_0], 46h
jnz     short loc_277f26e6
xor     edi, edi
mov     eax, [esi+2ch]
cmp     edi, eax
jz      short loc_277f270a
push    1
push    eax
push    esi
call    sub_277f0a83
push    1
push    edi
push    esi
call    sub_277f0a83
push    dword ptr [esi]
mov     [esi+2ch], edi
call    ds:updatewindow
cmp     dword ptr [esi+0d4h], 0
jz      short loc_277f26bd
push    esi
call    sub_277f223b
test    eax, eax
jnz     short loc_277f26bd
push    [ebp+arg_4]
push    [ebp+arg_8]
push    200h
push    dword ptr [esi]
push    dword ptr [esi+0d4h]
call    sub_27810fcc
jmp     short loc_277f26bd
cmp     [esp+arg_4], 0
push    esi
jz      short loc_277f274d
cmp     [esp+4+arg_4], 2ah
jz      short loc_277f274d
cmp     [esp+4+arg_4], 22h
jnz     short loc_277f276f
mov     esi, [esp+4+hdc]
test    byte ptr [esi+18h], 40h
jz      short loc_277f2761
push    1
push    0
push    esi
call    sub_277f1780
test    byte ptr [esi+19h], 1
jnz     short loc_277f276f
push    0
push    esi
call    sub_277f16cb
pop     esi
retn    8
push    esi
push    edi
mov     edi, [esp+8+hdc]
cmp     dword ptr [edi+9ch], 0ffffffffh
lea     esi, [edi+9ch]
jz      short loc_277f2791
push    dword ptr [edi+70h]
call    ds:deleteobject
push    edi
call    sub_278166cc
mov     eax, [esp+8+color]
cmp     eax, 0ffffffffh
mov     [esi], eax
jz      short loc_277f27ac
push    eax
call    ds:createsolidbrush
mov     [edi+70h], eax
push    1
push    0
push    dword ptr [edi]
call    ds:invalidaterect
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
push    edi
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     ebx, [ebp+msg]
mov     esi, eax
test    esi, esi
mov     edi, 200h
jz      loc_277f286a
cmp     ebx, edi
jb      short loc_277f281c
cmp     ebx, 209h
ja      short loc_277f281c
test    [esi+8], edi
jz      short loc_277f281c
mov     eax, [esi+18h]
test    edi, eax
jnz     short loc_277f281c
or      eax, edi
mov     [ebp+rect.left], 10h
mov     [esi+18h], eax
mov     eax, [esi]
mov     [ebp+rect.right], eax
lea     eax, [ebp+rect]
push    eax
mov     [ebp+rect.top], 2
call    sub_27812acf
cmp     ebx, 0fh
ja      loc_277f2965
jz      loc_277f2df3
mov     eax, ebx
dec     eax
jz      loc_277f2953
dec     eax
jz      loc_277f2948
sub     eax, 3
jz      loc_277f292e
dec     eax
dec     eax
jz      loc_277f28dc
dec     eax
jz      short loc_277f28a1
dec     eax
dec     eax
jz      short loc_277f2889
dec     eax
jnz     def_277f2e2b
push    [ebp+wparam]
push    esi
call    sub_277f0bc8
xor     eax, eax
jmp     loc_277f295e
cmp     ebx, 400h
jb      short loc_277f281c
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_277f295e
cmp     [ebp+wparam], 0
jz      short loc_277f289b
and     byte ptr [esi+0bh], 0f7h
push    esi
call    sub_278166cc
jmp     short loc_277f2863
or      byte ptr [esi+0bh], 8
jmp     short loc_277f2893
and     dword_2782c3b8, 0
test    esi, esi
jz      short loc_277f2863
mov     eax, [esi+20h]
and     dword ptr [esi+18h], 0fffffffbh
test    eax, eax
jz      short loc_277f28c8
push    1
push    eax
push    esi
call    sub_277f0a83
push    dword ptr [esi]
call    ds:updatewindow
xor     edi, edi
push    edi
push    0fffffff8h
push    esi
call    sub_277b9838
push    edi
push    edi
call    sub_278111b6
jmp     short loc_277f2863
test    esi, esi
jz      short loc_277f2863
mov     eax, [esi+20h]
or      dword ptr [esi+18h], 4
test    eax, eax
jz      short loc_277f2915
push    1
push    eax
push    esi
call    sub_277f0a83
push    dword ptr [esi+20h]
push    0fffffffch
push    [ebp+hwnd]
push    8005h
call    sub_277b8949
push    0
push    0fffffff9h
push    esi
call    sub_277b9838
jmp     loc_277f2863
push    1000h
push    1
push    1
push    dword ptr [esi+0c4h]
push    9
push    esi
call    sub_277f0e41
jmp     short loc_277f2906
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277f1ace
jmp     loc_277f2863
push    esi
call    sub_27818f7b
jmp     loc_277f2863
push    [ebp+lparam]
push    [ebp+hwnd]
call    sub_27819073
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     ebx, 1ah
ja      short loc_277f29bd
jz      short loc_277f29af
mov     eax, ebx
sub     eax, 14h
jz      short loc_277f2984
dec     eax
jnz     def_277f2e2b
call    sub_277b344b
jmp     loc_277f2893
push    [ebp+wparam]
push    esi
call    sub_2781653b
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    ds:getclipbox
push    dword ptr [esi+70h]
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    ds:fillrect
push    1
pop     eax
jmp     short loc_277f295e
push    [ebp+wparam]
push    esi
call    sub_277f2737
jmp     loc_277f2863
cmp     ebx, 30h
ja      loc_277f2a48
jz      short loc_277f2a37
cmp     ebx, 20h
jnz     def_277f2e2b
mov     eax, [ebp+lparam]
xor     ebx, ebx
push    ebx
push    esi
mov     [ebp+rect.bottom], eax
call    sub_277f21ad
cmp     eax, ebx
jz      short loc_277f2a2f
mov     [ebp+var_1c], eax
mov     eax, [eax+1ch]
mov     [ebp+rect.left], eax
lea     eax, [ebp+var_28]
push    eax
push    0ffffffefh
push    esi
call    sub_277b9838
test    eax, eax
jnz     loc_277f2863
test    [esi+8], edi
jz      loc_277f2872
cmp     [esi+2ch], ebx
jz      loc_277f2872
cmp     [esi+40h], ebx
jnz     short loc_277f2a21
push    ebx
call    sub_278192aa
mov     [esi+40h], eax
push    dword ptr [esi+40h]
call    ds:setcursor
jmp     loc_277f29aa
mov     [ebp+var_1c], ebx
mov     [ebp+rect.left], ebx
jmp     short loc_277f29ed
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f1780
jmp     loc_277f2863
cmp     ebx, 4eh
ja      short loc_277f2abb
jz      short loc_277f2a60
cmp     ebx, 31h
jnz     def_277f2e2b
mov     eax, [esi+74h]
jmp     loc_277f295e
mov     eax, [ebp+lparam]
mov     ecx, [eax+8]
cmp     ecx, 0fffffc7ch
ja      short loc_277f2a82
cmp     ecx, 0fffffc4ah
jb      short loc_277f2a82
push    eax
push    esi
call    sub_277f36de
jmp     loc_277f295e
mov     edx, [eax]
cmp     edx, [esi+0d4h]
jnz     loc_277f2863
cmp     ecx, 0fffffdf7h
jz      short loc_277f2ab0
cmp     ecx, 0fffffdf8h
jnz     loc_277f2863
push    eax
push    esi
call    sub_277f2356
jmp     loc_277f2863
push    esi
call    sub_277f20c3
jmp     loc_277f295e
cmp     ebx, 7dh
ja      short loc_277f2aea
jz      short loc_277f2ad9
cmp     ebx, 55h
jnz     def_277f2e2b
push    [ebp+lparam]
push    esi
call    sub_278112e5
jmp     loc_277f295e
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f253e
jmp     loc_277f2863
mov     eax, 100h
cmp     ebx, eax
ja      short loc_277f2b27
jz      short loc_277f2b05
cmp     ebx, 87h
jnz     short def_277f2e2b
add     eax, 0ffffff81h
jmp     loc_277f295e
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f13e1
test    eax, eax
jz      loc_277f2872
push    0
push    0
call    sub_278111b6
jmp     loc_277f2872
mov     eax, 111h
cmp     ebx, eax
ja      loc_277f2c9e
jz      loc_277f2c84
mov     eax, ebx
sub     eax, 102h
jz      loc_277f2c5f
dec     eax
dec     eax
jnz     short def_277f2e2b
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f13e1
cmp     ebx, dword_2782a054
jnz     loc_277f2872
test    esi, esi
jz      loc_277f2872
cmp     dword_27829f44, 0
jnz     loc_277f3196
cmp     dword_2782a854, 0
jnz     loc_277f3196
mov     eax, [ebp+wparam]
mov     edi, ds:getkeystate
push    10h
mov     [ebp+var_8], eax
call    edi
xor     ebx, ebx
test    ax, ax
setl    bl
test    ebx, ebx
jnz     loc_277f318d
push    11h
call    edi
test    ax, ax
jl      loc_277f318d
mov     [ebp+var_4], 1
mov     eax, dword_2782c3b8
push    78h
sub     eax, [ebp+var_8]
pop     ecx
mov     dword_2782c3b8, eax
cdq
idiv    ecx
mov     edi, eax
test    edi, edi
jz      short loc_277f2be0
mov     eax, dword_2782c3b8
cdq
idiv    ecx
mov     dword_2782c3b8, edx
cmp     [ebp+var_4], 0
jz      loc_277f31ff
cmp     dword_27829ff0, 0
jbe     loc_277f29aa
test    edi, edi
jz      loc_277f29aa
push    0fffffff0h
push    [ebp+hwnd]
call    ds:getwindowlonga
test    eax, 300000h
jz      loc_277f29aa
test    eax, 200000h
jz      loc_277f31b8
movzx   eax, word ptr [esi+0b8h]
dec     eax
cmp     eax, 1
jge     short loc_277f2c30
push    1
pop     eax
mov     ecx, dword_27829ff0
cmp     ecx, eax
jb      short loc_277f2c3c
mov     ecx, eax
mov     eax, [esi+0c4h]
imul    edi, ecx
movzx   eax, word ptr [eax+18h]
add     eax, edi
test    eax, eax
jge     short loc_277f2c51
xor     eax, eax
push    eax
push    4
push    esi
call    sub_2781855c
jmp     loc_277f29aa
mov     eax, [esi+64h]
test    eax, eax
jz      short loc_277f2c6f
dec     eax
mov     [esi+64h], eax
jmp     loc_277f29aa
movsx   eax, word ptr [ebp+lparam]
push    eax
movsx   eax, byte ptr [ebp+wparam]
push    eax
push    esi
call    sub_277f126f
jmp     loc_277f2863
mov     eax, [ebp+wparam]
shr     eax, 10h
push    eax
movzx   eax, word ptr [ebp+wparam]
push    [ebp+lparam]
push    eax
push    esi
call    sub_277f2451
jmp     loc_277f2863
cmp     ebx, edi
ja      short loc_277f2d04
jz      short loc_277f2cf3
mov     eax, ebx
sub     eax, 113h
jz      short loc_277f2ce5
dec     eax
jz      short loc_277f2cce
dec     eax
jnz     def_277f2e2b
mov     eax, [ebp+wparam]
shr     eax, 10h
push    eax
movzx   eax, word ptr [ebp+wparam]
push    eax
push    esi
call    sub_2781855c
jmp     loc_277f2863
mov     eax, [ebp+wparam]
shr     eax, 10h
push    eax
movzx   eax, word ptr [ebp+wparam]
push    eax
push    esi
call    sub_278184c6
jmp     loc_277f2863
push    [ebp+wparam]
push    esi
call    sub_277f23e6
jmp     loc_277f2863
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_277f2687
jmp     loc_277f2863
mov     eax, 215h
cmp     ebx, eax
ja      loc_277f2d9b
jz      short loc_277f2d81
mov     eax, ebx
sub     eax, 201h
jz      short loc_277f2d61
dec     eax
jz      short loc_277f2d56
dec     eax
jz      short loc_277f2d61
dec     eax
jz      short loc_277f2d3c
sub     eax, 3
jnz     def_277f2e2b
push    [ebp+hwnd]
call    ds:setfocus
jmp     loc_277f2872
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277f09ca
jmp     loc_277f2863
call    ds:releasecapture
jmp     loc_277f2863
mov     eax, [ebp+lparam]
push    0
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    [ebp+wparam]
push    ebx
push    esi
call    sub_277f1c03
jmp     loc_277f2863
test    byte ptr [esi+19h], 20h
jz      loc_277f2863
xor     eax, eax
push    eax
push    eax
push    eax
push    esi
call    sub_277f3934
jmp     loc_277f2863
mov     eax, 318h
cmp     ebx, eax
ja      short loc_277f2e09
jz      short loc_277f2df3
cmp     ebx, 2a3h
jnz     def_277f2e2b
and     byte ptr [esi+19h], 0fdh
push    1
push    dword ptr [esi+2ch]
push    esi
call    sub_277f0a83
mov     ecx, [esi+0d4h]
xor     eax, eax
cmp     ecx, eax
mov     [esi+2ch], eax
jz      loc_277f2863
cmp     [esi+30h], eax
jz      loc_277f2863
push    eax
push    eax
push    41ch
push    ecx
mov     [esi+30h], eax
call    ds:sendmessagea
jmp     loc_277f2863
test    esi, esi
jz      loc_277f2863
push    [ebp+wparam]
push    esi
call    sub_2781780a
jmp     loc_277f2863
mov     eax, 2005h
cmp     ebx, eax
ja      loc_277f316a
jz      loc_277f315c
lea     eax, [ebx-1100h]
cmp     eax, 26h
ja      def_277f2e2b
jmp     ds:jpt_277f2e2b[eax*4]
push    [ebp+lparam]
mov     edi, [esi+9ch]
push    esi
call    sub_277f2773
mov     eax, edi
jmp     loc_277f295e
mov     ecx, [ebp+lparam]
mov     edi, [esi+98h]
push    0
lea     eax, [esi+98h]
push    0
push    dword ptr [esi]
mov     [eax], ecx
call    ds:invalidaterect
jmp     short loc_277f2e41
mov     eax, [esi+9ch]
jmp     loc_277f295e
mov     eax, [esi+98h]
jmp     loc_277f295e
mov     eax, [esi+0c8h]
jmp     loc_277f295e
lea     ecx, [esi+0c8h]
mov     eax, [ecx]
mov     edx, [ebp+wparam]
mov     [ecx], edx
jmp     loc_277f295e
cmp     [ebp+lparam], 0
jz      loc_277f2863
push    [ebp+lparam]
push    esi
call    sub_27818bd5
jmp     loc_277f295e
push    0
push    esi
call    sub_277f356b
push    0
push    [ebp+lparam]
push    esi
call    sub_27818adb
jmp     loc_277f295e
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_277f19c9
jmp     loc_277f295e
mov     eax, [ebp+lparam]
test    eax, eax
jz      loc_277f2863
push    [ebp+wparam]
push    eax
push    dword ptr [eax]
push    esi
call    sub_277f0b01
jmp     loc_277f295e
cmp     [ebp+lparam], 0
jz      loc_277f2863
push    [ebp+lparam]
push    esi
call    sub_277f1dc4
jmp     loc_277f295e
cmp     [ebp+lparam], 0
jz      loc_277f2863
push    [ebp+lparam]
push    esi
call    sub_277f1dea
jmp     loc_277f295e
cmp     [ebp+lparam], 0
jz      loc_277f2863
push    [ebp+lparam]
push    esi
call    sub_277f0cfc
jmp     loc_277f295e
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_277f18ea
jmp     loc_277f295e
cmp     [ebp+lparam], 0
jz      loc_277f2863
push    0
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f102d
jmp     loc_277f295e
push    [ebp+lparam]
push    esi
call    sub_277f2053
jmp     loc_277f295e
mov     eax, [esi+0c0h]
jmp     loc_277f295e
test    esi, esi
jz      loc_277f2863
mov     eax, [ebp+wparam]
sub     eax, 0
jz      short loc_277f2fa6
dec     eax
dec     eax
jnz     loc_277f2863
mov     eax, [esi+3ch]
jmp     loc_277f295e
mov     eax, [esi+38h]
jmp     loc_277f295e
call    ds:getfocus
cmp     eax, [esi]
jnz     loc_277f2863
push    [ebp+lparam]
call    sub_27811008
jmp     loc_277f295e
push    1
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_277f340b
jmp     loc_277f295e
push    [ebp+wparam]
push    esi
call    sub_277f1a96
jmp     loc_277f295e
push    [ebp+wparam]
push    esi
call    sub_277f16cb
or      byte ptr [esi+19h], 1
jmp     loc_277f2863
movsx   eax, word ptr [esi+0b0h]
jmp     loc_277f295e
cmp     dword ptr [esi+38h], 0
jz      loc_277f2863
cmp     [ebp+lparam], 0
jz      loc_277f2863
push    [ebp+lparam]
push    esi
call    sub_27817878
jmp     loc_277f295e
mov     eax, [esi+0cch]
jmp     loc_277f295e
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_27818966
jmp     loc_277f295e
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_2781894d
jmp     loc_277f295e
push    0
push    1
push    1
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f0e41
jmp     loc_277f295e
push    [ebp+wparam]
push    esi
call    sub_277f356b
jmp     loc_277f295e
mov     eax, [esi+0d4h]
jmp     loc_277f295e
lea     ecx, [esi+0d4h]
jmp     loc_277f2e8e
movsx   eax, word ptr [esi+0aah]
jmp     loc_277f295e
mov     eax, [ebp+wparam]
mov     edx, [esi+18h]
xor     ecx, ecx
cmp     eax, 0ffffffffh
movsx   edi, word ptr [esi+0aah]
setnz   cl
and     ecx, 1
and     dh, 0f7h
shl     ecx, 0bh
or      ecx, edx
push    esi
mov     [esi+18h], ecx
mov     [esi+0aah], ax
call    sub_277f171f
jmp     loc_277f2e41
test    byte ptr [ebp+wparam], 2
movsx   edi, word ptr [esi+0aeh]
movsx   ebx, word ptr [esi+0ach]
mov     eax, [ebp+lparam]
jz      short loc_277f30f6
mov     ecx, eax
shr     ecx, 10h
mov     [esi+0aeh], cx
test    byte ptr [ebp+wparam], 1
jz      short loc_277f3103
mov     [esi+0ach], ax
push    esi
call    sub_278183a8
movzx   eax, di
shl     eax, 10h
movzx   ecx, bx
or      eax, ecx
jmp     loc_277f295e
movzx   eax, word ptr [esi+0aeh]
movzx   ecx, word ptr [esi+0ach]
shl     eax, 10h
jmp     short loc_277f3112
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_277f225c
jmp     loc_277f295e
mov     eax, [esi+0a0h]
mov     edx, [ebp+lparam]
lea     ecx, [esi+0a0h]
jmp     loc_277f2e93
mov     eax, [esi+0a0h]
jmp     loc_277f295e
mov     ecx, [ebp+wparam]
mov     eax, [esi+10h]
mov     [esi+10h], ecx
jmp     loc_277f295e
cmp     ebx, 2006h
jz      loc_277f3280
cmp     ebx, 2100h
jnz     def_277f2e2b
push    esi
call    sub_278183a8
jmp     loc_277f2863
and     [ebp+var_4], 0
jmp     loc_277f2bb9
mov     ebx, [ebp+wparam]
mov     eax, ebx
shr     eax, 10h
movsx   eax, ax
mov     [ebp+var_8], eax
mov     eax, ebx
and     al, 0ch
neg     al
sbb     eax, eax
inc     eax
and     ebx, 4
mov     [ebp+var_4], eax
jmp     loc_277f2bb9
movsx   eax, word ptr [esi+0b2h]
add     eax, 0fffffffbh
cmp     eax, 5
jge     short loc_277f31ca
push    5
pop     eax
push    5
cdq
pop     ecx
idiv    ecx
mov     ecx, dword_27829ff0
cmp     eax, ecx
jnb     short loc_277f31dc
mov     ecx, eax
imul    edi, ecx
movsx   ecx, word ptr [esi+0bah]
lea     eax, [edi+edi*4]
add     eax, ecx
test    eax, eax
jge     short loc_277f31f1
xor     eax, eax
push    eax
push    4
push    esi
call    sub_278184c6
jmp     loc_277f29aa
test    ebx, ebx
jz      loc_277f2872
movsx   eax, word ptr [ebp+lparam]
mov     [ebp+rect.right], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect.right]
push    eax
push    [ebp+hwnd]
call    ds:screentoclient
lea     eax, [ebp+var_4]
push    eax
push    [ebp+rect.bottom]
push    [ebp+rect.right]
push    esi
call    sub_277f085c
test    eax, eax
jz      loc_277f2872
test    byte ptr [ebp+var_4], 56h
jz      loc_277f2872
xor     eax, eax
cmp     [ebp+var_8], eax
setle   al
dec     eax
and     al, 0feh
add     eax, 4
or      al, 1
test    al, 2
jnz     short loc_277f3267
cmp     [ebp+var_4], 10h
jnz     loc_277f2872
push    eax
push    [ebp+rect.bottom]
push    [ebp+rect.right]
push    0
push    201h
push    esi
call    sub_277f1c03
jmp     loc_277f29aa
mov     eax, [esi+10h]
jmp     loc_277f295e
push    ebp
mov     ebp, esp
push    0
push    [ebp+hwnd]
call    ds:getparent
push    eax
call    ds:getwindowlonga
test    eax, eax
jz      short loc_277f3359
mov     ecx, [ebp+msg]
sub     ecx, 8
jz      short loc_277f338b
mov     edx, [ebp+wparam]
sub     ecx, 0f8h
jz      short loc_277f335d
dec     ecx
dec     ecx
jnz     short loc_277f3367
cmp     edx, 0dh
jnz     short loc_277f3367
xor     eax, eax
jmp     short loc_277f337d
cmp     edx, 0dh
jz      short loc_277f338b
cmp     edx, 1bh
jz      short loc_277f3381
push    [ebp+lparam]
push    edx
push    [ebp+msg]
push    [ebp+hwnd]
push    dword ptr [eax+0d0h]
call    ds:callwindowproca
pop     ebp
retn    10h
push    1
push    eax
call    sub_277f356b
jmp     short loc_277f3359
push    0
jmp     short loc_277f3383
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_277f33e9
lea     ecx, [ebp+rc]
push    1
push    ecx
push    eax
push    esi
call    sub_277f0b01
mov     eax, y
neg     eax
push    eax
mov     eax, dword_2782a068
neg     eax
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:inflaterect
push    0
push    0
add     esi, 0cch
push    0
push    31h
push    dword ptr [esi]
call    ds:sendmessagea
push    eax
lea     eax, [ebp+rc]
push    eax
push    dword ptr [esi]
call    sub_2781bf6d
pop     esi
leave
retn    4
push    esi
mov     esi, [esp+4+arg_0]
test    byte ptr [esi+18h], 8
jz      short loc_277f3407
push    2ah
push    dword ptr [esi]
call    ds:killtimer
and     dword ptr [esi+18h], 0fffffff7h
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 150h
push    ebx
mov     ebx, [ebp+arg_4]
test    ebx, ebx
push    esi
jz      loc_277f3508
mov     esi, [ebp+hwnd]
test    byte ptr [esi+8], 8
jz      loc_277f3508
push    0
push    esi
call    sub_277f356b
lea     eax, [ebp+var_150]
mov     [ebp+var_1c], 104h
mov     [ebp+var_20], eax
lea     eax, [ebp+var_30]
push    eax
push    9
push    ebx
push    esi
mov     [ebp+var_24], 10h
call    sub_27816aad
cmp     [ebp+arg_c], 0
jnz     short loc_277f3497
lea     eax, [ebp+rc]
push    1
push    eax
push    ebx
push    esi
call    sub_277f0b01
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
lea     eax, [ebp+point]
push    eax
push    dword ptr [esi]
call    ds:screentoclient
push    [ebp+point.y]
lea     eax, [ebp+rc]
push    [ebp+point.x]
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277f3508
test    byte ptr [ebp+var_28], 10h
jz      short loc_277f3510
mov     eax, [esi+7ch]
mov     ecx, [ebp+lpwindowname]
test    ecx, ecx
jnz     short loc_277f34aa
mov     ecx, [ebp+var_20]
push    eax
push    44800080h
push    104h
push    ecx
push    dword ptr [esi]
call    sub_2781bf00
test    eax, eax
mov     [esi+0cch], eax
jz      loc_277f3563
movzx   eax, word ptr [ebx+10h]
mov     [ebp+var_28], eax
mov     eax, [ebx+1ch]
mov     [ebp+var_c], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffe66h
push    esi
mov     [ebp+var_2c], ebx
mov     [ebp+var_30], 1dh
call    sub_277b9838
test    eax, eax
jz      short loc_277f3515
push    dword ptr [esi+0cch]
call    ds:destroywindow
and     dword ptr [esi+0cch], 0
xor     eax, eax
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [esi+74h]
jmp     short loc_277f34a0
push    ebx
push    esi
call    sub_27818120
push    dword ptr [esi+0cch]
call    ds:setfocus
push    5
push    dword ptr [esi+0cch]
call    ds:showwindow
push    offset sub_277f3324
push    0fffffffch
push    dword ptr [esi+0cch]
call    ds:setwindowlonga
push    esi
mov     [esi+0d0h], eax
mov     [esi+28h], ebx
call    sub_277f338f
push    dword ptr [esi+0cch]
call    sub_2781b9ea
mov     eax, [esi+0cch]
jmp     short loc_277f350a
push    ebp
mov     ebp, esp
sub     esp, 13ch
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
push    1
test    byte ptr [esi+18h], 80h
pop     edi
mov     [ebp+var_4], edi
jz      short loc_277f358f
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ebx, [esi+0cch]
test    ebx, ebx
mov     [ebp+hwnd], ebx
jnz     short loc_277f35a6
push    esi
call    sub_277f33ee
mov     eax, edi
jmp     short loc_277f3588
push    dword ptr [esi]
call    ds:iswindowvisible
test    eax, eax
jnz     short loc_277f35b5
mov     [ebp+arg_4], edi
push    ebx
call    ds:getdlgctrlid
sub     eax, 0
jz      loc_277f3665
dec     eax
jz      loc_277f3668
dec     eax
jz      short loc_277f35a2
mov     edi, [esi+28h]
xor     eax, eax
cmp     edi, eax
jz      short loc_277f3643
mov     ecx, [edi+1ch]
cmp     [ebp+arg_4], eax
mov     [ebp+var_28], edi
mov     [ebp+var_8], ecx
mov     [ebp+var_2c], eax
jz      loc_277f3678
mov     [ebp+var_1c], eax
push    5
push    edi
push    esi
call    sub_277f0a83
or      byte ptr [esi+18h], 80h
push    0
push    ebx
call    ds:showwindow
and     byte ptr [esi+18h], 7fh
lea     eax, [ebp+lparam]
push    eax
push    0fffffe65h
push    esi
call    sub_277b9838
test    eax, eax
mov     [ebp+var_4], eax
jz      short loc_277f3643
cmp     [ebp+arg_4], 0
jnz     short loc_277f3643
cmp     [ebp+var_28], 0
jz      short loc_277f3643
cmp     dword ptr [edi+0ch], 0ffffffffh
jz      short loc_277f36a6
lea     eax, [ebp+var_2c]
mov     [ebp+var_2c], 1
push    eax
push    esi
call    sub_277f1dea
cmp     ebx, [esi+0cch]
jnz     short loc_277f3656
and     dword ptr [esi+28h], 0
and     dword ptr [esi+0cch], 0
push    ebx
call    ds:destroywindow
mov     eax, [ebp+var_4]
jmp     loc_277f3588
mov     [ebp+arg_4], edi
push    2
push    0fffffff4h
push    ebx
call    ds:setwindowlonga
jmp     loc_277f35cf
mov     ebx, 104h
lea     eax, [ebp+string]
push    ebx
push    eax
push    [ebp+hwnd]
call    ds:getwindowtexta
or      [ebp+var_2c], 1
lea     eax, [ebp+string]
mov     [ebp+var_18], ebx
mov     ebx, [ebp+hwnd]
mov     [ebp+var_1c], eax
jmp     loc_277f35f0
lea     eax, [ebp+lparam]
push    eax
push    0fffffe6ch
push    esi
call    sub_277b9838
jmp     short loc_277f3643
mov     ecx, [esp+arg_4]
mov     eax, [ecx+0ch]
dec     eax
jz      short loc_277f36d9
dec     eax
jnz     short loc_277f36d9
mov     eax, [esp+arg_0]
movsx   edx, word ptr [eax+0aah]
imul    edx, [eax+0bch]
mov     [ecx+14h], edx
xor     eax, eax
retn    8
mov     ecx, [esp+arg_4]
mov     eax, [ecx+8]
cmp     eax, 0fffffc7ah
jz      short loc_277f3704
cmp     eax, 0fffffc7bh
jz      short loc_277f36f8
xor     eax, eax
retn    8
push    ecx
push    [esp+4+arg_0]
call    sub_277f3710
jmp     short locret_277f36f5
push    ecx
push    [esp+4+arg_0]
call    sub_277f36b7
jmp     short locret_277f36f5
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
lea     esi, [ebx+0eh]
lea     edi, [ebp+var_30]
movsd
movsd
mov     eax, [ebx+1eh]
lea     ecx, [ebp+var_8]
movsd
movsd
mov     esi, [ebx+26h]
mov     [ebp+arg_4], eax
mov     eax, [ebx+22h]
mov     edi, [ebx+2ah]
push    ecx
mov     [ebp+var_10], eax
lea     ecx, [esi+1]
inc     eax
push    ecx
push    eax
push    [ebp+arg_0]
call    sub_277f085c
mov     [ebp+var_4], eax
mov     eax, [ebp+arg_4]
dec     eax
jz      loc_277f37f9
dec     eax
jnz     short loc_277f37ce
mov     edi, [ebp+arg_0]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [edi]
call    ds:getwindowrect
mov     eax, [ebp+rect.bottom]
mov     edx, [ebp+var_24]
sub     eax, [ebp+rect.top]
sub     edx, [ebp+var_2c]
test    byte ptr [ebx+0ch], 2
jz      short loc_277f37d3
mov     ecx, eax
sub     ecx, esi
sub     ecx, edx
cmp     ecx, edx
jle     short loc_277f37d3
mov     edi, edx
lea     eax, [ebp+var_8]
push    eax
lea     eax, [esi+edi]
push    eax
push    [ebp+var_10]
push    [ebp+arg_0]
call    sub_277f085c
test    eax, eax
mov     [ebp+arg_4], eax
jz      short loc_277f37ce
cmp     eax, [ebp+var_4]
jnz     short loc_277f37b8
push    6
push    eax
push    [ebp+arg_0]
call    sub_277f19c9
test    eax, eax
jz      short loc_277f37b8
mov     [ebp+arg_4], eax
lea     eax, [ebp+var_20]
push    1
push    eax
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277f0b01
mov     edi, [ebp+var_1c]
sub     edi, esi
mov     [ebx+2ah], edi
jmp     short loc_277f37f0
movsx   ecx, word ptr [edi+0aah]
mov     edi, [ebp+var_4]
sub     eax, esi
sub     eax, edx
imul    ecx, [edi+20h]
cmp     eax, ecx
jle     short loc_277f37ed
mov     edi, ecx
jmp     short loc_277f3787
mov     [ebx+2ah], eax
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    8
mov     edi, [ebp+arg_0]
lea     eax, [ebp+var_20]
push    1
push    eax
push    [ebp+var_4]
push    edi
call    sub_277f0b01
lea     eax, [esi-1]
cmp     [ebp+var_1c], eax
jge     short loc_277f3821
push    6
push    [ebp+var_4]
push    edi
call    sub_277f19c9
mov     [ebp+var_4], eax
mov     eax, [ebp+var_24]
sub     eax, [ebp+var_2c]
test    byte ptr [ebx+0ch], 2
jz      short loc_277f38a4
mov     ecx, esi
sub     ecx, eax
test    ecx, ecx
jle     short loc_277f38a4
mov     edi, eax
lea     eax, [ebp+var_8]
push    eax
mov     eax, esi
sub     eax, edi
push    eax
push    [ebp+var_10]
push    [ebp+arg_0]
call    sub_277f085c
test    eax, eax
mov     [ebp+arg_4], eax
jz      loc_277f37ce
mov     edi, [ebp+var_4]
push    7
push    edi
push    [ebp+arg_0]
call    sub_277f19c9
cmp     [ebp+arg_4], edi
jnz     short loc_277f3870
test    eax, eax
jz      short loc_277f3870
mov     [ebp+arg_4], eax
cmp     [ebp+arg_4], eax
jnz     short loc_277f3889
push    7
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277f19c9
test    eax, eax
mov     [ebp+arg_4], eax
jz      short loc_277f389d
lea     eax, [ebp+var_20]
push    1
push    eax
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277f0b01
sub     esi, [ebp+var_14]
mov     edi, esi
jmp     loc_277f37ce
movsx   edi, word ptr [edi+0aah]
mov     eax, esi
sub     eax, edi
test    eax, eax
jg      short loc_277f3837
mov     [ebx+2ah], esi
jmp     loc_277f37f0
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
push    44h
call    sub_277b339b
push    45h
mov     esi, eax
call    sub_277b339b
cmp     esi, 4
jge     short loc_277f38de
push    4
pop     eax
push    eax
pop     esi
mov     ecx, [ebp+arg_18]
lea     edx, [eax+ecx]
sub     ecx, eax
push    edx
mov     edx, [ebp+arg_14]
lea     eax, [ebp+rc]
lea     edi, [esi+edx]
sub     edx, esi
push    edi
push    ecx
push    edx
push    eax
call    ds:setrect
mov     ebx, [ebp+arg_0]
mov     eax, [ebp+arg_4]
lea     esi, [ebp+rc]
lea     edi, [ebx+50h]
push    dword ptr [ebx]
movsd
movsd
mov     [ebx+44h], eax
mov     eax, [ebp+arg_8]
mov     [ebx+48h], eax
mov     eax, [ebp+arg_c]
movsd
mov     [ebx+4ch], eax
mov     eax, [ebp+arg_10]
movsd
mov     [ebx+60h], eax
call    ds:setcapture
or      byte ptr [ebx+19h], 20h
pop     edi
pop     esi
pop     ebx
leave
retn    1ch
push    esi
mov     esi, [esp+4+arg_0]
push    edi
and     byte ptr [esi+19h], 0dfh
call    ds:getcapture
cmp     [esi], eax
jnz     short loc_277f394e
call    ds:releasecapture
xor     edi, edi
push    1
push    edi
push    edi
push    dword ptr [esi+48h]
push    8
push    esi
call    sub_277f0e41
cmp     [esp+8+arg_4], edi
jz      short loc_277f398a
push    [esp+8+arg_c]
push    [esp+0ch+arg_8]
push    dword ptr [esi+44h]
push    0fffffe69h
push    esi
call    sub_277f06c2
push    8
xor     eax, eax
pop     ecx
lea     edi, [esi+44h]
rep stosd
pop     edi
pop     esi
retn    10h
push    edi
push    0fffffffeh
push    esi
call    sub_277b9838
test    eax, eax
jnz     short loc_277f397b
cmp     dword ptr [esi+4ch], 40h
jnz     short loc_277f39a3
test    byte ptr [esi+9], 1
jnz     short loc_277f397b
push    1
push    1
push    1
push    dword ptr [esi+44h]
push    9
push    esi
call    sub_277f0e41
cmp     [esi+60h], edi
jz      short loc_277f397b
test    byte ptr [esi+4ch], 4
jz      short loc_277f39db
test    byte ptr [esi+18h], 4
jz      short loc_277f39db
push    edi
call    ds:getdoubleclicktime
push    eax
push    2ah
push    dword ptr [esi]
call    ds:settimer
or      dword ptr [esi+18h], 8
cmp     [esi+60h], edi
jz      short loc_277f397b
test    byte ptr [esi+9], 4
jz      short loc_277f397b
push    1
push    dword ptr [esi+20h]
push    3
push    esi
call    sub_277f102d
jmp     short loc_277f397b
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, [ebp+hinstance]
push    esi
lea     eax, [ebp+wndclass]
mov     esi, offset amsvblibtab
push    eax
push    esi
push    ebx
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277f3a65
push    7f00h
push    eax
mov     [ebp+wndclass.lpfnwndproc], offset sub_277f6c88
call    ds:loadcursora
and     [ebp+wndclass.hicon], 0
and     [ebp+wndclass.lpszmenuname], 0
and     [ebp+wndclass.cbclsextra], 0
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.hinstance], ebx
push    eax
mov     [ebp+wndclass.lpszclassname], esi
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.style], 0bh
mov     [ebp+wndclass.cbwndextra], 4
call    ds:registerclassa
movzx   eax, ax
pop     esi
pop     ebx
leave
retn    4
push    1
pop     eax
jmp     short loc_277f3a5f
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
xor     ebx, ebx
push    edi
push    ebx
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     esi, eax
mov     eax, [ebp+arg_4]
cmp     eax, ebx
jz      short loc_277f3af1
cmp     eax, 1
jz      short loc_277f3adc
cmp     eax, 2
jz      short loc_277f3ab7
jbe     loc_277f3b8c
cmp     eax, 4
ja      loc_277f3b8c
or      dword ptr [esi+88h], 0ffffffffh
push    1
mov     [esi+84h], ebx
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     [ebp+wparam], ebx
jl      short loc_277f3ad8
xor     eax, eax
cmp     [ebp+lparam], ebx
setnz   al
movzx   eax, ax
push    eax
push    [ebp+wparam]
push    1333h
push    dword ptr [esi]
call    ds:sendmessagea
xor     eax, eax
jmp     short loc_277f3ab0
push    [ebp+lparam]
push    offset dword_277cbf30
push    0fffffdd7h
push    esi
call    sub_27812b18
jmp     short loc_277f3ab0
mov     eax, [ebp+lparam]
cmp     eax, ebx
jz      loc_277f3b8c
mov     edx, [eax]
mov     eax, [eax+4]
push    1
mov     [ebp+points.y], eax
pop     ecx
lea     eax, [ebp+points]
push    ecx
push    eax
push    dword ptr [esi]
mov     [ebp+lparam], ecx
mov     [ebp+points.x], edx
push    ebx
call    ds:mapwindowpoints
push    ebx
push    [ebp+points.y]
push    [ebp+points.x]
push    esi
call    sub_277f4c04
mov     edi, eax
cmp     edi, [esi+30h]
jz      short loc_277f3b60
cmp     edi, ebx
jl      short loc_277f3b5a
call    ds:gettickcount
mov     ecx, [esi+84h]
cmp     eax, ecx
jb      short loc_277f3b82
cmp     ecx, ebx
jz      short loc_277f3b72
push    1
push    1
push    edi
push    esi
call    sub_277f5570
cmp     [esi+30h], edi
jz      short loc_277f3b5a
or      edi, 0ffffffffh
mov     [esi+88h], edi
cmp     [ebp+lparam], ebx
jz      short loc_277f3b6b
mov     [esi+84h], ebx
mov     eax, edi
jmp     loc_277f3ab0
add     eax, 1f4h
mov     [esi+84h], eax
mov     [ebp+lparam], ebx
jmp     short loc_277f3b5a
cmp     edi, [esi+88h]
jz      short loc_277f3b7d
jmp     short loc_277f3b5a
or      eax, 0ffffffffh
jmp     loc_277f3ab0
push    ebp
mov     ebp, esp
sub     esp, 58h
cmp     [ebp+arg_20], 0
push    ebx
push    esi
push    edi
jz      loc_277f3c52
mov     esi, [ebp+arg_c]
mov     eax, [ebp+arg_4]
mov     ebx, [ebp+arg_8]
mov     [ebp+arg_8], eax
test    esi, esi
jz      short loc_277f3bcd
lea     edi, [ebp+var_10]
lea     eax, [ebp+var_10]
movsd
movsd
movsd
mov     [ebp+arg_c], eax
lea     eax, [ebp+var_10]
push    eax
movsd
call    sub_278119ad
mov     esi, [ebp+arg_10]
test    esi, esi
jz      short loc_277f3be7
lea     edi, [ebp+var_20]
lea     eax, [ebp+var_20]
movsd
movsd
movsd
movsd
push    eax
lea     esi, [ebp+var_20]
call    sub_278119ad
mov     eax, [ebp+arg_0]
or      [ebp+var_30], 0ffffffffh
mov     [ebp+var_50], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_48], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_44], eax
mov     eax, [ebp+arg_14]
mov     [ebp+var_3c], eax
mov     eax, [ebp+arg_1c]
mov     [ebp+var_34], eax
mov     eax, [ebp+arg_24]
mov     [ebp+var_40], esi
mov     esi, [ebp+arg_18]
mov     [ebp+var_2c], eax
mov     [ebp+var_28], eax
xor     eax, eax
lea     edi, [ebp+var_24]
mov     [ebp+dy], 38h
mov     [ebp+var_54], 3
mov     [ebp+var_4c], ebx
mov     [ebp+var_38], esi
stosd
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
cmp     [ebp+arg_20], 0
jz      short loc_277f3c4b
test    esi, esi
jz      short loc_277f3c4b
push    esi
call    sub_278119ad
pop     edi
pop     esi
pop     ebx
leave
retn    28h
mov     esi, [ebp+arg_10]
mov     ebx, [ebp+arg_4]
jmp     short loc_277f3be7
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
test    byte ptr [ebx+8], 2
jz      short loc_277f3ce7
mov     eax, [ebp+arg_8]
mov     esi, [ebp+arg_c]
neg     eax
test    esi, esi
mov     [ebp+arg_8], eax
jz      short loc_277f3c92
lea     edi, [ebp+var_10]
lea     eax, [ebp+var_10]
movsd
movsd
movsd
mov     [ebp+arg_c], eax
lea     eax, [ebp+var_10]
push    eax
push    ebx
movsd
call    sub_277f3e56
mov     esi, [ebp+arg_10]
test    esi, esi
jz      short loc_277f3cad
lea     edi, [ebp+var_20]
lea     eax, [ebp+var_20]
movsd
movsd
movsd
movsd
push    eax
push    ebx
lea     esi, [ebp+var_20]
call    sub_277f3e56
mov     eax, [ebx+8]
push    [ebp+arg_20]
and     eax, 80h
push    eax
push    [ebp+arg_1c]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    esi
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    dword ptr [ebx]
call    sub_277f3b94
cmp     [ebp+arg_18], 0
jz      short loc_277f3ce0
push    esi
push    ebx
call    sub_277f3e56
pop     edi
pop     esi
pop     ebx
leave
retn    24h
mov     esi, [ebp+arg_10]
jmp     short loc_277f3cad
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebp+var_10]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_0]
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_277f3e56
mov     eax, [esi+8]
and     eax, 80h
push    eax
lea     eax, [ebp+var_10]
push    [ebp+berase]
push    eax
push    dword ptr [esi]
call    sub_277eeac1
pop     edi
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebp+var_10]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_10]
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_277f3e56
mov     edx, [esi+8]
test    dl, 2
jz      short loc_277f3d6c
mov     ecx, [ebp+grfflags]
test    cl, 10h
mov     eax, ecx
jz      short loc_277f3d8b
and     al, 0fah
test    cl, 1
jz      short loc_277f3d62
or      al, 4
test    cl, 4
jz      short loc_277f3d69
or      al, 1
mov     [ebp+grfflags], eax
and     edx, 80h
lea     eax, [ebp+var_10]
push    edx
push    [ebp+grfflags]
push    [ebp+edge]
push    eax
push    [ebp+hdc]
call    sub_277eeaf8
pop     edi
pop     esi
leave
retn    14h
and     al, 0f5h
test    cl, 2
jz      short loc_277f3d94
or      al, 8
test    cl, 8
jz      short loc_277f3d69
or      al, 2
jmp     short loc_277f3d69
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     ecx, [ebp+arg_4]
mov     edx, [ebp+arg_c]
mov     eax, [ebp+arg_8]
mov     [ebp+y], ecx
add     edx, ecx
mov     ecx, [ebp+arg_10]
mov     [ebp+x], eax
add     ecx, eax
push    esi
mov     esi, [ebp+arg_18]
lea     eax, [ebp+y]
mov     [ebp+var_8], edx
push    eax
push    esi
mov     [ebp+var_4], ecx
call    sub_277f3e56
mov     eax, [esi+8]
and     eax, 80h
push    eax
mov     eax, [ebp+var_4]
push    [ebp+rop]
sub     eax, [ebp+x]
push    eax
mov     eax, [ebp+var_8]
sub     eax, [ebp+y]
push    eax
push    [ebp+x]
push    [ebp+y]
push    [ebp+hdc]
call    sub_277eeba0
pop     esi
leave
retn    1ch
mov     ecx, [esp+arg_0]
mov     eax, [esp+arg_4]
push    esi
mov     esi, [ecx+0ch]
mov     edx, [eax+0ch]
add     esi, [ecx+4]
sub     esi, [eax+4]
mov     [eax+0ch], esi
mov     esi, [ecx+0ch]
sub     esi, edx
add     esi, [ecx+4]
mov     [eax+4], esi
pop     esi
retn    8
mov     eax, [esp+arg_0]
test    byte ptr [eax+8], 80h
jz      short locret_277f3e34
push    [esp+arg_4]
call    sub_278119ad
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+lprect]
push    dword ptr [esi]
call    ds:getclientrect
push    [esp+4+lprect]
push    esi
call    sub_277f3e21
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
test    byte ptr [eax+8], 2
jz      short locret_277f3e7b
lea     ecx, [ebp+rect]
push    ecx
push    eax
call    sub_277f3e37
push    [ebp+arg_4]
lea     eax, [ebp+rect]
push    eax
call    sub_277f3dfa
leave
retn    8
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277f3e56
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277f3e21
retn    8
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277f3e21
push    [esp+arg_4]
push    [esp+4+arg_0]
call    sub_277f3e56
retn    8
push    esi
mov     esi, [esp+4+arg_8]
push    edi
mov     edi, [esp+8+arg_4]
push    esi
push    edi
push    [esp+10h+lp]
call    sub_278139de
cmp     [esp+8+arg_c], 0
jz      short loc_277f3edd
mov     ecx, [edi]
mov     eax, [esi]
mov     [esi], ecx
mov     [edi], eax
pop     edi
pop     esi
retn    10h
push    ebp
mov     ebp, esp
cmp     [ebp+arg_18], 0
jz      short loc_277f3f0d
mov     eax, [ebp+arg_10]
mov     ecx, [ebp+arg_c]
mov     [ebp+arg_c], eax
push    [ebp+arg_14]
push    ecx
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_27814e65
pop     ebp
retn    1ch
mov     ecx, [ebp+arg_10]
jmp     short loc_277f3ef4
push    ebp
mov     ebp, esp
sub     esp, 14h
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, 80h
mov     eax, [esi+8]
and     eax, edi
push    eax
lea     eax, [ebp+arg_0]
push    eax
lea     eax, [ebp+var_4]
push    eax
push    dword ptr [esi+74h]
call    sub_277f3eb9
test    byte ptr [esi+8], 2
mov     eax, [ebp+arg_10]
jz      short loc_277f3f44
add     eax, [ebp+arg_0]
mov     [ebp+var_8], eax
mov     [ebp+var_10], eax
lea     eax, [ebp+var_14]
push    eax
push    esi
call    sub_277f3e56
mov     eax, [esi+8]
and     eax, edi
push    eax
push    [ebp+arg_14]
push    [ebp+var_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    dword ptr [esi+74h]
call    sub_277f3ee2
pop     edi
pop     esi
leave
retn    18h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_c]
push    edi
lea     edi, [ebp+rc]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_18]
lea     eax, [ebp+rc]
push    eax
push    esi
call    sub_277f3e7f
test    byte ptr [esi+8], 80h
jz      short loc_277f3fa0
or      [ebp+format], 8
push    [ebp+lpdtp]
lea     eax, [ebp+rc]
push    [ebp+format]
push    eax
push    [ebp+cchtext]
push    [ebp+lpchtext]
push    [ebp+hdc]
call    ds:drawtextexa
pop     edi
pop     esi
leave
retn    1ch
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+x]
push    ebx
mov     ebx, [ebp+arg_20]
mov     [ebp+rect.right], eax
mov     [ebp+rect.left], eax
push    esi
mov     eax, [ebx+8]
push    edi
test    al, 2
jz      short loc_277f403e
test    al, 80h
jnz     short loc_277f403e
mov     eax, [ebp+y]
add     eax, [ebx+8ch]
mov     [ebp+rect.bottom], eax
mov     [ebp+rect.top], eax
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_277f3e7f
mov     eax, [ebp+rect.left]
mov     esi, [ebp+arg_10]
mov     [ebp+x], eax
mov     eax, [ebp+rect.bottom]
lea     edi, [ebp+rect]
mov     [ebp+y], eax
movsd
movsd
movsd
lea     eax, [ebp+rect]
push    eax
push    ebx
movsd
call    sub_277f3e7f
push    [ebp+lpdx]
lea     eax, [ebp+rect]
push    [ebp+c]
push    [ebp+lpstring]
push    eax
push    [ebp+options]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ds:exttextouta
pop     edi
pop     esi
pop     ebx
leave
retn    24h
mov     eax, [ebp+y]
jmp     short loc_277f3fe8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebp+rc]
movsd
movsd
cmp     [ebp+arg_8], 0
movsd
movsd
jz      short loc_277f4064
lea     eax, [ebp+rc]
push    eax
call    sub_278119ad
lea     eax, [ebp+rc]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
pop     edi
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_4]
push    edi
lea     edi, [ebp+var_10]
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_8]
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_277f3e56
mov     eax, [esi+8]
and     eax, 80h
push    eax
lea     eax, [ebp+var_10]
push    eax
push    [ebp+hdc]
call    sub_277f4043
pop     edi
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, dword_2782a06c
push    ebx
mov     ecx, dy
push    esi
mov     esi, [ebp+arg_0]
mov     [ebp+var_10], eax
push    edi
xor     ebx, ebx
mov     eax, [esi+44h]
push    0ffffffffh
mov     [ebp+var_8], eax
mov     eax, [esi+40h]
push    6
push    ebx
lea     eax, [eax+ecx*2]
push    ebx
mov     [ebp+var_4], eax
lea     eax, [ebp+var_10]
push    eax
push    ebx
push    ebx
mov     [ebp+var_c], ebx
push    [ebp+arg_4]
push    esi
call    sub_277f3c5a
mov     eax, [esi+1ch]
mov     edi, [eax]
dec     edi
mov     [ebp+arg_0], edi
js      short loc_277f411c
mov     eax, [esi+1ch]
mov     ecx, [ebp+arg_0]
push    0
mov     eax, [eax+4]
push    [ebp+arg_4]
mov     ebx, [eax+ecx*4]
push    ebx
call    ds:offsetrect
dec     [ebp+arg_0]
jns     short loc_277f40ff
cmp     [esi+50h], edi
jle     short loc_277f4124
mov     [esi+50h], edi
mov     edi, [esi+50h]
test    edi, edi
jl      short loc_277f4150
push    edi
push    dword ptr [esi+1ch]
call    sub_27815cea
mov     ebx, eax
test    ebx, ebx
jz      short loc_277f414d
mov     eax, [ebx+8]
cmp     eax, [esi+44h]
jle     short loc_277f4150
push    1
push    dword ptr [esi+50h]
push    esi
call    sub_277f54ca
dec     edi
jns     short loc_277f412b
cmp     edi, [esi+50h]
jnz     short loc_277f416b
test    ebx, ebx
jz      short loc_277f416b
mov     eax, [ebx+8]
push    1
mov     [ebp+var_10], eax
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_277f3cec
mov     eax, [esi+18h]
mov     ecx, [ebp+arg_8]
test    eax, eax
mov     [esi+4ch], ecx
jz      short loc_277f418a
movzx   ecx, cx
push    ecx
push    0
push    467h
push    eax
call    ds:sendmessagea
push    esi
call    sub_277f58d9
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     [esp+arg_8], 4
push    esi
jnz     short loc_277f41d8
push    [esp+4+arg_c]
mov     esi, [esp+8+arg_0]
push    dword ptr [esi+1ch]
call    sub_27815cea
xor     ecx, ecx
test    eax, eax
jz      short loc_277f41bd
mov     ecx, dword_2782a06c
sub     ecx, [eax]
test    ecx, ecx
jnz     short loc_277f41c5
test    eax, eax
jnz     short loc_277f41d8
push    [esp+4+arg_c]
push    ecx
push    esi
call    sub_277f40b1
push    dword ptr [esi]
call    ds:updatewindow
pop     esi
retn    10h
cmp     [esp+arg_4], 0
mov     eax, [esp+arg_0]
jz      short loc_277f41f6
or      dword ptr [eax+20h], 10h
push    1
push    eax
call    sub_277f553e
retn    8
and     dword ptr [eax+20h], 0ffffffefh
jmp     short locret_277f41f3
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
mov     eax, [esi+2ch]
test    eax, eax
jz      short loc_277f4215
cmp     edi, eax
jz      short loc_277f4289
test    byte ptr [esi+20h], 80h
jz      short loc_277f422a
push    eax
call    ds:deleteobject
and     byte ptr [esi+20h], 7fh
and     dword ptr [esi+2ch], 0
test    edi, edi
jnz     short loc_277f428f
mov     eax, dword_2782a124
mov     [esi+2ch], eax
test    byte ptr [esi+8], 80h
mov     eax, 7fffffffh
mov     [esi+40h], eax
mov     [esi+38h], eax
jz      short loc_277f4281
lea     eax, [ebp+pv]
push    eax
push    3ch
push    dword ptr [esi+2ch]
call    ds:getobjecta
mov     eax, [esi+8]
mov     [ebp+var_24], 7
and     al, 2
neg     al
sbb     eax, eax
and     eax, 708h
add     eax, 384h
mov     [ebp+var_34], eax
lea     eax, [ebp+pv]
push    eax
call    ds:createfontindirecta
or      byte ptr [esi+20h], 80h
mov     [esi+2ch], eax
push    5
push    esi
call    sub_277f553e
pop     edi
pop     esi
leave
retn    0ch
or      dword ptr [esi+20h], 40h
push    edi
mov     [esi+2ch], edi
call    sub_277bc9de
mov     [esi+14h], eax
jmp     short loc_277f4236
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
push    edi
push    4
pop     ebx
push    ebx
call    sub_27815c0e
mov     esi, [ebp+arg_0]
xor     edi, edi
cmp     eax, edi
mov     [esi+1ch], eax
jnz     short loc_277f42c8
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esi+8]
test    ah, 4
jnz     short loc_277f42d5
and     al, 0cfh
mov     [esi+8], eax
mov     eax, [esi+8]
mov     ecx, 200h
test    al, 80h
jz      short loc_277f42e6
or      eax, ecx
mov     [esi+8], eax
mov     eax, [esi+8]
test    al, 1
jz      short loc_277f42f5
and     ah, 0feh
or      eax, ecx
mov     [esi+8], eax
mov     eax, [esi+8]
test    al, 8
jz      short loc_277f4300
or      dword ptr [esi+28h], 1
or      eax, 4000000h
push    eax
push    0fffffff0h
push    dword ptr [esi]
call    ds:setwindowlonga
or      ecx, 0ffffffffh
mov     eax, 7fffffffh
mov     dword ptr [esi+20h], 10h
mov     [esi+24h], ebx
mov     [esi+30h], ecx
mov     [esi+94h], ecx
mov     [esi+40h], eax
mov     [esi+38h], eax
mov     eax, dword_2782a06c
push    edi
lea     eax, [eax+eax*2]
mov     [esi+54h], eax
mov     eax, dy
mov     [esi+4ch], edi
mov     [esi+18h], edi
lea     eax, [eax+eax*2]
mov     [esi+64h], ecx
cdq
sub     eax, edx
mov     [esi+34h], ecx
sar     eax, 1
mov     [esi+58h], eax
mov     [esi+68h], ecx
call    ds:getdc
mov     ebx, eax
push    58h
push    ebx
call    ds:getdevicecaps
push    ebx
push    edi
mov     [esi+5ch], eax
call    ds:releasedc
call    sub_27812f98
test    byte ptr [esi+9], 40h
jz      short loc_277f43d8
mov     eax, [esi]
push    edi
push    dword_27828334
mov     [ebp+var_24], eax
mov     [ebp+var_20], eax
mov     [ebp+lparam], 2ch
push    edi
push    eax
mov     eax, 80000000h
mov     [ebp+var_28], 1
push    eax
push    eax
push    eax
push    eax
push    eax
push    offset byte_2782b6b6
push    offset amsvblibtooltip
push    edi
mov     [ebp+var_8], edi
call    ds:createwindowexa
cmp     eax, edi
mov     [esi+78h], eax
jz      short loc_277f43f3
lea     ecx, [ebp+lparam]
push    ecx
push    edi
push    404h
push    eax
call    ds:sendmessagea
cmp     dword_2782a150, edi
jz      short loc_277f43eb
push    edi
push    dword ptr [esi]
call    sub_277e1f86
mov     [esi+7ch], eax
push    1
pop     eax
jmp     loc_277f42c1
and     byte ptr [esi+9], 0bfh
jmp     short loc_277f43d8
cmp     dword_2782a150, 0
push    esi
mov     esi, [esp+4+hmem]
push    edi
jz      short loc_277f4412
push    dword ptr [esi+7ch]
push    dword ptr [esi]
call    sub_277e1f86
test    byte ptr [esi+9], 40h
jz      short loc_277f442e
push    dword ptr [esi+78h]
call    ds:iswindow
test    eax, eax
jz      short loc_277f442e
push    dword ptr [esi+78h]
call    ds:destroywindow
mov     eax, [esi+1ch]
xor     edi, edi
cmp     [eax], edi
jle     short loc_277f444b
mov     eax, [eax+4]
push    dword ptr [eax+edi*4]
push    esi
call    sub_277f522c
mov     eax, [esi+1ch]
inc     edi
cmp     edi, [eax]
jl      short loc_277f4437
push    dword ptr [esi+1ch]
call    sub_27815c57
mov     eax, [esi+80h]
test    eax, eax
jz      short loc_277f4463
push    eax
call    sub_27812b8a
test    byte ptr [esi+20h], 80h
jz      short loc_277f4472
push    dword ptr [esi+2ch]
call    ds:deleteobject
test    esi, esi
jz      short loc_277f4489
push    0
push    0
push    dword ptr [esi]
call    ds:setwindowlonga
push    esi
call    ds:localfree
call    sub_27813018
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+rc]
push    edi
push    eax
push    esi
call    sub_277f3e37
test    byte ptr [esi+8], 1
jz      loc_277f45c6
mov     eax, [esi+68h]
cmp     eax, 0ffffffffh
jnz     short loc_277f44d8
mov     ecx, [esi+64h]
mov     [ebp+arg_0], ecx
mov     edx, [ebp+arg_4]
cmp     edx, [ebp+arg_0]
jnz     short loc_277f44dd
cmp     eax, 0ffffffffh
jnz     short loc_277f44d1
mov     [esi+68h], edx
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     [ebp+arg_0], eax
jmp     short loc_277f44c1
mov     eax, [esi+64h]
mov     ecx, [esi+40h]
inc     eax
mov     ebx, [ebp+rc.bottom]
imul    ecx, eax
mov     eax, [esi+1ch]
sub     ebx, ecx
sub     ebx, [ebp+rc.top]
mov     eax, [eax]
sub     ebx, dy
dec     eax
mov     [ebp+var_4], eax
js      short loc_277f455d
mov     ecx, [esi+1ch]
mov     ecx, [ecx+4]
mov     edi, [ecx+eax*4]
mov     ecx, [edi+28h]
cmp     ecx, edx
jnz     short loc_277f4544
mov     edx, [edi+0ch]
mov     [ebp+var_c], edx
cmp     ecx, [ebp+arg_4]
jle     short loc_277f4551
cmp     ecx, [ebp+arg_0]
jg      short loc_277f452d
push    ebx
push    0
push    edi
call    ds:offsetrect
mov     eax, [ebp+var_4]
mov     ecx, [ebp+arg_0]
mov     edx, [ebp+arg_4]
cmp     [edi+28h], ecx
jnz     short loc_277f44fa
cmp     ecx, edx
jle     short loc_277f44fa
mov     ecx, [edi+0ch]
mov     [ebp+var_8], ecx
jmp     short loc_277f44fa
cmp     ecx, [ebp+arg_0]
jnz     short loc_277f4516
mov     edx, [edi+0ch]
mov     [ebp+var_8], edx
jmp     short loc_277f4516
cmp     ecx, [ebp+arg_0]
jle     short loc_277f452d
mov     eax, ebx
neg     eax
push    eax
jmp     short loc_277f4521
cmp     dword ptr [esi+68h], 0ffffffffh
jz      short loc_277f45ad
mov     edx, [ebp+var_8]
mov     ecx, [ebp+var_c]
mov     eax, edx
sub     eax, ecx
cmp     ecx, edx
jle     short loc_277f45be
mov     [ebp+rc.top], edx
mov     [ebp+rc.bottom], ecx
push    1
xor     edi, edi
push    6
push    edi
lea     ecx, [ebp+rc]
push    edi
push    ecx
push    edi
push    eax
push    edi
push    esi
call    sub_277f3c5a
push    dy
lea     eax, [ebp+rc]
push    dword_2782a06c
push    eax
call    ds:inflaterect
lea     eax, [ebp+rc]
push    edi
push    eax
push    esi
call    sub_277f3cec
mov     eax, [ebp+arg_4]
mov     [esi+68h], eax
push    esi
call    sub_277f58d9
jmp     loc_277f44d1
mov     [ebp+rc.top], ecx
mov     [ebp+rc.bottom], edx
jmp     short loc_277f4577
mov     ebx, [ebp+arg_4]
cmp     ebx, [esi+64h]
jz      loc_277f44d1
mov     eax, [esi+1ch]
mov     edi, [eax]
dec     edi
js      short loc_277f4613
mov     eax, [esi+1ch]
mov     eax, [eax+4]
mov     eax, [eax+edi*4]
mov     ecx, [eax+28h]
cmp     ecx, ebx
jle     short loc_277f45fb
dec     ecx
mov     [eax+28h], ecx
mov     ecx, [esi+40h]
neg     ecx
add     [eax+4], ecx
add     [eax+0ch], ecx
jmp     short loc_277f45d7
jnz     short loc_277f45d7
mov     ecx, [eax+4]
mov     edx, [esi+64h]
mov     [ebp+rc.top], ecx
mov     ecx, edx
sub     ecx, ebx
imul    ecx, [esi+40h]
mov     [eax+28h], edx
jmp     short loc_277f45f3
mov     ecx, [esi+64h]
mov     eax, [esi+40h]
inc     ecx
push    1
imul    eax, ecx
xor     ecx, ecx
push    6
mov     [ebp+rc.bottom], eax
sub     eax, [ebp+rc.top]
push    ecx
lea     edx, [ebp+rc]
push    ecx
push    edx
push    ecx
push    eax
push    ecx
push    esi
call    sub_277f3c5a
push    dword ptr [esi]
call    ds:updatewindow
mov     eax, dy
mov     ecx, [ebp+rc.bottom]
push    1
lea     ecx, [ecx+eax*2]
lea     eax, [eax+eax*2]
mov     [ebp+rc.bottom], ecx
sub     ecx, eax
lea     eax, [ebp+rc]
mov     [ebp+rc.top], ecx
push    eax
push    esi
call    sub_277f3cec
jmp     loc_277f45b3
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
mov     eax, [edi+1ch]
mov     edx, [eax+4]
mov     eax, [ebp+arg_8]
mov     ecx, [edx+eax*4]
mov     eax, [ebp+arg_4]
mov     eax, [edx+eax*4]
mov     edi, [edi+44h]
mov     esi, [ecx]
mov     ebx, [ecx+8]
sub     edi, [eax+8]
sub     ebx, esi
cmp     edi, ebx
jl      loc_277f4756
mov     edi, [ebp+arg_8]
mov     edx, [edx+edi*4+4]
lea     ebx, [edi+1]
sub     esi, [edx]
sub     [ecx], esi
sub     [ecx+8], esi
mov     esi, [eax+4]
mov     edi, [ecx]
mov     edx, [ecx+8]
mov     [ecx+4], esi
mov     esi, [eax+0ch]
sub     edx, edi
mov     edi, [ebp+arg_0]
mov     [ecx+0ch], esi
mov     eax, [eax+28h]
mov     esi, edx
mov     [ecx+28h], eax
mov     eax, [edi+8]
test    ah, 1
jz      short loc_277f46de
test    al, 8
mov     eax, dword_2782a06c
jz      short loc_277f46f4
mov     edx, eax
add     edx, esi
lea     esi, [edx+eax*4]
cmp     ebx, [ebp+arg_4]
jg      short loc_277f4700
mov     eax, [edi+1ch]
mov     eax, [eax+4]
mov     ecx, [eax+ebx*4]
add     [ecx], esi
add     [ecx+8], esi
inc     ebx
jmp     short loc_277f46de
lea     eax, [eax+eax*2]
cdq
sub     eax, edx
sar     eax, 1
add     esi, eax
jmp     short loc_277f46de
cmp     [ebp+arg_c], 0
jz      short loc_277f475f
mov     ecx, [ecx+28h]
cmp     ecx, 1
jle     short loc_277f4756
mov     eax, [ebp+arg_8]
mov     edx, eax
lea     esi, [eax-1]
mov     eax, esi
mov     [ebp+arg_4], esi
test    edx, edx
mov     [ebp+arg_8], eax
jz      short loc_277f4742
lea     edx, [ecx-1]
mov     ecx, [edi+1ch]
mov     ecx, [ecx+4]
lea     ecx, [ecx+eax*4]
mov     ebx, [ecx]
cmp     [ebx+28h], edx
jnz     short loc_277f4742
test    eax, eax
jle     short loc_277f4756
dec     eax
sub     ecx, 4
mov     [ebp+arg_8], eax
jmp     short loc_277f472e
mov     ecx, [edi+1ch]
dec     [ebp+arg_c]
mov     edx, [ecx+4]
mov     ecx, [edx+eax*4]
mov     eax, [edx+esi*4]
jmp     loc_277f4682
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    1
pop     eax
jmp     short loc_277f4758
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
and     [ebp+arg_0], 0
mov     eax, [edi+1ch]
mov     ebx, [eax]
test    ebx, ebx
mov     [ebp+var_8], ebx
jz      short loc_277f47e7
mov     eax, [eax+4]
lea     esi, [ebx-2]
lea     ecx, [eax+esi*4]
mov     eax, [edi+64h]
mov     edx, [ecx]
cmp     [edx+28h], eax
jnz     short loc_277f479c
test    esi, esi
jle     short loc_277f47e7
dec     esi
sub     ecx, 4
jmp     short loc_277f478b
test    esi, esi
jz      short loc_277f47e7
mov     eax, [edi+1ch]
mov     ecx, [eax+4]
mov     eax, [edi+44h]
mov     edx, eax
mov     ebx, [ecx+ebx*4-4]
sub     edx, [ebx+8]
mov     [ebp+var_4], edx
jz      short loc_277f47e7
push    8
mov     ecx, [ecx+esi*4]
cdq
pop     ebx
idiv    ebx
sub     eax, [ecx+8]
add     eax, [edi+44h]
cmp     [ebp+var_4], eax
jle     short loc_277f47e7
mov     eax, [ebp+arg_0]
mov     ebx, [ebp+var_8]
inc     [ebp+arg_0]
push    eax
lea     eax, [ebx-1]
push    esi
push    eax
push    edi
call    sub_277f4667
test    eax, eax
jz      short loc_277f47e7
dec     esi
jnz     short loc_277f47a0
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
mov     eax, [ebx+1ch]
cmp     dword ptr [ebx+64h], 1
mov     edi, [eax]
mov     [ebp+var_8], edi
jl      loc_277f48ed
push    ebx
call    sub_277f4764
xor     esi, esi
test    edi, edi
jle     loc_277f48ed
mov     eax, [ebx+1ch]
cmp     esi, [ebp+var_8]
mov     edi, esi
mov     eax, [eax+4]
mov     edx, [eax+esi*4]
lea     ecx, [eax+esi*4]
mov     edx, [edx+28h]
jge     short loc_277f4849
mov     [ebp+arg_0], ecx
mov     ecx, [ebp+arg_0]
mov     ecx, [ecx]
cmp     [ecx+28h], edx
jnz     short loc_277f4849
add     [ebp+arg_0], 4
inc     edi
cmp     edi, [ebp+var_8]
jl      short loc_277f4835
and     [ebp+arg_0], 0
cmp     esi, edi
jge     short loc_277f4870
lea     ecx, [eax+esi*4]
mov     [ebp+var_4], ecx
mov     ecx, edi
sub     ecx, esi
mov     edx, [ebp+var_4]
mov     edx, [edx]
test    byte ptr [edx+30h], 4
jnz     short loc_277f4869
inc     [ebp+arg_0]
add     [ebp+var_4], 4
dec     ecx
jnz     short loc_277f485b
mov     eax, [eax+edi*4-4]
mov     ecx, [ebx+44h]
and     [ebp+var_4], 0
sub     ecx, [eax+8]
sub     ecx, dword_2782a06c
mov     eax, ecx
cdq
idiv    [ebp+arg_0]
mov     [ebp+var_c], eax
mov     eax, ecx
cdq
idiv    [ebp+arg_0]
cmp     esi, edi
mov     [ebp+arg_0], edx
jge     short loc_277f48e4
mov     eax, [ebp+var_c]
cdq
sub     eax, edx
sar     eax, 1
mov     [ebp+var_10], eax
mov     ecx, [ebx+1ch]
mov     ecx, [ecx+4]
mov     ecx, [ecx+esi*4]
test    byte ptr [ecx+30h], 4
jnz     short loc_277f48df
mov     edx, [ebp+var_4]
add     [ecx+14h], eax
add     [ecx+20h], eax
add     [ecx], edx
xor     eax, eax
cmp     [ebp+arg_0], eax
setnz   al
add     eax, [ebp+var_c]
add     [ebp+var_4], eax
cmp     [ebp+arg_0], 0
jz      short loc_277f48d6
dec     [ebp+arg_0]
mov     eax, [ebp+var_4]
add     [ecx+8], eax
mov     eax, [ebp+var_10]
inc     esi
cmp     esi, edi
jl      short loc_277f48a5
cmp     esi, [ebp+var_8]
jl      loc_277f481c
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     eax, [esi+1ch]
mov     edi, [eax]
mov     eax, edi
dec     edi
test    eax, eax
jle     short loc_277f4944
mov     eax, [esi+78h]
test    eax, eax
jz      short loc_277f4933
mov     ecx, [esi]
mov     [ebp+lparam], 2ch
mov     [ebp+var_24], ecx
lea     ecx, [ebp+lparam]
push    ecx
push    0
push    405h
push    eax
mov     [ebp+var_20], edi
call    ds:sendmessagea
mov     eax, [esi+1ch]
mov     eax, [eax+4]
push    dword ptr [eax+edi*4]
push    esi
call    sub_277f522c
jmp     short loc_277f4904
push    dword ptr [esi+1ch]
call    sub_27815ee5
or      dword ptr [esi+30h], 0ffffffffh
and     dword ptr [esi+4ch], 0
push    5
push    esi
mov     dword ptr [esi+38h], 7fffffffh
call    sub_277f553e
push    1
pop     eax
pop     edi
pop     esi
leave
retn    4
mov     eax, [esp+arg_0]
mov     ecx, [eax+1ch]
cmp     dword ptr [ecx], 0
jg      short loc_277f4989
mov     ecx, [esp+arg_4]
test    ecx, ecx
jl      short loc_277f4989
push    1
mov     [eax+24h], ecx
pop     eax
retn    8
xor     eax, eax
jmp     short locret_277f4986
push    ebp
mov     ebp, esp
push    ecx
push    ecx
and     [ebp+var_4], 0
and     [ebp+var_8], 0
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_8]
mov     eax, [edi]
test    eax, eax
mov     [ebp+arg_8], eax
jz      loc_277f4abd
push    [ebp+arg_4]
mov     ebx, [ebp+arg_0]
push    dword ptr [ebx+1ch]
call    sub_27815cea
mov     esi, eax
test    esi, esi
jz      short loc_277f49d7
test    byte ptr [ebp+arg_8], 1
jz      short loc_277f49f5
push    dword ptr [edi+0ch]
lea     eax, [esi+2ch]
push    eax
call    sub_2781617a
test    eax, eax
jnz     short loc_277f49e0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    1
pop     eax
mov     [ebp+var_8], eax
mov     [ebp+var_4], eax
mov     eax, [ebp+arg_8]
and     eax, 4
shl     eax, 5
mov     [esi+34h], eax
test    byte ptr [ebp+arg_8], 2
jz      short loc_277f4a1b
cmp     dword ptr [esi+10h], 0ffffffffh
jz      short loc_277f4a07
cmp     dword ptr [edi+14h], 0ffffffffh
jnz     short loc_277f4a0e
mov     [ebp+var_8], 1
mov     eax, [edi+14h]
mov     [ebp+var_4], 1
mov     [esi+10h], eax
test    byte ptr [ebp+arg_8], 8
jz      short loc_277f4a37
mov     eax, [ebx+24h]
test    eax, eax
jz      short loc_277f4a37
push    eax
lea     eax, [edi+18h]
push    eax
lea     eax, [esi+38h]
push    eax
call    ds:rtlmovememory
test    byte ptr [ebp+arg_8], 10h
jz      short loc_277f4a98
mov     ecx, [edi+8]
mov     edx, [esi+30h]
mov     ebx, ecx
and     ecx, [edi+4]
not     ebx
mov     eax, edx
push    1
and     eax, ebx
or      eax, ecx
mov     [esi+30h], eax
cmp     edx, eax
pop     esi
jz      short loc_277f4a5d
mov     [ebp+var_4], esi
xor     edx, eax
test    dl, 4
jz      short loc_277f4a67
mov     [ebp+var_8], esi
test    byte ptr [edi+8], 1
jz      short loc_277f4ac5
test    byte ptr [edi+4], 1
jnz     short loc_277f4ac5
mov     ebx, [ebp+arg_0]
mov     eax, [ebp+arg_4]
cmp     [ebx+34h], eax
jnz     short loc_277f4a85
or      dword ptr [ebx+34h], 0ffffffffh
mov     [ebp+var_4], esi
cmp     [ebx+30h], eax
jnz     short loc_277f4a98
push    0
push    esi
push    0ffffffffh
push    ebx
call    sub_277f5570
mov     [ebp+var_4], esi
xor     eax, eax
cmp     [ebp+var_4], eax
jz      short loc_277f4abd
test    byte ptr [ebx+9], 4
jnz     short loc_277f4aca
cmp     [ebp+var_8], eax
jz      short loc_277f4aca
mov     eax, 7fffffffh
push    45h
push    ebx
mov     [ebx+40h], eax
mov     [ebx+38h], eax
call    sub_277f553e
push    1
pop     eax
jmp     loc_277f49d9
mov     ebx, [ebp+arg_0]
jmp     short loc_277f4a98
push    eax
push    [ebp+arg_4]
push    ebx
call    sub_277f54ca
jmp     short loc_277f4abd
push    ebx
push    esi
xor     ebx, ebx
mov     esi, [esp+8+arg_0]
push    edi
push    ebx
push    [esp+10h+arg_c]
push    [esp+14h+arg_8]
push    esi
call    sub_277f4c04
test    byte ptr [esi+8], 40h
mov     edi, eax
jz      short loc_277f4b19
cmp     edi, [esi+94h]
jz      short loc_277f4b19
push    ebx
push    edi
push    esi
call    sub_277f54ca
push    ebx
push    dword ptr [esi+94h]
push    esi
call    sub_277f54ca
mov     [esi+94h], edi
test    [esp+0ch+arg_4], 1
jz      short loc_277f4b54
mov     ecx, [esi+8]
test    ch, 1
jz      short loc_277f4b54
mov     ebx, [esi+34h]
cmp     ebx, 0ffffffffh
jz      short loc_277f4b54
cmp     edi, ebx
jnz     short loc_277f4b5a
push    4
pop     edx
mov     eax, [esi+20h]
mov     edi, eax
and     edi, 4
cmp     edi, edx
jz      short loc_277f4b54
and     ecx, 8
xor     eax, 4
push    ecx
push    ebx
push    esi
mov     [esi+20h], eax
call    sub_277f54ca
pop     edi
pop     esi
pop     ebx
retn    10h
xor     edx, edx
jmp     short loc_277f4b37
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     ebx, ebx
push    1
cmp     [ebp+arg_c], ebx
pop     edi
jz      short loc_277f4b86
push    dword ptr [esi+10h]
push    ebx
push    0fffffffeh
push    dword ptr [esi]
push    ebx
call    sub_27811d28
mov     edi, eax
neg     edi
sbb     edi, edi
inc     edi
test    byte ptr [esi+20h], 4
jz      short loc_277f4bcc
cmp     dword ptr [esi+34h], 0ffffffffh
jz      short loc_277f4bcc
mov     eax, [esi+34h]
push    ebx
push    [ebp+arg_8]
mov     [ebp+arg_c], eax
push    [ebp+arg_4]
push    esi
call    sub_277f4c04
cmp     eax, [ebp+arg_c]
jnz     short loc_277f4bf4
cmp     edi, ebx
jz      short loc_277f4bba
push    ebx
push    1
push    [ebp+arg_c]
push    esi
call    sub_277f5570
push    ebx
push    [ebp+arg_c]
push    esi
call    sub_277f54ca
and     dword ptr [esi+20h], 0fffffffbh
or      dword ptr [esi+34h], 0ffffffffh
mov     eax, [esi+20h]
test    al, 2
jz      short loc_277f4bed
mov     ecx, [esi+34h]
or      dword ptr [esi+34h], 0ffffffffh
push    ebx
and     al, 0fdh
push    ecx
push    esi
mov     [esi+20h], eax
call    sub_277f54ca
push    esi
call    sub_277bf76d
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    ebx
push    [ebp+arg_c]
push    esi
call    sub_277f54ca
push    ebx
push    dword ptr [esi+34h]
jmp     short loc_277f4bbe
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_4]
mov     eax, [ebx+1ch]
push    edi
mov     edi, [eax]
mov     eax, [ebp+arg_8]
mov     [ebp+var_10], eax
mov     [ebp+var_18], eax
lea     eax, [ebp+var_1c]
mov     [ebp+var_4], edi
push    eax
push    ebx
mov     [ebp+var_14], esi
mov     [ebp+var_1c], esi
call    sub_277f3e9c
mov     eax, [ebp+var_1c]
cmp     [ebp+arg_c], 0
mov     [ebp+pt.x], eax
mov     eax, [ebp+var_18]
mov     [ebp+pt.y], eax
jnz     short loc_277f4c4c
lea     eax, [ebp+arg_4]
mov     [ebp+arg_c], eax
and     [ebp+arg_0], 0
test    edi, edi
jle     short loc_277f4c7c
mov     eax, [ebx+1ch]
push    [ebp+pt.y]
mov     ecx, [ebp+arg_0]
mov     eax, [eax+4]
push    [ebp+pt.x]
mov     edi, [eax+ecx*4]
push    edi
call    ds:ptinrect
test    eax, eax
jnz     short loc_277f4c8f
inc     [ebp+arg_0]
mov     eax, [ebp+arg_0]
cmp     eax, [ebp+var_4]
jl      short loc_277f4c54
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 1
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [ebp+arg_c]
sub     esi, [edi]
mov     dword ptr [eax], 6
mov     eax, [ebx+8]
test    ah, 20h
jnz     short loc_277f4cbb
mov     ecx, [edi+14h]
cmp     esi, ecx
jle     short loc_277f4cc0
mov     edx, [edi+1ch]
add     edx, ecx
cmp     esi, edx
jge     short loc_277f4cc0
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 4
mov     eax, [ebp+arg_0]
jmp     short loc_277f4c88
mov     ebx, [ebx+74h]
test    ebx, ebx
jz      short loc_277f4cbb
cmp     dword ptr [edi+10h], 0ffffffffh
jz      short loc_277f4cbb
and     eax, 80h
push    eax
lea     eax, [ebp+arg_8]
push    eax
lea     eax, [ebp+arg_4]
push    eax
push    ebx
call    sub_277f3eb9
mov     edi, [edi+20h]
cmp     esi, edi
jle     short loc_277f4cbb
mov     eax, [ebp+arg_4]
add     eax, edi
cmp     esi, eax
jge     short loc_277f4cbb
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 2
jmp     short loc_277f4cbb
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     eax, [esi+1ch]
mov     eax, [eax]
dec     eax
test    byte ptr [esi+9], 1
jz      short loc_277f4d4e
test    eax, eax
mov     edi, eax
jl      short loc_277f4d4e
mov     eax, [esi+1ch]
cmp     [ebp+arg_4], 0
mov     eax, [eax+4]
mov     eax, [eax+edi*4]
jz      short loc_277f4d2e
test    byte ptr [eax+30h], 1
jz      short loc_277f4d4b
and     [ebp+var_18], 0
lea     eax, [ebp+var_1c]
push    eax
push    edi
push    esi
mov     [ebp+var_1c], 10h
mov     [ebp+var_14], 1
call    sub_277f498d
dec     edi
jns     short loc_277f4d19
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 1ch
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+8], 80h
jz      short loc_277f4dd5
cmp     ecx, [esi+44h]
jg      short loc_277f4dce
push    0
push    ecx
push    eax
push    esi
call    sub_277f4c04
mov     edi, eax
cmp     edi, 0ffffffffh
jz      short loc_277f4dce
mov     eax, [esi+8]
test    ah, 1
jz      short loc_277f4dce
test    al, 4
jz      short loc_277f4dce
push    1
lea     eax, [ebp+var_1c]
pop     ebx
mov     [ebp+var_1c], 10h
push    eax
push    edi
push    esi
mov     [ebp+var_14], ebx
call    sub_277f5401
test    byte ptr [ebp+var_18], bl
jnz     short loc_277f4dce
push    11h
call    ds:getasynckeystate
test    ax, ax
jl      short loc_277f4dc0
push    0
push    esi
call    sub_277f4cfc
lea     eax, [ebp+var_1c]
mov     [ebp+var_18], ebx
push    eax
push    edi
push    esi
call    sub_277f498d
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     eax, [esi+44h]
jmp     short loc_277f4d6f
push    ebp
mov     ebp, esp
sub     esp, 20h
or      [ebp+var_4], 0ffffffffh
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+8], 80h
jz      short loc_277f4e71
cmp     ecx, [esi+44h]
jg      short loc_277f4e6a
push    0
push    ecx
push    eax
push    esi
call    sub_277f4c04
mov     edi, eax
cmp     edi, 0ffffffffh
jz      short loc_277f4e4f
test    byte ptr [esi+8], 4
mov     ebx, 100h
jz      short loc_277f4e76
push    11h
call    ds:getasynckeystate
test    ax, ax
jge     short loc_277f4e76
test    [esi+8], ebx
jz      short loc_277f4e76
push    1
lea     eax, [ebp+var_20]
pop     ebx
mov     [ebp+var_20], 10h
push    eax
push    edi
push    esi
mov     [ebp+var_18], ebx
call    sub_277f5401
xor     [ebp+var_1c], ebx
lea     eax, [ebp+var_20]
push    eax
push    edi
push    esi
call    sub_277f498d
test    byte ptr [esi+9], 80h
jnz     short loc_277f4e6a
cmp     [ebp+var_4], edi
jnz     short loc_277f4e6a
push    dword ptr [esi]
call    ds:setfocus
push    dword ptr [esi]
call    ds:updatewindow
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     eax, [esi+44h]
jmp     short loc_277f4df9
mov     eax, [esi+30h]
mov     [ebp+var_4], eax
mov     eax, [esi+8]
test    ah, 80h
jnz     short loc_277f4e91
test    ah, 10h
jz      short loc_277f4e91
push    dword ptr [esi]
call    ds:setfocus
test    [esi+8], ebx
jz      short loc_277f4eb5
push    dword ptr [esi]
or      dword ptr [esi+20h], 6
mov     [esi+34h], edi
call    ds:setcapture
mov     eax, [esi+8]
and     eax, 8
push    eax
push    edi
push    esi
call    sub_277f54ca
jmp     short loc_277f4e4f
push    0
push    1
push    edi
push    esi
call    sub_277f5570
mov     [ebp+var_4], eax
jmp     short loc_277f4e4f
push    ebx
mov     ebx, [esp+4+arg_0]
push    esi
push    edi
mov     eax, [ebx+24h]
add     eax, 38h
push    eax
call    sub_27811c9a
mov     esi, eax
test    esi, esi
jz      short loc_277f4f48
mov     edi, [esp+0ch+arg_4]
test    byte ptr [edi], 2
jz      short loc_277f4f37
mov     eax, [edi+14h]
mov     [esi+10h], eax
mov     eax, 7fffffffh
mov     [esi+18h], eax
mov     [esi+14h], eax
test    byte ptr [edi], 8
jz      short loc_277f4f13
mov     eax, [ebx+24h]
test    eax, eax
jz      short loc_277f4f13
push    eax
lea     eax, [edi+18h]
push    eax
lea     eax, [esi+38h]
push    eax
call    ds:rtlmovememory
test    byte ptr [edi], 1
jz      short loc_277f4f48
push    dword ptr [edi+0ch]
lea     eax, [esi+2ch]
push    eax
call    sub_2781617a
test    eax, eax
jnz     short loc_277f4f3d
push    esi
push    ebx
call    sub_277f522c
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
or      dword ptr [esi+10h], 0ffffffffh
jmp     short loc_277f4eed
mov     eax, [edi]
and     eax, 4
shl     eax, 5
mov     [esi+34h], eax
mov     eax, esi
jmp     short loc_277f4f31
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
mov     esi, dword ptr [ebp+arg_0]
lea     eax, [ebp+rc]
push    edi
push    eax
push    esi
call    sub_277f3e37
lea     eax, [ebp+rc]
push    eax
call    ds:isrectempty
test    eax, eax
jnz     short loc_277f4fb6
mov     eax, [ebp+rc.right]
test    byte ptr [esi+9], 2
mov     [esi+44h], eax
jz      short loc_277f4fbd
xor     edi, edi
xor     ecx, ecx
cmp     ecx, edi
jnz     short loc_277f4fd3
mov     eax, [esi+18h]
mov     ebx, ds:invalidaterect
cmp     eax, edi
jz      short loc_277f4fa0
push    edi
push    eax
call    ds:showwindow
push    1
push    edi
push    dword ptr [esi]
call    ebx
cmp     [esi+4ch], edi
jle     short loc_277f4fb6
push    edi
push    4
push    edi
push    esi
call    sub_277f4197
push    1
push    edi
push    dword ptr [esi]
call    ebx
pop     edi
pop     esi
pop     ebx
leave
retn    8
xor     edi, edi
push    edi
push    esi
call    sub_277f59e8
mov     eax, [ebp+rc.right]
xor     ecx, ecx
cmp     [esi+38h], eax
setnl   cl
jmp     short loc_277f4f80
mov     ebx, [esi+48h]
mov     ecx, eax
mov     [ebp+var_4], edi
mov     dword ptr [ebp+arg_0], edi
lea     edx, [ebx+ebx]
sub     ecx, edx
cmp     ecx, [esi+38h]
mov     [esi+44h], ecx
jge     short loc_277f5013
push    dword ptr [ebp+arg_0]
push    dword ptr [esi+1ch]
call    sub_27815cea
cmp     eax, edi
jz      short loc_277f5010
mov     ecx, [eax+8]
sub     ecx, [eax]
add     [ebp+var_4], ecx
inc     dword ptr [ebp+arg_0]
mov     eax, [ebp+var_4]
add     eax, [esi+44h]
cmp     eax, [esi+38h]
jl      short loc_277f4feb
mov     eax, [ebp+rc.right]
cmp     [esi+18h], edi
jnz     short loc_277f505e
push    1
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
push    dword ptr [esi+4ch]
mov     eax, [esi+8]
and     al, 80h
push    edi
push    dword ptr [ebp+arg_0]
neg     al
push    edi
push    dword_27828334
sbb     eax, eax
push    1
and     al, 0c1h
push    dword ptr [esi]
add     eax, 40000040h
push    edi
push    edi
push    edi
push    edi
push    eax
call    sub_277e248c
mov     [esi+18h], eax
cmp     [esi+18h], edi
mov     eax, [ebp+rc.right]
jz      loc_277f4fb6
lea     ecx, [ebx+ebx]
sub     eax, ecx
mov     [ebp+rc.left], eax
mov     eax, [esi+40h]
mov     ecx, eax
mov     [ebp+rc.bottom], eax
lea     eax, [ebp+rc]
sub     ecx, ebx
push    eax
push    esi
mov     [ebp+rc.top], ecx
call    sub_277f3e7f
cmp     [ebp+arg_4], edi
jnz     short loc_277f508f
push    dword ptr [esi+18h]
call    ds:iswindowvisible
test    eax, eax
jnz     short loc_277f50af
mov     eax, [ebp+rc.bottom]
push    54h
sub     eax, [ebp+rc.top]
push    eax
mov     eax, [ebp+rc.right]
sub     eax, [ebp+rc.left]
push    eax
push    [ebp+rc.top]
push    [ebp+rc.left]
push    edi
push    dword ptr [esi+18h]
call    ds:setwindowpos
movzx   eax, [ebp+arg_0]
push    eax
push    edi
push    465h
push    dword ptr [esi+18h]
call    ds:sendmessagea
jmp     loc_277f4fb6
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    [ebp+arg_8]
push    esi
call    sub_277f4ec5
mov     edi, eax
test    edi, edi
jz      short loc_277f50fd
push    edi
push    [ebp+arg_4]
push    dword ptr [esi+1ch]
call    sub_27815df2
mov     ebx, eax
cmp     ebx, 0ffffffffh
jnz     short loc_277f5107
push    edi
push    esi
call    sub_277f522c
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+30h]
xor     edi, edi
cmp     eax, edi
jge     loc_277f51b2
mov     [esi+30h], ebx
mov     eax, [esi+4ch]
cmp     eax, ebx
jle     short loc_277f5122
inc     eax
mov     [esi+4ch], eax
mov     eax, [esi+78h]
mov     dword ptr [esi+38h], 7fffffffh
cmp     eax, edi
jz      short loc_277f5165
mov     ecx, [ebp+arg_8]
mov     [ebp+lparam], 2ch
mov     ecx, [ecx]
and     ecx, 4
mov     [ebp+var_38], ecx
mov     ecx, [esi]
mov     [ebp+var_34], ecx
mov     ecx, [esi+1ch]
mov     ecx, [ecx]
or      [ebp+var_18], 0ffffffffh
dec     ecx
mov     [ebp+var_30], ecx
lea     ecx, [ebp+lparam]
push    ecx
push    edi
push    404h
push    eax
call    ds:sendmessagea
test    byte ptr [esi+20h], 10h
jz      short loc_277f5199
mov     eax, [esi+8]
test    ah, 1
jz      loc_277f5207
test    ah, 4
jz      loc_277f521f
push    edi
push    esi
call    sub_277f59e8
mov     eax, [esi+1ch]
mov     ecx, [eax]
dec     ecx
cmp     ebx, ecx
jnz     short loc_277f51c3
push    edi
push    ebx
push    esi
call    sub_277f54ca
lea     eax, [ebx+1]
push    eax
push    0fffffffch
push    dword ptr [esi]
push    8000h
call    sub_277b8949
mov     eax, ebx
jmp     loc_277f5100
cmp     eax, ebx
jl      loc_277f5117
inc     eax
mov     [esi+30h], eax
jmp     loc_277f5117
push    ebx
push    eax
call    sub_27815cea
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
test    edi, edi
jz      short loc_277f5199
mov     eax, [edi+4]
cmp     dword ptr [esi+64h], 0
mov     [ebp+rect.top], eax
jnz     short loc_277f51ed
mov     eax, [edi]
mov     [ebp+rect.left], eax
push    0
push    esi
call    sub_277f4f4c
push    41h
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
jmp     short loc_277f5199
mov     eax, [esi+30h]
cmp     eax, ebx
jle     short loc_277f521f
push    1
push    eax
push    esi
call    sub_277f54ca
push    dword ptr [esi]
call    ds:updatewindow
push    41h
push    esi
call    sub_277f553e
jmp     loc_277f5199
push    esi
mov     esi, [esp+4+lpmem]
test    esi, esi
jz      short loc_277f5246
lea     eax, [esi+2ch]
push    0
push    eax
call    sub_2781617a
push    esi
call    sub_27811d13
xor     eax, eax
pop     esi
retn    8
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
mov     eax, [edi+74h]
test    eax, eax
jz      short loc_277f5298
mov     ebx, [esp+0ch+y1]
test    ebx, ebx
jl      short loc_277f5298
push    ebx
push    eax
call    sub_27814204
mov     eax, [edi+1ch]
mov     esi, [eax]
dec     esi
js      short loc_277f5298
mov     eax, [edi+1ch]
mov     eax, [eax+4]
mov     eax, [eax+esi*4]
mov     ecx, [eax+10h]
cmp     ecx, ebx
jle     short loc_277f5287
dec     ecx
mov     [eax+10h], ecx
jmp     short loc_277f526e
jnz     short loc_277f526e
or      dword ptr [eax+10h], 0ffffffffh
push    0
push    esi
push    edi
call    sub_277f54ca
jmp     short loc_277f526e
pop     edi
pop     esi
pop     ebx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 3ch
or      [ebp+rect.left], 0ffffffffh
push    ebx
push    esi
mov     esi, [ebp+flags]
push    edi
mov     edi, [ebp+arg_4]
mov     eax, [esi+1ch]
cmp     edi, [eax]
jge     short loc_277f532c
lea     eax, [edi+1]
push    eax
push    0fffffffch
push    dword ptr [esi]
push    8001h
call    sub_277b8949
mov     ebx, 100h
test    [esi+8], ebx
jnz     short loc_277f52ea
test    byte ptr [esi+20h], 10h
jnz     short loc_277f52df
cmp     [esi+30h], edi
jl      short loc_277f52ea
push    1
push    dword ptr [esi+30h]
push    esi
call    sub_277f54ca
test    byte ptr [esi+9], 4
jz      short loc_277f5361
mov     eax, [esi+1ch]
push    1
mov     [ebp+flags], 41h
mov     eax, [eax]
dec     eax
push    eax
push    esi
call    sub_277f54ca
test    [esi+8], ebx
jz      short loc_277f531d
mov     eax, [esi+1ch]
mov     ecx, [eax]
dec     ecx
cmp     edi, ecx
jnz     short loc_277f5335
and     [ebp+rect.left], 0
and     [ebp+flags], 0
push    edi
push    dword ptr [esi+1ch]
call    sub_27815e5b
xor     ebx, ebx
cmp     eax, ebx
jnz     short loc_277f536a
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    edi
push    eax
call    sub_27815cea
mov     ebx, eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
test    ebx, ebx
jz      short loc_277f531d
mov     eax, [ebx+4]
cmp     dword ptr [esi+64h], 0
mov     [ebp+rect.top], eax
jnz     short loc_277f531d
mov     eax, [ebx]
mov     [ebp+rect.left], eax
jmp     short loc_277f531d
mov     [ebp+flags], 45h
jmp     short loc_277f531d
push    eax
push    esi
call    sub_277f522c
mov     eax, [esi+30h]
cmp     eax, edi
jnz     short loc_277f53db
or      dword ptr [esi+30h], 0ffffffffh
mov     eax, [esi+4ch]
cmp     eax, edi
jle     short loc_277f5387
dec     eax
mov     [esi+4ch], eax
mov     eax, [esi+78h]
or      dword ptr [esi+68h], 0ffffffffh
cmp     eax, ebx
mov     dword ptr [esi+38h], 7fffffffh
jz      short loc_277f53be
mov     ecx, [esi]
mov     [ebp+lparam], 2ch
mov     [ebp+var_34], ecx
mov     ecx, [esi+1ch]
mov     ecx, [ecx]
mov     [ebp+var_30], ecx
lea     ecx, [ebp+lparam]
push    ecx
push    ebx
push    405h
push    eax
call    ds:sendmessagea
test    byte ptr [esi+20h], 10h
jz      short loc_277f53d3
cmp     [ebp+rect.left], 0ffffffffh
jnz     short loc_277f53e3
push    [ebp+flags]
push    esi
call    sub_277f553e
push    1
pop     eax
jmp     loc_277f532e
jle     short loc_277f537c
dec     eax
mov     [esi+30h], eax
jmp     short loc_277f537c
push    ebx
push    esi
call    sub_277f4f4c
cmp     [ebp+flags], ebx
jz      short loc_277f53d3
push    [ebp+flags]
lea     eax, [ebp+rect]
push    ebx
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
jmp     short loc_277f53d3
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_8]
push    edi
push    [ebp+arg_4]
mov     eax, [esi]
mov     [ebp+arg_8], eax
push    dword ptr [ebx+1ch]
call    sub_27815cea
mov     edi, eax
xor     ecx, ecx
cmp     edi, ecx
jnz     short loc_277f544d
test    byte ptr [ebp+arg_8], 8
jz      short loc_277f5437
mov     [esi+18h], ecx
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
test    byte ptr [ebp+arg_8], 1
jz      short loc_277f5442
mov     [esi+0ch], ecx
jmp     short loc_277f542e
test    byte ptr [ebp+arg_8], 2
jz      short loc_277f542e
mov     [esi+14h], ecx
jmp     short loc_277f542e
test    byte ptr [ebp+arg_8], 1
jz      short loc_277f5467
mov     eax, [edi+2ch]
cmp     eax, ecx
jz      short loc_277f54c5
push    dword ptr [esi+10h]
push    eax
push    dword ptr [esi+0ch]
call    ds:lstrcpyna
test    byte ptr [ebp+arg_8], 10h
jz      short loc_277f5495
mov     ecx, [esi+8]
mov     eax, [edi+30h]
and     eax, ecx
test    cl, 1
mov     [esi+4], eax
jz      short loc_277f5495
mov     ecx, [ebp+arg_4]
cmp     [ebx+30h], ecx
jz      short loc_277f5490
cmp     [ebx+34h], ecx
jnz     short loc_277f5495
test    byte ptr [ebx+20h], 4
jz      short loc_277f5495
or      al, 1
mov     [esi+4], eax
test    byte ptr [ebp+arg_8], 8
jz      short loc_277f54b1
mov     ebx, [ebx+24h]
test    ebx, ebx
jz      short loc_277f54b1
lea     eax, [edi+38h]
push    ebx
push    eax
lea     eax, [esi+18h]
push    eax
call    ds:rtlmovememory
test    byte ptr [ebp+arg_8], 2
jz      short loc_277f54bd
mov     eax, [edi+10h]
mov     [esi+14h], eax
push    1
pop     eax
jmp     loc_277f5430
mov     [esi+0ch], ecx
jmp     short loc_277f5467
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     [ebp+arg_4], 0ffffffffh
push    ebx
jz      short loc_277f5539
push    [ebp+arg_4]
mov     ebx, [ebp+arg_0]
push    dword ptr [ebx+1ch]
call    sub_27815cea
test    eax, eax
jz      short loc_277f5539
push    edi
push    esi
mov     esi, eax
lea     edi, [ebp+rc]
movsd
movsd
mov     eax, [ebx+44h]
movsd
movsd
cmp     [ebp+rc.right], eax
jle     short loc_277f54ff
mov     [ebp+rc.right], eax
push    dy
lea     eax, [ebp+rc]
push    dword_2782a06c
push    eax
call    ds:inflaterect
test    byte ptr [ebx+8], 8
jz      short loc_277f552a
mov     eax, [ebp+rc.right]
mov     ecx, dword_2782a06c
lea     eax, [eax+ecx*2]
mov     [ebp+rc.right], eax
push    [ebp+berase]
lea     eax, [ebp+rc]
push    eax
push    ebx
call    sub_277f3cec
pop     esi
pop     edi
pop     ebx
leave
retn    0ch
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
jz      short loc_277f556c
test    byte ptr [esi+20h], 10h
jz      short loc_277f556c
push    0
push    esi
call    sub_277f4f4c
push    [esp+4+flags]
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
push    1
pop     eax
pop     esi
retn    8
xor     eax, eax
jmp     short loc_277f5568
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     eax, [esi+30h]
cmp     ebx, eax
jz      loc_277f56cf
xor     edi, edi
cmp     [ebp+arg_c], edi
jz      loc_277f567b
lea     eax, [ebp+var_28]
push    eax
push    ebx
push    esi
call    sub_277f6aa1
test    eax, eax
jz      loc_277f567b
mov     eax, [ebp+var_28]
mov     [ebp+point.x], eax
mov     eax, [ebp+var_24]
mov     [ebp+point.y], eax
mov     eax, [esi]
cmp     ebx, edi
mov     [ebp+hwnd], eax
jge     loc_277f5689
mov     eax, [esi+30h]
or      dword ptr [esi+30h], 0ffffffffh
mov     [ebp+var_8], eax
push    1
pop     ebx
push    ebx
push    esi
call    sub_277f4cfc
mov     eax, [esi+8]
test    bl, ah
jz      short loc_277f55e2
test    al, 8
jnz     short loc_277f55e2
xor     ebx, ebx
mov     edi, ds:updatewindow
test    ebx, ebx
jz      short loc_277f55f1
push    [ebp+hwnd]
call    edi
push    ebx
push    [ebp+var_8]
push    esi
call    sub_277f54ca
push    ebx
push    [ebp+arg_4]
push    esi
call    sub_277f54ca
push    [ebp+hwnd]
call    edi
cmp     [ebp+arg_c], 0
jz      short loc_277f5649
lea     eax, [ebp+var_28]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277f6aa1
test    eax, eax
jz      short loc_277f5649
mov     edi, [ebp+var_28]
mov     ebx, [ebp+var_24]
sub     edi, [ebp+point.x]
sub     ebx, [ebp+point.y]
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
mov     eax, [ebp+point.y]
add     eax, ebx
push    eax
mov     eax, [ebp+point.x]
add     eax, edi
push    eax
call    ds:setcursorpos
xor     eax, eax
cmp     [ebp+arg_8], eax
jz      short loc_277f5662
push    dword ptr [esi+10h]
push    eax
push    0fffffdd9h
push    [ebp+hwnd]
push    eax
call    sub_27811d28
mov     eax, [esi+30h]
inc     eax
push    eax
push    0fffffffch
push    [ebp+hwnd]
push    8006h
call    sub_277b8949
mov     eax, [ebp+var_8]
jmp     short loc_277f56cf
mov     [ebp+point.y], edi
mov     [ebp+point.x], edi
mov     [ebp+arg_c], edi
jmp     loc_277f55b4
mov     eax, [esi+1ch]
cmp     ebx, [eax]
jge     loc_277f57ae
push    ebx
push    eax
call    sub_27815cea
mov     edi, eax
xor     eax, eax
cmp     edi, eax
jz      loc_277f57ae
test    byte ptr [edi+30h], 4
jnz     loc_277f57ae
cmp     [ebp+arg_8], eax
jz      short loc_277f56d6
push    dword ptr [esi+10h]
push    eax
push    0fffffdd8h
push    [ebp+hwnd]
push    eax
call    sub_27811d28
test    eax, eax
jz      short loc_277f56d6
mov     eax, [esi+30h]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [esi+30h]
mov     [esi+30h], ebx
mov     [ebp+var_8], eax
mov     eax, [esi+8]
test    ah, 2
jz      short loc_277f571a
test    ah, 1
jnz     loc_277f55cb
cmp     dword ptr [esi+64h], 0
jle     loc_277f55cb
cmp     ebx, 0ffffffffh
jz      loc_277f55cb
mov     eax, [esi+1ch]
mov     eax, [eax+4]
mov     eax, [eax+ebx*4]
push    dword ptr [eax+28h]
push    esi
call    sub_277f4493
jmp     loc_277f55cb
lea     eax, [ebp+rect]
xor     ebx, ebx
and     [ebp+arg_0], ebx
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     ecx, [edi]
mov     eax, dword_2782a06c
cmp     ecx, eax
mov     [ebp+var_10], ecx
jge     short loc_277f575a
sub     eax, ecx
mov     ebx, eax
mov     eax, [ebp+arg_4]
mov     [ebp+arg_0], eax
test    ebx, ebx
jz      loc_277f55cb
push    [ebp+arg_0]
push    ebx
push    esi
call    sub_277f40b1
jmp     loc_277f55cb
mov     ecx, [esi+4ch]
cmp     [ebp+arg_4], ecx
jz      short loc_277f5743
mov     edi, [edi+8]
cmp     edi, [esi+44h]
mov     [ebp+var_c], edi
jle     short loc_277f5743
cmp     ecx, [ebp+arg_4]
mov     [ebp+arg_0], ecx
jge     short loc_277f579f
mov     edx, [esi+1ch]
mov     edx, [edx+4]
lea     edx, [edx+ecx*4]
mov     ecx, [edx]
add     edx, 4
mov     edi, [ecx]
sub     edi, [ecx+8]
mov     ecx, [ebp+var_c]
add     ebx, edi
inc     [ebp+arg_0]
add     ecx, ebx
cmp     ecx, [esi+44h]
jl      short loc_277f579f
mov     ecx, [ebp+arg_4]
cmp     [ebp+arg_0], ecx
jl      short loc_277f577e
mov     ecx, [ebp+arg_4]
cmp     [ebp+arg_0], ecx
jnz     short loc_277f5743
sub     eax, [ebp+var_10]
mov     ebx, eax
jmp     short loc_277f5743
or      eax, 0ffffffffh
jmp     loc_277f56cf
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
mov     [ebp+var_4], ebx
cmp     dword ptr [esi+40h], 7fffffffh
jnz     loc_277f589b
cmp     [ebp+hdc], ebx
mov     [ebp+arg_0], ebx
jnz     short loc_277f57f7
push    ebx
mov     [ebp+var_4], 1
call    ds:getdc
push    dword ptr [esi+2ch]
mov     [ebp+hdc], eax
push    eax
call    ds:selectobject
lea     eax, [ebp+tm]
push    eax
push    [ebp+hdc]
call    ds:gettextmetricsa
test    byte ptr [esi+90h], 1
jnz     short loc_277f581d
mov     eax, [ebp+tm.tmavecharwidth]
mov     ecx, [esi+54h]
lea     eax, [eax+eax*2]
add     ecx, eax
shl     ecx, 1
mov     [esi+3ch], ecx
mov     edx, [ebp+tm.tmheight]
mov     eax, dy
lea     eax, [edx+eax*2]
mov     [esi+48h], eax
mov     eax, [esi+74h]
cmp     eax, ebx
jz      short loc_277f584d
mov     ecx, [esi+8]
and     ecx, 80h
push    ecx
lea     ecx, [ebp+arg_0]
push    ecx
lea     ecx, [ebp+var_8]
push    ecx
push    eax
call    sub_277f3eb9
mov     edx, [ebp+tm.tmheight]
mov     eax, [esi+60h]
cmp     eax, ebx
jz      short loc_277f58a8
test    byte ptr [esi+9], 1
mov     [esi+40h], eax
mov     eax, dy
jz      short loc_277f58a2
lea     ecx, [eax+eax*2]
mov     edi, [esi+40h]
mov     [esi+8ch], edx
mov     eax, edi
sub     eax, edx
sub     eax, ecx
inc     eax
cdq
sub     eax, edx
sar     eax, 1
mov     [esi+6ch], eax
mov     eax, edi
sub     eax, [ebp+arg_0]
sub     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
cmp     [ebp+var_4], ebx
mov     [esi+70h], eax
jz      short loc_277f589b
push    [ebp+hdc]
push    ebx
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     ecx, [eax+eax-1]
jmp     short loc_277f5865
mov     eax, dy
mov     ecx, [esi+58h]
shl     ecx, 1
lea     edi, [eax+eax]
cmp     ecx, edi
jge     short loc_277f58bb
mov     ecx, edi
test    byte ptr [esi+9], 1
jnz     short loc_277f58c8
or      edi, 0ffffffffh
sub     edi, eax
add     ecx, edi
add     eax, edx
cmp     eax, [ebp+arg_0]
jg      short loc_277f58d2
mov     eax, [ebp+arg_0]
add     eax, ecx
mov     [esi+40h], eax
jmp     short loc_277f5865
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
mov     ebx, [ebp+arg_0]
xor     eax, eax
cmp     [ebx+78h], eax
jz      short loc_277f594c
mov     ecx, [ebx]
or      [ebp+var_c], 0ffffffffh
mov     [ebp+var_28], ecx
mov     ecx, [ebx+1ch]
mov     [ebp+lparam], 2ch
mov     [ebp+var_2c], eax
mov     ecx, [ecx]
mov     [ebp+arg_0], eax
cmp     ecx, eax
mov     [ebp+var_4], ecx
jle     short loc_277f594c
push    edi
push    esi
mov     ecx, [ebx+1ch]
lea     edi, [ebp+var_20]
mov     ecx, [ecx+4]
mov     esi, [ecx+eax*4]
mov     [ebp+var_24], eax
movsd
movsd
movsd
lea     eax, [ebp+var_20]
push    eax
push    ebx
movsd
call    sub_277f3e7f
lea     eax, [ebp+lparam]
push    eax
push    0
push    406h
push    dword ptr [ebx+78h]
call    ds:sendmessagea
inc     [ebp+arg_0]
mov     eax, [ebp+arg_0]
cmp     eax, [ebp+var_4]
jl      short loc_277f5951
pop     esi
pop     edi
pop     ebx
leave
retn    4
mov     eax, [ebp+arg_0]
jmp     short loc_277f590e
push    ebp
mov     ebp, esp
sub     esp, 80h
mov     eax, [ebp+arg_c]
push    esi
cmp     eax, 80h
jnb     short loc_277f599f
mov     ecx, [ebp+arg_0]
test    byte ptr [ecx+8], 80h
jnz     short loc_277f599f
lea     eax, [ebp+string]
push    eax
push    [ebp+arg_8]
call    sub_27811274
lea     eax, [ebp+string]
lea     esi, [ebp+string]
push    eax
call    ds:lstrlena
push    [ebp+lpsz]
push    eax
push    esi
push    [ebp+hdc]
call    ds:gettextextentpointa
pop     esi
leave
retn    14h
mov     esi, [ebp+arg_8]
jmp     short loc_277f598c
push    ebx
mov     ebx, dy
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     eax, [esi+1ch]
mov     edi, [eax]
dec     edi
js      short loc_277f59e2
mov     eax, [esi+1ch]
mov     edx, [esi+64h]
mov     eax, [eax+4]
mov     ecx, [eax+edi*4]
sub     edx, [ecx+28h]
mov     eax, edx
imul    eax, [esi+40h]
add     eax, ebx
mov     [ecx+28h], edx
sub     eax, [ecx+4]
push    eax
push    0
push    ecx
call    ds:offsetrect
jmp     short loc_277f59b6
pop     edi
pop     esi
pop     ebx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     ebx, ebx
mov     eax, [esi+1ch]
cmp     dword ptr [esi+38h], 7fffffffh
mov     [ebp+var_8], ebx
mov     [ebp+var_1c], ebx
mov     edi, [eax]
mov     [ebp+var_18], edi
jnz     loc_277f5c94
cmp     [esi+2ch], ebx
jnz     short loc_277f5a1e
push    ebx
push    ebx
push    esi
call    sub_277f41fc
cmp     [ebp+hdc], ebx
jnz     short loc_277f5a3e
push    ebx
mov     [ebp+var_1c], 1
call    ds:getdc
push    dword ptr [esi+2ch]
mov     [ebp+hdc], eax
push    eax
call    ds:selectobject
push    [ebp+hdc]
push    esi
call    sub_277f57b6
test    byte ptr [esi+9], 1
jz      loc_277f5c9b
mov     [ebp+var_10], ebx
mov     [ebp+arg_0], ebx
and     [ebp+var_c], 0
mov     ebx, [ebp+var_10]
test    edi, edi
jle     loc_277f5bfd
mov     eax, [esi+1ch]
and     [ebp+var_4], 0
mov     ecx, [ebp+var_c]
mov     eax, [eax+4]
mov     edi, [eax+ecx*4]
mov     eax, [edi+2ch]
test    eax, eax
jz      loc_277f5cb0
lea     ecx, [ebp+sz]
push    ecx
push    eax
call    ds:lstrlena
push    eax
push    dword ptr [edi+2ch]
push    [ebp+hdc]
push    esi
call    sub_277f5956
mov     eax, [ebp+sz._cx]
mov     [edi+1ch], eax
mov     eax, [esi+74h]
test    eax, eax
jz      loc_277f5cbd
cmp     dword ptr [edi+10h], 0ffffffffh
jz      loc_277f5cbd
mov     ecx, [esi+8]
and     ecx, 80h
push    ecx
lea     ecx, [ebp+var_20]
push    ecx
lea     ecx, [ebp+var_4]
push    ecx
push    eax
call    sub_277f3eb9
mov     eax, [ebp+var_4]
mov     edx, [ebp+sz._cx]
add     eax, [esi+54h]
mov     [ebp+var_4], eax
add     edx, eax
mov     ecx, [esi+8]
mov     [ebp+var_14], edx
test    ch, 4
jz      loc_277f5cc5
mov     edx, [esi+5ch]
mov     [ebp+sz._cx], edx
test    byte ptr [edi+30h], 4
jz      short loc_277f5afd
xor     edx, edx
mov     [ebp+sz._cx], edx
mov     [ebp+sz.cy], edx
test    ch, 2
jz      short loc_277f5b42
mov     eax, [esi+44h]
sub     eax, dword_2782a06c
cmp     ebx, eax
jg      short loc_277f5b1a
lea     ecx, [ebx+edx]
cmp     ecx, eax
jl      short loc_277f5b3c
cmp     edx, eax
jge     short loc_277f5b3c
mov     eax, [esi+40h]
mov     ebx, [ebp+var_10]
add     [ebp+arg_0], eax
inc     [ebp+var_8]
test    byte ptr [esi+9], 1
jz      short loc_277f5b3c
mov     eax, dy
lea     eax, [eax+eax*2]
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+arg_0], eax
mov     eax, [ebp+var_8]
mov     [edi+28h], eax
mov     [edi], ebx
mov     eax, [ebp+sz._cx]
add     ebx, eax
mov     eax, [ebp+arg_0]
mov     [edi+8], ebx
mov     [edi+4], eax
add     eax, [esi+40h]
mov     [edi+0ch], eax
mov     eax, [esi+8]
test    ah, 4
jz      loc_277f5ce0
test    al, 30h
jnz     loc_277f5ce0
mov     eax, [ebp+sz._cx]
sub     eax, [ebp+var_14]
cdq
sub     eax, edx
sar     eax, 1
mov     [edi+20h], eax
mov     eax, dword_2782a06c
cmp     [edi+20h], eax
jge     short loc_277f5b87
mov     [edi+20h], eax
test    byte ptr [esi+8], 10h
mov     eax, [ebp+var_4]
jz      loc_277f5ce8
sub     eax, [ebp+var_14]
add     eax, [ebp+sz._cx]
cdq
sub     eax, edx
sar     eax, 1
mov     [edi+14h], eax
mov     eax, dy
mov     ecx, [esi+70h]
mov     ebx, [edi+8]
cdq
sub     eax, edx
sar     eax, 1
sub     ecx, eax
add     ecx, [esi+58h]
mov     [edi+24h], ecx
mov     eax, dy
mov     ecx, [esi+6ch]
cdq
sub     eax, edx
sar     eax, 1
sub     ecx, eax
add     ecx, [esi+58h]
mov     [edi+18h], ecx
mov     eax, [esi+8]
test    ah, 1
jz      short loc_277f5beb
test    al, 8
mov     eax, dword_2782a06c
jz      loc_277f5cf0
mov     ecx, eax
add     ecx, ebx
lea     ebx, [ecx+eax*4]
inc     [ebp+var_c]
mov     eax, [ebp+var_c]
cmp     eax, [ebp+var_18]
jl      loc_277f5a66
mov     edi, [ebp+var_18]
mov     eax, [esi+64h]
mov     [esi+38h], ebx
or      ebx, 0ffffffffh
cmp     eax, ebx
jz      short loc_277f5c21
cmp     eax, [ebp+var_8]
jz      short loc_277f5c21
test    byte ptr [esi+9], 1
jnz     short loc_277f5c21
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
mov     eax, [ebp+var_8]
test    edi, edi
jg      short loc_277f5c2a
mov     eax, ebx
mov     [esi+64h], eax
mov     eax, [esi+8]
test    ah, 2
jz      loc_277f5cff
test    ah, 0ch
jnz     short loc_277f5c44
push    esi
call    sub_277f47ee
test    byte ptr [esi+8], 1
jz      short loc_277f5c5b
push    esi
call    sub_277f59a4
cmp     [esi+30h], ebx
jnz     short loc_277f5c5b
mov     eax, [esi+64h]
mov     [esi+68h], eax
test    byte ptr [esi+9], 1
jnz     short loc_277f5c7d
mov     eax, [esi+30h]
cmp     eax, ebx
jz      short loc_277f5c7d
mov     ecx, [esi+1ch]
mov     [esi+68h], ebx
mov     ecx, [ecx+4]
mov     eax, [ecx+eax*4]
push    dword ptr [eax+28h]
push    esi
call    sub_277f4493
cmp     [ebp+var_1c], 0
jz      short loc_277f5c8e
push    [ebp+hdc]
push    0
call    ds:releasedc
push    esi
call    sub_277f58d9
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, dword_2782a06c
mov     [ebp+var_10], eax
mov     eax, dy
mov     [ebp+arg_0], eax
jmp     loc_277f5a57
and     [ebp+sz._cx], 0
and     [ebp+sz.cy], 0
jmp     loc_277f5a99
mov     edx, [ebp+sz._cx]
jmp     loc_277f5ada
mov     eax, [esi+54h]
lea     edx, [edx+eax*2]
mov     eax, [esi+3ch]
cmp     edx, eax
mov     [ebp+sz._cx], edx
jge     loc_277f5aef
mov     edx, eax
jmp     loc_277f5aec
mov     eax, [esi+54h]
jmp     loc_277f5b77
add     eax, [edi+20h]
jmp     loc_277f5b9f
lea     eax, [eax+eax*2]
cdq
sub     eax, edx
sar     eax, 1
add     ebx, eax
jmp     loc_277f5beb
test    edi, edi
jle     loc_277f5c7d
push    dword ptr [esi+4ch]
push    dword ptr [esi+1ch]
call    sub_27815cea
test    eax, eax
jz      loc_277f5c7d
mov     ebx, dword_2782a06c
sub     ebx, [eax]
dec     edi
test    edi, edi
jl      loc_277f5c7d
mov     eax, [esi+1ch]
push    0
push    ebx
mov     eax, [eax+4]
push    dword ptr [eax+edi*4]
call    ds:offsetrect
dec     edi
js      loc_277f5c7d
jmp     short loc_277f5d2b
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
push    color
push    [ebp+hdc]
call    ds:setbkcolor
mov     esi, [ebp+arg_4]
lea     edi, [ebp+var_10]
movsd
movsd
movsd
xor     ebx, ebx
cmp     [ebp+arg_c], ebx
movsd
mov     eax, [ebp+var_8]
jz      loc_277f5e06
push    [ebp+arg_8]
add     eax, 0fffffffeh
mov     [ebp+var_10], eax
mov     eax, [ebp+var_4]
add     eax, 0fffffffdh
push    ebx
mov     [ebp+var_c], eax
push    ebx
lea     eax, [ebp+var_10]
push    ebx
push    eax
push    2
push    ebx
push    ebx
push    [ebp+hdc]
call    sub_277f3fbf
push    [ebp+arg_8]
dec     [ebp+var_4]
lea     eax, [ebp+var_10]
push    1019h
push    5
push    eax
push    [ebp+hdc]
call    sub_277f3d28
mov     esi, [ebp+arg_4]
lea     edi, [ebp+var_10]
movsd
movsd
movsd
push    [ebp+arg_8]
movsd
mov     eax, [ebp+var_10]
push    ebx
add     eax, 2
push    ebx
mov     [ebp+var_8], eax
mov     eax, [ebp+var_4]
add     eax, 0fffffffdh
push    ebx
mov     [ebp+var_c], eax
lea     eax, [ebp+var_10]
push    eax
push    2
push    ebx
push    ebx
push    [ebp+hdc]
call    sub_277f3fbf
push    [ebp+arg_8]
dec     [ebp+var_4]
push    1013h
lea     eax, [ebp+var_10]
push    5
push    eax
push    [ebp+hdc]
call    sub_277f3d28
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    [ebp+arg_8]
add     eax, 0fffffffeh
mov     [ebp+var_10], eax
mov     eax, [ebp+var_c]
add     eax, 3
push    ebx
mov     [ebp+var_4], eax
push    ebx
lea     eax, [ebp+var_10]
push    ebx
push    eax
push    2
push    ebx
push    ebx
push    [ebp+hdc]
call    sub_277f3fbf
push    [ebp+arg_8]
inc     [ebp+var_c]
lea     eax, [ebp+var_10]
push    101ch
push    5
push    eax
push    [ebp+hdc]
call    sub_277f3d28
mov     esi, [ebp+arg_4]
lea     edi, [ebp+var_10]
movsd
movsd
movsd
push    [ebp+arg_8]
movsd
mov     eax, [ebp+var_10]
push    ebx
add     eax, 2
push    ebx
mov     [ebp+var_8], eax
mov     eax, [ebp+var_c]
add     eax, 3
push    ebx
mov     [ebp+var_4], eax
lea     eax, [ebp+var_10]
push    eax
push    2
push    ebx
push    ebx
push    [ebp+hdc]
call    sub_277f3fbf
push    [ebp+arg_8]
inc     [ebp+var_c]
push    1016h
jmp     loc_277f5df1
push    ebp
mov     ebp, esp
sub     esp, 30h
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_277f5ef1
push    eax
call    ds:iswindowvisible
test    eax, eax
jz      short loc_277f5ef1
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:getclipbox
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+18h]
call    ds:getwindowrect
lea     eax, [ebp+rect]
push    2
push    eax
push    dword ptr [esi]
push    0
call    ds:mapwindowpoints
lea     eax, [ebp+rect]
push    eax
lea     eax, [ebp+rect]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      short loc_277f5ef1
push    1
push    0
push    0
push    dword ptr [esi+18h]
call    ds:redrawwindow
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 50h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_10]
xor     eax, eax
cmp     esi, [ebx+30h]
push    edi
setz    al
cmp     esi, [ebx+94h]
mov     edi, eax
jnz     short loc_277f5f33
test    byte ptr [ebx+8], 8
jnz     short loc_277f5f33
call    sub_27819290
push    eax
call    ds:getsyscolor
push    eax
push    [ebp+hdc]
call    ds:settextcolor
mov     ecx, [ebx+8]
test    ch, 20h
jz      loc_277f5fd7
push    dword ptr [ebx]
call    ds:getdlgctrlid
movzx   eax, ax
mov     [ebp+wparam], eax
mov     [ebp+var_4c], eax
xor     eax, eax
mov     [ebp+var_48], esi
test    edi, edi
mov     esi, [ebp+arg_c]
lea     edi, [ebp+var_34]
setnz   al
mov     [ebp+var_40], eax
mov     eax, [ebx]
mov     [ebp+var_3c], eax
mov     eax, [ebp+hdc]
mov     [ebp+lparam], 65h
mov     [ebp+var_44], 1
mov     [ebp+var_38], eax
lea     eax, [ebp+var_34]
movsd
movsd
movsd
push    eax
push    ebx
movsd
call    sub_277f3e7f
cmp     dword ptr [ebx+24h], 4
mov     eax, [ebp+arg_8]
ja      short loc_277f5fd2
mov     eax, [eax+38h]
mov     [ebp+var_24], eax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+wparam]
push    2bh
push    dword ptr [ebx+4]
call    ds:sendmessagea
mov     eax, [ebp+arg_10]
cmp     eax, [ebx+94h]
jnz     short loc_277f5fcb
test    byte ptr [ebx+8], 8
jnz     short loc_277f5fcb
push    dword_2782a128
push    [ebp+hdc]
call    ds:settextcolor
pop     edi
pop     esi
pop     ebx
leave
retn    20h
add     eax, 38h
jmp     short loc_277f5f96
mov     esi, [ebp+arg_8]
xor     edi, edi
mov     [ebp+arg_4], edi
mov     eax, [esi+2ch]
cmp     eax, edi
jz      short loc_277f5ffe
test    cl, 80h
jnz     short loc_277f5ffe
push    26h
push    eax
call    sub_278162ef
test    eax, eax
jz      short loc_277f5ffe
mov     [ebp+arg_4], 1
cmp     [ebp+arg_4], edi
jnz     short loc_277f6008
cmp     [esi+2ch], edi
jnz     short loc_277f6020
cmp     [ebp+wparam], edi
jnz     short loc_277f6020
push    ebx
push    edi
push    edi
push    edi
push    [ebp+arg_c]
push    2
push    edi
push    edi
push    [ebp+hdc]
call    sub_277f3fbf
mov     edi, [esi+14h]
mov     eax, [esi+20h]
add     edi, [ebp+options]
add     eax, [ebp+options]
mov     ecx, [esi]
add     edi, ecx
add     eax, ecx
cmp     dword ptr [esi+2ch], 0
mov     [ebp+arg_8], eax
jz      loc_277f6125
mov     eax, [ebx+8]
mov     ecx, eax
and     ecx, 80h
jz      short loc_277f607d
test    al, 2
jnz     short loc_277f607d
mov     eax, [ebx+74h]
add     edi, [esi+1ch]
test    eax, eax
jz      short loc_277f607d
cmp     dword ptr [esi+10h], 0ffffffffh
jz      short loc_277f607d
push    ecx
lea     ecx, [ebp+var_c]
push    ecx
lea     ecx, [ebp+options]
push    ecx
push    eax
call    sub_277f3eb9
mov     eax, [ebp+arg_8]
add     eax, [esi+1ch]
sub     edi, [ebp+options]
mov     [ebp+arg_8], edi
mov     edi, eax
test    byte ptr [esi+30h], 2
jz      short loc_277f60b5
push    2
push    [ebp+hdc]
call    ds:setbkmode
push    dword_2782a114
mov     [ebp+mode], eax
push    [ebp+hdc]
call    ds:setbkcolor
push    dword_2782a130
mov     [ebp+color], eax
push    [ebp+hdc]
call    ds:settextcolor
mov     [ebp+var_c], eax
xor     ecx, ecx
cmp     [ebp+arg_4], ecx
jz      loc_277f6167
mov     eax, [ebp+arg_c]
mov     [ebp+dtp.irightmargin], ecx
lea     ecx, [ebp+dtp]
push    ebx
sub     edi, [eax]
push    ecx
mov     ecx, [esi+34h]
mov     [ebp+dtp.cbsize], 14h
neg     ecx
sbb     ecx, ecx
mov     [ebp+dtp.ileftmargin], edi
and     ecx, 20000h
or      cx, 8024h
push    ecx
push    eax
push    0ffffffffh
push    dword ptr [esi+2ch]
push    [ebp+hdc]
call    sub_277f3f77
test    byte ptr [esi+30h], 2
jz      short loc_277f6122
push    [ebp+mode]
push    [ebp+hdc]
call    ds:setbkmode
push    [ebp+color]
push    [ebp+hdc]
call    ds:setbkcolor
push    [ebp+var_c]
push    [ebp+hdc]
call    ds:settextcolor
mov     eax, [ebp+arg_8]
cmp     dword ptr [ebx+74h], 0
jz      loc_277f5fab
mov     edi, [esi+10h]
cmp     edi, 0ffffffffh
jz      loc_277f5fab
xor     ecx, ecx
cmp     [ebp+wparam], ecx
setnz   cl
test    byte ptr [esi+30h], 2
jz      short loc_277f614c
or      ecx, 4
push    ecx
mov     ecx, [esi+24h]
add     ecx, [esi+4]
add     ecx, [ebp+arg_1c]
push    ecx
push    eax
push    [ebp+hdc]
push    edi
push    ebx
call    sub_277f3f12
jmp     loc_277f5fab
mov     eax, [esi+34h]
or      al, 4
cmp     [ebp+wparam], ecx
mov     [ebp+options], eax
jz      short loc_277f617a
test    byte ptr [esi+30h], 2
jz      short loc_277f617f
or      al, 2
mov     [ebp+options], eax
push    ebx
push    ecx
push    dword ptr [esi+2ch]
call    ds:lstrlena
push    eax
mov     eax, [esi+18h]
push    dword ptr [esi+2ch]
add     eax, [esi+4]
push    [ebp+arg_c]
add     eax, [ebp+arg_1c]
push    [ebp+options]
push    eax
push    edi
push    [ebp+hdc]
call    sub_277f3fbf
jmp     loc_277f60f8
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
mov     eax, [esi+8]
mov     [ebp+var_4], edi
test    ah, 1
jz      loc_277f6327
test    al, 8
jz      loc_277f631d
cmp     [ebp+h], 0ah
jz      short loc_277f61f1
push    4
pop     ecx
cmp     [ebp+h], ecx
jz      short loc_277f61f1
test    al, 40h
jz      short loc_277f6209
mov     eax, [ebp+ho]
cmp     eax, [esi+94h]
jnz     short loc_277f6209
mov     [ebp+h], ecx
push    0fh
pop     ecx
push    esi
push    ecx
push    [ebp+h]
push    [ebp+lprcsrc]
push    [ebp+hdc]
call    sub_277f3d28
jmp     loc_277f62ff
push    [ebp+lprcsrc]
lea     eax, [ebp+rcdst]
push    eax
call    ds:copyrect
lea     eax, [ebp+rcdst]
push    eax
push    esi
call    sub_277f3e7f
push    0fh
call    ds:getsyscolor
push    eax
mov     eax, dy
add     eax, eax
push    eax
push    edi
call    ds:createpen
mov     esi, ds:selectobject
push    eax
push    [ebp+hdc]
mov     [ebp+ho], eax
call    esi
push    edi
mov     edi, ds:movetoex
push    [ebp+rcdst.top]
mov     [ebp+h], eax
push    [ebp+rcdst.left]
push    [ebp+hdc]
call    edi
push    [ebp+rcdst.top]
mov     ebx, ds:lineto
push    [ebp+rcdst.right]
push    [ebp+hdc]
call    ebx
push    0
push    [ebp+rcdst.bottom]
push    [ebp+rcdst.left]
push    [ebp+hdc]
call    edi
push    [ebp+rcdst.bottom]
push    [ebp+rcdst.right]
push    [ebp+hdc]
call    ebx
push    [ebp+h]
push    [ebp+hdc]
call    esi
push    [ebp+ho]
call    ds:deleteobject
push    0fh
call    ds:getsyscolor
push    eax
mov     eax, dword_2782a06c
add     eax, eax
push    eax
push    0
call    ds:createpen
push    eax
mov     [ebp+ho], eax
push    [ebp+hdc]
call    esi
push    0
mov     [ebp+h], eax
push    [ebp+rcdst.top]
push    [ebp+rcdst.left]
push    [ebp+hdc]
call    edi
push    [ebp+rcdst.bottom]
push    [ebp+rcdst.left]
push    [ebp+hdc]
call    ebx
push    0
push    [ebp+rcdst.top]
push    [ebp+rcdst.right]
push    [ebp+hdc]
call    edi
push    [ebp+rcdst.bottom]
push    [ebp+rcdst.right]
push    [ebp+hdc]
call    ebx
push    [ebp+h]
push    [ebp+hdc]
call    esi
push    [ebp+ho]
call    ds:deleteobject
mov     esi, [ebp+arg_0]
mov     eax, [esi+8]
test    ah, 1
jnz     short loc_277f6352
push    [ebp+var_4]
push    esi
push    [ebp+lprcsrc]
push    [ebp+hdc]
call    sub_277f5d46
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     ecx, 100fh
jmp     loc_277f61f4
test    al, 1
mov     ecx, 1007h
jz      loc_277f61f4
mov     eax, [ebp+lprcsrc]
mov     eax, [eax+28h]
cmp     eax, [esi+68h]
jle     loc_277f61f4
mov     [ebp+var_4], 1
add     ecx, 6
jmp     loc_277f61f4
test    al, 8
jz      short loc_277f6316
test    byte ptr [esi+28h], 1
jz      short loc_277f6316
push    [ebp+lprcsrc]
lea     eax, [ebp+rcdst]
push    eax
call    ds:copyrect
mov     eax, dword_2782a06c
push    esi
mov     ecx, eax
push    4
add     ecx, [ebp+rcdst.right]
push    6
lea     eax, [ecx+eax*2]
mov     [ebp+rcdst.right], eax
lea     eax, [ebp+rcdst]
push    eax
push    [ebp+hdc]
call    sub_277f3d28
jmp     short loc_277f6316
push    ebp
mov     ebp, esp
sub     esp, 0a8h
push    ebx
mov     ebx, [ebp+hdc]
push    esi
push    edi
mov     edi, [ebx]
lea     eax, [ebp+rect]
xor     esi, esi
push    eax
push    edi
mov     [ebp+var_1c], 2
mov     [ebp+hwnd], edi
mov     [ebp+h], esi
call    ds:getclientrect
cmp     [ebp+rect.right], esi
jz      loc_277f680a
mov     eax, [ebp+arg_4]
cmp     eax, esi
jz      loc_277f6811
lea     esi, [ebp+rect]
lea     edi, [ebp+paint.rcpaint]
movsd
movsd
movsd
movsd
mov     [ebp+hdc], eax
xor     esi, esi
cmp     [ebx+2ch], esi
jnz     short loc_277f63ea
push    esi
push    esi
push    ebx
call    sub_277f41fc
push    dword ptr [ebx+2ch]
push    [ebp+hdc]
call    ds:selectobject
mov     edi, [ebp+hdc]
push    edi
push    ebx
call    sub_277f59e8
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_277f3e21
lea     eax, [ebp+rect]
push    eax
push    esi
push    ebx
call    sub_277f6be6
mov     eax, dy
add     eax, eax
push    eax
mov     eax, dword_2782a06c
add     eax, eax
push    eax
lea     eax, [ebp+rect]
push    eax
call    ds:inflaterect
mov     eax, dy
add     [ebp+rect.top], eax
test    byte ptr [ebx+9], 1
jnz     short loc_277f644f
push    ebx
push    100fh
lea     eax, [ebp+rect]
push    5
push    eax
push    edi
call    sub_277f3d28
mov     eax, [ebx+1ch]
mov     esi, [eax]
test    esi, esi
mov     [ebp+var_40], esi
jz      loc_277f67f4
push    edi
push    ebx
call    sub_277f5e86
push    color
push    edi
call    ds:setbkcolor
push    dword_2782a128
push    edi
call    ds:settextcolor
test    byte ptr [ebx+9], 2
jnz     short loc_277f6497
push    [ebp+rect.bottom]
push    dword ptr [ebx+44h]
push    0
push    0
push    edi
call    ds:intersectcliprect
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:getclipbox
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_277f3e9c
mov     edi, [ebx+4ch]
cmp     edi, esi
mov     [ebp+ho], edi
jge     loc_277f66b3
mov     eax, [ebx+1ch]
mov     eax, [eax+4]
mov     esi, [eax+edi*4]
mov     [ebp+var_4], esi
test    byte ptr [esi+30h], 4
jnz     loc_277f66a3
mov     eax, [ebx+8]
test    ah, 2
jnz     short loc_277f64e3
mov     ecx, [esi]
cmp     ecx, [ebx+44h]
jg      loc_277f66b0
cmp     edi, [ebx+30h]
jnz     short loc_277f64f1
test    ah, 1
jz      loc_277f66a3
lea     eax, [ebp+rect]
push    esi
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      loc_277f66a3
lea     edi, [ebp+rc]
mov     eax, [ebx+8]
movsd
movsd
and     [ebp+options], 0
and     [ebp+var_28], 0
mov     ecx, dword_2782a06c
mov     [ebp+var_20], eax
and     [ebp+var_20], 100h
mov     [ebp+var_44], eax
movsd
movsd
mov     edi, dy
jz      loc_277f683b
mov     eax, [ebx+34h]
mov     edx, [ebp+ho]
cmp     eax, edx
jnz     short loc_277f654d
test    byte ptr [ebx+20h], 4
jnz     loc_277f6827
cmp     [ebx+30h], edx
jz      loc_277f6827
mov     esi, [ebp+var_4]
test    byte ptr [esi+30h], 1
jz      loc_277f683e
mov     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
mov     [ebp+options], eax
mov     eax, edi
cdq
sub     eax, edx
sar     eax, 1
test    byte ptr [ebp+var_44], 8
mov     [ebp+var_28], eax
jz      loc_277f682f
mov     eax, [ebx+34h]
cmp     eax, [ebp+ho]
jnz     loc_277f682f
test    byte ptr [ebx+20h], 4
jz      loc_277f682f
mov     [ebp+var_4], 4
cmp     [ebp+var_20], 0
jz      short loc_277f661d
test    byte ptr [ebp+var_44+1], 20h
jnz     short loc_277f661d
mov     eax, [ebp+ho]
cmp     [ebx+30h], eax
jnz     short loc_277f661d
push    1
pop     eax
push    eax
mov     [ebp+var_1c], eax
push    [ebp+hdc]
call    ds:setbkmode
push    ho
push    [ebp+hdc]
call    ds:selectobject
push    dword_2782a118
mov     edi, ds:settextcolor
mov     [ebp+h], eax
push    [ebp+hdc]
call    edi
mov     eax, [esi+4]
mov     edx, [esi+0ch]
mov     ecx, [esi]
push    ebx
sub     edx, eax
push    0f00021h
push    edx
mov     edx, [esi+8]
sub     edx, ecx
push    edx
push    eax
push    ecx
push    [ebp+hdc]
call    sub_277f3d9d
push    dword_2782a128
push    [ebp+hdc]
call    edi
mov     edi, dy
mov     ecx, dword_2782a06c
neg     edi
neg     ecx
push    edi
lea     eax, [ebp+rc]
push    ecx
push    eax
call    ds:inflaterect
mov     eax, [ebx+8]
test    ah, 1
jnz     short loc_277f664d
test    al, 82h
jz      short loc_277f664d
mov     eax, [esi+28h]
cmp     eax, [ebx+68h]
mov     eax, dy
jle     loc_277f684a
sub     [ebp+rc.top], eax
push    [ebp+var_28]
xor     eax, eax
cmp     [ebp+var_1c], 1
push    [ebp+options]
setz    al
push    eax
lea     eax, [ebp+rc]
push    [ebp+ho]
push    eax
push    esi
push    ebx
push    [ebp+hdc]
call    sub_277f5ef6
push    [ebp+ho]
push    esi
push    [ebp+var_4]
push    [ebp+hdc]
push    ebx
call    sub_277f61ac
cmp     [ebp+var_1c], 1
jnz     short loc_277f66a0
push    2
pop     esi
push    [ebp+h]
mov     [ebp+var_1c], esi
push    [ebp+hdc]
call    ds:selectobject
push    esi
push    [ebp+hdc]
call    ds:setbkmode
mov     edi, [ebp+ho]
inc     edi
cmp     edi, [ebp+var_40]
mov     [ebp+ho], edi
jl      loc_277f64ba
mov     esi, [ebp+var_40]
test    byte ptr [ebx+9], 2
jnz     loc_277f6852
dec     edi
mov     [ebx+50h], edi
push    dword ptr [ebx+30h]
push    dword ptr [ebx+1ch]
call    sub_27815cea
test    eax, eax
mov     [ebp+var_4], eax
jz      loc_277f6790
mov     ecx, [eax]
cmp     ecx, [ebx+44h]
jg      loc_277f6790
mov     esi, eax
lea     edi, [ebp+rc]
movsd
movsd
test    byte ptr [ebx+9], 1
movsd
movsd
jnz     loc_277f6790
push    dy
lea     eax, [ebp+rc]
push    dword_2782a06c
push    eax
call    ds:inflaterect
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rect]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      short loc_277f6790
mov     eax, dy
xor     esi, esi
neg     eax
push    eax
push    esi
push    esi
lea     eax, [ebp+rc]
push    dword ptr [ebx+30h]
push    eax
push    [ebp+var_4]
push    ebx
push    [ebp+hdc]
call    sub_277f5ef6
dec     [ebp+rc.bottom]
push    ebx
push    1007h
lea     eax, [ebp+rc]
push    5
push    eax
push    [ebp+hdc]
call    sub_277f3d28
push    esi
lea     eax, [ebp+rc]
push    ebx
push    eax
push    [ebp+hdc]
call    sub_277f5d46
inc     [ebp+rc.bottom]
mov     eax, [ebp+rc.bottom]
dec     eax
mov     [ebp+rc.top], eax
mov     eax, [ebp+rc.right]
cmp     eax, [ebp+rect.right]
jnz     loc_277f685b
mov     eax, 1004h
push    ebx
push    eax
lea     eax, [ebp+rc]
push    5
push    eax
push    [ebp+hdc]
call    sub_277f3d28
call    ds:getfocus
cmp     eax, [ebp+hwnd]
jnz     short loc_277f67f4
cmp     [ebp+var_4], 0
jnz     short loc_277f67b5
mov     eax, [ebx+34h]
cmp     eax, 0ffffffffh
jz      short loc_277f67b5
push    eax
push    dword ptr [ebx+1ch]
call    sub_27815cea
mov     [ebp+var_4], eax
mov     esi, [ebp+var_4]
test    esi, esi
jz      short loc_277f67f4
lea     edi, [ebp+rc]
mov     eax, dy
movsd
movsd
test    byte ptr [ebx+9], 1
movsd
movsd
jz      loc_277f6871
neg     eax
push    eax
mov     eax, dword_2782a06c
neg     eax
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:inflaterect
lea     eax, [ebp+rc]
push    ebx
push    eax
push    [ebp+hdc]
call    sub_277f4077
cmp     [ebp+arg_4], 0
jnz     short loc_277f680a
lea     eax, [ebp+paint]
push    eax
push    [ebp+hwnd]
call    ds:endpaint
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+paint]
push    eax
push    edi
call    ds:beginpaint
mov     [ebp+hdc], eax
jmp     loc_277f63dd
mov     esi, [ebp+var_4]
jmp     loc_277f6563
mov     [ebp+var_4], 0ah
jmp     loc_277f659e
mov     esi, [ebp+var_4]
mov     [ebp+var_4], 5
jmp     loc_277f659e
add     [ebp+rc.bottom], eax
jmp     loc_277f664d
dec     esi
mov     [ebx+50h], esi
jmp     loc_277f66c1
mov     eax, [ebp+rc.left]
cmp     eax, [ebp+rect.left]
jnz     loc_277f6790
mov     eax, 1001h
jmp     loc_277f6780
push    0fffffffeh
cdq
pop     ecx
idiv    ecx
push    eax
mov     eax, dword_2782a06c
cdq
idiv    ecx
jmp     loc_277f67dc
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    [ebp+arg_4]
push    dword ptr [esi+1ch]
call    sub_27815cea
mov     edx, eax
test    edx, edx
jz      short loc_277f68e9
xor     eax, eax
cmp     [ebp+arg_8], 26h
mov     ecx, [edx+28h]
setnz   al
dec     eax
and     al, 0feh
inc     eax
add     ecx, eax
mov     eax, [edx+8]
add     eax, [edx]
cdq
sub     eax, edx
mov     edi, eax
sar     edi, 1
cmp     ecx, [esi+64h]
jg      short loc_277f68e6
test    ecx, ecx
jl      short loc_277f68e6
mov     esi, [esi+1ch]
mov     eax, [esi]
dec     eax
js      short loc_277f68e6
mov     edx, [esi+4]
lea     esi, [edx+eax*4]
mov     edx, [esi]
cmp     [edx+28h], ecx
jnz     short loc_277f68de
cmp     [edx], edi
jl      short loc_277f68e9
dec     eax
sub     esi, 4
test    eax, eax
jge     short loc_277f68d3
mov     eax, [ebp+arg_4]
pop     edi
pop     esi
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+9], 1
jz      loc_277f6987
mov     edi, [ebp+arg_4]
xor     ebx, ebx
cmp     edi, ebx
jl      short loc_277f6980
mov     eax, [esi+1ch]
cmp     edi, [eax]
jge     short loc_277f6980
mov     eax, [esi+34h]
cmp     eax, edi
jz      short loc_277f6980
cmp     eax, 0ffffffffh
jz      short loc_277f6929
push    ebx
push    eax
push    esi
call    sub_277f54ca
push    ebx
push    edi
push    esi
call    sub_277f54ca
or      dword ptr [esi+20h], 4
mov     [esi+34h], edi
test    byte ptr [esi+9], 2
jnz     short loc_277f6970
lea     eax, [ebp+var_10]
push    eax
push    edi
push    esi
call    sub_277f6aa1
mov     eax, [ebp+var_8]
cmp     eax, [esi+44h]
jle     short loc_277f6961
mov     eax, [esi+4ch]
inc     eax
push    eax
push    4
push    ebx
push    esi
call    sub_277f4197
jmp     short loc_277f693e
cmp     [ebp+var_10], ebx
jge     short loc_277f6970
push    edi
push    4
push    ebx
push    esi
call    sub_277f4197
inc     edi
push    edi
push    0fffffffch
push    dword ptr [esi]
push    8005h
call    sub_277b8949
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edi, [esi+30h]
push    0
push    1
push    [ebp+arg_4]
push    esi
call    sub_277f5570
cmp     edi, [esi+30h]
jz      short loc_277f6980
mov     edi, [esi]
call    ds:getfocus
cmp     eax, edi
jnz     short loc_277f6980
mov     eax, [esi+30h]
inc     eax
push    eax
push    0fffffffch
push    edi
jmp     short loc_277f6976
push    ebp
mov     ebp, esp
sub     esp, 14h
mov     eax, [ebp+arg_10]
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
mov     [ebp+var_6], eax
push    dword ptr [esi+10h]
lea     eax, [ebp+lparam]
mov     [ebp+var_8], di
push    eax
push    0fffffddah
push    dword ptr [esi]
push    0
call    sub_27811d28
mov     ecx, [esi+8]
mov     edx, ecx
and     edx, 100h
jz      short loc_277f69f8
mov     eax, [esi+34h]
or      dword ptr [esi+20h], 6
cmp     eax, 0ffffffffh
jnz     short loc_277f69fb
mov     eax, [esi+30h]
test    cl, 80h
jz      short loc_277f6a13
mov     ecx, edi
sub     ecx, 25h
jz      short loc_277f6a2d
dec     ecx
jz      short loc_277f6a29
dec     ecx
jz      short loc_277f6a25
dec     ecx
jnz     short loc_277f6a13
push    27h
pop     edi
cmp     edi, 20h
ja      short loc_277f6a4a
jz      short loc_277f6a31
cmp     edi, 0dh
jz      short loc_277f6a35
pop     edi
pop     esi
leave
retn    14h
push    26h
jmp     short loc_277f6a12
push    25h
jmp     short loc_277f6a12
push    28h
jmp     short loc_277f6a12
test    edx, edx
jz      short loc_277f6a1f
push    0
push    1
push    eax
push    esi
call    sub_277f5570
or      dword ptr [esi+34h], 0ffffffffh
and     dword ptr [esi+20h], 0fffffffbh
jmp     short loc_277f6a1f
mov     ecx, edi
sub     ecx, 23h
jz      short loc_277f6a83
dec     ecx
jz      short loc_277f6a7f
dec     ecx
jz      short loc_277f6a88
dec     ecx
jz      short loc_277f6a60
dec     ecx
jz      short loc_277f6a6f
dec     ecx
jnz     short loc_277f6a1f
cmp     eax, 0ffffffffh
jz      short loc_277f6a7f
push    edi
push    eax
push    esi
call    sub_277f6885
jmp     short loc_277f6a70
inc     eax
test    eax, eax
jge     short loc_277f6a76
xor     eax, eax
push    eax
push    esi
call    sub_277f68ef
jmp     short loc_277f6a1f
xor     eax, eax
jmp     short loc_277f6a70
mov     eax, [esi+1ch]
mov     eax, [eax]
dec     eax
jmp     short loc_277f6a70
mov     eax, [esp+arg_0]
push    1
push    eax
mov     dword ptr [eax+38h], 7fffffffh
call    sub_277f4f4c
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
push    [ebp+arg_4]
push    dword ptr [edi+1ch]
call    sub_27815cea
mov     ebx, [ebp+arg_8]
xor     esi, esi
cmp     ebx, esi
mov     [ebp+arg_4], eax
mov     [ebp+var_4], esi
jz      short loc_277f6aeb
push    esi
push    edi
call    sub_277f59e8
cmp     [ebp+arg_4], esi
jz      short loc_277f6af5
mov     esi, [ebp+arg_4]
mov     edi, ebx
movsd
movsd
movsd
movsd
mov     edi, [ebp+arg_0]
mov     [ebp+var_4], 1
push    ebx
push    edi
call    sub_277f3e7f
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     [ebx+4], esi
mov     eax, [edi+40h]
mov     [ebx+0ch], eax
mov     [ebx+8], esi
mov     [ebx], esi
jmp     short loc_277f6ae4
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
push    edi
jz      short loc_277f6b6d
cmp     [esp+8+arg_4], 0fffffff0h
jnz     short loc_277f6b6d
mov     edi, [esp+8+arg_8]
mov     ecx, [esi+8]
mov     eax, [edi+4]
xor     eax, ecx
and     eax, 2fbah
jz      short loc_277f6b59
xor     eax, ecx
test    ah, 4
mov     [esi+8], eax
jnz     short loc_277f6b38
and     al, 0cfh
mov     [esi+8], eax
test    byte ptr [esi+20h], 10h
mov     eax, 7fffffffh
mov     [esi+38h], eax
mov     [esi+40h], eax
jz      short loc_277f6b51
push    1
push    esi
call    sub_277f4f4c
push    5
push    esi
call    sub_277f553e
mov     ecx, [esi+8]
mov     eax, [edi+4]
xor     eax, ecx
and     eax, 9000h
jz      short loc_277f6b6d
xor     eax, ecx
mov     [esi+8], eax
pop     edi
pop     esi
retn    0ch
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     eax, [esi+80h]
mov     edi, [esi+28h]
test    eax, eax
jz      short loc_277f6b92
push    eax
call    sub_27812b8a
and     dword ptr [esi+80h], 0
mov     ecx, [esp+8+arg_8]
test    ecx, ecx
jz      short loc_277f6be0
mov     eax, ecx
and     ecx, [esp+8+arg_4]
not     eax
and     eax, [esi+28h]
or      eax, ecx
mov     ecx, edi
mov     [esi+28h], eax
xor     ecx, eax
test    cl, 1
jz      short loc_277f6bbf
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
test    byte ptr [esi+28h], 2
jz      short loc_277f6bd9
push    1
push    offset sub_277f3a6a
push    dword ptr [esi]
call    sub_27812b44
mov     [esi+80h], eax
mov     eax, edi
pop     edi
pop     esi
retn    0ch
mov     eax, [esp+8+arg_4]
jmp     short loc_277f6ba7
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
push    ebx
push    esi
call    sub_277f59e8
test    byte ptr [esi+9], 1
jz      short loc_277f6c66
mov     eax, [esi+1ch]
cmp     [eax], ebx
jz      short loc_277f6c62
mov     eax, [eax]
lea     ecx, [ebp+var_10]
dec     eax
push    ecx
push    eax
push    esi
call    sub_277f6aa1
mov     eax, [ebp+var_4]
cmp     [ebp+arg_4], ebx
mov     edi, [ebp+lprc]
jz      short loc_277f6c70
sub     [edi+4], eax
mov     eax, dy
add     eax, eax
push    eax
mov     eax, dword_2782a06c
add     eax, eax
push    eax
push    edi
call    ds:inflaterect
test    byte ptr [esi+8], 1
jz      short loc_277f6c5b
mov     eax, [esi+64h]
sub     eax, [esi+68h]
imul    eax, [esi+40h]
cmp     [ebp+arg_4], ebx
jnz     short loc_277f6c52
neg     eax
push    eax
push    ebx
push    edi
call    ds:offsetrect
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     eax, eax
jmp     short loc_277f6c19
mov     eax, [esi+64h]
inc     eax
imul    eax, [esi+40h]
jmp     short loc_277f6c19
add     [edi+4], eax
mov     eax, dy
neg     eax
shl     eax, 1
push    eax
mov     eax, dword_2782a06c
neg     eax
shl     eax, 1
jmp     short loc_277f6c33
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
push    edi
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     ebx, [ebp+msg]
mov     esi, eax
test    esi, esi
mov     edi, 200h
jz      short loc_277f6ceb
cmp     ebx, edi
jb      short loc_277f6ceb
cmp     ebx, 209h
ja      short loc_277f6ceb
test    byte ptr [esi+8], 40h
jz      short loc_277f6ceb
mov     eax, [esi+90h]
lea     ecx, [esi+90h]
test    al, 2
jnz     short loc_277f6ceb
push    2
mov     [ebp+var_1c.lparam], 10h
pop     edx
or      eax, edx
mov     [ebp+var_1c.time], edx
mov     [ecx], eax
mov     eax, [esi]
mov     [ebp+var_1c.pt.x], eax
lea     eax, [ebp+var_1c.lparam]
push    eax
call    sub_27812acf
cmp     ebx, 0fh
ja      loc_277f6e0d
jz      loc_277f7135
mov     eax, ebx
dec     eax
jz      loc_277f6dc7
dec     eax
jz      loc_277f6dbc
sub     eax, 3
jz      loc_277f6db1
dec     eax
dec     eax
jz      short loc_277f6d78
dec     eax
jz      short loc_277f6d5b
sub     eax, 3
jnz     short def_277f716c
push    [ebp+wparam]
push    esi
call    sub_277f41dc
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     ecx, [ebp+wparam]
mov     eax, [esi+10h]
mov     [esi+10h], ecx
jmp     short loc_277f6d2a
cmp     ebx, 2006h
jz      short loc_277f6d56
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     short loc_277f6d2a
mov     eax, [esi+10h]
jmp     short loc_277f6d2a
test    esi, esi
jz      short loc_277f6d28
mov     eax, [esi+34h]
cmp     eax, 0ffffffffh
jz      short loc_277f6d78
or      dword ptr [esi+34h], 0ffffffffh
push    0
push    eax
push    esi
call    sub_277f54ca
and     dword ptr [esi+20h], 0fffffffbh
test    esi, esi
jz      short loc_277f6d28
mov     eax, [esi+8]
and     eax, 2000h
push    eax
push    dword ptr [esi+30h]
push    esi
call    sub_277f54ca
cmp     ebx, 7
jnz     short loc_277f6d28
mov     esi, [esi+30h]
cmp     esi, 0ffffffffh
jz      short loc_277f6d28
inc     esi
push    esi
push    0fffffffch
push    [ebp+hwnd]
push    8005h
call    sub_277b8949
jmp     loc_277f6d28
push    esi
call    sub_277f6a8b
jmp     loc_277f6d28
push    esi
call    sub_277f43f9
jmp     loc_277f6d28
call    sub_277b344b
push    98h
push    40h
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      short loc_277f6e05
push    esi
push    0
push    [ebp+hwnd]
call    ds:setwindowlonga
push    [ebp+lparam]
push    [ebp+hwnd]
push    esi
call    sub_277b6303
push    esi
call    sub_277f42a1
test    eax, eax
jnz     loc_277f6d28
or      eax, 0ffffffffh
jmp     loc_277f6d2a
cmp     ebx, 1ah
ja      short loc_277f6e62
jz      short loc_277f6e3f
cmp     ebx, 15h
jnz     def_277f716c
call    sub_277b344b
test    byte ptr [esi+20h], 40h
jnz     short loc_277f6e32
push    0
push    0
push    esi
call    sub_277f41fc
push    5
push    esi
call    sub_277f553e
jmp     loc_277f6d28
push    [ebp+wparam]
call    sub_277b3170
cmp     [ebp+wparam], 2ah
jz      short loc_277f6e32
cmp     [ebp+wparam], 0
jnz     loc_277f6d28
cmp     [ebp+lparam], 0
jz      short loc_277f6e32
jmp     loc_277f6d28
cmp     ebx, 4eh
ja      short loc_277f6eaf
jz      short loc_277f6e90
mov     eax, ebx
sub     eax, 30h
jz      short loc_277f6e7f
dec     eax
jnz     def_277f716c
mov     eax, [esi+2ch]
jmp     loc_277f6d2a
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f41fc
jmp     loc_277f6d28
push    dword ptr [esi+10h]
mov     eax, [ebp+lparam]
push    eax
push    dword ptr [eax+8]
push    0ffffffffh
push    dword ptr [esi]
call    ds:getparent
push    eax
call    sub_27811d28
jmp     loc_277f6d28
cmp     ebx, 7dh
ja      short loc_277f6ede
jz      short loc_277f6ecd
cmp     ebx, 55h
jnz     def_277f716c
push    [ebp+lparam]
push    esi
call    sub_278112e5
jmp     loc_277f6d2a
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f6b05
jmp     loc_277f6d28
mov     eax, 87h
cmp     ebx, eax
ja      short loc_277f6f3a
jz      short loc_277f6f30
cmp     ebx, 84h
jnz     def_277f716c
movsx   eax, word ptr [ebp+lparam]
mov     [ebp+var_1c.pt.x], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
mov     [ebp+var_1c.pt.y], eax
lea     eax, [ebp+var_1c.pt]
push    eax
push    dword ptr [esi]
call    ds:screentoclient
push    0
push    [ebp+var_1c.pt.y]
push    [ebp+var_1c.pt.x]
push    esi
call    sub_277f4c04
cmp     eax, 0ffffffffh
jz      loc_277f6e05
jmp     def_277f716c
mov     eax, 81h
jmp     loc_277f6d2a
mov     eax, 114h
cmp     ebx, eax
ja      short loc_277f6f8a
jz      short loc_277f6f6d
cmp     ebx, 100h
jnz     def_277f716c
mov     eax, [ebp+lparam]
shr     eax, 10h
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    1
push    [ebp+wparam]
push    esi
call    sub_277f69b2
jmp     loc_277f6d28
mov     eax, [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movzx   eax, word ptr [ebp+wparam]
push    eax
push    [ebp+lparam]
push    esi
call    sub_277f4197
jmp     loc_277f6d28
mov     eax, 215h
cmp     ebx, eax
ja      loc_277f70ff
jz      loc_277f70bd
mov     eax, ebx
sub     eax, edi
jz      loc_277f708e
dec     eax
jz      loc_277f705b
dec     eax
jz      loc_277f70c1
dec     eax
jz      short loc_277f700e
dec     eax
jz      short loc_277f6ff1
dec     eax
jz      short loc_277f6fd4
dec     eax
dec     eax
jnz     def_277f716c
push    [ebp+hwnd]
call    ds:setfocus
jmp     loc_277f6d28
push    dword ptr [esi+10h]
push    0
push    0fffffffbh
push    dword ptr [esi]
push    0
call    sub_27811d28
test    eax, eax
jnz     loc_277f6d28
jmp     def_277f716c
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277f4d54
jmp     loc_277f6d28
test    byte ptr [esi+9], 1
jz      loc_277f6d28
push    dword ptr [esi]
call    ds:setcapture
mov     ebx, [esi]
call    ds:getcapture
cmp     eax, ebx
jnz     short loc_277f7050
mov     edi, 202h
push    1
push    edi
push    edi
lea     eax, [ebp+var_1c]
push    ebx
push    eax
call    ds:peekmessagea
test    eax, eax
jnz     short loc_277f7050
mov     ebx, [esi]
call    ds:getcapture
cmp     eax, ebx
jz      short loc_277f7031
push    esi
call    sub_277bf76d
jmp     loc_277f6d28
push    [ebp+lparam]
push    [ebp+wparam]
push    201h
push    [ebp+hwnd]
push    dword ptr [esi+78h]
call    sub_27810fcc
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277f4dda
jmp     loc_277f6d28
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
push    dword ptr [esi+78h]
call    sub_27810fcc
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    [ebp+wparam]
push    esi
call    sub_277f4ad6
jmp     loc_277f6d28
or      [ebp+lparam], 0ffffffffh
mov     edi, 202h
cmp     ebx, edi
jnz     short loc_277f70dc
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
push    dword ptr [esi+78h]
call    sub_27810fcc
xor     eax, eax
cmp     ebx, edi
setz    al
push    eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
nop
call    sub_277f4b5e
jmp     loc_277f6d28
mov     eax, 318h
cmp     ebx, eax
ja      short loc_277f7143
jz      short loc_277f7135
cmp     ebx, 2a3h
jnz     def_277f716c
lea     edi, [esi+94h]
push    0
push    dword ptr [edi]
push    esi
call    sub_277f54ca
or      dword ptr [edi], 0ffffffffh
and     dword ptr [esi+90h], 0fffffffdh
jmp     loc_277f6d28
push    [ebp+wparam]
push    esi
call    sub_277f638c
jmp     loc_277f6d28
mov     eax, 2005h
cmp     ebx, eax
ja      loc_277f6d3c
jz      loc_277f6d31
lea     eax, [ebx-1302h]
cmp     eax, 33h
ja      def_277f716c
movzx   eax, ds:byte_277f74a2[eax]
jmp     ds:jpt_277f716c[eax*4]
push    [ebp+wparam]
push    esi
call    sub_277f496c
jmp     loc_277f6d2a
test    esi, esi
jz      loc_277f6d28
mov     eax, [esi+1ch]
mov     eax, [eax]
jmp     loc_277f6d2a
cmp     [ebp+lparam], 0
jz      loc_277f6d28
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f498d
jmp     loc_277f6d2a
test    esi, esi
jz      loc_277f6d28
cmp     [ebp+lparam], 0
jz      loc_277f6d28
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f5401
jmp     loc_277f6d2a
cmp     [ebp+lparam], 0
jz      loc_277f6d28
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f50c8
jmp     loc_277f6d2a
push    [ebp+wparam]
push    esi
call    sub_277f529e
jmp     loc_277f6d2a
push    esi
call    sub_277f48f4
jmp     loc_277f6d2a
push    [ebp+wparam]
push    esi
call    sub_277f68ef
jmp     loc_277f6d28
mov     eax, [esi+34h]
cmp     eax, 0ffffffffh
jnz     loc_277f6d2a
mov     eax, [esi+30h]
jmp     loc_277f6d2a
push    0
push    0
push    [ebp+wparam]
push    esi
call    sub_277f5570
jmp     loc_277f6d2a
mov     eax, [esi+78h]
jmp     loc_277f6d2a
mov     eax, [ebp+wparam]
mov     [esi+78h], eax
jmp     loc_277f6d28
mov     edi, [ebp+lparam]
test    edi, edi
jz      loc_277f6e05
push    edi
push    esi
call    sub_277f3e9c
push    edi
push    [ebp+wparam]
push    esi
call    sub_277f6be6
push    edi
push    esi
call    sub_277f3e7f
jmp     loc_277f6d28
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f6aa1
jmp     loc_277f6d2a
mov     eax, [ebp+lparam]
mov     edi, [esi+74h]
mov     [esi+74h], eax
mov     eax, 7fffffffh
push    5
push    esi
mov     [esi+40h], eax
mov     [esi+38h], eax
call    sub_277f553e
mov     eax, edi
jmp     loc_277f6d2a
test    esi, esi
jz      loc_277f6d28
mov     eax, [esi+74h]
jmp     loc_277f6d2a
push    [ebp+wparam]
push    esi
call    sub_277f524c
jmp     loc_277f6d28
mov     eax, [esi+60h]
mov     ebx, [esi+5ch]
mov     [ebp+wparam], eax
mov     eax, [ebp+lparam]
movzx   edi, ax
shr     eax, 10h
mov     [ebp+hwnd], eax
mov     eax, [esi+74h]
test    eax, eax
jz      short loc_277f730c
mov     ecx, [esi+8]
and     ecx, 80h
push    ecx
lea     ecx, [ebp+msg]
push    ecx
lea     ecx, [ebp+lparam]
push    ecx
push    eax
call    sub_277f3eb9
mov     eax, [ebp+lparam]
mov     ecx, dword_2782a06c
lea     eax, [eax+ecx*2]
cmp     edi, eax
jge     short loc_277f730c
mov     edi, eax
mov     eax, [ebp+hwnd]
cmp     edi, ebx
mov     [esi+5ch], edi
mov     [esi+60h], eax
jnz     short loc_277f731e
cmp     eax, [ebp+wparam]
jz      short loc_277f7334
mov     eax, 7fffffffh
push    105h
push    esi
mov     [esi+38h], eax
mov     [esi+40h], eax
call    sub_277f553e
movzx   eax, word ptr [ebp+wparam]
movzx   ecx, bx
shl     eax, 10h
or      eax, ecx
jmp     loc_277f6d2a
mov     eax, [ebp+lparam]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [esi+54h], ecx
mov     [esi+58h], eax
jmp     loc_277f6d28
push    0
push    esi
call    sub_277f59e8
mov     eax, [esi+64h]
inc     eax
jmp     loc_277f6d2a
mov     eax, [ebp+lparam]
mov     ebx, [esi+3ch]
test    eax, eax
jl      short loc_277f739b
or      dword ptr [esi+90h], 1
mov     [esi+3ch], eax
push    1
push    0
push    dword ptr [esi]
mov     dword ptr [esi+40h], 7fffffffh
call    ds:invalidaterect
mov     eax, ebx
jmp     loc_277f6d2a
and     dword ptr [esi+90h], 0fffffffeh
jmp     short loc_277f7381
push    [ebp+wparam]
push    esi
call    sub_277f4cfc
jmp     loc_277f6d28
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_277f6b72
jmp     loc_277f6d2a
mov     eax, [esi+28h]
jmp     loc_277f6d2a
mov     eax, [ebp+lparam]
lea     ecx, [eax+8]
push    ecx
push    dword ptr [eax+4]
push    dword ptr [eax]
push    esi
call    sub_277f4c04
jmp     loc_277f6d2a
push    [ebp+wparam]
push    dword ptr [esi+1ch]
call    sub_27815cea
test    eax, eax
jz      loc_277f6d28
mov     ecx, [eax+30h]
xor     edx, edx
cmp     word ptr [ebp+lparam], dx
mov     edi, ecx
setnz   dl
shr     edi, 1
and     edi, 1
cmp     edx, edi
jz      loc_277f6d28
test    edx, edx
jz      short loc_277f742d
or      ecx, 2
push    1
mov     [eax+30h], ecx
push    [ebp+wparam]
push    esi
call    sub_277f54ca
push    1
pop     eax
jmp     loc_277f6d2a
and     ecx, 0fffffffdh
jmp     short loc_277f7417
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
mov     esi, offset amsvblibheader
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277f7537
mov     [ebp+wndclass.hcursor], eax
mov     [ebp+wndclass.hicon], eax
mov     [ebp+wndclass.lpszmenuname], eax
mov     [ebp+wndclass.cbclsextra], eax
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.lpfnwndproc], offset sub_277f77d7
push    eax
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.lpszclassname], esi
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.style], 8
mov     [ebp+wndclass.cbwndextra], 4
call    ds:registerclassa
movzx   eax, ax
pop     edi
pop     esi
leave
retn    4
push    1
pop     eax
jmp     short loc_277f7531
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
xor     esi, esi
mov     eax, [edi+50h]
cmp     eax, esi
jz      short loc_277f757d
or      ebx, 0ffffffffh
cmp     [eax], esi
jle     short loc_277f7570
lea     ecx, [ebp+arg_0]
push    ecx
push    esi
push    eax
call    sub_27815a58
mov     eax, [ebp+arg_0]
cmp     eax, [ebp+arg_4]
jz      short loc_277f7579
mov     eax, [edi+50h]
inc     esi
cmp     esi, [eax]
jl      short loc_277f7555
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
pop     ebp
retn    8
mov     ebx, esi
jmp     short loc_277f7570
mov     ebx, [ebp+arg_4]
jmp     short loc_277f7570
mov     eax, [esp+arg_0]
mov     eax, [eax+50h]
test    eax, eax
jz      short loc_277f759c
lea     ecx, [esp+arg_4]
push    ecx
push    [esp+4+arg_4]
push    eax
call    sub_27815a58
mov     eax, [esp+arg_4]
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+arg_4]
push    esi
call    sub_277f7582
push    eax
push    dword ptr [esi+2ch]
call    sub_27815a87
pop     esi
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
cmp     dword ptr [esi+50h], 0
jnz     short loc_277f761b
test    byte ptr [esi+8], 20h
jnz     short loc_277f761b
push    4
push    4
call    sub_278159c1
test    eax, eax
mov     [esi+50h], eax
jz      short loc_277f761b
mov     eax, [esi+2ch]
and     [ebp+arg_0], 0
cmp     dword ptr [eax], 0
jle     short loc_277f761b
lea     eax, [ebp+arg_0]
push    eax
push    [ebp+arg_0]
push    dword ptr [esi+50h]
call    sub_27815b10
cmp     eax, 0ffffffffh
jnz     short loc_277f760e
push    dword ptr [esi+50h]
call    sub_278159e4
and     dword ptr [esi+50h], 0
inc     [ebp+arg_0]
mov     eax, [esi+2ch]
mov     ecx, [ebp+arg_0]
cmp     ecx, [eax]
jl      short loc_277f75ee
mov     eax, [esi+50h]
pop     esi
pop     ebp
retn    4
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     edi, [esp+8+arg_0]
mov     eax, [edi+2ch]
cmp     esi, [eax]
jge     short loc_277f7649
push    esi
push    edi
call    sub_277f75a3
mov     cx, [esp+8+arg_8]
add     [eax], cx
mov     eax, [edi+2ch]
inc     esi
jmp     short loc_277f7630
pop     edi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [esi+2ch]
mov     eax, [eax]
cmp     [ebp+arg_4], eax
jge     loc_277f76f1
mov     ebx, [ebp+arg_8]
cmp     ebx, eax
jge     loc_277f76f1
push    esi
call    sub_277f75bf
test    eax, eax
jz      short loc_277f76f1
push    [ebp+arg_4]
push    esi
call    sub_277f753c
cmp     ebx, eax
mov     [ebp+arg_0], eax
jz      short loc_277f76f1
push    edi
push    [ebp+arg_4]
push    dword ptr [esi+2ch]
call    sub_27815a87
push    ebx
push    esi
mov     edi, eax
call    sub_277f75a3
movsx   eax, word ptr [edi+2]
neg     eax
push    eax
mov     eax, [ebp+arg_0]
inc     eax
push    eax
push    esi
call    sub_277f7623
push    [ebp+arg_0]
push    dword ptr [esi+50h]
call    sub_27815b9b
lea     eax, [ebp+arg_4]
push    eax
push    ebx
push    dword ptr [esi+50h]
call    sub_27815b10
movsx   eax, word ptr [edi+2]
push    eax
lea     eax, [ebx+1]
push    eax
push    esi
call    sub_277f7623
test    ebx, ebx
jnz     short loc_277f76f7
mov     ax, [edi+2]
push    5
push    0
push    0
mov     [edi], ax
push    dword ptr [esi]
call    ds:redrawwindow
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
dec     ebx
push    ebx
push    esi
call    sub_277f75a3
mov     ax, [eax]
add     ax, [edi+2]
jmp     short loc_277f76df
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+arg_4]
cmp     edi, [esi+54h]
jz      short loc_277f772e
push    1
push    edi
push    esi
call    sub_277f8fd2
push    1
push    dword ptr [esi+54h]
push    esi
call    sub_277f8fd2
mov     [esi+54h], edi
pop     edi
pop     esi
retn    8
push    ebx
mov     ebx, [esp+4+arg_0]
mov     eax, [ebx+2ch]
mov     eax, [eax]
cmp     eax, [esp+4+arg_4]
jz      short loc_277f7749
xor     eax, eax
pop     ebx
retn    0ch
push    esi
xor     esi, esi
test    eax, eax
jle     short loc_277f776a
push    edi
mov     edi, [esp+0ch+arg_8]
push    esi
push    ebx
call    sub_277f7582
mov     [edi], eax
mov     eax, [ebx+2ch]
inc     esi
add     edi, 4
cmp     esi, [eax]
jl      short loc_277f7755
pop     edi
push    1
pop     eax
pop     esi
jmp     short loc_277f7745
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+2ch]
mov     eax, [eax]
cmp     eax, [esp+4+arg_4]
jz      short loc_277f7786
xor     eax, eax
pop     esi
retn    0ch
push    edi
xor     edi, edi
test    eax, eax
jle     short loc_277f77a7
push    ebx
mov     ebx, [esp+0ch+arg_8]
push    edi
push    dword ptr [ebx]
push    esi
call    sub_277f764e
mov     eax, [esi+2ch]
inc     edi
add     ebx, 4
cmp     edi, [eax]
jl      short loc_277f7792
pop     ebx
push    0
push    0fffffffch
push    dword ptr [esi]
push    8004h
call    sub_277b8949
push    1
pop     eax
pop     edi
jmp     short loc_277f7782
xor     eax, eax
cmp     dword_2782a0a0, eax
jz      short locret_277f77d4
mov     ecx, [esp+arg_0]
test    byte ptr [ecx+8], 80h
jz      short locret_277f77d4
push    1
pop     eax
retn    4
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
push    0
push    ebx
call    ds:getwindowlonga
mov     esi, eax
test    esi, esi
jnz     short loc_277f7831
cmp     [ebp+msg], 81h
mov     esi, [ebp+lparam]
jnz     short loc_277f781e
push    64h
push    40h
call    ds:localalloc
test    eax, eax
jz      short loc_277f7860
mov     [eax], ebx
mov     ecx, [esi+0ch]
push    eax
push    0
push    ebx
mov     [eax+4], ecx
call    ds:setwindowlonga
push    esi
push    [ebp+wparam]
push    [ebp+msg]
push    ebx
call    ds:defwindowproca
jmp     loc_277f7916
mov     edi, [ebp+msg]
cmp     edi, 3
jnz     short loc_277f7840
movsx   eax, word ptr [ebp+lparam]
mov     [esi+60h], eax
cmp     edi, 82h
jnz     short loc_277f7867
push    esi
call    sub_277f7de0
push    esi
call    ds:localfree
push    0
push    0
push    ebx
call    ds:setwindowlonga
xor     eax, eax
jmp     loc_277f7916
cmp     edi, 215h
jz      short loc_277f7883
cmp     edi, 204h
jz      short loc_277f7883
push    1bh
call    ds:getasynckeystate
test    al, 1
jz      short loc_277f78b0
cmp     dword ptr [esi+58h], 0
jz      loc_277f791d
or      [ebp+var_14], 0ffffffffh
push    esi
mov     [ebp+var_34], 80h
call    sub_277f84b3
lea     eax, [ebp+var_34]
push    eax
push    0fffffec9h
push    dword ptr [esi+30h]
push    esi
call    sub_277f7cb9
mov     ebx, 200h
cmp     edi, ebx
jb      short loc_277f78ee
cmp     edi, 209h
ja      short loc_277f78ee
test    byte ptr [esi+8], 4
jz      short loc_277f78ee
mov     eax, [esi+34h]
test    al, 2
jnz     short loc_277f78ee
push    2
mov     [ebp+var_10], 10h
pop     ecx
or      eax, ecx
mov     [ebp+var_c], ecx
mov     [esi+34h], eax
mov     eax, [esi]
mov     [ebp+var_8], eax
lea     eax, [ebp+var_10]
push    eax
call    sub_27812acf
cmp     edi, 0fh
ja      loc_277f7995
jz      loc_277f7b30
mov     eax, edi
dec     eax
jnz     def_277f7b6a
push    [ebp+lparam]
push    esi
call    sub_277f7d73
neg     eax
sbb     eax, eax
neg     eax
dec     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
test    byte ptr [esi+38h], 0ch
jz      short loc_277f78b0
mov     eax, [esi+48h]
push    1
and     dword ptr [esi+38h], 0
pop     ebx
push    ebx
mov     [ebp+var_34], ebx
push    dword ptr [esi]
mov     [ebp+var_30], eax
call    ds:killtimer
push    esi
call    sub_277bf76d
lea     eax, [ebp+var_34]
push    eax
push    0fffffecdh
push    dword ptr [esi+30h]
push    esi
call    sub_277f7cb9
push    esi
call    sub_277f77bd
test    eax, eax
jz      short loc_277f7987
mov     eax, [esi+48h]
mov     [ebp+var_34], ebx
mov     [ebp+var_30], eax
lea     eax, [ebp+var_34]
push    eax
push    dword ptr [esi+30h]
push    esi
call    sub_277f8cd4
push    5
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
jmp     loc_277f78b0
push    dword ptr [esi+40h]
push    esi
call    sub_277f80f9
jmp     loc_277f78b0
cmp     edi, 20h
ja      short loc_277f79cd
jz      short loc_277f79b3
cmp     edi, 14h
jnz     def_277f7b6a
push    [ebp+wparam]
push    esi
call    sub_277f7ed9
jmp     loc_277f7916
mov     eax, [ebp+lparam]
shr     eax, 10h
push    eax
movzx   eax, word ptr [ebp+lparam]
push    eax
push    [ebp+wparam]
push    esi
call    sub_277f8086
jmp     loc_277f7916
cmp     edi, 55h
ja      short loc_277f7a0c
jz      short loc_277f79fe
mov     eax, edi
sub     eax, 30h
jz      short loc_277f79ed
dec     eax
jnz     def_277f7b6a
push    esi
call    sub_277f8878
jmp     loc_277f7916
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f8846
jmp     loc_277f7860
push    [ebp+lparam]
push    esi
call    sub_278112e5
jmp     loc_277f7916
mov     eax, 87h
cmp     edi, eax
ja      short loc_277f7a4e
jz      short loc_277f7a40
cmp     edi, 7dh
jnz     short def_277f7b6a
cmp     [ebp+wparam], 0fffffff0h
jnz     loc_277f7860
mov     eax, [ebp+lparam]
push    1
push    0
mov     eax, [eax+4]
push    dword ptr [esi]
mov     [esi+8], eax
call    ds:invalidaterect
jmp     loc_277f7860
push    [ebp+lparam]
push    esi
call    sub_277f7f08
jmp     loc_277f7916
mov     eax, 2a3h
cmp     edi, eax
ja      loc_277f7b19
jz      loc_277f7b08
mov     eax, edi
sub     eax, ebx
jz      loc_277f7aeb
dec     eax
jz      short loc_277f7ad5
dec     eax
jz      short loc_277f7ab8
dec     eax
jz      short loc_277f7a99
dec     eax
dec     eax
jnz     short def_277f7b6a
push    0
push    0fffffffbh
push    esi
call    sub_277b9838
test    eax, eax
jnz     loc_277f7860
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
jmp     loc_277f7826
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    1
push    esi
call    sub_277f815c
jmp     loc_277f7860
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277f86df
jmp     loc_277f7860
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    0
jmp     short loc_277f7aad
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277f8538
jmp     loc_277f7860
push    0ffffffffh
push    esi
call    sub_277f7708
and     dword ptr [esi+34h], 0fffffffdh
jmp     def_277f7b6a
mov     eax, 1200h
cmp     edi, eax
ja      short loc_277f7b48
jz      short loc_277f7b3e
cmp     edi, 318h
jnz     def_277f7b6a
push    [ebp+wparam]
push    esi
call    sub_277f7e82
jmp     loc_277f7860
mov     eax, [esi+2ch]
mov     eax, [eax]
jmp     loc_277f7916
mov     eax, 2005h
cmp     edi, eax
ja      loc_277f7c59
jz      loc_277f7c4b
lea     eax, [edi-1201h]
cmp     eax, 12h
ja      def_277f7b6a
jmp     ds:jpt_277f7b6a[eax*4]
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f8886
jmp     loc_277f7916
push    [ebp+wparam]
push    esi
call    sub_277f8a74
jmp     loc_277f7916
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f8b6d
jmp     loc_277f7916
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f8cd4
jmp     loc_277f7916
push    [ebp+lparam]
push    esi
call    sub_277f8f0c
jmp     loc_277f7916
push    [ebp+lparam]
push    esi
call    sub_277f8058
jmp     loc_277f7916
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f8f95
jmp     loc_277f7916
push    [ebp+lparam]
push    esi
call    sub_277f7e0d
jmp     loc_277f7916
mov     eax, [esi+4ch]
jmp     loc_277f7916
push    [ebp+wparam]
push    esi
call    sub_277f7582
jmp     loc_277f7916
push    [ebp+wparam]
push    esi
call    sub_277f753c
push    eax
push    esi
call    sub_277f9a98
jmp     loc_277f7916
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f7770
jmp     loc_277f7916
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f7733
jmp     loc_277f7916
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f838b
jmp     loc_277f7916
mov     ecx, [ebp+wparam]
mov     eax, [esi+10h]
mov     [esi+10h], ecx
jmp     loc_277f7916
cmp     edi, 2006h
jnz     def_277f7b6a
mov     eax, [esi+10h]
jmp     loc_277f7916
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     eax, [ebp+arg_4]
and     [ebp+var_8], 0
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_8]
push    [ebp+arg_0]
call    sub_277b9838
neg     eax
sbb     eax, eax
inc     eax
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     eax, [ebp+arg_4]
and     [ebp+var_4], 0
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_8], eax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_c]
push    [ebp+arg_0]
call    sub_277b9838
neg     eax
sbb     eax, eax
inc     eax
leave
retn    10h
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
push    0
call    ds:getdc
mov     edi, [ebp+h]
mov     ebx, eax
test    edi, edi
jz      short loc_277f7d36
push    edi
push    ebx
call    ds:selectobject
lea     eax, [ebp+sz]
push    eax
push    3
push    offset asc_277cbad0
push    ebx
call    ds:gettextextentpointa
mov     esi, [ebp+arg_0]
mov     eax, [ebp+sz._cx]
push    edi
mov     [esi+1ch], eax
mov     eax, [ebp+sz.cy]
mov     [esi+24h], eax
mov     [esi+28h], edi
call    sub_277bc9de
push    ebx
push    0
mov     [esi+14h], eax
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
jz      short loc_277f7da8
push    [esp+4+arg_4]
push    dword ptr [esi]
push    esi
call    sub_277b6303
and     dword ptr [esi+18h], 0
and     dword ptr [esi+28h], 0
or      dword ptr [esi+5ch], 0ffffffffh
or      dword ptr [esi+54h], 0ffffffffh
push    4
push    24h
call    sub_278159c1
test    eax, eax
mov     [esi+2ch], eax
jnz     short loc_277f7daf
or      eax, 0ffffffffh
pop     esi
retn    8
mov     eax, w
push    0
shl     eax, 3
push    esi
mov     [esi+20h], eax
call    sub_277f7d15
push    1
pop     eax
jmp     short loc_277f7dab
mov     eax, [esp+arg_0]
test    eax, eax
jz      short loc_277f7dda
add     eax, 8
push    0
push    eax
call    sub_2781617a
push    1
pop     eax
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    0
push    offset sub_277f7dc7
push    dword ptr [esi+2ch]
call    sub_27815a3b
mov     eax, [esi+50h]
and     dword ptr [esi+2ch], 0
test    eax, eax
jz      short loc_277f7e09
push    eax
call    sub_278159e4
and     dword ptr [esi+50h], 0
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 34h
mov     eax, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [esi+4ch]
mov     [esi+4ch], eax
cmp     edi, eax
jz      short loc_277f7e7a
mov     eax, [esi+4]
test    eax, eax
jz      short loc_277f7e7a
lea     ecx, [ebp+rect]
push    ecx
push    eax
call    ds:getclientrect
mov     eax, [esi+60h]
mov     [ebp+rect.left], eax
lea     eax, [ebp+rect]
mov     [ebp+var_8], eax
lea     eax, [ebp+var_34]
mov     [ebp+var_4], eax
lea     eax, [ebp+var_8]
push    eax
push    esi
call    sub_277f8f0c
push    [ebp+uflags]
push    [ebp+cy]
push    [ebp+var_24]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hwndinsertafter]
push    dword ptr [esi]
call    ds:setwindowpos
push    1
push    0
push    dword ptr [esi+4]
call    ds:invalidaterect
mov     eax, edi
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 40h
push    esi
mov     esi, [ebp+cy]
test    esi, esi
push    edi
jz      short loc_277f7ec3
cmp     [ebp+hdc], 0
jz      short loc_277f7ec9
mov     edi, [ebp+hdc]
lea     eax, [ebp+paint.rcpaint]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
lea     eax, [ebp+paint.rcpaint]
push    eax
push    edi
push    esi
call    sub_277f9901
cmp     [ebp+hdc], 0
jnz     short loc_277f7ec3
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:endpaint
pop     edi
pop     esi
leave
retn    8
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:beginpaint
mov     edi, eax
jmp     short loc_277f7ea6
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+rect]
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax]
call    ds:getclientrect
push    hbr
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:fillrect
push    1
pop     eax
leave
retn    8
push    3
pop     eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+rect]
push    edi
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     ecx, [ebp+arg_4]
xor     edi, edi
or      eax, 0ffffffffh
cmp     ecx, [ebp+rect.left]
mov     [ebp+arg_0], edi
jge     short loc_277f7fab
mov     [ebp+arg_0], 800h
mov     ecx, [ebp+arg_8]
cmp     ecx, [ebp+rect.top]
jge     short loc_277f7fb9
or      byte ptr [ebp+arg_0+1], 1
cmp     [ebp+arg_0], edi
jnz     short loc_277f7f9c
mov     eax, [esi+2ch]
xor     edx, edx
mov     [ebp+var_4], edi
mov     [ebp+arg_8], edx
mov     eax, [eax]
cmp     eax, edi
mov     [ebp+var_8], eax
jl      short loc_277f7f86
cmp     edx, eax
jnz     short loc_277f7fc4
mov     ecx, [ebp+rect.right]
cmp     ecx, edi
jnz     short loc_277f7fd3
mov     [ebp+var_4], 1
mov     edx, [ebp+arg_8]
add     [ebp+var_c], 24h
inc     edx
mov     edi, ecx
cmp     edx, [ebp+var_8]
mov     [ebp+arg_8], edx
jle     short loc_277f7f64
mov     eax, [ebp+arg_8]
cmp     eax, [ebp+var_8]
jnz     loc_277f804c
or      eax, 0ffffffffh
mov     [ebp+arg_0], 1
mov     ecx, [ebp+arg_c]
mov     edx, [ebp+arg_0]
pop     edi
pop     esi
mov     [ecx], edx
pop     ebx
leave
retn    10h
cmp     ecx, [ebp+rect.right]
jl      short loc_277f7f3d
mov     [ebp+arg_0], 400h
jmp     short loc_277f7f3d
cmp     ecx, [ebp+rect.bottom]
jl      short loc_277f7f49
or      byte ptr [ebp+arg_0+1], 2
jmp     short loc_277f7f49
push    edx
push    esi
call    sub_277f75a3
movsx   ecx, word ptr [eax]
mov     [ebp+var_c], eax
jmp     short loc_277f7f69
mov     eax, ecx
push    4
sub     eax, edi
pop     ebx
cdq
idiv    ebx
mov     edx, [esi+20h]
cmp     eax, edx
jl      short loc_277f7fe6
mov     eax, edx
mov     edx, [ebp+arg_4]
cmp     edx, edi
jl      short loc_277f7ff1
cmp     edx, ecx
jl      short loc_277f7ffa
and     [ebp+var_4], 0
jmp     loc_277f7f74
cmp     [ebp+arg_8], 0
mov     [ebp+arg_0], 2
jle     short loc_277f8036
lea     ebx, [eax+edi]
cmp     edx, ebx
jge     short loc_277f8036
dec     [ebp+arg_8]
cmp     [ebp+var_4], 0
mov     [ebp+arg_0], 4
jz      loc_277f7f86
cmp     edx, edi
jle     loc_277f7f86
mov     [ebp+arg_0], 8
jmp     loc_277f7f86
sub     ecx, eax
cmp     edx, ecx
jl      loc_277f7f86
mov     [ebp+arg_0], 4
jmp     loc_277f7f86
push    eax
push    esi
call    sub_277f7582
jmp     loc_277f7f9c
push    esi
mov     esi, [esp+4+arg_4]
test    esi, esi
jz      short loc_277f8081
cmp     [esp+4+arg_0], 0
jz      short loc_277f8081
lea     eax, [esi+8]
push    eax
push    dword ptr [esi+4]
push    dword ptr [esi]
push    [esp+10h+arg_0]
call    sub_277f7f0e
mov     [esi+0ch], eax
pop     esi
retn    8
or      eax, 0ffffffffh
jmp     short loc_277f807d
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+arg_0]
test    esi, esi
jz      short loc_277f80f5
mov     eax, [ebp+hwnd]
cmp     [esi], eax
jnz     short loc_277f80f5
cmp     [ebp+arg_8], 8000h
jnb     short loc_277f80f5
lea     ecx, [ebp+point]
push    ecx
push    eax
call    sub_27811942
lea     eax, [ebp+arg_0]
push    eax
push    [ebp+point.y]
push    [ebp+point.x]
push    esi
call    sub_277f7f0e
cmp     [ebp+arg_0], 4
mov     eax, dword_27828334
jz      short loc_277f80f1
cmp     [ebp+arg_0], 8
jz      short loc_277f80ec
mov     ecx, 7f00h
xor     eax, eax
push    ecx
push    eax
call    ds:loadcursora
push    eax
call    ds:setcursor
push    1
pop     eax
pop     esi
leave
retn    10h
push    6bh
pop     ecx
jmp     short loc_277f80d5
push    6ah
jmp     short loc_277f80ee
xor     eax, eax
jmp     short loc_277f80e7
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    dword ptr [esi]
call    ds:getdc
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+arg_4]
mov     ecx, w
mov     [ebp+rect.left], eax
add     eax, ecx
mov     [ebp+rect.right], eax
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:invertrect
push    edi
push    dword ptr [esi]
call    ds:releasedc
pop     edi
pop     esi
leave
retn    8
mov     ecx, [esp+arg_0]
mov     eax, [esp+arg_4]
add     eax, [ecx+3ch]
mov     ecx, [ecx+44h]
cmp     eax, ecx
jge     short locret_277f8159
mov     eax, ecx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    esi, esi
jz      loc_277f8244
mov     ebx, [ebp+arg_8]
lea     eax, [ebp+arg_0]
push    eax
push    [ebp+arg_c]
push    ebx
push    esi
call    sub_277f7f0e
test    byte ptr [ebp+arg_0], 4
mov     edi, eax
jz      short loc_277f819d
cmp     [ebp+arg_4], 0
jz      short loc_277f819d
push    0
push    0fffffecfh
push    edi
push    esi
call    sub_277f7cb9
mov     eax, [ebp+arg_0]
test    al, 0eh
jz      short loc_277f81d1
cmp     [ebp+arg_4], 0
jnz     short loc_277f81d1
push    dword ptr [esi]
mov     [esi+30h], edi
mov     [esi+38h], eax
mov     [esi+40h], ebx
call    ds:setcapture
push    0
push    64h
push    1
push    dword ptr [esi]
call    ds:settimer
push    1bh
call    ds:getasynckeystate
test    byte ptr [ebp+arg_0], 0ch
jz      loc_277f8265
cmp     [ebp+arg_4], 0
jnz     loc_277f8265
push    edi
push    esi
call    sub_277f753c
push    edi
push    dword ptr [esi+2ch]
call    sub_27815a87
movsx   ecx, word ptr [eax]
movsx   edx, word ptr [eax+2]
sub     ecx, edx
mov     [esi+44h], ecx
movsx   ecx, word ptr [eax]
mov     [esi+40h], ecx
sub     ecx, ebx
mov     [esi+3ch], ecx
movsx   eax, word ptr [eax+2]
mov     [esi+48h], eax
mov     [ebp+var_20], eax
lea     eax, [ebp+var_24]
mov     [ebp+var_24], 1
push    eax
push    0fffffeceh
push    edi
push    esi
call    sub_277f7cb9
test    eax, eax
jnz     short loc_277f824b
and     [esi+38h], eax
push    esi
call    sub_277bf76d
push    1
push    dword ptr [esi]
call    ds:killtimer
pop     edi
pop     esi
pop     ebx
leave
retn    14h
push    esi
call    sub_277f77bd
test    eax, eax
jnz     short loc_277f8244
push    ebx
push    esi
call    sub_277f8145
push    eax
push    esi
call    sub_277f80f9
jmp     short loc_277f8244
test    byte ptr [ebp+arg_0], 2
jz      short loc_277f8244
test    byte ptr [esi+8], 2
jz      short loc_277f8244
cmp     [ebp+arg_4], 0
jz      short loc_277f8287
push    0
push    0fffffed1h
push    edi
push    esi
call    sub_277f7cb9
jmp     short loc_277f8244
or      dword ptr [esi+34h], 1
push    5
push    dword ptr [esi+30h]
push    esi
call    sub_277f8fd2
jmp     short loc_277f8244
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
test    byte ptr [esi+8], 40h
jz      short loc_277f8313
push    0fffffecah
push    1
push    [ebp+arg_4]
push    esi
call    sub_277f7ce7
test    eax, eax
jz      short loc_277f8313
push    0ffffffffh
push    esi
call    sub_277f7708
push    dword ptr [esi]
call    ds:updatewindow
push    [ebp+arg_4]
push    esi
call    sub_277f753c
push    eax
push    esi
call    sub_277f9a98
test    eax, eax
mov     [esi+58h], eax
jz      short loc_277f8313
lea     eax, [ebp+rect]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277f8f95
mov     eax, [ebp+rect.left]
push    0
sub     eax, [ebp+arg_8]
push    0
push    0
push    dword ptr [esi+58h]
mov     [esi+3ch], eax
call    sub_27815329
push    0
push    [ebp+arg_8]
push    dword ptr [esi]
call    sub_278153f6
pop     esi
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+rect]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277f84d5
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
pop     esi
leave
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+arg_4]
cmp     edi, [esi+5ch]
jz      short loc_277f8386
cmp     dword ptr [esi+58h], 0
jz      short loc_277f835e
push    0
call    sub_27815444
push    dword ptr [esi+5ch]
push    esi
call    sub_277f8318
push    edi
push    esi
call    sub_277f8318
push    dword ptr [esi]
mov     [esi+5ch], edi
call    ds:updatewindow
cmp     dword ptr [esi+58h], 0
jz      short loc_277f8386
push    1
call    sub_27815444
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 14h
or      [ebp+var_4], 0ffffffffh
cmp     [ebp+arg_4], 0
mov     eax, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
jz      loc_277f843b
shr     eax, 10h
movsx   edi, word ptr [ebp+arg_8]
movsx   ebx, ax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, dword_2782a084
add     eax, eax
push    eax
lea     eax, [ebp+rect]
push    0
push    eax
call    ds:inflaterect
mov     eax, [ebp+rect.top]
cmp     ebx, eax
jl      short loc_277f83e8
mov     ecx, [ebp+rect.bottom]
cmp     ebx, ecx
jg      short loc_277f83e8
test    edi, edi
jg      short loc_277f83fb
and     [ebp+var_4], 0
push    [ebp+var_4]
push    esi
call    sub_277f8342
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
lea     edx, [ebp+arg_8]
add     eax, ecx
push    edx
cdq
sub     eax, edx
sar     eax, 1
push    eax
push    edi
push    esi
call    sub_277f7f0e
mov     ebx, eax
cmp     ebx, 0ffffffffh
jnz     short loc_277f8440
mov     eax, [esi+2ch]
mov     eax, [eax]
dec     eax
push    eax
push    esi
call    sub_277f7582
lea     ecx, [ebp+rect]
push    ecx
push    eax
push    esi
call    sub_277f8f95
test    eax, eax
jz      short loc_277f83e8
cmp     edi, [ebp+rect.right]
jl      short loc_277f83e8
mov     eax, [esi+2ch]
mov     eax, [eax]
mov     [ebp+var_4], eax
jmp     short loc_277f83e8
lea     eax, [ebp+rect]
push    eax
push    ebx
push    esi
call    sub_277f8f95
push    ebx
push    esi
call    sub_277f753c
mov     ecx, [ebp+rect.left]
mov     [ebp+var_4], eax
mov     eax, [ebp+rect.right]
add     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
cmp     edi, eax
jle     short loc_277f83e8
inc     [ebp+var_4]
jmp     loc_277f83e8
movzx   eax, [esp+arg_8]
movzx   ecx, word ptr [esp+arg_4]
shl     eax, 10h
or      eax, ecx
push    esi
mov     esi, [esp+4+arg_0]
push    eax
push    1
push    esi
call    sub_277f838b
cmp     eax, 0ffffffffh
jnz     short loc_277f849b
push    0
call    sub_27815444
pop     esi
retn    0ch
push    1
call    sub_27815444
mov     eax, [esi+3ch]
push    0
add     eax, [esp+8+arg_4]
push    eax
call    sub_278150e8
jmp     short loc_277f8497
push    esi
call    sub_2781567f
mov     esi, [esp+4+arg_0]
push    dword ptr [esi+58h]
call    sub_27813889
and     dword ptr [esi+58h], 0
push    0ffffffffh
push    esi
call    sub_277f8342
pop     esi
retn    4
mov     eax, [esp+arg_4]
cmp     eax, 0ffffffffh
jnz     short loc_277f84eb
push    [esp+lprc]
call    ds:setrectempty
retn    0ch
push    edi
mov     edi, [esp+4+arg_0]
push    esi
push    ebx
mov     ecx, [edi+2ch]
cmp     eax, [ecx]
jge     short loc_277f852c
push    1
pop     ebx
push    eax
push    edi
call    sub_277f7582
mov     esi, [esp+0ch+lprc]
push    esi
push    eax
push    edi
call    sub_277f8f95
test    ebx, ebx
jz      short loc_277f8531
mov     eax, [esi]
mov     [esi+8], eax
push    0
push    w
push    esi
call    ds:inflaterect
pop     ebx
pop     esi
pop     edi
jmp     short locret_277f84e8
xor     ebx, ebx
dec     eax
jmp     short loc_277f84fc
mov     eax, [esi+8]
mov     [esi], eax
jmp     short loc_277f8518
push    ebp
mov     ebp, esp
sub     esp, 48h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    esi, esi
jz      loc_277f85de
mov     eax, [esi+8]
mov     edi, [ebp+arg_4]
test    al, 4
jz      short loc_277f857b
test    byte ptr [esi+34h], 4
jnz     short loc_277f857b
cmp     dword ptr [esi+58h], 0
jnz     short loc_277f857b
test    al, 2
jz      short loc_277f857b
lea     eax, [ebp+arg_0]
push    eax
push    [ebp+arg_8]
push    edi
push    esi
call    sub_277f7f0e
push    eax
push    esi
call    sub_277f7708
push    esi
call    sub_277f8822
test    eax, eax
jz      short loc_277f85de
mov     eax, [esi+38h]
test    al, 0ch
jz      loc_277f862a
push    edi
push    esi
call    sub_277f8145
sub     eax, [esi+44h]
push    1
pop     ebx
push    esi
mov     [ebp+var_24], ebx
mov     [ebp+var_20], eax
call    sub_277f77bd
test    eax, eax
jnz     short loc_277f85e5
lea     eax, [ebp+var_24]
push    eax
push    0fffffecch
push    dword ptr [esi+30h]
push    esi
call    sub_277f7cb9
test    eax, eax
jnz     short loc_277f85e5
and     [esi+38h], eax
push    esi
call    sub_277bf76d
push    ebx
push    dword ptr [esi]
call    ds:killtimer
push    dword ptr [esi+40h]
push    esi
call    sub_277f80f9
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edi, [ebp+var_20]
push    esi
add     edi, [esi+44h]
call    sub_277f77bd
test    eax, eax
jz      short loc_277f8618
mov     eax, [ebp+var_20]
mov     [ebp+var_48], ebx
mov     [ebp+var_44], eax
lea     eax, [ebp+var_48]
push    eax
push    dword ptr [esi+30h]
push    esi
call    sub_277f8cd4
push    dword ptr [esi]
call    ds:updatewindow
mov     [esi+40h], edi
jmp     short loc_277f85de
push    dword ptr [esi+40h]
push    esi
call    sub_277f80f9
push    edi
push    esi
call    sub_277f80f9
jmp     short loc_277f8613
test    al, 2
jz      short loc_277f85de
lea     eax, [ebp+arg_0]
push    eax
push    [ebp+arg_8]
push    edi
push    esi
call    sub_277f7f0e
mov     [ebp+arg_4], eax
mov     eax, [esi+40h]
mov     ecx, edi
sub     ecx, eax
jns     short loc_277f8681
sub     eax, edi
mov     ebx, eax
push    44h
call    sub_277b339b
cmp     ebx, eax
jle     short loc_277f866c
cmp     dword ptr [esi+58h], 0
jnz     short loc_277f8672
push    [ebp+arg_8]
push    dword ptr [esi+40h]
push    [ebp+arg_4]
push    esi
call    sub_277f8298
cmp     dword ptr [esi+58h], 0
jz      short loc_277f8685
push    [ebp+arg_8]
push    edi
push    esi
call    sub_277f846e
jmp     loc_277f85de
mov     ebx, ecx
jmp     short loc_277f864c
test    byte ptr [ebp+arg_0], 2
jz      short loc_277f86be
mov     ecx, [esi+30h]
cmp     [ebp+arg_4], ecx
jnz     short loc_277f86be
mov     eax, [esi+34h]
push    1
pop     ebx
test    bl, al
jnz     loc_277f85de
test    byte ptr [esi+8], 2
jz      loc_277f85de
or      eax, ebx
push    5
mov     [esi+34h], eax
push    ecx
push    esi
call    sub_277f8fd2
jmp     loc_277f85de
mov     eax, [esi+34h]
test    al, 1
jz      loc_277f85de
test    byte ptr [esi+8], 2
jz      loc_277f85de
and     al, 0feh
push    5
push    dword ptr [esi+30h]
mov     [esi+34h], eax
jmp     short loc_277f86b3
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
cmp     esi, ebx
push    edi
mov     [ebp+var_4], ebx
jz      short loc_277f8771
push    esi
call    sub_277f8822
test    eax, eax
jz      short loc_277f8771
mov     eax, [esi+38h]
mov     edi, ds:killtimer
test    al, 0ch
jz      short loc_277f8778
push    esi
call    sub_277f77bd
test    eax, eax
jnz     short loc_277f871e
push    dword ptr [esi+40h]
push    esi
call    sub_277f80f9
mov     eax, [esi+40h]
mov     [ebp+var_28], 1
sub     eax, [esi+44h]
mov     [ebp+var_24], eax
lea     eax, [ebp+var_28]
push    eax
push    0fffffecdh
push    dword ptr [esi+30h]
push    esi
call    sub_277f7cb9
test    eax, eax
jz      short loc_277f8751
lea     eax, [ebp+var_28]
push    eax
push    dword ptr [esi+30h]
push    esi
call    sub_277f8cd4
push    5
push    ebx
push    ebx
push    dword ptr [esi]
call    ds:redrawwindow
cmp     [ebp+var_4], ebx
jnz     short loc_277f8771
push    esi
mov     [esi+38h], ebx
call    sub_277bf76d
push    1
push    dword ptr [esi]
call    edi
pop     edi
pop     esi
pop     ebx
leave
retn    10h
test    al, 2
jz      short loc_277f875d
test    byte ptr [esi+34h], 1
jnz     short loc_277f8787
cmp     [esi+58h], ebx
jz      short loc_277f875d
cmp     [esi+58h], ebx
jz      short loc_277f87fb
push    dword ptr [esi+30h]
mov     eax, [esi+5ch]
mov     [ebp+var_28], 80h
mov     [ebp+var_8], eax
push    esi
call    sub_277f753c
cmp     [ebp+var_8], eax
jle     short loc_277f87aa
dec     [ebp+var_8]
push    esi
call    sub_277f84b3
lea     eax, [ebp+var_28]
push    eax
push    0fffffec9h
push    dword ptr [esi+30h]
push    esi
call    sub_277f7cb9
test    eax, eax
jz      short loc_277f87e7
cmp     [ebp+var_8], 0ffffffffh
jz      short loc_277f87e7
push    [ebp+var_8]
push    dword ptr [esi+30h]
push    esi
call    sub_277f764e
push    ebx
push    0fffffffch
push    dword ptr [esi]
push    8004h
call    sub_277b8949
and     dword ptr [esi+34h], 0fffffffeh
push    5
push    dword ptr [esi+30h]
push    esi
call    sub_277f8fd2
jmp     loc_277f875d
push    esi
mov     [esi+38h], ebx
call    sub_277bf76d
push    1
push    dword ptr [esi]
call    edi
push    0fffffed2h
push    ebx
push    dword ptr [esi+30h]
mov     [ebp+var_4], 1
push    esi
call    sub_277f7ce7
jmp     short loc_277f87e7
push    esi
mov     esi, [esp+4+arg_0]
cmp     dword ptr [esi+38h], 0
jz      short loc_277f883b
call    ds:getcapture
cmp     eax, [esi]
jz      short loc_277f8841
and     dword ptr [esi+38h], 0
xor     eax, eax
pop     esi
retn    4
push    1
pop     eax
jmp     short loc_277f883d
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
jz      short loc_277f8874
mov     eax, [esp+4+h]
cmp     eax, [esi+28h]
jz      short loc_277f8874
push    eax
push    esi
call    sub_277f7d15
cmp     [esp+4+arg_8], 0
jz      short loc_277f8874
push    5
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
pop     esi
retn    0ch
mov     eax, [esp+arg_0]
test    eax, eax
jz      short locret_277f8883
mov     eax, [eax+28h]
retn    4
push    ebp
mov     ebp, esp
sub     esp, 40h
and     [ebp+var_40], 0
push    ebx
push    esi
push    edi
push    8
xor     eax, eax
pop     ecx
lea     edi, [ebp+var_3e]
rep stosd
stosw
mov     edi, [ebp+arg_8]
test    edi, edi
jz      loc_277f8a6f
mov     esi, [ebp+arg_0]
test    esi, esi
jz      loc_277f8a6f
mov     edx, [edi]
test    edx, edx
jz      loc_277f8a6f
mov     ax, [edi+4]
test    ax, ax
mov     [ebp+var_8], eax
jge     short loc_277f88d0
and     [ebp+var_8], 0
mov     eax, [esi+2ch]
movsx   ebx, word ptr [ebp+var_8]
mov     ecx, [eax]
mov     [ebp+var_c], ebx
cmp     [ebp+arg_4], ecx
mov     [ebp+var_4], ebx
jle     short loc_277f88e7
mov     [ebp+arg_4], ecx
mov     ecx, [ebp+arg_4]
test    byte ptr [esi+8], 20h
mov     [ebp+arg_0], ecx
jnz     short loc_277f8914
test    dl, 80h
jz      short loc_277f8914
mov     ecx, [edi+20h]
cmp     ecx, [ebp+arg_4]
jz      short loc_277f8914
cmp     ecx, [eax]
jg      short loc_277f8914
push    esi
call    sub_277f75bf
test    eax, eax
jz      short loc_277f8914
mov     eax, [edi+20h]
mov     [ebp+arg_0], eax
mov     eax, [ebp+arg_0]
test    eax, eax
jle     short loc_277f892d
dec     eax
push    eax
push    esi
call    sub_277f75a3
test    eax, eax
jz      short loc_277f892d
movsx   eax, word ptr [eax]
add     [ebp+var_4], eax
push    ebx
push    [ebp+arg_0]
push    esi
call    sub_277f7623
mov     eax, [esi+50h]
xor     ebx, ebx
cmp     eax, ebx
jz      short loc_277f897e
cmp     [eax], ebx
jle     short loc_277f896f
lea     ecx, [ebp+arg_8]
push    ecx
push    ebx
push    eax
call    sub_27815a58
mov     eax, [ebp+arg_8]
cmp     eax, [ebp+arg_4]
jl      short loc_277f8967
inc     [ebp+arg_8]
lea     eax, [ebp+arg_8]
push    eax
push    ebx
push    dword ptr [esi+50h]
call    sub_27815aa7
mov     eax, [esi+50h]
inc     ebx
cmp     ebx, [eax]
jl      short loc_277f8944
lea     eax, [ebp+arg_4]
push    eax
push    [ebp+arg_0]
push    dword ptr [esi+50h]
call    sub_27815b10
mov     ax, word ptr [ebp+var_4]
mov     ebx, 8000h
mov     [ebp+var_40], ax
mov     eax, [edi+18h]
mov     [ebp+var_2c], eax
mov     ax, [edi+14h]
mov     [ebp+var_3c], ax
mov     ax, word ptr [ebp+var_8]
mov     [ebp+var_3e], ax
mov     eax, 7fffffffh
mov     [ebp+var_28], eax
mov     [ebp+var_24], eax
mov     eax, [edi]
test    al, 2
jz      short loc_277f8a29
mov     ecx, [edi+8]
test    ecx, ecx
jz      short loc_277f8a29
lea     eax, [ebp+var_38]
push    ecx
push    eax
call    sub_2781617a
test    eax, eax
jz      loc_277f8a6f
mov     eax, [edi]
test    ebx, eax
jnz     short loc_277f89d5
or      byte ptr [ebp+var_3c+1], 40h
test    al, 10h
jz      short loc_277f8a2f
mov     ecx, [edi+0ch]
test    ecx, ecx
jz      short loc_277f8a2f
test    ebx, eax
mov     [ebp+var_34], ecx
jnz     short loc_277f89eb
or      byte ptr [ebp+var_3c+1], 20h
test    al, 20h
jz      short loc_277f89fd
mov     ecx, [edi+1ch]
test    ebx, eax
mov     [ebp+var_30], ecx
jnz     short loc_277f89fd
or      byte ptr [ebp+var_3c+1], 8
lea     eax, [ebp+var_40]
push    eax
push    [ebp+arg_4]
push    dword ptr [esi+2ch]
call    sub_27815b10
cmp     eax, 0ffffffffh
mov     [ebp+arg_4], eax
jnz     short loc_277f8a39
lea     eax, [ebp+var_38]
push    0
push    eax
call    sub_2781617a
mov     eax, [ebp+arg_4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
and     byte ptr [ebp+var_3c+1], 0bfh
jmp     short loc_277f89d5
and     [ebp+var_34], 0
and     byte ptr [ebp+var_3c+1], 0dfh
jmp     short loc_277f89eb
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+var_4]
push    5
sub     eax, [ebp+var_c]
push    0
mov     [ebp+rect.left], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
mov     eax, [ebp+arg_4]
inc     eax
push    eax
push    0fffffffch
push    dword ptr [esi]
push    ebx
call    sub_277b8949
jmp     short loc_277f8a1f
or      eax, 0ffffffffh
jmp     short loc_277f8a22
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    esi, esi
jz      short loc_277f8b01
mov     ebx, [ebp+arg_4]
lea     eax, [ebx+1]
push    eax
push    0fffffffch
push    dword ptr [esi]
push    8001h
call    sub_277b8949
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+rect.right]
mov     [ebp+arg_4], eax
lea     eax, [ebp+rect]
push    eax
push    ebx
push    esi
call    sub_277f8f95
push    y
lea     eax, [ebp+rect]
push    w
push    eax
call    ds:inflaterect
lea     eax, [ebp+var_34]
push    eax
push    ebx
push    dword ptr [esi+2ch]
call    sub_27815a58
test    eax, eax
jz      short loc_277f8b01
push    ebx
push    esi
call    sub_277f753c
mov     edi, eax
movsx   eax, [ebp+var_32]
neg     eax
push    eax
push    edi
push    esi
call    sub_277f7623
push    ebx
push    dword ptr [esi+2ch]
call    sub_27815b9b
test    eax, eax
jnz     short loc_277f8b0a
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+50h]
test    eax, eax
jz      short loc_277f8b49
push    edi
push    eax
call    sub_27815b9b
mov     eax, [esi+50h]
xor     edi, edi
cmp     [eax], edi
jle     short loc_277f8b49
lea     ecx, [ebp+arg_0]
push    ecx
push    edi
push    eax
call    sub_27815a58
cmp     [ebp+arg_0], ebx
jle     short loc_277f8b41
dec     [ebp+arg_0]
lea     eax, [ebp+arg_0]
push    eax
push    edi
push    dword ptr [esi+50h]
call    sub_27815aa7
mov     eax, [esi+50h]
inc     edi
cmp     edi, [eax]
jl      short loc_277f8b21
lea     eax, [ebp+var_2c]
push    0
push    eax
call    sub_2781617a
mov     eax, [ebp+arg_4]
push    1
mov     [ebp+rect.right], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
push    1
pop     eax
jmp     short loc_277f8b03
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+arg_8]
push    edi
test    esi, esi
jz      loc_277f8c0e
mov     ebx, [ebp+arg_0]
test    ebx, ebx
jz      loc_277f8c0e
mov     eax, [esi]
test    eax, 0ffffff40h
jz      short loc_277f8b9a
and     eax, 1fh
mov     [esi], eax
push    [ebp+arg_4]
mov     eax, [esi]
and     [ebp+var_14], 0
mov     [ebp+arg_8], eax
push    dword ptr [ebx+2ch]
call    sub_27815a87
mov     edi, eax
test    edi, edi
jz      short loc_277f8c0e
test    byte ptr [ebp+arg_8], 1
jz      short loc_277f8bc1
movsx   eax, word ptr [edi+2]
mov     [esi+4], eax
test    byte ptr [ebp+arg_8], 4
jz      short loc_277f8bce
movsx   eax, word ptr [edi+4]
mov     [esi+14h], eax
test    byte ptr [ebp+arg_8], 80h
jz      short loc_277f8be0
push    [ebp+arg_4]
push    ebx
call    sub_277f753c
mov     [esi+20h], eax
test    byte ptr [ebp+arg_8], 8
jz      short loc_277f8bec
mov     eax, [edi+14h]
mov     [esi+18h], eax
test    byte ptr [ebp+arg_8], 2
jz      short loc_277f8c22
mov     eax, [edi+8]
cmp     eax, 0ffffffffh
jz      short loc_277f8c17
test    eax, eax
jz      short loc_277f8c22
push    dword ptr [esi+10h]
push    dword ptr [esi+8]
push    eax
call    sub_27816125
test    eax, eax
jnz     short loc_277f8c22
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     dword ptr [edi+1ch], 7fffffffh
or      [ebp+var_14], 2
test    byte ptr [ebp+arg_8], 10h
jz      short loc_277f8c2e
mov     eax, [edi+0ch]
mov     [esi+0ch], eax
push    20h
pop     ebx
test    byte ptr [ebp+arg_8], bl
jz      short loc_277f8c45
mov     eax, [edi+10h]
cmp     eax, 0ffffffffh
jnz     loc_277f8ccc
or      [ebp+var_14], ebx
cmp     [ebp+var_14], 0
jz      short loc_277f8c96
or      [ebp+var_8], 0ffffffffh
mov     eax, [edi+14h]
test    byte ptr [ebp+var_14], 2
mov     [ebp+var_4], eax
jz      short loc_277f8c6e
mov     ecx, [esi+10h]
mov     eax, [esi+8]
test    ecx, ecx
mov     [ebp+lpstring], eax
mov     [ebp+var_c], ecx
jz      short loc_277f8c6e
and     byte ptr [eax], 0
lea     eax, [ebp+lparam]
push    eax
push    0fffffecbh
push    [ebp+arg_0]
call    sub_277b9838
test    byte ptr [ebp+var_14], bl
jz      short loc_277f8c8a
mov     eax, [ebp+var_8]
mov     [esi+1ch], eax
test    byte ptr [ebp+var_14], 2
jz      short loc_277f8c96
mov     eax, [ebp+lpstring]
mov     [esi+8], eax
test    byte ptr [ebp+var_14], 40h
jz      short loc_277f8cbf
test    byte ptr [ebp+var_14], bl
jz      short loc_277f8ca7
mov     eax, [ebp+var_8]
mov     [edi+10h], eax
test    byte ptr [ebp+var_14], 2
jz      short loc_277f8cbf
cmp     [ebp+lpstring], 0
jz      short loc_277f8cbf
push    [ebp+lpstring]
add     edi, 8
push    edi
call    sub_2781617a
mov     eax, [ebp+arg_8]
push    1
mov     [esi], eax
pop     eax
jmp     loc_277f8c10
mov     [esi+1ch], eax
jmp     loc_277f8c45
push    ebp
mov     ebp, esp
sub     esp, 50h
and     [ebp+var_4], 0
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_8]
test    edi, edi
jz      loc_277f8f08
mov     ebx, [ebp+arg_0]
test    ebx, ebx
jz      loc_277f8f08
push    [ebp+arg_4]
push    dword ptr [ebx+2ch]
call    sub_27815a87
mov     esi, eax
test    esi, esi
jz      loc_277f8f08
mov     eax, [edi]
test    eax, eax
mov     [ebp+arg_0], eax
jz      loc_277f8eca
push    edi
push    0fffffed4h
push    [ebp+arg_4]
push    ebx
call    sub_277f7cb9
test    eax, eax
jz      loc_277f8f08
movsx   eax, word ptr [esi]
test    byte ptr [ebp+arg_0], 1
mov     [ebp+var_8], eax
jz      loc_277f8ded
mov     eax, [edi+4]
test    eax, eax
jge     short loc_277f8d49
xor     eax, eax
movsx   ecx, word ptr [esi+2]
mov     edi, eax
mov     [esi+2], ax
lea     eax, [ebp+rect]
sub     edi, ecx
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
movsx   eax, word ptr [esi]
test    edi, edi
mov     [ebp+rect.left], eax
jge     short loc_277f8d6e
add     [ebp+rect.left], edi
push    [ebp+arg_4]
push    ebx
call    sub_277f753c
push    edi
push    eax
push    ebx
call    sub_277f7623
mov     eax, 7fffffffh
mov     [ebp+var_44], edi
mov     [esi+18h], eax
mov     [esi+1ch], eax
mov     ecx, [ebx]
xor     eax, eax
mov     [ebp+var_48], ecx
lea     ecx, [ebp+rect]
lea     edi, [ebp+var_28]
mov     [ebp+dy], 38h
mov     [ebp+var_4c], eax
mov     [ebp+var_40], eax
mov     [ebp+var_3c], eax
mov     [ebp+var_38], ecx
mov     [ebp+var_34], eax
mov     [ebp+var_30], eax
mov     [ebp+var_2c], 6
stosd
stosd
stosd
stosd
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
push    dword ptr [ebx]
call    ds:updatewindow
lea     eax, [ebp+rect]
push    eax
push    [ebp+arg_4]
push    ebx
call    sub_277f8f95
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [ebx]
call    ds:invalidaterect
mov     edi, [ebp+arg_8]
test    byte ptr [ebp+arg_0], 4
jz      short loc_277f8e0d
mov     ax, [edi+14h]
mov     [ebp+var_4], 1
mov     [esi+4], ax
mov     eax, 7fffffffh
mov     [esi+18h], eax
mov     [esi+1ch], eax
test    byte ptr [ebp+arg_0], 8
jz      short loc_277f8e19
mov     eax, [edi+18h]
mov     [esi+14h], eax
test    byte ptr [ebp+arg_0], 2
jz      short loc_277f8e41
push    dword ptr [edi+8]
lea     eax, [esi+8]
push    eax
call    sub_2781617a
test    eax, eax
jz      loc_277f8f08
mov     dword ptr [esi+1ch], 7fffffffh
mov     [ebp+var_4], 1
test    byte ptr [ebp+arg_0], 10h
jz      short loc_277f8e5b
mov     eax, [edi+0ch]
mov     dword ptr [esi+18h], 7fffffffh
mov     [esi+0ch], eax
mov     [ebp+var_4], 1
test    byte ptr [ebp+arg_0], 20h
jz      short loc_277f8e75
mov     eax, [edi+1ch]
mov     dword ptr [esi+18h], 7fffffffh
mov     [esi+10h], eax
mov     [ebp+var_4], 1
test    byte ptr [ebp+arg_0], 80h
jz      short loc_277f8ea3
mov     eax, [edi+20h]
test    eax, eax
jl      short loc_277f8ea3
mov     ecx, [ebx+2ch]
cmp     eax, [ecx]
jge     short loc_277f8ea3
push    eax
push    [ebp+arg_4]
push    ebx
call    sub_277f764e
push    0
push    0fffffffch
push    dword ptr [ebx]
push    8004h
call    sub_277b8949
push    edi
mov     edi, [ebp+arg_4]
push    0fffffed3h
push    edi
push    ebx
call    sub_277f7cb9
cmp     [ebp+var_4], 0
jz      short loc_277f8eca
movsx   eax, word ptr [esi]
cmp     [ebp+var_8], eax
jnz     short loc_277f8ed4
push    5
push    edi
push    ebx
call    sub_277f8fd2
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
test    edi, edi
jle     short loc_277f8ef6
dec     edi
push    edi
push    ebx
call    sub_277f75a3
test    eax, eax
jz      short loc_277f8ef6
movsx   eax, word ptr [esi]
mov     [ebp+rect.left], eax
push    5
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [ebx]
call    ds:redrawwindow
jmp     short loc_277f8eca
xor     eax, eax
jmp     short loc_277f8ecd
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
test    eax, eax
jz      short loc_277f8f91
mov     ebx, [ebp+arg_0]
test    ebx, ebx
jz      short loc_277f8f91
mov     edi, [eax+4]
test    edi, edi
jz      short loc_277f8f91
mov     esi, [eax]
test    esi, esi
jz      short loc_277f8f91
mov     eax, [ebx+4ch]
test    eax, eax
jz      short loc_277f8f8c
lea     ecx, [ebp+arg_4]
push    ecx
lea     ecx, [ebp+arg_0]
push    ecx
push    eax
call    sub_278139de
mov     eax, [ebx+24h]
cmp     eax, [ebp+arg_4]
jg      short loc_277f8f4d
mov     eax, [ebp+arg_4]
mov     ecx, dy
test    byte ptr [ebx+8], 8
lea     eax, [eax+ecx*2]
jz      short loc_277f8f5e
xor     eax, eax
and     dword ptr [edi+4], 0
mov     dword ptr [edi+18h], 14h
mov     ecx, [esi]
push    1
mov     [edi+8], ecx
mov     ecx, [esi+8]
sub     ecx, [esi]
mov     [edi+10h], ecx
mov     ecx, [esi+4]
mov     [edi+0ch], ecx
mov     [edi+14h], eax
add     [esi+4], eax
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     eax, [ebx+24h]
jmp     short loc_277f8f4d
xor     eax, eax
jmp     short loc_277f8f85
push    ebx
mov     ebx, [esp+4+arg_0]
push    edi
push    [esp+8+arg_4]
push    dword ptr [ebx+2ch]
call    sub_27815a87
mov     edi, eax
test    edi, edi
jz      short loc_277f8fcd
push    esi
mov     esi, [esp+0ch+lprect]
push    esi
push    dword ptr [ebx]
call    ds:getclientrect
movsx   eax, word ptr [edi]
mov     [esi+8], eax
push    1
movsx   ecx, word ptr [edi+2]
sub     eax, ecx
mov     [esi], eax
pop     eax
pop     esi
pop     edi
pop     ebx
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     [ebp+arg_4], 0ffffffffh
jz      short locret_277f9017
lea     eax, [ebp+rc]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277f8f95
push    y
lea     eax, [ebp+rc]
push    w
push    eax
call    ds:inflaterect
push    [ebp+flags]
lea     eax, [ebp+rc]
push    0
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 70h
and     [ebp+x1], 0
and     [ebp+var_10], 0
push    ebx
push    esi
push    edi
push    [ebp+lprc]
call    ds:setrectempty
mov     esi, [ebp+hdcsrc]
push    esi
call    ds:isrectempty
test    eax, eax
jz      short loc_277f904c
mov     eax, [esi]
pop     edi
pop     esi
pop     ebx
leave
retn    1ch
lea     edi, [ebp+rc]
mov     eax, dword_2782a068
movsd
movsd
test    byte ptr [ebp+cy], 40h
movsd
movsd
jz      short loc_277f9061
lea     eax, [eax+eax*2]
add     [ebp+rc.left], eax
sub     [ebp+rc.right], eax
mov     eax, [ebp+rc.right]
cmp     [ebp+rc.left], eax
jge     loc_277f9259
mov     ebx, [ebp+h]
test    byte ptr [ebx+15h], 8
jz      loc_277f917e
lea     eax, [ebp+var_8]
push    eax
lea     eax, [ebp+var_4]
push    eax
push    [ebp+lp]
call    sub_278139de
mov     esi, [ebp+var_8]
mov     edx, [ebp+var_4]
test    byte ptr [ebp+cy], 20h
jz      short loc_277f90b8
push    y
lea     eax, [ebp+rc]
push    w
push    eax
call    ds:offsetrect
mov     esi, [ebp+var_8]
mov     edx, [ebp+var_4]
mov     eax, [ebp+rc.right]
mov     edi, [ebp+rc.left]
mov     ecx, eax
sub     ecx, edi
cmp     [ebp+arg_10], 0
jnz     loc_277f91d0
cmp     edx, ecx
jle     short loc_277f90d3
mov     [ebp+var_4], ecx
mov     edx, [ebp+rc.bottom]
mov     ecx, [ebp+rc.top]
mov     [ebp+cy], edx
sub     [ebp+cy], ecx
cmp     esi, [ebp+cy]
jle     loc_277f920c
lea     eax, [esi+ecx]
mov     esi, [ebp+cy]
sub     eax, edx
mov     [ebp+var_8], esi
cdq
sub     eax, edx
sar     eax, 1
test    byte ptr [ebx+15h], 8
jz      loc_277f9224
mov     edx, [ebp+lp]
or      [ebp+var_48], 0ffffffffh
and     [ebp+var_40], 0
mov     [ebp+var_6c], edx
mov     edx, [ebp+hdc]
mov     [ebp+var_5c], ecx
mov     ecx, [ebp+var_4]
mov     [ebp+var_4c], eax
mov     [ebp+var_64], edx
mov     edx, [ebx+1ch]
mov     [ebp+var_58], ecx
mov     ecx, [ebp+x1]
lea     eax, [ebp+var_70]
mov     [ebp+var_70.unused], 38h
push    eax
mov     [ebp+var_68], edx
mov     [ebp+var_60], edi
mov     [ebp+var_54], esi
mov     [ebp+var_50], ecx
mov     [ebp+var_44], 0ff000000h
call    sub_27814800
mov     ecx, [ebp+lprc]
lea     esi, [ebp+rc]
mov     edi, ecx
mov     eax, [ebp+var_8]
movsd
mov     edx, [ebp+rc.top]
movsd
movsd
add     eax, edx
mov     edx, [ebp+rc.left]
movsd
mov     [ecx+0ch], eax
mov     eax, [ebp+var_4]
add     eax, edx
mov     [ecx+8], eax
test    byte ptr [ebx+14h], 1
jz      loc_277f9045
mov     eax, edx
jmp     loc_277f9045
lea     eax, [ebp+pv]
push    eax
push    18h
push    dword ptr [ebx+0ch]
call    ds:getobjecta
cmp     eax, 18h
jnz     loc_277f9259
push    [ebp+hdc]
call    ds:createcompatibledc
test    eax, eax
mov     [ebp+hdcsrc], eax
jz      loc_277f9259
push    dword ptr [ebx+0ch]
push    eax
call    ds:selectobject
test    eax, eax
mov     [ebp+h], eax
jz      loc_277f9259
mov     edx, [ebp+var_34]
mov     esi, [ebp+var_30]
mov     [ebp+var_4], edx
mov     [ebp+var_8], esi
jmp     loc_277f9096
cmp     [ebp+arg_10], 2
jnz     short loc_277f91fe
cmp     edx, ecx
jle     short loc_277f91eb
mov     eax, edx
sub     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
mov     [ebp+x1], eax
jmp     loc_277f90d0
add     eax, edi
sub     eax, edx
cdq
sub     eax, edx
sar     eax, 1
mov     edi, eax
mov     [ebp+rc.left], edi
jmp     loc_277f90d3
cmp     edx, ecx
jle     short loc_277f9208
mov     eax, edx
sub     eax, ecx
jmp     short loc_277f91e3
sub     eax, edx
jmp     short loc_277f91f4
mov     eax, edx
sub     eax, esi
sub     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
mov     ecx, eax
mov     eax, [ebp+var_10]
mov     [ebp+rc.top], ecx
jmp     loc_277f90f8
push    0cc0020h
push    eax
push    [ebp+x1]
push    [ebp+hdcsrc]
push    esi
push    [ebp+var_4]
push    ecx
push    edi
push    [ebp+hdc]
call    ds:bitblt
push    [ebp+h]
push    [ebp+hdcsrc]
call    ds:selectobject
push    [ebp+hdcsrc]
call    ds:deletedc
jmp     loc_277f914b
mov     eax, [ebp+rc.left]
jmp     loc_277f9045
push    ebp
mov     ebp, esp
push    [ebp+lprc]
call    ds:isrectempty
test    eax, eax
jnz     short loc_277f9297
mov     eax, [ebp+arg_0]
mov     eax, [eax+8]
test    al, 2
jz      short loc_277f92a5
cmp     [ebp+arg_c], 0
jz      short loc_277f929b
push    0ah
mov     eax, 500fh
pop     ecx
push    eax
push    ecx
push    [ebp+lprc]
push    [ebp+hdc]
call    ds:drawedge
pop     ebp
retn    10h
push    5
mov     eax, 100fh
pop     ecx
jmp     short loc_277f9289
not     eax
and     eax, 800000h
push    6
or      eax, 400000h
pop     ecx
shr     eax, 14h
jmp     short loc_277f9289
push    ebp
mov     ebp, esp
sub     esp, 1d4h
and     [ebp+var_34], 0
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    esi
call    sub_277f8822
and     [ebp+var_4], 0
push    41h
pop     ecx
mov     [ebp+sz.cy], eax
push    [ebp+cy]
xor     eax, eax
lea     edi, [ebp+var_1d4]
rep stosd
push    esi
call    sub_277f75a3
mov     ebx, eax
xor     eax, eax
cmp     [ebp+sz.cy], eax
jz      loc_277f97ab
test    byte ptr [esi+38h], 2
jz      loc_277f97ab
mov     edi, [ebp+hrgnsrc2]
cmp     [esi+30h], edi
jnz     loc_277f97ae
test    byte ptr [esi+34h], 1
jz      loc_277f97ae
mov     [ebp+var_c], 1
cmp     [ebp+var_c], eax
mov     [ebp+cy], 46h
jz      short loc_277f9336
mov     [ebp+cy], 66h
test    byte ptr [ebx+5], 80h
jz      loc_277f97b6
push    dword ptr [esi]
or      dword ptr [esi+34h], 4
mov     [ebp+lparam], 64h
call    ds:getdlgctrlid
mov     [ebp+wparam], eax
xor     eax, eax
cmp     [ebp+var_c], eax
mov     [ebp+var_98], edi
lea     edi, [ebp+var_84]
mov     [ebp+var_94], 1
setnz   al
mov     [ebp+var_90], eax
mov     eax, [esi]
mov     esi, [ebp+lprect]
mov     [ebp+var_8c], eax
mov     eax, [ebp+hdc]
mov     [ebp+pv], eax
mov     eax, [ebx+14h]
movsd
movsd
movsd
movsd
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+lparam]
push    eax
mov     eax, [ebp+arg_0]
push    [ebp+wparam]
push    2bh
push    dword ptr [eax+4]
call    ds:sendmessagea
test    eax, eax
jnz     loc_277f9778
push    [ebp+hdc]
call    ds:gettextcolor
push    [ebp+hdc]
mov     [ebp+var_70], eax
call    ds:getbkcolor
mov     esi, [ebp+lprect]
lea     edi, [ebp+hdcsrc]
movsd
movsd
movsd
movsd
mov     esi, [ebp+lprect]
lea     edi, [ebp+rc]
movsd
movsd
movsd
movsd
test    byte ptr [ebx+5], 68h
mov     [ebp+var_6c], eax
jz      short loc_277f9419
lea     eax, [ebp+var_1d4]
mov     [ebp+h], 36h
mov     [ebp+lpstring], eax
lea     eax, [ebp+h]
push    eax
mov     [ebp+var_58], 104h
push    [ebp+hrgnsrc2]
push    [ebp+arg_0]
call    sub_277f8b6d
mov     ax, [ebx+4]
test    ah, 40h
jz      loc_277f98ba
test    ah, 28h
jz      loc_277f98ba
mov     eax, 7fffffffh
cmp     [ebx+1ch], eax
jz      short loc_277f9442
cmp     [ebx+18h], eax
jnz     loc_277f9524
lea     eax, [ebp+sz]
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    ds:gettextextentpointa
mov     edi, [ebp+cy]
mov     eax, dword_2782a068
and     edi, 40h
xor     esi, esi
or      edi, 20h
mov     [ebp+var_20], esi
shr     edi, 4
imul    eax, edi
add     [ebp+sz._cx], eax
mov     eax, [ebp+arg_0]
mov     eax, [eax+4ch]
test    eax, eax
jz      loc_277f980f
test    byte ptr [ebx+5], 8
jz      loc_277f980f
lea     ecx, [ebp+var_1c]
push    ecx
lea     ecx, [ebp+var_20]
push    ecx
push    eax
call    sub_278139de
mov     eax, dword_2782a068
mov     esi, [ebp+var_20]
imul    eax, edi
add     esi, eax
mov     eax, [ebp+sz._cx]
mov     ecx, [ebp+lprect]
add     eax, esi
mov     [ebx+20h], eax
mov     eax, [ecx+8]
mov     edx, [ecx]
mov     edi, eax
sub     edi, edx
mov     edx, [ebp+sz._cx]
add     edx, esi
sub     edi, edx
jns     short loc_277f94d0
sub     eax, [ecx]
xor     edi, edi
inc     eax
mov     [ebx+20h], eax
mov     ax, [ebx+4]
test    ah, 10h
jz      loc_277f985c
and     eax, 3
sub     eax, 0
jz      loc_277f984a
dec     eax
jz      loc_277f983e
dec     eax
jnz     short loc_277f94ff
mov     eax, edi
cdq
sub     eax, edx
sar     eax, 1
add     eax, [ecx]
mov     [ebx+1ch], eax
test    edi, edi
jnz     loc_277f9851
mov     eax, [ecx+8]
sub     eax, esi
inc     eax
mov     [ebx+18h], eax
mov     eax, [ecx]
cmp     [ebx+18h], eax
jge     short loc_277f951a
mov     [ebx+18h], eax
mov     eax, [ecx]
sub     [ebx+18h], eax
mov     eax, [ecx]
sub     [ebx+1ch], eax
mov     eax, [ebp+lprect]
mov     edx, [eax]
mov     eax, [ebx+18h]
add     eax, edx
mov     [ebp+hdcsrc.unused], eax
mov     ecx, [ebx+1ch]
add     ecx, edx
mov     [ebp+rc.left], ecx
test    byte ptr [ebx+5], 10h
jz      loc_277f98a8
mov     edx, [ebx+20h]
mov     [ebp+rc.right], eax
add     edx, ecx
mov     [ebp+var_28], edx
mov     cx, [ebx+4]
mov     edi, ds:createrectrgnindirect
mov     esi, ds:deleteobject
mov     [ebp+var_8], ecx
and     [ebp+var_8], 800h
cmp     word ptr [ebp+var_8], 0
jnz     short loc_277f9578
test    ch, 20h
jz      loc_277f96ac
and     [ebp+var_1c], 0
and     [ebp+hrgnsrc1], 0
and     [ebp+hrgnsrc2], 0
cmp     word ptr [ebp+var_8], 0
jz      short loc_277f959f
mov     edx, 2000h
test    dx, cx
jz      short loc_277f959f
xor     [ebp+var_54], edx
mov     [ebp+var_1c], 1
mov     ecx, [ebp+arg_14]
and     ecx, 1
mov     [ebp+sz.cy], ecx
jnz     short loc_277f95dd
lea     eax, [ebp+rect]
push    eax
mov     eax, [ebp+var_54]
push    [ebp+cy]
and     eax, 3
push    eax
lea     eax, [ebp+hdcsrc]
push    eax
lea     eax, [ebp+h]
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax+4ch]
push    [ebp+hdc]
call    sub_277f901b
mov     [ebp+var_8], eax
lea     eax, [ebp+rect]
push    eax
call    edi
mov     [ebp+hrgnsrc1], eax
mov     eax, [ebp+hdcsrc.unused]
xor     ecx, ecx
cmp     [ebp+var_1c], ecx
jz      short loc_277f9650
xor     [ebp+var_54], 2800h
mov     edx, [ebp+var_54]
and     edx, 1
mov     [ebp+var_1c], edx
jz      loc_277f98c2
mov     edx, [ebp+var_8]
test    byte ptr [ebp+var_54+1], 40h
mov     [ebp+var_28], edx
jz      short loc_277f9611
cmp     eax, [ebp+rc.left]
jl      short loc_277f960e
mov     eax, [ebp+rc.left]
mov     [ebp+var_28], eax
mov     eax, [ebp+lprect]
mov     eax, [eax]
mov     [ebp+hdcsrc.unused], eax
cmp     [ebp+sz.cy], ecx
jnz     short loc_277f9649
lea     eax, [ebp+rect]
push    eax
lea     eax, [ebp+hdcsrc]
push    [ebp+cy]
push    [ebp+var_1c]
push    eax
lea     eax, [ebp+h]
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax+4ch]
push    [ebp+hdc]
call    sub_277f901b
lea     eax, [ebp+rect]
push    eax
call    edi
mov     [ebp+hrgnsrc2], eax
xor     ecx, ecx
xor     [ebp+var_54], 800h
mov     eax, [ebp+hrgnsrc1]
cmp     eax, ecx
jz      loc_277f98ee
cmp     [ebp+hrgnsrc2], ecx
jz      loc_277f98ea
push    ecx
push    ecx
push    ecx
push    ecx
call    ds:createrectrgn
push    2
mov     [ebp+var_4], eax
push    [ebp+hrgnsrc2]
push    [ebp+hrgnsrc1]
push    eax
call    ds:combinergn
push    [ebp+hrgnsrc1]
call    esi
push    [ebp+hrgnsrc2]
call    esi
xor     ecx, ecx
cmp     [ebp+sz.cy], ecx
jz      short loc_277f96a3
cmp     [ebp+var_4], ecx
jnz     short loc_277f96a3
push    ecx
push    ecx
push    ecx
push    ecx
call    ds:createrectrgn
mov     [ebp+var_4], eax
push    [ebp+hdc]
call    ds:savedc
test    byte ptr [ebx+5], 40h
jz      short loc_277f9718
mov     eax, [ebp+var_54]
test    al, 4
jz      short loc_277f96bd
or      byte ptr [ebp+cy+1], 8
push    [ebp+var_6c]
mov     ecx, [ebp+arg_0]
and     eax, 3
push    [ebp+var_70]
push    dword ptr [ecx+1ch]
push    dword ptr [ecx+24h]
push    [ebp+cy]
push    eax
lea     eax, [ebp+rc]
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    sub_27803131
xor     eax, eax
cmp     [ebp+var_4], eax
jz      short loc_277f9718
push    eax
push    eax
push    eax
push    eax
call    ds:createrectrgn
mov     ebx, eax
lea     eax, [ebp+rc]
push    eax
call    edi
push    2
mov     [ebp+hrgnsrc2], eax
push    [ebp+var_4]
push    eax
push    ebx
call    ds:combinergn
push    [ebp+var_4]
call    esi
push    [ebp+hrgnsrc2]
call    esi
mov     [ebp+var_4], ebx
cmp     [ebp+var_4], 0
jz      short loc_277f9778
push    [ebp+lprect]
call    edi
xor     ebx, ebx
mov     [ebp+hrgnsrc2], eax
push    ebx
push    ebx
push    ebx
push    ebx
call    ds:createrectrgn
push    3
mov     edi, eax
push    [ebp+var_4]
push    [ebp+hrgnsrc2]
push    edi
call    ds:combinergn
push    edi
push    [ebp+hdc]
call    ds:selectcliprgn
push    ebx
push    ebx
push    ebx
push    [ebp+lprect]
push    2
push    ebx
push    ebx
push    [ebp+hdc]
call    ds:exttextouta
push    0ffffffffh
push    [ebp+hdc]
call    ds:restoredc
push    [ebp+var_4]
call    esi
push    edi
call    esi
push    [ebp+hrgnsrc2]
call    esi
test    byte ptr [ebp+arg_14], 2
jnz     short loc_277f978f
push    [ebp+var_c]
push    [ebp+lprect]
push    [ebp+hdc]
push    [ebp+arg_0]
call    sub_277f9261
test    byte ptr [ebp+var_34], 10h
jz      short loc_277f9808
lea     eax, [ebp+var_d0]
push    eax
push    10002h
push    [ebp+arg_0]
call    sub_27811d7b
jmp     short loc_277f9808
mov     edi, [ebp+hrgnsrc2]
mov     [ebp+var_c], eax
jmp     loc_277f9323
mov     eax, [ebp+hdc]
mov     esi, [ebp+lprect]
mov     [ebp+var_ac], edi
lea     edi, [ebp+var_bc]
mov     [ebp+var_c0], eax
xor     eax, eax
movsd
cmp     [ebp+var_c], eax
movsd
movsd
setnz   al
movsd
mov     [ebp+var_a8], eax
mov     eax, [ebx+14h]
mov     [ebp+var_a4], eax
lea     eax, [ebp+var_d0]
push    eax
push    10001h
push    [ebp+arg_0]
call    sub_27811d7b
test    al, 4
mov     [ebp+var_34], eax
jz      loc_277f93c1
pop     edi
pop     esi
pop     ebx
leave
retn    18h
mov     eax, [ebx+0ch]
test    eax, eax
jz      loc_277f94ab
lea     ecx, [ebp+pv]
push    ecx
push    18h
push    eax
call    ds:getobjecta
mov     esi, dword_2782a068
imul    esi, edi
add     esi, [ebp+var_84]
jmp     loc_277f94ab
mov     eax, [ecx+8]
sub     eax, [ebx+20h]
inc     eax
jmp     loc_277f94fc
mov     eax, [ecx]
jmp     loc_277f94fc
mov     eax, [ebp+sz._cx]
add     eax, [ebx+1ch]
jmp     loc_277f950d
and     eax, 3
sub     eax, 0
jz      short loc_277f98a4
dec     eax
jz      short loc_277f9891
dec     eax
jnz     short loc_277f987d
mov     eax, edi
cdq
sub     eax, edx
mov     edx, [ecx]
sar     eax, 1
add     eax, edx
add     esi, eax
mov     [ebx+18h], eax
mov     [ebx+1ch], esi
mov     eax, [ecx+8]
cmp     [ebx+1ch], eax
jle     loc_277f951a
mov     [ebx+1ch], eax
jmp     loc_277f951a
mov     eax, [ecx+8]
sub     eax, [ebx+20h]
inc     eax
mov     [ebx+18h], eax
lea     eax, [esi+eax-1]
mov     [ebx+1ch], eax
jmp     short loc_277f987d
mov     eax, [ecx]
jmp     short loc_277f9898
mov     [ebp+var_28], ecx
mov     ecx, [ebx+20h]
lea     ecx, [ecx+eax+1]
mov     [ebp+rc.right], ecx
jmp     loc_277f954e
mov     eax, [ebp+hdcsrc.unused]
jmp     loc_277f954e
mov     eax, [ebp+var_8]
test    byte ptr [ebp+var_54+1], 40h
mov     [ebp+hdcsrc.unused], eax
jz      short loc_277f98dc
mov     eax, [ebp+rc.right]
cmp     [ebp+var_28], eax
jle     short loc_277f98d9
mov     eax, [ebp+var_28]
mov     [ebp+hdcsrc.unused], eax
mov     eax, [ebp+lprect]
mov     eax, [eax+8]
mov     [ebp+var_28], eax
jmp     loc_277f9619
cmp     eax, ecx
jnz     short loc_277f98f9
mov     eax, [ebp+hrgnsrc2]
cmp     eax, ecx
jz      loc_277f968c
mov     [ebp+var_4], eax
jmp     loc_277f968c
push    ebp
mov     ebp, esp
sub     esp, 58h
and     [ebp+h], 0
push    ebx
push    esi
mov     esi, [ebp+cy]
lea     eax, [ebp+rect]
push    edi
push    eax
push    dword ptr [esi]
call    ds:getclientrect
push    hbr
mov     edi, [ebp+hdc]
lea     eax, [ebp+rect]
push    eax
push    edi
call    ds:fillrect
push    esi
call    sub_277f8822
mov     [ebp+var_8], eax
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_277f994c
push    eax
push    edi
call    ds:selectobject
mov     [ebp+h], eax
mov     eax, [esi+2ch]
mov     ebx, [eax]
and     [ebp+var_30], 0
and     [ebp+var_2c], 0
lea     eax, [ebp+lparam]
push    eax
push    1
push    esi
mov     [ebp+hdc], ebx
mov     [ebp+var_48], edi
call    sub_27811d7b
and     [ebp+cy], 0
mov     [esi+0ch], eax
test    ebx, ebx
jle     short loc_277f99e8
push    [ebp+cy]
push    esi
call    sub_277f7582
mov     ebx, eax
lea     eax, [ebp+rect]
push    eax
push    ebx
push    esi
call    sub_277f8f95
mov     eax, [ebp+arg_8]
test    eax, eax
jz      short loc_277f99a2
mov     ecx, [ebp+rect.right]
cmp     ecx, [eax]
jl      short loc_277f99dd
mov     ecx, [ebp+rect.left]
cmp     ecx, [eax+8]
jge     short loc_277f99e8
cmp     ebx, [esi+54h]
jnz     loc_277f9a8e
call    sub_27819290
push    eax
call    ds:getsyscolor
push    eax
push    edi
call    ds:settextcolor
push    color
push    edi
call    ds:setbkcolor
lea     eax, [ebp+rect]
push    0
push    eax
push    ebx
push    [ebp+cy]
push    edi
push    esi
call    sub_277f92b9
inc     [ebp+cy]
mov     eax, [ebp+cy]
cmp     eax, [ebp+hdc]
jl      short loc_277f9976
mov     eax, [ebp+hdc]
cmp     [ebp+cy], eax
jnz     short loc_277f9a1b
mov     eax, [ebp+rect.right]
push    hbr
mov     [ebp+rect.left], eax
lea     eax, [ebp+rect]
push    eax
push    edi
mov     [ebp+rect.right], 7d00h
call    ds:fillrect
lea     eax, [ebp+rect]
push    0
push    eax
push    edi
push    esi
call    sub_277f9261
push    esi
call    sub_277f77bd
test    eax, eax
jnz     short loc_277f9a39
cmp     [ebp+var_8], eax
jz      short loc_277f9a39
test    byte ptr [esi+38h], 0ch
jz      short loc_277f9a39
push    dword ptr [esi+40h]
push    esi
call    sub_277f80f9
cmp     dword ptr [esi+5ch], 0ffffffffh
jz      short loc_277f9a65
call    sub_27819290
push    eax
call    ds:getsyscolor
mov     ebx, eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+5ch]
push    esi
call    sub_277f84d5
lea     eax, [ebp+rect]
push    ebx
push    eax
push    edi
call    sub_277be3ec
test    byte ptr [esi+0ch], 10h
jz      short loc_277f9a77
lea     eax, [ebp+lparam]
push    eax
push    2
push    esi
call    sub_27811d7b
cmp     [ebp+h], 0
jz      short loc_277f9a87
push    [ebp+h]
push    edi
call    ds:selectobject
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, dword_2782a128
jmp     loc_277f99b7
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    [ebp+cy]
xor     esi, esi
mov     [ebp+h], esi
mov     [ebp+ho], esi
push    ebx
mov     [ebp+var_18], esi
mov     [ebp+lp], esi
mov     [ebp+var_14], esi
mov     [ebp+var_c], esi
call    sub_277f7582
lea     ecx, [ebp+rc]
mov     [ebp+hrgnsrc2], eax
push    ecx
push    eax
push    ebx
call    sub_277f8f95
mov     eax, [ebp+rc.top]
neg     eax
push    eax
mov     eax, [ebp+rc.left]
neg     eax
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
push    esi
call    ds:createcompatibledc
mov     edi, eax
cmp     edi, esi
mov     esi, ds:selectobject
jz      loc_277f9c4d
push    [ebp+rc.bottom]
push    [ebp+rc.right]
call    sub_278132f1
test    eax, eax
mov     [ebp+h], eax
jz      loc_277f9c4d
push    [ebp+rc.bottom]
push    [ebp+rc.right]
call    sub_27813387
test    eax, eax
mov     [ebp+ho], eax
jz      loc_277f9c4d
mov     ebx, [ebx+28h]
test    ebx, ebx
jz      short loc_277f9b36
push    ebx
push    edi
call    esi
mov     [ebp+var_18], eax
push    0
push    1
pop     ebx
push    ebx
push    ebx
push    [ebp+rc.bottom]
push    [ebp+rc.right]
call    sub_2781371d
test    eax, eax
mov     [ebp+lp], eax
jz      loc_277f9c4d
push    0
push    ebx
push    ebx
push    [ebp+rc.bottom]
push    [ebp+rc.right]
call    sub_2781371d
test    eax, eax
mov     [ebp+var_14], eax
jz      loc_277f9c4d
push    dword_2782a128
mov     ebx, ds:settextcolor
push    edi
call    ebx
push    dword_2782a14c
push    edi
call    ds:setbkcolor
push    [ebp+h]
push    edi
call    esi
mov     [ebp+var_c], eax
lea     eax, [ebp+rc]
push    2
push    eax
push    [ebp+hrgnsrc2]
push    [ebp+cy]
push    edi
push    [ebp+arg_0]
call    sub_277f92b9
push    [ebp+ho]
push    edi
call    esi
push    42h
push    [ebp+rc.bottom]
push    [ebp+rc.right]
push    0
push    0
push    edi
call    ds:patblt
push    [ebp+var_c]
push    edi
call    esi
push    0ffffffffh
push    [ebp+lp]
call    sub_27813ac4
push    [ebp+ho]
push    [ebp+h]
push    [ebp+lp]
call    sub_27813dd6
push    dword_2782a128
push    edi
call    ebx
push    dword_2782a14c
push    edi
call    ds:setbkcolor
push    [ebp+h]
push    edi
call    esi
mov     [ebp+var_c], eax
lea     eax, [ebp+rc]
push    3
push    eax
push    [ebp+hrgnsrc2]
push    [ebp+cy]
push    edi
push    [ebp+arg_0]
call    sub_277f92b9
push    400fh
lea     eax, [ebp+rc]
push    9
push    eax
push    edi
call    ds:drawedge
push    [ebp+var_c]
push    edi
call    esi
push    dword_2782a14c
push    [ebp+h]
push    [ebp+var_14]
call    sub_27813e20
xor     eax, eax
push    eax
push    eax
push    [ebp+lp]
push    eax
push    eax
push    eax
push    [ebp+var_14]
call    sub_27814ebc
cmp     [ebp+lp], 0
jz      short loc_277f9c5b
push    [ebp+lp]
call    sub_27813889
mov     ebx, ds:deleteobject
test    edi, edi
jz      short loc_277f9c80
cmp     [ebp+var_c], 0
jz      short loc_277f9c71
push    [ebp+var_c]
push    edi
call    esi
cmp     [ebp+var_18], 0
jz      short loc_277f9c7d
push    [ebp+var_18]
push    edi
call    esi
push    edi
call    ebx
cmp     [ebp+h], 0
jz      short loc_277f9c8b
push    [ebp+h]
call    ebx
cmp     [ebp+ho], 0
jz      short loc_277f9c96
push    [ebp+ho]
call    ebx
mov     eax, [ebp+var_14]
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
push    edi
mov     edi, [ebp+hinstance]
push    edi
call    sub_27805499
test    eax, eax
jz      short loc_277f9d14
lea     eax, [ebp+wndclass]
mov     esi, offset amsvbliblistvie
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_277f9d1a
push    7f00h
push    eax
mov     [ebp+wndclass.lpfnwndproc], offset sub_277fba35
call    ds:loadcursora
and     [ebp+wndclass.hicon], 0
and     [ebp+wndclass.lpszmenuname], 0
and     [ebp+wndclass.cbclsextra], 0
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.hinstance], edi
push    eax
mov     [ebp+wndclass.lpszclassname], esi
mov     [ebp+wndclass.hbrbackground], 6
mov     [ebp+wndclass.style], 8
mov     [ebp+wndclass.cbwndextra], 4
call    ds:registerclassa
movzx   eax, ax
pop     edi
pop     esi
leave
retn    4
push    1
pop     eax
jmp     short loc_277f9d14
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
push    edi
push    1
lea     eax, [ebp+phkresult]
pop     esi
xor     edi, edi
push    eax
push    20019h
push    edi
push    offset asoftwaremicros
push    80000001h
call    ds:regopenkeyexa
test    eax, eax
jnz     short loc_277f9d7f
lea     eax, [ebp+cbdata]
mov     [ebp+cbdata], 4
push    eax
lea     eax, [ebp+data]
push    eax
lea     eax, [ebp+type]
push    eax
push    edi
push    offset ausedoubleclick
push    [ebp+phkresult]
call    ds:regqueryvalueexa
test    eax, eax
jnz     short loc_277f9d76
mov     esi, dword ptr [ebp+data]
push    1
pop     edi
push    [ebp+phkresult]
call    ds:regclosekey
mov     eax, [ebp+arg_0]
mov     [eax], esi
mov     eax, edi
pop     edi
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 14h
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+arg_8]
cmp     eax, ecx
jg      short loc_277f9db9
mov     [ebp+var_8], eax
lea     eax, [ebp+lparam]
push    eax
push    0ffffff8fh
push    [ebp+arg_0]
mov     [ebp+var_4], ecx
call    sub_277b9838
neg     eax
sbb     eax, eax
inc     eax
leave
retn    0ch
xor     eax, eax
jmp     short locret_277f9db5
push    ebp
mov     ebp, esp
sub     esp, 28h
mov     eax, [ebp+arg_8]
push    esi
mov     esi, [ebp+arg_4]
push    edi
push    6
lea     edi, [ebp+var_18]
pop     ecx
rep movsd
mov     [ebp+var_1c], eax
lea     eax, [ebp+lparam]
push    eax
push    0ffffff68h
push    [ebp+arg_0]
call    sub_277b9838
pop     edi
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 2ch
mov     eax, [ebp+arg_4]
and     [ebp+var_c], 0
mov     [ebp+var_20], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_1c], eax
mov     eax, [ebp+arg_14]
mov     [ebp+var_18], eax
mov     eax, [ebp+arg_10]
mov     [ebp+var_14], eax
mov     eax, [ebp+arg_18]
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_1c]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
and     [ebp+var_8], 0
push    eax
push    [ebp+arg_c]
push    [ebp+arg_0]
call    sub_277b9838
neg     eax
sbb     eax, eax
inc     eax
leave
retn    20h
push    ebp
mov     ebp, esp
sub     esp, 1ch
mov     eax, [ebp+arg_4]
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_10]
mov     [ebp+var_8], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    0ffffff8dh
push    [ebp+arg_0]
call    sub_277b9838
neg     eax
sbb     eax, eax
inc     eax
leave
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 2ch
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+arg_8]
and     [ebp+var_14], 0
and     [ebp+var_18], 0
and     [ebp+var_10], 0
and     [ebp+var_4], 0
push    esi
mov     esi, [ebp+arg_0]
mov     [ebp+var_20], eax
mov     [ebp+var_1c], ecx
test    byte ptr [esi+9], 10h
jnz     short loc_277f9eb1
cmp     [ebp+arg_c], 0ffffff99h
jnz     short loc_277f9eb1
push    eax
push    dword ptr [esi+18h]
call    sub_27815cea
test    eax, eax
jz      short loc_277f9eb1
mov     eax, [eax+1ch]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_c]
push    esi
call    sub_277b9838
pop     esi
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 84h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+19ch], 1
jz      short loc_277f9ee4
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
cmp     dword ptr [esi+1a0h], 0
lea     ebx, [esi+1a0h]
jz      short loc_277f9ef8
push    1
pop     eax
jmp     short loc_277f9edd
push    0dh
xor     eax, eax
pop     ecx
lea     edi, [ebp+lparam]
rep stosd
lea     eax, [ebp+string]
push    1
mov     [ebp+var_14], eax
pop     edi
lea     eax, [ebp+lparam]
mov     [ebp+var_28], edi
push    eax
push    0ffffff60h
push    esi
mov     [ebp+var_10], 50h
call    sub_277b9838
test    eax, eax
mov     [ebp+arg_0], eax
jz      short loc_277f9f40
lea     eax, [ebp+string]
push    eax
push    ebx
call    sub_2781617a
mov     eax, [ebp+arg_0]
jmp     short loc_277f9edd
or      [esi+19ch], edi
jmp     short loc_277f9f3b
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
push    1
test    byte ptr [esi+9], 10h
pop     ecx
mov     [ebp+var_8], ecx
jz      loc_277fa0a8
mov     eax, [esi+15ch]
mov     edi, [ebp+arg_4]
mov     [ebp+var_4], eax
mov     eax, [ebp+arg_8]
not     eax
and     eax, ecx
test    edi, edi
mov     [ebp+hdc], eax
jl      loc_277fa0a2
cmp     edi, 5f5e100h
jg      loc_277fa0a2
cmp     [esi+54h], edi
mov     [esi+15ch], edi
jl      short loc_277f9f9c
or      dword ptr [esi+54h], 0ffffffffh
cmp     [esi+160h], edi
lea     eax, [esi+160h]
jl      short loc_277f9fad
or      dword ptr [eax], 0ffffffffh
cmp     [esi+58h], edi
jl      short loc_277f9fb6
or      dword ptr [esi+58h], 0ffffffffh
mov     ebx, 7ffffffdh
push    ebx
push    edi
push    dword ptr [esi+154h]
call    sub_2781f922
push    ebx
push    edi
push    dword ptr [esi+158h]
mov     [ebp+arg_4], eax
call    sub_2781f922
mov     ecx, [ebp+arg_4]
mov     eax, 7fffffffh
cmp     ecx, eax
jnz     short loc_277f9fed
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
sub     [esi+78h], ecx
mov     [esi+0cch], eax
mov     eax, [esi+8]
and     eax, 3
cmp     eax, 2
jz      loc_277fa090
xor     ebx, ebx
cmp     eax, ebx
jz      loc_277fa092
push    esi
call    sub_27819dbc
cmp     [ebp+hdc], ebx
jnz     short loc_277fa02e
cmp     [ebp+var_4], edi
jge     short loc_277fa086
mov     edi, [ebp+var_4]
cmp     edi, ebx
jl      short loc_277fa02e
push    ebx
push    edi
push    esi
call    sub_278011b4
test    byte ptr [esi+9], 10h
jz      short loc_277fa089
mov     eax, [esi+15ch]
dec     eax
push    eax
push    ebx
push    esi
call    sub_2781d0f0
test    byte ptr [ebp+arg_8], 2
jnz     short loc_277fa068
mov     eax, [esi+54h]
cmp     eax, ebx
jge     short loc_277fa060
push    2
push    0ffffffffh
push    esi
call    sub_27801fa0
cmp     eax, ebx
jge     short loc_277fa060
xor     eax, eax
push    ebx
push    eax
push    esi
call    sub_277ffbc1
cmp     [ebp+hdc], ebx
jz      short loc_277fa078
push    1
push    ebx
push    dword ptr [esi]
call    ds:invalidaterect
push    esi
call    sub_277ffcba
mov     eax, [ebp+var_8]
jmp     loc_277f9fe6
dec     edi
jmp     short loc_277fa022
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277fa03a
xor     ebx, ebx
push    ebx
push    esi
call    sub_2781aef6
mov     [ebp+hdc], 1
jmp     short loc_277fa068
and     [ebp+var_8], 0
jmp     short loc_277fa07e
cmp     dword ptr [esi+124h], 0
jz      short loc_277fa0d5
mov     edi, [esi+120h]
dec     edi
js      short loc_277fa0d5
push    edi
push    dword ptr [esi+124h]
call    sub_27815cea
test    eax, eax
jz      short loc_277fa0b7
push    [ebp+arg_4]
push    eax
call    sub_27815d41
jmp     short loc_277fa0b7
push    [ebp+arg_4]
push    dword ptr [esi+18h]
call    sub_27815d41
push    [ebp+arg_4]
push    dword ptr [esi+0c0h]
call    sub_27815d41
jmp     short loc_277fa07e
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_8]
push    edi
cmp     dword ptr [esi+4], 0
jz      short loc_277fa145
push    [ebp+arg_0]
mov     eax, [esi]
push    dword ptr [eax+18h]
call    sub_27815cea
push    [ebp+arg_4]
mov     edi, eax
mov     eax, [esi]
push    dword ptr [eax+18h]
call    sub_27815cea
mov     ecx, [esi+8]
test    ecx, ecx
jnz     short loc_277fa152
mov     edi, [edi]
test    edi, edi
jz      short loc_277fa14d
cmp     edi, 0ffffffffh
jz      short loc_277fa14d
mov     eax, [eax]
test    eax, eax
jz      short loc_277fa14d
cmp     eax, 0ffffffffh
jz      short loc_277fa14d
push    eax
push    edi
call    ds:lstrcmpia
pop     edi
pop     esi
pop     ebp
retn    0ch
mov     edi, [ebp+arg_0]
mov     eax, [ebp+arg_4]
jmp     short loc_277fa11a
or      eax, 0ffffffffh
jmp     short loc_277fa13f
push    dword ptr [esi+0ch]
push    dword ptr [eax+1ch]
push    dword ptr [edi+1ch]
call    ecx
jmp     short loc_277fa13f
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
xor     esi, esi
mov     eax, [ebx+124h]
push    edi
cmp     eax, esi
jz      loc_277fa2ae
cmp     [eax], esi
jz      loc_277fa2ae
push    esi
mov     [ebp+var_14], esi
push    dword ptr [ebx+18h]
call    sub_27815c8c
mov     edi, eax
cmp     edi, esi
mov     [ebp+var_10], edi
jz      loc_277fa2a4
mov     esi, [edi]
mov     ecx, [edi+4]
xor     eax, eax
mov     [ebp+var_8], ecx
test    esi, esi
jle     short loc_277fa1b4
mov     [ecx], eax
add     ecx, 4
inc     eax
cmp     eax, esi
jl      short loc_277fa1aa
mov     eax, [ebp+hmem]
push    eax
push    offset sub_277fa0f0
push    edi
mov     dword ptr [eax+4], 1
call    sub_27815f64
test    eax, eax
jz      loc_277fa29e
mov     eax, esi
shl     eax, 2
push    eax
push    40h
mov     [ebp+var_c], eax
call    ds:localalloc
test    eax, eax
mov     [ebp+hmem], eax
jz      loc_277fa29e
mov     eax, [ebx+124h]
mov     eax, [eax]
dec     eax
mov     [ebp+arg_0], eax
js      short loc_277fa261
push    eax
push    dword ptr [ebx+124h]
call    sub_27815cea
mov     edi, eax
test    edi, edi
jz      short loc_277fa259
cmp     [edi], esi
jge     short loc_277fa22a
push    0
push    esi
push    edi
call    sub_27815df2
cmp     eax, 0ffffffffh
jnz     short loc_277fa20e
mov     edi, [ebp+var_10]
jmp     short loc_277fa295
mov     eax, [ebp+arg_0]
jmp     short loc_277fa1fc
mov     edi, [edi+4]
test    esi, esi
jle     short loc_277fa24c
mov     eax, [ebp+hmem]
mov     ecx, [ebp+var_8]
sub     ecx, eax
mov     [ebp+var_4], esi
mov     edx, [ecx+eax]
mov     edx, [edi+edx*4]
mov     [eax], edx
add     eax, 4
dec     [ebp+var_4]
jnz     short loc_277fa23c
push    [ebp+var_c]
push    [ebp+hmem]
push    edi
call    ds:rtlmovememory
dec     [ebp+arg_0]
jns     short loc_277fa225
mov     edi, [ebp+var_10]
mov     eax, [ebx+18h]
test    esi, esi
mov     edx, [eax+4]
jle     short loc_277fa281
mov     eax, [ebp+hmem]
mov     ecx, [ebp+var_8]
sub     ecx, eax
mov     ebx, [eax+ecx]
mov     ebx, [edx+ebx*4]
mov     [eax], ebx
add     eax, 4
dec     esi
jnz     short loc_277fa273
push    [ebp+var_c]
push    [ebp+hmem]
push    edx
call    ds:rtlmovememory
mov     [ebp+var_14], 1
push    [ebp+hmem]
call    ds:localfree
push    edi
call    sub_27815c57
mov     eax, [ebp+var_14]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebp+hmem]
push    eax
push    offset sub_277fa0f0
mov     [eax+4], esi
push    dword ptr [ebx+18h]
call    sub_27815f64
jmp     short loc_277fa2a7
mov     edx, [esp+pt.x]
mov     eax, [esp+hdc]
push    esi
cmp     edx, 0ffffffffh
push    edi
jnz     short loc_277fa2df
test    byte ptr [eax+9], 10h
jz      short loc_277fa30d
mov     edx, [eax+15ch]
mov     esi, [esp+8+pt.y]
cmp     esi, 0ffffffffh
jnz     short loc_277fa2eb
mov     esi, [eax+68h]
mov     ecx, [esp+8+nbar]
cmp     ecx, 0ffffffffh
jnz     short loc_277fa2f7
mov     ecx, [eax+6ch]
mov     edi, [eax+8]
push    ecx
push    esi
and     edi, 3
push    edx
push    eax
call    ds:funcs_277fa301[edi*4]
pop     edi
pop     esi
retn    10h
mov     ecx, [eax+18h]
mov     edx, [ecx]
jmp     short loc_277fa2df
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     [ebp+var_8], eax
mov     eax, [ebp+arg_4]
mov     edi, 1000h
test    [esi+8], edi
mov     [ebp+var_4], eax
mov     [ebp+hmem], esi
jnz     loc_277fa3f4
push    1
push    esi
call    sub_2781bb07
mov     eax, [esi+54h]
cmp     eax, 0ffffffffh
jz      loc_277fa3d9
push    eax
push    dword ptr [esi+18h]
call    sub_27815cea
mov     ebx, eax
lea     eax, [ebp+hmem]
push    eax
push    esi
call    sub_277fa15f
test    eax, eax
jz      loc_277fa3f4
test    ebx, ebx
jz      short loc_277fa39a
test    [esi+8], edi
jz      short loc_277fa3e0
mov     eax, [esi+15ch]
lea     edi, [eax-1]
test    edi, edi
jl      short loc_277fa39a
push    edi
push    dword ptr [esi+18h]
call    sub_27815cea
cmp     eax, ebx
jnz     short loc_277fa397
mov     [esi+54h], edi
mov     [esi+58h], edi
dec     edi
jns     short loc_277fa384
mov     eax, [esi+8]
and     eax, 3
cmp     eax, 2
jz      short loc_277fa3e7
test    eax, eax
jz      short loc_277fa3e7
cmp     eax, 1
jz      short loc_277fa3b3
cmp     eax, 3
jnz     short loc_277fa3bf
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
push    0
push    0fffffffch
push    dword ptr [esi]
push    8004h
call    sub_277b8949
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     ebx, ebx
jmp     loc_277fa35c
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277fa37d
push    dword ptr [esi+18h]
push    0
push    esi
call    sub_2781b206
jmp     short loc_277fa3bf
xor     eax, eax
jmp     short loc_277fa3d2
cmp     [esp+arg_4], 0
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+8]
jz      short loc_277fa431
test    eax, 8000000h
jz      short loc_277fa41f
push    dword ptr [esi+30h]
and     eax, 0f7ffffffh
mov     [esi+8], eax
push    esi
call    sub_277fcf54
push    5
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
pop     esi
retn    8
mov     ecx, 8000000h
test    ecx, eax
jnz     short loc_277fa41f
mov     edx, [esi+2ch]
or      eax, ecx
mov     [esi+30h], edx
mov     [esi+8], eax
push    color
jmp     short loc_277fa419
push    ebp
mov     ebp, esp
sub     esp, 30h
push    esi
push    edi
xor     edi, edi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+rcsrc2]
push    edi
push    eax
push    edi
push    edi
push    [ebp+arg_4]
push    esi
call    sub_27802300
mov     eax, [esi+68h]
mov     [ebp+rcsrc1.left], edi
mov     [ebp+rcsrc1.right], eax
mov     eax, [esi+6ch]
mov     [ebp+rcsrc1.bottom], eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
mov     [ebp+rcsrc1.top], edi
call    ds:intersectrect
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 98h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
xor     ebx, ebx
test    byte ptr [edi+21h], 2
mov     [ebp+hrgndst], ebx
mov     [ebp+hdc], ebx
mov     [ebp+hmem], ebx
mov     [ebp+h], ebx
mov     [ebp+var_30], ebx
jz      loc_277fa826
mov     eax, [edi+1ch]
mov     ecx, eax
and     ecx, 12h
cmp     cl, 12h
jnz     loc_277fa826
mov     ecx, 10000h
test    ecx, eax
jnz     loc_277fa826
or      eax, ecx
mov     ecx, [edi+8]
and     ecx, 1000h
mov     [edi+1ch], eax
jz      loc_277fa5b2
mov     eax, [edi+15ch]
cmp     eax, ebx
jle     loc_277fa7de
cmp     [ebp+arg_4], ebx
jnz     loc_277fa5cd
mov     [ebp+arg_4], ebx
cmp     ecx, ebx
jz      loc_277fa5bc
mov     eax, [edi+15ch]
mov     ecx, [ebp+arg_4]
cmp     ecx, eax
jge     loc_277fa5cd
mov     eax, [edi+18h]
push    ecx
push    edi
mov     eax, [eax+4]
mov     esi, [eax+ecx*4]
call    sub_277fa44d
test    eax, eax
jnz     short loc_277fa558
mov     ecx, [esi+20h]
cmp     ecx, 0ffffffffh
jz      short loc_277fa58f
cmp     ecx, ebx
jz      short loc_277fa58f
mov     eax, 7fffffffh
push    ecx
mov     [esi+24h], eax
mov     [esi+28h], eax
call    ds:deleteobject
mov     [esi+20h], ebx
push    ebx
lea     eax, [ebp+rc2]
push    ebx
push    eax
push    ebx
push    [ebp+arg_4]
push    edi
call    sub_27802300
mov     eax, [esi+4]
cmp     eax, [esi+24h]
jnz     short loc_277fa5cd
mov     eax, [esi+8]
cmp     eax, [esi+28h]
jnz     short loc_277fa5cd
cmp     [esi+20h], ebx
jz      short loc_277fa5cd
lea     eax, [ebp+rc2]
add     esi, 2ch
push    eax
push    esi
call    ds:equalrect
test    eax, eax
jz      short loc_277fa5cd
mov     ecx, [edi+8]
and     ecx, 1000h
jz      short loc_277fa5c6
mov     eax, [edi+15ch]
dec     eax
cmp     [ebp+arg_4], eax
jz      loc_277fa822
inc     [ebp+arg_4]
jmp     loc_277fa50a
mov     eax, [edi+18h]
mov     eax, [eax]
jmp     loc_277fa4f6
mov     eax, [edi+18h]
mov     eax, [eax]
jmp     loc_277fa518
mov     eax, [edi+18h]
mov     eax, [eax]
jmp     short loc_277fa5a0
push    ebx
push    ebx
lea     eax, [ebp+rc]
push    ebx
push    eax
push    ebx
push    edi
call    sub_27802300
lea     eax, [ebp+nheight]
push    eax
lea     eax, [ebp+nwidth]
push    eax
push    dword ptr [edi+0b4h]
call    sub_278139de
mov     ecx, [ebp+rc.right]
mov     esi, [ebp+rc.bottom]
sub     ecx, [ebp+rc.left]
sub     esi, [ebp+rc.top]
push    ebx
mov     eax, ecx
sub     eax, [ebp+nwidth]
mov     [ebp+nwidth], ecx
cdq
sub     eax, edx
sar     eax, 1
mov     [ebp+var_44], eax
mov     eax, esi
sub     eax, [ebp+nheight]
mov     [ebp+nheight], esi
cdq
sub     eax, edx
sar     eax, 1
mov     [ebp+var_58], eax
call    ds:createcompatibledc
cmp     eax, ebx
mov     [ebp+hdc], eax
jz      loc_277fa7de
push    ebx
push    1
push    1
push    [ebp+nheight]
push    [ebp+nwidth]
call    ds:createbitmap
cmp     eax, ebx
mov     [ebp+h], eax
jz      loc_277fa7de
lea     eax, [ebp+pv]
push    eax
push    18h
push    [ebp+h]
call    ds:getobjecta
mov     eax, [ebp+var_64]
imul    eax, [ebp+var_68]
push    eax
push    40h
call    ds:globalalloc
cmp     eax, ebx
mov     [ebp+hmem], eax
jz      loc_277fa7de
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    0ff0062h
mov     [ebp+var_30], eax
push    [ebp+nheight]
push    [ebp+nwidth]
push    ebx
push    ebx
push    [ebp+hdc]
call    ds:patblt
push    ebx
push    ebx
push    ebx
push    ebx
call    ds:createrectrgn
cmp     eax, ebx
mov     [ebp+hrgndst], eax
jz      loc_277fa7de
mov     [ebp+arg_4], ebx
test    byte ptr [edi+9], 10h
jz      short loc_277fa70e
mov     eax, [edi+15ch]
cmp     [ebp+arg_4], eax
jge     loc_277fa7de
mov     eax, [edi+18h]
mov     ecx, [ebp+arg_4]
mov     [ebp+var_2c], ebx
mov     eax, [eax+4]
mov     esi, [eax+ecx*4]
cmp     dword ptr [esi+8], 7fffffffh
jz      short loc_277fa709
push    ecx
push    edi
call    sub_277fa44d
test    eax, eax
jnz     short loc_277fa715
mov     ecx, [esi+20h]
cmp     ecx, ebx
jz      short loc_277fa709
cmp     ecx, 0ffffffffh
jz      short loc_277fa709
mov     eax, 7fffffffh
push    ecx
mov     [esi+24h], eax
mov     [esi+28h], eax
call    ds:deleteobject
or      dword ptr [esi+20h], 0ffffffffh
inc     [ebp+arg_4]
jmp     short loc_277fa6af
mov     eax, [edi+18h]
mov     eax, [eax]
jmp     short loc_277fa6bb
push    ebx
lea     eax, [ebp+rc2]
push    ebx
push    eax
lea     eax, [ebp+rc]
push    eax
push    [ebp+arg_4]
push    edi
call    sub_27802300
mov     eax, [ebp+arg_4]
cmp     eax, [edi+0e0h]
lea     eax, [esi+2ch]
jz      short loc_277fa739
lea     eax, [ebp+rc2]
push    eax
call    ds:createrectrgnindirect
cmp     eax, ebx
mov     [ebp+ho], eax
jz      loc_277fa7d2
push    2
push    [ebp+hrgndst]
push    eax
push    [ebp+hrgndst]
call    ds:combinergn
push    [ebp+ho]
mov     [ebp+var_28], eax
call    ds:deleteobject
cmp     [ebp+var_28], ebx
jz      short loc_277fa7d2
mov     eax, [edi+0e0h]
cmp     eax, [ebp+arg_4]
jz      short loc_277fa784
lea     eax, [ebp+rc2]
push    eax
lea     eax, [esi+2ch]
push    eax
call    ds:copyrect
mov     eax, [esi+20h]
cmp     eax, ebx
jz      loc_277fa82d
cmp     eax, 0ffffffffh
jz      loc_277fa82d
mov     ecx, [esi+8]
sub     ecx, [esi+28h]
push    ecx
mov     ecx, [esi+4]
sub     ecx, [esi+24h]
push    ecx
push    eax
call    ds:offsetrgn
mov     eax, [esi+4]
push    2
push    [ebp+hrgndst]
mov     [esi+24h], eax
mov     eax, [esi+8]
push    dword ptr [esi+20h]
mov     [esi+28h], eax
push    [ebp+hrgndst]
call    ds:combinergn
test    eax, eax
jnz     loc_277fa709
push    [ebp+hrgndst]
call    ds:deleteobject
mov     [ebp+hrgndst], ebx
cmp     [ebp+hmem], ebx
jz      short loc_277fa7ec
push    [ebp+hmem]
call    ds:globalfree
cmp     [ebp+h], ebx
jz      short loc_277fa806
push    [ebp+var_30]
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+h]
call    ds:deleteobject
cmp     [ebp+hdc], ebx
jz      short loc_277fa814
push    [ebp+hdc]
call    ds:deletedc
push    [ebp+bredraw]
push    [ebp+hrgndst]
push    dword ptr [edi]
call    ds:setwindowrgn
and     byte ptr [edi+1eh], 0feh
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     dword_2782c00c, ebx
mov     [ebp+hrgnsrc2], ebx
jz      short loc_277fa895
mov     eax, [ebp+rc2.top]
push    ebx
mov     [ebp+rc.bottom], eax
mov     eax, [ebp+var_44]
neg     eax
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:inflaterect
lea     eax, [ebp+rc]
push    eax
call    ds:createrectrgnindirect
mov     [ebp+hrgnsrc2], eax
cmp     [ebp+hrgnsrc2], ebx
jz      loc_277fa709
mov     eax, [esi+20h]
cmp     eax, ebx
jz      short loc_277fa878
cmp     eax, 0ffffffffh
jz      short loc_277fa878
push    eax
call    ds:deleteobject
mov     ecx, [esi+4]
mov     eax, [ebp+hrgnsrc2]
push    2
mov     [esi+24h], ecx
push    [ebp+hrgndst]
mov     ecx, [esi+8]
mov     [esi+20h], eax
mov     [esi+28h], ecx
push    eax
jmp     loc_277fa7c1
cmp     word ptr [esi+0ch], 0ffffh
jnz     short loc_277fa8d5
mov     eax, [ebp+arg_4]
mov     [ebp+var_90], ebx
mov     [ebp+var_94], eax
lea     eax, [ebp+var_98]
push    eax
push    edi
mov     [ebp+var_98], 2
mov     [ebp+var_88], 0ffffh
mov     [ebp+var_84], ebx
mov     [ebp+var_80], ebx
call    sub_2780011b
mov     ax, [esi+16h]
and     eax, 0f00h
or      al, 10h
push    eax
push    ebx
movsx   eax, word ptr [esi+0ch]
push    ebx
push    [ebp+hdc]
push    eax
push    dword ptr [edi+0b4h]
call    sub_27814e65
mov     eax, [ebp+var_64]
push    [ebp+hmem]
imul    eax, [ebp+var_68]
push    eax
push    [ebp+h]
call    ds:getbitmapbits
cmp     [ebp+nheight], ebx
mov     [ebp+ho], ebx
jle     loc_277fa85c
cmp     [ebp+nwidth], ebx
mov     [ebp+var_4], ebx
jle     loc_277faa09
cmp     [ebp+var_2c], ebx
jnz     loc_277faa27
mov     eax, [ebp+var_4]
push    8
cdq
pop     edi
mov     ecx, [ebp+ho]
idiv    edi
imul    ecx, [ebp+var_64]
mov     ebx, [ebp+hmem]
push    8
add     ebx, ecx
pop     ecx
mov     edi, eax
mov     eax, [ebp+var_4]
cdq
idiv    ecx
mov     eax, 80h
mov     ecx, edx
sar     eax, cl
test    [edi+ebx], al
jnz     loc_277faa1d
mov     eax, [ebp+ho]
mov     ecx, [ebp+var_4]
mov     [ebp+rc2.top], eax
inc     eax
mov     [ebp+rc2.bottom], eax
mov     eax, [ebp+nwidth]
dec     eax
mov     [ebp+rc2.left], ecx
cmp     ecx, eax
mov     [ebp+var_2c], 1
jnz     loc_277faa59
inc     [ebp+var_4]
mov     eax, [ebp+var_4]
mov     ecx, [ebp+var_58]
mov     [ebp+rc2.right], eax
mov     eax, [ebp+rc.top]
add     ecx, eax
mov     eax, [ebp+rc.left]
push    ecx
mov     ecx, [ebp+var_44]
add     ecx, eax
lea     eax, [ebp+rc2]
push    ecx
push    eax
call    ds:offsetrect
lea     eax, [ebp+rc2]
push    eax
call    ds:createrectrgnindirect
mov     edi, eax
xor     ebx, ebx
cmp     edi, ebx
jz      loc_277faa77
cmp     [ebp+hrgnsrc2], ebx
jnz     loc_277faa60
push    ebx
push    ebx
push    ebx
push    ebx
call    ds:createrectrgn
cmp     eax, ebx
mov     [ebp+hrgnsrc2], eax
jnz     loc_277faa60
mov     [ebp+var_28], ebx
push    edi
call    ds:deleteobject
cmp     edi, ebx
jz      loc_277faa77
cmp     [ebp+var_28], ebx
jz      loc_277faa77
mov     edi, [ebp+arg_0]
mov     [ebp+var_2c], ebx
inc     [ebp+var_4]
mov     eax, [ebp+var_4]
cmp     eax, [ebp+nwidth]
jl      loc_277fa922
inc     [ebp+ho]
mov     eax, [ebp+ho]
cmp     eax, [ebp+nheight]
jge     loc_277fa85c
jmp     loc_277fa916
mov     edi, [ebp+arg_0]
xor     ebx, ebx
cmp     [ebp+var_2c], ebx
jz      short loc_277fa9fa
mov     eax, [ebp+var_4]
push    8
cdq
pop     edi
mov     ecx, [ebp+ho]
idiv    edi
imul    ecx, [ebp+var_64]
mov     ebx, [ebp+hmem]
push    8
add     ebx, ecx
pop     ecx
mov     edi, eax
mov     eax, [ebp+var_4]
cdq
idiv    ecx
mov     eax, 80h
mov     ecx, edx
sar     eax, cl
test    [edi+ebx], al
jnz     loc_277fa983
mov     edi, [ebp+arg_0]
xor     ebx, ebx
jmp     short loc_277fa9fa
push    2
push    [ebp+hrgnsrc2]
push    edi
push    [ebp+hrgnsrc2]
call    ds:combinergn
mov     [ebp+var_28], eax
jmp     loc_277fa9dc
cmp     [ebp+hrgnsrc2], ebx
jz      short loc_277faa85
push    [ebp+hrgnsrc2]
call    ds:deleteobject
mov     edi, [ebp+arg_0]
jmp     loc_277fa7d2
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
xor     ebx, ebx
push    edi
push    ebx
call    ds:getdc
mov     edi, eax
xor     eax, eax
cmp     [ebp+arg_4], ebx
setnz   al
inc     eax
inc     eax
cmp     edi, ebx
mov     esi, eax
jz      short loc_277faac8
push    edi
call    ds:createcompatibledc
push    edi
push    ebx
mov     [ebp+hdc], eax
call    ds:releasedc
cmp     [ebp+hdc], ebx
jnz     short loc_277faad1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    31h
call    sub_277b339b
push    32h
mov     edi, eax
call    sub_277b339b
push    esi
push    ebx
push    1
push    eax
push    edi
mov     [ebp+ppvbits], eax
call    sub_2781371d
imul    esi, edi
push    [ebp+ppvbits]
mov     [ebp+lp], eax
push    esi
call    sub_278132f1
mov     ebx, ds:selectobject
push    eax
push    [ebp+hdc]
mov     [ebp+ho], eax
call    ebx
mov     [ebp+h], eax
mov     eax, [ebp+ppvbits]
and     [ebp+rc.top], 0
and     [ebp+rc.left], 0
mov     [ebp+rc.right], esi
mov     [ebp+rc.bottom], eax
mov     esi, 0ffffffh
lea     eax, [ebp+rc]
push    esi
push    eax
push    [ebp+hdc]
call    sub_277be3ec
mov     eax, dy
mov     [ebp+rc.right], edi
neg     eax
push    eax
mov     eax, dword_2782a06c
neg     eax
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:inflaterect
inc     [ebp+rc.right]
inc     [ebp+rc.bottom]
cmp     [ebp+arg_4], 0
jz      short loc_277fab69
push    0
lea     eax, [ebp+rc]
push    edi
push    eax
call    ds:offsetrect
push    4000h
lea     eax, [ebp+rc]
push    4
push    eax
push    [ebp+hdc]
call    ds:drawframecontrol
push    0
lea     eax, [ebp+rc]
push    edi
push    eax
call    ds:offsetrect
push    4400h
lea     eax, [ebp+rc]
push    4
push    eax
push    [ebp+hdc]
call    ds:drawframecontrol
push    [ebp+h]
push    [ebp+hdc]
call    ebx
push    esi
push    [ebp+ho]
push    [ebp+lp]
call    sub_27813e20
push    [ebp+hdc]
call    ds:deletedc
push    [ebp+ho]
call    ds:deleteobject
mov     eax, [ebp+lp]
jmp     loc_277faaca
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     eax, [esi+90h]
test    eax, eax
jnz     short loc_277fabe2
mov     eax, [esi+0b4h]
push    0
push    eax
call    sub_277faa8d
push    dword ptr [esi+2ch]
mov     edi, eax
push    edi
call    sub_27813ac4
push    2
push    edi
push    esi
call    sub_277fffad
mov     [esi+1a8h], edi
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
mov     ecx, [esi+20h]
cmp     eax, edi
mov     [ebp+arg_0], ecx
jz      loc_277faced
mov     ebx, eax
and     eax, [ebp+arg_4]
not     ebx
and     ebx, ecx
or      ebx, eax
test    bh, 22h
jz      short loc_277fac3e
test    byte ptr [esi+8], 3
jz      short loc_277fac3e
and     bh, 0ddh
xor     ecx, ebx
mov     [esi+20h], ebx
test    cl, 1
mov     [ebp+arg_4], ecx
jz      short loc_277fac60
mov     eax, [esi+8]
and     eax, 3
cmp     al, 1
jnz     short loc_277fac60
push    1
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
test    byte ptr [ebp+arg_4+1], 18h
jz      short loc_277fac71
push    1
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
mov     eax, 4000h
test    [ebp+arg_4], eax
jz      short loc_277fac8b
test    byte ptr [ebp+arg_0], 4
jz      short loc_277fac8b
test    eax, ebx
jz      short loc_277fac8b
push    esi
call    sub_277fabcc
test    byte ptr [ebp+arg_4], 4
jz      short loc_277fac9c
test    bl, 4
jz      short loc_277facf5
push    esi
call    sub_277fabcc
mov     eax, 100h
test    [ebp+arg_4], eax
jz      short loc_277facb1
push    dword ptr [esi]
test    eax, ebx
jz      short loc_277fad00
call    sub_277e26e2
mov     eax, 200h
test    [ebp+arg_4], eax
jz      short loc_277face3
cmp     dword_2782c00c, 0ffffffffh
jnz     short loc_277facca
mov     dword_2782c00c, edi
test    eax, ebx
jz      short loc_277fad07
push    1
push    1
push    esi
call    sub_277fa494
push    1
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     ebx, [ebp+arg_4]
jmp     loc_277fac30
push    2
push    edi
push    esi
call    sub_277fffad
jmp     short loc_277fac9c
call    sub_277e25b0
jmp     short loc_277facb1
xor     ebx, ebx
test    byte ptr [esi+9], 10h
jz      short loc_277fad3e
mov     eax, [esi+15ch]
cmp     ebx, eax
jge     short loc_277fad45
mov     eax, [esi+18h]
mov     eax, [eax+4]
mov     edi, [eax+ebx*4]
mov     eax, [edi+20h]
test    eax, eax
jz      short loc_277fad35
cmp     eax, 0ffffffffh
jz      short loc_277fad35
push    eax
call    ds:deleteobject
and     dword ptr [edi+20h], 0
inc     ebx
xor     edi, edi
jmp     short loc_277fad09
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277fad15
push    1
push    edi
push    dword ptr [esi]
call    ds:setwindowrgn
jmp     short loc_277facd8
cmp     [esp+arg_4], 0
jz      short loc_277fad72
mov     ecx, [esp+arg_0]
mov     eax, [ecx+1ch]
test    al, 2
jnz     short locret_277fad6f
or      al, 2
push    ecx
mov     [ecx+1ch], eax
call    sub_277ffcba
retn    8
mov     eax, [esp+arg_0]
and     dword ptr [eax+1ch], 0fffffffdh
jmp     short locret_277fad6f
push    esi
mov     esi, [esp+4+lparam]
push    edi
mov     edi, [esp+8+arg_0]
test    esi, esi
jz      short loc_277fadaa
mov     eax, [edi+8]
and     eax, 3
cmp     al, 1
jnz     short loc_277fadaa
cmp     dword ptr [esi+8], 0
jnz     short loc_277fadaa
mov     eax, [edi]
mov     [esi+0ch], eax
push    dword ptr [edi]
call    ds:getdlgctrlid
mov     [esi+8], eax
push    esi
push    0
push    53h
push    dword ptr [edi]
call    ds:defwindowproca
pop     edi
pop     esi
retn    8
mov     ecx, [esp+arg_0]
movzx   eax, word ptr [ecx+0b0h]
movzx   edx, word ptr [ecx+0ach]
shl     eax, 10h
or      eax, edx
mov     edx, [esp+arg_4]
cmp     edx, 0ffffffffh
jnz     short loc_277fae13
mov     edx, [ecx+0b8h]
and     byte ptr [ecx+1dh], 0efh
sub     edx, dword_2782a090
add     edx, dword_2782a04c
mov     [ecx+0ach], edx
mov     edx, [ecx+0bch]
sub     edx, dword_2782a0a4
add     edx, dword_2782a058
mov     [ecx+0b0h], edx
retn    8
test    dx, dx
push    esi
jz      short loc_277fae22
movzx   esi, dx
mov     [ecx+0ach], esi
shr     edx, 10h
test    dx, dx
jz      short loc_277fae33
movzx   edx, dx
mov     [ecx+0b0h], edx
or      byte ptr [ecx+1dh], 10h
pop     esi
jmp     short locret_277fae10
push    esi
mov     esi, [esp+4+arg_0]
mov     ecx, [esi+20h]
test    cl, 0c0h
jz      short loc_277fae90
mov     eax, [esi+168h]
cmp     eax, 0ffffffffh
jz      short loc_277fae90
test    cl, 40h
jz      short loc_277fae60
test    byte ptr [esi+0e8h], 4
jnz     short loc_277fae6d
push    2
push    eax
push    esi
call    sub_278007e2
test    eax, eax
jz      short loc_277fae90
add     esi, 178h
cmp     dword ptr [esi], 0
jnz     short loc_277fae81
push    0
call    sub_278192aa
mov     [esi], eax
push    dword ptr [esi]
call    ds:setcursor
push    1
pop     eax
pop     esi
retn    4
xor     eax, eax
jmp     short loc_277fae8c
push    ebx
mov     ebx, [esp+4+arg_4]
push    edi
mov     edi, [esp+8+arg_0]
mov     eax, [edi+168h]
cmp     ebx, eax
jz      short loc_277faed9
cmp     dword ptr [edi+38h], 0ffffffffh
push    esi
push    1
pop     ecx
jnz     short loc_277faeb5
push    5
pop     ecx
mov     esi, [edi+20h]
push    1
and     esi, 20h
push    ecx
push    esi
push    eax
push    edi
call    sub_2780255d
push    1
push    1
push    esi
push    ebx
push    edi
call    sub_2780255d
mov     [edi+168h], ebx
pop     esi
pop     edi
pop     ebx
retn    8
push    ebp
mov     ebp, esp
push    ecx
cmp     dword_2782c304, 0
jnz     short loc_277faf19
and     [ebp+cbdata], 0
lea     eax, [ebp+cbdata]
push    eax
push    0
push    offset asoftwaremicros_0
push    80000001h
call    ds:regqueryvaluea
test    eax, eax
jnz     short loc_277faf0f
and     dword_2782c010, eax
mov     dword_2782c304, 1
mov     eax, dword_2782c010
leave
retn
push    [esp+hwnd]
call    ds:getshellwindow
push    eax
call    ds:ischild
retn    4
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
test    byte ptr [esi+20h], 0c8h
jz      loc_277fafee
push    dword ptr [esi]
call    sub_2780569f
test    eax, eax
jnz     short loc_277faf6d
call    sub_277faede
test    eax, eax
jnz     short loc_277faf6d
push    dword ptr [esi]
call    sub_277faf20
test    eax, eax
jz      loc_277fafee
mov     eax, [ebp+arg_8]
mov     ebx, [ebp+arg_4]
mov     [ebp+var_10], eax
lea     eax, [ebp+var_14]
push    eax
push    esi
mov     [ebp+var_14], ebx
call    sub_2781eb08
mov     edi, eax
mov     eax, [ebp+var_4]
test    eax, eax
jz      short loc_277fafa2
test    byte ptr [esi+20h], 20h
jnz     short loc_277fafa2
test    byte ptr [esi+9], 4
jnz     short loc_277fafa2
or      edi, 0ffffffffh
mov     [ebp+var_c], 1
test    byte ptr [ebp+var_c], 9
jz      short loc_277fafab
or      edi, 0ffffffffh
mov     [ebp+var_30], eax
mov     eax, [ebp+arg_8]
and     [ebp+var_24], 0
mov     [ebp+var_1c], eax
lea     eax, [ebp+lparam]
mov     [ebp+var_34], edi
push    eax
push    0ffffff87h
push    esi
mov     [ebp+var_20], ebx
call    sub_277b9838
test    eax, eax
jnz     short loc_277fafee
push    [ebp+var_34]
push    esi
call    sub_277fae94
push    esi
call    sub_277fae3a
cmp     edi, [esi+170h]
lea     eax, [esi+170h]
jz      short loc_277fafee
or      dword ptr [eax], 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    10h
call    ds:getfocus
test    eax, eax
jz      short loc_277fb017
push    0
push    0
push    87h
push    eax
call    ds:sendmessagea
test    al, 8
jz      short loc_277fb017
push    1
pop     eax
retn
xor     eax, eax
retn
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
push    edi
call    ds:getcapture
test    eax, eax
jnz     loc_277fb15b
mov     esi, [ebp+hmem]
push    dword ptr [esi]
call    sub_2780569f
test    eax, eax
jz      loc_277fb15b
call    sub_277faff5
test    eax, eax
jnz     loc_277fb15b
xor     edi, edi
push    edi
push    0fffffff3h
push    esi
call    sub_277b9838
test    eax, eax
jnz     loc_277fb15b
test    byte ptr [esi+8], 4
jz      loc_277fb162
mov     [ebp+var_4], edi
mov     [ebp+hmem], edi
mov     eax, [ebp+arg_4]
mov     [ebp+var_18], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_14], eax
lea     eax, [ebp+var_18]
push    eax
push    esi
call    sub_277fe8e2
mov     ebx, eax
cmp     ebx, 0ffffffffh
mov     [ebp+arg_4], ebx
jz      loc_277fb15b
cmp     ebx, [esi+170h]
jz      loc_277fb15b
test    byte ptr [esi+20h], 40h
jz      short loc_277fb0e8
mov     eax, [esi+0e8h]
lea     edi, [esi+0e8h]
test    al, 8
jz      short loc_277fb0e8
test    al, 4
jz      short loc_277fb0e8
mov     ebx, [esi]
push    2eh
push    ebx
call    ds:killtimer
and     dword ptr [edi], 0fffffff7h
lea     eax, [esi+0ech]
push    eax
push    0ffffff8eh
push    esi
call    sub_277b9838
push    ebx
call    ds:iswindow
test    eax, eax
jz      short loc_277fb15b
mov     ebx, [ebp+arg_4]
push    2
push    ebx
push    esi
mov     [esi+170h], ebx
call    sub_278007e2
test    [ebp+var_10], 6
mov     [ebp+arg_4], eax
jz      short loc_277fb15b
xor     edi, edi
cmp     [ebp+hmem], edi
jz      short loc_277fb10a
push    4
pop     edi
cmp     [ebp+var_4], 0
jz      short loc_277fb113
or      edi, 8
test    eax, eax
jnz     short loc_277fb121
push    offset accselect
call    sub_27811796
push    [ebp+arg_4]
push    edi
push    ebx
push    esi
call    sub_277ff1e4
xor     edi, edi
cmp     [ebp+var_4], edi
jz      short loc_277fb145
xor     eax, eax
cmp     [ebp+hmem], edi
setz    al
push    eax
push    edi
push    eax
push    ebx
push    esi
call    sub_277fddd7
cmp     [ebp+hmem], edi
jnz     short loc_277fb14d
mov     [esi+58h], ebx
push    esi
call    sub_277fae3a
push    dword ptr [esi]
call    ds:setfocus
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edi, ds:getasynckeystate
push    11h
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
mov     [ebp+var_4], ecx
call    edi
xor     ecx, ecx
test    ax, ax
setl    cl
mov     [ebp+hmem], ecx
jmp     loc_277fb073
push    ebx
xor     ebx, ebx
cmp     [esp+4+arg_8], ebx
push    esi
push    edi
jle     short loc_277fb1b9
mov     esi, [esp+0ch+lprc1]
mov     edi, [esp+0ch+arg_4]
sub     edi, esi
lea     eax, [edi+esi]
push    eax
push    esi
call    ds:equalrect
test    eax, eax
jz      short loc_277fb1c2
inc     ebx
add     esi, 10h
cmp     ebx, [esp+0ch+arg_8]
jl      short loc_277fb1a0
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    0ch
xor     eax, eax
jmp     short loc_277fb1bc
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
xor     ebx, ebx
push    edi
cmp     [esi+70h], ebx
jle     short loc_277fb1f7
xor     edi, edi
push    [esp+0ch+pt.y]
mov     eax, [esi+74h]
add     eax, edi
push    [esp+10h+pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_277fb1ff
inc     ebx
add     edi, 10h
cmp     ebx, [esi+70h]
jl      short loc_277fb1d6
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     eax, ebx
jmp     short loc_277fb1f9
push    ebp
mov     ebp, esp
sub     esp, 54h
mov     eax, [ebp+arg_4]
xor     ecx, ecx
mov     [ebp+var_10], ecx
mov     [ebp+var_4], ecx
cmp     [eax], ecx
jle     locret_277fb36d
push    edi
mov     edi, [ebp+hmem]
push    esi
push    ebx
push    [ebp+var_4]
push    eax
call    sub_27815cea
mov     edx, eax
mov     eax, [edi+18h]
mov     ecx, [edi+74h]
mov     [ebp+var_8], edx
mov     eax, [eax+4]
mov     esi, [eax+edx*4]
mov     eax, [esi+8]
mov     ebx, [esi+4]
mov     [ebp+var_28], eax
mov     eax, [esi+3ch]
shl     eax, 4
add     eax, ecx
mov     ecx, [eax+8]
sub     ecx, [eax]
mov     [ebp+var_c], ecx
mov     ecx, [eax+0ch]
sub     ecx, [eax+4]
xor     eax, eax
push    eax
mov     [ebp+var_14], ecx
lea     ecx, [ebp+rcdst]
push    ecx
push    eax
push    eax
push    edx
push    edi
call    sub_27802300
mov     eax, [ebp+rcdst.bottom]
mov     edx, [edi+74h]
sub     eax, [ebp+rcdst.top]
mov     ecx, [ebp+rcdst.right]
sub     ecx, [ebp+rcdst.left]
push    0fffffffeh
mov     [ebp+hmem], eax
mov     eax, [esi+3ch]
shl     eax, 4
add     eax, edx
mov     [ebp+var_18], eax
sub     ebx, [eax]
mov     eax, [eax+4]
sub     [ebp+var_28], eax
mov     eax, ecx
mov     [ebp+var_2c], ebx
pop     ebx
cdq
idiv    ebx
mov     ebx, [ebp+var_2c]
cmp     ebx, eax
jge     loc_277fb371
and     [ebp+var_34], 0
mov     eax, [ebp+hmem]
push    0fffffffeh
cdq
pop     ebx
idiv    ebx
cmp     [ebp+var_28], eax
jge     loc_277fb396
xor     ebx, ebx
mov     eax, [ebp+var_34]
cmp     eax, [ebp+var_2c]
jnz     short loc_277fb2d2
cmp     ebx, [ebp+var_28]
jz      loc_277fb359
mov     edx, [ebp+var_18]
add     eax, [edx]
add     ebx, [edx+4]
mov     [ebp+var_34], eax
sub     eax, [edi+0c4h]
mov     edx, ebx
sub     edx, [edi+0c8h]
mov     [ebp+rcsrc2.left], eax
add     eax, ecx
mov     [ebp+rcsrc2.right], eax
mov     eax, [ebp+hmem]
mov     [ebp+rcsrc2.top], edx
add     edx, eax
lea     eax, [ebp+var_1c]
mov     [ebp+rcsrc2.bottom], edx
push    eax
lea     eax, [ebp+var_20]
push    eax
lea     eax, [ebp+rcsrc2]
push    [ebp+var_8]
push    eax
push    edi
call    sub_2781a3b3
test    eax, eax
jnz     loc_277fb3ba
push    dword ptr [esi+3ch]
and     [ebp+hmem], eax
push    eax
push    edi
call    sub_27819bfc
lea     ecx, [ebp+var_1c]
mov     [ebp+var_18], eax
push    ecx
lea     ecx, [ebp+hmem]
push    ecx
lea     ecx, [ebp+var_24]
push    ecx
push    eax
mov     eax, [ebp+var_10]
inc     eax
push    eax
push    [ebp+var_8]
push    edi
call    sub_2781a47b
cmp     eax, 0ffffffffh
mov     [ebp+var_10], eax
jz      short loc_277fb3ba
push    [ebp+var_18]
push    eax
push    esi
push    edi
call    sub_2781a75a
inc     [ebp+var_4]
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+var_4]
cmp     ecx, [eax]
jl      loc_277fb222
pop     ebx
pop     esi
pop     edi
leave
retn    8
mov     eax, ecx
cdq
sub     eax, edx
mov     edx, [ebp+var_c]
sar     eax, 1
sub     edx, eax
cmp     ebx, edx
jle     short loc_277fb38e
mov     eax, [ebp+var_c]
sub     eax, ecx
mov     [ebp+var_34], eax
jmp     loc_277fb2ad
mov     [ebp+var_34], ebx
jmp     loc_277fb2ad
mov     eax, [ebp+hmem]
mov     ebx, [ebp+var_14]
cdq
sub     eax, edx
mov     edx, ebx
sar     eax, 1
sub     edx, eax
cmp     [ebp+var_28], edx
jle     short loc_277fb3b2
sub     ebx, [ebp+hmem]
jmp     loc_277fb2c1
mov     ebx, [ebp+var_28]
jmp     loc_277fb2c1
push    ebx
push    [ebp+var_34]
push    [ebp+var_8]
push    edi
call    sub_27802840
jmp     short loc_277fb359
push    ebp
mov     ebp, esp
sub     esp, 118h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
xor     ebx, ebx
mov     eax, [esi+8]
mov     edi, [esi+70h]
and     eax, 100h
cmp     edi, ebx
mov     [ebp+lpmem], ebx
mov     [ebp+var_8], eax
mov     [ebp+hmem], edi
jle     short loc_277fb408
mov     eax, edi
shl     eax, 4
push    eax
lea     eax, [ebp+rc2]
push    dword ptr [esi+74h]
push    eax
call    ds:rtlmovememory
cmp     [ebp+arg_4], ebx
jz      loc_277fb551
cmp     [ebp+lprc], ebx
jz      loc_277fb551
push    [ebp+lprc]
call    ds:isrectempty
test    eax, eax
jnz     loc_277fb551
push    10h
pop     eax
cmp     [ebp+arg_4], eax
jge     short loc_277fb436
mov     eax, [ebp+arg_4]
cmp     [esi+74h], ebx
mov     [esi+70h], eax
jnz     short loc_277fb456
push    100h
push    40h
call    ds:localalloc
cmp     eax, ebx
mov     [esi+74h], eax
jz      loc_277fb659
cmp     [esi+70h], ebx
jle     short loc_277fb47d
xor     edi, edi
mov     eax, [ebp+lprc]
add     eax, edi
push    eax
mov     eax, edi
add     eax, [esi+74h]
push    eax
call    ds:copyrect
inc     ebx
add     edi, 10h
cmp     ebx, [esi+70h]
jl      short loc_277fb45d
mov     edi, [ebp+hmem]
xor     ebx, ebx
mov     eax, [esi+70h]
cmp     eax, ebx
jle     loc_277fb64d
cmp     eax, edi
jnz     short loc_277fb4a4
lea     eax, [ebp+rc2]
push    edi
push    eax
push    dword ptr [esi+74h]
call    sub_277fb18b
test    eax, eax
jnz     loc_277fb64d
mov     [ebp+arg_4], ebx
test    byte ptr [esi+9], 10h
jz      loc_277fb559
mov     eax, [esi+15ch]
cmp     [ebp+arg_4], eax
jge     loc_277fb608
mov     eax, [esi+18h]
mov     ecx, [ebp+arg_4]
xor     ebx, ebx
mov     eax, [eax+4]
cmp     [ebp+hmem], ebx
mov     edi, [eax+ecx*4]
jle     loc_277fb5ed
mov     eax, [edi+3ch]
cmp     eax, [esi+70h]
jl      loc_277fb563
cmp     [ebp+var_8], ebx
mov     [edi+3ch], ebx
jnz     short loc_277fb52b
push    dword ptr [edi+8]
push    dword ptr [edi+4]
push    dword ptr [esi+74h]
call    ds:ptinrect
test    eax, eax
jz      short loc_277fb508
mov     eax, [esi+74h]
mov     eax, [eax+8]
inc     eax
mov     [edi+4], eax
cmp     [ebp+lpmem], ebx
jnz     short loc_277fb51b
push    4
call    sub_27815c0e
cmp     eax, ebx
mov     [ebp+lpmem], eax
jz      short loc_277fb52b
push    [ebp+arg_4]
push    7fffffffh
push    [ebp+lpmem]
call    sub_27815df2
test    byte ptr [esi+21h], 2
jz      short loc_277fb547
mov     eax, [edi+20h]
cmp     eax, ebx
jz      short loc_277fb547
cmp     eax, 0ffffffffh
jz      short loc_277fb544
push    eax
call    ds:deleteobject
mov     [edi+20h], ebx
inc     [ebp+arg_4]
xor     ebx, ebx
jmp     loc_277fb4a7
mov     [esi+70h], ebx
jmp     loc_277fb47d
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_277fb4b7
cmp     [ebp+var_8], ebx
jnz     short loc_277fb52b
shl     eax, 4
mov     ebx, eax
lea     eax, [ebp+ebx+rc2]
push    eax
mov     eax, ebx
add     eax, [esi+74h]
push    eax
call    ds:equalrect
test    eax, eax
jnz     short loc_277fb601
mov     eax, [esi+74h]
lea     ecx, [ebp+rcdst]
mov     eax, [ebx+eax]
sub     eax, [ebp+ebx+rc2.left]
add     [edi+4], eax
mov     eax, [esi+74h]
mov     eax, [ebx+eax+4]
sub     eax, [ebp+ebx+rc2.top]
add     [edi+8], eax
xor     eax, eax
push    eax
push    ecx
push    eax
push    eax
push    [ebp+arg_4]
push    esi
call    sub_27802300
mov     eax, [ebp+rcdst.right]
add     ebx, [esi+74h]
sub     eax, [ebp+rcdst.left]
cdq
sub     eax, edx
mov     ecx, eax
mov     eax, [ebp+rcdst.bottom]
sub     eax, [ebp+rcdst.top]
sar     ecx, 1
add     ecx, [edi+4]
cdq
sub     eax, edx
sar     eax, 1
add     eax, [edi+8]
push    eax
push    ecx
push    ebx
call    ds:ptinrect
test    eax, eax
jnz     short loc_277fb601
xor     ebx, ebx
jmp     loc_277fb508
push    dword ptr [edi+8]
push    dword ptr [edi+4]
push    esi
call    sub_277fb1c6
mov     [edi+3ch], eax
jmp     loc_277fb52b
xor     ebx, ebx
jmp     loc_277fb52b
mov     eax, [ebp+lpmem]
cmp     eax, ebx
jz      short loc_277fb622
cmp     [eax], ebx
jle     short loc_277fb61a
push    eax
push    esi
call    sub_277fb203
push    [ebp+lpmem]
call    sub_27815c57
test    byte ptr [esi+21h], 2
jz      short loc_277fb632
push    1
push    1
push    esi
call    sub_277fa494
mov     eax, [esi+8]
test    ah, 1
jz      short loc_277fb64d
and     eax, 3
cmp     eax, 2
jz      short loc_277fb646
cmp     eax, ebx
jnz     short loc_277fb64d
push    ebx
push    esi
call    sub_2781aef6
push    5
push    ebx
push    ebx
push    dword ptr [esi]
call    ds:redrawwindow
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esp+arg_4]
test    eax, eax
jz      short locret_277fb671
mov     ecx, [esp+arg_0]
mov     ecx, [ecx+70h]
mov     [eax], ecx
retn    8
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
mov     ebx, [ebp+arg_0]
and     [ebp+arg_0], 0
push    esi
mov     esi, [ebp+lprcdst]
push    edi
mov     eax, [ebx+70h]
mov     ecx, [ebp+arg_4]
cmp     eax, ecx
jge     short loc_277fb695
mov     ecx, eax
cmp     [ebp+var_4], ecx
jge     short loc_277fb6c3
cmp     [ebp+var_4], eax
jge     short loc_277fb6b9
mov     eax, [ebx+74h]
add     eax, [ebp+arg_0]
push    eax
push    esi
call    ds:copyrect
inc     [ebp+var_4]
add     [ebp+arg_0], 10h
add     esi, 10h
jmp     short loc_277fb689
xor     eax, eax
mov     edi, esi
stosd
stosd
stosd
stosd
jmp     short loc_277fb6ad
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esp+arg_0]
test    eax, eax
jz      short loc_277fb6f1
mov     ecx, [esp+arg_4]
test    ecx, ecx
jl      short loc_277fb6f1
test    byte ptr [eax+8], 3
jnz     short loc_277fb6f1
test    byte ptr [eax+1ch], 80h
jz      short loc_277fb6f1
cmp     [eax+54h], ecx
jnz     short loc_277fb6f1
push    1
pop     eax
retn    8
xor     eax, eax
jmp     short locret_277fb6ee
mov     ecx, [esp+arg_0]
test    ecx, ecx
jz      short loc_277fb71d
mov     eax, [esp+arg_4]
test    eax, eax
jz      short loc_277fb71d
test    byte ptr [ecx+8], 3
jnz     short loc_277fb71d
test    byte ptr [ecx+1ch], 80h
jz      short loc_277fb71d
test    byte ptr [eax+16h], 1
jz      short loc_277fb71d
push    1
pop     eax
retn    8
xor     eax, eax
jmp     short locret_277fb71a
push    ebp
mov     ebp, esp
push    esi
xor     esi, esi
push    esi
push    esi
push    [ebp+lprcsrc2]
push    esi
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_27802300
push    esi
push    esi
push    [ebp+lprcsrc2]
push    esi
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_2780387b
pop     esi
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 440h
push    ebx
mov     ebx, [ebp+nbar]
push    esi
mov     esi, [ebp+hdc]
push    edi
xor     edi, edi
mov     eax, [esi+128h]
cmp     eax, edi
jz      short loc_277fb77e
cmp     eax, [ebx]
jnz     short loc_277fb77e
push    ebx
push    esi
call    sub_2781e3ce
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+84h]
cmp     eax, edi
jz      short loc_277fb7ed
cmp     eax, [ebx]
jnz     short loc_277fb7ed
mov     eax, [ebx+8]
cmp     eax, 0fffffdf7h
jz      loc_277fb94e
cmp     eax, 0fffffdf8h
jz      short loc_277fb7f1
cmp     eax, 0fffffff4h
jnz     short loc_277fb7ed
mov     edi, 400h
test    [esi+20h], edi
jnz     short loc_277fb7ed
test    byte ptr [esi+8], 3
jnz     short loc_277fb7ed
cmp     dword ptr [ebx+0ch], 1
jnz     short loc_277fb7ed
mov     eax, [ebx+30h]
and     al, 0dfh
or      ax, 2811h
test    edi, eax
mov     [ebx+30h], eax
jz      short loc_277fb7ed
mov     eax, [ebx+14h]
mov     ecx, dword_2782a068
add     eax, [esi+0ach]
add     ecx, ecx
sub     eax, ecx
mov     [ebx+1ch], eax
mov     eax, [ebx+18h]
add     eax, 10000h
mov     [ebx+20h], eax
xor     eax, eax
jmp     short loc_277fb777
lea     eax, [ebp+point]
push    eax
push    dword ptr [esi]
call    sub_27811942
mov     eax, [esi+8]
lea     ecx, [ebp+nbar]
push    ecx
and     eax, 3
push    [ebp+point.y]
push    [ebp+point.x]
push    esi
call    ds:funcs_277fb80d[eax*4]
mov     edi, eax
cmp     edi, [esi+88h]
jz      loc_277fb940
lea     eax, [esi+8ch]
push    0
push    eax
call    sub_2781617a
test    edi, edi
mov     [esi+88h], edi
jl      loc_277fb940
cmp     dword ptr [esi+0e0h], 0ffffffffh
jnz     loc_277fb940
and     [ebp+string], 0
push    edi
push    esi
call    sub_277fb6ca
test    eax, eax
mov     [ebp+hdc], eax
mov     edi, 400h
jnz     short loc_277fb8b5
lea     eax, [ebp+lparam]
push    eax
push    dword ptr [esi+88h]
push    esi
call    sub_277fb721
mov     eax, [esi+44h]
mov     ecx, dy
lea     eax, [ecx+eax*2]
mov     ecx, [ebp+var_4]
sub     ecx, [ebp+var_c]
cmp     ecx, eax
jle     short loc_277fb8b5
mov     eax, [esi+88h]
and     [ebp+var_38], 0
mov     [ebp+var_3c], eax
lea     eax, [ebp+string]
mov     [ebp+var_2c], eax
lea     eax, [ebp+var_40]
push    eax
push    esi
mov     [ebp+var_40], 1
mov     [ebp+var_28], edi
call    sub_2780011b
test    [esi+20h], edi
jz      short loc_277fb92d
push    4
xor     ecx, ecx
pop     eax
mov     [ebp+var_28], edi
mov     [ebp+lparam], eax
mov     [ebp+var_c], eax
mov     [ebp+var_8], eax
mov     [ebp+var_4], eax
xor     eax, eax
cmp     [ebp+hdc], eax
mov     [ebp+var_20], eax
mov     [ebp+var_1c], eax
lea     eax, [ebp+var_3c]
setnz   cl
mov     [ebp+var_30], ecx
lea     ecx, [ebp+string]
mov     [ebp+var_2c], ecx
mov     ecx, [esi+88h]
push    eax
push    0ffffff63h
push    esi
mov     [ebp+var_24], ecx
call    sub_277b9838
mov     edi, ds:sendmessagea
lea     eax, [ebp+lparam]
push    eax
push    0
push    41ah
push    dword ptr [esi+84h]
call    edi
push    12ch
push    0
push    418h
push    dword ptr [esi+84h]
call    edi
lea     eax, [ebp+string]
push    eax
lea     eax, [esi+8ch]
push    eax
call    sub_2781617a
mov     eax, [esi+8ch]
mov     [ebx+0ch], eax
jmp     loc_277fb7ed
mov     eax, [esi+88h]
cmp     eax, 0ffffffffh
jz      loc_277fb7ed
test    byte ptr [esi+21h], 4
jnz     short loc_277fb9a5
test    byte ptr [esi+8], 3
jnz     short loc_277fb9a5
lea     ecx, [ebp+lparam]
push    ecx
push    eax
push    esi
call    sub_277fb721
lea     eax, [ebp+lparam]
push    eax
push    dword ptr [esi]
call    ds:clienttoscreen
mov     eax, [ebp+var_c]
push    15h
sub     eax, dy
push    edi
push    edi
push    eax
mov     eax, [ebp+lparam]
sub     eax, dword_2782a06c
push    eax
push    edi
push    dword ptr [esi+84h]
call    ds:setwindowpos
push    1
pop     eax
jmp     loc_277fb777
push    [esp+hwnd]
call    ds:setfocus
push    [esp+hwnd]
call    ds:iswindow
retn    4
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
cmp     [esi+198h], ebx
jz      short loc_277fba2e
mov     edi, [ebp+hdc]
cmp     edi, ebx
jnz     short loc_277fb9ec
push    dword ptr [esi]
call    ds:getdc
mov     edi, eax
cmp     edi, ebx
jz      short loc_277fba2e
push    [ebp+bforcebkgd]
push    dword ptr [esi+198h]
push    edi
call    ds:selectpalette
push    edi
call    ds:realizepalette
test    eax, eax
jnz     short loc_277fba0c
cmp     [ebp+arg_c], ebx
jz      short loc_277fba0f
push    1
pop     ebx
cmp     [ebp+hdc], 0
jnz     short loc_277fba1e
push    edi
push    dword ptr [esi]
call    ds:releasedc
test    ebx, ebx
jz      short loc_277fba2e
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 148h
push    ebx
push    esi
push    edi
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     esi, eax
test    esi, esi
jnz     short loc_277fbac0
cmp     [ebp+msg], 81h
jnz     short loc_277fbaa7
push    1ach
push    40h
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      loc_277fbb78
mov     edi, [ebp+hwnd]
or      dword ptr [esi+54h], 0ffffffffh
or      dword ptr [esi+58h], 0ffffffffh
or      dword ptr [esi+13ch], 0ffffffffh
or      dword ptr [esi+160h], 0ffffffffh
mov     [esi], edi
mov     dword ptr [esi+1ch], 10h
call    ds:getprocessheap
push    esi
push    0
push    edi
mov     [esi+40h], eax
call    ds:setwindowlonga
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    ds:defwindowproca
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     ebx, [ebp+msg]
mov     edi, 200h
cmp     ebx, edi
jb      short loc_277fbb39
cmp     ebx, 209h
ja      short loc_277fbb39
test    byte ptr [esi+20h], 0c8h
jz      short loc_277fbb39
mov     eax, [esi]
mov     [ebp+point.y], 10h
mov     [ebp+var_c], eax
mov     eax, [esi+174h]
mov     [ebp+var_8], eax
lea     eax, [ebp+point.y]
push    eax
mov     [ebp+var_10], 40000003h
call    sub_27812acf
mov     eax, [ebp+var_10]
xor     eax, 0fffffffeh
and     eax, 3
test    byte ptr [esi+20h], 8
mov     [ebp+var_10], eax
jz      short loc_277fbb17
xor     eax, 1
mov     [ebp+var_10], eax
mov     ecx, [esi]
mov     [ebp+point.y], 10h
mov     [ebp+var_c], ecx
mov     ecx, [esi+174h]
test    al, 3
mov     [ebp+var_8], ecx
jz      short loc_277fbb39
lea     eax, [ebp+point.y]
push    eax
call    sub_27812acf
cmp     ebx, 0fh
ja      loc_277fbc31
jz      loc_277fc064
mov     eax, ebx
dec     eax
jz      loc_277fbc1c
dec     eax
jz      loc_277fbc11
sub     eax, 3
jz      short loc_277fbba3
dec     eax
dec     eax
jz      short loc_277fbb98
dec     eax
jz      short loc_277fbb8d
dec     eax
dec     eax
jz      short loc_277fbb7f
dec     eax
jnz     def_277fbfa6
push    [ebp+wparam]
push    esi
call    sub_277ffe6a
xor     eax, eax
jmp     loc_277fbab9
push    [ebp+wparam]
push    esi
call    sub_277fa3f8
jmp     loc_277fbaa7
push    [ebp+wparam]
push    esi
call    sub_277fd907
jmp     short loc_277fbb78
push    [ebp+wparam]
push    esi
call    sub_277fd8af
jmp     short loc_277fbb78
cmp     dword ptr [esi+84h], 0
jz      short loc_277fbbde
mov     eax, [esi]
and     [ebp+var_3c], 0
lea     ecx, [ebp+rect]
mov     [ebp+var_48], 2ch
push    ecx
push    eax
mov     [ebp+var_40], eax
call    ds:getclientrect
lea     eax, [ebp+var_48]
push    eax
push    0
push    406h
push    dword ptr [esi+84h]
call    ds:sendmessagea
xor     eax, eax
cmp     [esi+184h], eax
jz      loc_277fbaa7
cmp     [esi+190h], eax
jnz     short loc_277fbc00
cmp     [esi+194h], eax
jz      loc_277fbaa7
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
jmp     loc_277fbaa7
push    esi
call    sub_277fcddc
jmp     loc_277fbb78
push    [ebp+lparam]
push    esi
call    sub_277fcb6a
neg     eax
sbb     eax, eax
neg     eax
dec     eax
jmp     loc_277fbab9
cmp     ebx, 20h
ja      loc_277fbcd6
jz      loc_277fbcc0
mov     eax, ebx
sub     eax, 14h
jz      short loc_277fbcb2
dec     eax
jz      short loc_277fbc76
sub     eax, 3
jz      short loc_277fbc68
dec     eax
dec     eax
jnz     def_277fbfa6
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277fcae7
jmp     loc_277fbaa7
push    [ebp+wparam]
push    esi
call    sub_277fad52
jmp     loc_277fbaa7
call    sub_277b344b
test    byte ptr [esi+0bh], 8
jz      short loc_277fbca0
test    byte ptr [esi+1dh], 8
jnz     short loc_277fbc8f
mov     eax, dword_2782a10c
mov     [esi+30h], eax
push    color
push    esi
call    sub_277fcf54
jmp     loc_277fbc00
test    byte ptr [esi+1dh], 8
jnz     loc_277fbaa7
push    dword_2782a10c
jmp     short loc_277fbc95
push    [ebp+wparam]
push    esi
call    sub_277fd47b
jmp     loc_277fbab9
push    esi
call    sub_277fae3a
test    eax, eax
jz      loc_277fbaa7
push    1
pop     eax
jmp     loc_277fbab9
cmp     ebx, 47h
ja      short loc_277fbd0b
jz      loc_277fc08d
mov     eax, ebx
sub     eax, 30h
jz      short loc_277fbcfa
dec     eax
jnz     def_277fbfa6
push    esi
call    sub_277ffe60
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277ffd39
jmp     loc_277fbb78
cmp     ebx, 53h
ja      short loc_277fbd3a
jz      short loc_277fbd2c
cmp     ebx, 4eh
jnz     def_277fbfa6
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277fb74e
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_277fad7c
jmp     loc_277fbab9
cmp     ebx, 7ch
ja      short loc_277fbd86
jz      short loc_277fbd58
cmp     ebx, 55h
jnz     def_277fbfa6
push    [ebp+lparam]
push    esi
call    sub_278112e5
jmp     loc_277fbab9
cmp     [ebp+wparam], 0fffffff0h
jnz     loc_277fbaa7
test    [esi+20h], edi
jz      loc_277fbaa7
mov     eax, [ebp+lparam]
mov     eax, [eax+4]
test    al, 3
jz      loc_277fbaa7
mov     ecx, [ebp+lparam]
and     al, 0fch
mov     [ecx+4], eax
jmp     loc_277fbb78
mov     eax, 82h
cmp     ebx, eax
ja      short loc_277fbdb6
jz      short loc_277fbdab
cmp     ebx, 7dh
jnz     def_277fbfa6
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277fe6c9
jmp     loc_277fbb78
push    esi
call    sub_277fce8c
jmp     loc_277fbb78
mov     eax, 0a0h
cmp     ebx, eax
ja      short loc_277fbddf
jz      loc_277fbfbd
cmp     ebx, 87h
jnz     def_277fbfa6
push    [ebp+lparam]
push    esi
call    sub_277fe622
jmp     loc_277fbab9
mov     eax, 10fh
cmp     ebx, eax
ja      loc_277fbe94
jz      short loc_277fbe52
mov     eax, ebx
sub     eax, 100h
jz      short loc_277fbe05
dec     eax
jz      short loc_277fbe46
dec     eax
jz      short loc_277fbe21
dec     eax
dec     eax
jnz     def_277fbfa6
mov     eax, [ebp+lparam]
shr     eax, 10h
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    1
push    [ebp+wparam]
push    esi
call    sub_277fdf0a
jmp     loc_277fbaa7
mov     eax, [esi+7ch]
test    eax, eax
jz      short loc_277fbe31
dec     eax
mov     [esi+7ch], eax
jmp     loc_277fbcce
movsx   eax, word ptr [ebp+lparam]
push    eax
movsx   eax, byte ptr [ebp+wparam]
push    eax
push    esi
call    sub_277fe46a
jmp     loc_277fbb78
and     dword ptr [esi+11ch], 0
jmp     loc_277fbaa7
cmp     dword_2782a150, 0
jz      loc_277fbaa7
push    0
call    ds:getkeyboardlayout
and     eax, 0f000ffffh
cmp     eax, 0e0000412h
jnz     loc_277fbaa7
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277fe212
test    eax, eax
jz      loc_277fbb78
and     byte ptr [ebp+lparam+1], 0f7h
jmp     loc_277fbaa7
cmp     ebx, edi
ja      loc_277fbf8c
jz      short loc_277fbf17
mov     eax, ebx
sub     eax, 111h
jz      short loc_277fbefd
dec     eax
dec     eax
jz      short loc_277fbeef
dec     eax
jz      short loc_277fbed2
dec     eax
jnz     def_277fbfa6
mov     eax, [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movzx   eax, word ptr [ebp+wparam]
push    eax
push    [ebp+lparam]
push    esi
call    sub_277ff9ba
jmp     loc_277fbb78
mov     eax, [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movzx   eax, word ptr [ebp+wparam]
push    eax
push    [ebp+lparam]
push    esi
call    sub_277ff9d0
jmp     loc_277fbb78
push    [ebp+wparam]
push    esi
call    sub_277ff83b
jmp     loc_277fbb78
mov     eax, [ebp+wparam]
shr     eax, 10h
push    eax
movzx   eax, word ptr [ebp+wparam]
push    [ebp+lparam]
push    eax
push    esi
call    sub_277fd4b6
jmp     loc_277fbb78
mov     eax, [esi+84h]
test    eax, eax
jz      short loc_277fbf6f
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
push    eax
call    sub_27810fcc
lea     ecx, [ebp+nbar]
mov     eax, [esi+8]
push    ecx
mov     ecx, [ebp+lparam]
shr     ecx, 10h
movsx   ecx, cx
push    ecx
and     eax, 3
movsx   ecx, word ptr [ebp+lparam]
push    ecx
push    esi
call    ds:funcs_277fb80d[eax*4]
cmp     eax, [esi+88h]
jz      short loc_277fbf6f
push    0
push    0
push    41ch
push    dword ptr [esi+84h]
call    ds:sendmessagea
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277faf34
jmp     loc_277fbaa7
mov     eax, 2a1h
cmp     ebx, eax
ja      short loc_277fbffd
jz      short loc_277fbfe0
lea     eax, [ebx-201h]
cmp     eax, 7
ja      def_277fbfa6
jmp     ds:jpt_277fbfa6[eax*4]
push    [ebp+hwnd]
call    sub_277fb9ad
test    eax, eax
jz      loc_277fbaa7
mov     esi, [esi+84h]
test    esi, esi
jz      loc_277fbaa7
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
push    [ebp+hwnd]
push    esi
call    sub_27810fcc
jmp     loc_277fbaa7
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    esi
call    sub_277fb01a
jmp     loc_277fbaa7
mov     ecx, 30fh
mov     eax, 311h
cmp     ebx, ecx
ja      short loc_277fc02d
jz      short loc_277fc04c
cmp     ebx, 2a3h
jnz     def_277fbfa6
push    0ffffffffh
push    esi
call    sub_277fae94
or      dword ptr [esi+170h], 0ffffffffh
jmp     loc_277fbaa7
mov     ecx, 318h
cmp     ebx, ecx
ja      short loc_277fc072
jz      short loc_277fc064
cmp     ebx, eax
jnz     def_277fbfa6
mov     ecx, [ebp+hwnd]
cmp     [ebp+wparam], ecx
jz      loc_277fbaa7
xor     ecx, ecx
cmp     ebx, eax
setz    cl
mov     eax, ecx
push    eax
push    eax
push    0
push    esi
call    sub_277fb9c4
jmp     loc_277fbcce
push    [ebp+wparam]
push    esi
call    sub_277fd10a
jmp     loc_277fbb78
mov     ecx, 1000h
cmp     ebx, ecx
ja      short loc_277fc0cf
jz      short loc_277fc0b9
mov     eax, ebx
sub     eax, 400h
jz      short loc_277fc09b
dec     eax
jnz     def_277fbfa6
push    [ebp+lparam]
push    esi
call    sub_277fd56a
jmp     loc_277fbaa7
cmp     dword ptr [esi+164h], 0
jz      loc_277fbb78
push    esi
call    sub_27819dbc
push    esi
call    sub_277ffcba
jmp     loc_277fbb78
test    byte ptr [esi+0bh], 8
jz      short loc_277fc0c7
mov     eax, [esi+30h]
jmp     loc_277fbab9
mov     eax, [esi+2ch]
jmp     loc_277fbab9
mov     eax, 2005h
cmp     ebx, eax
ja      loc_277fc6f2
jz      loc_277fc6e4
lea     eax, [ebx-1001h]
cmp     eax, 4fh
ja      def_277fbfa6
jmp     ds:jpt_277fc0f1[eax*4]
push    [ebp+wparam]
push    esi
call    sub_277fff75
jmp     loc_277fbab9
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_277fffad
test    byte ptr [esi+20h], 4
mov     edi, eax
jz      short loc_277fc120
push    esi
call    sub_277fabcc
mov     eax, edi
jmp     loc_277fbab9
or      byte ptr [esi+1dh], 8
test    byte ptr [esi+0bh], 8
jz      short loc_277fc13c
mov     eax, [ebp+lparam]
mov     [esi+30h], eax
jmp     loc_277fbcce
push    [ebp+lparam]
push    esi
call    sub_277fcf54
jmp     short loc_277fc112
mov     eax, [esi+34h]
jmp     loc_277fbab9
mov     eax, [ebp+lparam]
mov     [esi+34h], eax
jmp     loc_277fbcce
mov     eax, [esi+38h]
jmp     loc_277fbab9
mov     eax, [ebp+lparam]
test    byte ptr [esi+20h], 4
mov     [esi+38h], eax
jz      loc_277fbcce
push    esi
call    sub_277fabcc
jmp     loc_277fbcce
mov     eax, [esi+1a4h]
jmp     loc_277fbab9
mov     eax, [ebp+lparam]
mov     [esi+1a4h], eax
jmp     loc_277fbcce
test    [esi+8], ecx
jz      short loc_277fc1a6
mov     eax, [esi+15ch]
jmp     loc_277fbab9
mov     esi, [esi+18h]
test    esi, esi
jz      loc_277fbb78
mov     eax, [esi]
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_2780011b
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_278007e2
jmp     loc_277fbab9
mov     eax, [ebp+lparam]
test    eax, eax
jz      loc_277fbb78
push    dword ptr [eax+10h]
push    dword ptr [eax+0ch]
push    [ebp+wparam]
push    esi
call    sub_27800816
jmp     loc_277fbab9
mov     eax, [ebp+lparam]
test    eax, eax
jz      loc_277fbb78
push    dword ptr [eax+14h]
push    dword ptr [eax+8]
push    [ebp+wparam]
push    esi
call    sub_27800cfe
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27800cc9
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_27800f85
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_27800ded
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_27800441
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_2780136b
jmp     loc_277fbab9
push    [ebp+wparam]
push    esi
call    sub_278015fe
jmp     loc_277fbab9
push    [ebp+wparam]
push    esi
call    sub_27801322
push    dword ptr [esi]
call    ds:updatewindow
jmp     loc_277fbcce
push    esi
call    sub_278018de
push    0
push    0fffffffch
push    [ebp+hwnd]
mov     esi, eax
push    8004h
call    sub_277b8949
mov     eax, esi
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27802294
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2781ea1e
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_2781eb08
jmp     loc_277fbab9
call    ds:getfocus
cmp     eax, [esi]
jnz     loc_277fbb78
push    [ebp+lparam]
call    sub_27811008
jmp     loc_277fbab9
cmp     [ebp+wparam], 0
jz      short loc_277fc30b
movzx   eax, word ptr [esi+0a4h]
movzx   ecx, word ptr [esi+0a0h]
shl     eax, 10h
or      eax, ecx
jmp     loc_277fbab9
movzx   eax, word ptr [esi+0b0h]
movzx   ecx, word ptr [esi+0ach]
shl     eax, 10h
jmp     short loc_277fc304
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27801fa0
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2780217b
jmp     loc_277fbab9
test    [esi+8], ecx
mov     eax, [esi+58h]
jz      short loc_277fc361
mov     ecx, [esi+15ch]
mov     edx, [ebp+lparam]
cmp     edx, ecx
jge     loc_277fbab9
mov     [esi+58h], edx
jmp     loc_277fbab9
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     short loc_277fc34e
mov     eax, [esi+58h]
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27802993
jmp     loc_277fbab9
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    [ebp+wparam]
push    esi
call    sub_27802840
jmp     loc_277fbab9
mov     eax, [ebp+lparam]
test    eax, eax
jz      loc_277fbb78
push    dword ptr [eax+4]
push    dword ptr [eax]
jmp     short loc_277fc390
mov     eax, [ebp+wparam]
mov     [ebp+wparam], eax
mov     eax, [ebp+lparam]
mov     [ebp+lparam], eax
lea     eax, [ebp+lparam]
push    eax
lea     eax, [ebp+wparam]
push    eax
push    esi
call    sub_277ffa4b
test    eax, eax
jz      loc_277fbb78
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277ffb30
test    eax, eax
jnz     loc_277fbcce
jmp     loc_277fbb78
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277ffbc1
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27802511
jmp     loc_277fbab9
push    [ebp+wparam]
push    esi
call    sub_2781aef6
jmp     loc_277fbab9
mov     eax, [esi+0dch]
jmp     loc_277fbab9
push    0
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2781ba16
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_277fe8e2
jmp     loc_277fbab9
push    0
push    [ebp+lparam]
push    esi
call    sub_27802a49
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2781de7c
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2781df1a
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    1212h
push    dword ptr [esi+128h]
call    ds:sendmessagea
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    1211h
jmp     short loc_277fc484
mov     ebx, [ebp+lparam]
mov     edi, [esi+128h]
add     esi, 128h
test    ebx, ebx
jz      loc_277fc120
push    ebx
call    ds:iswindow
test    eax, eax
jz      loc_277fc120
mov     [esi], ebx
jmp     loc_277fc120
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2781d8f5
jmp     loc_277fbab9
push    [ebp+wparam]
push    esi
call    sub_2781da88
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27803517
jmp     loc_277fbab9
cmp     [ebp+lparam], 0
jz      loc_277fbb78
push    dword ptr [esi+6ch]
push    dword ptr [esi+68h]
push    [ebp+lparam]
push    esi
call    sub_2781a7ea
jmp     loc_277fbcce
push    [ebp+wparam]
push    esi
call    sub_27802ab1
jmp     loc_277fbab9
movsx   eax, word ptr [ebp+lparam]
push    1
push    eax
push    [ebp+wparam]
push    esi
call    sub_27802ade
jmp     loc_277fbab9
mov     eax, [ebp+wparam]
mov     [esi+64h], eax
jmp     loc_277fbcce
mov     eax, [esi+64h]
jmp     loc_277fbab9
push    esi
call    sub_27803774
jmp     loc_277fbab9
push    esi
call    sub_278037b2
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_27802a12
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277f9f48
jmp     loc_277fbab9
mov     eax, [esi+78h]
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277fa314
jmp     loc_277fbab9
push    [ebp+wparam]
push    [ebp+lparam]
push    esi
call    sub_277fac09
jmp     loc_277fbab9
mov     eax, [esi+20h]
jmp     loc_277fbab9
mov     eax, [esi+174h]
jmp     loc_277fbab9
lea     ecx, [esi+174h]
mov     eax, [ecx]
mov     edx, [ebp+lparam]
jmp     short loc_277fc5ec
mov     eax, [esi+84h]
jmp     loc_277fbab9
mov     eax, [esi+84h]
mov     edx, [ebp+wparam]
lea     ecx, [esi+84h]
mov     [ecx], edx
jmp     loc_277fbab9
push    [ebp+lparam]
push    esi
call    sub_277fadbc
mov     edi, eax
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     loc_277fc120
mov     eax, [esi+8]
test    ah, 1
jz      loc_277fc120
and     eax, 3
cmp     eax, 2
jz      short loc_277fc628
test    eax, eax
jnz     loc_277fc120
push    0
push    esi
call    sub_2781aef6
jmp     loc_277fc120
test    [esi+8], ecx
mov     edi, [esi+168h]
jz      short loc_277fc65d
mov     eax, [esi+15ch]
cmp     [ebp+wparam], eax
jge     loc_277fc120
push    [ebp+wparam]
push    esi
call    sub_277fae94
jmp     loc_277fc120
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277fc646
mov     eax, [esi+168h]
jmp     loc_277fbab9
lea     ecx, [esi+178h]
jmp     loc_277fc5cb
add     esi, 178h
cmp     dword ptr [esi], 0
jnz     loc_277fc1b1
push    0
call    sub_278192aa
mov     [esi], eax
jmp     loc_277fc1b1
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    [ebp+wparam]
push    esi
call    sub_277fa2c4
jmp     loc_277fbab9
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277fb3c9
jmp     loc_277fbb78
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_277fb674
jmp     loc_277fbb78
push    [ebp+lparam]
push    esi
call    sub_277fb660
jmp     loc_277fbb78
mov     ecx, [ebp+wparam]
mov     eax, [esi+10h]
mov     [esi+10h], ecx
jmp     loc_277fbab9
cmp     ebx, 2006h
jz      loc_277fc916
cmp     ebx, dword_2782a054
jnz     loc_277fbaa7
cmp     dword_27829f44, 0
jnz     loc_277fc84a
cmp     dword_2782a854, 0
jnz     loc_277fc84a
mov     eax, [ebp+wparam]
mov     edi, ds:getkeystate
push    10h
mov     [ebp+nbar], eax
call    edi
xor     ebx, ebx
test    ax, ax
setl    bl
test    ebx, ebx
jnz     loc_277fc841
push    11h
call    edi
test    ax, ax
jl      loc_277fc841
mov     [ebp+var_1c], 1
mov     eax, dword_2782c3b8
push    78h
sub     eax, [ebp+nbar]
pop     ecx
mov     dword_2782c3b8, eax
cdq
idiv    ecx
mov     edi, eax
test    edi, edi
jz      short loc_277fc77f
mov     eax, dword_2782c3b8
cdq
idiv    ecx
mov     dword_2782c3b8, edx
cmp     [ebp+var_1c], 0
jz      loc_277fc877
cmp     dword_27829ff0, 0
jbe     loc_277fbcce
test    edi, edi
jz      loc_277fbcce
push    esi
call    sub_27801081
test    eax, 300000h
jz      loc_277fbcce
mov     ecx, [esi+8]
shr     eax, 15h
and     eax, 1
and     ecx, 3
push    eax
push    esi
mov     [ebp+lparam], eax
call    ds:funcs_277fc7c0[ecx*4]
test    byte ptr [esi+21h], 1
mov     ebx, eax
lea     eax, [ebp+rect]
push    eax
mov     [ebp+rect.left], 1ch
push    [ebp+lparam]
mov     [ebp+rect.top], 6
push    dword ptr [esi]
jz      loc_277fc86c
call    sub_277e4223
test    eax, eax
jz      loc_277fbcce
mov     eax, [ebp+var_28]
sub     eax, ebx
cmp     ebx, eax
jle     short loc_277fc802
mov     eax, ebx
cdq
idiv    ebx
mov     ecx, dword_27829ff0
cmp     eax, ecx
mov     [ebp+wparam], eax
jb      short loc_277fc815
mov     [ebp+wparam], ecx
push    0
push    esi
call    sub_2781bb07
imul    edi, [ebp+wparam]
imul    edi, ebx
add     edi, [ebp+var_24]
push    0ffffffffh
push    ebx
push    [ebp+lparam]
push    edi
push    5
push    esi
call    sub_2781b425
push    esi
call    sub_277ffcba
jmp     loc_277fbcce
and     [ebp+var_1c], 0
jmp     loc_277fc758
mov     ebx, [ebp+wparam]
mov     eax, ebx
shr     eax, 10h
movsx   eax, ax
mov     [ebp+nbar], eax
mov     eax, ebx
and     al, 0ch
neg     al
sbb     eax, eax
inc     eax
and     ebx, 4
mov     [ebp+var_1c], eax
jmp     loc_277fc758
call    ds:getscrollinfo
jmp     loc_277fc7ef
test    ebx, ebx
jz      loc_277fbaa7
movsx   eax, word ptr [ebp+lparam]
mov     [ebp+point.x], eax
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
push    [ebp+hwnd]
call    ds:screentoclient
cmp     [ebp+nbar], 0
jle     loc_277fbaa7
lea     eax, [ebp+point]
push    eax
push    esi
call    sub_2781eb08
test    eax, eax
jl      loc_277fbaa7
test    byte ptr [ebp+var_10], 0eh
jz      loc_277fbaa7
test    edi, edi
jz      loc_277fbaa7
lea     eax, [ebp+keystate]
push    eax
call    ds:getkeyboardstate
and     [ebp+var_138], 7fh
lea     eax, [ebp+keystate]
push    eax
call    ds:setkeyboardstate
push    1
xor     ebx, ebx
pop     edi
push    edi
push    ebx
push    [ebp+point.y]
push    [ebp+point.x]
push    ebx
push    esi
call    sub_277ff2a9
push    edi
push    ebx
push    [ebp+point.y]
push    [ebp+point.x]
push    edi
push    esi
call    sub_277ff2a9
jmp     loc_277fc120
mov     eax, [esi+10h]
jmp     loc_277fbab9
mov     eax, [esi+84h]
test    eax, eax
jz      short loc_277fc938
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
push    [ebp+hwnd]
push    eax
call    sub_27810fcc
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    1
push    esi
call    sub_277ff7f2
jmp     loc_277fbaa7
mov     eax, [esi+84h]
test    eax, eax
jz      short loc_277fc971
push    [ebp+lparam]
push    [ebp+wparam]
push    ebx
push    [ebp+hwnd]
push    eax
call    sub_27810fcc
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
push    eax
push    0
jmp     short loc_277fc94c
push    ebx
mov     ebx, [esp+4+hkey]
push    esi
push    edi
push    ebx
call    sub_277b3170
test    ebx, ebx
mov     edi, [esp+0ch+hdc]
jz      short loc_277fcb0b
cmp     ebx, 22h
jz      short loc_277fcb0b
cmp     ebx, 2ah
jz      short loc_277fcb0b
cmp     ebx, 2eh
jnz     short loc_277fcb48
test    byte ptr [edi+1dh], 10h
jnz     short loc_277fcb19
push    0ffffffffh
push    edi
call    sub_277fadbc
test    byte ptr [edi+1dh], 1
jz      short loc_277fcb29
push    1
push    0
push    edi
call    sub_277ffd39
mov     esi, 200h
test    [edi+20h], esi
jz      short loc_277fcb48
test    ebx, ebx
jz      short loc_277fcb48
push    esi
push    0
push    edi
call    sub_277fac09
push    esi
push    esi
push    edi
call    sub_277fac09
mov     eax, [edi+8]
test    ah, 11h
jz      short loc_277fcb64
and     eax, 3
cmp     eax, 2
jz      short loc_277fcb5c
test    eax, eax
jnz     short loc_277fcb64
push    0
push    edi
call    sub_2781aef6
pop     edi
pop     esi
pop     ebx
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
mov     edi, [ebp+arg_4]
push    edi
push    dword ptr [esi]
push    esi
call    sub_277b6303
mov     eax, [edi+2ch]
test    byte ptr [esi+0bh], 10h
mov     [esi+24h], eax
jz      short loc_277fcb92
or      dword ptr [esi+1ch], 2
push    offset dword_2782c3bc
call    sub_277f9d1f
test    byte ptr [esi+9], 10h
jz      loc_277fcd5d
call    sub_2781f7ba
xor     edi, edi
mov     [esi+154h], eax
cmp     eax, edi
jz      loc_277fcd90
call    sub_2781f7ba
cmp     eax, edi
mov     [esi+158h], eax
jz      loc_277fcd90
mov     eax, [ebp+arg_4]
or      ebx, 0ffffffffh
mov     [esi+170h], ebx
mov     [esi+174h], ebx
mov     [esi+168h], ebx
mov     [esi+0e0h], ebx
mov     [esi+54h], ebx
mov     [esi+50h], ebx
mov     [esi+88h], ebx
mov     dword ptr [esi+0cch], 7fffffffh
mov     ecx, [eax+14h]
mov     [esi+68h], ecx
mov     eax, [eax+10h]
mov     [esi+6ch], eax
mov     eax, [esi+8]
and     eax, 3
cmp     al, 2
jnz     short loc_277fcc1c
or      dword ptr [esi+1ch], 20h
push    edi
push    edi
push    esi
call    sub_277ffd39
mov     eax, [esi+48h]
shl     eax, 4
add     eax, [esi+94h]
mov     [esi+0a0h], eax
mov     eax, [esi+8]
test    ah, 4
jz      loc_277fcd4c
and     eax, 3
cmp     al, 1
jnz     loc_277fcd4c
mov     eax, [esi+144h]
mov     [esi+0a4h], eax
push    ebx
push    esi
call    sub_277fadbc
push    esi
call    sub_277ffcba
mov     eax, 0ff000000h
mov     [esi+2ch], ebx
mov     [esi+34h], eax
mov     [esi+38h], eax
mov     [esi+1a4h], eax
push    dword_2782a10c
push    esi
call    sub_277fcf54
mov     eax, [esi+8]
mov     dword ptr [esi+130h], 7fffffffh
and     eax, 3
cmp     al, 1
jnz     short loc_277fcca1
push    edi
push    esi
call    sub_2781d151
mov     eax, [esi+8]
test    eax, 8000000h
jz      short loc_277fccba
and     eax, 0f7ffffffh
push    edi
push    esi
mov     [esi+8], eax
call    sub_277fa3f8
push    edi
push    dword_27828334
push    edi
push    edi
push    edi
push    edi
push    edi
push    edi
push    80000002h
push    edi
push    offset amsvblibtooltip_0
push    edi
call    ds:createwindowexa
cmp     eax, edi
mov     [esi+84h], eax
jz      short loc_277fcd30
mov     eax, [esi]
lea     ecx, [ebp+rect]
push    ecx
push    eax
mov     [ebp+lparam], 2ch
mov     [ebp+var_28], 100h
mov     [ebp+var_24], eax
mov     [ebp+var_20], edi
mov     [ebp+var_c], edi
mov     [ebp+var_8], ebx
call    ds:getclientrect
mov     ebx, ds:sendmessagea
lea     eax, [ebp+lparam]
push    eax
push    edi
push    404h
push    dword ptr [esi+84h]
call    ebx
push    edi
push    dword ptr [esi+28h]
push    30h
push    dword ptr [esi+84h]
call    ebx
push    edi
call    ds:getdoubleclicktime
push    eax
push    2dh
push    dword ptr [esi]
call    ds:settimer
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+0a4h]
mov     [esi+144h], eax
jmp     loc_277fcc59
push    dword ptr [esi+40h]
push    10h
call    sub_27815c1c
xor     edi, edi
mov     [esi+18h], eax
cmp     eax, edi
jz      short loc_277fcd90
push    dword ptr [esi+40h]
push    10h
call    sub_27815c1c
cmp     eax, edi
mov     [esi+0c0h], eax
jnz     loc_277fcbce
push    dword ptr [esi+18h]
call    sub_27815c57
mov     eax, [esi+154h]
cmp     eax, edi
jz      short loc_277fcda0
push    eax
call    sub_2781f7ef
mov     esi, [esi+158h]
cmp     esi, edi
jz      short loc_277fcdb0
push    esi
call    sub_2781f7ef
xor     eax, eax
jmp     short loc_277fcd45
mov     eax, [esp+arg_0]
push    esi
lea     esi, [eax+80h]
mov     eax, [eax+80h]
test    eax, eax
jz      short loc_277fcdd5
cmp     eax, 1
jz      short loc_277fcdd5
push    eax
call    ds:deleteobject
and     dword ptr [esi], 0
pop     esi
retn    4
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
push    dword ptr [esi+84h]
call    ds:iswindow
test    eax, eax
jz      short loc_277fcdff
push    dword ptr [esi+84h]
call    ds:destroywindow
xor     ebx, ebx
cmp     [esi+1a8h], ebx
jz      short loc_277fce12
push    2
push    ebx
push    esi
call    sub_277fffad
mov     eax, [esi+178h]
cmp     eax, ebx
jz      short loc_277fce23
push    eax
call    ds:destroycursor
lea     eax, [esi+8ch]
push    ebx
push    eax
mov     [esi+84h], ebx
call    sub_2781617a
lea     eax, [esi+1a0h]
push    ebx
push    eax
call    sub_2781617a
test    byte ptr [esi+9], 10h
jnz     short loc_277fce4f
push    esi
call    sub_278018de
test    byte ptr [esi+1dh], 1
mov     edi, ds:deleteobject
jz      short loc_277fce65
mov     eax, [esi+28h]
cmp     eax, ebx
jz      short loc_277fce65
push    eax
call    edi
mov     eax, [esi+16ch]
cmp     eax, ebx
jz      short loc_277fce72
push    eax
call    edi
push    esi
call    sub_277fcdb4
mov     esi, [esi+74h]
cmp     esi, ebx
jz      short loc_277fce86
push    esi
call    ds:localfree
pop     edi
pop     esi
pop     ebx
retn    4
push    esi
mov     esi, [esp+4+hmem]
test    byte ptr [esi+8], 40h
jz      short loc_277fce9d
test    byte ptr [esi+20h], 4
jz      short loc_277fcebd
mov     eax, [esi+148h]
test    eax, eax
jz      short loc_277fcebd
cmp     eax, [esi+0b4h]
jz      short loc_277fcebd
cmp     eax, [esi+90h]
jz      short loc_277fcebd
push    eax
call    sub_27813889
test    byte ptr [esi+8], 40h
jnz     short loc_277fcee3
mov     eax, [esi+0b4h]
test    eax, eax
jz      short loc_277fced3
push    eax
call    sub_27813889
mov     eax, [esi+90h]
test    eax, eax
jz      short loc_277fcee3
push    eax
call    sub_27813889
test    byte ptr [esi+9], 10h
jz      short loc_277fcf06
push    dword ptr [esi+154h]
call    sub_2781f7ef
push    dword ptr [esi+158h]
call    sub_2781f7ef
and     dword ptr [esi+15ch], 0
push    esi
call    sub_27800d84
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_277fcf1a
push    eax
call    ds:deleteobject
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_277fcf27
push    eax
call    sub_27815c57
mov     eax, [esi+0c0h]
test    eax, eax
jz      short loc_277fcf37
push    eax
call    sub_27815c57
push    esi
call    sub_2781e156
push    0
push    0
push    dword ptr [esi]
call    ds:setwindowlonga
push    esi
call    ds:localfree
pop     esi
retn    4
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+color]
cmp     [esi+2ch], edi
jz      short loc_277fcfc4
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_277fcf75
push    eax
call    ds:deleteobject
and     dword ptr [esi+3ch], 0
cmp     edi, 0ffffffffh
jz      short loc_277fcf88
push    edi
call    ds:createsolidbrush
test    eax, eax
mov     [esi+3ch], eax
jz      short loc_277fcfc7
test    byte ptr [esi+8], 40h
jnz     short loc_277fcfc1
mov     eax, [esi+0b4h]
test    eax, eax
jz      short loc_277fcf9f
push    edi
push    eax
call    sub_27813ac4
mov     eax, [esi+90h]
test    eax, eax
jz      short loc_277fcfb0
push    edi
push    eax
call    sub_27813ac4
mov     eax, [esi+148h]
test    eax, eax
jz      short loc_277fcfc1
push    edi
push    eax
call    sub_27813ac4
mov     [esi+2ch], edi
push    1
pop     eax
pop     edi
pop     esi
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [eax+8]
and     ecx, 3
cmp     ecx, 2
jz      short loc_277fd006
test    ecx, ecx
jz      short loc_277fd006
cmp     ecx, 3
jnz     short loc_277fcffe
mov     eax, [eax+9ch]
push    0
push    0
neg     eax
push    eax
push    [esp+0ch+hdc]
call    ds:setbrushorgex
retn    8
mov     eax, [eax+134h]
jmp     short loc_277fcfea
mov     eax, [eax+0c4h]
jmp     short loc_277fcfea
push    esi
mov     esi, [esp+4+hrgnsrc2]
test    esi, esi
jz      short loc_277fd028
mov     eax, [esp+4+arg_0]
add     eax, 80h
mov     ecx, [eax]
test    ecx, ecx
jnz     short loc_277fd02c
mov     [eax], esi
pop     esi
retn    8
cmp     ecx, 1
jz      short loc_277fd03c
push    2
push    esi
push    ecx
push    ecx
call    ds:combinergn
push    esi
call    ds:deleteobject
jmp     short loc_277fd028
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
push    dword ptr [esi]
call    ds:getdc
mov     [ebp+hdc], eax
mov     eax, [ebp+hdcsrc]
test    eax, eax
jnz     loc_277fd0f0
and     [ebp+y], eax
and     [ebp+x], eax
mov     edi, [esi+68h]
mov     ebx, [esi+6ch]
push    [ebp+hdc]
call    ds:createcompatibledc
push    dword ptr [esi+6ch]
mov     [ebp+hdcsrc], eax
push    dword ptr [esi+68h]
push    [ebp+hdc]
call    ds:createcompatiblebitmap
push    eax
mov     [ebp+ho], eax
push    [ebp+hdcsrc]
call    ds:selectobject
push    0ch
push    [ebp+hdcsrc]
push    317h
push    dword ptr [esi]
call    ds:sendmessagea
push    0cc0020h
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdcsrc]
push    ebx
push    edi
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ds:bitblt
push    [ebp+hdc]
push    dword ptr [esi]
call    ds:releasedc
push    [ebp+hdcsrc]
call    ds:deletedc
push    [ebp+ho]
call    ds:deleteobject
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ecx, [eax]
mov     edi, [eax+8]
mov     edx, [eax+4]
mov     ebx, [eax+0ch]
sub     edi, ecx
mov     [ebp+x], ecx
mov     [ebp+y], edx
sub     ebx, edx
jmp     loc_277fd073
push    ebp
mov     ebp, esp
sub     esp, 60h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
cmp     dword ptr [esi+0cch], 7fffffffh
jnz     short loc_277fd128
push    esi
call    sub_27819dbc
mov     eax, [esi+8]
xor     edi, edi
and     eax, 3
cmp     al, 1
jnz     short loc_277fd17f
mov     eax, [esi+128h]
cmp     eax, edi
jz      short loc_277fd17f
lea     ecx, [ebp+rect]
push    ecx
push    eax
call    ds:getclientrect
cmp     [ebp+wparam], edi
jz      short loc_277fd15f
lea     eax, [ebp+rect]
push    edi
push    eax
push    dword ptr [esi+128h]
call    ds:invalidaterect
lea     eax, [ebp+rect]
push    eax
call    ds:isrectempty
test    eax, eax
jnz     short loc_277fd17f
push    edi
push    [ebp+wparam]
push    0fh
push    dword ptr [esi+128h]
call    ds:sendmessagea
cmp     [ebp+wparam], edi
jnz     short loc_277fd199
lea     eax, [ebp+var_20]
push    edi
push    eax
push    dword ptr [esi]
call    ds:getupdaterect
test    eax, eax
jz      loc_277fd21e
mov     eax, [esi+1ch]
test    al, 2
jnz     short loc_277fd1c0
or      al, 2
test    byte ptr [esi+9], 10h
mov     [esi+1ch], eax
jz      short loc_277fd225
mov     eax, [esi+15ch]
dec     eax
push    eax
push    edi
push    esi
call    sub_2781d0f0
push    esi
call    sub_277ffcba
test    byte ptr [esi+1ch], 10h
jnz     short loc_277fd1e7
push    edi
push    edi
push    edi
push    edi
call    ds:createrectrgn
mov     ebx, eax
cmp     ebx, edi
jz      short loc_277fd1e7
push    edi
push    ebx
push    dword ptr [esi]
call    ds:getupdatergn
push    ebx
push    esi
call    sub_277fd00e
cmp     [ebp+wparam], edi
jz      short loc_277fd22c
push    [ebp+wparam]
push    esi
call    sub_277fcfcc
push    dword ptr [esi+6ch]
lea     eax, [ebp+paint.rcpaint]
push    dword ptr [esi+68h]
push    edi
push    edi
push    eax
call    ds:setrect
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     short loc_277fd21e
lea     eax, [ebp+paint.rcpaint]
push    eax
push    [ebp+wparam]
push    esi
call    sub_27802b96
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277fd1b1
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:beginpaint
mov     edi, eax
push    edi
push    esi
call    sub_277fcfcc
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     short loc_277fd256
lea     eax, [ebp+paint.rcpaint]
push    eax
push    edi
push    esi
call    sub_27802b96
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:endpaint
jmp     short loc_277fd21e
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
push    edi
mov     edi, [ebp+lprect]
push    edi
call    ds:createrectrgnindirect
mov     ebx, [ebp+hdc]
mov     esi, eax
test    esi, esi
mov     [ebp+lprect], esi
jz      short loc_277fd29a
push    esi
push    ebx
call    ds:getcliprgn
test    eax, eax
jg      short loc_277fd29a
push    esi
call    ds:deleteobject
and     [ebp+lprect], 0
test    edi, edi
jz      short loc_277fd2b0
push    dword ptr [edi+0ch]
push    dword ptr [edi+8]
push    dword ptr [edi+4]
push    dword ptr [edi]
push    ebx
call    ds:intersectcliprect
lea     eax, [ebp+rect]
push    eax
push    ebx
call    ds:getclipbox
mov     esi, [ebp+arg_0]
xor     ecx, ecx
cmp     [esi+17ch], ecx
jz      loc_277fd350
test    byte ptr [esi+180h], 1
jz      short loc_277fd350
mov     eax, [esi+8]
and     eax, 3
dec     eax
jz      loc_277fd391
dec     eax
dec     eax
jz      short loc_277fd2fe
mov     eax, [esi+0c4h]
neg     eax
mov     [ebp+var_8], eax
mov     eax, [esi+0c8h]
neg     eax
mov     [ebp+var_4], eax
jmp     short loc_277fd30c
mov     eax, [esi+9ch]
mov     [ebp+var_4], ecx
neg     eax
mov     [ebp+var_8], eax
push    ecx
push    1
push    ebx
push    esi
call    sub_277fb9c4
mov     eax, [esi+184h]
and     eax, 10h
jz      loc_277fd3ad
cmp     eax, 10h
jnz     short loc_277fd350
mov     eax, [esi+17ch]
push    0
lea     edx, [ebp+var_8]
push    edi
mov     ecx, [eax]
push    edx
push    ebx
push    eax
call    dword ptr [ecx+2ch]
push    dword ptr [edi+0ch]
push    dword ptr [edi+8]
push    dword ptr [edi+4]
push    dword ptr [edi]
push    ebx
call    ds:excludecliprect
push    edi
push    ebx
call    ds:rectvisible
test    eax, eax
jz      short loc_277fd371
cmp     dword ptr [esi+2ch], 0ffffffffh
jz      loc_277fd468
push    dword ptr [esi+3ch]
push    edi
push    ebx
call    ds:fillrect
push    [ebp+lprect]
push    ebx
call    ds:selectcliprgn
cmp     [ebp+lprect], 0
jz      short loc_277fd38a
push    [ebp+lprect]
call    ds:deleteobject
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+134h]
neg     eax
mov     [ebp+var_8], eax
mov     eax, [esi+12ch]
sub     eax, [esi+138h]
jmp     loc_277fd2f9
mov     eax, [esi+17ch]
lea     edx, [ebp+var_10]
push    0
push    edx
mov     ecx, [eax]
lea     edx, [ebp+hdc]
push    edx
push    eax
call    dword ptr [ecx+20h]
mov     eax, [ebp+var_10]
and     [ebp+var_20.left], 0
mov     [ebp+var_20.right], eax
mov     eax, [ebp+var_c]
and     [ebp+var_20.top], 0
mov     [ebp+var_20.bottom], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     ecx, [esi+190h]
test    ecx, ecx
jz      short loc_277fd402
mov     eax, [ebp+rect.right]
push    64h
sub     eax, [ebp+var_10]
imul    eax, ecx
cdq
pop     ecx
idiv    ecx
add     [ebp+var_20.left], eax
add     [ebp+var_20.right], eax
mov     ecx, [esi+194h]
test    ecx, ecx
jz      short loc_277fd421
mov     eax, [ebp+rect.bottom]
push    64h
sub     eax, [ebp+var_c]
imul    eax, ecx
cdq
pop     ecx
idiv    ecx
add     [ebp+var_20.top], eax
add     [ebp+var_20.bottom], eax
mov     eax, [ebp+var_4]
mov     ecx, [ebp+var_8]
add     [ebp+var_20.top], eax
add     [ebp+var_20.bottom], eax
add     [ebp+var_20.left], ecx
add     [ebp+var_20.right], ecx
lea     eax, [ebp+var_20]
push    eax
push    ebx
call    ds:rectvisible
test    eax, eax
jz      loc_277fd350
mov     eax, [esi+17ch]
lea     edx, [ebp+var_20]
push    edx
push    ebx
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+28h]
push    [ebp+var_20.bottom]
push    [ebp+var_20.right]
push    [ebp+var_20.top]
push    [ebp+var_20.left]
jmp     loc_277fd349
push    0
push    ebx
push    14h
push    dword ptr [esi+4]
call    ds:sendmessagea
jmp     loc_277fd371
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
test    byte ptr [esi+21h], 2
jz      short loc_277fd494
cmp     dword_2782c00c, 0
jz      short loc_277fd4ae
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:getclipbox
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
push    esi
call    sub_277fd264
push    1
pop     eax
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
mov     ecx, [esi+0dch]
cmp     [ebp+hwnd], ecx
jnz     loc_277fd553
mov     eax, [ebp+arg_c]
sub     eax, 28h
jz      loc_277fd561
dec     eax
jz      short loc_277fd558
sub     eax, 1d7h
jz      short loc_277fd547
sub     eax, 200h
jnz     short loc_277fd519
cmp     dword_2782a150, 0
jz      short loc_277fd4f8
test    byte ptr [esi+1dh], 80h
jnz     short loc_277fd519
push    ecx
call    ds:iswindowvisible
test    eax, eax
jz      short loc_277fd519
push    1
push    0fffffff4h
push    dword ptr [esi+0dch]
call    ds:setwindowlonga
push    esi
call    sub_2781b7d7
push    [ebp+hwnd]
call    ds:iswindow
test    eax, eax
jz      short loc_277fd553
movzx   eax, word ptr [ebp+arg_c]
movzx   ecx, [ebp+arg_4]
push    [ebp+hwnd]
shl     eax, 10h
or      eax, ecx
push    eax
push    111h
push    dword ptr [esi+4]
call    ds:sendmessagea
jmp     short loc_277fd553
push    0
push    esi
call    sub_2781bb07
test    eax, eax
jnz     short loc_277fd519
pop     esi
pop     ebp
retn    10h
and     dword ptr [esi+0e8h], 0fffffffeh
jmp     short loc_277fd519
or      dword ptr [esi+0e8h], 1
jmp     short loc_277fd519
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
test    eax, eax
jz      short loc_277fd584
test    byte ptr [eax+18h], 1
jnz     loc_277fd64e
mov     esi, [ebp+hmem]
mov     edi, 1000h
mov     eax, [esi+8]
test    edi, eax
jz      loc_277fd655
and     eax, 3
cmp     eax, 2
jz      short loc_277fd5a7
test    eax, eax
jnz     loc_277fd655
push    1
push    esi
call    sub_27819d38
mov     ebx, eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+rect.right]
mov     [esi+68h], eax
mov     eax, [ebp+rect.bottom]
mov     [esi+6ch], eax
mov     eax, [esi+8]
test    ah, 1
jz      short loc_277fd5e5
and     eax, 3
cmp     eax, 2
jz      short loc_277fd5dd
test    eax, eax
jnz     short loc_277fd5e5
push    0
push    esi
call    sub_2781aef6
test    [esi+8], edi
jz      short loc_277fd640
push    esi
mov     dword ptr [esi+0cch], 7fffffffh
call    sub_27819dbc
push    0
push    esi
call    sub_2781bb07
mov     eax, [esi+8]
and     eax, 3
cmp     eax, 2
jz      short loc_277fd611
test    eax, eax
jnz     short loc_277fd640
push    1
push    esi
call    sub_27819d38
cmp     eax, ebx
jz      short loc_277fd640
test    [esi+8], edi
jz      short loc_277fd65d
mov     ecx, [esi+15ch]
cmp     eax, ebx
jl      short loc_277fd62e
mov     eax, ebx
cmp     ecx, eax
jle     short loc_277fd640
push    5
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
push    1
push    esi
call    sub_2781d151
push    esi
call    sub_277ffcba
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ebx, [ebp+arg_4]
jmp     loc_277fd5b1
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     short loc_277fd628
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+hmem]
mov     ebx, 1000h
push    edi
mov     [ebp+flags], 1
mov     eax, [esi+8]
test    ebx, eax
jz      loc_277fd760
mov     ecx, [esi+15ch]
and     eax, 3
mov     [ebp+var_4], ecx
mov     edi, eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
cmp     dword ptr [esi+38h], 0ffffffffh
jz      short loc_277fd6bc
mov     eax, [esi+0b4h]
test    eax, eax
jz      short loc_277fd6c3
push    eax
call    sub_27813b52
cmp     [esi+2ch], eax
jz      short loc_277fd6c3
mov     [ebp+flags], 5
mov     eax, edi
dec     eax
jz      loc_277fd78e
dec     eax
dec     eax
jz      loc_277fd76a
lea     eax, [ebp+var_4]
push    eax
lea     eax, [ebp+hmem]
push    eax
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_2781a167
mov     eax, [ebp+var_4]
xor     edi, edi
cmp     [ebp+hmem], edi
jg      short loc_277fd6f3
mov     [ebp+hmem], edi
mov     edx, [esi+8]
and     edx, ebx
jz      loc_277fd7b5
mov     ecx, [esi+15ch]
cmp     ecx, eax
jge     short loc_277fd719
cmp     edx, edi
jz      loc_277fd7bf
mov     eax, [esi+15ch]
mov     [ebp+var_4], eax
cmp     [ebp+hmem], eax
jge     short loc_277fd759
dec     eax
push    eax
push    [ebp+hmem]
push    esi
call    sub_277f9d8c
mov     eax, [ebp+var_4]
cmp     [ebp+hmem], eax
jge     short loc_277fd759
push    [ebp+hmem]
push    [ebp+arg_4]
call    sub_2781fa40
test    eax, eax
jz      short loc_277fd74e
push    edi
push    [ebp+flags]
push    edi
push    [ebp+hmem]
push    esi
call    sub_2780255d
inc     [ebp+hmem]
mov     eax, [ebp+hmem]
cmp     eax, [ebp+var_4]
jl      short loc_277fd731
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     loc_277fd68d
push    [ebp+rect.top]
push    [ebp+rect.left]
push    esi
call    sub_2781cf4c
push    [ebp+rect.bottom]
mov     [ebp+hmem], eax
push    [ebp+rect.right]
push    esi
call    sub_2781cf4c
inc     eax
mov     [ebp+var_4], eax
jmp     loc_277fd6e9
mov     ecx, [esi+138h]
mov     eax, [ebp+rect.top]
sub     ecx, [esi+12ch]
mov     edi, [esi+0a4h]
add     eax, ecx
cdq
idiv    edi
mov     [ebp+hmem], eax
mov     eax, [ebp+rect.bottom]
add     eax, ecx
cdq
idiv    edi
jmp     short loc_277fd785
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     loc_277fd704
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_277fd716
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
test    byte ptr [esi+9], 10h
jz      short loc_277fd7f5
push    dword ptr [esi+154h]
push    esi
call    sub_277fd664
push    dword ptr [esi]
call    ds:updatewindow
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    2
push    0ffffffffh
push    esi
call    sub_27801fa0
mov     edi, eax
cmp     edi, 0ffffffffh
jz      short loc_277fd818
push    0
push    1
push    1
push    edi
push    esi
call    sub_2780255d
push    2
push    edi
jmp     short loc_277fd7f9
mov     eax, [esi+8]
and     eax, 3
cmp     al, 1
jnz     short loc_277fd7e6
mov     ecx, [esi+12ch]
mov     eax, [esi+6ch]
mov     ebx, [esi+138h]
mov     edi, [esi+0a4h]
sub     eax, ecx
add     eax, ebx
cdq
idiv    edi
mov     edx, [esi+8]
mov     edi, eax
inc     edi
and     edx, 1000h
jz      short loc_277fd8a1
mov     eax, [esi+15ch]
cmp     edi, eax
jl      short loc_277fd860
test    edx, edx
jz      short loc_277fd8a8
mov     edi, [esi+15ch]
mov     eax, ebx
sub     eax, ecx
cdq
idiv    dword ptr [esi+0a4h]
mov     ebx, eax
cmp     ebx, edi
jge     loc_277fd7e6
cmp     dword ptr [esi+120h], 1
jle     short loc_277fd89e
lea     eax, [ebp+var_8]
push    eax
push    1
push    ebx
push    esi
call    sub_2781e698
test    [ebp+var_2], 2
jz      short loc_277fd89e
push    0
push    1
push    0
push    ebx
push    esi
call    sub_2780255d
inc     ebx
jmp     short loc_277fd86d
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277fd852
mov     eax, [esi+18h]
mov     edi, [eax]
jmp     short loc_277fd860
push    esi
mov     esi, [esp+4+hmem]
mov     eax, [esi]
cmp     [esp+4+arg_4], eax
jz      short loc_277fd903
or      byte ptr [esi+1ch], 81h
push    eax
call    ds:iswindowvisible
test    eax, eax
jz      short loc_277fd8f9
mov     eax, [esi+54h]
cmp     eax, 0ffffffffh
jz      short loc_277fd8f3
push    0
push    1
push    1
push    eax
push    esi
call    sub_2780255d
mov     eax, [esi+54h]
inc     eax
push    eax
push    0fffffffch
push    dword ptr [esi]
push    8005h
call    sub_277b8949
push    esi
call    sub_277fd7c9
push    0
push    0fffffff9h
push    esi
call    sub_277b9838
pop     esi
retn    8
and     dword_2782c3b8, 0
push    esi
mov     esi, [esp+4+hmem]
test    esi, esi
jz      short loc_277fd965
mov     eax, [esi]
cmp     [esp+4+arg_4], eax
jz      short loc_277fd965
and     byte ptr [esi+1ch], 7eh
push    eax
call    ds:iswindowvisible
test    eax, eax
jz      short loc_277fd952
mov     eax, [esi+54h]
cmp     eax, 0ffffffffh
jz      short loc_277fd94c
cmp     dword ptr [esi+38h], 0ffffffffh
push    1
pop     ecx
jnz     short loc_277fd942
push    5
pop     ecx
push    ecx
push    1
push    eax
push    esi
call    sub_27803802
push    esi
call    sub_277fd7c9
push    0
push    0fffffff8h
push    esi
call    sub_277b9838
push    0
push    0
call    sub_278111b6
pop     esi
retn    8
push    ecx
push    ebx
mov     ebx, [esp+8+arg_4]
push    ebp
push    esi
mov     esi, [esp+10h+hmem]
push    edi
or      edi, 0ffffffffh
xor     ebp, ebp
cmp     ebx, edi
mov     [esp+14h+var_4], ebp
jz      short loc_277fd993
push    2
push    ebx
push    esi
call    sub_278007e2
test    eax, eax
jz      short loc_277fd993
push    1
pop     ebp
test    byte ptr [esi+9], 10h
jz      short loc_277fd9e1
cmp     dword ptr [esi+78h], 1
jnz     short loc_277fd9a3
test    ebp, ebp
jnz     short loc_277fd9d9
push    dword ptr [esi+154h]
push    esi
call    sub_277fd664
push    2
push    0
push    0ffffffffh
push    esi
call    sub_27800816
test    ebp, ebp
jz      short loc_277fd9d2
push    2
push    2
push    ebx
push    esi
call    sub_27800816
mov     [esp+14h+var_4], 1
mov     eax, [esp+14h+var_4]
mov     [esi+78h], eax
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn    8
mov     eax, [esi+54h]
cmp     ebx, eax
jz      short loc_277fd9f3
push    2
push    0
push    eax
push    esi
call    sub_27800816
cmp     dword ptr [esi+78h], 0
jz      short loc_277fd9d2
push    2
push    edi
push    esi
call    sub_27801fa0
mov     edi, eax
cmp     edi, 0ffffffffh
jz      short loc_277fd9d2
cmp     edi, ebx
jz      short loc_277fda23
push    2
push    0
push    edi
push    esi
call    sub_27800816
mov     eax, [esi+78h]
sub     eax, [esp+14h+var_4]
jz      short loc_277fd9d2
jmp     short loc_277fd9f9
test    ebp, ebp
jz      short loc_277fda18
inc     [esp+14h+var_4]
jmp     short loc_277fda18
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 0ffffffffh
jz      short loc_277fda54
push    2
push    [ebp+arg_4]
push    [ebp+hmem]
call    sub_278007e2
xor     eax, 2
push    2
push    eax
push    [ebp+arg_4]
push    [ebp+hmem]
call    sub_27800816
pop     ebp
retn    8
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
push    2
or      ebx, 0ffffffffh
mov     eax, [esi+58h]
pop     ecx
cmp     eax, ebx
mov     [ebp+var_8], ecx
jnz     short loc_277fda8a
push    0
push    1
push    1
push    [ebp+arg_4]
push    esi
call    sub_277fddd7
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     edi, edi
cmp     [ebp+arg_8], edi
jnz     short loc_277fda9c
push    ecx
push    eax
push    esi
call    sub_278007e2
mov     [ebp+var_8], eax
mov     edx, [esi+8]
mov     eax, edx
and     eax, 3
cmp     eax, 3
jz      loc_277fdcb2
cmp     eax, 1
jz      loc_277fdcb2
lea     eax, [ebp+rcsrc1]
push    eax
push    edi
push    edi
push    edi
push    dword ptr [esi+58h]
push    esi
call    sub_27802300
lea     eax, [ebp+rcsrc2]
push    eax
push    edi
push    edi
push    edi
push    [ebp+arg_4]
push    esi
call    sub_27802300
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:unionrect
mov     edx, [esi+8]
mov     edi, 1000h
and     edx, edi
jz      loc_277fdbc3
lea     eax, [ebp+var_4]
push    eax
lea     eax, [ebp+hmem]
push    eax
lea     eax, [ebp+rcdst]
push    eax
push    esi
call    sub_2781a167
cmp     [ebp+arg_8], 0
jz      short loc_277fdb17
push    ebx
push    esi
call    sub_277fd969
mov     edx, [esi+8]
and     edx, edi
jz      loc_277fdbaf
mov     ecx, [esi+15ch]
mov     eax, [ebp+var_4]
cmp     eax, ecx
jl      short loc_277fdb40
test    edx, edx
jz      loc_277fdbb9
mov     eax, [esi+15ch]
mov     [ebp+var_4], eax
mov     edi, [ebp+hmem]
test    edi, edi
jg      short loc_277fdb4c
xor     edi, edi
mov     [ebp+hmem], edi
test    edx, edx
jz      loc_277fdc17
cmp     edi, eax
jge     loc_277fda83
mov     ebx, [ebp+var_8]
test    bl, 2
jz      short loc_277fdbd0
dec     eax
push    eax
push    edi
push    dword ptr [esi+154h]
call    sub_2781f807
cmp     eax, 7fffffffh
jz      loc_277fda83
add     [esi+78h], eax
push    ebx
xor     ebx, 2
push    ebx
push    [ebp+var_4]
push    [ebp+hmem]
push    esi
call    sub_277f9e37
mov     eax, [ebp+var_4]
mov     ecx, eax
sub     ecx, [ebp+hmem]
cmp     ecx, 64h
jle     short loc_277fdbee
push    0
push    0
push    dword ptr [esi]
call    ds:invalidaterect
jmp     loc_277fda83
mov     eax, [esi+18h]
mov     ecx, [eax]
jmp     loc_277fdb28
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_277fdb3d
mov     eax, [esi+18h]
mov     eax, [eax]
mov     [ebp+var_4], eax
jmp     loc_277fdb47
dec     eax
push    eax
push    edi
push    dword ptr [esi+154h]
call    sub_2781f922
cmp     eax, 7fffffffh
jz      loc_277fda83
sub     [esi+78h], eax
jmp     short loc_277fdb80
cmp     [ebp+hmem], eax
jg      loc_277fda83
push    0
push    1
push    1
push    [ebp+hmem]
push    esi
call    sub_2780255d
inc     [ebp+hmem]
mov     eax, [ebp+hmem]
cmp     eax, [ebp+var_4]
jg      loc_277fda83
jmp     short loc_277fdbf7
cmp     edi, eax
jge     loc_277fda83
lea     eax, [ebp+rcsrc2]
push    eax
xor     eax, eax
push    eax
push    eax
push    eax
push    edi
push    esi
call    sub_27802300
mov     eax, [ebp+rcsrc2.right]
mov     ecx, [ebp+rcsrc2.left]
add     eax, ecx
cdq
sub     eax, edx
mov     edx, [ebp+rcsrc2.top]
mov     ecx, eax
mov     eax, [ebp+rcsrc2.bottom]
add     eax, edx
cdq
sub     eax, edx
sar     eax, 1
sar     ecx, 1
push    eax
lea     eax, [ebp+rcdst]
push    ecx
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_277fdca6
test    byte ptr [esi+9], 10h
jnz     short loc_277fdc8b
push    edi
push    dword ptr [esi+0c0h]
call    sub_27815d0b
test    eax, eax
jle     short loc_277fdc8b
push    eax
push    dword ptr [esi+0c0h]
call    sub_27815e5b
push    eax
push    0
push    dword ptr [esi+0c0h]
call    sub_27815df2
push    2
push    [ebp+var_8]
push    edi
push    esi
call    sub_27800816
inc     edi
cmp     edi, [ebp+var_4]
jge     loc_277fda83
jmp     loc_277fdc1f
cmp     [ebp+arg_8], 0
jz      short loc_277fdc97
push    2
push    0
jmp     short loc_277fdc90
mov     eax, [esi+58h]
mov     ecx, [ebp+arg_4]
cmp     ecx, eax
mov     [ebp+hmem], ecx
jl      short loc_277fdcc2
mov     [ebp+hmem], eax
cmp     ecx, eax
mov     [ebp+var_4], ecx
jg      short loc_277fdccc
mov     [ebp+var_4], eax
test    dh, 10h
jz      loc_277fdd87
xor     edi, edi
cmp     [ebp+arg_8], edi
jz      short loc_277fdce3
push    ebx
push    esi
call    sub_277fd969
mov     eax, [ebp+hmem]
cmp     [ebp+var_4], eax
jle     loc_277fdd76
push    [ebp+var_4]
mov     ebx, [ebp+var_8]
test    bl, 2
push    eax
push    dword ptr [esi+154h]
jz      short loc_277fdd39
call    sub_2781f807
cmp     eax, 7fffffffh
jz      loc_277fda83
add     [esi+78h], eax
push    ebx
xor     ebx, 2
push    ebx
push    [ebp+var_4]
push    [ebp+hmem]
push    esi
call    sub_277f9e37
mov     eax, [ebp+var_4]
mov     ecx, eax
sub     ecx, [ebp+hmem]
cmp     ecx, 64h
jle     short loc_277fdd4e
push    edi
push    edi
jmp     loc_277fdba2
call    sub_2781f922
cmp     eax, 7fffffffh
jz      loc_277fda83
sub     [esi+78h], eax
jmp     short loc_277fdd14
cmp     [ebp+hmem], eax
jg      loc_277fda83
push    edi
push    1
push    1
push    [ebp+hmem]
push    esi
call    sub_2780255d
inc     [ebp+hmem]
mov     eax, [ebp+hmem]
cmp     eax, [ebp+var_4]
jg      loc_277fda83
jmp     short loc_277fdd57
push    2
push    [ebp+var_8]
push    eax
push    esi
call    sub_27800816
jmp     loc_277fda83
cmp     [ebp+arg_8], 0
jz      short loc_277fddb6
push    2
push    ebx
push    esi
call    sub_27801fa0
mov     edi, eax
cmp     edi, ebx
jz      short loc_277fddb6
cmp     edi, [ebp+hmem]
jl      short loc_277fdda6
cmp     edi, [ebp+var_4]
jle     short loc_277fddb1
push    2
push    0
push    edi
push    esi
call    sub_27800816
push    2
push    edi
jmp     short loc_277fdd90
mov     eax, [ebp+hmem]
cmp     eax, [ebp+var_4]
jg      loc_277fda83
push    2
push    [ebp+var_8]
push    eax
push    esi
call    sub_27800816
mov     eax, [ebp+hmem]
inc     eax
mov     [ebp+hmem], eax
jmp     short loc_277fddb9
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+hmem]
xor     ebx, ebx
push    edi
test    byte ptr [esi+8], 4
mov     edi, [esi+54h]
jnz     short loc_277fddf8
cmp     [ebp+arg_c], ebx
jz      short loc_277fddf8
push    0ffffffffh
push    esi
call    sub_277fd969
mov     eax, [esi+54h]
cmp     [ebp+arg_4], eax
jz      short loc_277fde1d
cmp     eax, 0ffffffffh
jz      short loc_277fde1d
push    1
push    ebx
push    eax
push    esi
call    sub_27800816
test    eax, eax
jnz     short loc_277fde1d
mov     eax, [esi+54h]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    14h
mov     eax, [esi+8]
test    ah, 10h
jnz     short loc_277fde5f
cmp     [ebp+arg_8], ebx
jz      short loc_277fde5f
and     eax, 3
jz      short loc_277fde34
cmp     eax, 2
jnz     short loc_277fde5f
push    [ebp+arg_4]
push    dword ptr [esi+0c0h]
call    sub_27815d0b
cmp     eax, ebx
jle     short loc_277fde5f
push    eax
push    dword ptr [esi+0c0h]
call    sub_27815e5b
push    eax
push    ebx
push    dword ptr [esi+0c0h]
call    sub_27815df2
cmp     edi, 0ffffffffh
jz      short loc_277fde79
cmp     edi, [esi+54h]
jz      short loc_277fde79
test    byte ptr [esi+1ch], 80h
jz      short loc_277fde79
push    1
push    ebx
push    edi
push    esi
call    sub_27803802
cmp     dword ptr [esi+58h], 0ffffffffh
jnz     short loc_277fde85
mov     eax, [ebp+arg_4]
mov     [esi+58h], eax
push    ebx
call    ds:getdoubleclicktime
push    eax
push    2bh
push    dword ptr [esi]
call    ds:settimer
or      byte ptr [esi+1dh], 2
cmp     [ebp+arg_10], ebx
jz      short loc_277fdebe
push    [ebp+arg_4]
push    esi
call    sub_277fda2d
push    1
push    1
push    [ebp+arg_4]
push    esi
call    sub_27800816
mov     eax, [ebp+arg_4]
jmp     loc_277fde16
cmp     [ebp+arg_8], ebx
jnz     short loc_277fded3
test    byte ptr [esi+8], 4
jnz     short loc_277fded3
push    1
pop     eax
push    eax
push    eax
push    [ebp+arg_4]
jmp     short loc_277fdeb0
push    3
jmp     short loc_277fdecb
push    esi
mov     esi, ds:getkeystate
push    edi
push    12h
xor     edi, edi
call    esi
test    ax, ax
jge     short loc_277fdeed
push    1
pop     edi
push    11h
call    esi
test    ax, ax
jge     short loc_277fdef9
or      edi, 2
push    10h
call    esi
test    ax, ax
jge     short loc_277fdf05
or      edi, 4
mov     eax, edi
pop     edi
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 48h
cmp     [ebp+arg_8], 0
push    ebx
push    esi
mov     esi, [ebp+hcursor]
push    edi
mov     ecx, [esi]
mov     [ebp+hwnd], ecx
jz      short loc_277fdf9a
test    byte ptr [esi+20h], 40h
mov     ebx, ds:iswindow
jz      short loc_277fdfa1
mov     eax, [esi+0e8h]
test    al, 8
jz      short loc_277fdfa1
test    al, 4
jz      short loc_277fdfa1
mov     edi, [ebp+wparam]
cmp     edi, 10h
jz      short loc_277fdf9a
cmp     edi, 11h
jz      short loc_277fdf9a
cmp     edi, 12h
jz      short loc_277fdf9a
cmp     edi, 0dh
jz      short loc_277fdf9a
push    2eh
push    ecx
call    ds:killtimer
and     dword ptr [esi+0e8h], 0fffffff7h
lea     eax, [esi+0ech]
push    eax
push    0ffffff8eh
push    esi
call    sub_277b9838
push    [ebp+hwnd]
call    ebx
test    eax, eax
jz      short loc_277fdf9a
mov     eax, [ebp+arg_10]
mov     [ebp+var_c], di
mov     [ebp+var_a], eax
lea     eax, [ebp+lparam]
push    eax
push    0ffffff65h
push    esi
call    sub_277b9838
test    eax, eax
jz      short loc_277fdfa6
inc     dword ptr [esi+7ch]
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edi, [ebp+wparam]
jmp     short loc_277fdf7a
cmp     dword ptr [esi+7ch], 0
jz      short loc_277fdfca
mov     edi, 102h
push    1
push    edi
push    edi
lea     eax, [ebp+msg]
push    dword ptr [esi]
push    eax
call    ds:peekmessagea
test    eax, eax
jz      short loc_277fdfca
dec     dword ptr [esi+7ch]
jnz     short loc_277fdfb1
test    byte ptr [esi+9], 10h
jz      loc_277fe07b
mov     eax, [esi+15ch]
test    eax, eax
jz      short loc_277fdf9a
mov     edi, ds:getkeystate
push    11h
call    edi
xor     ecx, ecx
push    10h
test    ax, ax
setl    cl
mov     [ebp+hcursor], ecx
call    edi
nop
xor     ecx, ecx
test    ax, ax
setl    cl
cmp     [ebp+wparam], 0dh
mov     [ebp+arg_8], ecx
jz      loc_277fe172
cmp     [ebp+wparam], 20h
jz      loc_277fe129
cmp     [ebp+wparam], 6bh
jnz     short loc_277fe085
mov     eax, [esi+8]
and     eax, 3
cmp     al, 1
jnz     short loc_277fe085
push    11h
call    edi
test    ax, ax
jge     short loc_277fe085
push    7f02h
push    0
call    ds:loadcursora
mov     ebx, ds:setcursor
push    eax
call    ebx
and     [ebp+wparam], 0
cmp     dword ptr [esi+120h], 0
lea     edi, [esi+120h]
mov     [ebp+hcursor], eax
jle     short loc_277fe071
push    0ffffffffh
push    [ebp+wparam]
push    esi
call    sub_2781dbc0
inc     [ebp+wparam]
mov     eax, [ebp+wparam]
cmp     eax, [edi]
jl      short loc_277fe05c
push    [ebp+hcursor]
call    ebx
jmp     loc_277fdf9a
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_277fdfda
push    12h
call    edi
test    ax, ax
jl      loc_277fdf9a
test    byte ptr [esi+8], 4
jz      short loc_277fe108
xor     ebx, ebx
mov     [ebp+hcursor], ebx
mov     [ebp+arg_8], ebx
push    [ebp+wparam]
push    dword ptr [esi+54h]
push    esi
call    sub_27801ccf
mov     edi, eax
cmp     edi, 0ffffffffh
jz      short loc_277fe0dc
cmp     [ebp+arg_8], ebx
jz      short loc_277fe10c
push    1
push    edi
push    esi
call    sub_277fda58
push    ebx
push    ebx
push    ebx
push    edi
push    esi
call    sub_277fddd7
push    ebx
push    ebx
call    sub_278111b6
push    offset accselect
call    sub_27811796
push    2bh
push    200h
push    esi
call    sub_277ff80f
test    eax, eax
jz      loc_277fdf9a
push    ebx
push    dword ptr [esi+54h]
push    esi
call    sub_277ffbc1
push    dword ptr [esi]
call    ds:updatewindow
jmp     loc_277fdf9a
xor     ebx, ebx
jmp     short loc_277fe0a0
cmp     [ebp+hcursor], ebx
jnz     short loc_277fe114
mov     [esi+58h], edi
xor     eax, eax
cmp     [ebp+hcursor], ebx
push    ebx
setz    al
push    eax
xor     eax, eax
cmp     [ebp+hcursor], ebx
setz    al
push    eax
jmp     short loc_277fe0c4
cmp     [ebp+hcursor], 0
jz      short loc_277fe13f
mov     eax, [esi+54h]
push    eax
push    esi
mov     [esi+58h], eax
call    sub_277fda2d
inc     dword ptr [esi+7ch]
cmp     [ebp+arg_8], 0
jz      short loc_277fe150
push    1
push    dword ptr [esi+54h]
push    esi
call    sub_277fda58
test    byte ptr [esi+20h], 4
jz      loc_277fdf9a
mov     eax, [esi+54h]
cmp     eax, 0ffffffffh
jz      loc_277fdf9a
push    eax
push    esi
call    sub_277ff228
jmp     loc_277fdf9a
xor     edi, edi
push    edi
push    0fffffffch
push    esi
call    sub_277b9838
push    [ebp+hwnd]
call    ebx
test    eax, eax
jz      loc_277fdf9a
mov     eax, [esi+54h]
or      [ebp+msg.lparam], 0ffffffffh
or      [ebp+msg.time], 0ffffffffh
mov     [ebp+var_3c], eax
mov     [ebp+var_38], edi
mov     [ebp+msg.wparam], edi
call    sub_277fded7
mov     [ebp+msg.pt.y], eax
lea     eax, [ebp+var_48]
push    eax
push    0ffffff8eh
push    esi
call    sub_277b9838
push    [ebp+hwnd]
jmp     loc_277fe074
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
push    1
push    40h
call    ds:localalloc
mov     esi, [ebp+arg_8]
push    0
push    0
push    [ebp+arg_4]
mov     [esi], eax
push    [ebp+arg_0]
call    sub_277e1fc4
mov     edi, eax
test    edi, edi
jz      short loc_277fe20b
lea     ebx, [edi+1]
push    2
push    ebx
push    dword ptr [esi]
call    ds:localrealloc
test    eax, eax
mov     [esi], eax
jz      short loc_277fe20b
push    ebx
push    eax
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_277e1fc4
mov     eax, [esi]
and     byte ptr [edi+eax], 0
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
push    1
test    byte ptr [esi+9], 10h
pop     edi
mov     [ebp+var_10], edi
jz      loc_277fe315
mov     ebx, [esi+15ch]
mov     [ebp+var_8], ebx
test    ebx, ebx
jz      loc_277fe42f
cmp     dword ptr [esi+54h], 0ffffffffh
jz      loc_277fe42f
push    dword ptr [esi]
call    sub_277e1fb2
test    eax, eax
mov     [ebp+var_c], eax
jz      loc_277fe3dd
mov     eax, 800h
test    [ebp+arg_8], eax
jz      short loc_277fe293
and     [ebp+var_10], 0
lea     ecx, [ebp+hmem]
push    ecx
push    eax
push    [ebp+var_c]
call    sub_277fe1ba
cmp     [ebp+hmem], 0
jz      short loc_277fe293
lea     eax, [ebp+lpstring]
push    eax
push    [ebp+hmem]
push    0
call    sub_2781105c
push    [ebp+hmem]
call    ds:localfree
test    byte ptr [ebp+arg_8], 8
jz      loc_277fe3d3
lea     eax, [ebp+hmem]
mov     [ebp+var_10], edi
push    eax
push    8
push    [ebp+var_c]
call    sub_277fe1ba
cmp     [ebp+hmem], 0
jz      loc_277fe3d3
lea     eax, [ebp+lpstring]
push    eax
push    [ebp+hmem]
push    edi
call    sub_2781105c
test    eax, eax
jz      short loc_277fe324
mov     edi, [esi+54h]
mov     eax, [ebp+lpstring]
mov     dword ptr [ebp+var_28], 26h
push    eax
mov     [ebp+var_24], eax
call    ds:lstrlena
mov     ebx, eax
cmp     ebx, 1
jnz     short loc_277fe332
mov     eax, [ebp+lpstring]
cmp     byte ptr [eax], 20h
jnz     short loc_277fe332
mov     eax, [esi+54h]
cmp     eax, 0ffffffffh
jz      short loc_277fe30b
push    2
push    2
push    eax
push    esi
call    sub_27800816
push    0
push    0
call    sub_278111b6
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+18h]
mov     eax, [eax]
mov     [ebp+var_8], eax
mov     ebx, eax
jmp     loc_277fe237
mov     eax, [esi+54h]
lea     eax, [ebx+eax-1]
cdq
idiv    ebx
mov     edi, edx
jmp     short loc_277fe2cc
lea     eax, [ebp+var_28]
push    eax
push    edi
push    esi
call    sub_2780217b
mov     edi, eax
cmp     edi, 0ffffffffh
jz      loc_277fe3e5
cmp     ebx, 2
jle     short loc_277fe3a0
mov     eax, [ebp+lpstring]
xor     ecx, ecx
mov     cl, [eax+1]
mov     ch, [eax]
push    ecx
push    eax
call    sub_277fe436
test    eax, eax
jz      short loc_277fe3a0
mov     eax, [ebp+lpstring]
lea     eax, [ebx+eax-2]
mov     ebx, [ebp+var_8]
mov     [ebp+var_24], eax
lea     eax, [ebp+var_28]
push    eax
mov     eax, [esi+54h]
cdq
idiv    ebx
push    edx
push    esi
call    sub_2780217b
mov     ecx, [esi+54h]
cmp     edi, ecx
jge     short loc_277fe389
add     edi, ebx
cmp     eax, ecx
jge     short loc_277fe38f
add     eax, ebx
cmp     eax, edi
jge     short loc_277fe399
cmp     eax, ecx
jle     short loc_277fe399
mov     edi, eax
mov     eax, edi
cdq
idiv    ebx
mov     edi, edx
push    0
push    1
push    1
push    edi
push    esi
call    sub_277fddd7
push    2bh
push    200h
push    esi
mov     [esi+58h], edi
call    sub_277ff80f
test    eax, eax
jz      short loc_277fe3ca
push    0
push    edi
push    esi
call    sub_277ffbc1
push    [ebp+hmem]
call    ds:localfree
push    [ebp+var_c]
push    dword ptr [esi]
call    sub_277e1f9c
mov     eax, [ebp+var_10]
jmp     loc_277fe30e
cmp     ebx, 2
jle     short loc_277fe416
mov     eax, [ebp+lpstring]
xor     ecx, ecx
mov     cl, [eax+1]
mov     ch, [eax]
push    ecx
push    eax
call    sub_277fe436
test    eax, eax
jz      short loc_277fe416
push    0
push    0
call    sub_278111b6
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_277fe212
jmp     short loc_277fe3ca
cmp     dword_2782c310, 0
jnz     short loc_277fe427
push    0
call    ds:messagebeep
inc     dword_2782c310
jmp     short loc_277fe3ca
mov     eax, edi
jmp     loc_277fe30e
push    esi
mov     esi, [esp+4+arg_0]
mov     al, [esi]
test    al, al
jz      short loc_277fe465
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_277fe45f
movzx   ax, byte ptr [esi]
xor     ecx, ecx
mov     ch, al
or      ecx, eax
inc     esi
inc     esi
cmp     cx, [esp+4+arg_4]
jz      short loc_277fe43b
xor     eax, eax
pop     esi
retn    8
push    1
pop     eax
jmp     short loc_277fe461
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
test    byte ptr [esi+9], 10h
jz      loc_277fe4ff
mov     ebx, [esi+15ch]
mov     [ebp+hmem], ebx
test    ebx, ebx
jz      short loc_277fe4f8
cmp     dword ptr [esi+54h], 0ffffffffh
jz      short loc_277fe4f8
cmp     [ebp+arg_4], 20h
jb      short loc_277fe4ef
push    11h
call    ds:getkeystate
test    ax, ax
jl      short loc_277fe4ef
lea     eax, [ebp+lpstring]
push    eax
push    [ebp+arg_4]
call    sub_278111b6
test    eax, eax
jz      short loc_277fe50e
mov     edi, [esi+54h]
mov     eax, [ebp+lpstring]
mov     dword ptr [ebp+var_1c], 26h
push    eax
mov     [ebp+var_18], eax
call    ds:lstrlena
mov     ebx, eax
cmp     ebx, 1
jnz     short loc_277fe51c
mov     eax, [ebp+lpstring]
cmp     byte ptr [eax], 20h
jnz     short loc_277fe51c
mov     eax, [esi+54h]
cmp     eax, 0ffffffffh
jz      short loc_277fe4f8
push    2
push    2
push    eax
push    esi
call    sub_27800816
push    0
push    0
call    sub_278111b6
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+18h]
mov     eax, [eax]
mov     [ebp+hmem], eax
mov     ebx, eax
jmp     loc_277fe489
mov     eax, [esi+54h]
lea     eax, [ebx+eax-1]
cdq
idiv    ebx
mov     edi, edx
jmp     short loc_277fe4b9
lea     eax, [ebp+var_1c]
push    eax
push    edi
push    esi
call    sub_2780217b
mov     edi, eax
cmp     edi, [ebp+hmem]
jl      short loc_277fe531
or      edi, 0ffffffffh
cmp     edi, 0ffffffffh
jz      loc_277fe5bc
cmp     ebx, 1
jle     short loc_277fe589
mov     eax, [ebp+lpstring]
mov     cl, [eax]
push    ecx
push    eax
call    sub_277fe607
test    eax, eax
jz      short loc_277fe589
mov     eax, [ebp+lpstring]
lea     eax, [ebx+eax-1]
mov     [ebp+var_18], eax
lea     eax, [ebp+var_1c]
push    eax
push    dword ptr [esi+54h]
push    esi
call    sub_2780217b
mov     ecx, [esi+54h]
cmp     edi, ecx
jge     short loc_277fe570
add     edi, [ebp+hmem]
cmp     eax, ecx
jge     short loc_277fe577
add     eax, [ebp+hmem]
cmp     eax, edi
jge     short loc_277fe581
cmp     eax, ecx
jle     short loc_277fe581
mov     edi, eax
mov     eax, edi
cdq
idiv    [ebp+hmem]
mov     edi, edx
push    0
push    1
push    1
push    edi
push    esi
call    sub_277fddd7
push    2bh
push    200h
push    esi
mov     [esi+58h], edi
call    sub_277ff80f
test    eax, eax
jz      loc_277fe4f8
push    0
push    edi
push    esi
call    sub_277ffbc1
jmp     loc_277fe4f8
cmp     ebx, 1
jle     short loc_277fe5eb
mov     eax, [ebp+lpstring]
mov     cl, [eax]
push    ecx
push    eax
call    sub_277fe607
test    eax, eax
jz      short loc_277fe5eb
push    0
push    0
call    sub_278111b6
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_277fe46a
jmp     loc_277fe4f8
cmp     dword_2782c310, 0
jnz     short loc_277fe5fc
push    0
call    ds:messagebeep
inc     dword_2782c310
jmp     loc_277fe4f8
mov     ecx, [esp+arg_0]
mov     al, [ecx]
test    al, al
jz      short loc_277fe61d
inc     ecx
cmp     al, [esp+arg_4]
jz      short loc_277fe60b
xor     eax, eax
retn    8
push    1
pop     eax
jmp     short locret_277fe61a
mov     eax, 81h
retn    8
mov     eax, [esp+arg_0]
mov     ecx, [eax+44h]
mov     edx, [eax+98h]
cmp     ecx, edx
jg      short loc_277fe63d
mov     ecx, edx
cmp     dword ptr [eax+148h], 0
jz      short loc_277fe652
mov     eax, [eax+150h]
cmp     ecx, eax
jg      short loc_277fe652
mov     ecx, eax
mov     eax, y
add     eax, ecx
retn    4
push    esi
mov     esi, [esp+4+arg_0]
test    byte ptr [esi+9], 10h
jnz     short loc_277fe692
mov     eax, [esi+18h]
mov     ecx, [eax]
dec     ecx
js      short loc_277fe692
mov     eax, [esi+18h]
mov     eax, [eax+4]
mov     eax, [eax+ecx*4]
mov     word ptr [eax+14h], 7fffh
mov     word ptr [eax+10h], 7fffh
mov     word ptr [eax+12h], 7fffh
mov     word ptr [eax+0eh], 7fffh
jmp     short loc_277fe66c
mov     eax, [esi+8]
mov     dword ptr [esi+0cch], 7fffffffh
test    ah, 4
jz      short loc_277fe6bb
and     eax, 3
cmp     al, 1
jnz     short loc_277fe6bb
push    esi
call    sub_277fe62a
mov     [esi+144h], eax
pop     esi
retn    4
push    esi
call    sub_277fe62a
mov     [esi+0a4h], eax
jmp     short loc_277fe6b7
push    ebp
mov     ebp, esp
push    ecx
cmp     [ebp+arg_4], 0fffffff0h
push    ebx
push    esi
push    edi
jnz     loc_277fe809
mov     esi, [ebp+hdc]
xor     eax, eax
push    eax
push    esi
mov     [ebp+arg_4], eax
mov     [ebp+var_4], eax
call    sub_2781bb07
mov     edi, [ebp+arg_8]
mov     eax, [esi+8]
mov     [ebp+arg_8], eax
mov     ebx, [edi+4]
xor     ebx, eax
mov     [ebp+hdc], ebx
and     [ebp+hdc], 3
jz      short loc_277fe72b
test    al, 3
jnz     short loc_277fe72b
test    ah, 10h
jz      loc_277fe810
mov     eax, [esi+15ch]
dec     eax
push    0
push    eax
push    0
push    esi
call    sub_2781cfc6
push    eax
push    0
push    esi
call    sub_27802ade
mov     eax, [edi+4]
test    ebx, 0c40000h
mov     [esi+8], eax
jz      short loc_277fe74a
push    0
push    0
push    401h
push    dword ptr [esi]
call    ds:postmessagea
push    1
test    bh, 40h
pop     edi
jz      short loc_277fe776
mov     eax, [esi+128h]
test    eax, eax
jz      short loc_277fe776
mov     ecx, [esi+8]
shr     ecx, 0bh
and     ecx, 8
push    ecx
push    8
push    0fffffff0h
push    eax
call    sub_278119ca
mov     [ebp+arg_4], edi
mov     [ebp+var_4], edi
test    bl, 80h
jz      short loc_277fe787
push    esi
call    sub_277fe65c
mov     [ebp+var_4], edi
mov     [ebp+arg_4], edi
cmp     [ebp+hdc], 0
jz      short loc_277fe79c
push    [ebp+arg_8]
push    esi
call    sub_277fe821
mov     [ebp+var_4], edi
mov     [ebp+arg_4], edi
mov     eax, 100h
test    eax, ebx
jz      short loc_277fe7b5
test    [esi+8], eax
jz      short loc_277fe7b5
push    0
push    esi
call    sub_2781aef6
mov     [ebp+arg_4], edi
cmp     [ebp+var_4], 0
jz      short loc_277fe7f6
push    esi
call    sub_277ffcba
mov     eax, [esi+54h]
test    eax, eax
jge     short loc_277fe7d2
push    2
push    0ffffffffh
push    esi
call    sub_27801fa0
cmp     eax, 0ffffffffh
jnz     short loc_277fe7ee
test    byte ptr [esi+9], 10h
jz      short loc_277fe81a
mov     ecx, [esi+15ch]
test    ecx, ecx
jle     short loc_277fe7e9
xor     eax, eax
cmp     eax, 0ffffffffh
jz      short loc_277fe7f6
push    edi
push    eax
push    esi
call    sub_277ffbc1
xor     eax, eax
cmp     [ebp+arg_4], eax
jz      short loc_277fe809
push    5
push    eax
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_277fe716
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     short loc_277fe7e3
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
mov     esi, [ebp+hmem]
and     edi, 3
mov     eax, edi
push    0
dec     eax
pop     ebx
jnz     short loc_277fe86c
push    ebx
push    dword ptr [esi+128h]
call    ds:showwindow
test    byte ptr [ebp+arg_4+1], 4
jz      short loc_277fe86c
mov     ebx, [esi+144h]
mov     edx, [esi+0a4h]
lea     ecx, [esi+144h]
lea     eax, [esi+0a4h]
mov     [eax], ebx
mov     [ecx], edx
xor     ebx, ebx
mov     ecx, [esi+8]
mov     eax, ecx
and     eax, 3
sub     eax, ebx
jz      short loc_277fe8df
dec     eax
jz      short loc_277fe8c5
dec     eax
jz      short loc_277fe8bb
dec     eax
jnz     short loc_277fe895
test    ch, 10h
jz      short loc_277fe8b4
mov     eax, [esi+15ch]
dec     eax
push    eax
push    ebx
push    esi
call    sub_2781d0f0
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+rect.right]
pop     edi
mov     [esi+68h], eax
mov     eax, [ebp+rect.bottom]
mov     [esi+6ch], eax
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277fe88c
push    1
push    esi
call    sub_2781bd3b
jmp     short loc_277fe895
cmp     edi, 1
jz      short loc_277fe8d6
mov     eax, [esi+0a4h]
mov     [esi+144h], eax
push    ebx
push    esi
call    sub_2781d151
jmp     short loc_277fe895
push    ebx
jmp     short loc_277fe8bd
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+nbar]
test    esi, esi
jnz     short loc_277fe8f5
or      eax, 0ffffffffh
pop     esi
pop     ebp
retn    8
mov     eax, [esi]
or      dword ptr [esi+0ch], 0ffffffffh
and     [ebp+nbar], 0
mov     ecx, [esi+4]
push    edi
mov     edi, [ebp+hdc]
test    eax, eax
push    ebx
jge     short loc_277fe960
mov     [ebp+nbar], 40h
test    ecx, ecx
jge     short loc_277fe96e
or      [ebp+nbar], 8
cmp     [ebp+nbar], 0
jnz     short loc_277fe937
mov     edx, [edi+8]
lea     ebx, [ebp+nbar]
push    ebx
push    ecx
and     edx, 3
push    eax
push    edi
call    ds:funcs_277fb80d[edx*4]
mov     [esi+0ch], eax
mov     eax, [ebp+nbar]
mov     [esi+8], eax
test    byte ptr [edi+9], 10h
jz      short loc_277fe979
mov     edi, [edi+15ch]
cmp     [esi+0ch], edi
jl      short loc_277fe959
or      dword ptr [esi+0ch], 0ffffffffh
mov     dword ptr [esi+8], 1
mov     eax, [esi+0ch]
pop     ebx
pop     edi
jmp     short loc_277fe8f0
cmp     eax, [edi+68h]
jl      short loc_277fe912
mov     [ebp+nbar], 20h
jmp     short loc_277fe912
cmp     ecx, [edi+6ch]
jl      short loc_277fe91a
or      [ebp+nbar], 10h
jmp     short loc_277fe91a
mov     eax, [edi+18h]
mov     edi, [eax]
jmp     short loc_277fe949
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
mov     ecx, [ebp+arg_0]
sub     eax, [ebp+arg_4]
lea     eax, [eax+ecx-1]
cdq
idiv    [ebp+arg_8]
imul    eax, [ebp+arg_8]
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 1ch
mov     eax, [ebp+arg_0]
lea     ecx, [ebp+var_1c]
push    ecx
mov     [ebp+var_1c.cbsize], 1ch
push    [ebp+nbar]
mov     [ebp+var_1c.fmask], 7
test    byte ptr [eax+21h], 1
push    dword ptr [eax]
jz      short loc_277fe9ef
call    sub_277e4223
test    eax, eax
jz      short loc_277fea04
cmp     [ebp+arg_8], 0
jz      short loc_277fe9f7
cmp     [ebp+var_1c.npage], 0
jz      short loc_277fe9e0
push    1
pop     eax
sub     eax, [ebp+var_1c.npage]
add     [ebp+var_1c.nmax], eax
mov     ecx, [ebp+var_1c.nmax]
xor     eax, eax
cmp     [ebp+var_1c.npos], ecx
setl    al
leave
retn    0ch
call    ds:getscrollinfo
jmp     short loc_277fe9c7
mov     ecx, [ebp+var_1c.npos]
xor     eax, eax
cmp     ecx, [ebp+var_1c.nmin]
setnle  al
jmp     short locret_277fe9eb
xor     eax, eax
jmp     short locret_277fe9eb
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_10]
push    ebx
xor     ebx, ebx
push    esi
mov     esi, [ebp+arg_0]
mov     [eax], ebx
mov     eax, [ebp+arg_c]
push    edi
mov     [eax], ebx
mov     ecx, [esi+8]
test    ecx, 300000h
jz      loc_277feaec
mov     eax, [esi+0bch]
push    10h
cdq
pop     edi
idiv    edi
push    1
pop     edx
mov     edi, eax
mov     eax, ecx
and     eax, 3
mov     [ebp+arg_0], edi
cmp     eax, edx
jnz     short loc_277fea5d
cmp     [ebp+arg_0], ebx
mov     edi, [esi+0a4h]
jnz     short loc_277fea5d
mov     ebx, [esi+94h]
mov     [ebp+arg_0], ebx
cmp     eax, 3
jnz     short loc_277fea6b
mov     eax, [esi+0a0h]
mov     [ebp+arg_0], eax
cmp     [ebp+arg_0], 0
jnz     short loc_277fea74
mov     [ebp+arg_0], edx
test    edi, edi
jnz     short loc_277fea7a
mov     edi, edx
test    ecx, 200000h
jz      short loc_277feaa5
mov     ebx, [ebp+arg_8]
cmp     ebx, [esi+6ch]
jl      short loc_277feaf3
push    edx
push    edx
push    esi
call    sub_277fe99c
test    eax, eax
jz      short loc_277feaa5
push    edi
push    dword ptr [esi+6ch]
push    ebx
call    sub_277fe980
mov     ecx, [ebp+arg_10]
mov     [ecx], eax
test    byte ptr [esi+0ah], 10h
jz      short loc_277fead2
mov     edi, [ebp+arg_4]
cmp     edi, [esi+68h]
jl      short loc_277feb11
push    1
push    0
push    esi
call    sub_277fe99c
test    eax, eax
jz      short loc_277fead2
push    [ebp+arg_0]
push    dword ptr [esi+68h]
push    edi
call    sub_277fe980
mov     ecx, [ebp+arg_c]
mov     [ecx], eax
mov     eax, [ebp+arg_c]
cmp     dword ptr [eax], 0
jnz     short loc_277feae2
mov     ecx, [ebp+arg_10]
cmp     dword ptr [ecx], 0
jz      short loc_277feaec
push    [ebp+arg_10]
push    eax
push    esi
call    sub_277ffa4b
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    14h
test    ebx, ebx
jg      short loc_277feaa5
push    0
push    edx
push    esi
call    sub_277fe99c
test    eax, eax
jz      short loc_277feaa5
push    edi
push    ebx
push    0
call    sub_277fe980
neg     eax
jmp     short loc_277feaa0
test    edi, edi
jg      short loc_277fead2
push    0
push    0
push    esi
call    sub_277fe99c
test    eax, eax
jz      short loc_277fead2
push    [ebp+arg_0]
push    edi
push    0
call    sub_277fe980
neg     eax
jmp     short loc_277feacd
mov     eax, [esp+arg_0]
mov     ecx, [eax]
mov     edx, [eax+8]
cmp     ecx, edx
jle     short loc_277feb44
mov     [eax], edx
mov     [eax+8], ecx
mov     ecx, [eax+0ch]
mov     edx, [eax+4]
cmp     ecx, edx
jge     short locret_277feb54
mov     [eax+0ch], edx
mov     [eax+4], ecx
retn    4
push    ebx
mov     ebx, [esp+4+arg_4]
push    esi
mov     esi, [esp+8+arg_8]
push    edi
mov     edi, [esp+0ch+arg_0]
test    byte ptr [edi+0ah], 20h
jz      short loc_277feb82
mov     eax, [ebx+4]
cmp     eax, [esi+0ch]
jl      short loc_277feba6
push    1
push    1
push    edi
call    sub_277fe99c
test    eax, eax
jnz     short loc_277feb9d
test    byte ptr [edi+0ah], 10h
jz      short loc_277febb7
mov     eax, [ebx]
cmp     eax, [esi+8]
jl      short loc_277febaf
push    1
push    0
push    edi
call    sub_277fe99c
test    eax, eax
jz      short loc_277febb7
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    0ch
cmp     eax, [esi+4]
jg      short loc_277feb82
push    0
jmp     short loc_277feb76
cmp     eax, [esi]
jg      short loc_277febb7
push    0
jmp     short loc_277feb91
xor     eax, eax
jmp     short loc_277feba0
push    ebp
mov     ebp, esp
sub     esp, 0bch
xor     eax, eax
push    ebx
mov     [ebp+var_40], eax
mov     [ebp+var_30], eax
mov     [ebp+ho], eax
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_4]
push    esi
mov     [ebp+rc.right], eax
mov     [ebp+rc.left], eax
mov     eax, [ebp+arg_8]
push    edi
lea     esi, [ebp+rc]
lea     edi, [ebp+rc2]
mov     [ebp+rc.bottom], eax
mov     [ebp+rc.top], eax
movsd
mov     ebx, [ebp+hmem]
movsd
mov     ecx, [ebx]
movsd
push    ecx
mov     [ebp+hwnd], ecx
movsd
call    ds:updatewindow
test    byte ptr [ebx+21h], 2
jz      loc_277fed02
mov     esi, ds:createrectrgn
xor     edi, edi
push    edi
push    edi
push    edi
push    edi
call    esi
cmp     eax, edi
mov     [ebp+ho], eax
jz      loc_277fed85
push    edi
push    edi
push    edi
push    edi
call    esi
cmp     eax, edi
mov     [ebp+var_10], eax
jz      loc_277fed85
push    [ebp+hwnd]
call    ds:getparent
push    eax
call    ds:lockwindowupdate
test    eax, eax
jz      loc_277fed85
push    420h
push    edi
push    [ebp+hwnd]
call    ds:getdcex
mov     [ebp+hdc], eax
mov     [ebp+var_30], 1
mov     esi, [ebp+hwnd]
push    esi
call    ds:setcapture
lea     eax, [ebp+rc]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
lea     eax, [ebp+rect]
push    eax
push    esi
call    ds:getclientrect
lea     eax, [ebp+var_ac]
push    eax
push    esi
call    ds:getwindowrect
call    ds:gettickcount
call    ds:getcapture
cmp     eax, esi
jnz     loc_277fed6e
push    1
push    edi
push    edi
lea     eax, [ebp+msg]
push    edi
push    eax
call    ds:peekmessagea
test    eax, eax
jnz     short loc_277fed15
push    [ebp+msg.pt.y]
lea     eax, [ebp+var_ac]
push    [ebp+msg.pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_277fecf7
lea     eax, [ebp+var_ac]
push    eax
lea     eax, [ebp+msg.pt]
push    eax
push    ebx
call    sub_277feb57
test    eax, eax
jz      short loc_277fecf7
push    [ebp+msg.pt.y]
push    [ebp+msg.pt.x]
call    ds:setcursorpos
call    ds:getcapture
mov     esi, [ebp+hwnd]
jmp     short loc_277feca4
push    [ebp+hwnd]
call    ds:getdc
mov     [ebp+hdc], eax
xor     edi, edi
jmp     loc_277fec65
lea     eax, [ebp+msg]
push    4202h
push    eax
call    ds:callmsgfiltera
test    eax, eax
jnz     short loc_277fecf7
mov     eax, [ebp+msg.message]
mov     ecx, 113h
cmp     eax, ecx
ja      loc_277feef2
jz      short loc_277fedb2
add     ecx, 0ffffffedh
cmp     eax, ecx
jz      short loc_277fed60
jbe     short loc_277fed4a
cmp     eax, 102h
jbe     short loc_277fecf7
lea     eax, [ebp+msg]
push    eax
call    ds:translatemessage
lea     eax, [ebp+msg]
push    eax
call    ds:dispatchmessagea
jmp     short loc_277fecf7
cmp     [ebp+msg.wparam], 1bh
jnz     short loc_277fecf7
push    0ffffffffh
push    ebx
call    sub_277fd969
lea     eax, [ebp+rc2]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
push    [ebp+hdc]
push    esi
call    ds:releasedc
cmp     [ebp+ho], edi
mov     esi, ds:deleteobject
jz      short loc_277fed95
push    [ebp+ho]
call    esi
cmp     [ebp+var_10], edi
jz      short loc_277fed9f
push    [ebp+var_10]
call    esi
cmp     [ebp+var_30], edi
jz      short loc_277fedab
push    edi
call    ds:lockwindowupdate
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     [ebp+msg.wparam], 2ch
jnz     short loc_277fed4a
mov     eax, [ebp+msg.pt.x]
or      [ebp+var_3c], 0ffffffffh
mov     [ebp+point.x], eax
mov     eax, [ebp+msg.pt.y]
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
push    esi
call    ds:screentoclient
call    ds:gettickcount
lea     eax, [ebp+var_34]
push    eax
lea     eax, [ebp+var_38]
push    eax
push    [ebp+point.y]
push    [ebp+point.x]
push    ebx
call    sub_277fea08
mov     eax, [ebp+arg_8]
mov     ecx, [ebp+arg_4]
sub     eax, [ebp+var_34]
sub     ecx, [ebp+var_38]
mov     edx, [ebp+point.x]
mov     [ebp+arg_8], eax
mov     [ebp+rc.top], eax
mov     eax, [ebp+rect.right]
mov     [ebp+arg_4], ecx
mov     [ebp+rc.left], ecx
mov     ecx, [ebp+point.y]
cmp     edx, eax
mov     [ebp+rc.right], edx
mov     [ebp+rc.bottom], ecx
jle     short loc_277fee1e
mov     [ebp+rc.right], eax
mov     eax, [ebp+rect.left]
cmp     [ebp+rc.right], eax
jge     short loc_277fee2c
mov     [ebp+rc.right], eax
mov     eax, [ebp+rect.bottom]
cmp     ecx, eax
jle     short loc_277fee39
mov     [ebp+rc.bottom], eax
mov     eax, [ebp+rect.top]
cmp     [ebp+rc.bottom], eax
jge     short loc_277fee47
mov     [ebp+rc.bottom], eax
lea     eax, [ebp+rc]
push    eax
call    sub_277feb32
lea     eax, [ebp+rc2]
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:equalrect
test    eax, eax
jnz     loc_277fecf7
lea     eax, [ebp+rc2]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
mov     eax, [ebp+var_38]
mov     ecx, [ebp+var_34]
cmp     eax, edi
jnz     short loc_277fee81
cmp     ecx, edi
jz      short loc_277fee8f
push    ecx
push    eax
push    ebx
call    sub_277ffb30
mov     ecx, [ebp+var_34]
mov     eax, [ebp+var_38]
neg     ecx
neg     eax
push    ecx
push    eax
lea     eax, [ebp+rc2]
push    eax
call    ds:offsetrect
lea     eax, [ebp+rc2]
push    eax
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:unionrect
mov     eax, [ebx+8]
mov     ecx, eax
and     ecx, 3
cmp     ecx, 1
jnz     short loc_277fef34
mov     ecx, [ebx+138h]
mov     eax, [ebp+rcdst.top]
sub     ecx, [ebx+12ch]
mov     esi, [ebx+0a4h]
add     eax, ecx
cdq
idiv    esi
mov     [ebp+hmem], eax
mov     eax, [ebp+rcdst.bottom]
add     eax, ecx
cdq
idiv    esi
inc     eax
mov     [ebp+var_8], eax
jmp     loc_277fef9a
sub     eax, 200h
jz      loc_277fedb8
dec     eax
jz      short loc_277fef29
dec     eax
jz      short loc_277fef15
dec     eax
dec     eax
jz      short loc_277fef29
dec     eax
jz      short loc_277fef15
dec     eax
dec     eax
jz      short loc_277fef29
dec     eax
jnz     loc_277fed4a
lea     eax, [ebp+msg]
push    eax
call    ds:translatemessage
lea     eax, [ebp+msg]
push    eax
call    ds:dispatchmessagea
push    ebx
call    sub_277bf76d
jmp     loc_277fed6e
cmp     ecx, 3
jnz     loc_277ff135
mov     ecx, [ebx+9ch]
mov     eax, [ebp+rcdst.left]
mov     esi, [ebx+0a0h]
add     eax, ecx
cdq
idiv    esi
mov     edi, [ebx+0a8h]
imul    eax, edi
mov     edi, [ebx+0a4h]
mov     [ebp+hmem], eax
mov     eax, [ebp+rcdst.top]
cdq
idiv    edi
mov     edx, [ebp+hmem]
add     edx, eax
mov     eax, [ebp+rcdst.right]
add     eax, ecx
mov     [ebp+hmem], edx
cdq
idiv    esi
mov     ecx, eax
mov     eax, [ebp+rcdst.bottom]
cdq
imul    ecx, [ebx+0a8h]
idiv    edi
xor     edi, edi
lea     eax, [ecx+eax+1]
mov     [ebp+var_8], eax
mov     edx, [ebx+8]
and     edx, 1000h
jz      loc_277ff164
mov     ecx, [ebx+15ch]
cmp     eax, ecx
jle     short loc_277fefc4
cmp     edx, edi
jz      loc_277ff16e
mov     eax, [ebx+15ch]
mov     [ebp+var_8], eax
cmp     [ebp+hmem], edi
jge     short loc_277fefcc
mov     [ebp+hmem], edi
cmp     edx, edi
jz      short loc_277fefe3
cmp     [ebp+hmem], eax
jge     short loc_277fefe3
dec     eax
push    eax
push    [ebp+hmem]
push    ebx
call    sub_277f9d8c
mov     eax, [ebp+var_8]
cmp     [ebp+var_40], edi
jz      short loc_277feff2
test    byte ptr [ebp+msg.wparam], 0ch
jnz     short loc_277feff2
or      dword ptr [ebx+58h], 0ffffffffh
cmp     [ebp+hmem], eax
jge     loc_277ff0b8
lea     eax, [ebp+rcsrc2]
push    eax
push    edi
push    edi
push    edi
push    [ebp+hmem]
push    ebx
call    sub_27802300
mov     ecx, [ebx+8]
and     ecx, 3
cmp     ecx, 1
jnz     short loc_277ff01c
test    byte ptr [ebx+20h], 20h
jnz     short loc_277ff055
mov     eax, [ebp+rcsrc2.right]
push    4
sub     eax, [ebp+rcsrc2.left]
pop     esi
cdq
idiv    esi
cmp     ecx, 3
mov     esi, eax
jnz     short loc_277ff03b
mov     eax, [ebx+94h]
cmp     esi, eax
jl      short loc_277ff03b
mov     esi, eax
mov     eax, [ebp+rcsrc2.bottom]
push    0fffffffch
sub     eax, [ebp+rcsrc2.top]
pop     ecx
neg     esi
cdq
idiv    ecx
push    eax
lea     eax, [ebp+rcsrc2]
push    esi
push    eax
call    ds:inflaterect
lea     eax, [ebp+rcsrc2]
mov     edi, ds:intersectrect
push    eax
lea     eax, [ebp+rc2]
push    eax
lea     eax, [ebp+var_bc]
push    eax
call    edi
mov     esi, eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rc]
neg     esi
push    eax
lea     eax, [ebp+var_bc]
sbb     esi, esi
push    eax
neg     esi
call    edi
mov     edi, eax
neg     edi
sbb     edi, edi
neg     edi
test    byte ptr [ebp+msg.wparam], 8
mov     [ebp+var_40], edi
jz      loc_277ff17f
cmp     esi, edi
jz      short loc_277ff0a7
push    [ebp+hmem]
push    ebx
call    sub_277fda2d
inc     [ebp+hmem]
mov     eax, [ebp+hmem]
cmp     eax, [ebp+var_8]
jl      loc_277ff178
xor     edi, edi
cmp     [ebp+var_30], edi
jz      loc_277ff1d7
mov     esi, [ebp+ho]
push    edi
push    esi
push    dword ptr [ebx]
call    ds:getupdatergn
cmp     eax, 1
jle     short loc_277ff117
push    edi
push    dword ptr [ebx]
call    ds:validaterect
push    [ebp+var_10]
push    dword ptr [ebx]
call    ds:getwindowrgn
push    1
push    [ebp+var_10]
push    esi
push    esi
call    ds:combinergn
push    esi
mov     esi, ds:selectcliprgn
push    [ebp+hdc]
call    esi
push    edi
push    [ebp+hdc]
push    318h
push    dword ptr [ebx]
call    ds:sendmessagea
push    edi
push    [ebp+hdc]
call    esi
lea     eax, [ebp+rc]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
lea     esi, [ebp+rc]
lea     edi, [ebp+rc2]
movsd
movsd
movsd
movsd
xor     edi, edi
jmp     loc_277fecf7
test    ah, 10h
jz      short loc_277ff157
lea     eax, [ebp+var_8]
push    eax
lea     eax, [ebp+hmem]
push    eax
lea     eax, [ebp+rcdst]
push    eax
push    ebx
call    sub_2781a167
mov     eax, [ebp+var_8]
jmp     loc_277fef9a
mov     eax, [ebx+18h]
mov     [ebp+hmem], edi
mov     eax, [eax]
jmp     loc_277feeea
mov     ecx, [ebx+18h]
mov     ecx, [ecx]
jmp     loc_277fefaf
mov     eax, [ebx+18h]
mov     eax, [eax]
jmp     loc_277fefc1
xor     edi, edi
jmp     loc_277feffb
cmp     esi, edi
jz      short loc_277ff198
neg     esi
sbb     esi, esi
push    2
and     esi, 0fffffffeh
inc     esi
inc     esi
push    esi
push    [ebp+hmem]
push    ebx
call    sub_27800816
test    edi, edi
jz      loc_277ff0a7
test    byte ptr [ebp+msg.wparam], 0ch
jnz     loc_277ff0a7
mov     ecx, [ebp+rcsrc2.top]
mov     eax, [ebp+rcsrc2.left]
sub     ecx, [ebp+point.y]
sub     eax, [ebp+point.x]
mov     edx, ecx
imul    eax, eax
imul    edx, ecx
add     eax, edx
cmp     eax, [ebp+var_3c]
jle     loc_277ff0a7
mov     [ebp+var_3c], eax
mov     eax, [ebp+hmem]
mov     [ebx+58h], eax
jmp     loc_277ff0a7
push    dword ptr [ebx]
call    ds:updatewindow
jmp     loc_277ff117
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
test    al, 4
jz      short loc_277ff217
not     eax
shr     eax, 3
and     eax, 1
push    eax
push    [ebp+arg_4]
push    [ebp+hmem]
call    sub_277fda58
push    0
push    0
push    1
push    [ebp+arg_4]
push    [ebp+hmem]
call    sub_277fddd7
pop     ebp
retn    10h
test    al, 8
jnz     short loc_277ff213
xor     eax, eax
push    0
cmp     [ebp+arg_c], eax
setz    al
push    eax
jmp     short loc_277ff206
push    ebx
push    esi
mov     esi, 0f000h
push    edi
mov     edi, [esp+0ch+hmem]
push    esi
push    [esp+10h+arg_4]
push    edi
call    sub_278007e2
push    dword ptr [edi+148h]
mov     ebx, eax
call    sub_278139c8
mov     ecx, eax
mov     eax, ebx
sar     eax, 0ch
and     eax, 0fh
push    esi
cdq
idiv    ecx
inc     edx
shl     edx, 0ch
push    edx
push    [esp+14h+arg_4]
push    edi
call    sub_27800816
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, [esp+arg_0]
test    byte ptr [eax+20h], 20h
jz      short loc_277ff2a5
mov     eax, [eax+8]
mov     ecx, eax
and     ecx, 3
cmp     cl, 1
jnz     short loc_277ff2a5
test    al, 4
jnz     short loc_277ff2a5
test    ah, 4
jnz     short loc_277ff2a5
mov     eax, [esp+arg_c]
cmp     dword ptr [eax+10h], 0
jnz     short loc_277ff2a5
cmp     dword ptr [eax+8], 0eh
jnz     short loc_277ff2a5
push    1
pop     eax
retn    10h
xor     eax, eax
jmp     short locret_277ff2a2
push    ebp
mov     ebp, esp
sub     esp, 58h
push    ebx
mov     ebx, [ebp+hmem]
push    esi
xor     esi, esi
mov     eax, [ebx+0e8h]
mov     ecx, [ebx]
test    al, 2
push    edi
mov     [ebp+hwnd], ecx
jnz     loc_277ff4c2
or      al, 2
test    byte ptr [ebx+20h], 40h
mov     [ebx+0e8h], eax
jz      short loc_277ff310
test    al, 8
jz      short loc_277ff310
test    al, 4
jz      short loc_277ff310
push    2eh
push    ecx
call    ds:killtimer
and     dword ptr [ebx+0e8h], 0fffffff7h
lea     eax, [ebx+0ech]
push    eax
push    0ffffff8eh
push    ebx
call    sub_277b9838
push    [ebp+hwnd]
call    ds:iswindow
test    eax, eax
jz      loc_277ff4c2
mov     edi, [ebx]
call    ds:getfocus
sub     eax, edi
push    edi
neg     eax
sbb     eax, eax
inc     eax
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_10]
mov     ecx, eax
and     cl, 2
neg     cl
sbb     ecx, ecx
and     ecx, 0fffffffdh
not     eax
dec     ecx
and     eax, 2
dec     ecx
or      eax, 0ffffff91h
mov     [ebp+hmem], ecx
mov     [ebp+var_14], eax
call    sub_2780569f
test    eax, eax
jnz     loc_277ff4c9
call    sub_277faede
test    eax, eax
jnz     loc_277ff4c9
push    dword ptr [ebx]
call    sub_277faf20
test    eax, eax
jnz     loc_277ff4c9
and     [ebp+var_c], eax
push    dword ptr [ebx]
call    ds:setcapture
push    0
push    ebx
call    sub_2781bb07
test    eax, eax
jnz     short loc_277ff390
call    ds:getcapture
cmp     eax, [ebx]
jnz     loc_277ff4ae
push    ebx
call    sub_277bf76d
test    byte ptr [ebx+8], 4
jz      short loc_277ff3a0
and     [ebp+arg_10], 0fffffff3h
mov     eax, [ebp+arg_8]
mov     [ebp+var_28], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_24], eax
lea     eax, [ebp+var_28]
push    eax
push    ebx
call    sub_2781eb08
mov     edi, eax
mov     eax, [ebp+var_18]
test    eax, eax
jz      short loc_277ff3d5
test    byte ptr [ebx+20h], 20h
jnz     short loc_277ff3d5
test    byte ptr [ebx+9], 4
jnz     short loc_277ff3d5
or      edi, 0ffffffffh
mov     [ebp+var_20], 1
and     [ebp+var_3c], 0
mov     [ebp+var_48], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_4c], edi
mov     [ebp+var_38], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_34], eax
call    sub_277fded7
and     [ebp+var_44], 0
mov     [ebp+var_2c], eax
test    edi, edi
mov     [ebx+170h], edi
jl      loc_277ff4d5
push    2
push    edi
push    ebx
call    sub_278007e2
test    eax, eax
jz      loc_277ff4d5
mov     [ebp+var_8], 1
cmp     [ebp+arg_4], 0
jz      loc_277ff4de
push    2ah
push    8
push    ebx
call    sub_277ff80f
push    2bh
push    dword ptr [ebx]
call    ds:killtimer
test    byte ptr [ebp+var_20], 1
jz      short loc_277ff44f
test    byte ptr [ebp+arg_10], 0ch
jnz     short loc_277ff44f
push    0ffffffffh
push    ebx
call    sub_277fd969
mov     eax, [ebp+arg_10]
and     al, 2
neg     al
sbb     eax, eax
and     al, 0fdh
add     eax, 0fffffffdh
mov     esi, eax
lea     eax, [ebp+lparam]
push    eax
push    esi
push    ebx
call    sub_277b9838
push    [ebp+hwnd]
mov     edi, ds:iswindow
call    edi
test    eax, eax
jz      short loc_277ff4c2
cmp     esi, 0fffffffdh
jnz     short loc_277ff4a5
test    byte ptr [ebp+var_20], 6
jz      short loc_277ff4a5
test    byte ptr [ebx+20h], 40h
jz      short loc_277ff499
test    byte ptr [ebx+0e8h], 4
jz      short loc_277ff499
test    byte ptr [ebp+arg_10], 0ch
jz      short loc_277ff4a5
lea     eax, [ebp+lparam]
push    eax
push    0ffffff8eh
push    ebx
call    sub_277b9838
push    [ebp+hwnd]
call    edi
test    eax, eax
jz      short loc_277ff4c2
push    [ebp+hwnd]
call    ds:iswindow
test    eax, eax
jz      short loc_277ff4c2
and     dword ptr [ebx+0e8h], 0fffffffdh
pop     edi
pop     esi
pop     ebx
leave
retn    18h
mov     [ebp+var_c], 1
jmp     loc_277ff36e
and     [ebp+var_8], 0
jmp     loc_277ff41d
test    byte ptr [ebp+var_20], 6
jz      loc_277ff70f
push    offset accselect
call    sub_27811796
mov     eax, [ebp+arg_10]
mov     [ebp+arg_4], eax
and     [ebp+arg_4], 2
jz      short loc_277ff502
test    al, 0ch
jnz     short loc_277ff50d
push    [ebp+var_8]
push    eax
push    edi
push    ebx
call    sub_277ff1e4
xor     esi, esi
cmp     [ebp+arg_14], esi
jnz     loc_277ff598
push    [ebp+arg_c]
push    [ebp+arg_8]
push    dword ptr [ebx]
call    sub_27810ea0
test    eax, eax
jz      short loc_277ff598
lea     eax, [ebp+var_28]
push    eax
push    [ebp+arg_c]
push    [ebp+arg_8]
push    ebx
call    sub_277ff26f
test    eax, eax
jz      short loc_277ff575
lea     eax, [ebp+lparam]
push    eax
push    0ffffff64h
push    ebx
call    sub_277b9838
test    eax, eax
jnz     short loc_277ff575
push    [ebp+arg_c]
push    [ebp+arg_8]
push    ebx
call    sub_277febbb
lea     eax, [ebp+lparam]
push    eax
push    [ebp+hmem]
push    ebx
call    sub_277b9838
mov     esi, eax
neg     esi
sbb     esi, esi
inc     esi
jmp     loc_277ff6a6
test    byte ptr [ebp+arg_10], 4
jnz     short loc_277ff57e
mov     [ebx+58h], edi
push    dword ptr [ebx]
call    ds:updatewindow
lea     eax, [ebp+lparam]
push    eax
push    [ebp+var_14]
push    ebx
call    sub_277b9838
jmp     loc_277ff4ae
cmp     [ebp+arg_4], esi
jnz     short loc_277ff5b7
test    byte ptr [ebp+arg_10], 8
jz      short loc_277ff5b7
test    byte ptr [ebp+arg_10], 4
jz      loc_277ff6d0
push    esi
push    esi
push    esi
push    edi
push    ebx
call    sub_277fddd7
mov     eax, [ebp+arg_10]
and     eax, 4
mov     [ebp+arg_c], eax
jnz     short loc_277ff5c5
mov     [ebx+58h], edi
push    dword ptr [ebx]
call    sub_277fb9ad
test    eax, eax
jz      loc_277ff4c2
cmp     [ebp+arg_c], esi
jnz     short loc_277ff60d
test    byte ptr [ebp+arg_10], 8
jnz     short loc_277ff60d
cmp     [ebp+arg_4], esi
jnz     short loc_277ff60d
push    edi
push    ebx
call    sub_277fd969
test    byte ptr [ebp+var_20], 4
jz      short loc_277ff60d
cmp     [ebp+var_8], esi
jz      short loc_277ff60d
test    byte ptr [ebx+20h], 0c0h
jnz     short loc_277ff60d
cmp     [ebp+var_10], esi
jnz     short loc_277ff607
test    byte ptr [ebx+9], 4
jz      short loc_277ff60d
push    ebx
call    sub_277ff8f5
lea     eax, [ebp+lparam]
push    eax
push    [ebp+hmem]
push    ebx
call    sub_277b9838
push    [ebp+hwnd]
mov     edi, ds:iswindow
mov     esi, eax
neg     esi
sbb     esi, esi
inc     esi
mov     [ebp+arg_8], esi
call    edi
test    eax, eax
jz      loc_277ff4c2
mov     edx, [ebx+20h]
test    dl, 0c0h
jz      short loc_277ff6a6
cmp     [ebp+arg_4], 0
jnz     short loc_277ff6a6
mov     eax, edx
and     eax, 40h
jz      short loc_277ff655
test    byte ptr [ebx+0e8h], 4
jnz     short loc_277ff65b
cmp     [ebp+var_8], 0
jz      short loc_277ff6a6
cmp     [ebp+var_c], 0
jz      short loc_277ff6a6
xor     ecx, ecx
cmp     eax, ecx
jz      short loc_277ff675
test    byte ptr [ebp+arg_10], 8
jnz     short loc_277ff675
cmp     [ebp+arg_c], ecx
jnz     short loc_277ff675
push    1
pop     ecx
cmp     [ebp+var_8], 0
jz      short loc_277ff680
test    dl, 80h
jnz     short loc_277ff68d
mov     eax, dword_2782c3bc
test    ecx, ecx
jz      short loc_277ff6da
test    eax, eax
jnz     short loc_277ff6da
lea     eax, [ebp+lparam]
push    eax
push    0ffffff8eh
push    ebx
call    sub_277b9838
push    [ebp+hwnd]
call    edi
test    eax, eax
jz      loc_277ff4c2
test    esi, esi
jz      loc_277ff4ae
cmp     [ebp+hmem], 0fffffffbh
jnz     loc_277ff4ae
mov     esi, [ebx]
call    ds:getmessagepos
push    eax
push    esi
push    7bh
push    esi
call    ds:sendmessagea
jmp     loc_277ff4ae
push    1
push    esi
push    1
jmp     loc_277ff5b0
test    ecx, ecx
jz      short loc_277ff6a6
test    eax, eax
jz      short loc_277ff6a6
or      dword ptr [ebx+0e8h], 8
push    0ch
lea     edi, [ebx+0ech]
pop     ecx
lea     esi, [ebp+lparam]
push    0
rep movsd
call    ds:getdoubleclicktime
push    eax
push    2eh
push    dword ptr [ebx]
call    ds:settimer
mov     esi, [ebp+arg_8]
jmp     short loc_277ff6a6
test    byte ptr [ebp+var_20], 8
jz      short loc_277ff754
push    dword ptr [ebx]
call    sub_277fb9ad
test    eax, eax
jz      loc_277ff4c2
lea     eax, [ebp+lparam]
push    eax
push    [ebp+hmem]
push    ebx
call    sub_277b9838
mov     esi, eax
neg     esi
sbb     esi, esi
inc     esi
jz      loc_277ff6a6
test    byte ptr [ebx+20h], 4
jz      loc_277ff6a6
push    edi
push    ebx
call    sub_277ff228
jmp     loc_277ff6a6
test    byte ptr [ebp+var_20], 1
jz      loc_277ff6a6
push    dword ptr [ebx]
call    sub_277fb9ad
test    eax, eax
jz      loc_277ff4c2
test    byte ptr [ebx+8], 4
jnz     short loc_277ff7b0
push    [ebp+arg_c]
push    [ebp+arg_8]
push    dword ptr [ebx]
call    sub_27810ea0
test    eax, eax
jz      short loc_277ff7b0
lea     eax, [ebp+lparam]
push    eax
push    0ffffff64h
push    ebx
call    sub_277b9838
test    eax, eax
jnz     short loc_277ff7b0
test    byte ptr [ebp+arg_10], 0ch
jnz     short loc_277ff7a5
push    0ffffffffh
push    ebx
call    sub_277fd969
push    [ebp+arg_c]
push    [ebp+arg_8]
jmp     loc_277ff556
cmp     [ebp+var_10], 0
jnz     short loc_277ff7c6
test    byte ptr [ebx+8], 8
jnz     short loc_277ff7c6
test    byte ptr [ebp+arg_10], 0eh
jz      loc_277ff6a6
push    1
pop     eax
test    eax, eax
jz      loc_277ff6a6
cmp     [ebp+var_c], 0
jz      loc_277ff6a6
test    byte ptr [ebp+arg_10], 0ch
jnz     loc_277ff55c
push    0ffffffffh
push    ebx
call    sub_277fd969
jmp     loc_277ff55c
push    ebp
mov     ebp, esp
push    0
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+hmem]
call    sub_277ff2a9
pop     ebp
retn    14h
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+arg_4]
test    [esi+1ch], edi
jz      short loc_277ff837
push    [esp+8+uidevent]
push    dword ptr [esi]
call    ds:killtimer
not     edi
and     [esi+1ch], edi
push    1
pop     eax
pop     edi
pop     esi
retn    0ch
xor     eax, eax
jmp     short loc_277ff832
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     edi, [ebp+uidevent]
xor     ebx, ebx
push    edi
mov     [ebp+var_4], ebx
push    dword ptr [esi]
call    ds:killtimer
cmp     edi, 2ah
jnz     short loc_277ff89b
push    edi
push    8
push    esi
call    sub_277ff80f
test    eax, eax
jz      short loc_277ff894
lea     eax, [ebp+var_4]
push    eax
push    ebx
push    dword ptr [esi+54h]
push    esi
call    sub_2781ba16
test    eax, eax
jnz     short loc_277ff894
cmp     [ebp+var_4], ebx
jnz     short loc_277ff894
push    ebx
push    esi
call    sub_2781bb07
push    ebx
push    1
push    1
push    dword ptr [esi+54h]
push    esi
call    sub_277fddd7
pop     edi
pop     esi
pop     ebx
leave
retn    8
cmp     edi, 2bh
jnz     short loc_277ff8bd
push    edi
push    200h
push    esi
call    sub_277ff80f
test    eax, eax
jz      short loc_277ff894
push    1
push    dword ptr [esi+54h]
push    esi
call    sub_277ffbc1
jmp     short loc_277ff894
cmp     edi, 2dh
jnz     short loc_277ff8cb
or      dword ptr [esi+0e8h], 4
jmp     short loc_277ff894
cmp     edi, 2eh
jnz     short loc_277ff894
mov     eax, [esi+0e8h]
lea     ecx, [esi+0e8h]
test    al, 8
jz      short loc_277ff894
and     al, 0f7h
mov     [ecx], eax
lea     eax, [esi+0ech]
push    eax
push    0ffffff8eh
push    esi
call    sub_277b9838
jmp     short loc_277ff894
push    esi
push    0
call    ds:getdoubleclicktime
mov     esi, [esp+8+arg_0]
push    eax
push    2ah
push    dword ptr [esi]
call    ds:settimer
or      dword ptr [esi+1ch], 8
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    esi
mov     esi, [ebp+hdc]
lea     eax, [ebp+var_1c]
push    edi
test    byte ptr [esi+21h], 1
push    eax
mov     [ebp+var_1c.cbsize], 1ch
push    [ebp+nbar]
mov     [ebp+var_1c.fmask], 10h
push    dword ptr [esi]
jz      short loc_277ff986
call    sub_277e4223
mov     edi, [ebp+var_1c.ntrackpos]
test    eax, eax
jnz     short loc_277ff94c
mov     edi, [ebp+arg_8]
push    0
push    esi
call    sub_2781bb07
push    [ebp+nbar]
mov     eax, [esi+8]
and     eax, 3
push    edi
mov     edi, [ebp+arg_4]
push    edi
push    esi
call    ds:funcs_277ff963[eax*4]
cmp     edi, 1
jbe     short loc_277ff9a6
cmp     edi, 3
jbe     short loc_277ff98e
cmp     edi, 8
jnz     short loc_277ff980
and     dword ptr [esi+11ch], 0
pop     edi
pop     esi
leave
retn    10h
call    ds:getscrollinfo
jmp     short loc_277ff942
mov     ecx, [esi+11ch]
lea     eax, [esi+11ch]
cmp     ecx, 0ah
jge     short loc_277ff980
add     ecx, 3
mov     [eax], ecx
jmp     short loc_277ff980
mov     ecx, [esi+11ch]
lea     eax, [esi+11ch]
cmp     ecx, 0ah
jge     short loc_277ff980
inc     ecx
jmp     short loc_277ff9a2
push    1
push    [esp+4+arg_c]
push    [esp+8+arg_8]
push    [esp+0ch+hdc]
call    sub_277ff915
retn    10h
push    0
push    [esp+4+arg_c]
push    [esp+8+arg_8]
push    [esp+0ch+hdc]
call    sub_277ff915
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 1ch
mov     eax, [ebp+arg_0]
lea     ecx, [ebp+var_1c]
push    esi
push    ecx
push    [ebp+nbar]
mov     [ebp+var_1c.cbsize], 1ch
test    byte ptr [eax+21h], 1
push    dword ptr [eax]
mov     [ebp+var_1c.fmask], 7
jz      short loc_277ffa39
call    sub_277e4223
test    eax, eax
jz      short loc_277ffa34
mov     ecx, [ebp+var_1c.nmax]
push    1
mov     esi, [ebp+var_1c.npos]
pop     eax
sub     eax, [ebp+var_1c.npage]
mov     edx, [ebp+var_1c.nmin]
add     ecx, eax
mov     eax, [ebp+arg_8]
add     esi, eax
cmp     esi, edx
jge     short loc_277ffa41
sub     edx, esi
add     eax, edx
pop     esi
leave
retn    0ch
call    ds:getscrollinfo
jmp     short loc_277ffa12
cmp     esi, ecx
jle     short loc_277ffa34
sub     ecx, esi
add     eax, ecx
jmp     short loc_277ffa34
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
mov     ebx, [eax]
mov     eax, [ebp+arg_8]
push    edi
mov     edi, [eax]
mov     eax, [esi+8]
test    ah, 20h
jnz     short loc_277ffa9d
mov     ecx, eax
and     ecx, 3
cmp     ecx, 3
jnz     short loc_277ffab3
test    ah, 10h
jz      short loc_277ffaa6
mov     eax, [esi+15ch]
dec     eax
push    eax
push    0
push    esi
call    sub_2781d0f0
mov     ecx, [esi+0a0h]
test    ebx, ebx
jge     short loc_277ffaad
mov     eax, ebx
sub     eax, ecx
dec     eax
cdq
idiv    ecx
test    edi, edi
mov     ebx, eax
jz      short loc_277ffaf6
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277ffa7b
lea     eax, [ebx+ecx-1]
jmp     short loc_277ffa94
cmp     ecx, 1
jnz     short loc_277ffad0
mov     ecx, [esi+0a4h]
mov     eax, ecx
test    edi, edi
cdq
jle     short loc_277ffb24
sub     eax, edx
sar     eax, 1
add     eax, edi
cdq
idiv    ecx
mov     edi, eax
test    edi, edi
jz      short loc_277ffaf6
push    edi
push    1
push    esi
call    sub_277ff9e6
mov     ecx, [esi+8]
and     ecx, 3
cmp     cl, 1
jnz     short loc_277ffaf1
mov     ecx, [esi+0a4h]
imul    eax, ecx
mov     ecx, [ebp+arg_8]
mov     [ecx], eax
test    ebx, ebx
jz      short loc_277ffb1c
push    ebx
push    0
push    esi
call    sub_277ff9e6
mov     ecx, [esi+8]
and     ecx, 3
cmp     cl, 3
jnz     short loc_277ffb17
mov     ecx, [esi+0a0h]
imul    eax, ecx
mov     ecx, [ebp+arg_4]
mov     [ecx], eax
push    1
pop     eax
jmp     loc_277ffa9f
sub     eax, edx
mov     edx, eax
mov     eax, edi
sar     edx, 1
sub     eax, edx
jmp     short loc_277ffacb
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+hdc]
push    edi
mov     eax, [esi+8]
test    ah, 20h
jnz     short loc_277ffb6a
mov     edi, eax
and     edi, 3
cmp     edi, 3
jnz     short loc_277ffb78
mov     eax, [ebp+arg_4]
mov     ecx, [esi+0a0h]
test    eax, eax
jge     short loc_277ffb72
push    1
pop     edx
sub     edx, ecx
add     eax, edx
cdq
idiv    ecx
cmp     [ebp+arg_8], 0
mov     [ebp+arg_4], eax
jz      short loc_277ffb99
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    0ch
lea     eax, [eax+ecx-1]
jmp     short loc_277ffb5e
cmp     edi, 1
jnz     short loc_277ffb99
mov     ecx, [esi+0a4h]
cmp     [ebp+arg_8], 0
mov     eax, ecx
cdq
jle     short loc_277ffbb4
sub     eax, edx
sar     eax, 1
add     eax, [ebp+arg_8]
cdq
idiv    ecx
mov     [ebp+arg_8], eax
push    0
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    ds:funcs_277ffba2[edi*4]
push    esi
call    sub_277ffcba
push    1
pop     eax
jmp     short loc_277ffb6c
sub     eax, edx
mov     edx, eax
mov     eax, [ebp+arg_8]
sar     edx, 1
sub     eax, edx
jmp     short loc_277ffb93
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
xor     edi, edi
cmp     esi, edi
jl      loc_277ffcb3
mov     ebx, [ebp+hdc]
mov     ecx, [ebx+8]
test    ch, 10h
jz      short loc_277ffc21
mov     eax, [ebx+15ch]
cmp     esi, eax
jge     loc_277ffcb3
test    ch, 20h
jnz     loc_277ffcb3
push    2bh
push    200h
push    ebx
call    sub_277ff80f
mov     eax, [ebx+8]
and     eax, 3
cmp     al, 1
jnz     short loc_277ffc28
push    [ebp+arg_8]
push    esi
push    ebx
call    sub_2781f074
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [ebx+18h]
mov     eax, [eax]
jmp     short loc_277ffbe8
lea     eax, [ebp+rcdst]
push    edi
push    eax
lea     eax, [ebp+var_10]
push    edi
push    eax
push    esi
push    ebx
call    sub_27802300
cmp     [ebp+arg_8], edi
jnz     short loc_277ffc4a
lea     esi, [ebp+rcdst]
lea     edi, [ebp+var_10]
movsd
movsd
movsd
movsd
xor     edi, edi
xor     eax, eax
cmp     [ebp+var_10], edi
jl      short loc_277ffc59
mov     ecx, [ebp+var_8]
cmp     ecx, [ebx+68h]
jl      short loc_277ffc6e
mov     ecx, [ebp+rcdst.left]
cmp     ecx, edi
mov     eax, ecx
jl      short loc_277ffc6e
mov     eax, [ebp+rcdst.right]
sub     eax, [ebx+68h]
cmp     eax, edi
jg      short loc_277ffca1
xor     eax, eax
xor     ecx, ecx
cmp     [ebp+var_c], edi
jl      short loc_277ffc7d
mov     edx, [ebp+var_4]
cmp     edx, [ebx+6ch]
jl      short loc_277ffc8e
mov     ecx, [ebp+rcdst.top]
cmp     ecx, edi
jl      short loc_277ffc8e
mov     ecx, [ebp+rcdst.bottom]
sub     ecx, [ebx+6ch]
jns     short loc_277ffc8e
xor     ecx, ecx
mov     edx, ecx
or      edx, eax
jz      short loc_277ffcab
push    ecx
push    eax
push    ebx
call    sub_277ffb30
jmp     loc_277ffc1a
mov     edx, ecx
sub     edx, eax
jns     short loc_277ffc6e
mov     eax, ecx
jmp     short loc_277ffc6e
push    1
pop     eax
jmp     loc_277ffc1a
xor     eax, eax
jmp     loc_277ffc1a
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+hdc]
mov     eax, [esi+8]
test    ah, 20h
jnz     short loc_277ffd18
mov     ecx, [esi+1ch]
and     ecx, 12h
cmp     cl, 12h
jnz     short loc_277ffd18
and     eax, 3
push    esi
call    ds:funcs_277ffcdb[eax*4]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+rect.right]
push    esi
mov     [esi+68h], eax
mov     eax, [ebp+rect.bottom]
mov     [esi+6ch], eax
call    sub_27801081
mov     ecx, [esi+8]
and     eax, 100000h
and     ecx, 0ffefffffh
or      eax, ecx
or      eax, 200000h
mov     [esi+8], eax
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 400h
push    edi
mov     ecx, 100h
xor     eax, eax
lea     edi, [ebp+var_400]
rep stosd
pop     edi
leave
retn
push    ebp
mov     ebp, esp
sub     esp, 44h
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
mov     edi, 100h
test    [esi+1ch], edi
jz      short loc_277ffd61
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_277ffd61
push    eax
call    ds:deleteobject
and     byte ptr [esi+1dh], 0feh
mov     ebx, [ebp+fwinini]
test    ebx, ebx
jnz     short loc_277ffd86
lea     eax, [ebp+pvparam]
push    ebx
push    eax
push    3ch
push    1fh
call    ds:systemparametersinfoa
lea     eax, [ebp+pvparam]
push    eax
call    ds:createfontindirecta
or      [esi+1ch], edi
mov     ebx, eax
push    0
call    ds:getdc
push    ebx
push    eax
mov     [ebp+hdc], eax
call    ds:selectobject
mov     edi, ds:gettextextentpointa
lea     eax, [ebp+sz]
push    eax
push    1
push    offset a0
push    [ebp+hdc]
call    edi
mov     eax, [ebp+sz.cy]
mov     [esi+44h], eax
mov     eax, [ebp+sz._cx]
mov     [esi+48h], eax
lea     eax, [ebp+sz]
push    eax
push    3
push    offset asc_277cbad0
push    [ebp+hdc]
call    edi
push    [ebp+hdc]
mov     eax, [ebp+sz._cx]
xor     edi, edi
mov     [esi+4ch], eax
push    edi
call    ds:releasedc
push    ebx
mov     [esi+28h], ebx
call    sub_277bc9de
push    esi
mov     [esi+14h], eax
call    sub_277fe65c
mov     eax, [esi+84h]
mov     ebx, ds:sendmessagea
cmp     eax, edi
jz      short loc_277ffe08
push    edi
push    dword ptr [esi+28h]
push    30h
push    eax
call    ebx
mov     eax, [esi+128h]
cmp     eax, edi
jz      short loc_277ffe21
push    edi
push    dword ptr [esi+28h]
push    30h
push    eax
call    ebx
push    esi
call    sub_277ffcba
mov     eax, [esi+16ch]
lea     ebx, [esi+16ch]
cmp     eax, edi
jz      short loc_277ffe3a
push    eax
call    ds:deleteobject
mov     [ebx], edi
push    ebx
push    dword ptr [esi+28h]
call    sub_278118cd
cmp     [ebp+arg_8], edi
jz      short loc_277ffe54
push    5
push    edi
push    edi
push    dword ptr [esi]
call    ds:redrawwindow
call    sub_277ffd1d
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esp+arg_0]
mov     eax, [eax+28h]
retn    4
push    ebx
push    esi
push    edi
xor     edi, edi
cmp     [esp+0ch+arg_4], edi
jz      loc_277fff67
mov     esi, [esp+0ch+hdc]
mov     eax, [esi+1ch]
test    al, 10h
jnz     loc_277fff26
mov     ecx, [esi+80h]
or      al, 10h
push    1
cmp     ecx, edi
mov     [esi+1ch], eax
pop     ebx
jz      short loc_277ffec3
and     eax, 4
or      ax, 101h
cmp     ecx, ebx
jnz     short loc_277ffeab
mov     [esi+80h], edi
push    eax
push    dword ptr [esi+80h]
push    edi
push    dword ptr [esi]
call    ds:redrawwindow
push    esi
call    sub_277fcdb4
mov     edi, ebx
mov     ecx, [esi+8]
and     dword ptr [esi+1ch], 0fffffffbh
mov     eax, ecx
and     eax, 3
cmp     eax, 3
jz      short loc_277fff33
cmp     eax, ebx
jz      short loc_277fff33
mov     eax, [esi+60h]
cmp     eax, 0ffffffffh
jz      short loc_277fff07
test    ch, 10h
jz      short loc_277fff2c
mov     edi, [esi+15ch]
cmp     eax, edi
jge     short loc_277fff05
push    0
push    ebx
push    0
push    dword ptr [esi+60h]
push    esi
call    sub_2780255d
inc     dword ptr [esi+60h]
cmp     [esi+60h], edi
jl      short loc_277ffeef
mov     edi, ebx
test    edi, edi
jz      short loc_277fff13
push    ebx
push    ebx
push    esi
call    sub_277fa494
test    byte ptr [esi+9], 1
jz      short loc_277fff5f
test    edi, edi
jz      short loc_277fff5f
push    dword ptr [esi+60h]
push    esi
call    sub_27801322
pop     edi
pop     esi
pop     ebx
retn    8
mov     ecx, [esi+18h]
mov     edi, [ecx]
jmp     short loc_277ffeeb
mov     edx, [esi+60h]
cmp     edx, 0ffffffffh
jz      short loc_277fff5f
test    ch, 10h
jz      short loc_277fff58
mov     eax, [esi+15ch]
dec     eax
push    eax
push    edx
push    esi
call    sub_2781d0f0
test    eax, eax
jnz     short loc_277fff26
push    dword ptr [esi+60h]
jmp     short loc_277fff20
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_277fff46
push    esi
call    sub_277ffcba
jmp     short loc_277fff26
mov     eax, [esp+0ch+hdc]
or      dword ptr [eax+60h], 0ffffffffh
and     dword ptr [eax+1ch], 0ffffffefh
jmp     short loc_277fff26
mov     eax, [esp+arg_4]
sub     eax, 0
jz      short loc_277fffa1
dec     eax
jz      short loc_277fff95
dec     eax
jz      short loc_277fff89
xor     eax, eax
retn    8
mov     eax, [esp+arg_0]
mov     eax, [eax+148h]
jmp     short locret_277fff86
mov     eax, [esp+arg_0]
mov     eax, [eax+90h]
jmp     short locret_277fff86
mov     eax, [esp+arg_0]
mov     eax, [eax+0b4h]
jmp     short locret_277fff86
mov     eax, [esp+arg_8]
push    ebx
xor     ebx, ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     edi, [esp+0ch+lparam]
sub     eax, ebx
jz      loc_278000d0
dec     eax
jz      loc_2780006a
dec     eax
jnz     short loc_27800026
test    edi, edi
jz      loc_27800061
lea     eax, [esi+150h]
push    eax
lea     eax, [esi+14ch]
push    eax
push    edi
call    sub_278139de
mov     eax, [esi+1a8h]
lea     ebx, [esi+1a8h]
test    eax, eax
jz      short loc_2780000c
push    eax
call    sub_27813889
and     dword ptr [esi+148h], 0
and     dword ptr [ebx], 0
mov     ebx, [esi+148h]
lea     eax, [esi+148h]
push    esi
mov     [eax], edi
call    sub_277fe62a
mov     [esi+0a4h], eax
test    edi, edi
jz      short loc_27800039
test    byte ptr [esi+8], 40h
jnz     short loc_27800039
push    dword ptr [esi+2ch]
push    edi
call    sub_27813ac4
test    byte ptr [esi+9], 10h
jz      loc_27800111
mov     eax, [esi+15ch]
test    eax, eax
jle     short loc_27800059
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
retn    0ch
and     dword ptr [esi+14ch], 0
jmp     short loc_277fffec
mov     ebx, [esi+90h]
lea     eax, [esi+90h]
test    edi, edi
mov     [eax], edi
jz      short loc_27800090
lea     eax, [esi+98h]
push    eax
lea     eax, [esi+94h]
push    eax
push    edi
call    sub_278139de
mov     eax, [esi+48h]
push    esi
shl     eax, 4
add     eax, [esi+94h]
mov     [esi+0a0h], eax
call    sub_277fe62a
mov     [esi+0a4h], eax
mov     eax, [esi+128h]
test    eax, eax
jz      loc_27800026
push    edi
push    0
push    1208h
push    eax
call    ds:sendmessagea
jmp     loc_27800026
mov     ebx, [esi+0b4h]
lea     eax, [esi+0b4h]
test    edi, edi
mov     [eax], edi
jz      loc_27800039
lea     eax, [esi+0bch]
push    eax
lea     eax, [esi+0b8h]
push    eax
push    edi
call    sub_278139de
test    byte ptr [esi+1dh], 10h
jnz     loc_27800026
push    0ffffffffh
push    esi
call    sub_277fadbc
jmp     loc_27800026
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_27800049
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
push    esi
mov     esi, [ebp+arg_4]
xor     ebx, ebx
cmp     esi, ebx
push    edi
jz      loc_278003d5
mov     edi, [ebp+arg_0]
mov     ecx, [esi]
mov     [ebp+var_30], ebx
mov     [ebp+arg_4], ecx
test    byte ptr [edi+9], 10h
jnz     loc_2780027a
push    dword ptr [esi+4]
push    dword ptr [edi+18h]
call    sub_27815cea
mov     ebx, eax
test    ebx, ebx
jz      loc_278003d5
mov     eax, [esi+8]
test    eax, eax
jz      loc_27800219
lea     ecx, [ebp+lpstring]
push    ecx
push    eax
push    dword ptr [esi+4]
push    edi
call    sub_2781e698
test    byte ptr [ebp+arg_4], 1
jz      short loc_27800192
cmp     [ebp+lpstring], 0ffffffffh
jz      loc_27800210
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    [ebp+lpstring]
call    sub_27816125
test    byte ptr [ebp+arg_4], 2
jz      short loc_278001b0
test    byte ptr [edi+20h], 2
jz      short loc_278001b0
movsx   eax, [ebp+var_4]
cmp     [ebp+var_4], 0ffffh
mov     [esi+1ch], eax
jnz     short loc_278001b0
or      [ebp+var_30], 2
test    byte ptr [ebp+arg_4], 8
jz      short loc_278001e8
test    byte ptr [edi+20h], 20h
jz      short loc_278001c6
mov     al, [ebx+16h]
and     eax, 0bh
or      [ebp+var_2], ax
mov     ecx, [esi+10h]
movzx   eax, [ebp+var_2]
and     eax, ecx
mov     [esi+0ch], eax
mov     eax, [edi+64h]
test    eax, eax
jz      short loc_278001e8
and     eax, ecx
mov     [ebp+var_20], eax
jz      short loc_278001e8
or      [ebp+var_30], 8
and     [ebp+var_24], 0
test    byte ptr [ebp+arg_4], 4
jz      short loc_278001f4
mov     eax, [ebx+1ch]
mov     [esi+20h], eax
test    byte ptr [ebp+arg_4+1], 8
jz      loc_2780031f
test    byte ptr [ebp+var_30], 1
jz      short loc_27800208
or      dword ptr [esi+14h], 0ffffffffh
push    1
pop     eax
jmp     loc_278003d7
or      [ebp+var_30], 1
jmp     loc_27800192
test    byte ptr [ebp+arg_4], 1
jz      short loc_27800232
mov     eax, [ebx]
cmp     eax, 0ffffffffh
jz      short loc_27800274
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    eax
call    sub_27816125
test    byte ptr [ebp+arg_4], 2
jz      short loc_2780024a
movsx   eax, word ptr [ebx+0ch]
mov     [esi+1ch], eax
cmp     word ptr [ebx+0ch], 0ffffh
jnz     short loc_2780024a
or      [ebp+var_30], 2
test    byte ptr [ebp+arg_4], 10h
jz      short loc_27800262
movsx   eax, word ptr [ebx+18h]
mov     [esi+24h], eax
cmp     word ptr [ebx+18h], 0ffffh
jnz     short loc_27800262
or      [ebp+var_30], 10h
test    byte ptr [ebp+arg_4], 8
jz      short loc_278001e8
mov     ecx, [esi+10h]
movzx   eax, word ptr [ebx+16h]
jmp     loc_278001cd
or      [ebp+var_30], 1
jmp     short loc_27800232
mov     eax, [esi+8]
cmp     eax, ebx
jz      short loc_27800290
test    byte ptr [edi+20h], 2
jnz     short loc_2780028a
and     ecx, 0fffffffdh
and     ecx, 0ffffffefh
mov     [ebp+arg_4], ecx
test    cl, 4
jz      short loc_27800298
mov     [esi+20h], ebx
test    cl, 8
jz      short loc_27800311
cmp     eax, ebx
mov     [esi+0ch], ebx
jz      short loc_278002aa
test    byte ptr [edi+20h], 20h
jz      short loc_278002f8
mov     eax, [esi+4]
cmp     eax, [edi+54h]
jnz     short loc_278002b9
mov     dword ptr [esi+0ch], 1
push    eax
push    dword ptr [edi+154h]
call    sub_2781fa40
test    eax, eax
jz      short loc_278002cd
or      dword ptr [esi+0ch], 2
push    dword ptr [esi+4]
push    dword ptr [edi+158h]
call    sub_2781fa40
test    eax, eax
jz      short loc_278002e3
or      dword ptr [esi+0ch], 4
mov     eax, [esi+4]
cmp     eax, [edi+160h]
jnz     short loc_278002f2
or      dword ptr [esi+0ch], 8
mov     eax, [esi+10h]
and     [esi+0ch], eax
mov     eax, [edi+64h]
test    eax, eax
jz      short loc_27800311
mov     ecx, [esi+10h]
and     ecx, eax
mov     [ebp+var_20], ecx
jz      short loc_27800311
or      [ebp+var_30], 8
and     [ebp+var_24], 0
mov     eax, [ebp+arg_4]
and     eax, 13h
or      [ebp+var_30], eax
jmp     loc_278001f4
xor     edx, edx
cmp     [ebp+var_30], edx
jz      loc_27800208
mov     eax, [esi+4]
test    byte ptr [edi+9], 10h
mov     [ebp+var_2c], eax
mov     eax, [esi+8]
mov     [ebp+var_28], eax
jz      loc_278003de
mov     [ebp+var_10], edx
or      [ebp+var_14], 0ffffffffh
mov     [ebp+var_c], edx
test    byte ptr [ebp+var_30], 1
jz      short loc_27800363
mov     ecx, [esi+18h]
mov     eax, [esi+14h]
cmp     ecx, edx
mov     [ebp+var_1c], eax
mov     [ebp+var_18], ecx
jz      short loc_27800363
and     byte ptr [eax], 0
lea     eax, [ebp+lparam]
push    eax
push    0ffffff6ah
push    edi
call    sub_277b9838
mov     ecx, [ebp+var_30]
test    cl, 10h
jz      short loc_27800380
mov     eax, [ebp+var_c]
mov     [esi+24h], eax
test    cl, 8
jz      short loc_27800395
mov     eax, [esi+0ch]
mov     edx, [ebp+var_24]
xor     edx, eax
and     edx, [ebp+var_20]
xor     edx, eax
mov     [esi+0ch], edx
test    cl, 2
jz      short loc_278003a0
mov     eax, [ebp+var_14]
mov     [esi+1ch], eax
test    cl, 1
jz      short loc_278003ab
mov     eax, [ebp+var_1c]
mov     [esi+14h], eax
test    ebx, ebx
jz      loc_27800208
cmp     [ebp+var_28], 0
jnz     loc_27800208
test    ch, 10h
jz      loc_27800208
push    dword ptr [esi+4]
push    dword ptr [edi+18h]
call    sub_27815cea
cmp     ebx, eax
jz      short loc_278003e9
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebx+1ch]
mov     [ebp+var_10], eax
jmp     loc_27800343
test    byte ptr [ebp+var_30], 2
jz      short loc_278003f7
mov     ax, word ptr [ebp+var_14]
mov     [ebx+0ch], ax
test    byte ptr [ebp+var_30], 10h
jz      short loc_27800405
mov     ax, word ptr [ebp+var_c]
mov     [ebx+18h], ax
test    byte ptr [ebp+var_30], 1
jz      short loc_27800420
cmp     [ebp+var_28], 0
jnz     short loc_27800420
cmp     [ebp+var_1c], 0
jz      short loc_27800420
push    [ebp+var_1c]
push    ebx
call    sub_2781617a
test    byte ptr [ebp+var_30], 8
jz      loc_27800208
mov     ax, [ebx+16h]
mov     ecx, [ebp+var_24]
xor     ecx, eax
and     ecx, [ebp+var_20]
xor     ecx, eax
mov     [ebx+16h], cx
jmp     loc_27800208
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hmem]
xor     esi, esi
mov     [ebp+flags], 1
test    byte ptr [edi+9], 10h
mov     [ebp+var_14], esi
mov     [ebp+var_20], esi
jnz     loc_27800657
mov     ebx, [ebp+arg_4]
cmp     ebx, esi
jz      loc_27800657
mov     eax, [edi+0b4h]
cmp     eax, esi
jz      short loc_2780048d
push    eax
call    sub_27813b52
cmp     [edi+2ch], eax
jz      short loc_2780048d
mov     [ebp+flags], 5
mov     eax, [ebx]
cmp     eax, esi
mov     [ebp+var_8], eax
jz      loc_278007ce
cmp     [ebx+8], esi
jle     short loc_278004ad
push    ebx
push    edi
call    sub_2781dfc9
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebx+4]
push    eax
mov     [ebp+arg_4], eax
push    dword ptr [edi+18h]
call    sub_27815cea
mov     esi, eax
xor     edx, edx
cmp     esi, edx
jz      loc_27800657
mov     eax, [ebp+var_8]
mov     [ebp+var_c], edx
and     eax, 8
mov     [ebp+var_10], edx
mov     [ebp+var_18], eax
jz      short loc_278004ed
movzx   eax, word ptr [esi+16h]
mov     ecx, [ebx+10h]
and     eax, ecx
mov     [ebp+var_10], eax
mov     eax, [ebx+0ch]
and     eax, ecx
mov     [ebp+var_c], eax
test    byte ptr [edi+8], 4
jz      short loc_27800513
cmp     [ebp+var_18], edx
jz      short loc_27800513
test    byte ptr [ebp+var_c], 2
jz      short loc_27800513
push    [ebp+arg_4]
push    edi
call    sub_277fd969
movzx   ecx, word ptr [esi+16h]
mov     eax, [ebx+10h]
and     eax, ecx
mov     [ebp+var_10], eax
push    dword ptr [esi+1ch]
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+var_10]
push    0ffffff9ch
push    0
push    [ebp+arg_4]
push    edi
call    sub_277f9ded
test    eax, eax
jz      loc_27800657
and     [ebp+hmem], 0
cmp     [ebp+var_18], 0
jz      loc_2780062b
movzx   ecx, word ptr [esi+16h]
mov     eax, [ebx+0ch]
xor     eax, ecx
and     eax, [ebx+10h]
mov     [ebp+var_1c], eax
jz      loc_2780062b
xor     [esi+16h], ax
mov     cx, [esi+16h]
test    al, 2
mov     [ebp+hmem], 8
jz      short loc_2780057d
test    cl, 2
mov     [ebp+var_20], 1
jz      loc_2780065e
inc     dword ptr [edi+78h]
test    al, 1
jz      loc_2780061d
push    dword ptr [edi+54h]
push    edi
call    sub_277fb6ca
mov     ecx, [edi+54h]
push    1
cmp     ecx, [ebp+arg_4]
mov     [ebp+var_24], eax
pop     eax
mov     [ebp+var_18], ecx
mov     [ebp+var_14], eax
jz      loc_2780068a
cmp     ecx, 0ffffffffh
jz      loc_27800672
push    eax
push    0
push    ecx
push    edi
call    sub_27800816
test    eax, eax
jnz     loc_27800672
and     [ebp+var_14], eax
and     word ptr [esi+16h], 0fffeh
cmp     [ebp+var_24], 0
jz      short loc_27800600
push    [ebp+var_18]
push    edi
call    sub_277fb6ca
test    eax, eax
jnz     short loc_27800600
mov     eax, [ebp+var_18]
cmp     [edi+5ch], eax
jz      short loc_27800600
lea     ecx, [ebp+rcupdate]
push    ecx
push    eax
push    edi
call    sub_277fb721
push    5
lea     eax, [ebp+rcupdate]
push    0
push    eax
push    dword ptr [edi]
call    ds:redrawwindow
mov     eax, [edi+84h]
test    eax, eax
jz      short loc_2780061a
push    0
push    0
push    41ch
push    eax
call    ds:sendmessagea
mov     eax, [ebp+var_1c]
test    al, 4
jnz     short loc_27800627
cmp     dword ptr [edi+38h], 0ffffffffh
jnz     short loc_2780062b
or      [ebp+flags], 4
test    byte ptr [ebp+var_8], 1
jz      loc_278006b9
mov     eax, [ebp+arg_4]
cmp     [edi+5ch], eax
jz      short loc_2780064a
push    1
push    5
push    0
push    eax
push    edi
call    sub_2780255d
push    dword ptr [ebx+14h]
push    esi
call    sub_2781617a
test    eax, eax
jnz     short loc_27800693
xor     eax, eax
jmp     loc_278004a6
mov     ecx, [edi+78h]
test    ecx, ecx
jbe     loc_2780057d
dec     ecx
mov     [edi+78h], ecx
jmp     loc_2780057d
mov     eax, [ebp+arg_4]
cmp     dword ptr [edi+58h], 0ffffffffh
mov     [edi+54h], eax
jnz     loc_278005ca
mov     [edi+58h], eax
jmp     loc_278005ca
or      dword ptr [edi+54h], 0ffffffffh
jmp     loc_278005ca
or      [ebp+hmem], 1
mov     dword ptr [edi+0cch], 7fffffffh
mov     word ptr [esi+10h], 7fffh
mov     word ptr [esi+12h], 7fffh
mov     word ptr [esi+0eh], 7fffh
mov     word ptr [esi+14h], 7fffh
test    byte ptr [ebp+var_8], 10h
jz      short loc_278006e2
movsx   eax, word ptr [esi+18h]
cmp     eax, [ebx+24h]
jz      short loc_278006e2
mov     ax, [ebx+24h]
or      [ebp+hmem], 10h
mov     [esi+18h], ax
mov     eax, [edi+8]
and     eax, 3
cmp     al, 1
jnz     short loc_278006e2
or      [ebp+flags], 4
test    byte ptr [ebp+var_8], 2
jz      short loc_2780071f
movsx   eax, word ptr [esi+0ch]
cmp     eax, [ebx+1ch]
jz      short loc_2780071f
mov     ax, [ebx+1ch]
or      [ebp+hmem], 2
mov     [esi+0ch], ax
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_27800714
cmp     eax, 0ffffffffh
jz      short loc_27800710
push    eax
call    ds:deleteobject
and     dword ptr [esi+20h], 0
cmp     word ptr [esi+0ch], 0ffffh
jz      short loc_2780071f
or      [ebp+flags], 4
test    byte ptr [ebp+var_8], 4
jz      short loc_27800734
mov     ebx, [ebx+20h]
cmp     [esi+1ch], ebx
jz      short loc_27800734
or      [ebp+hmem], 4
mov     [esi+1ch], ebx
cmp     [ebp+hmem], 0
jz      loc_278007ce
mov     eax, [ebp+arg_4]
cmp     [edi+5ch], eax
jz      short loc_27800755
push    [ebp+hmem]
push    [ebp+flags]
push    0
push    eax
push    edi
call    sub_2780255d
push    dword ptr [esi+1ch]
push    [ebp+hmem]
push    [ebp+var_c]
push    [ebp+var_10]
push    0ffffff9bh
push    0
push    [ebp+arg_4]
push    edi
call    sub_277f9ded
test    byte ptr [ebp+hmem], 1
mov     esi, [ebp+arg_4]
push    0fffffffch
pop     ebx
jz      short loc_2780078b
lea     eax, [esi+1]
push    eax
push    ebx
push    dword ptr [edi]
push    800ch
call    sub_277b8949
test    byte ptr [ebp+hmem], 8
jz      short loc_278007ce
cmp     [ebp+var_14], 0
jz      short loc_278007a9
mov     eax, [edi+54h]
inc     eax
push    eax
push    ebx
push    dword ptr [edi]
push    8005h
call    sub_277b8949
cmp     [ebp+var_20], 0
jz      short loc_278007ce
test    byte ptr [ebp+var_c], 2
jz      short loc_278007d6
inc     esi
xor     eax, eax
cmp     dword ptr [edi+78h], 1
push    esi
push    ebx
push    dword ptr [edi]
setnz   al
add     eax, 8006h
push    eax
call    sub_277b8949
push    1
pop     eax
jmp     loc_278004a6
inc     esi
push    esi
push    ebx
push    dword ptr [edi]
push    8008h
jmp     short loc_278007c9
push    ebp
mov     ebp, esp
sub     esp, 28h
mov     eax, [ebp+arg_8]
and     [ebp+var_20], 0
mov     [ebp+var_18], eax
mov     eax, [ebp+arg_4]
mov     [ebp+var_24], eax
lea     eax, [ebp+var_28]
push    eax
mov     [ebp+var_28], 8
push    [ebp+arg_0]
call    sub_2780011b
neg     eax
sbb     eax, eax
and     eax, [ebp+var_1c]
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 2ch
mov     edx, [ebp+arg_8]
and     [ebp+var_24], 0
push    ebx
mov     ebx, [ebp+arg_c]
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     edi, [ebp+arg_4]
mov     ecx, [esi+8]
push    1
pop     eax
mov     [ebp+var_2c], 8
test    ch, 10h
mov     [ebp+flags], eax
mov     [ebp+var_20], edx
mov     [ebp+var_1c], ebx
mov     [ebp+var_28], edi
jz      loc_27800c60
xor     edi, edi
and     ebx, 0fh
mov     [ebp+arg_c], ebx
jz      loc_278009e9
cmp     dword ptr [esi+38h], 0ffffffffh
jz      short loc_2780087a
mov     eax, [esi+0b4h]
test    eax, eax
jz      short loc_27800881
push    eax
call    sub_27813b52
cmp     [esi+2ch], eax
jz      short loc_27800881
mov     [ebp+flags], 5
cmp     [ebp+arg_4], 0ffffffffh
jnz     loc_27800a64
test    bl, 2
jz      short loc_278008e8
test    byte ptr [ebp+arg_8], 2
jz      loc_278009f0
test    byte ptr [esi+8], 4
jnz     loc_27800a55
mov     eax, [esi+15ch]
test    eax, eax
jz      short loc_278008c8
dec     eax
push    eax
push    0
push    dword ptr [esi+154h]
call    sub_2781f807
cmp     eax, 7fffffffh
jz      loc_27800a55
push    [ebp+flags]
mov     eax, [esi+15ch]
mov     [esi+78h], eax
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
mov     edi, ebx
xor     edi, [ebp+arg_8]
and     edi, 2
test    bl, 4
jz      short loc_27800934
test    byte ptr [ebp+arg_8], 4
jz      loc_27800a27
mov     eax, [esi+15ch]
test    eax, eax
jz      short loc_2780091b
dec     eax
push    eax
push    0
push    dword ptr [esi+158h]
call    sub_2781f807
cmp     eax, 7fffffffh
jz      loc_27800a55
push    [ebp+flags]
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
mov     eax, ebx
xor     eax, [ebp+arg_8]
and     eax, 4
or      edi, eax
test    bl, 1
jz      short loc_2780097d
test    byte ptr [ebp+arg_8], 1
jnz     loc_27800a55
mov     eax, [esi+54h]
cmp     eax, 0ffffffffh
mov     [ebp+arg_4], eax
jz      short loc_2780097d
mov     eax, ebx
or      dword ptr [esi+54h], 0ffffffffh
xor     eax, [ebp+arg_8]
and     eax, 1
or      edi, eax
xor     eax, eax
push    eax
push    8
push    eax
push    1
push    0ffffff9bh
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277f9ded
push    5
push    1
push    [ebp+arg_4]
push    esi
call    sub_27803802
test    bl, 8
jz      short loc_278009cb
test    byte ptr [ebp+arg_8], 8
jnz     loc_27800a55
mov     ebx, [esi+160h]
lea     eax, [esi+160h]
cmp     ebx, 0ffffffffh
jz      short loc_278009c8
or      dword ptr [eax], 0ffffffffh
mov     ecx, [ebp+arg_c]
xor     ecx, [ebp+arg_8]
xor     eax, eax
push    eax
push    8
push    eax
push    8
push    0ffffff9bh
push    eax
and     ecx, 1
push    ebx
push    esi
or      edi, ecx
call    sub_277f9ded
push    5
push    1
push    ebx
push    esi
call    sub_27803802
mov     ebx, [ebp+arg_c]
and     ebx, [ebp+arg_8]
xor     ebx, edi
jz      short loc_278009e6
push    0
push    8
push    [ebp+arg_8]
push    edi
push    0ffffff9bh
push    0
push    0ffffffffh
push    esi
call    sub_277f9ded
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     dword ptr [esi+78h], 0
jbe     short loc_27800a1c
push    dword ptr [esi+154h]
lea     edi, [esi+154h]
push    esi
call    sub_277fd664
push    dword ptr [edi]
call    sub_2781fa0a
test    eax, eax
jz      short loc_27800a55
and     dword ptr [esi+78h], 0
jmp     loc_278008e0
and     ebx, 0fffffffdh
mov     [ebp+arg_c], ebx
jmp     loc_278008e0
push    dword ptr [esi+158h]
call    sub_2781fa56
test    eax, eax
jnz     short loc_27800a59
push    dword ptr [esi+158h]
push    esi
call    sub_277fd664
push    dword ptr [esi+158h]
call    sub_2781fa0a
test    eax, eax
jnz     loc_2780092a
xor     eax, eax
jmp     short loc_278009e9
and     ebx, 0fffffffbh
mov     [ebp+arg_c], ebx
jmp     loc_2780092a
test    bl, 2
jz      short loc_27800acd
push    [ebp+arg_4]
mov     edi, [ebp+arg_8]
and     edi, 2
push    dword ptr [esi+154h]
call    sub_2781fa40
neg     eax
sbb     eax, eax
and     eax, 2
xor     eax, edi
jz      loc_27800c10
test    edi, edi
jz      loc_27800bec
test    byte ptr [esi+8], 4
jz      short loc_27800aaa
push    2
push    0
push    0ffffffffh
push    esi
call    sub_27800816
test    eax, eax
jz      short loc_27800a55
push    [ebp+arg_4]
push    [ebp+arg_4]
push    dword ptr [esi+154h]
call    sub_2781f807
cmp     eax, 7fffffffh
jz      short loc_27800a55
inc     dword ptr [esi+78h]
mov     edi, ebx
xor     edi, [ebp+arg_8]
and     edi, 2
test    bl, 4
jz      short loc_27800b2d
push    [ebp+arg_4]
mov     eax, [ebp+arg_8]
and     eax, 4
push    dword ptr [esi+158h]
mov     [ebp+hmem], eax
call    sub_2781fa40
neg     eax
sbb     eax, eax
and     eax, 4
xor     eax, [ebp+hmem]
jz      loc_27800c24
push    [ebp+arg_4]
cmp     [ebp+hmem], 0
push    [ebp+arg_4]
push    dword ptr [esi+158h]
jz      loc_27800c1a
call    sub_2781f807
cmp     eax, 7fffffffh
jz      loc_27800a55
mov     eax, ebx
xor     eax, [ebp+arg_8]
and     eax, 4
or      edi, eax
or      [ebp+flags], 4
test    bl, 1
jz      short loc_27800b6d
test    byte ptr [ebp+arg_8], 1
mov     eax, [esi+54h]
jz      loc_27800c33
mov     ecx, [ebp+arg_4]
cmp     ecx, eax
jz      loc_27800c40
cmp     dword ptr [esi+58h], 0ffffffffh
mov     [esi+54h], ecx
jnz     short loc_27800b56
mov     [esi+58h], ecx
cmp     eax, 0ffffffffh
jz      short loc_27800b6d
xor     ecx, ecx
push    ecx
push    8
push    ecx
push    1
push    0ffffff9bh
push    ecx
push    eax
push    esi
call    sub_277f9ded
test    bl, 8
jz      short loc_27800bb8
test    byte ptr [ebp+arg_8], 8
mov     ebx, [esi+160h]
jz      loc_27800c48
mov     eax, [ebp+arg_4]
cmp     eax, ebx
jz      loc_27800c58
cmp     ebx, 0ffffffffh
mov     [esi+160h], eax
jz      short loc_27800bb5
xor     eax, eax
push    eax
push    8
push    eax
push    8
push    0ffffff9bh
push    eax
push    ebx
push    esi
call    sub_277f9ded
push    5
push    1
push    ebx
push    esi
call    sub_27803802
mov     ebx, [ebp+arg_c]
and     ebx, [ebp+arg_8]
xor     ebx, edi
jz      loc_278009e6
xor     ebx, ebx
push    ebx
push    8
push    [ebp+arg_8]
push    edi
push    0ffffff9bh
push    ebx
push    [ebp+arg_4]
push    esi
call    sub_277f9ded
push    ebx
push    [ebp+flags]
push    1
push    [ebp+arg_4]
push    esi
call    sub_2780255d
jmp     loc_278009e6
push    [ebp+arg_4]
push    [ebp+arg_4]
push    dword ptr [esi+154h]
call    sub_2781f922
cmp     eax, 7fffffffh
jz      loc_27800a55
dec     dword ptr [esi+78h]
jmp     loc_27800ac5
mov     edi, ebx
and     edi, [ebp+arg_8]
jmp     loc_27800aca
call    sub_2781f922
jmp     loc_27800b14
mov     eax, ebx
and     eax, [ebp+arg_8]
and     eax, 4
or      edi, eax
jmp     loc_27800b2d
cmp     [ebp+arg_4], eax
jnz     loc_27800b6d
or      dword ptr [esi+54h], 0ffffffffh
or      edi, 1
jmp     loc_27800b6d
cmp     [ebp+arg_4], ebx
jnz     loc_27800bb5
or      dword ptr [esi+160h], 0ffffffffh
or      edi, 8
jmp     loc_27800bb5
cmp     edi, 0ffffffffh
jz      short loc_27800c74
lea     eax, [ebp+var_2c]
push    eax
push    esi
call    sub_27800441
jmp     loc_278009e9
xor     edi, edi
test    edx, edx
jnz     short loc_27800cae
dec     ebx
dec     ebx
jz      short loc_27800caa
dec     ebx
dec     ebx
jnz     short loc_27800c85
push    4
pop     edi
push    edi
push    0ffffffffh
push    esi
call    sub_27801fa0
cmp     eax, 0ffffffffh
mov     [ebp+var_28], eax
jz      loc_278009e6
lea     eax, [ebp+var_2c]
push    eax
push    esi
call    sub_27800441
push    edi
push    [ebp+var_28]
jmp     short loc_27800c88
push    2
jmp     short loc_27800c84
test    cl, 4
jz      short loc_27800cbc
cmp     ebx, 2
jz      loc_27800a55
and     ebx, edx
test    bl, 1
jnz     loc_27800a55
jmp     short loc_27800c85
push    esi
mov     esi, [esp+4+arg_8]
test    esi, esi
jz      short loc_27800ced
mov     eax, [esp+4+arg_4]
push    esi
push    [esp+8+arg_0]
mov     dword ptr [esi], 1
mov     [esi+4], eax
call    sub_2780011b
test    eax, eax
jnz     short loc_27800cf3
xor     eax, eax
pop     esi
retn    0ch
push    dword ptr [esi+14h]
call    ds:lstrlena
jmp     short loc_27800cef
push    ebp
mov     ebp, esp
sub     esp, 28h
mov     eax, [ebp+hmem]
test    byte ptr [eax+9], 10h
jz      short loc_27800d13
xor     eax, eax
leave
retn    10h
mov     ecx, [ebp+arg_c]
mov     [ebp+var_28], 1
mov     [ebp+var_14], ecx
mov     ecx, [ebp+arg_4]
mov     [ebp+var_24], ecx
mov     ecx, [ebp+arg_8]
mov     [ebp+var_20], ecx
lea     ecx, [ebp+var_28]
push    ecx
push    eax
call    sub_27800441
jmp     short locret_27800d0f
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+arg_4]
lea     edx, [ebp+var_8]
push    1
mov     eax, [esi+17ch]
push    edx
lea     edx, [ebp+arg_4]
mov     ecx, [eax]
push    edx
push    eax
call    dword ptr [ecx+20h]
test    byte ptr [ebp+arg_4+2], 0c0h
jz      short loc_27800d69
and     dword ptr [esi+180h], 0fffffffeh
pop     esi
leave
retn    8
test    byte ptr [ebp+arg_4], 4
jz      short loc_27800d64
or      dword ptr [esi+180h], 1
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
jmp     short loc_27800d64
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
xor     ebx, ebx
mov     eax, [esi+17ch]
lea     edi, [esi+17ch]
cmp     eax, ebx
jz      short loc_27800db5
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
cmp     [esi+198h], ebx
lea     eax, [esi+198h]
mov     [edi], ebx
jz      short loc_27800db5
mov     [eax], ebx
mov     eax, [esi+188h]
lea     edi, [esi+188h]
cmp     eax, ebx
jz      short loc_27800dce
push    eax
call    ds:deleteobject
mov     [edi], ebx
mov     eax, [esi+18ch]
add     esi, 18ch
cmp     eax, ebx
jz      short loc_27800de7
push    eax
call    ds:localfree
mov     [esi], ebx
pop     edi
pop     esi
pop     ebx
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ebx
mov     ebx, [ebp+arg_4]
and     [ebp+arg_4], 0
push    esi
mov     eax, [ebx]
push    edi
mov     edi, [ebx+8]
and     eax, 3
sub     eax, 0
mov     [ebp+lp], edi
jz      loc_27800f77
dec     eax
jz      loc_27800ee3
dec     eax
jnz     loc_27800eda
mov     esi, [ebp+hmem]
push    esi
call    sub_27800d84
test    edi, edi
jz      loc_27800ef9
cmp     byte ptr [edi], 0
jz      loc_27800ef9
push    edi
call    ds:lstrlena
inc     eax
push    eax
push    40h
call    ds:localalloc
test    eax, eax
mov     [esi+18ch], eax
jz      loc_27800eda
push    edi
push    eax
call    ds:lstrcpya
push    offset aole32
call    ds:getmodulehandlea
test    eax, eax
jz      short loc_27800eda
push    offset acocreateinstan
push    eax
call    ds:getprocaddress
test    eax, eax
jz      short loc_27800eda
lea     edi, [esi+17ch]
push    edi
push    offset dword_277cbfa0
push    1
push    0
push    offset dword_277cbf90
call    eax
test    eax, eax
jl      short loc_27800eda
push    [ebp+lp]
push    dword ptr [esi+14h]
call    sub_2781fbe5
mov     [ebp+hmem], eax
test    eax, eax
mov     eax, [edi]
mov     ecx, [eax]
jz      short loc_27800ed3
push    0
push    [ebp+hmem]
push    eax
call    dword ptr [ecx+0ch]
cmp     [ebp+hmem], 0ffffffffh
mov     [ebp+lp], eax
jz      short loc_27800ec9
push    [ebp+hmem]
call    ds:localfree
cmp     [ebp+lp], 0
jge     short loc_27800ef9
mov     eax, [edi]
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
and     dword ptr [edi], 0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     esi, [ebp+hmem]
push    esi
call    sub_27800d84
mov     eax, [ebx+4]
test    eax, eax
jz      short loc_27800ef9
mov     [esi+188h], eax
mov     eax, [ebx]
mov     [esi+184h], eax
mov     eax, [ebx+10h]
mov     [esi+190h], eax
mov     eax, [ebx+14h]
mov     [esi+194h], eax
mov     eax, [esi+17ch]
test    eax, eax
jz      short loc_27800f63
cmp     dword ptr [esi+198h], 0
lea     ecx, [esi+198h]
jnz     short loc_27800f33
mov     edx, [eax]
push    ecx
push    eax
call    dword ptr [edx+24h]
mov     eax, [esi+17ch]
and     dword ptr [esi+180h], 0fffffffeh
push    esi
push    offset sub_27800d38
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
mov     eax, [esi+17ch]
push    1
pop     edi
mov     ecx, [eax]
push    edi
push    0
push    4
push    eax
call    dword ptr [ecx+10h]
mov     [ebp+arg_4], edi
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
mov     eax, [ebp+arg_4]
jmp     loc_27800edc
mov     esi, [ebp+hmem]
push    esi
call    sub_27800d84
jmp     loc_27800ef9
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
mov     ebx, ds:isbadwriteptr
push    esi
mov     esi, [ebp+lp]
push    18h
push    esi
call    ebx
test    eax, eax
jnz     short loc_27800ffb
push    edi
mov     edi, [ebp+arg_0]
mov     ecx, [edi+184h]
lea     eax, [edi+184h]
mov     [esi], ecx
mov     eax, [eax]
and     eax, 3
sub     eax, 0
jz      short loc_27800fe1
dec     eax
jz      short loc_27801004
dec     eax
jnz     short loc_27800fe8
push    dword ptr [esi+0ch]
push    dword ptr [esi+8]
call    ebx
test    eax, eax
jnz     short loc_27800fe8
push    dword ptr [esi+0ch]
push    dword ptr [edi+18ch]
push    dword ptr [esi+8]
call    ds:lstrcpyna
mov     [ebp+var_4], 1
mov     eax, [edi+190h]
mov     [esi+10h], eax
mov     eax, [edi+194h]
mov     [esi+14h], eax
pop     edi
mov     eax, [ebp+var_4]
pop     esi
pop     ebx
leave
retn    8
mov     eax, [edi+188h]
mov     [esi+4], eax
jmp     short loc_27800fe1
push    esi
mov     esi, [esp+4+hmem]
test    esi, esi
jz      short loc_27801027
push    0
push    esi
call    sub_2781617a
push    esi
call    ds:localfree
pop     esi
retn    4
push    ebp
mov     ebp, esp
mov     eax, [ebp+hmem]
test    byte ptr [eax+21h], 1
jz      short loc_27801048
lea     ecx, [ebp+hmem]
push    ecx
push    8
push    dword ptr [eax]
call    sub_277e4105
test    eax, eax
jnz     short loc_27801051
mov     eax, dword_2782a08c
pop     ebp
retn    4
mov     eax, [ebp+hmem]
jmp     short loc_2780104d
push    ebp
mov     ebp, esp
mov     eax, [ebp+hmem]
test    byte ptr [eax+21h], 1
jz      short loc_27801073
lea     ecx, [ebp+hmem]
push    ecx
push    4
push    dword ptr [eax]
call    sub_277e4105
test    eax, eax
jnz     short loc_2780107c
mov     eax, dword_2782a078
pop     ebp
retn    4
mov     eax, [ebp+hmem]
jmp     short loc_27801078
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+hmem]
test    byte ptr [esi+21h], 1
jz      short loc_278010a2
lea     eax, [ebp+hmem]
push    eax
push    400h
push    dword ptr [esi]
call    sub_277e4105
test    eax, eax
jnz     short loc_278010af
push    0fffffff0h
push    dword ptr [esi]
call    ds:getwindowlonga
mov     [ebp+hmem], eax
mov     eax, [ebp+hmem]
pop     esi
pop     ebp
retn    4
push    esi
mov     esi, [esp+4+lpmem]
test    esi, esi
jz      short loc_278010eb
push    0
push    esi
call    sub_2781617a
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_278010db
cmp     eax, 0ffffffffh
jz      short loc_278010db
push    eax
call    ds:deleteobject
mov     eax, [esp+4+arg_0]
push    esi
push    0
push    dword ptr [eax+40h]
call    ds:heapfree
xor     eax, eax
pop     esi
retn    8
push    ebx
mov     ebx, [esp+4+hmem]
push    esi
push    edi
push    40h
push    8
push    dword ptr [ebx+40h]
call    ds:heapalloc
mov     esi, eax
test    esi, esi
jz      loc_278011b0
mov     edi, [esp+0ch+arg_4]
test    byte ptr [edi], 8
jz      short loc_27801144
mov     eax, [edi+0ch]
test    eax, 0ffff0000h
jnz     loc_278011a8
test    byte ptr [ebx+8], 4
jz      short loc_27801138
test    al, 2
jz      short loc_27801138
push    0ffffffffh
push    ebx
call    sub_277fd969
mov     ax, [edi+0ch]
and     ax, 0fffch
mov     [esi+16h], ax
test    byte ptr [edi], 4
jz      short loc_2780114f
mov     eax, [edi+20h]
mov     [esi+1ch], eax
test    byte ptr [edi], 2
jz      short loc_2780115c
mov     ax, [edi+1ch]
mov     [esi+0ch], ax
test    byte ptr [edi], 10h
jz      short loc_27801169
mov     ax, [edi+24h]
mov     [esi+18h], ax
and     dword ptr [esi], 0
mov     eax, 7fffffffh
mov     [esi+8], eax
mov     [esi+4], eax
mov     word ptr [esi+14h], 7fffh
mov     word ptr [esi+10h], 7fffh
mov     word ptr [esi+12h], 7fffh
mov     word ptr [esi+0eh], 7fffh
test    byte ptr [edi], 1
jz      short loc_278011b0
push    dword ptr [edi+14h]
push    esi
call    sub_2781617a
test    eax, eax
jnz     short loc_278011b0
push    esi
push    ebx
call    sub_278010b7
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, esi
jmp     short loc_278011aa
push    ebp
mov     ebp, esp
sub     esp, 58h
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
mov     eax, [esi+8]
and     eax, 3
cmp     eax, 3
jz      short loc_278011d4
cmp     eax, 1
jnz     loc_2780127b
mov     ecx, [esi+1ch]
push    12h
pop     ebx
and     ecx, ebx
cmp     cl, bl
jnz     loc_27801282
cmp     eax, 1
jnz     loc_27801289
xor     edi, edi
cmp     [esi+17ch], edi
jz      short loc_278011fa
mov     [ebp+arg_8], edi
cmp     [ebp+arg_4], edi
jl      loc_27801290
lea     eax, [ebp+rcdst]
push    edi
push    eax
push    edi
push    edi
push    [ebp+arg_4]
push    esi
call    sub_27802300
mov     eax, [esi+6ch]
cmp     [ebp+rcdst.top], eax
jg      short loc_2780127b
mov     ecx, [ebp+rcdst.left]
cmp     ecx, [esi+68h]
jg      short loc_2780127b
mov     [ebp+rcdst.bottom], eax
mov     eax, [esi+1ch]
and     eax, ebx
cmp     al, bl
mov     ebx, ds:redrawwindow
jnz     loc_27801312
cmp     dword ptr [esi+2ch], 0ffffffffh
jnz     short loc_278012a7
cmp     [esi+17ch], edi
jnz     short loc_278012a7
lea     eax, [ebp+rcdst]
push    eax
push    esi
call    sub_277fd045
mov     eax, [esi+8]
and     eax, 3
cmp     al, 3
jnz     short loc_2780127b
mov     eax, [ebp+rcdst.right]
push    5
mov     [ebp+rcupdate.left], eax
mov     eax, [esi+6ch]
mov     [ebp+rcupdate.bottom], eax
mov     eax, [esi+68h]
mov     [ebp+rcupdate.right], eax
lea     eax, [ebp+rcupdate]
push    edi
push    eax
push    dword ptr [esi]
mov     [ebp+rcupdate.top], edi
call    ebx
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     edi, edi
jmp     loc_278011f7
xor     edi, edi
jmp     loc_278011fa
mov     eax, [esi+68h]
mov     [ebp+rcdst.top], edi
mov     [ebp+rcdst.right], eax
mov     eax, [esi+6ch]
mov     [ebp+rcdst.left], edi
mov     [ebp+rcdst.bottom], eax
jmp     loc_27801213
mov     ecx, [esi+8]
push    3
pop     eax
and     ecx, eax
cmp     cl, 1
jnz     short loc_27801312
cmp     [ebp+arg_8], edi
jz      short loc_27801312
mov     [ebp+var_54], eax
mov     eax, [esi]
mov     [ebp+var_50], eax
mov     eax, [esi+0a4h]
neg     eax
mov     [ebp+var_48], eax
lea     eax, [ebp+rcdst]
mov     [ebp+var_44], eax
or      [ebp+var_30], 0ffffffffh
lea     eax, [ebp+rcdst]
push    1
mov     [ebp+var_40], eax
pop     eax
mov     [ebp+var_4c], edi
mov     [ebp+var_3c], edi
mov     [ebp+var_38], edi
mov     [ebp+var_2c], eax
mov     [ebp+var_28], eax
xor     eax, eax
lea     edi, [ebp+var_24]
mov     [ebp+dy], 38h
mov     [ebp+var_34], 6
stosd
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
xor     edi, edi
jmp     loc_27801251
push    5
lea     eax, [ebp+rcdst]
push    edi
push    eax
push    dword ptr [esi]
call    ebx
jmp     loc_27801251
push    esi
mov     esi, [esp+4+hdc]
mov     eax, [esi+8]
mov     ecx, eax
and     ecx, 3
jz      short loc_2780134c
cmp     ecx, 2
jz      short loc_2780134c
push    0
push    [esp+8+arg_4]
push    esi
call    sub_278011b4
push    esi
call    sub_277ffcba
pop     esi
retn    8
test    ah, 1
jz      short loc_2780135b
push    0
push    esi
call    sub_2781aef6
jmp     short loc_27801342
push    42h
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
jmp     short loc_27801342
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
test    edi, edi
jz      loc_2780144b
cmp     dword ptr [edi+8], 0
jnz     loc_2780144b
mov     esi, [ebp+hmem]
mov     eax, [esi+8]
test    al, 30h
jz      loc_27801422
test    ah, 10h
jnz     loc_27801422
mov     eax, [edi+14h]
cmp     eax, 0ffffffffh
jz      loc_2780144b
push    0
push    44h
push    eax
push    esi
call    sub_2781f546
mov     ebx, eax
test    byte ptr [esi+9], 10h
jnz     loc_2780156d
push    edi
push    esi
call    sub_278010f1
test    byte ptr [edi], 8
mov     [ebp+lpmem], eax
jz      short loc_27801427
mov     edi, [edi+0ch]
and     edi, 3
mov     [ebp+arg_4], edi
test    eax, eax
mov     [ebp+hmem], edi
jz      short loc_2780144b
push    eax
push    ebx
push    dword ptr [esi+18h]
call    sub_27815df2
mov     ebx, eax
cmp     ebx, 0ffffffffh
jz      short loc_27801442
cmp     dword ptr [esi+124h], 0
jz      short loc_27801455
mov     edi, [esi+120h]
dec     edi
js      short loc_27801455
push    edi
push    dword ptr [esi+124h]
call    sub_27815cea
test    eax, eax
jz      short loc_27801400
cmp     ebx, [eax]
push    0
push    ebx
push    eax
jl      short loc_27801430
call    sub_27815db4
jmp     short loc_27801400
mov     ebx, [edi+4]
jmp     short loc_278013b7
and     [ebp+arg_4], 0
mov     edi, [ebp+arg_4]
jmp     short loc_278013d9
call    sub_27815df2
cmp     eax, ebx
jz      short loc_27801400
push    ebx
push    dword ptr [esi+18h]
call    sub_27815e5b
push    [ebp+lpmem]
push    esi
call    sub_278010b7
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+54h]
cmp     ebx, eax
jg      short loc_27801460
inc     eax
mov     [esi+54h], eax
mov     eax, [esi+58h]
cmp     ebx, eax
jg      short loc_2780146b
inc     eax
mov     [esi+58h], eax
mov     edi, 1000h
test    [esi+8], edi
jz      loc_27801559
mov     eax, [esi+15ch]
push    ebx
push    eax
push    dword ptr [esi+0c0h]
call    sub_27815df2
cmp     eax, 0ffffffffh
jz      short loc_27801439
test    [esi+8], edi
jz      loc_27801563
mov     ecx, [esi+15ch]
dec     ecx
cmp     ebx, ecx
jz      short loc_278014cd
lea     edi, [eax-1]
test    edi, edi
jl      short loc_278014c8
mov     eax, [esi+0c0h]
mov     ecx, [eax+4]
mov     ecx, [ecx+edi*4]
cmp     ecx, ebx
jl      short loc_278014c5
inc     ecx
push    ecx
push    edi
push    eax
call    sub_27815db4
dec     edi
jns     short loc_278014ac
mov     edi, 1000h
test    byte ptr [esi+20h], 4
jz      short loc_278014da
or      byte ptr [ebp+arg_4+1], 0f0h
or      [ebp+hmem], edi
cmp     [ebp+arg_4], 0
jz      short loc_278014ed
push    [ebp+arg_4]
push    [ebp+hmem]
push    ebx
push    esi
call    sub_27800816
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     loc_278015e6
push    1
push    1
push    esi
call    sub_277fa494
push    ebx
push    ebx
push    esi
call    sub_2781d0f0
test    eax, eax
jnz     short loc_27801518
push    ebx
push    esi
call    sub_27801322
lea     edi, [esi+164h]
xor     eax, eax
cmp     [edi], eax
jnz     short loc_27801533
push    eax
push    eax
push    400h
push    dword ptr [esi]
call    ds:postmessagea
inc     dword ptr [edi]
push    0ffffff9ah
push    0
push    ebx
push    esi
call    sub_277f9e6c
lea     eax, [ebx+1]
push    eax
push    0fffffffch
push    dword ptr [esi]
push    8000h
call    sub_277b8949
mov     eax, ebx
jmp     loc_2780144e
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_2780147f
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     loc_278014a0
test    ebx, ebx
jl      loc_278014ed
cmp     ebx, 5f5e100h
jg      loc_278014ed
push    ebx
push    dword ptr [esi+154h]
call    sub_2781fa66
test    eax, eax
jz      loc_2780144b
inc     dword ptr [esi+15ch]
push    esi
mov     dword ptr [esi+0cch], 7fffffffh
call    sub_27819dbc
mov     eax, [esi+8]
and     eax, 3
cmp     eax, 1
jz      short loc_278015c7
cmp     eax, 3
jz      short loc_278015c7
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
mov     eax, [esi+54h]
cmp     ebx, eax
jg      short loc_278015d2
inc     eax
mov     [esi+54h], eax
mov     eax, [esi+58h]
cmp     ebx, eax
jg      loc_278014ed
inc     eax
mov     [esi+58h], eax
jmp     loc_278014ed
mov     eax, [esi+60h]
cmp     eax, 0ffffffffh
jz      short loc_278015f6
cmp     ebx, eax
jge     loc_27801535
mov     [esi+60h], ebx
jmp     loc_27801535
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+lpmem]
push    edi
test    byte ptr [esi+9], 10h
jz      loc_2780174d
mov     eax, [esi+15ch]
mov     ebx, [ebp+arg_4]
mov     [ebp+lpmem], eax
test    ebx, ebx
jl      loc_278018d7
cmp     ebx, eax
jge     loc_278018d7
lea     edi, [ebx+1]
push    edi
push    0fffffffch
push    dword ptr [esi]
push    8001h
call    sub_277b8949
push    0
push    esi
call    sub_2781bb07
push    2
push    0
push    ebx
push    esi
call    sub_27800816
cmp     [esi+54h], ebx
jnz     short loc_2780166d
mov     eax, [ebp+lpmem]
dec     eax
cmp     ebx, eax
jnz     short loc_27801662
lea     edi, [ebx-1]
push    1
push    1
push    edi
push    esi
call    sub_27800816
mov     eax, [esi+8]
test    ah, 10h
jnz     loc_27801801
mov     edi, 7fffffffh
cmp     [esi+0cch], edi
jz      short loc_278016a9
and     eax, 3
jz      short loc_27801690
cmp     eax, 2
jnz     short loc_278016a9
mov     eax, [esi+18h]
mov     eax, [eax+4]
push    dword ptr [eax+ebx*4]
push    esi
call    sub_27802668
test    eax, eax
jz      short loc_278016a9
mov     [esi+0cch], edi
mov     eax, [esi+8]
and     eax, 3
cmp     al, 1
jz      short loc_278016c0
push    0
push    5
push    0
push    ebx
push    esi
call    sub_2780255d
push    0ffffff99h
push    0
push    ebx
push    esi
call    sub_277f9e6c
push    ebx
push    dword ptr [esi+18h]
call    sub_27815e5b
push    ebx
mov     [ebp+lpmem], eax
push    dword ptr [esi+0c0h]
call    sub_27815d0b
push    eax
push    dword ptr [esi+0c0h]
call    sub_27815e5b
test    byte ptr [esi+9], 10h
jz      short loc_27801757
mov     edi, [esi+15ch]
dec     edi
test    edi, edi
jl      short loc_2780171c
mov     eax, [esi+0c0h]
mov     ecx, [eax+4]
mov     ecx, [ecx+edi*4]
cmp     ecx, ebx
jle     short loc_27801719
dec     ecx
push    ecx
push    edi
push    eax
call    sub_27815db4
dec     edi
jns     short loc_27801700
cmp     dword ptr [esi+124h], 0
jz      short loc_2780175e
mov     edi, [esi+120h]
dec     edi
js      short loc_2780175e
push    edi
push    dword ptr [esi+124h]
call    sub_27815cea
test    eax, eax
jz      short loc_2780172b
push    ebx
push    eax
call    sub_27815e5b
push    eax
call    sub_2780100f
jmp     short loc_2780172b
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_27801617
mov     eax, [esi+18h]
mov     edi, [eax]
jmp     short loc_278016fb
push    [ebp+lpmem]
push    esi
call    sub_278010b7
mov     edi, [esi+8]
test    edi, 1000h
jz      loc_27801877
mov     ecx, [esi+15ch]
mov     eax, [esi+54h]
cmp     eax, ebx
jnz     short loc_2780178d
cmp     eax, ecx
jl      short loc_2780178d
lea     eax, [ecx-1]
mov     [esi+54h], eax
mov     eax, [esi+54h]
cmp     eax, ebx
jle     short loc_27801798
dec     eax
mov     [esi+54h], eax
mov     eax, [esi+58h]
cmp     eax, ebx
jnz     loc_27801881
cmp     eax, ecx
jl      short loc_278017ad
lea     eax, [ecx-1]
mov     [esi+58h], eax
mov     eax, edi
and     eax, 3
cmp     al, 1
jnz     loc_2780189b
test    ecx, ecx
jnz     loc_2780188d
cmp     [esi+1a0h], ecx
jz      loc_2780188d
push    1
push    ecx
push    dword ptr [esi]
call    ds:invalidaterect
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     loc_278018ba
push    esi
call    sub_277ffcba
push    1
push    1
push    esi
call    sub_277fa494
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
cmp     ebx, 5f5e100h
jg      loc_278018d7
xor     edi, edi
push    0ffffff99h
push    edi
push    ebx
push    esi
call    sub_277f9e6c
lea     eax, [ebp+lpmem]
push    eax
push    ebx
push    dword ptr [esi+154h]
call    sub_2781faee
test    eax, eax
jz      loc_278018d7
cmp     [ebp+lpmem], edi
jz      short loc_27801839
dec     dword ptr [esi+78h]
dec     dword ptr [esi+15ch]
push    esi
mov     dword ptr [esi+0cch], 7fffffffh
call    sub_27819dbc
mov     eax, [esi+8]
and     eax, 3
cmp     eax, 1
jz      loc_27801767
cmp     eax, 3
jz      loc_27801767
push    1
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
jmp     loc_27801767
mov     eax, [esi+18h]
mov     ecx, [eax]
jmp     loc_2780177c
jle     loc_278017ad
dec     eax
jmp     loc_278017aa
push    1
push    ebx
push    esi
call    sub_278011b4
jmp     loc_278017d9
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     short loc_278018b1
push    ebx
push    esi
call    sub_27801322
jmp     loc_278017ed
push    0
push    ebx
push    esi
call    sub_278011b4
mov     eax, [esi+60h]
cmp     eax, 0ffffffffh
jz      loc_278017ed
cmp     ebx, eax
jge     loc_278017ed
dec     eax
mov     [esi+60h], eax
jmp     loc_278017ed
xor     eax, eax
jmp     loc_278017fa
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+arg_0]
push    edi
xor     ebp, ebp
mov     edi, [esi+8]
push    ebp
not     edi
shr     edi, 0ch
push    esi
and     edi, 1
call    sub_2781bb07
push    0ffffff98h
push    ebp
push    0ffffffffh
push    esi
call    sub_277f9e6c
cmp     edi, ebp
mov     [esp+10h+arg_0], eax
jnz     short loc_27801911
cmp     eax, ebp
jnz     short loc_2780194e
test    byte ptr [esi+9], 10h
jz      loc_278019c0
mov     eax, [esi+15ch]
lea     ebx, [eax-1]
cmp     ebx, ebp
jl      short loc_2780194e
cmp     [esp+10h+arg_0], ebp
jnz     short loc_27801938
push    0ffffff99h
push    ebp
push    ebx
push    esi
call    sub_277f9e6c
cmp     edi, ebp
jz      short loc_2780194b
mov     eax, [esi+18h]
mov     eax, [eax+4]
push    dword ptr [eax+ebx*4]
push    esi
call    sub_278010b7
dec     ebx
jns     short loc_27801928
test    byte ptr [esi+9], 10h
jz      short loc_278019ca
push    dword ptr [esi+154h]
call    sub_2781fa0a
mov     [esi+15ch], ebp
or      dword ptr [esi+54h], 0ffffffffh
or      dword ptr [esi+58h], 0ffffffffh
test    byte ptr [esi+1dh], 4
mov     dword ptr [esi+0cch], 7fffffffh
mov     [esi+9ch], ebp
mov     [esi+78h], ebp
mov     [esi+134h], ebp
mov     [esi+138h], ebp
jnz     short loc_278019a4
mov     eax, [esi+48h]
shl     eax, 4
add     eax, [esi+94h]
mov     [esi+0a0h], eax
push    5
push    ebp
push    ebp
push    dword ptr [esi]
call    ds:redrawwindow
push    esi
call    sub_277ffcba
push    1
pop     eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_27801921
push    dword ptr [esi+18h]
call    sub_27815ee5
push    dword ptr [esi+0c0h]
call    sub_27815ee5
cmp     [esi+124h], ebp
jz      short loc_27801965
mov     edi, [esi+120h]
dec     edi
js      loc_27801965
push    edi
push    dword ptr [esi+124h]
call    sub_27815cea
mov     ebx, eax
cmp     ebx, ebp
jz      short loc_278019eb
push    ebp
push    offset sub_2781da79
push    ebx
call    sub_27815f1b
push    ebx
call    sub_27815ee5
jmp     short loc_278019eb
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
or      edi, 0ffffffffh
mov     eax, [esi+8]
mov     [ebp+var_14], edi
test    ah, 10h
jz      loc_27801b1d
mov     edi, [esi+0c4h]
mov     ebx, [esi+0c8h]
add     edi, [ebp+arg_4]
add     ebx, [ebp+arg_8]
push    1
push    esi
call    sub_27819d38
push    eax
push    ebx
push    edi
push    esi
mov     [ebp+arg_4], eax
call    sub_2781a1c4
mov     edi, eax
mov     eax, [ebp+arg_c]
sub     eax, 23h
jz      loc_27801af7
dec     eax
jz      loc_27801af3
dec     eax
jz      short loc_27801ae6
dec     eax
jz      short loc_27801adc
dec     eax
jz      short loc_27801acb
dec     eax
jnz     short loc_27801a94
test    byte ptr [esi+9], 10h
jz      short loc_27801ac4
mov     ecx, [esi+15ch]
mov     eax, [ebp+arg_4]
add     eax, edi
cmp     eax, ecx
jge     short loc_27801a94
mov     edi, eax
test    edi, edi
jge     short loc_27801a9a
xor     edi, edi
mov     ecx, [esi+8]
and     ecx, 1000h
jz      short loc_27801b0f
mov     eax, [esi+15ch]
dec     eax
cmp     eax, edi
jge     short loc_27801abd
test    ecx, ecx
jz      short loc_27801b16
mov     esi, [esi+15ch]
lea     edi, [esi-1]
mov     eax, edi
jmp     loc_27801b47
mov     eax, [esi+18h]
mov     ecx, [eax]
jmp     short loc_27801a89
lea     ecx, [edi+1]
mov     eax, ecx
cdq
idiv    [ebp+arg_4]
test    edx, edx
jz      short loc_27801a94
mov     edi, ecx
jmp     short loc_27801a94
cmp     edi, [ebp+arg_4]
jl      short loc_27801a94
sub     edi, [ebp+arg_4]
jmp     short loc_27801a94
mov     eax, edi
cdq
idiv    [ebp+arg_4]
test    edx, edx
jz      short loc_27801a94
dec     edi
jmp     short loc_27801a94
xor     edi, edi
jmp     short loc_27801a94
test    byte ptr [esi+9], 10h
jz      short loc_27801b08
mov     eax, [esi+15ch]
lea     edi, [eax-1]
jmp     short loc_27801a94
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_27801b03
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_27801aab
mov     eax, [esi+18h]
mov     esi, [eax]
jmp     short loc_27801aba
xor     edx, edx
test    al, 3
mov     [ebp+var_1c], edx
mov     [ebp+var_10], edx
mov     [ebp+hmem], edx
mov     [ebp+var_c], edx
jnz     short loc_27801b4e
mov     eax, [esi+0bch]
mov     [ebp+var_18], eax
mov     eax, [esi+18h]
mov     ecx, [eax]
cmp     ecx, 1
mov     [ebp+var_20], ecx
jnz     short loc_27801b56
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [esi+0a4h]
jmp     short loc_27801b35
cmp     [ebp+arg_c], 24h
jnz     loc_27801c2c
mov     eax, [esi+0d8h]
mov     [ebp+hmem], eax
mov     [ebp+var_10], eax
mov     eax, [esi+0d4h]
mov     [ebp+var_c], eax
cmp     ecx, edx
mov     [ebp+var_4], edx
jle     loc_27801abd
push    edx
push    edx
lea     eax, [ebp+var_30]
push    edx
push    eax
push    [ebp+var_4]
push    esi
call    sub_27802300
mov     ecx, [ebp+var_30]
sub     ecx, [ebp+arg_4]
jns     loc_27801c54
mov     eax, ecx
neg     eax
mov     [ebp+var_8], eax
mov     edx, [ebp+var_2c]
mov     eax, edx
sub     eax, [ebp+arg_8]
mov     edi, eax
jns     short loc_27801bb1
neg     edi
cmp     [ebp+arg_c], 25h
jnz     short loc_27801bc0
cmp     [ebp+var_8], edi
jb      short loc_27801c19
test    ecx, ecx
jge     short loc_27801c19
cmp     [ebp+arg_c], 27h
jnz     short loc_27801bcf
cmp     [ebp+var_8], edi
jb      short loc_27801c19
test    ecx, ecx
jle     short loc_27801c19
mov     ecx, [ebp+arg_c]
cmp     ecx, 26h
jnz     short loc_27801be0
cmp     [ebp+var_8], edi
ja      short loc_27801c19
test    eax, eax
jge     short loc_27801c19
cmp     ecx, 28h
jnz     short loc_27801bee
cmp     [ebp+var_8], edi
ja      short loc_27801c19
test    eax, eax
jle     short loc_27801c19
cmp     ecx, 24h
jz      short loc_27801c61
cmp     ecx, 23h
jz      short loc_27801c5c
mov     eax, [ebp+var_8]
mov     ecx, edi
imul    eax, eax
imul    ecx, edi
add     eax, ecx
cmp     [ebp+var_14], 0ffffffffh
jz      short loc_27801c10
cmp     [ebp+var_1c], eax
jbe     short loc_27801c19
mov     [ebp+var_1c], eax
mov     eax, [ebp+var_4]
mov     [ebp+var_14], eax
inc     [ebp+var_4]
mov     eax, [ebp+var_4]
cmp     eax, [ebp+var_20]
jl      short loc_27801c4d
mov     edi, [ebp+var_14]
jmp     loc_27801abd
cmp     [ebp+arg_c], 23h
jnz     loc_27801b75
mov     eax, [esi+0d0h]
mov     [ebp+hmem], eax
mov     [ebp+var_10], eax
mov     eax, [esi+0cch]
jmp     loc_27801b72
xor     edx, edx
jmp     loc_27801b80
mov     [ebp+var_8], ecx
jmp     loc_27801ba3
cmp     ecx, 24h
jnz     short loc_27801c93
mov     eax, [ebp+var_18]
add     eax, edx
cmp     eax, [ebp+var_10]
jl      short loc_27801c8e
cmp     edx, [ebp+hmem]
jge     short loc_27801c19
mov     ecx, [ebp+var_30]
cmp     ecx, [ebp+var_c]
jge     short loc_27801c19
mov     edi, [ebp+var_4]
cmp     eax, [ebp+hmem]
mov     [ebp+var_14], edi
mov     [ebp+var_c], ecx
mov     [ebp+var_10], edx
jge     short loc_27801c19
mov     [ebp+hmem], eax
jmp     short loc_27801c19
mov     ecx, [ebp+var_30]
jmp     short loc_27801c78
cmp     edx, [ebp+var_10]
mov     eax, [ebp+var_28]
jg      short loc_27801cb2
mov     ecx, [ebp+var_18]
add     ecx, edx
cmp     ecx, [ebp+hmem]
jle     loc_27801c19
cmp     eax, [ebp+var_c]
jle     loc_27801c19
mov     ecx, [ebp+var_4]
cmp     edx, [ebp+hmem]
mov     [ebp+var_14], ecx
mov     [ebp+var_c], eax
mov     [ebp+var_10], edx
jle     loc_27801c19
mov     [ebp+hmem], edx
jmp     loc_27801c19
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     eax, [esi+8]
mov     ecx, eax
and     ecx, 1000h
jz      loc_27801dab
mov     edx, [esi+15ch]
push    1
and     eax, 3
pop     ebx
mov     [ebp+hmem], edx
cmp     eax, ebx
jz      loc_27801e06
cmp     eax, 3
jz      loc_27801e06
mov     edi, [ebp+arg_8]
xor     eax, eax
push    24h
cmp     ecx, eax
pop     ebx
jz      loc_27801db5
cmp     [ebp+arg_4], eax
jge     short loc_27801d24
mov     [ebp+arg_4], eax
cmp     edi, 25h
jz      short loc_27801d4f
cmp     edi, 27h
jz      short loc_27801d4f
cmp     edi, 26h
jz      short loc_27801d4f
cmp     edi, 28h
jz      short loc_27801d4f
cmp     edi, ebx
jz      short loc_27801d4f
cmp     edi, 23h
jz      short loc_27801d4f
cmp     edi, 22h
jz      short loc_27801d4f
cmp     edi, 21h
jnz     def_27801e15
push    eax
push    eax
push    eax
lea     eax, [ebp+var_10]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_27802300
cmp     edi, 21h
jz      loc_27801df6
cmp     edi, 22h
jz      short loc_27801dd8
cmp     edi, 23h
jz      short loc_27801dc7
cmp     edi, ebx
jz      short loc_27801d93
jbe     def_27801e15
cmp     edi, 28h
ja      def_27801e15
test    byte ptr [esi+9], 10h
jnz     short loc_27801e01
cmp     [ebp+arg_4], 0ffffffffh
jnz     short loc_27801e01
mov     edi, ebx
mov     eax, [esi+0c4h]
neg     eax
mov     [ebp+var_10], eax
mov     eax, [esi+0c8h]
neg     eax
mov     [ebp+var_c], eax
jmp     short loc_27801de4
mov     edx, [esi+18h]
mov     edx, [edx]
jmp     loc_27801cf2
cmp     [ebp+arg_4], 0ffffffffh
jz      short loc_27801d5f
push    eax
push    eax
push    eax
lea     eax, [ebp+var_10]
push    eax
push    [ebp+arg_4]
jmp     short loc_27801d59
mov     eax, [esi+0d4h]
mov     [ebp+var_10], eax
mov     eax, [esi+0d8h]
jmp     short loc_27801da6
mov     eax, [ebp+var_c]
push    26h
add     eax, [esi+6ch]
pop     edi
mov     [ebp+var_c], eax
push    edi
push    eax
push    [ebp+var_10]
push    esi
call    sub_27801a18
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [ebp+var_c]
push    28h
sub     eax, [esi+6ch]
pop     edi
jmp     short loc_27801da6
mov     eax, [ebp+var_c]
jmp     short loc_27801de4
mov     ecx, [ebp+arg_8]
add     ecx, 0ffffffdfh
cmp     ecx, 7
ja      def_27801e15
jmp     ds:jpt_27801e15[ecx*4]
cmp     eax, ebx
jnz     short loc_27801e30
xor     eax, eax
push    eax
push    eax
push    eax
push    esi
call    sub_2781f105
mov     eax, [ebp+arg_4]
jmp     short loc_27801e39
mov     eax, [ebp+arg_4]
sub     eax, [esi+0a8h]
test    eax, eax
jl      short loc_27801e42
cmp     eax, [ebp+hmem]
jl      short loc_27801def
mov     eax, [ebp+hmem]
dec     eax
neg     eax
sbb     eax, eax
jmp     short loc_27801def
cmp     eax, ebx
jnz     short loc_27801e57
push    0
push    0
push    ebx
jmp     short loc_27801e25
mov     eax, [ebp+arg_4]
add     eax, [esi+0a8h]
jmp     short loc_27801e39
mov     eax, [ebp+arg_4]
dec     eax
jmp     short loc_27801e39
mov     eax, [ebp+arg_4]
inc     eax
jmp     short loc_27801e39
cmp     eax, ebx
jnz     short loc_27801eaf
mov     ecx, [esi+6ch]
mov     eax, [esi+138h]
sub     ecx, [esi+12ch]
mov     edi, [esi+0a4h]
mov     ebx, [ebp+arg_4]
add     eax, ecx
sub     eax, edi
cdq
idiv    edi
cmp     eax, ebx
jg      short loc_27801ea5
mov     eax, ecx
cdq
idiv    edi
dec     eax
cmp     eax, 1
jg      short loc_27801ea3
push    1
pop     eax
add     eax, ebx
cmp     eax, [ebp+hmem]
jl      short loc_27801e39
mov     eax, [ebp+hmem]
jmp     short loc_27801e65
mov     ecx, [esi+0a0h]
push    3
pop     edi
lea     eax, [ecx+ecx]
cdq
idiv    edi
mov     edx, [esi+68h]
add     eax, edx
cdq
idiv    ecx
mov     ecx, eax
test    ecx, ecx
jnz     short loc_27801ece
mov     ecx, ebx
mov     esi, [esi+0a8h]
mov     eax, [ebp+arg_4]
imul    ecx, esi
add     eax, ecx
test    esi, esi
jz      loc_27801e39
cmp     eax, [ebp+hmem]
jl      loc_27801e39
sub     eax, esi
jmp     short loc_27801ee4
cmp     eax, ebx
jnz     short loc_27801f31
mov     eax, [esi+138h]
mov     edi, [esi+0a4h]
cdq
idiv    edi
mov     ecx, [ebp+arg_4]
cmp     eax, ecx
jl      short loc_27801f22
mov     eax, [esi+6ch]
sub     eax, [esi+12ch]
cdq
idiv    edi
dec     eax
cmp     eax, ebx
jg      short loc_27801f1e
mov     eax, ebx
sub     ecx, eax
mov     eax, ecx
test    eax, eax
jge     loc_27801e3d
xor     eax, eax
jmp     loc_27801e39
mov     ecx, [esi+0a0h]
push    3
pop     edi
lea     eax, [ecx+ecx]
cdq
idiv    edi
mov     edx, [esi+68h]
add     eax, edx
cdq
idiv    ecx
mov     ecx, eax
test    ecx, ecx
jnz     short loc_27801f50
mov     ecx, ebx
mov     esi, [esi+0a8h]
mov     eax, [ebp+arg_4]
imul    ecx, esi
sub     eax, ecx
test    esi, esi
jz      loc_27801e39
test    eax, eax
jge     loc_27801e3d
add     eax, esi
jns     loc_27801e39
jmp     short loc_27801f6e
or      eax, 0ffffffffh
jmp     loc_27801def
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+hmem]
mov     eax, [edi+8]
and     eax, 1000h
jz      loc_27802089
mov     ecx, [edi+15ch]
mov     esi, [ebp+arg_4]
or      edx, 0ffffffffh
cmp     esi, edx
mov     [ebp+var_4], ecx
jl      loc_278020f3
cmp     esi, ecx
jge     loc_278020f3
mov     ebx, [ebp+arg_8]
test    eax, eax
jz      short loc_27801fe7
test    bl, 2ch
jnz     loc_278020f3
mov     [ebp+hmem], ebx
mov     ecx, 0f00h
and     [ebp+hmem], 1
jz      short loc_27802007
test    ecx, ebx
jnz     short loc_27802007
mov     eax, [edi+54h]
cmp     esi, eax
jge     loc_278020f3
lea     esi, [eax-1]
mov     [ebp+arg_4], ebx
and     [ebp+arg_4], ecx
cmp     [ebp+arg_4], 0
jz      loc_278020ae
test    bh, 1
jz      short loc_27802093
push    26h
pop     eax
cmp     esi, edx
jz      loc_278020f3
push    eax
push    esi
push    edi
call    sub_27801ccf
mov     esi, eax
or      edx, 0ffffffffh
cmp     esi, edx
jz      loc_278020f3
test    ebx, 0fffff0ffh
jz      short loc_27802080
test    byte ptr [edi+9], 10h
jnz     short loc_278020b4
mov     eax, [edi+18h]
cmp     [ebp+hmem], 0
mov     eax, [eax+4]
mov     eax, [eax+esi*4]
mov     ax, [eax+16h]
jz      short loc_27802065
test    al, 1
jz      loc_278020f3
test    bl, 2
jz      short loc_2780206e
test    al, 2
jz      short loc_2780200d
test    bl, 4
jz      short loc_27802077
test    al, 4
jz      short loc_2780200d
test    bl, 8
jz      short loc_27802080
test    al, 8
jz      short loc_2780200d
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     ecx, [edi+18h]
mov     ecx, [ecx]
jmp     loc_27801fbe
test    bh, 2
jz      short loc_2780209c
push    28h
jmp     short loc_2780201e
mov     eax, ebx
and     eax, 800h
or      ah, 94h
shr     eax, 0ah
jmp     loc_2780201f
inc     esi
cmp     esi, [ebp+var_4]
jmp     short loc_27802036
cmp     [ebp+hmem], 0
jz      short loc_278020d4
test    bl, 2
jz      short loc_27802080
push    esi
push    dword ptr [edi+154h]
call    sub_2781fa40
test    eax, eax
jnz     short loc_27802080
or      esi, 0ffffffffh
jmp     short loc_27802080
test    bl, 2
jz      short loc_278020ef
test    esi, esi
jg      short loc_278020df
xor     esi, esi
push    esi
push    dword ptr [edi+154h]
call    sub_2781fbaa
mov     esi, eax
jmp     short loc_27802080
mov     esi, edx
jmp     short loc_27802080
mov     eax, edx
jmp     short loc_27802082
push    ebp
mov     ebp, esp
sub     esp, 12ch
mov     eax, [ebp+arg_4]
and     [ebp+var_20], 0
mov     [ebp+var_24], eax
lea     eax, [ebp+var_12c]
mov     [ebp+lpstring1], eax
lea     eax, [ebp+var_28]
push    eax
mov     [ebp+var_28], 1
push    [ebp+arg_0]
mov     [ebp+var_10], 104h
call    sub_2780011b
test    [ebp+arg_c], 0ch
push    [ebp+lpstring2]
jnz     short loc_27802143
push    [ebp+lpstring1]
call    ds:lstrcmpia
leave
retn    14h
call    ds:lstrlena
cmp     [ebp+arg_10], 0
jz      short loc_27802157
cmp     eax, [ebp+arg_10]
jle     short loc_27802157
mov     eax, [ebp+arg_10]
push    eax
push    [ebp+lpstring2]
push    [ebp+lpstring1]
push    0
call    sub_27816446
test    eax, eax
jz      short loc_2780216d
xor     eax, eax
jmp     short locret_2780213f
push    [ebp+lpstring2]
push    [ebp+lpstring1]
call    ds:lstrcmpa
jmp     short locret_2780213f
push    ebp
mov     ebp, esp
push    ecx
mov     ecx, dword ptr [ebp+arg_8]
push    ebx
push    esi
push    edi
test    ecx, ecx
jz      loc_2780222a
mov     eax, [ecx]
test    al, 40h
mov     dword ptr [ebp+arg_8], eax
jz      short loc_278021c0
mov     edx, [ebp+hmem]
mov     eax, [edx+8]
and     eax, 3
jz      short loc_278021aa
cmp     eax, 2
jnz     loc_2780222a
push    dword ptr [ecx+14h]
push    dword ptr [ecx+10h]
push    dword ptr [ecx+0ch]
push    edx
call    sub_27801a18
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     ebx, [ebp+arg_4]
cmp     ebx, 0ffffffffh
jl      short loc_2780222a
mov     esi, [ebp+hmem]
mov     edx, [esi+8]
and     edx, 1000h
jz      short loc_278021ef
mov     eax, [esi+15ch]
cmp     ebx, eax
jge     short loc_2780222a
test    edx, edx
jz      short loc_278021f6
inc     ebx
push    ebx
push    ecx
push    esi
call    sub_277f9dbd
jmp     short loc_278021b9
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_278021dc
mov     eax, [esi+18h]
test    [ebp+arg_8], 1
mov     edi, [eax]
jz      short loc_2780222f
mov     ecx, [ecx+8]
lea     esi, [edi-1]
test    edi, edi
jz      short loc_2780222a
inc     ebx
cmp     ebx, edi
jnz     short loc_27802218
test    [ebp+arg_8], 20h
jz      short loc_2780222a
xor     ebx, ebx
mov     edx, [eax+4]
mov     edx, [edx+ebx*4]
cmp     [edx+1ch], ecx
jz      short loc_2780228d
mov     edx, esi
dec     esi
test    edx, edx
jnz     short loc_2780220b
or      eax, 0ffffffffh
jmp     short loc_278021b9
mov     ecx, [ecx+4]
test    ecx, ecx
mov     [ebp+lpstring2], ecx
jz      short loc_2780222a
test    byte ptr [esi+8], 30h
jz      short loc_27802253
mov     eax, [ebp+arg_4]
inc     eax
push    eax
push    dword ptr [ebp+arg_8]
push    ecx
push    esi
call    sub_2781f546
jmp     loc_278021b9
lea     eax, [edi-1]
test    edi, edi
mov     [ebp+hmem], eax
jz      short loc_2780222a
inc     ebx
cmp     ebx, edi
jnz     short loc_2780226a
test    [ebp+arg_8], 20h
jz      short loc_2780222a
xor     ebx, ebx
mov     eax, dword ptr [ebp+arg_8]
push    0
and     eax, 0ch
push    eax
push    [ebp+lpstring2]
push    ebx
push    esi
call    sub_278020f7
test    eax, eax
jz      short loc_2780228d
mov     eax, [ebp+hmem]
dec     [ebp+hmem]
test    eax, eax
jz      short loc_2780222a
jmp     short loc_2780225d
mov     eax, ebx
jmp     loc_278021b9
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
xor     esi, esi
cmp     [ebp+arg_4], esi
jl      short loc_278022fc
mov     edx, [ebp+arg_0]
test    byte ptr [edx+9], 10h
jz      short loc_278022f5
mov     eax, [edx+15ch]
cmp     [ebp+arg_4], eax
jge     short loc_278022fc
mov     ecx, [ebp+arg_8]
cmp     ecx, esi
jz      short loc_278022fc
mov     eax, [ecx]
cmp     eax, 4
jge     short loc_278022fc
cmp     eax, esi
jl      short loc_278022fc
mov     [ebp+lprcdst], esi
mov     [ebp+var_c], esi
mov     [ebp+var_8], esi
mov     [ebp+var_4], esi
mov     [ebp+eax*4+lprcdst], ecx
push    [ebp+var_4]
push    [ebp+lprcdst]
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+arg_4]
push    edx
call    sub_27802300
push    1
pop     eax
pop     esi
leave
retn    0ch
mov     eax, [edx+18h]
mov     eax, [eax]
jmp     short loc_278022b1
xor     eax, eax
jmp     short loc_278022f0
push    ebp
mov     ebp, esp
sub     esp, 60h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hmem]
mov     ecx, [edi+8]
mov     eax, ecx
and     eax, 3
cmp     eax, 1
jnz     short loc_27802335
push    [ebp+arg_14]
push    [ebp+lprcdst]
push    [ebp+lprcsrc2]
push    [ebp+lprcsrc1]
push    [ebp+arg_4]
push    edi
call    sub_2781e81f
pop     edi
pop     esi
pop     ebx
leave
retn    18h
cmp     eax, 3
jnz     short loc_27802351
push    [ebp+arg_14]
push    [ebp+lprcdst]
push    [ebp+lprcsrc2]
push    [ebp+lprcsrc1]
push    [ebp+arg_4]
push    edi
call    sub_2781cc8c
jmp     short loc_2780232e
test    ch, 10h
jz      loc_278023e2
xor     ebx, ebx
cmp     eax, ebx
jnz     short loc_278023c5
lea     eax, [ebp+var_60]
push    ebx
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    [ebp+arg_4]
push    edi
call    sub_2781994d
mov     edi, [ebp+lprcsrc1]
cmp     edi, ebx
jz      short loc_27802384
lea     esi, [ebp+rcsrc1]
movsd
movsd
movsd
movsd
mov     edi, [ebp+lprcsrc2]
cmp     edi, ebx
jz      short loc_27802392
lea     esi, [ebp+rcsrc2]
movsd
movsd
movsd
movsd
cmp     [ebp+lprcdst], ebx
mov     esi, ds:unionrect
jz      short loc_278023aa
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    [ebp+lprcdst]
call    esi
cmp     [ebp+arg_14], ebx
jz      loc_2780232e
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    [ebp+arg_14]
call    esi
jmp     loc_2780232e
cmp     eax, 2
jnz     short loc_27802376
lea     eax, [ebp+var_60]
push    ebx
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    [ebp+arg_4]
push    edi
call    sub_2781f350
jmp     short loc_27802376
mov     eax, [edi+18h]
mov     ecx, [ebp+arg_4]
cmp     ecx, [eax]
jge     loc_2780232e
mov     eax, [eax+4]
mov     esi, [eax+ecx*4]
cmp     word ptr [esi+14h], 7fffh
jz      short loc_27802406
cmp     word ptr [esi+12h], 7fffh
jnz     short loc_2780241a
xor     ebx, ebx
push    ebx
push    ebx
push    ecx
push    esi
push    edi
call    sub_2781a569
push    eax
push    ebx
call    ds:releasedc
push    [ebp+arg_14]
mov     eax, [edi+8]
and     eax, 3
push    [ebp+lprcdst]
sub     al, 2
neg     al
push    [ebp+lprcsrc2]
sbb     eax, eax
push    [ebp+lprcsrc1]
inc     eax
push    esi
push    eax
push    edi
call    sub_2781a9ef
jmp     loc_2780232e
push    ebp
mov     ebp, esp
sub     esp, 20h
mov     ecx, [ebp+hmem]
push    esi
push    edi
mov     eax, [ecx+8]
and     eax, 3
cmp     eax, 1
jnz     short loc_27802471
push    [ebp+arg_14]
push    [ebp+lprcdst]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    ecx
call    sub_2781e81f
pop     edi
pop     esi
leave
retn    1ch
cmp     eax, 3
jnz     short loc_2780248d
push    [ebp+arg_14]
push    [ebp+lprcdst]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    ecx
call    sub_2781cc8c
jmp     short loc_2780246b
test    eax, eax
jnz     short loc_278024f4
push    1
lea     eax, [ebp+rcsrc2]
push    [ebp+arg_18]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    [ebp+arg_4]
push    ecx
call    sub_2781994d
mov     edi, [ebp+arg_8]
test    edi, edi
jz      short loc_278024b5
lea     esi, [ebp+rcsrc1]
movsd
movsd
movsd
movsd
mov     edi, [ebp+arg_c]
test    edi, edi
jz      short loc_278024c3
lea     esi, [ebp+rcsrc2]
movsd
movsd
movsd
movsd
cmp     [ebp+lprcdst], 0
mov     esi, ds:unionrect
jz      short loc_278024dc
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    [ebp+lprcdst]
call    esi
cmp     [ebp+arg_14], 0
jz      short loc_2780246b
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    [ebp+arg_14]
call    esi
jmp     loc_2780246b
cmp     eax, 2
jnz     short loc_278024a7
push    1
lea     eax, [ebp+rcsrc2]
push    [ebp+arg_18]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    [ebp+arg_4]
push    ecx
call    sub_2781f350
jmp     short loc_278024a7
push    ebx
mov     ebx, [esp+4+arg_0]
push    esi
push    edi
test    byte ptr [ebx+9], 10h
jz      short loc_2780254d
mov     eax, [ebx+15ch]
mov     esi, [esp+0ch+arg_4]
cmp     esi, eax
jge     short loc_27802554
mov     edi, [esp+0ch+arg_8]
cmp     edi, eax
jl      short loc_27802537
lea     edi, [eax-1]
cmp     esi, edi
jg      short loc_27802554
push    0
mov     eax, esi
push    5
push    0
push    eax
push    ebx
inc     esi
call    sub_2780255d
jmp     short loc_27802537
mov     eax, [ebx+18h]
mov     eax, [eax]
jmp     short loc_27802524
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 14h
cmp     [ebp+arg_4], 0ffffffffh
push    ebx
push    esi
push    edi
jz      loc_278025f0
mov     esi, [ebp+arg_0]
xor     edi, edi
xor     edx, edx
xor     ecx, ecx
mov     eax, [esi+8]
mov     [ebp+var_4], edi
test    ah, 10h
jz      short loc_27802593
test    byte ptr [esi+1dh], 20h
jz      short loc_27802593
test    byte ptr [esi+20h], 20h
jnz     short loc_27802593
and     [ebp+arg_8], ecx
test    ah, 4
jz      short loc_2780259c
and     [ebp+arg_8], 0
cmp     [ebp+arg_8], 0
jz      short loc_278025f7
lea     eax, [ebp+rcupdate]
mov     [ebp+var_4], eax
mov     eax, [esi+1ch]
mov     ebx, eax
and     ebx, 12h
cmp     bl, 12h
jnz     short loc_2780260f
push    [ebp+var_4]
push    edx
push    ecx
push    edi
push    [ebp+arg_4]
push    esi
call    sub_27802300
mov     eax, [esi+68h]
cmp     eax, [ebp+rcupdate.left]
jle     short loc_278025f0
xor     eax, eax
cmp     [ebp+rcupdate.right], eax
jle     short loc_278025f0
mov     ecx, [esi+6ch]
cmp     ecx, [ebp+rcupdate.top]
jle     short loc_278025f0
cmp     [ebp+rcupdate.bottom], eax
jle     short loc_278025f0
push    [ebp+flags]
push    eax
lea     eax, [ebp+rcupdate]
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     eax, [ebp+arg_10]
dec     eax
jz      short loc_2780260a
dec     eax
jz      short loc_27802605
lea     edx, [ebp+rcupdate]
jmp     short loc_278025a8
lea     edi, [ebp+rcupdate]
jmp     short loc_278025a8
lea     ecx, [ebp+rcupdate]
jmp     short loc_278025a8
test    al, 10h
jnz     short loc_278025f0
mov     eax, [esi+60h]
cmp     eax, 0ffffffffh
jz      short loc_27802620
cmp     [ebp+arg_4], eax
jge     short loc_278025f0
push    [ebp+var_4]
push    edx
push    ecx
push    edi
push    [ebp+arg_4]
push    esi
call    sub_27802300
mov     eax, [esi+68h]
cmp     eax, [ebp+rcupdate.left]
jle     short loc_278025f0
cmp     [ebp+rcupdate.right], 0
jle     short loc_278025f0
mov     eax, [esi+6ch]
cmp     eax, [ebp+rcupdate.top]
jle     short loc_278025f0
cmp     [ebp+rcupdate.bottom], 0
jle     short loc_278025f0
lea     eax, [ebp+rcupdate]
push    eax
call    ds:createrectrgnindirect
push    eax
push    esi
call    sub_277fd00e
test    byte ptr [ebp+flags], 4
jz      short loc_278025f0
or      dword ptr [esi+1ch], 4
jmp     short loc_278025f0
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+hmem]
push    esi
push    edi
lea     esi, [ebx+0cch]
lea     edi, [ebp+var_20]
movsd
movsd
xor     eax, eax
lea     ecx, [ebp+rc]
movsd
push    eax
push    ecx
push    eax
mov     [ebp+hmem], eax
push    eax
mov     eax, [ebx+8]
movsd
mov     edi, [ebp+var_14]
mov     esi, [ebp+var_18]
sub     edi, dy
sub     esi, dword_2782a06c
push    [ebp+arg_4]
and     eax, 3
sub     al, 2
neg     al
sbb     eax, eax
inc     eax
push    eax
push    ebx
call    sub_2781a9ef
push    dword ptr [ebx+0c8h]
lea     eax, [ebp+rc]
push    dword ptr [ebx+0c4h]
push    eax
call    ds:offsetrect
cmp     [ebp+rc.right], esi
jl      short loc_278026f6
push    4
pop     eax
mov     ecx, [ebp+rc.left]
cmp     ecx, [ebp+var_20]
jg      short loc_278026de
or      al, 1
mov     ecx, [ebp+rc.top]
cmp     ecx, [ebp+var_1c]
jg      short loc_278026e8
or      al, 2
cmp     [ebp+rc.bottom], edi
jl      short loc_278026ef
or      al, 8
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebp+hmem]
jmp     short loc_278026d4
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+hmem]
push    edi
test    byte ptr [esi+9], 10h
jnz     loc_27802801
add     esi, 0cch
mov     eax, 7fffffffh
mov     [ebp+arg_4], esi
cmp     [esi], eax
jz      loc_2780283c
cmp     [ebp+arg_8], eax
jz      loc_2780283c
cmp     [ebp+arg_c], eax
jz      loc_2780283c
cmp     word ptr [ebx+14h], 7fffh
jz      loc_2780283c
cmp     word ptr [ebx+12h], 7fffh
jz      loc_2780283c
lea     edi, [ebp+rcdst]
mov     ecx, dy
movsd
movsd
movsd
movsd
sub     [ebp+rcdst.bottom], ecx
mov     ecx, dword_2782a06c
sub     [ebp+rcdst.right], ecx
cmp     [ebx+4], eax
jz      loc_27802823
push    ebx
push    [ebp+hmem]
call    sub_27802668
mov     esi, eax
mov     eax, [ebp+arg_8]
push    ebx
mov     [ebx+4], eax
mov     eax, [ebp+arg_c]
push    [ebp+hmem]
mov     [ebx+8], eax
call    sub_27802668
cmp     esi, eax
jnz     loc_27802834
mov     esi, [ebp+hmem]
xor     eax, eax
lea     ecx, [ebp+rc]
push    eax
push    ecx
push    eax
push    eax
mov     eax, [esi+8]
and     eax, 3
push    ebx
sub     al, 2
neg     al
sbb     eax, eax
inc     eax
push    eax
push    esi
call    sub_2781a9ef
push    dword ptr [esi+0c8h]
lea     eax, [ebp+rc]
push    dword ptr [esi+0c4h]
push    eax
call    ds:offsetrect
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rcdst]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:unionrect
mov     eax, dword_2782a06c
mov     edi, [ebp+arg_4]
add     [ebp+rcdst.right], eax
mov     eax, dy
add     [ebp+rcdst.bottom], eax
lea     esi, [ebp+rcdst]
movsd
movsd
movsd
movsd
mov     eax, [ebp+arg_8]
mov     [ebx+4], eax
mov     eax, [ebp+arg_c]
push    eax
mov     [ebx+8], eax
push    dword ptr [ebx+4]
push    [ebp+hmem]
call    sub_277fb1c6
pop     edi
mov     [ebx+3ch], eax
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [ebp+arg_8]
mov     [ebx+4], eax
mov     eax, [ebp+arg_c]
mov     [ebx+8], eax
jmp     loc_2780279e
mov     esi, [ebp+arg_4]
mov     eax, 7fffffffh
mov     [esi], eax
jmp     short loc_27802801
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     eax, [esi+8]
mov     ecx, eax
and     ecx, 3
cmp     cl, 3
jz      short loc_27802874
test    ah, 10h
jnz     short loc_27802874
push    [ebp+arg_4]
push    dword ptr [esi+18h]
call    sub_27815cea
mov     ebx, eax
xor     edi, edi
cmp     ebx, edi
mov     [ebp+hmem], ebx
jnz     short loc_2780287d
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     ecx, 0f000h
mov     eax, 10000h
cmp     [ebp+arg_8], ecx
jl      short loc_27802894
cmp     [ebp+arg_8], eax
jge     short loc_27802894
sub     [ebp+arg_8], eax
cmp     [ebp+arg_c], ecx
jl      short loc_278028a1
cmp     [ebp+arg_c], eax
jge     short loc_278028a1
sub     [ebp+arg_c], eax
cmp     word ptr [ebx+14h], 7fffh
jz      short loc_278028b1
cmp     word ptr [ebx+12h], 7fffh
jnz     short loc_278028c5
push    edi
push    edi
push    [ebp+arg_4]
push    ebx
push    esi
call    sub_2781a569
push    eax
push    edi
call    ds:releasedc
mov     eax, [ebx+8]
cmp     [ebp+arg_c], eax
jnz     short loc_278028d5
mov     ecx, [ebp+arg_8]
cmp     ecx, [ebx+4]
jz      short loc_27802914
cmp     eax, 7fffffffh
jz      short loc_27802956
push    edi
push    5
push    edi
push    [ebp+arg_4]
push    esi
call    sub_2780255d
cmp     [ebp+arg_c], 7fffffffh
jnz     short loc_27802914
cmp     [esi+164h], edi
lea     ebx, [esi+164h]
jnz     short loc_2780290f
push    edi
push    edi
push    400h
push    dword ptr [esi]
call    ds:postmessagea
inc     dword ptr [ebx]
mov     ebx, [ebp+hmem]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    ebx
push    esi
call    sub_278026fb
push    1
push    edi
push    esi
call    sub_277fa494
push    edi
push    1
push    edi
push    [ebp+arg_4]
push    esi
call    sub_2780255d
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     short loc_2780294e
test    byte ptr [esi+9], 1
jz      short loc_2780298b
push    edi
push    esi
call    sub_2781aef6
push    1
pop     eax
jmp     loc_27802876
mov     ecx, [esi+164h]
lea     eax, [esi+164h]
cmp     ecx, edi
jz      short loc_278028e9
dec     ecx
cmp     ecx, edi
mov     [eax], ecx
jnz     loc_278028e9
mov     eax, 400h
push    1
push    eax
push    eax
push    dword ptr [esi]
lea     eax, [ebp+msg]
push    eax
call    ds:peekmessagea
jmp     loc_278028e9
push    esi
call    sub_277ffcba
jmp     short loc_2780294e
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_8]
xor     edx, edx
push    esi
cmp     ebx, edx
push    edi
jz      short loc_278029d0
mov     esi, [ebp+hmem]
mov     eax, [esi+8]
mov     ecx, eax
and     ecx, 3
cmp     ecx, 3
jz      short loc_278029f8
cmp     ecx, 1
jz      short loc_278029f8
test    ah, 10h
jnz     short loc_278029f8
push    [ebp+arg_4]
push    dword ptr [esi+18h]
call    sub_27815cea
mov     edi, eax
test    edi, edi
jnz     short loc_278029d9
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     dword ptr [edi+4], 7fffffffh
jnz     short loc_278029e8
push    esi
call    sub_27819dbc
mov     eax, [edi+4]
mov     [ebx], eax
mov     eax, [edi+8]
push    1
mov     [ebx+4], eax
pop     eax
jmp     short loc_278029d2
push    edx
push    edx
lea     eax, [ebp+var_10]
push    edx
push    eax
push    [ebp+arg_4]
push    esi
call    sub_27802300
mov     eax, [ebp+var_10]
mov     [ebx], eax
mov     eax, [ebp+var_c]
jmp     short loc_278029f0
mov     edx, [esp+arg_4]
test    edx, edx
jz      short loc_27802a45
mov     eax, [esp+arg_0]
mov     ecx, [eax+8]
and     ecx, 3
cmp     ecx, 3
jz      short loc_27802a45
cmp     ecx, 1
jz      short loc_27802a45
mov     ecx, [eax+0c4h]
push    1
mov     [edx], ecx
mov     eax, [eax+0c8h]
mov     [edx+4], eax
pop     eax
retn    8
xor     eax, eax
jmp     short locret_27802a42
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
xor     ebx, ebx
cmp     [ebp+lpstring], ebx
push    esi
push    edi
jz      short loc_27802aad
cmp     [ebp+lpstring], 0ffffffffh
jz      short loc_27802aad
mov     edi, [ebp+hdc]
mov     esi, [ebp+arg_0]
cmp     edi, ebx
jnz     short loc_27802a7e
push    dword ptr [esi]
call    ds:getdc
push    dword ptr [esi+28h]
mov     edi, eax
mov     ebx, edi
push    edi
call    ds:selectobject
lea     eax, [ebp+sz]
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    edi
call    ds:gettextextentpointa
test    ebx, ebx
jz      short loc_27802aa3
push    ebx
push    dword ptr [esi]
call    ds:releasedc
mov     eax, [ebp+sz._cx]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     eax, eax
jmp     short loc_27802aa6
mov     ecx, [esp+arg_0]
mov     eax, [ecx+8]
and     eax, 3
cmp     eax, 1
jnz     short loc_27802acd
push    [esp+wparam]
push    ecx
call    sub_2781db23
retn    8
cmp     eax, 3
jnz     short loc_27802ada
mov     eax, [ecx+0a0h]
jmp     short locret_27802aca
xor     eax, eax
jmp     short locret_27802aca
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     eax, [esi+8]
and     eax, 3
cmp     eax, 3
jnz     short loc_27802b3d
xor     edi, edi
cmp     [ebp+wparam], edi
jnz     loc_27802b92
mov     edx, [ebp+hdc]
lea     eax, [esi+0a0h]
cmp     [eax], edx
jz      short loc_27802b34
cmp     [ebp+arg_c], edi
mov     ecx, 400h
jnz     short loc_27802b18
test    [esi+1ch], ecx
jnz     short loc_27802b34
cmp     [ebp+arg_c], edi
mov     [eax], edx
jz      short loc_27802b22
or      [esi+1ch], ecx
push    5
push    edi
push    edi
push    dword ptr [esi]
call    ds:redrawwindow
push    esi
call    sub_277ffcba
push    1
pop     eax
pop     edi
pop     esi
pop     ebp
retn    10h
cmp     eax, 1
jnz     short loc_27802b50
push    [ebp+hdc]
push    [ebp+wparam]
push    esi
call    sub_2781dbc0
jmp     short loc_27802b37
mov     edx, [ebp+hdc]
xor     edi, edi
cmp     edx, edi
jz      short loc_27802b92
cmp     [esi+0a0h], edx
lea     eax, [esi+0a0h]
jz      short loc_27802b92
cmp     [ebp+arg_c], edi
mov     ecx, 400h
jnz     short loc_27802b76
test    [esi+1ch], ecx
jnz     short loc_27802b92
cmp     [ebp+arg_c], edi
mov     [eax], edx
jz      short loc_27802b80
or      [esi+1ch], ecx
push    5
push    edi
push    edi
push    dword ptr [esi]
call    ds:redrawwindow
push    esi
call    sub_277ffcba
xor     eax, eax
jmp     short loc_27802b37
push    ebp
mov     ebp, esp
sub     esp, 0a0h
push    ebx
push    esi
mov     esi, [ebp+wparam]
push    edi
mov     eax, [esi+8]
test    ah, 10h
jz      loc_27802df7
mov     ecx, [esi+15ch]
mov     edi, [ebp+hdc]
and     eax, 3
push    1
push    edi
mov     [ebp+var_4], ecx
mov     [ebp+var_8], eax
call    ds:setbkmode
push    dword ptr [esi+28h]
push    edi
call    ds:selectobject
lea     eax, [ebp+lparam]
xor     ebx, ebx
push    eax
push    1
push    esi
mov     [ebp+var_90], edi
mov     [ebp+var_78], ebx
mov     [ebp+var_74], ebx
call    sub_27811d7b
test    al, 4
mov     [esi+0ch], eax
jnz     loc_27802df0
push    1
push    ebx
push    esi
call    sub_277fa494
mov     eax, [ebp+var_8]
mov     edi, [ebp+arg_8]
dec     eax
jz      loc_27802e2c
dec     eax
dec     eax
jz      loc_27802e09
test    byte ptr [esi+9], 10h
jz      loc_27802e01
lea     eax, [ebp+var_4]
push    eax
lea     eax, [ebp+wparam]
push    eax
push    edi
push    esi
call    sub_2781a167
mov     eax, [ebp+var_4]
xor     ebx, ebx
cmp     [ebp+wparam], ebx
jge     short loc_27802c42
mov     [ebp+wparam], ebx
mov     edx, [esi+8]
and     edx, 1000h
jz      loc_27802e5b
mov     ecx, [esi+15ch]
cmp     ecx, eax
jge     short loc_27802c6c
cmp     edx, ebx
jz      loc_27802e65
mov     eax, [esi+15ch]
mov     [ebp+var_4], eax
cmp     edx, ebx
jz      short loc_27802c83
cmp     eax, [ebp+wparam]
jle     short loc_27802c83
dec     eax
push    eax
push    [ebp+wparam]
push    esi
call    sub_277f9d8c
mov     eax, [ebp+var_4]
mov     ecx, [ebp+hdc]
cmp     [ebp+wparam], eax
mov     [ebp+var_70], esi
mov     [ebp+var_48], ecx
mov     [ebp+var_68], edi
mov     [ebp+var_60], ebx
jge     loc_27802d45
cmp     [ebp+var_8], ebx
jz      short loc_27802caa
cmp     [ebp+var_8], 2
jnz     loc_27802eb1
test    byte ptr [esi+9], 10h
jnz     loc_27802eb1
mov     edx, [esi+0c0h]
mov     ecx, eax
sub     ecx, [ebp+wparam]
mov     edx, [edx+4]
mov     edx, [edx+ecx*4-4]
mov     ecx, [esi+18h]
mov     [ebp+var_c], edx
mov     ecx, [ecx+4]
mov     ebx, [ecx+edx*4]
mov     ecx, [ebx+4]
cmp     ecx, 7fffffffh
jz      short loc_27802d0d
mov     ebx, [ebx+8]
sub     ebx, [esi+0c8h]
cmp     ebx, [edi+0ch]
jg      short loc_27802d37
cmp     [ebp+var_8], 2
jnz     loc_27802e76
sub     ecx, [esi+0c4h]
cmp     ecx, [edi+8]
jg      short loc_27802d37
mov     ecx, [esi+0a4h]
add     ecx, ebx
cmp     ecx, [edi+4]
jl      short loc_27802d37
mov     eax, [esi+34h]
xor     ebx, ebx
mov     [ebp+var_28], eax
mov     eax, [esi+38h]
mov     [ebp+var_24], eax
lea     eax, [ebp+var_70]
push    eax
mov     [esi+5ch], edx
mov     [ebp+var_34], edx
mov     [ebp+var_6c], ebx
mov     [ebp+var_64], ebx
call    sub_27802ecb
cmp     eax, ebx
jz      short loc_27802d45
mov     eax, [ebp+var_4]
inc     [ebp+wparam]
cmp     [ebp+wparam], eax
jl      loc_27802e6f
xor     ebx, ebx
test    byte ptr [esi+9], 10h
jz      loc_27802eb9
mov     eax, [esi+15ch]
cmp     eax, ebx
jnz     short loc_27802dc8
push    esi
call    sub_277f9ec3
test    eax, eax
jz      short loc_27802dc8
xor     ecx, ecx
test    byte ptr [esi+25h], 20h
jz      short loc_27802d70
mov     ecx, 800h
mov     eax, [esi+8]
mov     edx, eax
and     edx, 3
cmp     dl, 1
jnz     loc_27802ec3
test    ah, 40h
jnz     loc_27802ec3
mov     eax, [esi+0a4h]
mov     [ebp+rc.top], eax
push    dword ptr [esi+2ch]
mov     eax, [esi+68h]
mov     [ebp+rc.right], eax
mov     eax, [esi+0a4h]
push    dword ptr [esi+34h]
add     eax, [ebp+rc.top]
mov     [ebp+rc.left], ebx
push    dword ptr [esi+4ch]
mov     [ebp+rc.bottom], eax
lea     eax, [ebp+rc]
push    dword ptr [esi+44h]
push    ecx
push    ebx
push    eax
push    dword ptr [esi+1a0h]
push    [ebp+hdc]
call    sub_27803131
mov     eax, [ebp+var_8]
or      dword ptr [esi+5ch], 0ffffffffh
dec     eax
jnz     short loc_27802ddb
push    [ebp+hdc]
push    esi
call    sub_2781d238
test    byte ptr [esi+0ch], 10h
jz      short loc_27802df0
lea     eax, [ebp+lparam]
push    eax
push    2
push    esi
call    sub_27811d7b
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     loc_27802bb7
mov     [ebp+wparam], ebx
jmp     loc_27802c35
push    dword ptr [edi+4]
push    dword ptr [edi]
push    esi
call    sub_2781cf4c
push    dword ptr [edi+0ch]
mov     [ebp+wparam], eax
push    dword ptr [edi+8]
push    esi
call    sub_2781cf4c
inc     eax
mov     [ebp+var_4], eax
jmp     loc_27802c38
mov     ecx, [esi+138h]
mov     eax, [edi+4]
mov     edx, [esi+12ch]
mov     ebx, [esi+0a4h]
add     eax, ecx
sub     eax, edx
cdq
idiv    ebx
mov     [ebp+wparam], eax
mov     eax, [edi+0ch]
add     eax, ecx
sub     eax, [esi+12ch]
cdq
idiv    ebx
jmp     short loc_27802e23
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     loc_27802c57
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_27802c69
xor     ebx, ebx
jmp     loc_27802c9b
mov     edx, [esi+0ach]
mov     ebx, ecx
sub     ebx, edx
mov     [ebp+arg_8], ebx
mov     ebx, [esi+0c4h]
mov     edx, [ebp+arg_8]
sub     edx, ebx
cmp     edx, [edi+8]
jg      loc_27802d37
mov     edx, [esi+0ach]
add     edx, ecx
sub     edx, ebx
cmp     edx, [edi]
jl      loc_27802d37
mov     edx, [ebp+var_c]
jmp     loc_27802d0d
mov     edx, [ebp+wparam]
jmp     loc_27802d0d
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_27802d55
mov     [ebp+rc.top], ebx
jmp     loc_27802d93
push    ecx
push    ebx
push    ebp
push    esi
mov     esi, [esp+10h+hdc]
push    edi
push    1
mov     eax, [esi]
mov     ebx, 1000h
pop     edi
test    [eax+8], ebx
mov     [esp+14h+var_4], edi
jnz     short loc_27802ef6
mov     edx, [eax+18h]
mov     ecx, [esi+3ch]
mov     edx, [edx+4]
mov     ecx, [edx+ecx*4]
mov     [esi+10h], ecx
mov     edx, [esi+10h]
and     dword ptr [esi+40h], 0
test    edx, edx
jz      loc_278030c4
mov     ecx, [edx+1ch]
test    byte ptr [esi+0ch], 4
mov     [esi+44h], ecx
jnz     short loc_27802f47
test    byte ptr [eax+1ch], 1
jz      short loc_27802f3c
test    edx, edx
jz      loc_278030cb
test    byte ptr [eax+64h], 3
jnz     loc_278030cb
mov     ax, [edx+16h]
test    al, 1
jz      short loc_27802f35
or      dword ptr [esi+40h], 10h
test    al, 2
jz      short loc_27802f3c
or      [esi+40h], edi
mov     eax, [esi]
test    byte ptr [eax+8], 8
jz      short loc_27802f47
or      [esi+40h], edi
mov     ecx, [eax+34h]
mov     [esi+48h], ecx
test    byte ptr [eax+0bh], 8
jz      loc_278030db
mov     ecx, [eax+2ch]
mov     ebp, ds:selectobject
mov     [esi+4ch], ecx
mov     ecx, [esi+3ch]
cmp     [eax+168h], ecx
jnz     loc_278030eb
mov     eax, [eax+1a4h]
cmp     eax, 0ff000000h
jnz     short loc_27802f8b
call    sub_27819290
push    eax
call    ds:getsyscolor
mov     ecx, [esi+4ch]
mov     [esi+48h], eax
cmp     eax, ecx
jnz     short loc_27802fc9
movzx   edx, byte ptr [esi+4ch]
xor     eax, eax
mov     al, [esi+4dh]
movzx   eax, al
shr     ecx, 10h
lea     eax, [eax+eax*4]
movzx   ecx, cl
lea     eax, [eax+edx*2]
add     eax, ecx
xor     ecx, ecx
cmp     eax, 400h
setle   cl
dec     ecx
and     ecx, 0ff000001h
add     ecx, 0ffffffh
mov     [esi+48h], ecx
mov     eax, [esi]
mov     ecx, [eax+20h]
test    cl, 40h
jnz     short loc_27802fe7
test    cl, 80h
jz      short loc_2780300b
push    2
push    dword ptr [esi+3ch]
push    eax
call    sub_278007e2
test    eax, eax
jz      short loc_2780300b
mov     eax, [esi]
test    byte ptr [eax+21h], 8
jz      loc_278030e3
mov     ecx, [eax+16ch]
test    ecx, ecx
jz      loc_278030e3
push    ecx
push    dword ptr [esi+28h]
call    ebp
or      dword ptr [esi+40h], 40h
lea     edi, [esi+18h]
push    edi
push    10001h
push    dword ptr [esi]
call    sub_27811d7b
mov     edx, [esi+40h]
and     dword ptr [esi+0ch], 0ffffffe7h
mov     ecx, [esi+0ch]
mov     [esi+14h], eax
test    dl, 10h
jz      short loc_27803033
or      ecx, 8
mov     [esi+0ch], ecx
test    dl, 1
jz      short loc_27803057
mov     ecx, [esi]
test    byte ptr [ecx+1ch], 1
jz      loc_27803114
or      dword ptr [esi+0ch], 10h
mov     ecx, [ecx+168h]
cmp     ecx, [esi+3ch]
jnz     short loc_27803057
or      dword ptr [esi+0ch], 40h
test    al, 4
jnz     short loc_278030b8
mov     ecx, [esi]
test    [ecx+8], ebx
jnz     short loc_27803077
test    al, 2
jz      short loc_27803077
push    0
push    dword ptr [esi+28h]
push    dword ptr [esi+3ch]
push    dword ptr [esi+10h]
push    ecx
call    sub_2781a569
mov     eax, [esi]
push    esi
mov     eax, [eax+8]
and     eax, 3
call    ds:funcs_27803080[eax*4]
test    byte ptr [esi+14h], 10h
mov     [esp+14h+var_4], eax
jz      short loc_278030a2
and     dword ptr [esi+50h], 0
push    edi
push    10002h
push    dword ptr [esi]
call    sub_27811d7b
test    byte ptr [esi+14h], 2
jz      short loc_278030b8
mov     eax, [esi]
push    dword ptr [eax+28h]
push    dword ptr [esi+28h]
call    ebp
mov     esi, [esi]
or      byte ptr [esi+1dh], 20h
mov     eax, [esp+14h+var_4]
pop     edi
pop     esi
pop     ebp
pop     ebx
pop     ecx
retn    4
xor     ecx, ecx
jmp     loc_27802f08
push    3
push    dword ptr [esi+3ch]
push    eax
call    sub_278007e2
jmp     loc_27802f2d
mov     ecx, [eax+38h]
jmp     loc_27802f5a
push    dword ptr [eax+28h]
jmp     loc_27803002
mov     edx, [eax+20h]
test    dl, 40h
jnz     short loc_2780311d
test    dl, 80h
jz      short loc_27803105
push    2
push    ecx
push    eax
call    sub_278007e2
test    eax, eax
jnz     short loc_2780311d
mov     eax, [esi]
push    dword ptr [eax+28h]
push    dword ptr [esi+28h]
call    ebp
jmp     loc_2780300b
or      dword ptr [esi+0ch], 20h
jmp     loc_27803048
mov     eax, [esi]
test    [eax+20h], ebx
jz      short loc_27803107
mov     ecx, [eax+16ch]
test    ecx, ecx
jz      short loc_27803107
push    ecx
jmp     short loc_2780310a
push    ebp
mov     ebp, esp
sub     esp, 138h
xor     eax, eax
push    ebx
cmp     [ebp+lpchtext], eax
push    esi
push    edi
mov     [ebp+color], eax
mov     [ebp+options], eax
mov     [ebp+var_24], eax
jz      loc_278032fc
mov     esi, [ebp+lprc]
push    esi
call    ds:isrectempty
test    eax, eax
jnz     loc_278032fc
mov     ebx, [ebp+arg_10]
mov     [ebp+var_1c], ebx
and     [ebp+var_1c], 800h
jz      short loc_2780318b
push    [ebp+hdc]
call    ds:gettextalign
mov     [ebp+align], eax
or      ah, 1
push    eax
push    [ebp+hdc]
call    ds:settextalign
lea     edi, [ebp+rc]
mov     eax, dword_2782a068
movsd
movsd
movsd
test    bl, 40h
movsd
jz      short loc_2780319f
lea     eax, [eax+eax*2]
add     [ebp+rc.left], eax
sub     [ebp+rc.right], eax
mov     eax, [ebp+rc.right]
cmp     [ebp+rc.left], eax
jl      short loc_278031b8
test    bx, 118h
jz      loc_278032fc
test    bl, 2
jz      loc_27803303
push    [ebp+ho]
lea     eax, [ebp+cchtext]
push    eax
lea     eax, [ebp+rc]
push    eax
push    [ebp+lpchtext]
push    [ebp+hdc]
call    sub_2781ebf8
test    eax, eax
jz      loc_27803303
cmp     [ebp+cchtext], 104h
jb      short loc_278031ef
mov     [ebp+cchtext], 103h
push    [ebp+cchtext]
lea     eax, [ebp+string1]
push    [ebp+lpchtext]
push    eax
call    ds:rtlmovememory
mov     eax, [ebp+cchtext]
push    offset asc_277cbad0
lea     eax, [ebp+eax+string1]
push    eax
call    ds:lstrcpya
and     [ebp+arg_c], 0
add     [ebp+cchtext], 3
lea     eax, [ebp+string1]
mov     [ebp+lpchtext], eax
mov     edi, [ebp+arg_20]
cmp     edi, 0ffffffffh
jnz     short loc_27803238
test    bx, 108h
jz      short loc_27803241
test    bl, 80h
jz      loc_27803314
mov     eax, ebx
mov     [ebp+var_24], 1
and     al, 80h
neg     al
sbb     eax, eax
not     eax
and     eax, [ebp+arg_1c]
push    eax
push    [ebp+hdc]
call    ds:settextcolor
mov     esi, eax
test    bl, 20h
jz      short loc_2780327c
push    y
lea     eax, [ebp+rc]
push    w
push    eax
call    ds:offsetrect
test    bl, 1
jz      loc_27803485
cmp     dword_27829f48, 0
mov     ecx, 2811h
mov     eax, ecx
jz      loc_27803469
test    bh, 4
jz      short loc_278032a3
mov     eax, 0a811h
test    bl, 4
jnz     short loc_278032ab
or      ah, 1
test    bh, 10h
jz      short loc_278032b5
or      eax, 80000h
push    eax
lea     eax, [ebp+rc]
push    eax
push    [ebp+cchtext]
push    [ebp+lpchtext]
push    [ebp+hdc]
call    ds:drawtexta
test    bl, 98h
jz      short loc_278032ea
push    esi
push    [ebp+hdc]
call    ds:settextcolor
cmp     [ebp+var_24], 0
jnz     short loc_278032ea
push    [ebp+color]
push    [ebp+hdc]
call    ds:setbkcolor
cmp     [ebp+var_1c], 0
jz      short loc_278032fc
push    [ebp+align]
push    [ebp+hdc]
call    ds:settextalign
pop     edi
pop     esi
pop     ebx
leave
retn    24h
push    [ebp+lpchtext]
call    ds:lstrlena
mov     [ebp+cchtext], eax
jmp     loc_27803229
mov     ecx, [ebp+arg_10]
xor     ebx, ebx
and     [ebp+ho], ebx
mov     [ebp+options], 2
test    cl, 8
jz      loc_278033b9
mov     esi, dword_2782a130
mov     [ebp+arg_1c], ecx
and     [ebp+arg_1c], 200h
jz      short loc_2780336a
call    sub_27819290
push    eax
call    ds:getsyscolor
mov     ecx, [ebp+arg_10]
mov     edi, eax
test    cl, 1
jz      short loc_27803378
cmp     [ebp+arg_1c], 0
jz      short loc_27803372
call    sub_27819290
push    eax
call    ds:getsyscolorbrush
mov     ebx, eax
jmp     short loc_27803378
mov     edi, dword_2782a114
jmp     short loc_2780334f
mov     ebx, dword_2782a0fc
push    esi
push    [ebp+hdc]
call    ds:settextcolor
push    edi
mov     esi, eax
push    [ebp+hdc]
call    ds:setbkcolor
test    ebx, ebx
mov     [ebp+color], eax
jz      short loc_278033b1
push    ebx
push    [ebp+lprc]
push    [ebp+hdc]
call    ds:fillrect
cmp     [ebp+ho], 0
jz      short loc_278033b1
push    [ebp+ho]
call    ds:deleteobject
mov     ebx, [ebp+arg_10]
jmp     loc_27803261
test    ch, 1
jz      short loc_278033ea
mov     eax, color
cmp     edi, eax
jnz     short loc_278033e0
mov     esi, dword_2782a130
mov     edi, dword_2782a114
test    cl, 1
jz      short loc_27803378
mov     ebx, hbr
jmp     short loc_27803378
mov     esi, dword_2782a128
mov     edi, eax
jmp     short loc_278033d3
mov     esi, [ebp+arg_1c]
mov     eax, 0ff000000h
cmp     esi, eax
jnz     short loc_27803427
cmp     edi, eax
jnz     short loc_2780341d
mov     esi, dword_2782a108
mov     edi, dword_2782a10c
and     ecx, 11h
cmp     cl, 11h
jnz     loc_27803378
mov     ebx, dword_2782a110
jmp     loc_27803378
cmp     esi, eax
jnz     short loc_27803427
mov     esi, dword_2782a108
cmp     edi, eax
jnz     short loc_27803431
mov     edi, dword_2782a10c
and     ecx, 11h
cmp     cl, 11h
jnz     loc_27803378
push    edi
push    [ebp+hdc]
call    ds:getnearestcolor
push    eax
call    ds:createsolidbrush
mov     ebx, eax
test    ebx, ebx
jz      short loc_2780345c
mov     [ebp+ho], ebx
jmp     loc_27803378
push    0
call    ds:getstockobject
jmp     loc_27803366
mov     eax, ebx
and     eax, 400h
neg     eax
sbb     eax, eax
and     eax, 0fffc8000h
add     eax, 40000h
or      eax, ecx
jmp     loc_278032a3
cmp     [ebp+arg_c], 0
jz      loc_27803512
lea     eax, [ebp+sz]
push    eax
push    [ebp+cchtext]
push    [ebp+lpchtext]
push    [ebp+hdc]
call    ds:gettextextentpointa
cmp     [ebp+arg_c], 2
jnz     short loc_2780350a
mov     eax, [ebp+rc.left]
sub     eax, [ebp+sz._cx]
add     eax, [ebp+rc.right]
cdq
sub     eax, edx
mov     ecx, eax
sar     ecx, 1
mov     [ebp+rc.left], ecx
mov     edi, [ebp+rc.bottom]
mov     eax, edi
sub     eax, [ebp+rc.top]
sub     eax, [ebp+arg_14]
inc     eax
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+rc.top], eax
test    bl, 4
jz      short loc_278034d8
or      [ebp+options], 4
cmp     ecx, [ebp+rc.right]
jge     loc_278032c9
cmp     [ebp+rc.top], edi
jge     loc_278032c9
push    0
push    [ebp+cchtext]
push    [ebp+lpchtext]
push    [ebp+lprc]
push    [ebp+options]
push    [ebp+rc.top]
push    ecx
push    [ebp+hdc]
call    ds:exttextouta
jmp     loc_278032c9
mov     ecx, [ebp+rc.right]
sub     ecx, [ebp+sz._cx]
jmp     short loc_278034b8
mov     ecx, [ebp+rc.left]
jmp     short loc_278034bb
push    ebp
mov     ebp, esp
sub     esp, 0d0h
push    ebx
mov     ebx, [ebp+nheight]
xor     eax, eax
cmp     ebx, eax
mov     [ebp+h], eax
mov     [ebp+ho], eax
mov     [ebp+lp], eax
jz      loc_2780376f
push    edi
mov     edi, [ebp+w]
push    esi
mov     esi, [ebp+arg_4]
cmp     [edi+168h], esi
jnz     short loc_27803557
push    0ffffffffh
push    edi
call    sub_277fae94
push    dword ptr [edi]
call    ds:updatewindow
lea     eax, [ebp+var_1c]
push    eax
lea     eax, [ebp+rcdst]
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rc]
push    eax
push    esi
push    edi
call    sub_27802300
test    byte ptr [edi+8], 3
jnz     short loc_278035a5
lea     eax, [ebp+var_1c]
push    eax
lea     eax, [ebp+rcdst]
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rc]
push    eax
push    esi
push    edi
call    sub_2780387b
mov     eax, dword_2782a044
neg     eax
push    eax
mov     eax, dword_2782a080
neg     eax
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:inflaterect
mov     eax, [ebp+rcdst.left]
mov     ecx, [ebp+var_1c.left]
mov     edx, [ebp+rc.top]
sub     eax, ecx
mov     esi, [ebp+var_1c.right]
mov     [ebp+var_24], eax
mov     eax, [ebp+rcdst.top]
sub     esi, ecx
sub     eax, edx
push    0
mov     [ebp+var_20], eax
mov     eax, [ebp+var_1c.bottom]
sub     eax, edx
mov     [ebp+w], esi
mov     [ebp+nheight], eax
mov     [ebx], ecx
mov     [ebx+4], edx
call    ds:createcompatibledc
mov     ebx, eax
test    ebx, ebx
jz      loc_27803749
push    [ebp+nheight]
push    esi
call    sub_278132f1
test    eax, eax
mov     [ebp+h], eax
jz      loc_27803747
push    [ebp+nheight]
push    esi
call    sub_27813387
test    eax, eax
mov     [ebp+ho], eax
jz      loc_27803747
push    dword ptr [edi+28h]
mov     esi, ds:selectobject
push    ebx
call    esi
push    1
push    ebx
call    ds:setbkmode
mov     eax, [ebp+arg_4]
push    [ebp+h]
and     [ebp+var_c0], 0
and     [ebp+var_c8], 0
mov     [ebp+var_94], eax
lea     eax, [ebp+var_24]
push    ebx
mov     [ebp+var_d0], edi
mov     [ebp+var_a8], ebx
mov     [ebp+var_cc], eax
mov     [ebp+var_c4], 87h
call    esi
push    42h
mov     [ebp+lp], eax
push    [ebp+nheight]
push    [ebp+w]
push    0
push    0
push    ebx
call    ds:patblt
lea     eax, [ebp+var_d0]
push    eax
call    sub_27802ecb
push    [ebp+ho]
mov     [ebp+var_c4], 87h
push    ebx
call    esi
push    0ff0062h
push    [ebp+nheight]
push    [ebp+w]
push    0
push    0
push    ebx
call    ds:patblt
lea     eax, [ebp+var_d0]
push    eax
call    sub_27802ecb
push    [ebp+lp]
push    ebx
call    esi
push    dword_2782a124
push    ebx
call    esi
mov     eax, [edi+8]
and     al, 3
neg     al
sbb     eax, eax
neg     eax
push    eax
push    edi
call    sub_277fff75
push    0
push    1
push    1
mov     esi, eax
push    [ebp+nheight]
push    [ebp+w]
push    esi
call    sub_278136dd
test    eax, eax
mov     [ebp+lp], eax
jz      short loc_27803747
push    0ffffffffh
push    eax
call    sub_27813ac4
push    [ebp+ho]
push    [ebp+h]
push    [ebp+lp]
call    sub_27813dd6
test    esi, esi
jz      short loc_27803747
mov     eax, [ebp+arg_4]
and     [ebp+var_64], 0
mov     [ebp+var_68], eax
lea     eax, [ebp+var_6c]
push    eax
push    edi
mov     [ebp+var_6c], 0ah
mov     [ebp+var_5c], 0f00h
call    sub_2780011b
mov     eax, [ebp+var_60]
and     eax, 0f00h
push    eax
mov     eax, [ebp+rc.left]
push    [ebp+var_50]
sub     eax, [ebp+var_1c.left]
push    esi
push    0
push    eax
push    0
push    [ebp+lp]
call    sub_27814ebc
test    ebx, ebx
mov     esi, ds:deleteobject
jz      short loc_27803754
push    ebx
call    esi
cmp     [ebp+h], 0
jz      short loc_2780375f
push    [ebp+h]
call    esi
cmp     [ebp+ho], 0
jz      short loc_2780376a
push    [ebp+ho]
call    esi
mov     eax, [ebp+lp]
pop     esi
pop     edi
pop     ebx
leave
retn    0ch
mov     ecx, [esp+arg_0]
mov     eax, [ecx+8]
and     eax, 3
cmp     eax, 1
jnz     short loc_27803793
mov     eax, [ecx+138h]
cdq
idiv    dword ptr [ecx+0a4h]
retn    4
cmp     eax, 3
jnz     short loc_278037ae
mov     eax, [ecx+9ch]
cdq
idiv    dword ptr [ecx+0a0h]
imul    eax, [ecx+0a8h]
jmp     short locret_27803790
xor     eax, eax
jmp     short locret_27803790
mov     ecx, [esp+arg_0]
mov     edx, [ecx+8]
mov     eax, edx
and     eax, 3
cmp     eax, 1
jnz     short loc_278037d6
mov     eax, [ecx+6ch]
sub     eax, [ecx+12ch]
cdq
idiv    dword ptr [ecx+0a4h]
retn    4
cmp     eax, 3
jnz     short loc_278037ee
mov     eax, [ecx+68h]
cdq
idiv    dword ptr [ecx+0a0h]
imul    eax, [ecx+0a8h]
jmp     short locret_278037d3
test    dh, 10h
jz      short loc_278037fb
mov     eax, [ecx+15ch]
jmp     short locret_278037d3
mov     eax, [ecx+18h]
mov     eax, [eax]
jmp     short locret_278037d3
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+flags]
push    esi
push    edi
mov     esi, [ebp+arg_0]
push    0
push    ebx
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_2780255d
test    byte ptr [esi+8], 3
jnz     short loc_27803874
push    [ebp+arg_4]
push    esi
call    sub_277fb6ca
test    eax, eax
jz      short loc_27803838
test    bl, 4
jz      short loc_27803874
lea     eax, [ebp+rcupdate]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_277fb721
mov     eax, [esi+44h]
mov     ecx, dy
mov     edi, [ebp+rcupdate.bottom]
sub     edi, [ebp+rcupdate.top]
shl     eax, 1
lea     edx, [ecx+eax]
cmp     edi, edx
jle     short loc_27803874
or      ebx, 4
add     ecx, eax
add     [ebp+rcupdate.top], ecx
push    ebx
lea     eax, [ebp+rcupdate]
push    0
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
lea     edi, [ebp+var_40]
mov     eax, [esi+8]
test    al, 3
jnz     short loc_278038ef
mov     ebx, [ebp+lprcsrc2]
test    ebx, ebx
jz      short loc_278038bc
test    ah, 10h
jnz     short loc_278038f6
push    [ebp+arg_4]
push    dword ptr [esi+18h]
call    sub_27815cea
mov     edi, eax
test    byte ptr [esi+8], 80h
jz      short loc_27803912
movsx   eax, word ptr [edi+12h]
mov     ecx, [ebx+4]
add     ecx, eax
mov     [ebx+0ch], ecx
cmp     [ebp+lprcdst], 0
mov     edi, [ebp+lprcsrc1]
mov     esi, ds:unionrect
jz      short loc_278038da
test    edi, edi
jz      short loc_278038da
test    ebx, ebx
jz      short loc_278038da
push    ebx
push    edi
push    [ebp+lprcdst]
call    esi
cmp     [ebp+arg_14], 0
jz      short loc_278038ef
test    edi, edi
jz      short loc_278038ef
test    ebx, ebx
jz      short loc_278038ef
push    ebx
push    edi
push    [ebp+arg_14]
call    esi
pop     edi
pop     esi
pop     ebx
leave
retn    18h
push    0
push    0
push    [ebp+arg_4]
lea     eax, [ebp+var_40]
push    eax
push    esi
call    sub_2781a569
push    eax
push    0
call    ds:releasedc
jmp     short loc_278038aa
movsx   eax, word ptr [edi+14h]
jmp     short loc_278038b4
push    ebp
mov     ebp, esp
sub     esp, 38h
cmp     [ebp+h], 0ffffffffh
push    esi
push    edi
jz      short loc_27803972
mov     esi, ds:selectobject
xor     edi, edi
cmp     [ebp+h], edi
jz      short loc_2780393d
push    [ebp+h]
push    [ebp+hdc]
call    esi
mov     edi, eax
lea     eax, [ebp+tm]
push    eax
push    [ebp+hdc]
call    ds:gettextmetricsa
test    edi, edi
jz      short loc_27803954
push    edi
push    [ebp+hdc]
call    esi
mov     edx, [ebp+tm.tminternalleading]
mov     eax, [ebp+tm.tmheight]
mov     ecx, [ebp+arg_0]
add     eax, edx
test    edx, edx
mov     [ecx+24h], eax
jnz     short loc_27803972
mov     edx, y
lea     eax, [eax+edx*2]
mov     [ecx+24h], eax
pop     edi
pop     esi
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 158h
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
mov     eax, [esi+1ch]
push    dword ptr [esi]
mov     ebx, [esi+20h]
mov     [ebp+ho], eax
call    ds:getdc
mov     edi, [ebp+h]
mov     [ebp+hdc], eax
test    edi, edi
jz      short loc_278039e3
and     dword ptr [esi+20h], 0
push    edi
mov     [esi+1ch], edi
call    sub_277bc9de
mov     [esi+40h], eax
test    ebx, ebx
jz      short loc_278039bf
push    [ebp+ho]
call    ds:deleteobject
push    edi
push    [ebp+hdc]
push    esi
call    sub_27803918
push    [ebp+hdc]
push    dword ptr [esi]
call    ds:releasedc
push    0
push    esi
call    sub_278042d1
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    ebx, ebx
jz      short loc_278039ee
mov     edi, [esi+1ch]
xor     ebx, ebx
jmp     short loc_278039b2
lea     ecx, [ebp+pvparam]
mov     eax, 154h
push    0
push    ecx
push    eax
push    29h
mov     [ebp+pvparam], eax
call    ds:systemparametersinfoa
lea     eax, [ebp+lf]
push    eax
call    ds:createfontindirecta
mov     edi, eax
test    edi, edi
jnz     short loc_27803a21
mov     edi, dword_2782a124
mov     [esi+1ch], edi
mov     [esi+20h], edi
jmp     short loc_278039b2
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
mov     [ebp+var_4], 80004005h
cmp     [esi+48h], ebx
jnz     short loc_27803aa6
cmp     [esi+44h], ebx
jnz     short loc_27803a59
push    offset aole32_0
call    ds:loadlibrarya
cmp     eax, ebx
mov     [esi+44h], eax
jz      short loc_27803abf
mov     edi, ds:getprocaddress
push    offset acocreateinstan_0
push    dword ptr [esi+44h]
call    edi
cmp     eax, ebx
mov     [ebp+arg_0], eax
jz      short loc_27803abf
push    offset acoinitialize
push    dword ptr [esi+44h]
call    edi
cmp     eax, ebx
jz      short loc_27803abf
push    ebx
call    eax
test    eax, eax
jl      short loc_27803abf
lea     eax, [ebp+var_8]
push    eax
push    offset loc_277cbfc0
push    1
push    ebx
push    offset dword_277cbfb0
call    [ebp+arg_0]
cmp     eax, ebx
mov     [ebp+var_4], eax
jnz     short loc_27803aaf
mov     eax, [ebp+var_8]
mov     [esi+48h], eax
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    offset acouninitialize
push    dword ptr [esi+44h]
call    edi
cmp     eax, ebx
jz      short loc_27803abf
call    eax
mov     eax, [esi+44h]
cmp     eax, ebx
jz      short loc_27803ad0
push    eax
call    ds:freelibrary
mov     [esi+44h], ebx
mov     eax, [ebp+var_4]
jmp     short loc_27803aa8
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+48h]
test    eax, eax
jz      short loc_27803b08
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
push    offset acouninitialize_0
push    dword ptr [esi+44h]
call    ds:getprocaddress
test    eax, eax
jz      short loc_27803afb
call    eax
push    dword ptr [esi+44h]
call    ds:freelibrary
and     dword ptr [esi+44h], 0
pop     esi
retn    4
push    1
push    [esp+4+hdc]
call    sub_278042d1
push    [esp+hdc]
call    sub_27803ad5
retn    4
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
push    esi
push    0a4h
push    40h
call    ds:localalloc
mov     esi, eax
xor     ebx, ebx
cmp     esi, ebx
jnz     short loc_27803b49
or      eax, 0ffffffffh
pop     esi
pop     ebx
leave
retn    8
push    edi
push    esi
push    ebx
push    [ebp+hwnd]
call    ds:setwindowlonga
mov     edi, [ebp+arg_4]
push    edi
push    [ebp+hwnd]
push    esi
call    sub_277b6303
or      dword ptr [esi+54h], 0ffffffffh
or      dword ptr [esi+84h], 0ffffffffh
mov     dword ptr [esi+50h], 0ffh
mov     [esi+40h], ebx
mov     dword ptr [esi+74h], 1
mov     [esi+80h], ebx
mov     dword ptr [esi+78h], 0ff000000h
push    dword ptr [edi+24h]
push    ebx
push    esi
call    sub_2780453b
push    ebx
push    ebx
push    esi
mov     dword ptr [edi+24h], offset byte_277cba1c
call    sub_27804511
or      [ebp+var_c], 0ffffffffh
or      [ebp+var_8], 0ffffffffh
or      [ebp+var_4], 0ffffffffh
lea     eax, [ebp+var_c]
push    eax
push    esi
call    sub_278045b9
test    byte ptr [edi+21h], 1
jnz     short loc_27803bd8
push    0fffffff0h
push    dword ptr [edi+0ch]
call    ds:getwindowlonga
test    eax, 40000h
jz      short loc_27803be8
test    byte ptr [edi+20h], 0bh
jnz     short loc_27803be8
mov     eax, w
mov     ecx, dword_2782a074
add     ecx, eax
mov     [esi+3ch], ecx
test    byte ptr [edi+21h], 8
jz      short loc_27803c4b
push    0ah
xor     eax, eax
pop     ecx
lea     edi, [ebp+var_34]
push    ebx
mov     [ebp+lparam], ebx
push    dword_27828334
rep stosd
mov     edi, [ebp+hwnd]
push    ebx
mov     eax, 80000000h
push    edi
push    eax
push    eax
push    eax
push    eax
push    80000001h
push    ebx
push    offset amsvblibtooltip
push    ebx
call    ds:createwindowexa
or      [ebp+var_14], 0ffffffffh
lea     ecx, [ebp+lparam]
push    ecx
push    ebx
push    404h
push    eax
mov     [esi+18h], eax
mov     [ebp+lparam], 2ch
mov     [ebp+var_30], edi
mov     [ebp+var_2c], 0ffh
call    ds:sendmessagea
xor     eax, eax
pop     edi
jmp     loc_27803b43
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
cmp     byte ptr [esi+50h], 0
jz      loc_27803cf6
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
cmp     dword ptr [esi+3ch], 0
jz      loc_27803cff
push    dword ptr [esi+4]
call    ds:iszoomed
test    eax, eax
jnz     short loc_27803cff
mov     eax, [esi+2ch]
mov     ecx, [ebp+rect.right]
sub     eax, [esi+3ch]
add     ecx, eax
mov     eax, [esi+30h]
mov     edx, [esi+34h]
add     [ebp+rect.top], eax
mov     eax, [esi+2ch]
mov     edi, [esi+74h]
and     [ebp+arg_0], 0
sub     ecx, eax
sub     eax, edx
test    edi, edi
mov     [ebp+var_4], ecx
jle     short loc_27803cf6
lea     ecx, [esi+84h]
mov     esi, [ecx]
test    esi, esi
jz      short loc_27803ceb
lea     ebx, [eax+edx]
mov     eax, esi
test    eax, eax
mov     [ebp+rect.left], ebx
mov     [ebp+rect.right], eax
jl      short loc_27803cd5
cmp     eax, [ebp+var_4]
jle     short loc_27803cdb
mov     eax, [ebp+var_4]
mov     [ebp+rect.right], eax
mov     esi, eax
sub     esi, ebx
cmp     esi, edx
jl      short loc_27803ceb
mov     esi, [ebp+arg_0]
cmp     esi, [ebp+arg_4]
jz      short loc_27803d04
inc     [ebp+arg_0]
add     ecx, 28h
cmp     [ebp+arg_0], edi
jl      short loc_27803cbb
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     ecx, [ebp+rect.right]
jmp     short loc_27803c97
mov     edi, [ebp+arg_8]
lea     esi, [ebp+rect]
movsd
movsd
movsd
push    1
movsd
pop     eax
jmp     short loc_27803cf8
push    ebp
mov     ebp, esp
sub     esp, 0ach
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
lea     eax, [ebp+rect]
push    edi
push    eax
push    dword ptr [ebx]
xor     esi, esi
mov     [ebp+var_14], esi
call    ds:getclientrect
mov     eax, [ebp+arg_4]
cmp     eax, esi
jz      loc_27803f60
lea     esi, [ebp+rect]
lea     edi, [ebp+var_74]
movsd
movsd
movsd
movsd
mov     [ebp+hdc], eax
xor     esi, esi
mov     eax, [ebx+30h]
add     [ebp+rect.top], eax
cmp     [ebx+3ch], esi
jz      short loc_27803d6c
push    dword ptr [ebx+4]
call    ds:iszoomed
test    eax, eax
mov     [ebp+var_18], 1
jz      short loc_27803d6f
mov     [ebp+var_18], esi
cmp     [ebp+var_18], esi
jz      short loc_27803d80
lea     esi, [ebp+rect]
lea     edi, [ebp+var_28]
movsd
movsd
movsd
movsd
xor     esi, esi
mov     edi, [ebp+rect.right]
mov     eax, [ebp+arg_10]
sub     edi, eax
sub     eax, [ebx+34h]
mov     [ebp+arg_10], edi
mov     [ebp+rect.right], eax
mov     eax, [ebx+1ch]
cmp     eax, esi
jz      short loc_27803da5
push    eax
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+var_14], eax
cmp     [ebp+arg_c], esi
mov     [ebp+arg_0], esi
jle     loc_27803e78
mov     esi, [ebp+c]
mov     ecx, [esi+8]
test    ecx, ecx
jz      loc_27803e61
mov     eax, [ebx+34h]
mov     edx, [ebp+rect.right]
add     edx, eax
mov     [ebp+rect.right], ecx
test    ecx, ecx
mov     [ebp+rect.left], edx
jl      short loc_27803dd5
cmp     ecx, edi
jle     short loc_27803dd8
mov     [ebp+rect.right], edi
cmp     dword_2782a154, 0
jz      short loc_27803df4
mov     ecx, [ebp+arg_0]
inc     ecx
cmp     ecx, [ebp+arg_c]
jnz     short loc_27803df4
mov     ecx, [ebx+3ch]
test    ecx, ecx
jz      short loc_27803df4
sub     [ebp+rect.right], ecx
mov     ecx, [ebp+rect.right]
sub     ecx, edx
cmp     ecx, eax
jl      short loc_27803e61
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:rectvisible
test    eax, eax
jz      short loc_27803e61
mov     edi, [esi+4]
mov     eax, 0f000h
mov     ecx, edi
and     ecx, eax
cmp     ecx, eax
jnz     loc_27803f81
mov     eax, [esi+20h]
test    eax, eax
jz      loc_27803f79
push    eax
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+h], eax
mov     eax, [esi+24h]
push    eax
push    edi
push    esi
lea     eax, [ebp+rect]
push    dword ptr [esi]
push    eax
push    [ebp+hdc]
push    ebx
call    sub_27804f27
cmp     dword ptr [esi+20h], 0
jz      short loc_27803e61
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
inc     [ebp+arg_0]
add     esi, 28h
mov     eax, [ebp+arg_0]
mov     [ebp+c], esi
cmp     eax, [ebp+arg_c]
jl      loc_27803f71
xor     esi, esi
cmp     [ebp+var_18], esi
jz      loc_27803f37
mov     eax, [ebx+3ch]
mov     edx, [ebx+24h]
cmp     eax, edx
jge     short loc_27803e8d
mov     edx, eax
mov     eax, [ebp+var_28.right]
mov     [ebx+3ch], edx
sub     eax, w
mov     ecx, y
sub     [ebp+var_28.bottom], ecx
add     [ebp+var_28.top], ecx
mov     [ebp+var_28.right], eax
sub     eax, edx
mov     [ebp+var_28.left], eax
push    8
lea     eax, [ebp+var_28]
push    3
push    eax
push    [ebp+hdc]
call    ds:drawframecontrol
mov     eax, [ebp+var_28.bottom]
mov     ecx, y
add     ecx, eax
push    color
add     ecx, dy
mov     [ebp+rect.bottom], eax
mov     eax, w
sub     ecx, [ebx+3ch]
mov     [ebp+rect.top], ecx
mov     ecx, [ebp+var_28.right]
mov     [ebp+rect.left], ecx
add     ecx, eax
lea     eax, [ebp+rect]
mov     [ebp+rect.right], ecx
push    eax
push    [ebp+hdc]
call    sub_277be3ec
mov     ecx, [ebp+var_28.bottom]
mov     eax, y
mov     edx, [ebp+var_28.left]
push    color
mov     [ebp+rect.top], ecx
add     ecx, eax
add     edx, eax
mov     eax, w
add     edx, dword_2782a06c
mov     [ebp+rect.bottom], ecx
mov     ecx, [ebp+var_28.right]
add     ecx, eax
lea     eax, [ebp+rect]
push    eax
mov     [ebp+rect.left], edx
push    [ebp+hdc]
mov     [ebp+rect.right], ecx
call    sub_277be3ec
cmp     [ebp+var_14], esi
jz      short loc_27803f48
push    [ebp+var_14]
push    [ebp+hdc]
call    ds:selectobject
cmp     [ebp+arg_4], esi
jnz     short loc_27803f59
lea     eax, [ebp+hdc]
push    eax
push    dword ptr [ebx]
call    ds:endpaint
pop     edi
pop     esi
pop     ebx
leave
retn    14h
lea     eax, [ebp+hdc]
push    eax
push    dword ptr [ebx]
call    ds:beginpaint
jmp     loc_27803d4d
mov     edi, [ebp+arg_10]
jmp     loc_27803db1
or      eax, 0ffffffffh
jmp     loc_27803e3d
push    edi
push    esi
lea     eax, [ebp+rect]
push    offset byte_277cba1c
push    eax
push    [ebp+hdc]
push    ebx
call    sub_27804f07
test    edi, 1000h
jz      loc_27803e61
push    dword ptr [ebx]
call    ds:getdlgctrlid
mov     [ebp+wparam], eax
mov     eax, [ebp+arg_0]
mov     [ebp+var_a4], eax
mov     eax, [ebx]
mov     [ebp+var_98], eax
mov     eax, [ebp+hdc]
lea     esi, [ebp+rect]
lea     edi, [ebp+rc]
mov     [ebp+var_94], eax
mov     eax, y
movsd
neg     eax
movsd
push    eax
mov     eax, w
neg     eax
movsd
push    eax
lea     eax, [ebp+rc]
push    eax
movsd
call    ds:inflaterect
mov     eax, [ebp+c]
push    [ebp+hdc]
mov     eax, [eax]
mov     [ebp+var_80], eax
call    ds:savedc
push    [ebp+rc.bottom]
push    [ebp+rc.right]
push    [ebp+rc.top]
push    [ebp+rc.left]
push    [ebp+hdc]
call    ds:intersectcliprect
lea     eax, [ebp+lparam]
push    eax
push    [ebp+wparam]
push    2bh
push    dword ptr [ebx+4]
call    ds:sendmessagea
push    0ffffffffh
push    [ebp+hdc]
call    ds:restoredc
mov     esi, [ebp+c]
jmp     loc_27803e61
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
mov     ebx, 0f000h
push    edi
mov     eax, [esi+4]
movzx   edi, byte ptr [ebp+arg_8]
and     eax, ebx
cmp     eax, ebx
jnz     short loc_27804076
push    dword ptr [esi]
call    ds:localfree
mov     eax, [ebp+arg_8]
and     eax, 0f00h
mov     [esi+4], eax
lea     eax, [ebp+rect]
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax]
call    ds:getclientrect
test    edi, edi
jz      short loc_2780409a
mov     eax, [esi-20h]
mov     [ebp+rect.left], eax
mov     eax, [esi+8]
test    eax, eax
jle     short loc_278040a4
mov     [ebp+rect.right], eax
lea     eax, [ebp+rect]
push    0
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax]
call    ds:invalidaterect
mov     ecx, [ebp+arg_8]
and     ecx, ebx
jz      short loc_278040e6
mov     eax, 1000h
cmp     ecx, eax
jnz     loc_2780414a
or      [esi+4], eax
mov     eax, [ebp+lpstring]
mov     [esi], eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax]
call    ds:updatewindow
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [ebp+lpstring]
shr     eax, 10h
test    ax, ax
jz      short loc_27804143
push    [ebp+lpstring]
call    ds:lstrlena
test    eax, eax
jz      short loc_278040d1
inc     eax
push    eax
push    40h
call    ds:localalloc
mov     edi, eax
test    edi, edi
mov     [esi], edi
jz      short loc_2780414a
push    [ebp+lpstring]
or      [esi+4], ebx
push    edi
call    ds:lstrcpya
mov     al, [edi]
test    al, al
jz      short loc_278040d1
cmp     al, 20h
jnb     short loc_2780412e
cmp     al, 9
jz      short loc_2780412e
mov     byte ptr [edi], 20h
mov     eax, [ebp+arg_0]
push    0
push    edi
mov     ax, [eax+40h]
push    eax
call    ds:charnextexa
mov     edi, eax
jmp     short loc_2780411d
cmp     word ptr [ebp+lpstring], 0
jz      short loc_278040d1
xor     eax, eax
jmp     short loc_278040df
push    ebp
mov     ebp, esp
sub     esp, 30h
and     [ebp+var_4], 0
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     edx, [esi+74h]
cmp     ebx, edx
jz      loc_2780426a
and     [ebp+lparam], 0
push    0ah
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_2c]
rep stosd
xor     edi, edi
cmp     [esi+18h], edi
jz      short loc_278041b2
mov     eax, [esi]
or      [ebp+var_c], 0ffffffffh
cmp     edx, edi
mov     [ebp+lparam], 2ch
mov     [ebp+var_28], eax
jle     short loc_278041b2
lea     eax, [ebp+lparam]
mov     [ebp+var_24], edi
push    eax
push    0
push    405h
push    dword ptr [esi+18h]
call    ds:sendmessagea
inc     edi
cmp     edi, [esi+74h]
jl      short loc_27804195
mov     eax, [esi+74h]
lea     edi, [ebx+ebx*4]
shl     edi, 3
sub     eax, ebx
mov     [ebp+var_4], 1
lea     ecx, [esi+edi+7ch]
test    eax, eax
mov     [ebp+hmem], ecx
jle     short loc_278041fa
mov     [ebp+arg_4], eax
mov     edx, [ecx+4]
mov     eax, 0f000h
and     edx, eax
cmp     edx, eax
jnz     short loc_278041eb
push    dword ptr [ecx]
call    ds:localfree
mov     ecx, [ebp+hmem]
and     dword ptr [ecx+4], 0
add     ecx, 28h
dec     [ebp+arg_4]
mov     [ebp+hmem], ecx
jnz     short loc_278041d2
add     edi, 7ch
push    42h
push    edi
push    esi
call    ds:localrealloc
mov     esi, eax
xor     edi, edi
cmp     esi, edi
jnz     short loc_27804218
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    esi
push    edi
push    dword ptr [esi]
call    ds:setwindowlonga
mov     eax, [esi+74h]
mov     ecx, ebx
sub     ecx, eax
lea     eax, [eax+eax*4]
cmp     ecx, edi
lea     eax, [esi+eax*8+7ch]
jle     short loc_2780423f
add     eax, 4
mov     [eax], edi
add     eax, 28h
dec     ecx
jnz     short loc_27804237
cmp     [esi+18h], edi
mov     [esi+74h], ebx
jz      short loc_2780426a
xor     edi, edi
test    ebx, ebx
jle     short loc_2780428f
lea     eax, [ebp+lparam]
mov     [ebp+var_24], edi
push    eax
push    0
push    404h
push    dword ptr [esi+18h]
call    ds:sendmessagea
inc     edi
cmp     edi, [esi+74h]
jl      short loc_2780424d
test    ebx, ebx
jle     short loc_2780428f
mov     edx, [ebp+arg_8]
lea     eax, [esi+84h]
mov     ecx, [edx]
cmp     [eax], ecx
jz      short loc_27804286
mov     [ebp+var_4], 1
mov     [eax], ecx
add     eax, 28h
add     edx, 4
dec     ebx
jnz     short loc_27804277
cmp     [ebp+var_4], 0
jz      short loc_278042a1
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
push    esi
call    sub_27805315
push    1
pop     eax
jmp     loc_27804211
push    esi
mov     esi, [esp+4+arg_4]
mov     ecx, [esi+20h]
test    ecx, ecx
jz      short loc_278042cd
mov     eax, [esp+4+arg_0]
push    ecx
mov     eax, [eax+48h]
push    eax
mov     edx, [eax]
call    dword ptr [edx+24h]
and     dword ptr [esi+20h], 0
pop     esi
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+hdc]
or      ebx, 0ffffffffh
lea     eax, [edi+54h]
lea     esi, [edi+4ch]
mov     [ebp+hdc], eax
xor     eax, eax
push    esi
cmp     [esi+20h], eax
push    edi
setnz   al
mov     [ebp+var_4], eax
call    sub_278042af
cmp     [ebp+arg_4], 0
jnz     short loc_2780433a
cmp     [ebp+var_4], 0
jz      short loc_2780433a
mov     ecx, [esi+4]
mov     eax, 0f000h
and     ecx, eax
cmp     ecx, eax
jnz     short loc_2780433a
push    dword ptr [esi]
push    dword ptr [esi+24h]
call    sub_2781fbe5
mov     esi, eax
test    esi, esi
jz      short loc_2780433a
movzx   eax, bl
push    esi
push    eax
push    edi
call    sub_2780434e
cmp     esi, 0ffffffffh
jz      short loc_2780433a
push    esi
call    ds:localfree
add     [ebp+hdc], 28h
inc     ebx
cmp     ebx, [edi+74h]
mov     esi, [ebp+hdc]
jl      short loc_278042e7
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 0ch
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
test    ah, 10h
jnz     loc_278044c2
mov     edi, [ebp+lpstring]
xor     ebx, ebx
cmp     edi, ebx
jz      loc_278044c2
cmp     [edi], bx
jz      loc_278044c2
mov     esi, [ebp+hdc]
and     eax, 0ffh
push    eax
push    esi
call    sub_27805418
cmp     eax, ebx
mov     [ebp+var_c], eax
jz      loc_278044c2
cmp     [eax+20h], ebx
jz      short loc_278043e6
mov     eax, [eax+24h]
mov     edx, dword_27829f50
cmp     eax, ebx
mov     [ebp+arg_4], eax
jnz     short loc_278043ab
mov     [ebp+arg_4], edx
mov     eax, 4e4h
mov     ebx, 80h
cmp     [ebp+arg_4], eax
jnz     short loc_278043fd
mov     ecx, [esi+40h]
cmp     ecx, eax
jz      short loc_278043c9
test    ecx, ecx
jnz     short loc_278043fd
cmp     edx, eax
jnz     short loc_278043fd
mov     ax, [edi]
mov     edx, ebx
mov     ecx, edi
test    ax, ax
jz      short loc_278043eb
test    ah, 0ffh
jnz     short loc_278043eb
test    edx, edx
jle     short loc_278043eb
inc     ecx
inc     ecx
dec     edx
mov     ax, [ecx]
jmp     short loc_278043d0
mov     eax, [esi+40h]
jmp     short loc_2780439b
cmp     word ptr [ecx], 0
jz      loc_278044c2
test    edx, edx
jz      loc_278044c2
push    esi
call    sub_27803a29
test    eax, eax
jnz     loc_278044c2
mov     esi, [esi+48h]
push    edi
mov     edi, ds:lstrlenw
call    edi
cmp     eax, ebx
jge     loc_278044c9
push    [ebp+lpstring]
call    edi
mov     ecx, [esi]
lea     edx, [ebp+var_4]
push    0
push    edx
push    0
push    eax
push    [ebp+lpstring]
push    esi
call    dword ptr [ecx+10h]
test    eax, eax
jl      loc_278044c2
mov     edi, [ebp+hdc]
mov     eax, [edi+40h]
test    eax, eax
jnz     short loc_2780444d
mov     eax, dword_27829f50
mov     ecx, [esi]
lea     edx, [ebp+var_8]
push    edx
push    eax
push    [ebp+var_4]
push    esi
call    dword ptr [ecx+18h]
test    eax, eax
jl      short loc_278044c2
mov     ecx, [ebp+var_8]
cmp     ecx, [ebp+arg_4]
jz      short loc_278044c2
mov     eax, [edi+40h]
cmp     ecx, eax
jz      short loc_278044d0
test    eax, eax
jnz     short loc_2780447a
cmp     ecx, dword_27829f50
jz      short loc_278044d0
push    dword ptr [edi]
call    ds:getdc
lea     edx, [ebp+lpstring]
mov     ecx, [esi]
push    edx
mov     [ebp+hdc], eax
push    dword ptr [edi+1ch]
push    [ebp+var_4]
push    eax
push    esi
call    dword ptr [ecx+20h]
test    eax, eax
jl      short loc_278044b7
mov     ebx, [ebp+var_c]
mov     eax, [ebx+20h]
test    eax, eax
jz      short loc_278044ab
mov     ecx, [esi]
push    eax
push    esi
call    dword ptr [ecx+24h]
mov     eax, [ebp+lpstring]
mov     [ebx+20h], eax
mov     eax, [ebp+var_8]
mov     [ebx+24h], eax
push    [ebp+hdc]
push    dword ptr [edi]
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, ebx
jmp     loc_27804424
push    [ebp+var_c]
push    edi
call    sub_278042af
jmp     short loc_278044c2
mov     eax, [esp+arg_4]
test    ah, 10h
jnz     short locret_2780450e
mov     ecx, [esp+arg_8]
test    ecx, ecx
jz      short locret_2780450e
cmp     byte ptr [ecx], 0
jz      short locret_2780450e
and     eax, 0ffh
push    eax
push    [esp+4+arg_0]
call    sub_27805418
test    eax, eax
jz      short locret_2780450e
push    eax
push    [esp+4+arg_0]
call    sub_278042af
retn    0ch
push    esi
mov     esi, [esp+4+hdc]
push    [esp+4+h]
push    esi
call    sub_27803978
xor     eax, eax
cmp     [esp+4+arg_8], eax
jz      short loc_27804537
push    101h
push    eax
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
cmp     al, 0ffh
push    edi
jnz     short loc_27804594
test    ah, 10h
jz      short loc_27804556
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
push    [ebp+lpstring]
mov     esi, [ebp+arg_0]
and     eax, 0ff00h
mov     edi, [esi+50h]
push    eax
lea     eax, [esi+4ch]
push    eax
push    esi
call    sub_27804050
and     edi, 0ffh
mov     ebx, eax
or      [esi+50h], edi
xor     edi, edi
test    ebx, ebx
jz      short loc_27804590
inc     edi
push    edi
push    0fffffffch
push    dword ptr [esi]
push    800ch
call    sub_277b8949
mov     eax, ebx
jmp     short loc_2780454f
mov     esi, [ebp+arg_0]
movzx   edi, al
cmp     [esi+74h], edi
ja      short loc_278045a3
xor     ebx, ebx
jmp     short loc_2780457c
push    [ebp+lpstring]
push    eax
lea     eax, [edi+edi*4]
lea     eax, [esi+eax*8+7ch]
push    eax
push    esi
call    sub_27804050
mov     ebx, eax
jmp     short loc_2780457c
mov     eax, [esp+arg_0]
and     dword ptr [eax+2ch], 0
mov     ecx, dy
mov     [eax+30h], ecx
mov     ecx, dword_2782a06c
mov     [eax+34h], ecx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 64h
push    ebx
push    esi
push    edi
mov     edi, ds:getwindowlonga
push    0
push    [ebp+hwnd]
call    edi
mov     ebx, [ebp+wparam]
mov     ecx, [ebp+msg]
mov     esi, eax
test    esi, esi
jnz     short loc_27804604
cmp     ecx, 400h
ja      def_27804df9
cmp     ecx, 0ch
ja      loc_278047db
jz      loc_278047c3
dec     ecx
jz      loc_278047b1
dec     ecx
jz      loc_27804712
sub     ecx, 3
jnz     def_27804df9
test    esi, esi
jz      loc_27804d72
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getwindowrect
mov     eax, [ebp+rect.left]
sub     [ebp+rect.right], eax
mov     eax, [ebp+rect.top]
sub     [ebp+rect.bottom], eax
mov     eax, [esi+4]
test    eax, eax
jz      short loc_2780465c
lea     ecx, [ebp+rect]
push    ecx
push    eax
call    ds:screentoclient
mov     ebx, [esi+24h]
push    32h
call    sub_277b339b
cmp     ebx, eax
jle     loc_27804701
mov     eax, ebx
mov     ecx, y
lea     ebx, [eax+ecx*2]
mov     eax, [esi+28h]
cmp     ebx, eax
jge     short loc_27804682
mov     ebx, eax
push    [ebp+rect.bottom]
add     ebx, [esi+30h]
push    [ebp+rect.right]
push    [ebp+rect.top]
push    [ebp+rect.left]
push    0fffffff0h
push    dword ptr [esi]
call    edi
or      al, 40h
push    eax
push    ebx
push    dword ptr [esi]
call    sub_27810919
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [esi+38h]
cmp     [ebp+rect.right], eax
jg      short loc_278046b9
mov     eax, [ebp+rect.right]
mov     ecx, [esi+2ch]
add     ecx, w
sub     eax, ecx
mov     ecx, [esi+3ch]
test    ecx, ecx
jz      short loc_2780470d
sub     eax, ecx
mov     [ebp+rect.left], eax
lea     eax, [ebp+rect]
push    0
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
push    esi
call    sub_27805315
mov     eax, [ebp+rect.right]
mov     [esi+38h], eax
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_278047bc
push    32h
call    sub_277b339b
jmp     loc_27804670
sub     eax, [esi+34h]
jmp     short loc_278046cd
test    esi, esi
jz      short def_27804df9
push    esi
call    sub_27803b0c
push    0ffffffffh
push    esi
call    sub_27803978
mov     eax, [esi+74h]
lea     edi, [esi+7ch]
dec     eax
mov     ebx, 0f000h
js      short loc_27804766
lea     ecx, [edi+18h]
inc     eax
mov     [ebp+var_4], ecx
mov     [ebp+var_8], eax
mov     eax, [ebp+var_4]
mov     eax, [eax-14h]
and     eax, ebx
cmp     eax, ebx
jnz     short loc_27804750
push    dword ptr [edi]
call    ds:localfree
push    0
push    [ebp+var_4]
call    sub_2781617a
add     [ebp+var_4], 28h
add     edi, 28h
dec     [ebp+var_8]
jnz     short loc_2780473c
mov     eax, [esi+50h]
and     eax, ebx
cmp     eax, ebx
jnz     short loc_27804778
push    dword ptr [esi+4ch]
call    ds:localfree
push    dword ptr [esi+18h]
call    ds:iswindow
test    eax, eax
jz      short loc_2780478e
push    dword ptr [esi+18h]
call    ds:destroywindow
xor     edi, edi
lea     eax, [esi+64h]
push    edi
push    eax
call    sub_2781617a
push    esi
call    ds:localfree
push    edi
push    edi
push    [ebp+hwnd]
call    ds:setwindowlonga
jmp     def_27804df9
push    [ebp+lparam]
push    [ebp+hwnd]
call    sub_27803b23
pop     edi
pop     esi
pop     ebx
leave
retn    10h
xor     ebx, ebx
push    [ebp+lparam]
push    ebx
push    esi
call    sub_278044db
push    [ebp+lparam]
push    ebx
push    esi
call    sub_2780453b
jmp     short loc_278047bc
cmp     ecx, 1ah
ja      loc_27804bb6
jz      loc_27804b48
sub     ecx, 0dh
jz      short loc_2780485b
dec     ecx
jz      short loc_27804862
dec     ecx
jz      loc_27804dab
sub     ecx, 5
jz      short loc_27804822
dec     ecx
jnz     def_27804df9
mov     esi, [esi+18h]
test    esi, esi
jz      def_27804df9
push    [ebp+lparam]
push    ebx
push    15h
push    esi
call    ds:sendmessagea
jmp     def_27804df9
test    esi, esi
jz      def_27804df9
cmp     dword ptr [esi+78h], 0ff000000h
jz      def_27804df9
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getclientrect
push    dword ptr [esi+78h]
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
call    sub_277be3ec
push    1
pop     eax
jmp     loc_278047bc
mov     [ebp+msg], 402h
xor     ebx, ebx
test    esi, esi
jz      loc_27804d72
cmp     [esi+74h], ebx
jbe     loc_27804d72
mov     eax, [esi+50h]
test    al, al
jz      short loc_278048d6
lea     eax, [ebx+ebx*4]
mov     edi, [esi+eax*8+80h]
lea     esi, [esi+eax*8]
mov     esi, [esi+7ch]
mov     edx, edi
mov     ebx, 0f000h
and     edx, ebx
cmp     edx, ebx
jnz     short loc_278048dd
cmp     [ebp+msg], 402h
jnz     short loc_278048b7
mov     eax, [ebp+lparam]
shr     eax, 10h
test    ax, ax
jz      short loc_278048b7
push    esi
push    [ebp+lparam]
call    ds:lstrcpya
push    esi
call    ds:lstrlena
mov     ecx, eax
and     edi, 0ffff0fffh
movzx   eax, di
movzx   ecx, cx
shl     eax, 10h
or      eax, ecx
jmp     loc_278047bc
mov     esi, [esi+4ch]
mov     edi, eax
jmp     short loc_2780488c
cmp     [ebp+msg], 402h
jnz     short loc_278048f6
mov     eax, [ebp+lparam]
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jz      short loc_278048f6
and     byte ptr [eax], 0
xor     ecx, ecx
cmp     [ebp+msg], 402h
jnz     short loc_278048c6
cmp     edx, 1000h
jnz     short loc_278048c6
mov     eax, esi
jmp     loc_278047bc
cmp     [ebp+wparam], 0
jz      loc_27804d72
cmp     [ebp+wparam], 100h
ja      loc_27804d72
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2780414e
jmp     loc_278047bc
mov     ecx, [ebp+lparam]
test    ecx, ecx
jz      short loc_27804962
mov     eax, [esi+74h]
mov     edx, [ebp+wparam]
cmp     edx, eax
jbe     short loc_2780494b
mov     edx, eax
test    edx, edx
jbe     short loc_27804962
lea     eax, [esi+84h]
mov     edi, [eax]
add     eax, 28h
mov     [ecx], edi
add     ecx, 4
dec     edx
jnz     short loc_27804955
mov     eax, [esi+74h]
jmp     loc_278047bc
mov     eax, [ebp+lparam]
mov     ecx, [esi+2ch]
mov     [eax], ecx
mov     ecx, [esi+30h]
mov     [eax+4], ecx
mov     ecx, [esi+34h]
mov     [eax+8], ecx
jmp     loc_27804853
mov     eax, [esi+50h]
neg     al
sbb     eax, eax
inc     eax
jmp     loc_278047bc
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27803c53
jmp     loc_278047bc
push    esi
mov     [esi+28h], ebx
call    sub_27805315
jmp     def_27804df9
mov     eax, [esi+50h]
xor     ecx, ecx
test    ebx, ebx
jz      short loc_278049f5
test    al, al
jz      short loc_278049c4
and     al, cl
push    1
mov     [esi+50h], eax
pop     ecx
test    ecx, ecx
jz      def_27804df9
push    esi
call    sub_27805315
xor     edi, edi
push    edi
push    edi
push    0fffffc90h
push    dword ptr [esi]
push    dword ptr [esi+4]
call    sub_27811d28
push    1
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
jmp     def_27804df9
test    al, al
jnz     short loc_278049c4
or      al, 0ffh
jmp     short loc_278049be
mov     eax, [ebp+wparam]
xor     ebx, ebx
cmp     eax, 0ffffffffh
jnz     short loc_27804a23
lea     ebx, [esi+4ch]
cmp     [ebp+msg], 414h
jnz     short loc_27804a31
test    ebx, ebx
jz      loc_27804d72
mov     eax, [ebx+0ch]
jmp     loc_278047bc
cmp     eax, [esi+74h]
jnb     short loc_27804a0a
lea     eax, [eax+eax*4]
lea     ebx, [esi+eax*8+7ch]
jmp     short loc_27804a0a
test    ebx, ebx
jz      loc_27804853
mov     eax, [ebx+0ch]
cmp     eax, [ebp+lparam]
jz      loc_27804853
and     [ebp+pv], 0
xor     eax, eax
lea     edi, [ebp+var_40]
cmp     [ebp+lparam], 0
stosd
stosd
stosd
stosd
stosd
jz      short loc_27804a85
lea     eax, [ebp+piconinfo]
push    eax
push    [ebp+lparam]
call    ds:geticoninfo
lea     eax, [ebp+pv]
push    eax
push    18h
push    [ebp+piconinfo.hbmcolor]
call    ds:getobjecta
push    [ebp+piconinfo.hbmcolor]
mov     edi, ds:deleteobject
call    edi
push    [ebp+piconinfo.hbmmask]
call    edi
mov     eax, [ebp+var_40]
mov     [ebx+10h], eax
mov     eax, [ebp+var_3c]
mov     [ebx+14h], eax
mov     eax, [ebp+lparam]
mov     [ebx+0ch], eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+wparam]
push    esi
call    sub_27803c53
lea     eax, [ebp+rect]
push    1
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
push    dword ptr [esi]
call    ds:updatewindow
jmp     loc_27804853
movzx   eax, bx
push    eax
push    esi
call    sub_27805418
test    eax, eax
jz      def_27804df9
shr     ebx, 10h
push    ebx
push    dword ptr [eax+18h]
push    [ebp+lparam]
call    ds:lstrcpyna
jmp     def_27804df9
push    ebx
push    esi
call    sub_27805418
test    eax, eax
jz      def_27804df9
push    [ebp+lparam]
add     eax, 18h
push    eax
call    sub_2781617a
jmp     def_27804df9
mov     eax, [ebp+lparam]
mov     edi, [esi+78h]
push    1
push    0
push    [ebp+hwnd]
mov     [esi+78h], eax
call    ds:invalidaterect
mov     eax, edi
jmp     loc_278047bc
sub     ecx, 2005h
jz      short loc_27804b3a
dec     ecx
jnz     def_27804df9
mov     eax, [esi+10h]
jmp     loc_278047bc
mov     ecx, [ebp+wparam]
mov     eax, [esi+10h]
mov     [esi+10h], ecx
jmp     loc_278047bc
call    sub_277b344b
push    ebx
call    sub_277b3170
mov     eax, [esi+18h]
xor     edi, edi
cmp     eax, edi
jz      short loc_27804b69
push    [ebp+lparam]
push    ebx
push    1ah
push    eax
call    ds:sendmessagea
cmp     [esi+3ch], edi
jz      short loc_27804b7e
mov     eax, dword_2782a074
mov     ecx, w
add     eax, ecx
mov     [esi+3ch], eax
cmp     ebx, 2ah
jnz     def_27804df9
cmp     [esi+20h], edi
jz      def_27804df9
mov     eax, [esi+1ch]
cmp     eax, edi
jz      def_27804df9
push    eax
call    ds:deleteobject
push    1
push    edi
push    esi
mov     [esi+1ch], edi
mov     [esi+20h], edi
call    sub_27804511
jmp     def_27804df9
cmp     ecx, 4eh
ja      loc_27804c86
jz      short loc_27804bf6
sub     ecx, 30h
jz      short loc_27804bdd
dec     ecx
jnz     def_27804df9
test    esi, esi
jz      loc_27804d72
mov     eax, [esi+1ch]
jmp     loc_278047bc
test    esi, esi
jz      loc_27804d72
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27804511
jmp     loc_27804853
mov     edi, [ebp+lparam]
and     [ebp+var_4], 0
mov     ebx, 0fffffdf8h
cmp     [edi+8], ebx
jnz     short loc_27804c25
push    dword ptr [edi+4]
push    esi
call    sub_27805418
test    eax, eax
mov     [ebp+var_4], eax
jz      def_27804df9
cmp     dword ptr [eax+1ch], 0
jz      def_27804df9
push    dword ptr [esi+10h]
push    edi
push    dword ptr [edi+8]
push    0ffffffffh
push    dword ptr [esi+4]
call    sub_27811d28
cmp     [edi+8], ebx
jnz     def_27804df9
mov     eax, [ebp+lparam]
mov     eax, [eax+0ch]
test    eax, eax
jz      def_27804df9
cmp     eax, 0ffffffffh
jz      def_27804df9
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jz      def_27804df9
cmp     byte ptr [eax], 0
jnz     def_27804df9
mov     eax, [ebp+var_4]
test    eax, eax
jz      def_27804df9
mov     ecx, [ebp+lparam]
mov     eax, [eax+18h]
mov     [ecx+0ch], eax
jmp     def_27804df9
mov     eax, 84h
cmp     ecx, eax
ja      short loc_27804ce8
jz      short loc_27804ca8
cmp     ecx, 55h
jnz     def_27804df9
push    [ebp+lparam]
push    esi
call    sub_278112e5
jmp     loc_278047bc
cmp     dword ptr [esi+3ch], 0
jz      def_27804df9
push    dword ptr [esi+4]
call    ds:iszoomed
test    eax, eax
jnz     def_27804df9
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getwindowrect
mov     eax, [ebp+rect.right]
movsx   ecx, word ptr [ebp+lparam]
sub     eax, [esi+3ch]
cmp     ecx, eax
jle     def_27804df9
push    11h
jmp     loc_27804855
mov     eax, 318h
cmp     ecx, eax
ja      loc_27804dd7
jz      loc_27804dab
cmp     ecx, 200h
jb      def_27804df9
cmp     ecx, 201h
jbe     loc_27804d96
mov     eax, 202h
cmp     ecx, eax
jz      short loc_27804d81
cmp     ecx, 203h
jz      short loc_27804d7d
cmp     ecx, 205h
jz      short loc_27804d79
cmp     ecx, 206h
jnz     def_27804df9
push    0fffffffah
pop     edi
mov     ecx, [ebp+lparam]
movsx   eax, word ptr [ebp+lparam]
shr     ecx, 10h
movsx   ecx, cx
push    ecx
push    eax
push    esi
mov     [ebp+var_50], eax
mov     [ebp+var_4c], ecx
call    sub_27805442
mov     [ebp+var_58], eax
lea     eax, [ebp+var_64]
push    0
push    eax
push    edi
push    dword ptr [esi]
push    dword ptr [esi+4]
call    sub_27811d28
test    eax, eax
jz      def_27804df9
xor     eax, eax
jmp     loc_278047bc
push    0fffffffbh
jmp     short loc_27804d3a
push    0fffffffdh
jmp     short loc_27804d3a
push    0fffffffeh
pop     edi
push    [ebp+lparam]
push    ebx
push    eax
push    [ebp+hwnd]
push    dword ptr [esi+18h]
call    sub_27810fcc
jmp     short loc_27804d3b
push    [ebp+lparam]
push    ebx
push    ecx
push    [ebp+hwnd]
push    dword ptr [esi+18h]
call    sub_27810fcc
jmp     def_27804df9
test    esi, esi
jz      def_27804df9
cmp     byte ptr [esi+50h], 0
jz      short loc_27804dce
push    dword ptr [esi+2ch]
lea     eax, [esi+7ch]
push    dword ptr [esi+74h]
push    eax
push    [ebp+wparam]
push    esi
call    sub_27803d13
jmp     short loc_27804d72
push    0
push    1
lea     eax, [esi+4ch]
jmp     short loc_27804dc2
mov     eax, 2001h
cmp     ecx, eax
ja      loc_27804b23
jz      loc_27804b06
lea     eax, [ecx-401h]
cmp     eax, 13h
ja      def_27804df9
jmp     ds:jpt_27804df9[eax*4]
push    [ebp+lparam]
xor     edi, edi
push    [ebp+wparam]
push    esi
call    sub_2780434e
push    [ebp+lparam]
push    dword ptr [esi+40h]
call    sub_2781fc5d
mov     ebx, eax
test    ebx, ebx
jz      loc_27804b1c
push    ebx
push    [ebp+wparam]
push    esi
call    sub_2780453b
cmp     ebx, 0ffffffffh
mov     edi, eax
jz      loc_27804b1c
push    ebx
call    ds:localfree
jmp     loc_27804b1c
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
mov     ebx, [ebp+hinstance]
push    esi
lea     eax, [ebp+wndclass]
mov     esi, offset amsvblibstatusb
push    eax
push    esi
push    ebx
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_27804f02
and     [ebp+wndclass.cbclsextra], eax
and     [ebp+wndclass.hicon], eax
push    7f00h
push    eax
mov     [ebp+wndclass.lpfnwndproc], offset sub_278045d6
mov     [ebp+wndclass.style], 9
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.hinstance], ebx
call    ds:loadcursora
and     [ebp+wndclass.lpszmenuname], 0
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.hbrbackground], 10h
push    eax
mov     [ebp+wndclass.lpszclassname], esi
call    ds:registerclassa
movzx   eax, ax
pop     esi
pop     ebx
leave
retn    4
push    1
pop     eax
jmp     short loc_27804efc
push    ebp
mov     ebp, esp
push    0ffffffffh
push    [ebp+lpcurrentchar]
push    [ebp+c]
push    [ebp+lpstring2]
push    [ebp+options]
push    [ebp+hdc]
push    [ebp+arg_0]
call    sub_27804f27
pop     ebp
retn    18h
push    ebp
mov     ebp, esp
sub     esp, 0b8h
push    ebx
push    esi
mov     esi, [ebp+options]
push    edi
lea     edi, [ebp+qrc]
xor     ecx, ecx
movsd
movsd
cmp     dword ptr [ebp+codepage], 0ffffffffh
mov     [ebp+var_4], ecx
movsd
mov     [ebp+var_1c], ecx
mov     [ebp+h], ecx
movsd
jnz     loc_2780510a
mov     eax, [ebp+arg_0]
cmp     eax, ecx
jz      loc_27805102
mov     eax, [eax+40h]
mov     dword ptr [ebp+codepage], eax
mov     [ebp+var_24], ecx
mov     edi, [ebp+lpcurrentchar]
mov     esi, [ebp+hdc]
mov     [ebp+var_20], edi
mov     ebx, 100h
and     [ebp+var_20], 400h
jz      short loc_27804f93
push    esi
call    ds:gettextalign
mov     [ebp+align], eax
or      eax, ebx
push    eax
push    esi
call    ds:settextalign
xor     ecx, ecx
cmp     [ebp+lpstring2], ecx
jz      loc_27805116
push    80h
lea     eax, [ebp+string1]
push    [ebp+lpstring2]
push    eax
call    ds:lstrcpyna
push    color
push    esi
call    ds:getnearestcolor
mov     ecx, color
cmp     eax, ecx
jz      loc_27805122
push    ecx
call    ds:createsolidbrush
test    eax, eax
mov     [ebp+h], eax
jz      loc_27805122
mov     [ebp+options], 4
push    1
push    esi
call    ds:setbkmode
push    dword_2782a128
mov     [ebp+mode], eax
push    esi
call    ds:settextcolor
mov     [ebp+color], eax
mov     eax, [ebp+arg_0]
test    eax, eax
jz      loc_27805130
mov     eax, [eax+78h]
cmp     eax, 0ff000000h
jz      loc_27805130
push    eax
push    esi
call    ds:setbkcolor
test    ebx, edi
mov     [ebp+var_2c], eax
jnz     loc_2780513b
and     edi, 200h
push    200fh
neg     edi
sbb     edi, edi
lea     eax, [ebp+qrc]
and     edi, 2
inc     edi
inc     edi
push    edi
push    eax
push    esi
call    ds:drawedge
cmp     [ebp+h], 0
jz      short loc_27805089
push    [ebp+h]
mov     edi, ds:selectobject
push    esi
call    edi
mov     ebx, eax
test    ebx, ebx
jz      short loc_27805089
mov     eax, [ebp+qrc.bottom]
push    0f00021h
sub     eax, [ebp+qrc.top]
push    eax
mov     eax, [ebp+qrc.right]
sub     eax, [ebp+qrc.left]
push    eax
push    [ebp+qrc.top]
push    [ebp+qrc.left]
push    esi
call    ds:patblt
push    ebx
push    esi
call    edi
and     [ebp+arg_0], 0
and     [ebp+var_28], 0
mov     edi, [ebp+c]
lea     ebx, [ebp+string1]
mov     [ebp+lpstring2], ebx
mov     al, [ebx]
cmp     al, 9
jnz     loc_2780515a
cmp     [ebp+arg_0], 1
jg      loc_2780515a
inc     ebx
mov     [ebp+lpstring2], ebx
inc     [ebp+arg_0]
cmp     [ebp+arg_0], 3
jl      short loc_2780509d
cmp     [ebp+var_20], 0
jz      short loc_278050ce
push    [ebp+align]
push    esi
call    ds:settextalign
push    [ebp+color]
push    esi
call    ds:settextcolor
push    [ebp+var_2c]
push    esi
call    ds:setbkcolor
push    [ebp+mode]
push    esi
call    ds:setbkmode
cmp     [ebp+h], 0
jz      short loc_278050fb
push    [ebp+h]
call    ds:deleteobject
pop     edi
pop     esi
pop     ebx
leave
retn    1ch
mov     dword ptr [ebp+codepage], ecx
jmp     loc_27804f63
mov     [ebp+var_24], 1
jmp     loc_27804f66
and     [ebp+string1], 0
jmp     loc_27804fb1
mov     [ebp+options], 6
push    2
jmp     loc_27804fe7
push    color
jmp     loc_2780501b
mov     eax, y
neg     eax
push    eax
mov     eax, w
neg     eax
push    eax
lea     eax, [ebp+qrc]
push    eax
call    ds:inflaterect
jmp     loc_2780504d
mov     [ebp+lpcurrentchar], ebx
test    al, al
jz      short loc_2780517a
cmp     al, 9
jz      short loc_27805181
push    0
push    [ebp+lpcurrentchar]
push    dword ptr [ebp+codepage]
call    ds:charnextexa
mov     [ebp+lpcurrentchar], eax
mov     al, [eax]
jmp     short loc_2780515d
mov     [ebp+var_28], 1
mov     eax, [ebp+lpcurrentchar]
push    ebx
and     byte ptr [eax], 0
call    ds:lstrlena
cmp     [ebp+var_24], 0
lea     ecx, [ebp+var_1c]
push    ecx
lea     ecx, [ebp+var_4]
push    ecx
push    eax
push    ebx
mov     [ebp+c], eax
push    esi
jz      loc_278052c3
push    dword ptr [ebp+codepage]
call    sub_27810ab7
mov     ebx, [ebp+qrc.right]
test    edi, edi
jz      loc_278052cd
mov     esi, [ebp+qrc.left]
mov     eax, ebx
sub     eax, esi
xor     ecx, ecx
cmp     [ebp+var_4], eax
setnl   cl
mov     [edi+1ch], ecx
mov     eax, [ebp+arg_0]
sub     eax, 0
jz      loc_278052e8
dec     eax
jz      loc_278052d5
mov     eax, w
add     eax, eax
sub     ebx, eax
sub     ebx, [ebp+var_4]
test    edi, edi
jz      loc_27805272
cmp     dword ptr [edi+0ch], 0
jz      short loc_27805272
mov     eax, [ebp+qrc.bottom]
mov     ecx, [edi+14h]
sub     eax, [ebp+qrc.top]
sub     eax, ecx
cdq
sub     eax, edx
mov     edx, dword_2782a06c
sar     eax, 1
add     eax, [ebp+qrc.top]
add     esi, edx
test    ebx, ebx
jnz     short loc_27805223
mov     edx, [ebp+qrc.left]
mov     ebx, w
lea     ebx, [edx+ebx*2]
push    3
push    0
push    0
push    ecx
push    dword ptr [edi+10h]
mov     [ebp+qrc.left], esi
push    dword ptr [edi+0ch]
push    eax
push    esi
push    [ebp+hdc]
call    ds:drawiconex
mov     eax, dword_2782a06c
mov     edx, [edi+10h]
lea     ecx, [esi+eax]
lea     eax, [edx+eax*2]
add     ebx, eax
mov     eax, [ebp+qrc.right]
add     ecx, edx
mov     [ebp+qrc.left], ecx
sub     eax, ecx
xor     ecx, ecx
cmp     [ebp+var_4], eax
mov     eax, [ebp+lpstring2]
setnl   cl
mov     [edi+1ch], ecx
cmp     byte ptr [eax], 0
jnz     short loc_27805272
mov     dword ptr [edi+1ch], 1
xor     eax, eax
cmp     [ebp+var_24], eax
push    eax
push    [ebp+c]
lea     eax, [ebp+qrc]
push    [ebp+lpstring2]
push    eax
mov     eax, [ebp+qrc.bottom]
push    [ebp+options]
jz      short loc_278052f5
sub     eax, [ebp+var_1c]
add     eax, [ebp+qrc.top]
cdq
sub     eax, edx
sar     eax, 1
push    eax
push    ebx
push    [ebp+hdc]
push    dword ptr [ebp+codepage]
call    sub_27810b65
cmp     [ebp+var_28], 0
mov     [ebp+options], 4
jnz     short loc_2780530d
mov     eax, [ebp+lpcurrentchar]
mov     esi, [ebp+hdc]
mov     byte ptr [eax], 9
inc     eax
mov     [ebp+lpstring2], eax
mov     ebx, eax
jmp     loc_278050b5
call    sub_277bccbe
jmp     loc_278051ae
mov     esi, [ebp+qrc.left]
jmp     loc_278051cb
mov     eax, esi
sub     eax, [ebp+var_4]
add     eax, ebx
cdq
sub     eax, edx
mov     ebx, eax
sar     ebx, 1
jmp     loc_278051ea
mov     eax, w
lea     ebx, [esi+eax*2]
jmp     loc_278051ea
sub     eax, [ebp+var_1c]
add     eax, [ebp+qrc.top]
cdq
sub     eax, edx
sar     eax, 1
push    eax
push    ebx
push    [ebp+hdc]
call    ds:exttextouta
jmp     short loc_278052a2
mov     esi, [ebp+hdc]
jmp     loc_278050be
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
cmp     [esi+18h], ebx
jz      short loc_27805399
mov     eax, [esi]
or      [ebp+var_8], 0ffffffffh
cmp     [esi+50h], bl
mov     [ebp+lparam], 2ch
mov     [ebp+var_24], eax
jz      short loc_278053a0
cmp     [esi+74h], ebx
mov     [ebp+arg_0], ebx
mov     edi, 406h
jbe     short loc_27805375
mov     eax, [ebp+arg_0]
lea     ecx, [ebp+rc]
push    ecx
push    eax
push    esi
mov     [ebp+var_20], eax
call    sub_27803c53
lea     eax, [ebp+lparam]
push    eax
push    ebx
push    edi
push    dword ptr [esi+18h]
call    ds:sendmessagea
inc     [ebp+arg_0]
mov     eax, [ebp+arg_0]
cmp     eax, [esi+74h]
jb      short loc_2780534a
push    ebx
push    ebx
push    ebx
lea     eax, [ebp+rc]
push    ebx
push    eax
call    ds:setrect
lea     eax, [ebp+lparam]
mov     [ebp+var_20], 0ffh
push    eax
push    ebx
push    edi
push    dword ptr [esi+18h]
call    ds:sendmessagea
pop     edi
pop     esi
pop     ebx
leave
retn    4
lea     ecx, [ebp+rc]
push    ecx
push    eax
call    ds:getclientrect
mov     eax, y
neg     eax
push    eax
mov     eax, w
neg     eax
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:inflaterect
lea     eax, [ebp+lparam]
mov     edi, 406h
push    eax
push    ebx
push    edi
mov     [ebp+var_20], 0ffh
push    dword ptr [esi+18h]
call    ds:sendmessagea
push    ebx
push    ebx
push    ebx
lea     eax, [ebp+rc]
push    ebx
push    eax
call    ds:setrect
cmp     [esi+74h], ebx
mov     [ebp+arg_0], ebx
jbe     short loc_27805399
mov     eax, [ebp+arg_0]
mov     [ebp+var_20], eax
lea     eax, [ebp+lparam]
push    eax
push    ebx
push    edi
push    dword ptr [esi+18h]
call    ds:sendmessagea
inc     [ebp+arg_0]
mov     eax, [ebp+arg_0]
cmp     eax, [esi+74h]
jnb     short loc_27805399
jmp     short loc_278053f6
mov     ecx, [esp+arg_4]
xor     eax, eax
cmp     ecx, 0ffh
jnz     short loc_27805430
mov     eax, [esp+arg_0]
add     eax, 4ch
retn    8
mov     edx, [esp+arg_0]
cmp     ecx, [edx+74h]
jge     short locret_2780542d
lea     eax, [ecx+ecx*4]
lea     eax, [edx+eax*8+7ch]
jmp     short locret_2780542d
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
xor     eax, eax
cmp     [esi+50h], edi
setz    al
test    al, al
jz      short loc_27805466
mov     eax, 0ffh
pop     edi
pop     esi
leave
retn    0ch
cmp     [esi+74h], edi
jle     short loc_27805490
lea     eax, [ebp+rc]
push    eax
push    edi
push    esi
call    sub_27803c53
push    [ebp+pt.y]
lea     eax, [ebp+rc]
push    [ebp+pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_27805495
inc     edi
cmp     edi, [esi+74h]
jl      short loc_2780546b
push    0fffffffeh
pop     eax
jmp     short loc_27805460
mov     eax, edi
jmp     short loc_27805460
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
mov     esi, offset amsvblibtooltip
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_27805504
mov     [ebp+wndclass.lpszclassname], esi
xor     esi, esi
push    7f00h
push    esi
mov     [ebp+wndclass.lpfnwndproc], offset sub_278069e6
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hicon], esi
mov     [ebp+wndclass.lpszmenuname], esi
mov     [ebp+wndclass.hbrbackground], esi
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.style], 8
mov     [ebp+wndclass.cbclsextra], esi
mov     [ebp+wndclass.cbwndextra], 4
call    ds:registerclassa
movzx   eax, ax
pop     edi
pop     esi
leave
retn    4
push    1
pop     eax
jmp     short loc_278054fe
push    ebp
mov     ebp, esp
sub     esp, 12ch
push    ebx
push    esi
push    edi
xor     edi, edi
call    ds:getcursor
lea     ecx, [ebp+piconinfo]
push    ecx
push    eax
call    ds:geticoninfo
test    eax, eax
jz      short loc_27805559
lea     eax, [ebp+pv]
push    eax
push    18h
push    [ebp+piconinfo.hbmmask]
call    ds:getobjecta
test    eax, eax
jz      short loc_27805559
lea     eax, [ebp+vbits]
mov     ebx, 100h
push    eax
push    ebx
push    [ebp+piconinfo.hbmmask]
call    ds:getbitmapbits
test    eax, eax
jnz     short loc_27805569
mov     eax, [ebp+arg_0]
mov     dword ptr [eax], 10h
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     esi, [ebp+var_28]
imul    esi, [ebp+var_24]
shr     esi, 4
cmp     [ebp+piconinfo.hbmcolor], 0
jnz     short loc_27805585
mov     eax, esi
lea     edi, [esi-1]
cdq
sub     eax, edx
sar     eax, 1
mov     esi, eax
cmp     esi, ebx
jb      short loc_2780558e
mov     esi, 0ffh
cmp     edi, ebx
jb      short loc_27805594
xor     edi, edi
dec     esi
js      short loc_278055c2
lea     eax, [ebp+edi*2+vbits]
lea     ecx, [ebp+esi*2+vbits]
cmp     word ptr [ecx], 0ffffh
jnz     short loc_278055c2
test    edi, edi
jz      short loc_278055bb
mov     dx, [eax]
dec     edi
dec     eax
dec     eax
test    dx, dx
jnz     short loc_278055c2
dec     esi
dec     ecx
dec     ecx
test    esi, esi
jge     short loc_278055a5
cmp     [ebp+piconinfo.hbmcolor], 0
mov     edi, ds:deleteobject
jz      short loc_278055d3
push    [ebp+piconinfo.hbmcolor]
call    edi
cmp     [ebp+piconinfo.hbmmask], 0
jz      short loc_278055de
push    [ebp+piconinfo.hbmmask]
call    edi
lea     eax, [esi+1]
xor     edx, edx
shl     eax, 4
div     [ebp+var_28]
mov     ecx, [ebp+arg_0]
sub     eax, [ebp+piconinfo.yhotspot]
mov     [ecx], eax
jmp     loc_27805562
push    ebp
mov     ebp, esp
push    ecx
push    esi
call    ds:getmessagepos
mov     esi, eax
lea     eax, [ebp+var_4]
push    eax
call    sub_27805509
mov     ecx, [ebp+arg_0]
movsx   eax, si
shr     esi, 10h
mov     [ecx], eax
mov     ecx, [ebp+arg_4]
movsx   eax, si
add     eax, [ebp+var_4]
pop     esi
mov     [ecx], eax
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 154h
push    esi
mov     esi, [ebp+arg_0]
cmp     dword ptr [esi+1ch], 0
jz      short loc_2780564c
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_2780564c
push    eax
call    ds:deleteobject
and     dword ptr [esi+1ch], 0
mov     eax, [ebp+arg_4]
test    eax, eax
jnz     short loc_2780568e
lea     ecx, [ebp+pvparam]
mov     eax, 154h
push    0
push    ecx
push    eax
push    29h
mov     [ebp+pvparam], eax
call    ds:systemparametersinfoa
lea     eax, [ebp+lf]
push    eax
call    ds:createfontindirecta
test    eax, eax
mov     dword ptr [esi+1ch], 1
jnz     short loc_2780568e
mov     eax, dword_2782a124
and     dword ptr [esi+1ch], 0
push    eax
mov     [esi+20h], eax
call    sub_277bc9de
mov     [esi+24h], eax
pop     esi
leave
retn    8
push    esi
mov     esi, [esp+4+hwnd]
push    edi
call    ds:getforegroundwindow
mov     edi, eax
test    esi, esi
jz      short loc_278056c8
cmp     esi, edi
jz      short loc_278056c0
push    esi
call    ds:getparent
mov     esi, eax
jmp     short loc_278056ad
push    1
pop     eax
pop     edi
pop     esi
retn    4
xor     eax, eax
jmp     short loc_278056c3
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, ds:killtimer
mov     eax, [esi+30h]
test    eax, eax
jz      short loc_278056ed
push    eax
push    dword ptr [esi]
call    edi
and     dword ptr [esi+30h], 0
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_278056fd
push    eax
push    dword ptr [esi]
call    edi
and     dword ptr [esi+3ch], 0
push    dword ptr [esi]
call    ds:iswindowvisible
test    eax, eax
jz      short loc_2780573c
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_2780573c
mov     ecx, [esi]
mov     [ebp+lparam], ecx
mov     ecx, [eax+0ch]
mov     [ebp+var_8], ecx
mov     ecx, 0fffffdf6h
mov     [ebp+var_4], ecx
mov     edx, [eax+4]
shr     edx, 6
and     edx, 1
push    edx
lea     edx, [ebp+lparam]
push    edx
push    ecx
push    0ffffffffh
push    dword ptr [eax+8]
call    sub_27811d28
push    3
push    dword ptr [esi]
call    edi
push    0
push    dword ptr [esi]
call    ds:showwindow
and     byte ptr [esi+28h], 3fh
and     dword ptr [esi+18h], 0
pop     edi
pop     esi
leave
retn    4
push    ebx
mov     ebx, ds:localalloc
push    esi
push    edi
push    70h
push    40h
call    ebx
mov     esi, eax
test    esi, esi
jz      short loc_278057b8
push    0ffffffffh
push    0
push    esi
call    sub_27806587
mov     edi, ds:getsyscolor
mov     dword ptr [esi+28h], 10h
mov     eax, [esp+0ch+arg_0]
push    18h
mov     eax, [eax+20h]
or      dword ptr [esi+5ch], 0ffffffffh
and     dword ptr [esi+24h], 0
mov     [esi+2ch], eax
call    edi
push    17h
mov     [esi+54h], eax
call    edi
push    50h
mov     [esi+58h], eax
pop     edi
push    edi
push    40h
call    ebx
test    eax, eax
mov     [esi+40h], eax
jz      short loc_278057c0
mov     [esi+44h], edi
mov     eax, esi
pop     edi
pop     esi
pop     ebx
retn    4
push    esi
call    ds:localfree
xor     esi, esi
jmp     short loc_278057b8
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
xor     edi, edi
mov     eax, [esi+30h]
test    eax, eax
jz      short loc_278057e4
push    eax
push    dword ptr [esi]
call    ds:killtimer
mov     ebx, [esp+0ch+nidevent]
cmp     ebx, 1
jz      short loc_2780585b
jle     short loc_27805837
cmp     ebx, 3
jle     short loc_27805821
cmp     ebx, 4
jnz     short loc_27805837
mov     eax, [esi+10h]
test    eax, eax
jge     short loc_2780580b
call    ds:getdoubleclicktime
lea     eax, [eax+eax*4]
shl     eax, 1
push    0
push    eax
push    4
push    dword ptr [esi]
call    ds:settimer
mov     [esi+3ch], eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     edi, [esi+0ch]
test    edi, edi
jge     short loc_27805837
call    ds:getdoubleclicktime
push    5
xor     edx, edx
pop     ecx
div     ecx
mov     edi, eax
push    0
push    edi
push    ebx
push    dword ptr [esi]
call    ds:settimer
test    eax, eax
jz      short loc_2780581b
cmp     ebx, 3
jz      short loc_2780581b
mov     [esi+30h], ebx
add     esi, 34h
push    esi
call    ds:getcursorpos
jmp     short loc_2780581b
mov     edi, [esi+8]
test    edi, edi
jge     short loc_27805837
call    ds:getdoubleclicktime
jmp     short loc_27805835
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_278058e4
test    byte ptr [eax+4], 1
jz      short loc_278058df
mov     ebx, [eax+0ch]
push    ebx
call    ds:iswindowvisible
test    eax, eax
jz      short loc_278058e4
test    byte ptr [esi+2ch], 1
jnz     short loc_278058a1
push    ebx
call    sub_2780569f
test    eax, eax
jz      short loc_278058e4
lea     edi, [esi+34h]
push    edi
push    0
push    410h
push    dword ptr [esi]
call    ds:sendmessagea
cmp     ebx, eax
jnz     short loc_278058e4
lea     eax, [ebp+rect]
push    eax
push    ebx
call    ds:getwindowrect
push    dword ptr [edi+4]
lea     eax, [ebp+rect]
push    dword ptr [edi]
push    eax
call    ds:ptinrect
test    eax, eax
jz      short loc_278058e4
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     ebx, [eax+8]
jmp     short loc_27805886
push    1
pop     eax
jmp     short loc_278058d8
mov     ecx, [esp+arg_4]
push    ebx
push    esi
push    edi
cmp     dword ptr [ecx], 2ch
ja      short loc_2780593e
mov     eax, ecx
shr     eax, 10h
test    ax, ax
jnz     short loc_27805916
mov     eax, [esp+0ch+arg_0]
cmp     ecx, [eax+4]
jge     short loc_2780593e
imul    ecx, 2ch
mov     eax, [eax+14h]
add     eax, ecx
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, [esp+0ch+arg_0]
xor     edi, edi
mov     esi, [eax+4]
test    esi, esi
jle     short loc_2780593e
mov     edx, [ecx+8]
mov     eax, [eax+14h]
cmp     [eax+8], edx
jnz     short loc_27805936
mov     ebx, [eax+0ch]
cmp     ebx, [ecx+0ch]
jz      short loc_27805910
inc     edi
add     eax, 2ch
cmp     edi, esi
jl      short loc_27805929
xor     eax, eax
jmp     short loc_27805910
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, [ebp+hwnd]
push    edi
call    ds:iswindow
test    eax, eax
jz      short loc_27805986
lea     eax, [ebp+hwnd]
mov     esi, offset sub_27805998
push    eax
push    [ebp+arg_4]
push    esi
push    edi
call    sub_27812105
test    eax, eax
jz      short loc_27805986
cmp     [ebp+arg_8], 0
jnz     short loc_2780598c
mov     eax, [ebp+hwnd]
cmp     eax, 1
jbe     short loc_2780598c
dec     eax
push    eax
push    [ebp+arg_4]
push    esi
push    edi
call    sub_27812153
pop     edi
pop     esi
pop     ebp
retn    0ch
push    [ebp+arg_4]
push    esi
push    edi
call    sub_278121f8
jmp     short loc_27805986
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_4]
cmp     esi, 200h
jb      short loc_278059af
cmp     esi, 209h
jbe     short loc_278059b7
cmp     esi, 0a0h
jnz     short loc_278059dd
push    [ebp+arg_c]
push    [ebp+arg_8]
push    esi
push    [ebp+arg_0]
push    [ebp+hwnd]
call    sub_27810fcc
push    [ebp+arg_c]
push    [ebp+arg_8]
push    esi
push    [ebp+arg_0]
call    sub_27812262
pop     esi
pop     ebp
retn    18h
cmp     esi, 82h
jnz     short loc_278059c9
push    1
push    [ebp+hwnd]
push    [ebp+arg_0]
call    sub_27805942
jmp     short loc_278059c9
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    esi
push    edi
test    byte ptr [eax+4], 1
jz      short loc_27805a38
mov     edi, [eax+0ch]
push    edi
call    ds:iswindow
test    eax, eax
jz      short loc_27805a32
lea     eax, [ebp+arg_0]
mov     esi, offset sub_27805998
push    eax
push    [ebp+arg_4]
push    esi
push    edi
call    sub_27812105
mov     eax, [ebp+arg_0]
inc     eax
push    eax
push    [ebp+arg_4]
push    esi
push    edi
call    sub_27812153
pop     edi
pop     esi
pop     ebp
retn    8
mov     edi, [eax+8]
jmp     short loc_27805a05
mov     eax, [esp+arg_0]
push    esi
push    edi
lea     esi, [eax+24h]
mov     eax, [eax+24h]
cmp     eax, 0ffffffffh
jz      short loc_27805a56
shr     eax, 10h
test    ax, ax
jnz     short loc_27805a59
and     dword ptr [esi], 0
mov     edi, [esp+8+lpstring]
cmp     edi, 0ffffffffh
jz      short loc_27805a78
mov     eax, edi
shr     eax, 10h
test    ax, ax
jz      short loc_27805a78
push    edi
push    esi
call    sub_2781617a
pop     edi
pop     esi
retn    8
push    0
push    esi
call    sub_2781617a
mov     [esi], edi
jmp     short loc_27805a73
push    ebx
mov     ebx, [esp+4+arg_4]
push    esi
push    edi
cmp     dword ptr [ebx], 2ch
ja      short loc_27805aaa
mov     edi, [esp+0ch+arg_0]
mov     eax, [edi+4]
inc     eax
imul    eax, 2ch
push    eax
push    dword ptr [edi+14h]
call    sub_27811902
mov     ecx, eax
test    ecx, ecx
jnz     short loc_27805ab2
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     edx, [edi+14h]
test    edx, edx
jz      short loc_27805ad0
mov     eax, [edi+18h]
test    eax, eax
jz      short loc_27805ad0
sub     eax, edx
push    2ch
cdq
pop     esi
idiv    esi
imul    eax, 2ch
add     eax, ecx
mov     [edi+18h], eax
mov     eax, [edi+4]
mov     [edi+14h], ecx
mov     esi, eax
imul    esi, 2ch
add     esi, ecx
inc     eax
mov     [edi+4], eax
push    dword ptr [ebx]
push    ebx
push    esi
call    ds:rtlmovememory
and     dword ptr [esi+24h], 0
push    dword ptr [ebx+24h]
push    esi
call    sub_27805a3d
test    byte ptr [esi+4], 10h
jz      short loc_27805b06
push    dword ptr [edi]
push    esi
call    sub_278059f4
mov     ebx, [ebx+8]
test    ebx, ebx
jz      short loc_27805b43
push    ebx
call    ds:iswindow
test    eax, eax
jz      short loc_27805b43
test    byte ptr [esi+4], 40h
jz      short loc_27805b23
push    2
pop     eax
jmp     short loc_27805b32
push    3
push    dword ptr [edi]
push    55h
push    dword ptr [esi+8]
call    ds:sendmessagea
cmp     eax, 2
jnz     short loc_27805b3b
or      dword ptr [esi+4], 40h
push    1
pop     eax
jmp     loc_27805aac
push    1
jmp     short loc_27805b20
push    esi
mov     esi, [esp+4+arg_4]
mov     eax, [esi+4]
test    al, 10h
jz      short loc_27805b68
test    al, 1
jz      short loc_27805b74
mov     eax, [esi+0ch]
mov     ecx, [esp+4+arg_0]
push    0
push    dword ptr [ecx]
push    eax
call    sub_27805942
push    0
push    esi
call    sub_27805a3d
pop     esi
retn    8
mov     eax, [esi+8]
jmp     short loc_27805b5a
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
cmp     dword ptr [eax], 2ch
ja      short loc_27805bd1
mov     ebx, [ebp+arg_0]
push    eax
push    ebx
call    sub_278058e9
mov     edi, eax
test    edi, edi
mov     [ebp+arg_4], edi
jz      short loc_27805bd1
cmp     [ebx+18h], edi
jnz     short loc_27805ba5
push    ebx
call    sub_278056cc
push    edi
push    ebx
call    sub_27805b47
dec     dword ptr [ebx+4]
mov     esi, [ebx+4]
imul    esi, 2ch
add     esi, [ebx+14h]
push    0bh
pop     ecx
rep movsd
mov     eax, [ebx+4]
imul    eax, 2ch
add     eax, [ebx+14h]
cmp     [ebx+18h], eax
jnz     short loc_27805bd1
mov     eax, [ebp+arg_4]
mov     [ebx+18h], eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
mov     eax, [esp+arg_0]
test    byte ptr [eax+2ch], 2
jnz     short locret_27805bec
mov     eax, [eax+40h]
push    eax
push    eax
call    sub_27811274
retn    4
push    ebp
mov     ebp, esp
sub     esp, 6ch
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
mov     eax, [edi+40h]
test    eax, eax
jz      loc_27805cb7
and     byte ptr [eax], 0
mov     esi, [ebp+arg_4]
mov     eax, [esi+24h]
cmp     eax, 0ffffffffh
jnz     loc_27805d69
mov     eax, [esi+0ch]
mov     ecx, [esi+28h]
mov     [ebp+var_68], eax
mov     eax, [edi]
mov     [ebp+lparam], eax
lea     eax, [ebp+var_5c]
mov     [ebp+uid], eax
mov     eax, [esi+4]
mov     [ebp+var_8], eax
and     [ebp+var_5c], 0
shr     eax, 6
and     eax, 1
and     [ebp+hinstance], 0
push    eax
lea     eax, [ebp+lparam]
push    eax
push    0
push    0ffffffffh
mov     [ebp+var_64], 0fffffdf8h
push    dword ptr [esi+8]
mov     [ebp+var_4], ecx
call    sub_27811d28
test    byte ptr [ebp+var_8+1], 80h
mov     eax, [ebp+uid]
jz      short loc_27805c77
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jnz     short loc_27805cce
mov     ecx, [ebp+hinstance]
mov     [esi+24h], eax
mov     [esi+20h], ecx
test    eax, eax
jz      short loc_27805cb3
test    byte ptr [ebp+var_8], 4
jz      short loc_27805cdf
or      dword ptr [esi+4], 4
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jnz     short loc_27805ce5
mov     esi, [ebp+hinstance]
lea     ecx, [ebp+var_5c]
mov     [ebp+uid], ecx
mov     ecx, [edi+40h]
test    ecx, ecx
jz      loc_27805d22
push    dword ptr [edi+44h]
push    ecx
push    eax
push    esi
call    ds:loadstringa
test    eax, eax
jnz     short loc_27805d1c
xor     eax, eax
jmp     short loc_27805d25
push    50h
pop     esi
push    esi
push    40h
call    ds:localalloc
mov     [edi+40h], eax
mov     [edi+44h], esi
jmp     loc_27805c09
cmp     eax, 0ffffffffh
jz      short loc_27805c77
push    eax
push    esi
call    sub_27805a3d
mov     eax, [ebp+uid]
jmp     short loc_27805c77
and     dword ptr [esi+4], 0fffffffbh
jmp     short loc_27805c85
cmp     byte ptr [eax], 0
jz      short loc_27805cb3
push    eax
call    ds:lstrlena
mov     esi, eax
inc     esi
cmp     [edi+44h], esi
jnb     short loc_27805d0b
push    2
push    esi
push    dword ptr [edi+40h]
call    ds:localrealloc
mov     [edi+40h], eax
mov     [edi+44h], esi
mov     eax, [edi+40h]
test    eax, eax
jz      short loc_27805d1c
push    [ebp+uid]
push    eax
call    ds:lstrcpya
push    edi
call    sub_27805bd8
mov     eax, [edi+40h]
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    eax, eax
jz      short loc_27805d22
cmp     byte ptr [eax], 0
jz      short loc_27805d22
push    eax
call    ds:lstrlena
mov     ebx, eax
inc     ebx
cmp     [edi+44h], ebx
jnb     short loc_27805d56
push    2
push    ebx
push    dword ptr [edi+40h]
call    ds:localrealloc
mov     [edi+40h], eax
mov     [edi+44h], ebx
mov     eax, [edi+40h]
test    eax, eax
jz      short loc_27805d22
push    dword ptr [esi+24h]
push    eax
call    ds:lstrcpya
jmp     short loc_27805d22
test    eax, eax
jz      short loc_27805d22
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jnz     short loc_27805d2c
mov     esi, [esi+20h]
jmp     loc_27805c98
push    esi
mov     esi, [esp+4+arg_0]
xor     eax, eax
mov     ecx, [esi+18h]
test    ecx, ecx
jz      short loc_27805d94
push    ecx
push    esi
call    sub_27805bef
cmp     dword ptr [esi+18h], 0
jnz     short loc_27805d9c
xor     eax, eax
pop     esi
retn    4
mov     eax, [esp+arg_0]
test    byte ptr [eax+4], 1
jz      short loc_27805dba
push    [esp+lprect]
push    dword ptr [eax+0ch]
call    ds:getwindowrect
retn    8
push    edi
mov     edi, [esp+4+lprect]
push    esi
lea     esi, [eax+10h]
movsd
movsd
push    2
push    [esp+0ch+lprect]
movsd
push    0
movsd
push    dword ptr [eax+8]
call    ds:mapwindowpoints
pop     esi
pop     edi
jmp     short locret_27805db7
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
mov     ecx, [eax+4]
test    cx, 420h
jnz     short loc_27805e1a
test    cl, 1
mov     ecx, [ebp+arg_4]
jz      short loc_27805e00
cmp     ecx, [eax+0ch]
jnz     short loc_27805e1a
push    1
pop     eax
pop     ebp
retn    10h
cmp     ecx, [eax+8]
jnz     short loc_27805e1a
push    [ebp+pt.y]
mov     ecx, [ebp+pt.x]
add     eax, 10h
push    ecx
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_27805df9
xor     eax, eax
jmp     short loc_27805dfc
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
mov     edi, [ebp+arg_0]
test    byte ptr [edi+28h], 40h
jz      short loc_27805e6a
mov     eax, [edi+18h]
test    eax, eax
jz      short loc_27805e6a
test    byte ptr [eax+5], 4
jz      short loc_27805e4f
cmp     [eax+8], ebx
jnz     short loc_27805e4f
mov     ecx, [ebp+arg_10]
cmp     ecx, [eax+10h]
jz      short loc_27805e60
push    [ebp+pt.y]
push    [ebp+pt.x]
push    ebx
push    eax
call    sub_27805ddc
test    eax, eax
jz      short loc_27805e6a
mov     eax, [edi+18h]
pop     edi
pop     esi
pop     ebx
leave
retn    18h
mov     eax, [edi+4]
test    eax, eax
jz      short loc_27805ec5
imul    eax, 2ch
mov     ecx, [edi+14h]
lea     esi, [eax+ecx-2ch]
cmp     esi, ecx
jb      short loc_27805ec5
test    byte ptr [esi+5], 4
jz      short loc_27805e92
cmp     [esi+8], ebx
jnz     short loc_27805e92
mov     eax, [ebp+arg_10]
cmp     eax, [esi+10h]
jz      short loc_27805ea3
push    [ebp+pt.y]
push    [ebp+pt.x]
push    ebx
push    esi
call    sub_27805ddc
test    eax, eax
jz      short loc_27805ebd
cmp     [ebp+arg_14], 0
jz      short loc_27805eca
push    esi
push    edi
call    sub_27805bef
test    eax, eax
jnz     short loc_27805eca
test    byte ptr [edi+28h], 0c0h
jz      short loc_27805ebd
mov     [ebp+var_4], esi
sub     esi, 2ch
cmp     esi, [edi+14h]
jnb     short loc_27805e7f
mov     eax, [ebp+var_4]
jmp     short loc_27805e63
mov     eax, esi
jmp     short loc_27805e63
push    esi
mov     esi, [esp+4+arg_0]
push    edi
push    esi
mov     edi, [esi+18h]
call    sub_278056cc
or      byte ptr [esi+28h], 80h
mov     [esi+18h], edi
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 4ch
mov     ecx, w
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
or      [ebp+arg_0], 0ffffffffh
mov     eax, [esi+60h]
lea     eax, [eax+ecx*4]
mov     ecx, y
add     eax, [esi+68h]
add     eax, [ebp+arg_8]
mov     [ebp+var_4], eax
mov     eax, [esi+64h]
lea     edi, [eax+ecx*2]
lea     eax, [ebp+rect]
add     edi, [esi+6ch]
push    eax
push    dword ptr [esi+18h]
add     edi, [ebp+arg_c]
call    sub_27805da0
mov     eax, [esi+18h]
mov     eax, [eax+4]
test    al, 20h
jz      loc_2780608c
mov     ebx, [ebp+arg_4]
mov     eax, [esi+48h]
mov     [ebx], eax
mov     eax, [esi+4ch]
mov     [ebx+4], eax
mov     eax, [esi+18h]
test    byte ptr [eax+4], 2
jz      short loc_27805f64
mov     eax, [ebp+var_4]
push    0fffffffeh
cdq
pop     ecx
idiv    ecx
add     [ebx], eax
mov     eax, edi
cdq
idiv    ecx
add     [ebx+4], eax
mov     eax, [esi+18h]
test    byte ptr [eax+4], 80h
jnz     loc_278060df
mov     ecx, [esi+4ch]
mov     eax, [ebp+rect.bottom]
cmp     ecx, eax
jle     short loc_27805f8c
cmp     [ebx+4], eax
mov     [ebp+arg_0], 2
jge     short loc_27805fd1
mov     [ebx+4], eax
jmp     short loc_27805fd1
mov     eax, [ebp+rect.left]
cmp     [esi+48h], eax
jge     short loc_27805fab
mov     ecx, [ebp+var_4]
mov     [ebp+arg_0], 1
add     ecx, [ebx]
cmp     ecx, eax
jle     short loc_27805fd1
sub     eax, [ebp+var_4]
mov     [ebx], eax
jmp     short loc_27805fd1
mov     eax, [ebp+rect.top]
cmp     ecx, eax
jge     short loc_27805fc3
and     [ebp+arg_0], 0
mov     ecx, edi
add     ecx, [ebx+4]
cmp     ecx, eax
jle     short loc_27805fd1
sub     eax, edi
jmp     short loc_27805f87
mov     eax, [ebp+rect.right]
mov     [ebp+arg_0], 3
cmp     [ebx], eax
jl      short loc_27805fa7
mov     ecx, [ebx+4]
mov     eax, [ebx]
push    2
push    ecx
push    eax
call    sub_277e201c
lea     ecx, [ebp+var_4c]
mov     [ebp+var_4c], 28h
push    ecx
push    eax
call    sub_277e2133
push    0ffffffech
push    dword ptr [esi]
call    ds:getwindowlonga
test    al, 8
lea     eax, [ebp+rcsrc]
jnz     short loc_27806004
lea     eax, [ebp+var_38]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:copyrect
mov     ecx, [ebx+4]
mov     edx, [ebp+rcdst.bottom]
lea     eax, [ebx+4]
lea     esi, [edi+ecx]
cmp     esi, edx
mov     esi, [ebp+rcdst.top]
jl      short loc_2780603a
cmp     [ebp+arg_0], 0ffffffffh
jz      loc_278060bf
cmp     [ebp+arg_0], 2
jz      loc_278060bf
sub     edx, edi
mov     [eax], edx
cmp     [eax], esi
jge     short loc_2780604d
cmp     [ebp+arg_0], 0
jnz     loc_278060d3
mov     ecx, [ebp+rect.bottom]
mov     [eax], ecx
mov     eax, [ebp+var_4]
mov     ecx, [ebp+rcdst.right]
mov     edx, eax
add     edx, [ebx]
cmp     edx, ecx
jl      short loc_27806068
cmp     [ebp+arg_0], 3
jnz     short loc_278060da
mov     ecx, [ebp+rect.left]
sub     ecx, eax
mov     [ebx], ecx
mov     ecx, [ebp+rcdst.left]
cmp     [ebx], ecx
jge     short loc_2780607a
cmp     [ebp+arg_0], 1
jnz     short loc_27806078
mov     ecx, [ebp+rect.right]
mov     [ebx], ecx
add     eax, [ebx]
add     edi, [ebx+4]
mov     [ebx+0ch], edi
pop     edi
mov     [ebx+8], eax
pop     esi
pop     ebx
leave
retn    10h
test    al, 2
jz      short loc_278060ad
mov     eax, [ebp+rect.left]
mov     ecx, [ebp+rect.right]
add     eax, ecx
mov     ebx, [ebp+arg_4]
sub     eax, [ebp+arg_8]
cdq
sub     eax, edx
sar     eax, 1
mov     [ebx], eax
mov     eax, [ebp+rect.bottom]
jmp     loc_27805f87
mov     ebx, [ebp+arg_4]
lea     eax, [ebx+4]
push    eax
push    ebx
call    sub_278055f6
jmp     loc_27805fd1
lea     edx, [edi+esi]
cmp     [ebp+rect.top], edx
jl      short loc_278060ca
mov     ecx, [ebp+rect.top]
sub     ecx, edi
mov     [eax], ecx
jmp     loc_2780603a
mov     [eax], esi
jmp     loc_2780604d
sub     ecx, eax
dec     ecx
jmp     short loc_27806066
mov     eax, [ebp+var_4]
jmp     short loc_2780607a
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    dword ptr [ebx]
call    ds:getdc
mov     esi, eax
mov     eax, [ebx+20h]
xor     edi, edi
mov     [ebp+hdc], esi
cmp     eax, edi
jz      short loc_27806111
push    eax
push    esi
call    ds:selectobject
mov     [ebp+h], eax
mov     eax, [ebx]
mov     [ebp+arg_0], edi
test    byte ptr [ebx+2ch], 2
mov     [ebp+lparam], eax
mov     eax, [ebx+18h]
mov     eax, [eax+0ch]
mov     [ebp+var_34], 0fffffff4h
mov     [ebp+var_38], eax
mov     [ebp+var_2c], esi
mov     [ebp+var_30], 1
mov     [ebp+rc.top], edi
mov     [ebp+rc.left], edi
jz      short loc_27806146
mov     [ebp+arg_0], 800h
mov     eax, [ebx+5ch]
cmp     eax, 0ffffffffh
jnz     loc_27806208
mov     edi, [ebp+arg_c]
mov     esi, [ebp+arg_8]
push    edi
or      word ptr [ebp+arg_0], 420h
push    esi
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    sub_277bccbe
mov     eax, [esi]
mov     [ebp+rc.right], eax
mov     eax, [edi]
mov     [ebp+rc.bottom], eax
mov     eax, [ebx+18h]
test    byte ptr [eax+4], 4
jz      short loc_27806183
or      byte ptr [ebp+arg_0+2], 2
mov     ecx, [ebp+arg_0]
mov     [ebp+format], ecx
mov     ecx, [eax+4]
shr     ecx, 6
and     ecx, 1
push    ecx
lea     ecx, [ebp+lparam]
push    ecx
push    0
push    0ffffffffh
push    dword ptr [eax+8]
call    sub_27811d28
mov     eax, [ebp+format]
cmp     eax, [ebp+arg_0]
jz      short loc_278061d6
push    eax
lea     eax, [ebp+rc]
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    ds:drawtexta
mov     eax, [ebp+rc.right]
sub     eax, [ebp+rc.left]
mov     [esi], eax
mov     eax, [ebp+rc.bottom]
sub     eax, [ebp+rc.top]
mov     [edi], eax
cmp     dword ptr [ebx+20h], 0
jz      short loc_278061e8
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+hdc]
push    dword ptr [ebx]
call    ds:releasedc
mov     eax, dword_2782a06c
add     [esi], eax
mov     eax, dy
add     [edi], eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
or      word ptr [ebp+arg_0], 650h
mov     [ebp+rc.right], eax
push    [ebp+arg_0]
lea     eax, [ebp+rc]
mov     [ebp+rc.bottom], edi
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    esi
call    ds:drawtexta
mov     esi, [ebp+arg_8]
mov     eax, [ebp+rc.right]
mov     edi, [ebp+arg_c]
mov     [esi], eax
mov     eax, [ebp+rc.bottom]
mov     [edi], eax
jmp     loc_27806176
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    esi
call    sub_27805d7f
test    byte ptr [esi+28h], 1
mov     edi, eax
mov     [ebp+arg_0], edi
jz      short loc_2780627b
test    edi, edi
jz      short loc_2780626a
cmp     byte ptr [edi], 0
jnz     short loc_2780629c
push    esi
call    sub_278056cc
and     dword ptr [esi+28h], 0fffffffeh
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    3
push    esi
call    sub_278057cb
test    edi, edi
jz      loc_27806358
cmp     byte ptr [edi], 0
jz      loc_27806358
push    4
push    esi
call    sub_278057cb
mov     ebx, ds:setwindowpos
mov     edi, 0fffffdf7h
lea     eax, [ebp+var_4]
push    eax
lea     eax, [ebp+var_8]
push    eax
push    [ebp+arg_0]
push    esi
call    sub_278060e4
push    [ebp+var_4]
lea     eax, [ebp+x]
push    [ebp+var_8]
push    eax
push    esi
call    sub_27805ee9
mov     eax, [ebp+var_1c]
push    14h
sub     eax, [ebp+y]
push    eax
mov     eax, [ebp+var_20]
sub     eax, [ebp+x]
push    eax
push    [ebp+y]
push    [ebp+x]
push    0
push    dword ptr [esi]
call    ebx
mov     eax, [esi]
mov     [ebp+lparam], eax
mov     eax, [esi+18h]
mov     ecx, [eax+0ch]
mov     [ebp+var_10], edi
mov     [ebp+var_14], ecx
mov     ecx, [esi+20h]
mov     [ebp+var_c], ecx
mov     ecx, [eax+4]
shr     ecx, 6
and     ecx, 1
push    ecx
lea     ecx, [ebp+lparam]
push    ecx
push    edi
push    0ffffffffh
push    dword ptr [eax+8]
call    sub_27811d28
test    eax, eax
jnz     short loc_27806327
push    15h
push    eax
push    eax
push    [ebp+y]
push    [ebp+x]
push    eax
push    dword ptr [esi]
call    ebx
mov     eax, [ebp+var_c]
cmp     eax, [esi+20h]
jnz     loc_278062a7
lea     eax, [ebp+x]
push    eax
push    dword ptr [esi]
call    sub_27819224
or      dword ptr [esi+28h], 40h
push    105h
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
jmp     loc_27806274
push    esi
call    sub_27805ece
jmp     loc_27806274
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+arg_4]
cmp     edi, [esi+18h]
jz      short loc_27806383
test    byte ptr [esi+28h], 40h
jz      short loc_2780637e
push    esi
call    sub_278056cc
cmp     edi, [esi+18h]
jnz     short loc_27806389
test    byte ptr [esi+28h], 0c0h
jnz     short loc_27806392
push    esi
mov     [esi+18h], edi
call    sub_27806244
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    0fffffffeh
mov     eax, [esi+28h]
pop     ebx
test    al, 1
jnz     loc_278064c6
test    al, 20h
jz      short loc_278063d9
mov     edi, ds:getkeystate
push    1
call    edi
test    ax, ax
jl      short loc_278063d9
push    2
call    edi
test    ax, ax
jl      short loc_278063d9
push    4
call    edi
test    ax, ax
jl      short loc_278063d9
and     dword ptr [esi+28h], 0ffffffdfh
mov     ecx, [ebp+arg_8]
mov     eax, 200h
cmp     ecx, eax
ja      loc_278064f0
jz      loc_278064cd
mov     eax, ecx
sub     eax, 0a0h
jz      short loc_27806425
dec     eax
jz      loc_278064fc
dec     eax
jz      short loc_2780641c
dec     eax
dec     eax
jz      loc_278064fc
dec     eax
jz      short loc_2780641c
dec     eax
dec     eax
jz      loc_278064fc
dec     eax
jnz     loc_278064c6
and     dword ptr [esi+28h], 0ffffffdfh
jmp     loc_278064c6
mov     eax, [ebp+arg_10]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
mov     [ebp+point.x], ecx
push    [ebp+hwnd]
call    ds:screentoclient
movzx   edi, word ptr [ebp+point.y]
movzx   eax, word ptr [ebp+point.x]
mov     ebx, [ebp+arg_c]
shl     edi, 10h
or      edi, eax
test    byte ptr [esi+2ch], 1
jnz     short loc_27806466
push    [ebp+hwnd]
call    sub_2780569f
test    eax, eax
jz      short loc_278064c6
mov     eax, [esi+28h]
test    al, 10h
jz      short loc_278064c6
test    al, 20h
jnz     short loc_278064c6
mov     eax, edi
push    0
shr     eax, 10h
movsx   eax, ax
push    ebx
push    eax
movsx   eax, di
push    eax
push    [ebp+hwnd]
push    esi
call    sub_27805e1e
mov     edi, eax
test    edi, edi
jz      short loc_278064e8
test    byte ptr [esi+28h], 0c0h
jz      short loc_278064e0
cmp     edi, [esi+18h]
jz      short loc_278064d2
push    esi
call    sub_278056cc
push    esi
mov     [esi+18h], edi
call    sub_27805ece
push    2
pop     edi
cmp     dword ptr [esi+3ch], 0
jz      short loc_278064bb
push    4
push    esi
call    sub_278057cb
test    edi, edi
jz      short loc_278064c6
push    edi
push    esi
call    sub_278057cb
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     edi, [ebp+arg_10]
jmp     short loc_27806454
mov     edi, [esi+30h]
dec     edi
dec     edi
neg     edi
sbb     edi, edi
and     edi, 3
jmp     short loc_278064ad
push    1
mov     [esi+18h], edi
pop     edi
jmp     short loc_278064bb
push    esi
call    sub_278056cc
jmp     short loc_278064c6
mov     eax, ecx
sub     eax, 201h
jmp     loc_278063f9
or      dword ptr [esi+28h], 20h
push    esi
call    sub_27805ece
jmp     short loc_278064c6
push    ebx
mov     ebx, [esp+4+arg_0]
push    esi
push    edi
mov     edi, [esp+0ch+arg_4]
push    edi
push    ebx
call    sub_278058e9
mov     esi, eax
test    esi, esi
jz      short loc_27806554
mov     eax, [edi+20h]
mov     [esi+20h], eax
push    dword ptr [edi+24h]
push    esi
call    sub_27805a3d
cmp     esi, [ebx+18h]
jnz     short loc_27806554
lea     eax, [ebx+34h]
push    eax
call    ds:getcursorpos
push    ebx
call    sub_2780586a
test    eax, eax
jnz     short loc_2780655a
test    byte ptr [ebx+28h], 0c0h
jz      short loc_27806554
push    ebx
call    sub_27806244
pop     edi
pop     esi
pop     ebx
retn    8
push    ebx
call    sub_278056cc
jmp     short loc_27806554
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+arg_4]
push    esi
call    sub_27805627
xor     eax, eax
cmp     [esp+4+arg_8], eax
jz      short loc_27806583
push    eax
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_4]
push    esi
movsx   ecx, [ebp+arg_8]
sub     eax, 0
push    edi
jz      short loc_278065bd
dec     eax
jz      short loc_278065b5
dec     eax
jz      short loc_278065ad
dec     eax
jnz     short loc_278065a7
mov     eax, [ebp+arg_0]
mov     [eax+8], ecx
pop     edi
pop     esi
pop     ebp
retn    0ch
mov     eax, [ebp+arg_0]
mov     [eax+10h], ecx
jmp     short loc_278065a7
mov     eax, [ebp+arg_0]
mov     [eax+0ch], ecx
jmp     short loc_278065a7
test    ecx, ecx
jle     short loc_278065dc
mov     eax, ecx
push    5
cdq
pop     edi
mov     esi, [ebp+arg_0]
idiv    edi
mov     [esi+8], ecx
mov     [esi+0ch], eax
lea     eax, [ecx+ecx*4]
shl     eax, 1
mov     [esi+10h], eax
jmp     short loc_278065a7
mov     eax, [ebp+arg_0]
or      dword ptr [eax+8], 0ffffffffh
or      dword ptr [eax+0ch], 0ffffffffh
or      dword ptr [eax+10h], 0ffffffffh
jmp     short loc_278065a7
mov     eax, [esp+arg_4]
sub     eax, 0
jz      short loc_27806637
dec     eax
jz      short loc_2780661d
dec     eax
jz      short loc_27806605
dec     eax
jz      short loc_27806637
or      eax, 0ffffffffh
retn    8
mov     eax, [esp+arg_0]
mov     eax, [eax+10h]
test    eax, eax
jge     short locret_27806602
call    ds:getdoubleclicktime
lea     eax, [eax+eax*4]
shl     eax, 1
jmp     short locret_27806602
mov     eax, [esp+arg_0]
mov     eax, [eax+0ch]
test    eax, eax
jge     short locret_27806602
call    ds:getdoubleclicktime
push    5
xor     edx, edx
pop     ecx
div     ecx
jmp     short locret_27806602
mov     eax, [esp+arg_0]
mov     eax, [eax+8]
test    eax, eax
jge     short locret_27806602
call    ds:getdoubleclicktime
jmp     short locret_27806602
mov     eax, [esp+arg_0]
push    ebx
push    esi
push    edi
test    eax, eax
jz      short loc_278066d0
mov     ebx, [esp+0ch+arg_4]
test    ebx, ebx
jz      short loc_278066d0
mov     ecx, [ebx]
cmp     ecx, 2ch
ja      short loc_278066d0
cmp     ecx, 28h
jb      short loc_278066b0
mov     ecx, [eax+4]
lea     esi, [eax+10h]
mov     [ebx+4], ecx
mov     ecx, [eax+8]
mov     [ebx+8], ecx
mov     ecx, [eax+0ch]
lea     edi, [ebx+10h]
mov     [ebx+0ch], ecx
movsd
movsd
movsd
movsd
mov     ecx, [eax+20h]
mov     [ebx+20h], ecx
mov     ecx, [eax+24h]
cmp     ecx, 0ffffffffh
jz      short loc_278066cb
mov     edx, ecx
shr     edx, 10h
test    dx, dx
jz      short loc_278066cb
mov     edx, [ebx+24h]
test    edx, edx
jz      short loc_278066b0
push    ecx
push    edx
call    ds:lstrcpya
mov     eax, [esp+0ch+arg_0]
mov     ecx, [ebx]
cmp     ecx, 28h
jbe     short loc_278066bd
mov     eax, [eax+28h]
mov     [ebx+28h], eax
push    2ch
pop     eax
cmp     eax, ecx
sbb     eax, eax
inc     eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     [ebx+24h], ecx
jmp     short loc_278066b0
xor     eax, eax
jmp     short loc_278066c5
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
push    edi
call    ds:getmessagepos
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     esi, [ebp+arg_0]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
mov     [ebp+lparam], ecx
push    eax
push    0
push    410h
push    dword ptr [esi]
call    ds:sendmessagea
mov     edi, eax
lea     eax, [ebp+lparam]
push    eax
push    edi
call    ds:screentoclient
push    1
push    0fffffffeh
push    [ebp+var_4]
push    [ebp+lparam]
push    edi
push    esi
call    sub_27805e1e
pop     edi
pop     esi
leave
retn    4
push    esi
mov     esi, [esp+4+arg_0]
push    esi
call    sub_278066d4
cmp     [esi+18h], eax
jnz     short loc_27806744
push    esi
call    sub_2780586a
test    eax, eax
jz      short loc_2780674a
push    esi
call    sub_278056cc
pop     esi
retn    4
push    esi
mov     esi, [esp+4+arg_0]
mov     ecx, [esi+28h]
test    cl, 1
jnz     short loc_2780677d
mov     eax, [esp+4+arg_4]
dec     eax
jz      short loc_27806798
dec     eax
jz      short loc_278067a2
dec     eax
jz      short loc_27806781
dec     eax
jnz     short loc_2780677d
push    esi
call    sub_2780672a
cmp     dword ptr [esi+18h], 0
jz      short loc_2780677d
push    esi
call    sub_27805ece
pop     esi
retn    8
test    cl, 80h
jz      short loc_27806790
push    3
push    dword ptr [esi]
call    ds:killtimer
push    esi
call    sub_2780672a
jmp     short loc_2780677d
push    esi
call    sub_2780586a
test    eax, eax
jnz     short loc_278067b1
push    esi
call    sub_278066d4
test    eax, eax
jnz     short loc_278067b9
cmp     [esi+18h], eax
jz      short loc_2780677d
push    esi
call    sub_278056cc
jmp     short loc_2780677d
mov     ecx, [esi+28h]
test    cl, 10h
jz      short loc_2780677d
cmp     [esp+4+arg_4], 2
jnz     short loc_278067ce
and     cl, 3fh
mov     [esi+28h], ecx
push    eax
push    esi
call    sub_27806363
jmp     short loc_2780677d
push    ebp
mov     ebp, esp
sub     esp, 48h
push    esi
mov     esi, [ebp+options]
push    edi
xor     edi, edi
cmp     [esi+18h], edi
jz      loc_2780693d
push    esi
call    sub_27805d7f
cmp     eax, edi
mov     [ebp+lpstring], eax
jz      loc_2780693d
cmp     byte ptr [eax], 0
jz      loc_2780693d
mov     eax, [esi+18h]
push    ebx
mov     [ebp+options], edi
test    byte ptr [eax+4], 4
jz      short loc_2780681b
mov     [ebp+options], 80h
push    dword ptr [esi+20h]
mov     edi, [ebp+hdc]
push    edi
call    ds:selectobject
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
push    dword ptr [esi+58h]
push    edi
call    ds:settextcolor
mov     eax, [esi]
mov     ecx, [esi+18h]
mov     ebx, [esi+60h]
mov     [ebp+lparam], eax
mov     eax, [ecx+0ch]
push    1
mov     [ebp+var_44], eax
mov     eax, w
pop     edx
mov     [ebp+var_40], 0fffffff4h
lea     ebx, [ebx+eax*2]
mov     [ebp+var_38], edi
add     ebx, [ebp+rect.left]
mov     [ebp+var_3c], edx
neg     eax
shl     eax, 1
sub     eax, [esi+68h]
mov     [ebp+rc.left], ebx
mov     ebx, [ebp+rect.top]
add     eax, [ebp+rect.right]
mov     [ebp+rc.right], eax
mov     eax, y
add     ebx, eax
add     ebx, [esi+64h]
mov     [ebp+rc.top], ebx
mov     ebx, [ebp+rect.bottom]
sub     ebx, [esi+6ch]
sub     ebx, eax
mov     [ebp+rc.bottom], ebx
xor     ebx, ebx
cmp     dword ptr [esi+5ch], 0ffffffffh
setnz   bl
dec     ebx
and     bx, 0fdd0h
add     ebx, 250h
test    byte ptr [esi+2ch], 2
jz      short loc_278068b3
or      bh, 8
test    byte ptr [ecx+4], 4
jz      short loc_278068bf
or      ebx, 20000h
mov     [ebp+format], ebx
mov     eax, [ecx+4]
shr     eax, 6
and     eax, edx
push    eax
lea     eax, [ebp+lparam]
push    eax
push    0
push    0ffffffffh
push    dword ptr [ecx+8]
call    sub_27811d28
cmp     [ebp+format], ebx
jnz     short loc_27806945
test    bl, 20h
jz      short loc_27806945
test    ebx, 20000h
jnz     short loc_27806945
and     [ebp+hdc], 0
mov     ebx, [esi+54h]
push    ebx
push    edi
call    ds:getnearestcolor
cmp     ebx, eax
jnz     short loc_2780694e
cmp     [ebp+hdc], 0
jnz     short loc_2780694e
or      [ebp+options], 2
push    ebx
push    edi
call    ds:setbkcolor
cmp     [ebp+hdc], 0
jz      short loc_27806979
push    [ebp+format]
inc     [ebp+rc.bottom]
inc     [ebp+rc.right]
lea     eax, [ebp+rc]
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    edi
call    ds:drawtexta
push    1
pop     edi
pop     ebx
mov     eax, edi
pop     edi
pop     esi
leave
retn    8
mov     [ebp+hdc], 1
jmp     short loc_278068f1
push    ebx
call    ds:createsolidbrush
mov     ebx, eax
lea     eax, [ebp+rect]
push    ebx
push    eax
push    edi
call    ds:fillrect
push    ebx
call    ds:deleteobject
push    1
push    edi
call    ds:setbkmode
or      [ebp+options], 4
jmp     short loc_27806912
push    0
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
lea     eax, [ebp+rect]
push    [ebp+lpstring]
mov     ecx, w
push    eax
mov     eax, y
push    [ebp+options]
add     eax, [esi+64h]
push    eax
mov     eax, [esi+60h]
lea     eax, [eax+ecx*2]
push    eax
push    edi
call    ds:exttextouta
jmp     short loc_27806939
push    ebp
mov     ebp, esp
sub     esp, 40h
push    esi
mov     esi, [ebp+options]
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:beginpaint
push    eax
push    esi
call    sub_278067d7
test    eax, eax
jnz     short loc_278069d5
push    esi
call    sub_278056cc
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:endpaint
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
push    0
push    ebx
call    ds:getwindowlonga
mov     edi, [ebp+msg]
mov     esi, eax
cmp     edi, 0eh
ja      loc_27806af3
cmp     edi, 0dh
jnb     loc_27806ac2
mov     eax, edi
dec     eax
jz      short loc_27806a78
dec     eax
jnz     def_27806d52
cmp     dword ptr [esi+14h], 0
mov     edi, ds:localfree
jz      short loc_27806a52
xor     ebx, ebx
cmp     [esi+4], ebx
jle     short loc_27806a4a
mov     [ebp+lpstring1], ebx
mov     eax, [ebp+lpstring1]
add     eax, [esi+14h]
push    eax
push    esi
call    sub_27805b47
add     [ebp+lpstring1], 2ch
inc     ebx
cmp     ebx, [esi+4]
jl      short loc_27806a33
push    dword ptr [esi+14h]
call    edi
mov     ebx, [ebp+hwnd]
push    0
push    1
push    esi
call    sub_27806562
mov     eax, [esi+40h]
test    eax, eax
jz      short loc_27806a66
push    eax
call    edi
push    esi
call    edi
push    0
push    0
push    ebx
call    ds:setwindowlonga
xor     eax, eax
jmp     short loc_27806aec
push    [ebp+lpstring1]
call    sub_2780575a
mov     esi, eax
xor     edi, edi
cmp     esi, edi
jz      loc_27806c50
push    esi
push    edi
push    ebx
mov     [esi], ebx
call    ds:setwindowlonga
mov     eax, 80h
push    eax
push    eax
push    0ffffffech
push    ebx
call    sub_278119ca
push    80800000h
push    0c0c00000h
push    0fffffff0h
push    ebx
call    sub_278119ca
push    edi
push    edi
push    esi
call    sub_27806562
jmp     short loc_27806a74
test    esi, esi
jz      short loc_27806a74
push    esi
call    sub_27805d7f
mov     esi, eax
test    esi, esi
jz      short loc_27806a74
cmp     [ebp+lpstring1], 0
jz      short loc_27806ae5
push    [ebp+imaxlength]
push    esi
push    [ebp+lpstring1]
call    ds:lstrcpyna
push    esi
call    ds:lstrlena
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     edi, 14h
ja      short loc_27806b12
jz      loc_27806a74
cmp     edi, 0fh
jnz     def_27806d52
push    esi
call    sub_278069ae
jmp     loc_27806a74
cmp     edi, 1ah
ja      short loc_27806b72
jz      short loc_27806b58
cmp     edi, 15h
jnz     def_27806d52
call    sub_277b344b
test    esi, esi
jz      loc_27806a74
test    byte ptr [esi+50h], 1
mov     edi, ds:getsyscolor
jnz     short loc_27806b42
push    18h
call    edi
mov     [esi+54h], eax
test    byte ptr [esi+50h], 2
jnz     loc_27806a74
push    17h
call    edi
mov     [esi+58h], eax
jmp     loc_27806a74
push    [ebp+imaxlength]
call    sub_277b3170
xor     eax, eax
cmp     [esi+1ch], eax
jz      loc_27806a74
push    eax
push    eax
jmp     loc_27806aba
cmp     edi, 55h
ja      loc_27806c09
jz      short loc_27806baf
mov     eax, edi
sub     eax, 30h
jz      short loc_27806b9b
dec     eax
jnz     def_27806d52
test    esi, esi
jz      loc_27806a74
mov     eax, [esi+20h]
jmp     loc_27806aec
push    [ebp+lpstring1]
push    [ebp+imaxlength]
push    esi
call    sub_27806562
push    1
pop     eax
jmp     loc_27806aec
cmp     [ebp+lpstring1], 3
jz      short loc_27806ba7
cmp     [ebp+lpstring1], 4
jnz     loc_27806a74
and     [ebp+lpstring1], 0
cmp     dword ptr [esi+4], 0
mov     edi, [esi+14h]
jle     short loc_27806bf9
xor     ebx, ebx
push    3
mov     edi, ebx
push    [ebp+hwnd]
add     edi, [esi+14h]
push    55h
push    dword ptr [edi+8]
call    ds:sendmessagea
test    eax, eax
jz      short loc_27806beb
or      dword ptr [edi+4], 40h
inc     [ebp+lpstring1]
add     ebx, 2ch
mov     eax, [ebp+lpstring1]
cmp     eax, [esi+4]
jl      short loc_27806bce
test    byte ptr [edi+4], 40h
push    0
pop     eax
setnz   al
inc     eax
jmp     loc_27806aec
mov     eax, 84h
cmp     edi, eax
ja      short loc_27806c58
jz      short loc_27806c33
cmp     edi, 7dh
jnz     def_27806d52
test    esi, esi
jz      loc_27806a74
mov     eax, [ebp+lpstring1]
mov     eax, [eax+4]
mov     [esi+2ch], eax
jmp     loc_27806a74
test    esi, esi
jz      def_27806d52
mov     esi, [esi+18h]
test    esi, esi
jz      def_27806d52
test    byte ptr [esi+5], 1
jz      def_27806d52
or      eax, 0ffffffffh
jmp     loc_27806aec
mov     eax, 200h
mov     ebx, 100h
cmp     edi, eax
ja      loc_27806cf8
jz      short loc_27806c86
cmp     edi, 113h
jnz     def_27806d52
push    [ebp+imaxlength]
push    esi
call    sub_2780674e
jmp     loc_27806a74
test    byte ptr [esi+28h], 1
jnz     short loc_27806c9e
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_27806c9e
test    [eax+4], ebx
jnz     short loc_27806c9e
push    esi
call    sub_278056cc
mov     ecx, [esi+18h]
test    ecx, ecx
jz      loc_27806a74
test    [ecx+4], ebx
jz      loc_27806a74
mov     eax, [ebp+lpstring1]
push    1
movsx   edx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+points.y], eax
lea     eax, [ebp+points]
push    eax
mov     [ebp+points.x], edx
push    dword ptr [ecx+8]
push    dword ptr [esi]
call    ds:mapwindowpoints
movzx   eax, word ptr [ebp+points.y]
movzx   ecx, word ptr [ebp+points.x]
shl     eax, 10h
or      eax, ecx
push    eax
mov     eax, [esi+18h]
push    [ebp+imaxlength]
push    edi
push    dword ptr [eax+8]
call    ds:sendmessagea
jmp     loc_27806a74
mov     eax, 204h
cmp     edi, eax
ja      short loc_27806d20
jz      short loc_27806c9e
cmp     edi, 201h
jz      short loc_27806c9e
push    [ebp+lpstring1]
push    [ebp+imaxlength]
push    edi
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_27806aec
mov     eax, 318h
cmp     edi, eax
ja      short loc_27806d47
jz      short loc_27806d39
cmp     edi, 207h
jz      loc_27806c9e
jmp     short def_27806d52
push    [ebp+imaxlength]
push    esi
call    sub_278067d7
jmp     loc_27806a74
lea     eax, [edi-401h]
cmp     eax, 1ch
ja      short def_27806d52
jmp     ds:jpt_27806d52[eax*4]
cmp     [ebp+imaxlength], 0
jz      short loc_27806d68
or      dword ptr [esi+28h], 10h
jmp     loc_27806a74
push    esi
call    sub_278056cc
and     dword ptr [esi+28h], 0ffffffeeh
jmp     loc_27806a74
push    [ebp+lpstring1]
push    [ebp+imaxlength]
push    esi
call    sub_27806587
jmp     loc_27806a74
push    [ebp+imaxlength]
push    esi
call    sub_278065ed
jmp     loc_27806aec
cmp     [ebp+lpstring1], 0
jz      loc_27806a74
push    [ebp+lpstring1]
push    esi
call    sub_27805a84
jmp     loc_27806aec
cmp     [ebp+lpstring1], 0
jz      loc_27806a74
push    [ebp+lpstring1]
push    esi
call    sub_27805b79
jmp     loc_27806a74
mov     edi, [ebp+lpstring1]
test    edi, edi
jz      loc_27806a74
push    edi
push    esi
call    sub_278058e9
test    eax, eax
jz      loc_27806a74
lea     esi, [edi+10h]
lea     edi, [eax+10h]
movsd
movsd
movsd
movsd
jmp     loc_27806a74
mov     eax, [esi+4]
jmp     loc_27806aec
cmp     [ebp+lpstring1], 0
jz      loc_27806a74
push    [ebp+lpstring1]
push    esi
call    sub_278058e9
push    [ebp+lpstring1]
push    eax
call    sub_2780664a
jmp     loc_27806aec
cmp     [ebp+lpstring1], 0
jz      short loc_27806e26
push    [ebp+lpstring1]
push    dword ptr [esi+18h]
jmp     short loc_27806e0e
mov     eax, [esi+18h]
jmp     loc_27806aec
mov     eax, [ebp+imaxlength]
cmp     eax, [esi+4]
jnb     loc_27806a74
imul    eax, 2ch
mov     ecx, [esi+14h]
push    [ebp+lpstring1]
add     ecx, eax
push    ecx
jmp     short loc_27806e0e
mov     ebx, [ebp+lpstring1]
test    ebx, ebx
jz      loc_27806a74
push    ebx
push    esi
call    sub_278058e9
mov     edi, eax
test    edi, edi
jz      loc_27806a74
push    0
push    edi
call    sub_27805a3d
push    dword ptr [ebx]
push    ebx
push    edi
call    ds:rtlmovememory
and     dword ptr [edi+24h], 0
push    dword ptr [ebx+24h]
push    edi
call    sub_27805a3d
cmp     edi, [esi+18h]
jz      loc_27806fac
jmp     loc_27806a74
mov     edi, [ebp+lpstring1]
test    edi, edi
jz      loc_27806a74
push    1
push    0fffffffeh
push    dword ptr [edi+8]
push    dword ptr [edi+4]
push    dword ptr [edi]
push    esi
call    sub_27805e1e
test    eax, eax
jz      loc_27806a74
add     edi, 0ch
cmp     dword ptr [edi], 2ch
jz      short loc_27806eca
push    0ah
pop     ecx
mov     esi, eax
rep movsd
jmp     loc_27806ba7
push    0bh
jmp     short loc_27806ec0
mov     edi, [ebp+lpstring1]
test    edi, edi
jz      loc_27806a74
test    esi, esi
jz      loc_27806a74
push    edi
push    esi
call    sub_278058e9
push    eax
push    esi
call    sub_27805bef
mov     ecx, [edi+24h]
test    ecx, ecx
jz      loc_27806a74
test    eax, eax
jz      loc_27806a74
push    eax
push    ecx
call    ds:lstrcpya
jmp     loc_27806a74
mov     eax, [ebp+lpstring1]
test    eax, eax
jz      loc_27806a74
push    dword ptr [eax+0ch]
push    dword ptr [eax+8]
push    dword ptr [eax+4]
push    dword ptr [eax]
push    esi
call    sub_27806397
jmp     loc_27806a74
mov     eax, [ebp+lpstring1]
push    dword ptr [eax+4]
push    dword ptr [eax]
call    ds:windowfrompoint
jmp     loc_27806aec
cmp     [ebp+lpstring1], 0
jz      loc_27806a74
push    [ebp+lpstring1]
push    esi
call    sub_27806508
jmp     loc_27806a74
test    byte ptr [esi+28h], 40h
jz      short loc_27806f67
push    esi
call    sub_278056cc
and     byte ptr [esi+28h], 7fh
jmp     loc_27806a74
mov     eax, [ebp+lpstring1]
movsx   ecx, ax
cmp     ecx, [esi+48h]
jnz     short loc_27806f8c
mov     edx, eax
shr     edx, 10h
movsx   edx, dx
cmp     edx, [esi+4ch]
jz      loc_27806a74
shr     eax, 10h
test    byte ptr [esi+28h], 1
movsx   eax, ax
mov     [esi+48h], ecx
mov     [esi+4ch], eax
jz      loc_27806a74
cmp     dword ptr [esi+18h], 0
jz      loc_27806a74
push    esi
call    sub_27806244
jmp     loc_27806a74
mov     eax, [ebp+lpstring1]
test    eax, eax
jz      short loc_27806fac
cmp     eax, [esi+18h]
jmp     loc_27806e86
mov     eax, [esi+28h]
test    al, 10h
jz      loc_27806ba7
xor     edi, edi
cmp     [ebp+imaxlength], edi
jz      short loc_27806fe0
cmp     [ebp+lpstring1], edi
jz      short loc_27806fe0
push    1
pop     edi
mov     ecx, edi
xor     ecx, eax
test    cl, 1
jz      loc_27806ba7
push    esi
call    sub_278056cc
xor     dword ptr [esi+28h], 1
test    edi, edi
jz      loc_27806ba7
push    [ebp+lpstring1]
push    esi
call    sub_278058e9
test    eax, eax
jz      loc_27806ba7
push    eax
push    esi
call    sub_27806363
jmp     loc_27806ba7
mov     eax, [ebp+imaxlength]
cmp     [esi+54h], eax
jz      short loc_27807033
push    1
push    0
push    dword ptr [esi]
mov     [esi+54h], eax
call    ds:invalidatergn
or      dword ptr [esi+50h], 1
jmp     loc_27806a74
mov     eax, [esi+54h]
jmp     loc_27806aec
mov     edi, [ebp+imaxlength]
cmp     [esi+58h], edi
jz      short loc_2780705b
push    1
push    0
push    dword ptr [esi]
call    ds:invalidatergn
mov     [esi+58h], edi
or      dword ptr [esi+50h], 2
jmp     loc_27806a74
mov     eax, [esi+58h]
jmp     loc_27806aec
mov     ecx, [ebp+lpstring1]
mov     eax, [esi+5ch]
mov     [esi+5ch], ecx
jmp     loc_27806aec
mov     eax, [esi+5ch]
jmp     loc_27806aec
cmp     [ebp+lpstring1], 0
jz      loc_27806a74
lea     edi, [esi+60h]
mov     esi, [ebp+lpstring1]
jmp     loc_27806de6
mov     edi, [ebp+lpstring1]
test    edi, edi
jz      loc_27806a74
add     esi, 60h
jmp     loc_27806de6
mov     eax, [esp+arg_0]
test    byte ptr [eax+9], 4
mov     eax, [esp+arg_4]
jz      short locret_27807132
add     eax, dword_2782a06c
retn    8
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
cmp     [esi+18h], ebx
jz      short loc_27807199
mov     edi, [ebp+hdc]
cmp     edi, ebx
jnz     short loc_2780715a
push    dword ptr [esi]
call    ds:getdc
mov     edi, eax
cmp     edi, ebx
jz      short loc_27807199
push    [ebp+bforcebkgd]
push    dword ptr [esi+18h]
push    edi
call    ds:selectpalette
push    edi
call    ds:realizepalette
test    eax, eax
jnz     short loc_27807177
cmp     [ebp+arg_c], ebx
jz      short loc_2780717a
push    1
pop     ebx
cmp     [ebp+hdc], 0
jnz     short loc_27807189
push    edi
push    dword ptr [esi]
call    ds:releasedc
test    ebx, ebx
jz      short loc_27807199
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 20h
and     [ebp+lparam], 0
push    edi
push    7
xor     eax, eax
pop     edx
lea     edi, [ebp+var_1c]
mov     ecx, edx
rep stosd
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+arg_0]
cmp     eax, 0ffffffffh
mov     [ebp+var_10], eax
jz      short loc_278071e4
lea     eax, [eax+eax*2]
mov     [ebp+var_14], edx
mov     edx, [ecx+5ch]
shl     eax, 5
add     eax, edx
mov     edx, [eax+4ch]
mov     [ebp+var_8], edx
mov     edx, [eax]
mov     [ebp+var_c], edx
mov     eax, [eax+5ch]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_8]
push    ecx
call    sub_277b9838
pop     edi
leave
retn    0ch
mov     ecx, [esp+arg_0]
mov     eax, [ecx+1ch]
test    al, 8
jz      short loc_2780721a
push    1
and     al, 0dfh
push    [esp+4+lprect]
mov     [ecx+1ch], eax
push    dword ptr [ecx]
call    ds:invalidaterect
push    1
pop     eax
retn    8
or      al, 20h
mov     [ecx+1ch], eax
xor     eax, eax
jmp     short locret_27807217
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
push    0
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     esi, eax
mov     eax, [ebp+arg_4]
sub     eax, 0
jz      short loc_2780725a
dec     eax
jnz     short loc_278072a2
push    [ebp+lparam]
push    offset dword_277cbf30
push    0fffffcc0h
push    esi
call    sub_27812b18
pop     esi
leave
retn    10h
mov     eax, [ebp+lparam]
test    eax, eax
jz      short loc_278072a2
mov     ecx, [eax]
mov     eax, [eax+4]
mov     [ebp+points.y], eax
lea     eax, [ebp+points]
push    1
push    eax
push    dword ptr [esi]
mov     [ebp+points.x], ecx
push    0
call    ds:mapwindowpoints
lea     eax, [ebp+points]
push    eax
push    esi
call    sub_2780846e
mov     ecx, [ebp+arg_8]
mov     edx, [ebp+var_8]
cmp     eax, 0ffffffffh
mov     [ecx], edx
jz      short loc_278072a2
mov     ecx, [esi+5ch]
lea     eax, [eax+eax*2]
shl     eax, 5
mov     eax, [ecx+eax+4ch]
jmp     short loc_27807255
or      eax, 0ffffffffh
jmp     short loc_27807255
push    esi
mov     esi, [esp+4+arg_0]
push    edi
push    8
push    1
push    esi
call    sub_2780932a
mov     ecx, [esi+28h]
mov     edx, [esi+5ch]
lea     ecx, [ecx+ecx*2]
shl     ecx, 5
lea     ecx, [ecx+edx-60h]
cmp     eax, ecx
ja      short loc_278072e3
test    byte ptr [esi+9], 8
mov     edi, [esp+8+arg_4]
jz      short loc_278072ea
push    8
push    0
push    esi
call    sub_2780932a
cmp     edi, eax
jnz     short loc_278072ea
xor     eax, eax
pop     edi
pop     esi
retn    8
mov     eax, [edi]
not     eax
shr     eax, 1
and     eax, 1
jmp     short loc_278072e5
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     edi, [ebp+arg_0]
push    esi
push    edi
call    sub_278073fd
cmp     dword ptr [esi+14h], 0ffffffffh
jnz     short loc_27807376
mov     ecx, [esi+0ch]
test    ecx, ecx
jz      short loc_2780731a
cmp     byte ptr [ecx], 0
jnz     short loc_27807376
mov     [ebp+arg_0], 1
mov     ecx, [esi]
test    cl, 8
jnz     short loc_2780736f
test    ecx, 40000000h
jnz     short loc_2780736f
mov     ecx, [esi+1ch]
test    eax, eax
mov     [esi+44h], ecx
jnz     short loc_2780733f
cmp     [ebp+arg_0], eax
jnz     short loc_2780736f
mov     edx, [edi+8]
mov     [ebp+arg_4], edx
and     [ebp+arg_4], 80h
jz      short loc_2780737c
test    dh, 40h
jz      short loc_2780737c
mov     eax, dy
lea     eax, [ecx+eax*4]
mov     [esi+44h], eax
mov     ecx, [edi+3ch]
mov     edx, [edi+44h]
cmp     ecx, edx
ja      short loc_2780736a
mov     ecx, edx
add     eax, ecx
mov     [esi+44h], eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
and     [ebp+arg_0], 0
jmp     short loc_27807321
cmp     [ebp+arg_4], 0
mov     ebx, dy
jnz     short loc_2780738e
mov     ebx, dword_2782a06c
lea     edx, [ebx+ebx]
add     ecx, edx
test    eax, eax
mov     [esi+44h], ecx
jz      short loc_278073b8
cmp     [ebp+arg_4], 0
mov     eax, y
jnz     short loc_278073aa
mov     eax, w
lea     ecx, [ecx+eax*4]
add     eax, ecx
cmp     [ebp+arg_0], 0
mov     [esi+44h], eax
jnz     short loc_2780736f
add     [esi+44h], edx
mov     edx, [esi+14h]
mov     ecx, [esi+44h]
cmp     edx, 0ffffffffh
jz      short loc_278073d4
cmp     [ebp+arg_4], 0
jz      short loc_278073f3
mov     eax, [edi+3ch]
add     ecx, eax
mov     [esi+44h], ecx
cmp     dword ptr [esi+0ch], 0
jz      short loc_2780736f
cmp     [ebp+arg_4], 0
jz      short loc_278073f8
mov     eax, [edi+44h]
add     [esi+44h], eax
cmp     edx, 0ffffffffh
jz      short loc_2780736f
add     [esi+44h], ebx
jmp     loc_2780736f
mov     eax, [edi+38h]
jmp     short loc_278073cf
mov     eax, [esi+10h]
jmp     short loc_278073e3
mov     ecx, [esp+arg_4]
mov     eax, [ecx]
test    ah, 1
jnz     short loc_2780741a
test    al, 80h
jnz     short loc_2780741f
push    ecx
push    [esp+4+arg_0]
call    sub_278072a7
test    eax, eax
jnz     short loc_2780741f
xor     eax, eax
retn    8
push    1
pop     eax
jmp     short locret_2780741c
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
mov     ebx, [ebp+hdc]
push    esi
mov     esi, [ebp+h]
push    edi
xor     edi, edi
test    byte ptr [esi], 8
mov     [ebp+var_4], edi
jnz     short loc_2780747e
cmp     [esi+0ch], edi
jnz     short loc_27807469
mov     [ebp+sz._cx], edi
mov     eax, [ebp+sz._cx]
push    1
cmp     [esi+10h], eax
pop     edi
jz      short loc_27807453
mov     [ebp+var_4], edi
cmp     [ebp+var_4], 0
mov     [esi+10h], eax
jz      short loc_27807465
push    esi
push    [ebp+arg_0]
call    sub_278072f5
mov     eax, edi
jmp     short loc_27807480
cmp     ebx, edi
jnz     short loc_27807487
mov     eax, [ebp+arg_0]
push    dword ptr [eax]
call    ds:getdc
mov     ebx, eax
cmp     ebx, edi
jnz     short loc_27807487
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [ebp+arg_0]
mov     edi, ds:selectobject
push    dword ptr [eax+40h]
push    ebx
call    edi
mov     [ebp+h], eax
lea     eax, [ebp+sz]
push    eax
push    dword ptr [esi+0ch]
call    ds:lstrlena
push    eax
push    dword ptr [esi+0ch]
push    ebx
call    ds:gettextextentpointa
push    [ebp+h]
push    ebx
call    edi
cmp     [ebp+hdc], 0
jnz     short loc_27807445
mov     eax, [ebp+arg_0]
push    ebx
push    dword ptr [eax]
call    ds:releasedc
jmp     loc_27807445
push    ebx
mov     eax, dword_2782a06c
push    esi
mov     esi, [esp+8+arg_0]
push    edi
xor     edi, edi
mov     ecx, [esi+8]
and     ecx, 80h
jnz     short loc_278074ec
mov     eax, dy
lea     ebx, [eax+eax]
mov     eax, [esp+0ch+arg_4]
cmp     dword ptr [eax+18h], 0
jz      short loc_27807503
test    byte ptr [eax], 4
mov     edi, [eax+58h]
jnz     short loc_27807503
sub     edi, ebx
cmp     dword ptr [eax+0ch], 0
jz      short loc_27807516
test    ecx, ecx
jnz     short loc_27807516
mov     edx, [esi+44h]
cmp     edx, edi
jbe     short loc_27807516
mov     edi, edx
cmp     dword ptr [eax+14h], 0ffffffffh
jz      short loc_27807529
test    ecx, ecx
jz      short loc_27807532
mov     eax, [esi+38h]
cmp     eax, edi
jbe     short loc_27807529
mov     edi, eax
lea     eax, [ebx+edi]
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, [esi+3ch]
jmp     short loc_27807523
mov     ecx, [esp+arg_0]
xor     eax, eax
mov     edx, [ecx+28h]
test    edx, edx
jbe     short locret_27807559
mov     ecx, [ecx+5ch]
test    byte ptr [ecx], 8
jnz     short loc_27807553
cmp     dword ptr [ecx+30h], 0
jnz     short loc_27807553
inc     eax
add     ecx, 60h
dec     edx
jnz     short loc_27807547
retn    4
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
test    byte ptr [edi+9], 2
jnz     short loc_278075ac
mov     eax, [edi+28h]
xor     ecx, ecx
dec     eax
lea     esi, [ecx+ecx*2]
shl     esi, 5
add     esi, [edi+5ch]
cmp     ecx, eax
ja      short loc_278075a2
sub     eax, ecx
inc     eax
mov     ebx, eax
test    byte ptr [esi], 8
jnz     short loc_2780759c
push    esi
push    edi
call    sub_278074ce
cmp     [ebp+var_4], eax
ja      short loc_2780759c
mov     [ebp+var_4], eax
add     esi, 60h
dec     ebx
jnz     short loc_27807588
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [ebp+arg_8]
mov     ecx, [ebp+arg_4]
jmp     short loc_27807576
push    ebp
mov     ebp, esp
sub     esp, 48h
push    edi
mov     edi, [ebp+arg_0]
mov     eax, [edi+8]
and     eax, 80h
mov     [ebp+var_c], eax
mov     eax, [edi+28h]
test    eax, eax
jz      loc_2780773b
test    byte ptr [edi+1ch], 8
jz      loc_2780773b
push    esi
push    eax
call    ds:begindeferwindowpos
mov     esi, [edi+5ch]
mov     edi, [edi+28h]
mov     [ebp+hwinposinfo], eax
lea     eax, [edi+edi*2]
shl     eax, 5
lea     eax, [eax+esi-60h]
cmp     esi, eax
mov     [ebp+var_14], eax
ja      loc_27807731
push    ebx
mov     ecx, [esi]
test    cl, 8
jnz     loc_27807724
cmp     dword ptr [esi+18h], 0
jz      loc_27807724
mov     eax, [esi+44h]
mov     ebx, [esi+38h]
sub     eax, [esi+1ch]
mov     edi, eax
sub     ebx, eax
add     edi, [esi+30h]
mov     [ebp+var_4], ebx
test    cl, 2
jnz     short loc_27807661
cmp     [ebp+var_c], 0
jz      loc_27807740
push    esi
push    [ebp+arg_0]
call    sub_278092b0
test    eax, eax
jz      short loc_27807661
cmp     dword ptr [eax+30h], 0
jnz     short loc_27807654
test    byte ptr [eax], 8
jz      short loc_27807661
mov     eax, dy
neg     eax
lea     ebx, [ebx+eax*2]
mov     [ebp+var_4], ebx
test    ebx, ebx
jge     short loc_2780766a
xor     ebx, ebx
mov     [ebp+var_4], ebx
mov     edx, [esi+3ch]
mov     ecx, [esi+34h]
mov     [ebp+var_8], edx
mov     edx, [esi+58h]
test    edx, edx
mov     eax, ecx
jz      short loc_27807690
cmp     edx, [ebp+var_8]
jnb     short loc_2780768d
mov     ebx, [ebp+var_8]
mov     [ebp+var_8], edx
sub     ebx, edx
shr     ebx, 1
add     eax, ebx
mov     ebx, [ebp+var_4]
mov     edx, [ebp+var_8]
mov     [ebp+y], eax
add     eax, edx
mov     [ebp+x], edi
mov     [ebp+var_28], eax
mov     eax, [esi+30h]
mov     edx, eax
add     eax, [esi+38h]
sub     edx, [esi+1ch]
add     edi, ebx
mov     [ebp+var_1c], eax
mov     eax, [esi+3ch]
add     edx, [esi+44h]
mov     [ebp+var_2c], edi
mov     edi, [ebp+arg_0]
mov     [ebp+var_20], ecx
add     ecx, eax
mov     eax, esi
sub     eax, [edi+5ch]
mov     [ebp+var_24], edx
push    60h
mov     [ebp+var_18], ecx
cdq
pop     ecx
idiv    ecx
cmp     [ebp+var_c], 0
mov     [ebp+var_3c], eax
mov     eax, [esi+4ch]
mov     [ebp+var_38], eax
jz      short loc_278076f1
lea     eax, [ebp+x]
push    eax
call    sub_278119ad
lea     eax, [ebp+var_24]
push    eax
call    sub_278119ad
lea     eax, [ebp+lparam]
push    eax
push    0fffffcb9h
push    edi
call    sub_277b9838
mov     eax, [ebp+var_28]
push    4
sub     eax, [ebp+y]
push    eax
mov     eax, [ebp+var_2c]
sub     eax, [ebp+x]
push    eax
push    [ebp+y]
push    [ebp+x]
push    0
push    dword ptr [esi+18h]
push    [ebp+hwinposinfo]
call    ds:deferwindowpos
add     esi, 60h
cmp     esi, [ebp+var_14]
jbe     loc_27807605
pop     ebx
push    [ebp+hwinposinfo]
call    ds:enddeferwindowpos
pop     esi
pop     edi
leave
retn    4
mov     eax, dword_2782a06c
jmp     loc_27807659
push    ebp
mov     ebp, esp
sub     esp, 6ch
mov     eax, [ebp+arg_0]
xor     edx, edx
push    ebx
mov     ebx, [ebp+arg_4]
mov     ecx, [eax+4ch]
cmp     ecx, 0ffffffffh
setz    dl
cmp     ebx, [ebp+arg_8]
mov     [ebp+var_4], edx
jz      loc_27807815
push    edi
lea     edx, [ebx+ebx*2]
push    esi
mov     esi, [eax+5ch]
shl     edx, 5
push    18h
add     esi, edx
cmp     [eax+4ch], ebx
pop     ecx
lea     edi, [ebp+var_6c]
rep movsd
jnz     short loc_27807795
mov     ecx, [ebp+arg_8]
mov     [ebp+var_4], 1
mov     [eax+4ch], ecx
cmp     [ebp+arg_8], ebx
mov     [ebp+var_8], edx
sbb     eax, eax
and     al, 0feh
inc     eax
lea     edx, [eax+eax*2]
lea     ecx, [eax+ebx]
shl     edx, 5
mov     [ebp+var_c], edx
lea     edx, [ecx+ecx*2]
mov     [ebp+arg_4], ecx
shl     edx, 5
cmp     [ebp+var_4], 0
mov     esi, [ebp+arg_0]
jnz     short loc_278077cd
cmp     [esi+4ch], ecx
jnz     short loc_278077cd
mov     [esi+4ch], ebx
mov     [ebp+var_4], 1
mov     ecx, [esi+5ch]
mov     edi, [ebp+var_8]
push    18h
add     [ebp+arg_4], eax
lea     esi, [edx+ecx]
add     edi, ecx
pop     ecx
add     ebx, eax
rep movsd
mov     ecx, [ebp+var_c]
add     [ebp+var_8], ecx
add     edx, ecx
cmp     ebx, [ebp+arg_8]
jnz     short loc_27807810
mov     eax, [ebp+arg_8]
push    18h
pop     ecx
lea     esi, [ebp+var_6c]
lea     edi, [eax+eax*2]
mov     eax, [ebp+arg_0]
shl     edi, 5
add     edi, [eax+5ch]
push    1
pop     eax
rep movsd
pop     esi
pop     edi
pop     ebx
leave
retn    0ch
mov     ecx, [ebp+arg_4]
jmp     short loc_278077b5
xor     eax, eax
jmp     short loc_2780780b
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     [ebp+var_20], 0ffffh
mov     eax, [esi+5ch]
mov     [ebp+var_24], eax
mov     eax, [esi+8]
mov     edi, eax
and     edi, 80h
cmp     dword ptr [esi+28h], 0
jz      short loc_2780784e
test    al, 0ch
jnz     short loc_27807857
mov     eax, [esi+4]
test    eax, eax
jnz     short loc_27807859
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esi]
lea     ecx, [ebp+rect]
push    ecx
push    eax
call    ds:getclientrect
test    edi, edi
jz      loc_2780793f
mov     eax, [ebp+rect.bottom]
sub     eax, [ebp+rect.top]
test    eax, eax
mov     [ebp+var_8], eax
jg      short loc_27807880
mov     [ebp+var_8], 1
mov     ecx, [esi+8]
xor     edx, edx
and     ecx, 400h
cmp     [esi+28h], edx
mov     [ebp+var_18], ecx
jbe     short loc_278078a9
xor     edi, edi
mov     eax, [esi+5ch]
add     eax, edi
inc     edx
add     edi, 60h
mov     ebx, [eax+40h]
mov     [eax+38h], ebx
cmp     edx, [esi+28h]
jb      short loc_27807895
xor     eax, eax
cmp     [esi+28h], eax
mov     [ebp+var_10], eax
mov     [ebp+arg_0], eax
jbe     loc_27807b34
test    ecx, ecx
jz      short loc_278078ce
mov     eax, [ebp+var_10]
test    eax, eax
jle     short loc_278078ce
add     eax, dy
mov     [ebp+var_10], eax
and     [ebp+var_14], 0
mov     ebx, [ebp+arg_0]
mov     edi, [ebp+var_24]
xor     ecx, ecx
cmp     ebx, [esi+28h]
mov     [ebp+var_4], ecx
mov     [ebp+var_1c], ecx
jnb     short loc_278078fa
mov     [ebp+var_c], ebx
mov     eax, [edi]
test    al, 8
jz      short loc_27807952
inc     [ebp+var_c]
inc     ebx
add     edi, 60h
cmp     ebx, [esi+28h]
jb      short loc_278078e8
cmp     [ebp+arg_0], 0
jnz     loc_27807a01
cmp     [ebp+var_20], 0ffffh
jnz     loc_27807b3f
mov     edx, [esi+28h]
lea     eax, [ebx+ebx*2]
mov     [ebp+var_c], ebx
shl     eax, 5
cmp     ebx, edx
jnb     loc_278079fe
mov     ecx, [esi+5ch]
mov     ecx, [eax+ecx]
test    cl, 8
jnz     short loc_27807939
test    cl, 2
jnz     loc_278079ef
inc     ebx
add     eax, 60h
jmp     short loc_2780791d
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
jmp     loc_27807872
mov     ecx, [ebp+var_18]
jmp     loc_278078ba
cmp     ebx, [ebp+var_c]
jbe     short loc_2780796e
test    al, 1
jz      short loc_2780795f
test    al, 2
jz      short loc_278078fa
cmp     [ebp+var_18], 0
jz      short loc_2780796e
add     ecx, dword_2782a06c
mov     [ebp+var_1c], ecx
test    al, 2
jz      short loc_278079ab
cmp     [ebp+var_c], ebx
mov     [ebp+var_20], ebx
jnz     short loc_278079a5
push    edi
push    esi
call    sub_278092b0
test    eax, eax
mov     [ebp+var_28], eax
jz      short loc_278079a5
test    byte ptr [eax], 1
jz      short loc_278079a5
test    byte ptr [esi+1ch], 8
jz      short loc_278079a5
push    dword ptr [esi]
call    ds:iswindowvisible
test    eax, eax
jz      short loc_278079a5
mov     eax, [ebp+var_28]
and     dword ptr [eax], 0fffffffeh
mov     eax, [edi+44h]
mov     [edi+38h], eax
mov     eax, [edi+38h]
cmp     eax, [edi+44h]
jge     short loc_278079b9
mov     eax, [edi+44h]
mov     [edi+38h], eax
mov     ecx, [ebp+var_1c]
add     ecx, [edi+44h]
cmp     ebx, [ebp+var_c]
mov     [ebp+var_1c], ecx
jbe     short loc_278079ea
cmp     ecx, [ebp+var_8]
ja      loc_278078fa
cmp     [ebp+var_18], 0
jz      short loc_278079ea
mov     eax, [ebp+var_4]
add     eax, dword_2782a06c
add     eax, [edi+38h]
mov     [ebp+var_4], eax
jmp     loc_278078f1
mov     eax, [ebp+var_4]
jmp     short loc_278079df
push    [ebp+var_c]
push    ebx
push    esi
call    sub_2780774a
jmp     loc_278078d2
mov     ebx, [ebp+var_c]
mov     eax, [ebp+var_4]
cmp     eax, [ebp+var_8]
jbe     loc_27807b5e
mov     eax, [ebp+arg_0]
cmp     eax, ebx
mov     [ebp+var_c], eax
jnb     short loc_27807a47
sub     edi, 60h
test    byte ptr [edi], 8
jnz     short loc_27807a3f
mov     ecx, [edi+38h]
mov     eax, [edi+44h]
cmp     ecx, eax
jle     short loc_27807a3f
mov     edx, eax
mov     [edi+38h], eax
sub     edx, ecx
mov     ecx, [ebp+var_8]
add     [ebp+var_4], edx
cmp     [ebp+var_4], ecx
jbe     loc_27807b51
inc     [ebp+var_c]
cmp     [ebp+var_c], ebx
jb      short loc_27807a17
lea     eax, [ebx-1]
push    eax
push    [ebp+arg_0]
push    esi
call    sub_2780755c
cmp     [ebp+arg_0], ebx
mov     [ebp+var_c], eax
jnb     loc_27807baf
sub     ebx, [ebp+arg_0]
mov     edi, [ebp+var_10]
add     [ebp+arg_0], ebx
mov     [ebp+var_28], ebx
mov     ebx, [ebp+var_24]
test    byte ptr [ebx], 8
jnz     loc_27807b13
cmp     [ebx+34h], edi
mov     ecx, [ebp+var_14]
jnz     short loc_27807a8d
cmp     [ebx+30h], ecx
jnz     short loc_27807a8d
mov     eax, [ebx+3ch]
cmp     eax, [ebp+var_c]
jz      short loc_27807af8
mov     eax, [ebx+30h]
cmp     eax, ecx
mov     [ebp+rect.left], eax
jl      short loc_27807a9a
mov     [ebp+rect.left], ecx
mov     eax, [ebx+34h]
cmp     eax, edi
mov     [ebp+rect.top], eax
jl      short loc_27807aa7
mov     [ebp+rect.top], edi
mov     eax, [ebp+var_8]
mov     [ebp+rect.right], eax
mov     eax, [ebx+3ch]
mov     ecx, [ebx+34h]
add     eax, ecx
mov     ecx, [ebp+var_c]
add     ecx, edi
mov     [ebp+rect.bottom], eax
cmp     eax, ecx
jg      short loc_27807ac4
mov     [ebp+rect.bottom], ecx
cmp     [ebp+var_18], 0
jz      short loc_27807adf
mov     eax, dword_2782a06c
sub     [ebp+rect.left], eax
mov     eax, dy
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+rect.bottom], eax
test    byte ptr [esi+8], 80h
jz      short loc_27807aee
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_278071f6
mov     eax, [ebp+var_14]
push    dword ptr [ebx+38h]
mov     [ebx+30h], eax
mov     eax, [ebp+var_c]
push    esi
mov     [ebx+34h], edi
mov     [ebx+3ch], eax
call    sub_2780711e
add     [ebp+var_14], eax
add     ebx, 60h
dec     [ebp+var_28]
jnz     loc_27807a6f
mov     [ebp+var_24], ebx
add     edi, [ebp+var_c]
mov     eax, [ebp+arg_0]
cmp     eax, [esi+28h]
mov     [ebp+var_10], edi
jb      loc_2780794a
mov     eax, [ebp+var_10]
mov     [esi+48h], eax
jmp     loc_27807850
lea     eax, [ebx-1]
push    eax
push    [ebp+var_20]
push    esi
call    sub_2780774a
jmp     loc_27807a01
sub     ecx, [ebp+var_4]
add     ecx, eax
mov     [edi+38h], ecx
jmp     loc_27807a47
jnb     loc_27807a47
lea     eax, [ebx-1]
cmp     eax, [ebp+arg_0]
jb      loc_27807a47
sub     edi, 60h
cmp     eax, [ebp+arg_0]
jz      short loc_27807b8b
test    byte ptr [edi], 0ah
jnz     short loc_27807b88
mov     ecx, [edi+44h]
sub     ecx, [edi+1ch]
cmp     [edi+38h], ecx
jg      short loc_27807b8b
dec     eax
jmp     short loc_27807b67
test    byte ptr [edi], 8
jz      short loc_27807ba1
push    edi
push    esi
call    sub_278092b0
mov     edi, eax
test    edi, edi
jz      loc_27807a47
mov     eax, [ebp+var_8]
sub     eax, [ebp+var_4]
add     [edi+38h], eax
jmp     loc_27807a47
mov     edi, [ebp+var_10]
jmp     loc_27807b22
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
test    esi, esi
jz      short loc_27807c1e
cmp     dword ptr [esi+4], 0
jz      short loc_27807c1e
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getwindowrect
lea     eax, [ebp+rect]
push    2
push    eax
push    dword ptr [esi+4]
push    0
call    ds:mapwindowpoints
push    esi
call    sub_278075b4
push    [ebp+rect.bottom]
push    [ebp+rect.right]
push    [ebp+rect.top]
push    [ebp+rect.left]
push    dword ptr [esi+8]
push    dword ptr [esi+48h]
push    dword ptr [esi]
call    sub_27810919
test    byte ptr [esi+1ch], 4
jz      short loc_27807c1a
push    0
push    0fffffcc1h
push    esi
call    sub_277b9838
and     dword ptr [esi+1ch], 0fffffff9h
pop     esi
leave
retn    4
push    esi
mov     esi, [esp+4+arg_0]
push    edi
test    byte ptr [esi+1ch], 40h
mov     edi, [esi+48h]
jnz     short loc_27807c75
or      dword ptr [esi+1ch], 40h
push    esi
call    sub_27807819
cmp     [esp+8+arg_4], 0
jnz     short loc_27807c48
cmp     edi, [esi+48h]
jz      short loc_27807c4c
or      dword ptr [esi+1ch], 4
mov     eax, [esi+1ch]
test    al, 8
jz      short loc_27807c7e
push    esi
call    sub_27807bb7
and     dword ptr [esi+1ch], 0ffffffbfh
mov     eax, [esi+1ch]
test    al, 1
jz      short loc_27807c79
and     [esp+8+arg_4], 0
mov     edi, [esi+48h]
and     al, 0feh
test    al, 40h
mov     [esi+1ch], eax
jz      short loc_27807c32
or      dword ptr [esi+1ch], 1
pop     edi
pop     esi
retn    8
or      al, 2
mov     [esi+1ch], eax
jmp     short loc_27807c59
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     ecx, [esi+1ch]
mov     edi, ecx
shl     edi, 1ch
sar     edi, 1fh
test    esi, esi
jz      short loc_27807cd0
xor     eax, eax
cmp     [esp+8+arg_4], eax
setnz   al
and     eax, 1
and     ecx, 0fffffff7h
shl     eax, 3
or      eax, ecx
cmp     [esp+8+arg_4], 0
mov     [esi+1ch], eax
jz      short loc_27807cd0
test    al, 2
jz      short loc_27807cc2
push    esi
call    sub_27807bb7
test    byte ptr [esi+1ch], 20h
jz      short loc_27807cd0
push    0
push    esi
call    sub_278071f6
mov     eax, edi
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 44h
and     [ebp+var_4], 0
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    dword ptr [esi]
call    ds:getdc
mov     ebx, eax
test    ebx, ebx
jz      loc_27807d7a
push    edi
mov     edi, ds:selectobject
push    dword ptr [esi+40h]
push    ebx
call    edi
mov     [ebp+h], eax
lea     eax, [ebp+tm]
push    eax
push    ebx
call    ds:gettextmetricsa
mov     eax, [ebp+tm.tmheight]
cmp     [esi+44h], eax
jz      short loc_27807d25
mov     [esi+44h], eax
mov     [ebp+var_4], 1
xor     eax, eax
cmp     [esi+28h], eax
mov     [ebp+var_8], eax
jbe     short loc_27807d59
mov     [ebp+arg_0], eax
mov     eax, [esi+5ch]
mov     ecx, [ebp+arg_0]
add     eax, ecx
test    byte ptr [eax], 8
jnz     short loc_27807d4a
push    ebx
push    eax
push    esi
call    sub_27807424
or      [ebp+var_4], eax
inc     [ebp+var_8]
add     [ebp+arg_0], 60h
mov     eax, [ebp+var_8]
cmp     eax, [esi+28h]
jb      short loc_27807d32
push    [ebp+h]
push    ebx
call    edi
push    ebx
push    dword ptr [esi]
call    ds:releasedc
cmp     [ebp+var_4], 0
jz      short loc_27807d76
push    0
push    esi
call    sub_27807c23
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    esi
mov     esi, [esp+4+arg_0]
test    byte ptr [esi+1dh], 1
jz      short loc_27807d94
push    dword ptr [esi+40h]
call    ds:deleteobject
mov     eax, [esp+4+arg_4]
and     byte ptr [esi+1dh], 0feh
test    eax, eax
mov     [esi+40h], eax
jnz     short loc_27807db1
push    eax
push    esi
call    sub_27807db9
push    1
pop     eax
pop     esi
retn    8
push    esi
call    sub_27807cd7
jmp     short loc_27807dad
push    ebp
mov     ebp, esp
sub     esp, 154h
cmp     [ebp+arg_4], 0
push    esi
push    edi
jz      short loc_27807dd0
cmp     [ebp+arg_4], 2ah
jnz     short loc_27807e18
lea     ecx, [ebp+pvparam]
mov     eax, 154h
push    0
push    ecx
push    eax
push    29h
mov     [ebp+pvparam], eax
call    ds:systemparametersinfoa
test    eax, eax
jz      short loc_27807e18
mov     esi, [ebp+arg_0]
lea     eax, [ebp+lf]
push    eax
mov     [ebp+lf.lfweight], 190h
mov     edi, [esi+40h]
call    ds:createfontindirecta
test    eax, eax
mov     [esi+40h], eax
jnz     short loc_27807e20
mov     [esi+40h], edi
xor     eax, eax
pop     edi
pop     esi
leave
retn    8
or      byte ptr [esi+1dh], 1
test    edi, edi
jz      short loc_27807e2f
push    edi
call    ds:deleteobject
push    esi
call    sub_27807cd7
jmp     short loc_27807e1a
push    ebp
mov     ebp, esp
sub     esp, 94h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
mov     eax, [edi+8]
mov     [ebp+var_8], eax
and     [ebp+var_8], 80h
jz      loc_2780811b
cmp     [ebp+var_8], 0
jz      short loc_27807e68
test    ah, 40h
jnz     loc_2780811b
and     [ebp+var_4], 0
mov     esi, [ebp+y]
test    byte ptr [esi], 8
jnz     loc_27808114
mov     eax, [esi+4]
cmp     eax, 0ffffffffh
jnz     short loc_27807e83
mov     eax, [edi+68h]
mov     ebx, [ebp+hdc]
push    eax
push    ebx
call    ds:settextcolor
mov     [ebp+color], eax
mov     eax, [esi+8]
cmp     eax, 0ffffffffh
jnz     short loc_27807e9c
mov     eax, [edi+64h]
push    eax
push    ebx
call    ds:setbkcolor
cmp     dword ptr [esi+2ch], 0
mov     [ebp+var_2c], eax
jz      short loc_27807eb9
push    1
push    ebx
call    ds:setbkmode
mov     [ebp+mode], eax
mov     eax, [esi+4ch]
mov     ecx, [esi+34h]
mov     [ebp+var_70], eax
mov     eax, [esi+5ch]
and     [ebp+var_6c], 0
mov     [ebp+var_68], eax
mov     eax, [esi+30h]
mov     [ebp+var_7c], ecx
add     ecx, [esi+3ch]
mov     [ebp+var_80], eax
sub     eax, [esi+1ch]
mov     [ebp+var_84], ebx
mov     [ebp+var_74], ecx
add     eax, [esi+44h]
test    byte ptr [edi+8], 80h
mov     [ebp+var_78], eax
jz      short loc_27807ef9
lea     eax, [ebp+var_80]
push    eax
call    sub_278119ad
lea     eax, [ebp+lparam]
push    eax
push    10001h
push    edi
call    sub_27811d7b
test    al, 4
mov     [ebp+var_24], eax
jnz     loc_278080d2
mov     eax, [edi+8]
test    al, 80h
jz      loc_27808127
test    ah, 40h
jz      loc_27808127
mov     ebx, [esi+44h]
sub     ebx, [esi+1ch]
mov     eax, ebx
cdq
sub     eax, edx
sar     eax, 1
add     eax, [esi+30h]
mov     edi, [esi+30h]
push    esi
push    [ebp+arg_0]
mov     [ebp+h], eax
call    sub_278073fd
test    eax, eax
jz      loc_27808147
mov     eax, y
mov     ecx, [esi+34h]
lea     edx, [eax+eax*2]
mov     eax, w
mov     [ebp+y], edx
lea     edi, [edi+eax*2]
mov     eax, dword_2782a06c
sub     ebx, eax
add     edx, edi
add     ebx, ecx
add     eax, ecx
push    ebx
push    edx
push    eax
lea     eax, [ebp+rc]
push    edi
push    eax
call    ds:setrect
cmp     [ebp+var_8], 0
mov     ebx, [ebp+arg_0]
jz      short loc_27807fc1
mov     eax, [ebx+8]
test    al, 80h
jz      loc_27808139
test    ah, 40h
jz      loc_27808139
mov     ecx, [ebp+rc.left]
mov     eax, [ebp+rc.top]
sub     ecx, eax
sub     eax, [ebp+rc.left]
push    ecx
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
mov     eax, dy
mov     edi, [ebp+rc.left]
sub     [ebp+rc.bottom], eax
lea     eax, [ebx+70h]
push    eax
push    80fh
lea     eax, [ebp+rc]
push    4
push    eax
push    [ebp+hdc]
call    sub_27811a00
add     edi, [ebp+y]
cmp     [ebp+var_8], 0
mov     eax, dy
jnz     short loc_27807feb
mov     eax, dword_2782a06c
mov     edx, [esi+14h]
lea     eax, [edi+eax*2]
cmp     edx, 0ffffffffh
mov     [ebp+y], eax
jz      loc_27808178
push    0dh
xor     eax, eax
cmp     [ebp+var_4], eax
pop     ecx
lea     edi, [ebp+var_60]
rep stosd
jnz     loc_2780814f
mov     eax, [ebx+38h]
mov     edi, [ebp+h]
mov     [ebp+var_64.unused], 38h
shr     eax, 1
mov     ecx, edi
mov     [ebp+var_5c], edx
sub     ecx, eax
mov     eax, [ebx+34h]
cmp     [ebp+var_4], 0
mov     [ebp+var_60], eax
mov     eax, [ebp+hdc]
mov     [ebp+var_58], eax
jnz     loc_27808157
mov     [ebp+var_54], ecx
cmp     [ebp+var_4], 0
jnz     loc_27808162
mov     eax, [ebp+y]
mov     [ebp+var_50], eax
mov     eax, 0ff000000h
mov     [ebp+var_34], 1
mov     [ebp+var_3c], eax
mov     [ebp+var_38], eax
lea     eax, [ebp+var_64]
push    eax
call    sub_27814800
cmp     [ebp+var_4], 0
jz      loc_2780816a
mov     eax, [ebx+38h]
add     eax, dword_2782a06c
add     [ebp+y], eax
cmp     dword ptr [esi+0ch], 0
jz      short loc_278080cf
mov     ebx, [ebp+arg_0]
push    dword ptr [ebx+40h]
push    [ebp+hdc]
call    ds:selectobject
cmp     [ebp+var_4], 0
push    dword ptr [esi+0ch]
mov     [ebp+h], eax
jnz     loc_27808180
call    ds:lstrlena
push    eax
mov     eax, [esi+10h]
push    dword ptr [esi+0ch]
shr     eax, 1
push    [ebp+y]
sub     edi, eax
push    edi
push    [ebp+hdc]
call    ds:textouta
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
mov     edi, [ebp+arg_0]
test    byte ptr [ebp+var_24], 10h
jz      short loc_278080ea
lea     eax, [ebp+lparam]
push    eax
push    10002h
push    edi
call    sub_27811d7b
cmp     dword ptr [esi+2ch], 0
jz      short loc_278080fc
push    [ebp+mode]
push    [ebp+hdc]
call    ds:setbkmode
push    [ebp+color]
push    [ebp+hdc]
call    ds:settextcolor
push    [ebp+var_2c]
push    [ebp+hdc]
call    ds:setbkcolor
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     [ebp+var_4], 1
jmp     loc_27807e6c
mov     ebx, [esi+3ch]
mov     eax, ebx
cdq
sub     eax, edx
sar     eax, 1
add     eax, [esi+34h]
jmp     loc_27807f3a
lea     eax, [ebp+rc]
push    eax
call    sub_278119ad
jmp     loc_27807fc1
mov     ebx, [ebp+arg_0]
jmp     loc_27807fdb
mov     eax, [ebx+3ch]
jmp     loc_27808013
mov     eax, [ebp+y]
mov     [ebp+var_54], eax
jmp     loc_2780803f
mov     [ebp+var_50], ecx
jmp     loc_2780804f
mov     eax, [ebx+3ch]
add     eax, dy
jmp     loc_2780807d
mov     edi, [ebp+h]
jmp     loc_27808080
call    ds:lstrlena
push    eax
mov     eax, [ebx+44h]
push    dword ptr [esi+0ch]
shr     eax, 1
sub     edi, eax
push    edi
push    [ebp+y]
push    [ebp+hdc]
jmp     loc_278080bd
push    ebp
mov     ebp, esp
sub     esp, 70h
push    ebx
mov     ebx, [ebp+hdc]
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     ebx, edi
jnz     short loc_278081c0
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:beginpaint
mov     ebx, eax
lea     eax, [ebp+lparam]
mov     [ebp+var_20], ebx
push    eax
push    1
push    esi
mov     [ebp+var_8], edi
mov     [ebp+var_4], edi
call    sub_27811d7b
test    al, 4
mov     [esi+0ch], eax
jnz     short loc_27808206
cmp     [esi+28h], edi
mov     [ebp+arg_0], edi
jbe     short loc_27808206
mov     eax, [esi+5ch]
add     eax, edi
test    byte ptr [eax], 8
jnz     short loc_278081f6
push    ebx
push    eax
push    esi
call    sub_27807e37
inc     [ebp+arg_0]
add     edi, 60h
mov     eax, [ebp+arg_0]
cmp     eax, [esi+28h]
jb      short loc_278081e4
xor     edi, edi
test    byte ptr [esi+0ch], 10h
jz      short loc_27808218
lea     eax, [ebp+lparam]
push    eax
push    2
push    esi
call    sub_27811d7b
cmp     [ebp+hdc], edi
jnz     short loc_27808229
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:endpaint
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     ecx, [ebp+arg_4]
push    ebx
push    esi
push    edi
xor     edi, edi
xor     esi, esi
test    byte ptr [ecx], 20h
jnz     short loc_2780825b
mov     eax, [ebp+arg_0]
test    byte ptr [eax+8], 80h
jz      loc_278082e9
mov     edi, [ecx+34h]
mov     esi, [ecx+30h]
neg     edi
neg     esi
add     edi, [ebp+x]
mov     ebx, [ecx+24h]
cmp     edi, ebx
jb      short loc_2780826d
mov     eax, edi
xor     edx, edx
div     ebx
mov     edi, edx
add     esi, [ebp+y]
mov     ebx, [ecx+28h]
cmp     esi, ebx
jb      short loc_2780827f
mov     eax, esi
xor     edx, edx
div     ebx
mov     esi, edx
mov     ebx, ds:bitblt
mov     eax, [ebp+arg_10]
mov     ecx, [ecx+24h]
add     eax, edi
mov     edx, [ebp+cy]
cmp     ecx, eax
sbb     eax, eax
add     edx, esi
neg     eax
mov     [ebp+var_4], eax
mov     eax, [ebp+arg_4]
mov     eax, [eax+28h]
cmp     eax, edx
sbb     edx, edx
neg     edx
cmp     [ebp+var_4], 0
mov     [ebp+var_8], edx
jnz     short loc_278082f6
test    edx, edx
jz      loc_27808354
cmp     [ebp+var_4], 0
jnz     short loc_278082f6
push    0cc0020h
push    esi
push    edi
sub     eax, esi
push    [ebp+hdcsrc]
mov     [ebp+var_8], eax
push    eax
push    [ebp+arg_10]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ebx
mov     eax, [ebp+var_8]
add     [ebp+y], eax
sub     [ebp+cy], eax
xor     esi, esi
jmp     short loc_27808325
mov     edi, [ecx+30h]
mov     esi, [ecx+34h]
neg     edi
jmp     loc_27808259
cmp     [ebp+var_8], 0
jnz     short loc_2780832d
push    0cc0020h
push    esi
push    edi
sub     ecx, edi
push    [ebp+hdcsrc]
mov     [ebp+var_8], ecx
push    [ebp+cy]
push    ecx
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ebx
mov     eax, [ebp+var_8]
add     [ebp+x], eax
sub     [ebp+arg_10], eax
xor     edi, edi
mov     ecx, [ebp+arg_4]
jmp     loc_27808285
push    [ebp+hdcsrc]
sub     eax, esi
mov     esi, eax
push    [ebp+hdc]
push    esi
push    [ebp+arg_10]
push    [ebp+y]
push    [ebp+x]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_27808230
add     [ebp+y], esi
sub     [ebp+cy], esi
jmp     short loc_278082e5
push    0cc0020h
push    esi
push    edi
push    [ebp+hdcsrc]
push    [ebp+cy]
push    [ebp+arg_10]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ebx
pop     edi
pop     esi
pop     ebx
leave
retn    20h
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_0]
mov     edx, [ebp+arg_4]
push    ebx
push    esi
mov     ecx, [eax+8]
mov     esi, [eax+5ch]
and     ecx, 80h
push    edi
test    edx, edx
jnz     short loc_2780839b
lea     edx, [ebp+var_10]
mov     [ebp+arg_4], edx
and     [ebp+arg_0], 0
cmp     dword ptr [eax+28h], 0
jle     short loc_278083e1
test    byte ptr [esi], 8
jnz     short loc_278083d0
mov     edi, [esi+30h]
cmp     [ebp+arg_8], edi
jl      short loc_278083d0
mov     edx, [esi+34h]
cmp     [ebp+arg_c], edx
jl      short loc_278083d0
mov     ebx, [esi+38h]
add     ebx, edi
cmp     [ebp+arg_8], ebx
jg      short loc_278083d0
mov     ebx, [esi+3ch]
mov     edi, [ebp+arg_c]
add     ebx, edx
cmp     edi, ebx
jle     short loc_278083f5
inc     [ebp+arg_0]
add     esi, 60h
mov     edx, [ebp+arg_0]
cmp     edx, [eax+28h]
jl      short loc_278083a5
mov     edx, [ebp+arg_4]
or      eax, 0ffffffffh
mov     dword ptr [edx+8], 1
mov     [edx+0ch], eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edx, [esi+44h]
mov     ebx, [ebp+arg_4]
sub     edx, [esi+1ch]
add     edx, [esi+30h]
cmp     [ebp+arg_8], edx
jg      short loc_27808465
mov     dword ptr [ebx+8], 2
mov     edx, [eax+8]
test    dl, 80h
jz      short loc_2780842b
test    dh, 40h
jz      short loc_2780842b
sub     edi, [esi+34h]
cmp     edi, 5
jge     short loc_2780845d
mov     dword ptr [ebx+8], 4
jmp     short loc_2780845d
test    ecx, ecx
mov     ecx, y
jnz     short loc_2780843b
mov     ecx, w
lea     edi, [ecx+ecx*4]
mov     ecx, [ebp+arg_0]
lea     ecx, [ecx+ecx*2]
shl     ecx, 5
add     ecx, [eax+5ch]
push    ecx
push    eax
call    sub_278073fd
test    eax, eax
jz      short loc_2780845d
add     edi, [esi+30h]
cmp     [ebp+arg_8], edi
jle     short loc_27808422
mov     eax, [ebp+arg_0]
mov     [ebx+0ch], eax
jmp     short loc_278083ee
mov     dword ptr [ebx+8], 3
jmp     short loc_2780845d
mov     eax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
test    byte ptr [esi+8], 80h
jz      short loc_2780848f
mov     ecx, [eax+4]
mov     edx, [eax]
push    edx
push    ecx
push    eax
push    esi
call    sub_27808376
pop     esi
retn    8
mov     ecx, [eax]
mov     edx, [eax+4]
jmp     short loc_27808482
push    ebp
mov     ebp, esp
sub     esp, 4ch
push    ebx
push    esi
mov     esi, [ebp+hdcsrc]
mov     ebx, [ebp+hdc]
push    edi
mov     [ebp+var_3c], ebx
mov     eax, [esi+8]
mov     edi, [esi+5ch]
and     eax, 80h
mov     [ebp+var_4], eax
xor     eax, eax
mov     [ebp+hdcsrc], eax
mov     [ebp+var_24], eax
mov     [ebp+var_20], eax
lea     eax, [ebp+lparam]
push    eax
push    3
push    esi
call    sub_27811d7b
test    al, 4
mov     [esi+0ch], eax
jnz     loc_27808641
mov     eax, [esi+8]
and     eax, 400h
mov     [ebp+var_8], eax
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [esi+64h]
cmp     eax, 0ffffffffh
jz      short loc_27808502
push    eax
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_277be3ec
and     [ebp+hdc], 0
cmp     dword ptr [esi+28h], 0
jbe     loc_27808632
test    byte ptr [edi], 8
jnz     loc_27808620
cmp     [ebp+var_4], 0
jz      loc_27808668
mov     eax, [edi+30h]
mov     edx, [edi+38h]
mov     ecx, [edi+34h]
add     edx, eax
push    edx
mov     edx, ecx
add     edx, [edi+3ch]
push    edx
push    eax
lea     eax, [ebp+rc]
push    ecx
push    eax
call    ds:setrect
xor     eax, eax
cmp     [ebp+var_8], eax
jz      short loc_27808597
cmp     [edi+30h], eax
jz      loc_278086c0
cmp     [ebp+var_4], eax
jz      loc_2780867e
mov     eax, dword_2782a06c
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+rc.right], eax
mov     eax, dy
sub     [ebp+rc.top], eax
lea     eax, [esi+70h]
push    eax
push    2
lea     eax, [ebp+rc]
push    6
push    eax
push    ebx
call    sub_27811a00
mov     eax, dword_2782a06c
push    0fffffffeh
cdq
pop     ecx
idiv    ecx
add     [ebp+rc.right], eax
mov     eax, dy
add     [ebp+rc.top], eax
mov     eax, [edi+4ch]
and     [ebp+var_24], 0
mov     [ebp+var_28], eax
lea     eax, [ebp+lparam]
push    eax
push    10003h
push    esi
call    sub_27811d7b
test    al, 4
mov     [ebp+var_c], eax
jnz     short loc_2780860b
cmp     dword ptr [edi+2ch], 0
jz      loc_27808700
cmp     [ebp+hdcsrc], 0
jnz     short loc_278085e0
push    ebx
call    ds:createcompatibledc
test    eax, eax
mov     [ebp+hdcsrc], eax
jz      short loc_27808620
push    0
push    1
push    ebx
push    esi
call    sub_27807135
push    dword ptr [edi+2ch]
push    [ebp+hdcsrc]
call    ds:selectobject
mov     eax, [ebp+rc.bottom]
push    [ebp+hdcsrc]
sub     eax, [ebp+rc.top]
push    ebx
push    eax
mov     eax, [ebp+rc.right]
sub     eax, [ebp+rc.left]
push    eax
push    [ebp+rc.top]
push    [ebp+rc.left]
push    edi
push    esi
call    sub_27808230
test    byte ptr [ebp+var_c], 40h
jz      short loc_27808620
lea     eax, [ebp+lparam]
push    eax
push    10004h
push    esi
call    sub_27811d7b
inc     [ebp+hdc]
add     edi, 60h
mov     eax, [ebp+hdc]
cmp     eax, [esi+28h]
jb      loc_27808510
cmp     [ebp+hdcsrc], 0
jz      short loc_27808641
push    [ebp+hdcsrc]
call    ds:deletedc
test    byte ptr [esi+0ch], 40h
jz      short loc_2780865e
xor     eax, eax
mov     [ebp+var_24], eax
mov     [ebp+var_28], eax
mov     [ebp+var_20], eax
lea     eax, [ebp+lparam]
push    eax
push    4
push    esi
call    sub_27811d7b
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [edi+34h]
mov     ecx, [edi+30h]
mov     edx, eax
add     edx, [edi+3ch]
push    edx
mov     edx, [edi+38h]
add     edx, ecx
jmp     loc_27808534
mov     eax, dy
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+rc.bottom], eax
mov     eax, dword_2782a06c
sub     [ebp+rc.left], eax
lea     eax, [esi+70h]
push    eax
push    1
lea     eax, [ebp+rc]
push    6
push    eax
push    ebx
call    sub_27811a00
mov     eax, dy
push    0fffffffeh
cdq
pop     ecx
idiv    ecx
add     [ebp+rc.bottom], eax
mov     eax, dword_2782a06c
add     [ebp+rc.left], eax
jmp     loc_27808597
cmp     [ebp+var_4], eax
jz      short loc_278086ea
mov     eax, dword_2782a06c
add     eax, [edi+34h]
add     eax, [edi+3ch]
mov     [ebp+rect.right], eax
lea     eax, [esi+70h]
push    eax
push    4
lea     eax, [ebp+rect]
push    6
push    eax
push    ebx
call    sub_27811a00
jmp     loc_27808597
mov     eax, dy
add     eax, [edi+34h]
add     eax, [edi+3ch]
mov     [ebp+rect.bottom], eax
lea     eax, [esi+70h]
push    eax
push    8
jmp     short loc_278086d9
mov     ecx, [edi+8]
cmp     ecx, 0ffffffffh
mov     eax, ecx
jnz     short loc_2780870d
mov     eax, [esi+64h]
cmp     eax, [esi+64h]
jz      loc_2780860b
lea     eax, [ebp+rc]
push    ecx
push    eax
push    ebx
call    sub_277be3ec
jmp     loc_2780860b
mov     ecx, [esp+arg_0]
test    ecx, ecx
jz      short loc_27808749
mov     eax, [esp+arg_4]
cmp     dword ptr [eax], 0ch
jnz     short loc_27808749
test    byte ptr [eax+4], 1
jz      short loc_27808743
mov     ecx, [ecx+34h]
mov     [eax+8], ecx
push    1
pop     eax
retn    8
xor     eax, eax
jmp     short locret_27808746
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    esi, esi
jz      loc_278087ec
mov     eax, [ebp+arg_4]
cmp     dword ptr [eax], 0ch
jnz     loc_278087ec
test    byte ptr [eax+4], 1
jz      short loc_278087b5
mov     ecx, [esi+34h]
mov     eax, [eax+8]
lea     edi, [esi+38h]
mov     [ebp+var_8], ecx
lea     ebx, [esi+3ch]
mov     [esi+34h], eax
mov     ecx, [edi]
push    ebx
mov     [ebp+arg_0], ecx
mov     ecx, [ebx]
push    edi
push    eax
mov     [ebp+var_4], ecx
call    sub_278139de
mov     eax, [ebp+arg_0]
cmp     [edi], eax
jnz     short loc_278087bf
mov     eax, [ebp+var_4]
cmp     [ebx], eax
jnz     short loc_278087bf
push    0
push    esi
call    sub_278071f6
mov     ecx, [ebp+arg_4]
mov     eax, [ebp+var_8]
mov     [ecx+8], eax
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
xor     edi, edi
xor     ebx, ebx
cmp     [esi+28h], edi
jbe     short loc_278087e2
mov     eax, [esi+5ch]
add     eax, edi
test    byte ptr [eax], 8
jnz     short loc_278087d9
push    eax
push    esi
call    sub_278072f5
inc     ebx
add     edi, 60h
cmp     ebx, [esi+28h]
jb      short loc_278087c8
push    0
push    esi
call    sub_27807c23
jmp     short loc_278087ac
xor     eax, eax
jmp     short loc_278087b8
mov     ecx, [esp+arg_0]
push    esi
test    ecx, ecx
push    edi
jz      loc_2780896b
mov     eax, [esp+8+arg_4]
cmp     eax, [ecx+28h]
jnb     loc_2780896b
mov     edi, [esp+8+arg_8]
cmp     dword ptr [edi], 50h
ja      loc_2780896b
mov     esi, [ecx+5ch]
mov     ecx, [edi+4]
lea     eax, [eax+eax*2]
shl     eax, 5
add     esi, eax
test    cl, 40h
jz      short loc_2780883a
test    byte ptr [esi], 2
jz      loc_27808940
mov     eax, [esi+38h]
mov     [edi+2ch], eax
test    ch, 8
jz      short loc_27808848
mov     eax, [esi+44h]
sub     eax, [esi+1ch]
mov     [edi+4ch], eax
test    ch, 2
jz      short loc_27808865
mov     eax, [esi+48h]
test    eax, eax
jz      loc_27808948
mov     edx, dword_2782a06c
add     edx, edx
sub     eax, edx
mov     [edi+44h], eax
test    cl, 1
jz      short loc_2780886f
mov     eax, [esi]
mov     [edi+8], eax
test    cl, 2
jz      short loc_27808880
mov     eax, [esi+4]
mov     [edi+0ch], eax
mov     eax, [esi+8]
mov     [edi+10h], eax
test    cl, 4
jz      short loc_278088c8
mov     eax, [esi+0ch]
test    eax, eax
jz      loc_2780894f
push    eax
call    ds:lstrlena
mov     edx, [edi+18h]
test    edx, edx
jz      loc_2780895e
mov     ecx, [edi+14h]
test    ecx, ecx
jz      loc_2780895e
cmp     edx, eax
jbe     loc_2780895e
mov     eax, [esi+0ch]
test    eax, eax
jz      loc_27808956
push    eax
push    ecx
call    ds:lstrcpya
mov     ecx, [edi+4]
test    cl, 8
jz      short loc_278088d6
mov     eax, [esi+14h]
mov     [edi+1ch], eax
test    cl, 10h
jz      short loc_278088e1
mov     eax, [esi+18h]
mov     [edi+20h], eax
test    cl, 20h
jz      short loc_27808917
mov     eax, [esi+1ch]
test    eax, eax
jz      short loc_27808967
mov     edx, dword_2782a06c
add     edx, edx
sub     eax, edx
mov     [edi+24h], eax
mov     eax, [esi+20h]
mov     [edi+28h], eax
test    byte ptr [esi], 40h
jz      short loc_27808917
mov     eax, [esi+54h]
mov     [edi+40h], eax
mov     eax, [esi+50h]
mov     [edi+3ch], eax
mov     eax, [esi+58h]
mov     [edi+38h], eax
test    cl, 80h
jz      short loc_27808922
mov     eax, [esi+2ch]
mov     [edi+30h], eax
test    ch, 1
jz      short loc_2780892d
mov     eax, [esi+4ch]
mov     [edi+34h], eax
test    ch, 4
jz      short loc_27808938
mov     eax, [esi+5ch]
mov     [edi+48h], eax
push    1
pop     eax
pop     edi
pop     esi
retn    0ch
mov     eax, [esi+40h]
jmp     loc_27808837
xor     eax, eax
jmp     loc_27808862
xor     eax, eax
jmp     loc_27808897
and     byte ptr [ecx], 0
jmp     loc_278088c8
inc     eax
mov     [edi+18h], eax
jmp     loc_278088c8
xor     eax, eax
jmp     short loc_278088f7
xor     eax, eax
jmp     short loc_2780893b
push    edi
mov     edi, [esp+4+arg_0]
xor     eax, eax
mov     ecx, [edi]
mov     edx, [ecx]
cmp     edx, 50h
setz    al
test    eax, eax
jnz     short loc_278089a3
cmp     edx, 50h
jnb     short loc_278089a3
push    esi
mov     esi, [esp+8+arg_4]
push    edx
push    ecx
push    esi
call    ds:rtlmovememory
push    1
mov     [edi], esi
mov     dword ptr [esi], 50h
pop     eax
pop     esi
pop     edi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 0c0h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    13h
xor     edx, edx
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_68]
mov     [ebp+var_6c], edx
cmp     ebx, edx
mov     [ebp+var_8], edx
mov     [ebp+var_4], edx
mov     [ebp+var_c], edx
rep stosd
jz      loc_27808df5
mov     edi, [ebp+arg_4]
cmp     edi, [ebx+28h]
jnb     loc_27808df5
lea     eax, [ebp+var_6c]
push    eax
lea     eax, [ebp+arg_8]
push    eax
call    sub_2780896f
test    eax, eax
jz      loc_27808df5
mov     eax, [ebp+arg_8]
lea     esi, [edi+edi*2]
shl     esi, 5
add     esi, [ebx+5ch]
push    1
test    byte ptr [eax+4], 4
pop     ebx
jz      short loc_27808a53
mov     edx, [eax+14h]
test    edx, edx
jz      short loc_27808a29
mov     ecx, [esi+0ch]
test    ecx, ecx
jz      short loc_27808a29
push    ecx
push    edx
call    ds:lstrcmpa
test    eax, eax
mov     eax, [ebp+arg_8]
jz      short loc_27808a53
mov     edx, [eax+14h]
lea     ecx, [esi+0ch]
cmp     edx, [ecx]
jz      short loc_27808a53
push    edx
push    ecx
call    sub_2781617a
push    0
push    esi
push    [ebp+arg_0]
call    sub_27807424
test    eax, eax
jz      loc_27808d7b
mov     [ebp+var_4], ebx
mov     eax, [ebp+arg_8]
test    byte ptr [eax+4], 1
jz      short loc_27808ab4
mov     edx, [esi]
mov     eax, [eax+8]
mov     ecx, edx
mov     [esi], eax
xor     ecx, eax
jz      short loc_27808a70
push    1
mov     [ebp+var_4], 1
pop     ebx
test    al, 2
jz      loc_27808d83
test    dl, 2
jnz     loc_27808d83
mov     eax, [esi+38h]
mov     [esi+44h], eax
test    cl, 80h
jz      short loc_27808a8f
mov     [ebp+var_c], ebx
test    cl, 8
jz      short loc_27808aa7
mov     eax, [esi]
not     eax
shr     eax, 3
and     eax, ebx
push    eax
push    edi
push    [ebp+arg_0]
call    sub_27808eba
mov     eax, [esi]
test    al, 2
jz      short loc_27808ab1
and     al, 0feh
mov     [esi], eax
mov     eax, [ebp+arg_8]
test    byte ptr [eax+5], 2
jz      short loc_27808ad4
mov     eax, [eax+44h]
test    eax, eax
jz      loc_27808d94
mov     ecx, dword_2782a06c
lea     eax, [eax+ecx*2]
mov     [esi+48h], eax
mov     eax, [ebp+arg_8]
test    byte ptr [eax+4], 40h
jz      short loc_27808af9
mov     ecx, [eax+2ch]
cmp     [esi+40h], ecx
jz      short loc_27808aeb
mov     [esi+40h], ecx
mov     eax, [ebp+arg_8]
mov     [ebp+var_4], ebx
test    byte ptr [esi], 2
jz      short loc_27808af9
mov     eax, [esi+40h]
mov     [esi+44h], eax
mov     eax, [ebp+arg_8]
test    byte ptr [eax+5], 8
jz      short loc_27808b19
cmp     dword ptr [eax+4ch], 0ffffffffh
jnz     loc_27808d9b
and     byte ptr [esi+3], 0bfh
mov     [ebp+var_c], ebx
mov     eax, [ebp+arg_8]
mov     [ebp+var_4], ebx
mov     [ebp+var_8], ebx
test    byte ptr [eax+4], 2
jz      short loc_27808b34
mov     eax, [eax+0ch]
mov     [ebp+var_8], ebx
mov     [esi+4], eax
mov     eax, [ebp+arg_8]
mov     eax, [eax+10h]
mov     [esi+8], eax
mov     eax, [ebp+arg_8]
test    byte ptr [eax+4], 8
jz      short loc_27808b6c
mov     edx, [esi+14h]
mov     ecx, [eax+1ch]
cmp     edx, ecx
jz      short loc_27808b6c
cmp     edx, 0ffffffffh
jz      loc_27808db0
cmp     ecx, 0ffffffffh
jz      loc_27808db0
xor     eax, eax
test    eax, eax
mov     [esi+14h], ecx
jz      loc_27808db7
mov     [ebp+var_4], ebx
mov     [ebp+var_c], ebx
mov     eax, [ebp+arg_8]
test    byte ptr [eax+4], 10h
jz      short loc_27808bce
mov     ecx, [eax+20h]
cmp     ecx, [esi+18h]
jz      short loc_27808bce
test    ecx, ecx
jz      short loc_27808b8e
mov     eax, [ebp+arg_0]
push    dword ptr [eax]
push    ecx
call    ds:ischild
test    eax, eax
jnz     short loc_27808bcb
push    dword ptr [esi+18h]
call    ds:iswindow
mov     edi, ds:showwindow
test    eax, eax
jz      short loc_27808ba8
push    0
push    dword ptr [esi+18h]
call    edi
mov     eax, [ebp+arg_8]
mov     eax, [eax+20h]
test    eax, eax
mov     [esi+18h], eax
jz      short loc_27808bc8
mov     ecx, [ebp+arg_0]
push    dword ptr [ecx]
push    eax
call    ds:setparent
push    5
push    dword ptr [esi+18h]
call    edi
mov     [ebp+var_4], ebx
mov     eax, [ebp+arg_8]
test    byte ptr [eax+4], 20h
jz      loc_27808dd2
mov     ecx, [eax+28h]
mov     ebx, [esi+58h]
or      edx, 0ffffffffh
cmp     ecx, edx
jz      short loc_27808beb
mov     [esi+20h], ecx
mov     eax, [ebp+arg_8]
test    byte ptr [esi], 40h
jz      loc_27808dbf
mov     ecx, [eax+40h]
cmp     ecx, edx
jz      short loc_27808c01
mov     [esi+54h], ecx
mov     eax, [ebp+arg_8]
mov     ecx, [eax+3ch]
cmp     ecx, edx
jz      short loc_27808c0e
mov     [esi+50h], ecx
mov     eax, [ebp+arg_8]
mov     ecx, [eax+38h]
cmp     ecx, edx
jz      short loc_27808c1b
mov     [esi+58h], ecx
mov     eax, [ebp+arg_8]
mov     edx, [esi+20h]
cmp     [esi+58h], edx
jnb     short loc_27808c29
mov     [esi+58h], edx
mov     eax, [ebp+arg_8]
mov     ecx, [esi+50h]
cmp     [esi+58h], ecx
jbe     short loc_27808c37
mov     [esi+58h], ecx
mov     eax, [ebp+arg_8]
mov     edi, [esi+54h]
test    edi, edi
jz      short loc_27808c51
mov     ecx, [esi+58h]
mov     eax, ecx
sub     eax, edx
xor     edx, edx
div     edi
sub     ecx, edx
mov     [esi+58h], ecx
mov     eax, [ebp+arg_8]
mov     ecx, [esi+1ch]
mov     edx, [eax+24h]
cmp     ecx, edx
jz      loc_27808dca
cmp     edx, 0ffffffffh
jz      loc_27808dca
mov     eax, [esi+44h]
sub     eax, ecx
mov     ecx, dword_2782a06c
add     ecx, ecx
test    edx, edx
jnz     short loc_27808c7b
xor     ecx, ecx
test    byte ptr [esi], 2
push    1
pop     edi
jz      short loc_27808c88
mov     [ebp+var_4], edi
xor     ecx, ecx
add     ecx, edx
test    byte ptr [esi+3], 40h
mov     [esi+1ch], ecx
jz      short loc_27808c98
add     eax, ecx
mov     [esi+44h], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_c], edi
cmp     ebx, [esi+58h]
jz      short loc_27808ca6
mov     [ebp+var_4], edi
test    byte ptr [eax+4], 80h
jz      loc_27808dda
mov     ecx, [eax+30h]
xor     ebx, ebx
cmp     ecx, ebx
jz      short loc_27808cd4
lea     eax, [ebp+pv]
push    eax
push    54h
push    ecx
call    ds:getobjecta
test    eax, eax
jz      loc_27808df5
mov     eax, [ebp+arg_8]
mov     eax, [eax+30h]
mov     [ebp+var_8], edi
mov     [esi+2ch], eax
mov     eax, [ebp+var_bc]
mov     [esi+24h], eax
mov     eax, [ebp+var_b8]
mov     [esi+28h], eax
mov     eax, [ebp+arg_8]
test    byte ptr [eax+5], 1
jz      short loc_27808d01
mov     eax, [eax+34h]
mov     [esi+4ch], eax
mov     eax, [ebp+arg_8]
test    byte ptr [eax+5], 4
jz      short loc_27808d0d
mov     eax, [eax+48h]
mov     [esi+5ch], eax
cmp     [ebp+var_c], ebx
jz      short loc_27808d20
test    byte ptr [esi], 8
jnz     short loc_27808d20
push    esi
push    [ebp+arg_0]
call    sub_278072f5
cmp     [ebp+arg_c], ebx
jz      short loc_27808d72
cmp     [ebp+var_4], ebx
jz      short loc_27808d33
push    ebx
push    [ebp+arg_0]
call    sub_27807c23
cmp     [ebp+var_8], ebx
jnz     short loc_27808d3d
cmp     [ebp+var_4], ebx
jz      short loc_27808d72
mov     ebx, [ebp+arg_0]
test    byte ptr [ebx+8], 80h
jz      loc_27808de1
mov     eax, [esi+30h]
mov     edx, [esi+38h]
mov     ecx, [esi+34h]
add     edx, eax
push    edx
mov     edx, [esi+3ch]
add     edx, ecx
push    edx
push    eax
lea     eax, [ebp+rc]
push    ecx
push    eax
call    ds:setrect
lea     eax, [ebp+rc]
push    eax
push    ebx
call    sub_278071f6
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     [ebp+var_8], ebx
jmp     loc_27808a50
test    cl, 2
jz      loc_27808a87
mov     [ebp+var_c], ebx
jmp     loc_27808a87
xor     eax, eax
jmp     loc_27808ace
or      byte ptr [esi+3], 40h
mov     ecx, [ebp+arg_8]
mov     eax, [esi+1ch]
add     eax, [ecx+4ch]
mov     [esi+44h], eax
jmp     loc_27808b10
mov     eax, ebx
jmp     loc_27808b58
mov     [ebp+var_8], ebx
jmp     loc_27808b69
mov     eax, [eax+28h]
mov     [esi+58h], eax
jmp     loc_27808c4e
push    1
pop     edi
jmp     loc_27808c9e
push    1
pop     edi
jmp     loc_27808ca6
xor     ebx, ebx
jmp     loc_27808cf2
mov     eax, [esi+34h]
mov     edx, [esi+3ch]
mov     ecx, [esi+30h]
add     edx, eax
push    edx
mov     edx, [esi+38h]
jmp     loc_27808d59
xor     eax, eax
jmp     loc_27808d74
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     edi, [esp+8+arg_0]
lea     eax, [esi+esi*2]
shl     eax, 5
push    eax
push    dword ptr [edi+5ch]
call    sub_27811902
test    eax, eax
jnz     short loc_27808e1d
test    esi, esi
jnz     short loc_27808e23
push    1
mov     [edi+5ch], eax
pop     eax
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
push    esi
push    edi
xor     edi, edi
sub     eax, edi
jz      short loc_27808e83
dec     eax
jnz     short loc_27808eb6
mov     esi, [ebp+arg_4]
push    8
push    edi
push    esi
call    sub_2780932a
mov     edi, eax
test    byte ptr [edi], 2
jz      short loc_27808e6d
push    8
push    1
push    esi
call    sub_2780932a
mov     ecx, [esi+28h]
mov     edx, [esi+5ch]
lea     ecx, [ecx+ecx*2]
shl     ecx, 5
lea     ecx, [ecx+edx-60h]
cmp     eax, ecx
ja      short loc_27808e6d
and     dword ptr [eax], 0fffffffeh
test    byte ptr [esi+9], 8
jz      short loc_27808e7a
push    edi
push    esi
call    sub_278072f5
push    1
pop     eax
pop     edi
pop     esi
pop     ebp
retn    0ch
mov     esi, [ebp+arg_4]
push    8
push    edi
push    esi
call    sub_2780932a
cmp     eax, [ebp+arg_8]
jnz     short loc_27808eb6
push    [ebp+arg_8]
push    esi
call    sub_27809403
mov     ecx, [esi+28h]
mov     edx, [esi+5ch]
lea     ecx, [ecx+ecx*2]
shl     ecx, 5
lea     ecx, [ecx+edx-60h]
cmp     eax, ecx
ja      short loc_27808eb6
push    1
pop     eax
jmp     short loc_27808e7d
xor     eax, eax
jmp     short loc_27808e7d
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
xor     ebx, ebx
cmp     edi, ebx
jz      short loc_27808f3d
mov     eax, [ebp+arg_4]
cmp     eax, [edi+28h]
jnb     short loc_27808f3d
lea     esi, [eax+eax*2]
shl     esi, 5
add     esi, [edi+5ch]
push    esi
push    edi
push    ebx
call    sub_27808e28
cmp     [ebp+arg_8], ebx
mov     [ebp+arg_0], eax
jz      short loc_27808f30
and     dword ptr [esi], 0fffffff7h
push    esi
push    edi
call    sub_278072f5
mov     esi, [esi+18h]
cmp     esi, ebx
jz      short loc_27808f04
push    5
push    esi
call    ds:showwindow
cmp     [ebp+arg_0], ebx
jz      short loc_27808f12
push    ebx
push    edi
push    1
call    sub_27808e28
push    ebx
push    edi
call    sub_278071f6
push    ebx
push    edi
call    sub_27807c23
push    edi
call    sub_2780a37f
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
or      dword ptr [esi], 8
mov     esi, [esi+18h]
cmp     esi, ebx
jz      short loc_27808f04
push    ebx
jmp     short loc_27808efd
xor     eax, eax
jmp     short loc_27808f29
push    ebp
mov     ebp, esp
sub     esp, 20h
and     [ebp+lparam], 0
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    7
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_1c]
test    ebx, ebx
rep stosd
jz      loc_27809045
mov     eax, [ebp+arg_4]
cmp     eax, [ebx+28h]
jnb     loc_27809045
mov     edi, [ebx+5ch]
lea     esi, [eax+eax*2]
push    0fffffcbbh
push    eax
shl     esi, 5
push    ebx
add     edi, esi
call    sub_278071a0
mov     eax, [ebx+5ch]
mov     [ebp+var_14], 1
mov     eax, [eax+esi+4ch]
xor     esi, esi
mov     [ebp+var_8], eax
lea     eax, [edi+0ch]
push    esi
push    eax
call    sub_2781617a
push    edi
push    ebx
push    esi
call    sub_27808e28
push    dword ptr [edi+18h]
mov     [ebp+arg_0], eax
call    ds:iswindow
test    eax, eax
jz      short loc_27808fc5
push    esi
push    dword ptr [edi+18h]
call    ds:showwindow
mov     eax, [ebx+28h]
mov     ecx, [ebx+5ch]
lea     eax, [eax+eax*2]
shl     eax, 5
lea     eax, [eax+ecx-60h]
cmp     edi, eax
jnb     short loc_27808ff5
sub     eax, edi
push    60h
add     eax, 5fh
xor     edx, edx
pop     ecx
lea     esi, [edi+60h]
div     ecx
lea     ecx, [eax+eax*2]
shl     ecx, 5
shr     ecx, 2
rep movsd
xor     esi, esi
mov     eax, [ebx+6ch]
dec     dword ptr [ebx+28h]
cmp     eax, [ebp+arg_4]
jb      short loc_27809008
cmp     eax, esi
jbe     short loc_27809008
dec     eax
mov     [ebx+6ch], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffcbah
push    ebx
call    sub_277b9838
cmp     [ebp+arg_0], esi
jz      short loc_27809025
push    esi
push    ebx
push    1
call    sub_27808e28
push    dword ptr [ebx+28h]
push    ebx
call    sub_27808dfc
push    esi
push    ebx
call    sub_27807c23
push    ebx
call    sub_2780a37f
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
xor     eax, eax
jmp     short loc_2780903e
push    ebp
mov     ebp, esp
sub     esp, 50h
and     [ebp+var_50], 0
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
push    13h
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_4c]
test    ebx, ebx
rep stosd
jz      loc_27809133
lea     eax, [ebp+var_50]
push    eax
lea     eax, [ebp+arg_8]
push    eax
call    sub_2780896f
test    eax, eax
jz      loc_27809133
mov     esi, [ebp+arg_4]
mov     eax, [ebx+28h]
cmp     esi, 0ffffffffh
jnz     loc_2780912b
mov     [ebp+arg_4], eax
mov     esi, eax
inc     eax
push    eax
push    ebx
call    sub_27808dfc
test    eax, eax
jz      loc_27809133
inc     dword ptr [ebx+28h]
mov     ecx, [ebx+28h]
mov     edx, [ebx+5ch]
lea     eax, [esi+1]
lea     ecx, [ecx+ecx*2]
lea     edi, [esi+esi*2]
lea     eax, [eax+eax*2]
shl     eax, 5
shl     ecx, 5
shl     edi, 5
sub     ecx, eax
push    ecx
lea     ecx, [edx+edi]
add     edx, eax
push    ecx
push    edx
call    ds:rtlmovememory
mov     esi, [ebx+5ch]
push    18h
add     esi, edi
pop     ecx
xor     eax, eax
mov     edi, esi
rep stosd
mov     eax, dword_2782a128
mov     [esi+4], eax
mov     eax, color
mov     [esi+8], eax
or      eax, 0ffffffffh
cmp     [ebx+68h], eax
jz      short loc_278090fb
mov     [esi+4], eax
cmp     [ebx+64h], eax
jz      short loc_27809103
mov     [esi+8], eax
xor     edi, edi
mov     [esi+14h], eax
push    edi
mov     dword ptr [esi+50h], 7fffffffh
push    [ebp+arg_8]
push    [ebp+arg_4]
push    ebx
call    sub_278089a7
test    eax, eax
jnz     short loc_2780913c
push    [ebp+arg_4]
push    ebx
call    sub_27808f41
jmp     short loc_27809133
cmp     esi, eax
jbe     loc_27809094
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
test    byte ptr [esi], 8
jnz     short loc_2780916e
push    8
push    edi
push    ebx
call    sub_2780932a
cmp     [esi+44h], edi
mov     [ebp+arg_0], eax
jnz     short loc_27809159
push    esi
push    ebx
call    sub_278072f5
cmp     [ebp+arg_0], esi
jz      short loc_27809167
push    [ebp+arg_0]
push    ebx
call    sub_278072f5
push    edi
push    ebx
call    sub_27807c23
push    0ffffffffh
push    [ebp+arg_4]
push    ebx
call    sub_2780a186
push    8
push    ebx
call    sub_278092fb
cmp     eax, 1
jnz     short loc_2780918c
push    ebx
call    sub_2780a37f
push    1
pop     eax
jmp     short loc_27809135
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
mov     esi, offset amsvblibrebar
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_278091f6
mov     [ebp+wndclass.cbclsextra], eax
mov     [ebp+wndclass.hicon], eax
mov     [ebp+wndclass.hcursor], eax
mov     [ebp+wndclass.lpszmenuname], eax
lea     eax, [ebp+wndclass]
mov     [ebp+wndclass.lpfnwndproc], offset sub_2780a4bc
push    eax
mov     [ebp+wndclass.lpszclassname], esi
mov     [ebp+wndclass.style], 8
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.hbrbackground], 10h
call    ds:registerclassa
test    ax, ax
jnz     short loc_278091f6
xor     eax, eax
pop     edi
pop     esi
leave
retn    4
push    1
pop     eax
jmp     short loc_278091f0
mov     eax, [esp+arg_0]
mov     ecx, [eax+5ch]
mov     eax, [esp+arg_4]
cmp     eax, ecx
jbe     short locret_2780921a
cmp     dword ptr [eax+30h], 0
jnz     short loc_27809215
test    byte ptr [eax], 8
jz      short locret_2780921a
sub     eax, 60h
jmp     short loc_27809206
retn    8
mov     edx, [esp+arg_0]
mov     ecx, [esp+arg_4]
push    esi
mov     eax, [edx+28h]
mov     esi, [edx+5ch]
add     ecx, 60h
lea     eax, [eax+eax*2]
shl     eax, 5
lea     eax, [eax+esi-60h]
cmp     ecx, eax
ja      short loc_27809258
cmp     dword ptr [ecx+30h], 0
jnz     short loc_27809248
test    byte ptr [ecx], 8
jz      short loc_27809258
cmp     [esp+4+arg_8], 0
jz      short loc_27809226
mov     eax, [ecx]
and     eax, 0ah
cmp     al, 2
jz      short loc_27809226
lea     eax, [ecx-60h]
pop     esi
retn    0ch
mov     ecx, [esp+arg_0]
mov     eax, [esp+arg_4]
sub     eax, 60h
mov     ecx, [ecx+5ch]
cmp     eax, ecx
jb      short locret_2780927e
mov     edx, [eax]
test    [esp+arg_8], edx
jz      short locret_2780927e
sub     eax, 60h
jmp     short loc_2780926d
retn    0ch
mov     edx, [esp+arg_0]
mov     eax, [esp+arg_4]
add     eax, 60h
mov     ecx, [edx+28h]
mov     edx, [edx+5ch]
lea     ecx, [ecx+ecx*2]
shl     ecx, 5
lea     ecx, [ecx+edx-60h]
cmp     eax, ecx
ja      short locret_278092ad
mov     edx, [eax]
test    [esp+arg_8], edx
jz      short locret_278092ad
add     eax, 60h
jmp     short loc_2780929c
retn    0ch
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+arg_4]
push    esi
call    sub_27809403
mov     edx, [esi+5ch]
mov     ecx, eax
mov     eax, [esi+28h]
pop     esi
lea     eax, [eax+eax*2]
shl     eax, 5
lea     eax, [eax+edx-60h]
cmp     eax, ecx
sbb     eax, eax
not     eax
and     eax, ecx
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+arg_4]
push    esi
call    sub_278093f1
mov     ecx, eax
cmp     ecx, [esi+5ch]
pop     esi
sbb     eax, eax
not     eax
and     eax, ecx
retn    8
mov     ecx, [esp+arg_0]
xor     eax, eax
mov     edx, [ecx+5ch]
mov     ecx, [ecx+28h]
lea     ecx, [ecx+ecx*2]
shl     ecx, 5
lea     ecx, [ecx+edx-60h]
cmp     edx, ecx
ja      short locret_27809327
push    esi
mov     esi, [edx]
test    [esp+4+arg_4], esi
jnz     short loc_2780931f
inc     eax
add     edx, 60h
cmp     edx, ecx
jbe     short loc_27809316
pop     esi
retn    8
mov     ecx, [esp+arg_0]
mov     eax, [ecx+5ch]
mov     ecx, [ecx+28h]
lea     ecx, [ecx+ecx*2]
shl     ecx, 5
lea     ecx, [ecx+eax-60h]
cmp     eax, ecx
ja      short locret_2780935b
mov     edx, [eax]
test    [esp+arg_8], edx
jnz     short loc_27809356
mov     edx, [esp+arg_4]
dec     [esp+arg_4]
test    edx, edx
jz      short locret_2780935b
add     eax, 60h
jmp     short loc_2780933e
retn    0ch
push    esi
mov     esi, [esp+4+arg_4]
push    edi
xor     edi, edi
cmp     dword ptr [esi+30h], 0
jnz     short loc_27809371
test    byte ptr [esi], 8
jz      short loc_27809389
sub     esi, 60h
test    byte ptr [esi], 8
jnz     short loc_27809366
push    dword ptr [esi+44h]
push    [esp+0ch+arg_0]
call    sub_2780711e
add     edi, eax
jmp     short loc_27809366
mov     eax, edi
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
mov     eax, [ebx+28h]
mov     esi, [ebx+5ch]
mov     edi, [ebp+arg_4]
lea     eax, [eax+eax*2]
shl     eax, 5
add     esi, eax
and     [ebp+arg_0], 0
cmp     edi, esi
jnb     short loc_278093d8
test    byte ptr [edi], 8
jnz     short loc_278093ce
cmp     dword ptr [edi+30h], 0
jz      short loc_278093d8
cmp     edi, [ebp+arg_4]
jz      short loc_278093d3
push    dword ptr [edi+44h]
push    ebx
call    sub_2780711e
add     [ebp+arg_0], eax
add     edi, 60h
jmp     short loc_278093ae
mov     eax, [edi+44h]
jmp     short loc_278093cb
push    edi
push    ebx
call    sub_278093f1
mov     ecx, eax
pop     edi
pop     esi
pop     ebx
mov     eax, [ecx+30h]
add     eax, [ecx+38h]
sub     eax, [ebp+arg_0]
pop     ebp
retn    8
push    8
push    [esp+4+arg_4]
push    [esp+8+arg_0]
call    sub_2780925f
retn    8
push    8
push    [esp+4+arg_4]
push    [esp+8+arg_0]
call    sub_27809281
retn    8
mov     eax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
cmp     eax, [esi+28h]
jnb     short loc_2780947e
lea     eax, [eax+eax*2]
shl     eax, 5
add     eax, [esi+5ch]
mov     edx, [eax]
test    dl, 2
jnz     short loc_2780947e
mov     ecx, [eax+30h]
test    ecx, ecx
jnz     short loc_27809482
test    dl, 8
jnz     short loc_27809482
push    eax
push    esi
call    sub_27809403
mov     ecx, [esi+28h]
mov     edx, [esi+5ch]
lea     ecx, [ecx+ecx*2]
shl     ecx, 5
lea     ecx, [ecx+edx-60h]
cmp     eax, ecx
ja      short loc_2780947e
cmp     dword ptr [eax+30h], 0
jnz     short loc_27809465
test    byte ptr [eax], 8
jz      short loc_2780947e
push    [esp+4+arg_8]
sub     eax, edx
cdq
push    0
push    60h
pop     ecx
idiv    ecx
push    eax
push    esi
call    sub_278094aa
pop     esi
retn    0ch
xor     eax, eax
jmp     short loc_2780947a
cmp     [esp+4+arg_8], 0
mov     edx, [eax+38h]
jz      short loc_2780949b
sub     edx, [eax+44h]
add     edx, ecx
push    edx
push    eax
push    esi
call    sub_278097fe
jmp     short loc_2780947a
sub     edx, [eax+44h]
add     edx, ecx
push    edx
push    eax
push    esi
call    sub_2780969b
jmp     short loc_2780947a
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_4]
and     [ebp+var_4], 0
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
cmp     eax, [ebx+28h]
jnb     short loc_278094d0
mov     esi, [ebx+5ch]
lea     eax, [eax+eax*2]
shl     eax, 5
add     esi, eax
test    byte ptr [esi], 2
jz      short loc_278094d9
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     edi, [esi+48h]
add     edi, [esi+44h]
sub     edi, [esi+38h]
sub     edi, [esi+1ch]
cmp     [ebp+arg_8], 0
jz      loc_2780957c
test    edi, edi
jle     loc_2780957c
push    esi
push    ebx
call    sub_278092b0
test    eax, eax
mov     [ebp+arg_4], eax
jz      short loc_27809542
cmp     dword ptr [eax+30h], 0
jnz     short loc_27809510
test    byte ptr [eax], 8
jz      short loc_27809542
push    eax
push    ebx
call    sub_27809390
mov     edx, [ebp+arg_4]
mov     ecx, [edx+30h]
sub     eax, ecx
cmp     eax, edi
mov     [ebp+arg_4], eax
jle     short loc_27809529
mov     [ebp+arg_4], edi
mov     eax, [ebp+arg_4]
add     eax, ecx
cmp     [ebp+arg_c], 0
push    eax
push    edx
push    ebx
jz      short loc_27809575
call    sub_278097fe
sub     edi, [ebp+arg_4]
mov     [ebp+var_4], eax
test    edi, edi
jz      short loc_2780956d
push    esi
push    ebx
call    sub_2780935e
mov     edx, [esi+30h]
mov     ecx, edx
sub     ecx, eax
cmp     ecx, edi
jle     short loc_2780955c
sub     edx, edi
mov     eax, edx
cmp     [ebp+arg_c], 0
push    eax
push    esi
push    ebx
jz      short loc_278095c9
call    sub_278097fe
or      [ebp+var_4], eax
mov     eax, [ebp+var_4]
jmp     loc_278094d2
call    sub_2780969b
jmp     short loc_2780953c
push    esi
push    ebx
call    sub_2780935e
xor     edi, edi
push    eax
cmp     [ebp+arg_c], edi
push    esi
push    ebx
jz      short loc_278095c2
call    sub_278097fe
push    esi
push    ebx
mov     [ebp+var_4], eax
call    sub_278092b0
mov     esi, eax
cmp     esi, edi
jz      short loc_2780956d
cmp     [esi+30h], edi
jnz     short loc_278095ac
test    byte ptr [esi], 8
jz      short loc_2780956d
push    esi
push    ebx
call    sub_27809390
cmp     [ebp+arg_c], edi
push    eax
push    esi
push    ebx
jz      short loc_278095c9
call    sub_278097fe
jmp     short loc_2780956a
call    sub_2780969b
jmp     short loc_27809592
call    sub_2780969b
jmp     short loc_2780956a
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+arg_4]
push    1
push    dword ptr [esi+4ch]
push    esi
call    sub_278094aa
test    eax, eax
jnz     short loc_278095f9
push    [esp+4+arg_4]
push    dword ptr [esi+4ch]
push    esi
call    sub_27809415
test    eax, eax
jz      short loc_27809603
push    offset ashowband
call    sub_27811796
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_c], eax
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_2780846e
cmp     [ebp+var_8], 4
jnz     short loc_2780966d
cmp     [ebp+arg_c], 0
mov     eax, [esi+8]
jz      short loc_2780965b
and     al, 80h
neg     al
sbb     eax, eax
and     eax, 1ch
add     eax, 6bh
push    eax
push    dword_27828334
call    ds:loadcursora
push    eax
call    ds:setcursor
pop     esi
leave
retn    10h
and     eax, 80h
or      eax, 3fc200h
shr     eax, 7
push    eax
push    0
jmp     short loc_27809649
cmp     [ebp+arg_c], 0
jz      short loc_27809694
cmp     [ebp+var_8], 2
jnz     short loc_27809694
lea     eax, [eax+eax*2]
shl     eax, 5
add     eax, [esi+5ch]
push    eax
push    esi
call    sub_278073fd
test    eax, eax
jz      short loc_27809694
push    7f86h
jmp     short loc_27809669
push    7f00h
jmp     short loc_27809669
push    ebp
mov     ebp, esp
sub     esp, 14h
mov     ecx, [ebp+arg_0]
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
mov     eax, [ecx+8]
mov     esi, [ebp+arg_4]
and     eax, 400h
cmp     [esi+30h], ebx
mov     [ebp+var_4], eax
jnz     short loc_278096c4
xor     eax, eax
pop     esi
pop     ebx
leave
retn    0ch
push    edi
push    esi
push    ecx
call    sub_278093f1
mov     edi, eax
mov     eax, [esi+30h]
mov     edx, [esi+3ch]
xor     ecx, ecx
cmp     eax, ebx
setl    cl
mov     [ebp+arg_4], ecx
mov     ecx, [esi+34h]
add     edx, ecx
push    edx
mov     edx, eax
add     edx, [esi+44h]
push    edx
push    ecx
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:setrect
mov     eax, [esi+38h]
add     eax, [esi+30h]
mov     [esi+30h], ebx
sub     eax, ebx
cmp     [ebp+arg_4], 0
mov     [esi+38h], eax
mov     [esi+40h], eax
jz      loc_278097bf
mov     eax, ebx
sub     eax, [edi+30h]
cmp     [ebp+var_4], 0
mov     [edi+38h], eax
jz      short loc_27809730
sub     eax, dword_2782a06c
mov     [edi+38h], eax
mov     eax, dword_2782a06c
sub     [ebp+rc.left], eax
mov     eax, [edi+38h]
mov     [edi+40h], eax
mov     eax, [esi+38h]
cmp     eax, [esi+44h]
mov     eax, [esi+44h]
jge     short loc_27809770
push    eax
mov     [esi+38h], eax
push    [ebp+arg_0]
mov     [esi+40h], eax
call    sub_2780711e
push    esi
add     ebx, eax
push    [ebp+arg_0]
call    sub_27809403
mov     esi, eax
mov     eax, [esi+38h]
add     eax, [esi+30h]
mov     [esi+30h], ebx
sub     eax, ebx
mov     [esi+38h], eax
mov     [esi+40h], eax
jmp     short loc_27809736
add     eax, ebx
mov     [ebp+rc.right], eax
cmp     [ebp+var_4], 0
jz      short loc_27809788
mov     eax, dy
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+rc.bottom], eax
mov     esi, [ebp+arg_0]
push    esi
call    sub_278075b4
test    byte ptr [esi+8], 80h
jz      short loc_278097a0
lea     eax, [ebp+rc]
push    eax
call    sub_278119ad
lea     eax, [ebp+rc]
push    eax
push    esi
call    sub_278071f6
test    eax, eax
jz      short loc_278097b6
push    dword ptr [esi]
call    ds:updatewindow
push    1
pop     eax
pop     edi
jmp     loc_278096be
cmp     [ebp+var_4], 0
jz      short loc_278097cb
sub     ebx, dword_2782a06c
mov     eax, ebx
sub     eax, [edi+30h]
cmp     eax, [edi+44h]
mov     [edi+38h], eax
mov     [edi+40h], eax
jge     short loc_278097f6
mov     eax, [edi+44h]
push    edi
push    [ebp+arg_0]
sub     ebx, eax
mov     [edi+30h], ebx
mov     [edi+38h], eax
mov     [edi+40h], eax
call    sub_278093f1
mov     edi, eax
jmp     short loc_278097bf
mov     [ebp+rc.left], ebx
jmp     loc_27809775
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_4]
and     [ebp+var_4], 0
push    esi
mov     esi, [eax+30h]
cmp     esi, [ebp+arg_8]
jnz     short loc_2780981a
xor     eax, eax
pop     esi
leave
retn    0ch
push    edi
mov     edi, ds:gettickcount
push    ebx
call    edi
mov     ecx, eax
mov     eax, [ebp+arg_8]
sub     eax, esi
push    0ah
cdq
pop     ebx
idiv    ebx
mov     ebx, eax
test    ebx, ebx
jz      short loc_2780988d
cmp     esi, [ebp+arg_8]
mov     eax, [ebp+arg_8]
jge     short loc_278098a5
sub     eax, ebx
cmp     esi, eax
jge     short loc_2780988d
add     ecx, 1f4h
mov     [ebp+var_8], ecx
push    esi
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_2780969b
call    edi
cmp     eax, [ebp+var_8]
ja      short loc_2780988d
push    5
call    ds:sleep
cmp     [ebp+var_4], 8
jl      short loc_2780987f
cmp     ebx, 4
jl      short loc_2780987f
lea     eax, [ebx+ebx]
push    3
cdq
pop     ecx
idiv    ecx
mov     ebx, eax
mov     eax, [ebp+arg_8]
inc     [ebp+var_4]
add     esi, ebx
sub     eax, ebx
cmp     esi, eax
jl      short loc_2780984e
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_2780969b
push    1
pop     eax
pop     ebx
pop     edi
jmp     loc_27809815
sub     eax, ebx
cmp     esi, eax
jle     short loc_2780988d
add     ecx, 1f4h
mov     [ebp+var_8], ecx
push    esi
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_2780969b
call    edi
cmp     eax, [ebp+var_8]
ja      short loc_2780988d
push    5
call    ds:sleep
cmp     [ebp+var_4], 8
jl      short loc_278098e5
cmp     ebx, 0fffffffch
jg      short loc_278098e5
lea     eax, [ebx+ebx]
push    3
cdq
pop     ecx
idiv    ecx
mov     ebx, eax
mov     eax, [ebp+arg_8]
inc     [ebp+var_4]
add     esi, ebx
sub     eax, ebx
cmp     esi, eax
jle     short loc_2780988d
jmp     short loc_278098b4
mov     ecx, [esp+arg_0]
push    [esp+arg_4]
mov     eax, [ecx+4ch]
mov     edx, [ecx+5ch]
lea     eax, [eax+eax*2]
shl     eax, 5
add     edx, eax
push    edx
push    ecx
call    sub_2780969b
retn    8
mov     eax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
or      dword ptr [esi+7ch], 0ffffffffh
or      dword ptr [esi+80h], 0ffffffffh
cmp     eax, 0ffffffffh
mov     [esi+4ch], eax
jnz     short loc_27809951
and     dword ptr [esi+1ch], 0ffffffefh
and     dword ptr [esi+60h], 0fffffffeh
test    byte ptr [esi+9], 20h
jz      short loc_2780994d
push    0
push    esi
call    sub_2780a072
push    esi
call    sub_2780a1c8
pop     esi
retn    8
or      dword ptr [esi+1ch], 10h
or      dword ptr [esi+60h], 1
jmp     short loc_2780994d
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
cmp     eax, [ebp+arg_4]
jg      short loc_27809969
mov     eax, [ebp+arg_4]
cmp     eax, [ebp+arg_8]
jl      short loc_27809971
mov     eax, [ebp+arg_8]
pop     ebp
retn    0ch
mov     ecx, [esp+arg_4]
mov     eax, [ecx]
test    al, 1
jz      short locret_2780998e
and     al, 0feh
mov     [ecx], eax
mov     eax, [esp+arg_8]
test    eax, eax
jz      short locret_2780998e
or      dword ptr [eax], 1
retn    0ch
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+lprect]
push    dword ptr [esi]
call    ds:getclientrect
test    byte ptr [esi+8], 80h
jz      short loc_278099b1
push    [esp+4+lprect]
call    sub_278119ad
pop     esi
retn    8
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebx+20h]
mov     eax, [esi+5ch]
test    byte ptr [esi+9], 4
mov     [ebp+arg_4], eax
jz      short loc_278099db
add     edi, dy
test    eax, eax
jz      short loc_27809a18
test    byte ptr [eax], 8
jnz     short loc_27809a02
cmp     dword ptr [eax+30h], 0
jnz     short loc_27809a02
lea     eax, [ebp+arg_4]
push    ebx
push    eax
push    esi
call    sub_27809fc8
add     [ebp+var_4], eax
cmp     [ebp+var_4], edi
jge     short loc_27809a0e
mov     eax, [ebp+arg_4]
jmp     short loc_278099db
push    eax
push    esi
call    sub_278092b0
mov     [ebp+arg_4], eax
jmp     short loc_278099db
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
xor     eax, eax
jmp     short loc_27809a11
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
lea     eax, [ebp+rc]
xor     esi, esi
push    eax
push    edi
mov     [ebp+var_4], esi
call    sub_27809991
mov     eax, dy
neg     eax
push    eax
lea     eax, [ebp+rc]
push    esi
push    eax
call    ds:inflaterect
test    byte ptr [edi+9], 8
jnz     loc_27809b73
mov     eax, dy
mov     esi, [ebp+arg_4]
mov     ebx, eax
push    esi
push    edi
shl     ebx, 2
call    sub_278099b5
test    eax, eax
jz      short loc_27809a74
mov     ebx, dy
neg     ebx
mov     eax, [ebp+rc.top]
sub     eax, ebx
cmp     [ebp+arg_8], eax
jge     short loc_27809ac4
push    8
push    0
push    edi
call    sub_2780932a
mov     ebx, eax
cmp     ebx, esi
jnz     short loc_27809a97
push    esi
push    edi
call    sub_278092b0
mov     ebx, eax
mov     eax, esi
push    0
sub     eax, [edi+5ch]
push    60h
pop     ecx
cdq
idiv    ecx
push    eax
push    edi
call    sub_2780774a
test    ebx, ebx
mov     [ebp+var_4], eax
jz      short loc_27809af8
mov     eax, [ebx]
push    1
pop     ecx
test    cl, al
jnz     short loc_27809af8
or      eax, ecx
mov     [ebx], eax
mov     [ebp+var_4], ecx
jmp     short loc_27809af8
mov     eax, [ebp+rc.bottom]
add     ebx, eax
cmp     [ebp+arg_8], ebx
jl      short loc_27809b10
mov     eax, [esi]
push    1
pop     ecx
test    cl, al
jnz     short loc_27809ade
or      eax, ecx
mov     [ebp+var_4], ecx
mov     [esi], eax
mov     eax, [edi+28h]
dec     eax
push    eax
mov     eax, esi
sub     eax, [edi+5ch]
push    60h
pop     ecx
cdq
idiv    ecx
push    eax
push    edi
call    sub_2780774a
or      [ebp+var_4], eax
cmp     [ebp+var_4], 0
jz      short loc_27809b06
push    0
push    edi
call    sub_27807c23
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     dword ptr [esi+30h], 0
jnz     short loc_27809b1b
test    byte ptr [esi], 8
jz      short loc_27809af8
push    11h
call    ds:getasynckeystate
test    ax, ax
jge     short loc_27809af8
mov     eax, [esi+3ch]
mov     ecx, [esi+34h]
add     eax, ecx
cmp     [ebp+arg_8], eax
jle     short loc_27809af8
mov     ecx, dy
add     ecx, eax
cmp     [ebp+arg_8], ecx
jge     short loc_27809af8
push    0
push    esi
push    edi
call    sub_2780921d
or      dword ptr [esi], 1
mov     ecx, [edi+5ch]
sub     eax, ecx
push    60h
cdq
pop     ebx
idiv    ebx
push    eax
mov     eax, esi
sub     eax, ecx
push    ebx
cdq
pop     ecx
idiv    ecx
push    eax
push    edi
call    sub_2780774a
mov     [ebp+var_4], 1
jmp     short loc_27809af8
mov     eax, [ebp+arg_4]
cmp     [eax+30h], esi
jnz     short loc_27809b84
test    byte ptr [eax], 8
jz      loc_27809af8
mov     ecx, [eax+3ch]
add     ecx, [eax+34h]
cmp     [ebp+arg_8], ecx
jle     loc_27809af8
push    1
pop     ecx
or      [eax], ecx
jmp     loc_27809abf
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
mov     eax, [ebp+arg_4]
push    edi
mov     edx, [esi+4ch]
lea     edi, [edx+edx*2]
shl     edi, 5
add     edi, [esi+5ch]
cmp     eax, [esi+7ch]
jnz     short loc_27809bca
mov     ecx, [ebp+arg_8]
cmp     ecx, [esi+80h]
jz      loc_27809d0b
mov     ecx, [ebp+arg_8]
mov     [esi+7ch], eax
test    byte ptr [esi+8], 80h
mov     [esi+80h], ecx
jz      short loc_27809be2
mov     [ebp+arg_4], ecx
mov     [ebp+arg_8], eax
test    byte ptr [esi+60h], 1
jnz     short loc_27809c34
mov     ecx, [esi+54h]
mov     eax, dy
mov     ebx, ecx
sub     ebx, eax
cmp     [ebp+arg_8], ebx
jl      short loc_27809c1c
add     eax, ecx
cmp     [ebp+arg_8], eax
jg      short loc_27809c1c
mov     ecx, [esi+50h]
mov     eax, dword_2782a06c
mov     ebx, ecx
sub     ebx, eax
cmp     [ebp+arg_4], ebx
jl      short loc_27809c1c
add     eax, ecx
cmp     [ebp+arg_4], eax
jle     loc_27809d0b
push    0fffffcbdh
push    edx
push    esi
call    sub_278071a0
test    eax, eax
jnz     loc_27809d0b
or      dword ptr [esi+60h], 1
push    edi
push    esi
call    sub_278072a7
test    eax, eax
jz      loc_27809d0b
push    [ebp+arg_8]
push    [ebp+arg_4]
push    0
push    esi
call    sub_27808376
mov     ebx, eax
cmp     ebx, 0ffffffffh
jz      loc_27809d54
and     [ebp+arg_0], 0
push    edi
push    esi
call    sub_278092dd
mov     [ebp+var_4], eax
lea     eax, [ebx+1]
push    2
lea     eax, [eax+eax*2]
shl     eax, 5
add     eax, [esi+5ch]
push    eax
push    esi
call    sub_2780925f
mov     edx, [esi+5ch]
mov     ecx, eax
cmp     ecx, edx
jb      loc_27809d0b
sub     eax, edx
push    60h
cdq
pop     ebx
idiv    ebx
mov     ebx, eax
mov     eax, [ecx+34h]
cmp     eax, [edi+34h]
jnz     short loc_27809d12
cmp     ecx, edi
jz      short loc_27809ca7
cmp     ecx, [ebp+var_4]
jnz     short loc_27809d12
cmp     [ebp+arg_4], 5
jge     short loc_27809ccc
push    edi
push    ecx
push    esi
call    sub_27809975
push    ebx
push    dword ptr [esi+4ch]
push    esi
call    sub_2780774a
test    eax, eax
jz      short loc_27809cfd
mov     [ebp+arg_0], 1
jmp     short loc_27809cfd
cmp     dword ptr [edi+30h], 0
jnz     short loc_27809cd7
test    byte ptr [edi], 8
jz      short loc_27809cfd
mov     ebx, [esi+58h]
push    edi
sub     ebx, [esi+50h]
push    esi
add     ebx, [ebp+arg_4]
call    sub_27809390
push    eax
push    edi
push    esi
call    sub_2780935e
push    eax
push    ebx
call    sub_2780995b
push    eax
push    esi
call    sub_278098f5
cmp     [ebp+arg_0], 0
jz      short loc_27809d0b
push    0
push    esi
call    sub_27807c23
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    [ebp+arg_8]
push    edi
push    esi
call    sub_27809a1c
test    eax, eax
jnz     short loc_27809cfd
test    byte ptr [esi+9], 8
jnz     short loc_27809cfd
mov     eax, edi
push    60h
sub     eax, [esi+5ch]
pop     ecx
cdq
idiv    ecx
cmp     ebx, eax
jge     short loc_27809d36
inc     ebx
push    edi
push    esi
call    sub_278092b0
push    eax
push    edi
push    esi
call    sub_27809975
push    ebx
push    dword ptr [esi+4ch]
push    esi
call    sub_2780774a
jmp     loc_27809cc3
push    [ebp+arg_8]
push    edi
push    esi
call    sub_27809a1c
jmp     short loc_27809d0b
push    ebx
mov     ebx, [esp+4+arg_4]
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     edi, [esi+18h]
cmp     ebx, edi
jz      short loc_27809d9a
test    byte ptr [esi+1ch], 80h
jnz     short loc_27809d87
test    edi, edi
jz      short loc_27809d87
push    edi
call    ds:deleteobject
and     dword ptr [esi+18h], 0
test    ebx, ebx
jz      short loc_27809d92
or      byte ptr [esi+1ch], 80h
mov     [esi+18h], ebx
push    0
push    esi
call    sub_278071f6
mov     eax, edi
pop     edi
pop     esi
pop     ebx
retn    8
push    ebx
push    esi
mov     esi, [esp+8+hmem]
xor     ebx, ebx
push    edi
push    ebx
mov     edi, [esi+28h]
push    esi
call    sub_27807c85
mov     eax, edi
dec     edi
test    eax, eax
jz      short loc_27809dc5
push    edi
push    esi
call    sub_27808f41
jmp     short loc_27809db5
and     byte ptr [esi+9], 0dfh
push    ebx
push    esi
call    sub_27809d60
mov     eax, [esi+40h]
mov     edi, 100h
cmp     eax, ebx
jz      short loc_27809de8
test    [esi+1ch], edi
jz      short loc_27809de8
push    eax
call    ds:deleteobject
test    [esi+8], edi
jz      short loc_27809e06
push    dword ptr [esi+24h]
call    ds:iswindow
test    eax, eax
jz      short loc_27809e06
push    dword ptr [esi+24h]
call    ds:destroywindow
mov     [esi+24h], ebx
push    ebx
push    ebx
push    dword ptr [esi]
call    ds:setwindowlonga
mov     eax, [esi+20h]
cmp     eax, ebx
jz      short loc_27809e1d
push    eax
call    sub_27812b8a
push    esi
call    ds:localfree
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    4
push    esi
mov     esi, [esp+4+arg_0]
push    edi
test    byte ptr [esi+1ch], 80h
jnz     short loc_27809e74
push    0
call    ds:createcompatibledc
mov     edi, eax
test    edi, edi
jz      short loc_27809e74
push    0ch
push    edi
call    ds:getdevicecaps
cmp     eax, 8
jg      short loc_27809e6d
mov     eax, [esi+18h]
test    eax, eax
jz      short loc_27809e63
push    eax
call    ds:deleteobject
push    edi
call    ds:createhalftonepalette
mov     [esi+18h], eax
push    edi
call    ds:deletedc
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 50h
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     [esi+28h], edi
mov     [ebp+var_50], 50h
mov     [ebp+var_4c], 100h
jbe     short loc_27809eb7
lea     eax, [ebp+var_50]
push    eax
push    edi
push    esi
call    sub_278087f0
test    eax, eax
jz      short loc_27809eb1
movzx   eax, [ebp+arg_4]
cmp     [ebp+var_1c], eax
jz      short loc_27809ec0
inc     edi
cmp     edi, [esi+28h]
jb      short loc_27809e99
or      eax, 0ffffffffh
pop     edi
pop     esi
leave
retn    8
mov     eax, edi
jmp     short loc_27809eba
mov     eax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
cmp     eax, [esi+28h]
jnb     short loc_27809f18
push    edi
lea     edi, [eax+eax*2]
mov     eax, [esi+5ch]
push    ebx
shl     edi, 5
add     eax, edi
push    eax
push    esi
call    sub_278091fb
mov     ebx, eax
mov     eax, [esi+5ch]
add     eax, edi
push    0
push    eax
push    esi
call    sub_2780921d
mov     ecx, [esi+5ch]
push    60h
sub     eax, ecx
pop     edi
cdq
idiv    edi
push    eax
mov     eax, ebx
sub     eax, ecx
push    edi
cdq
pop     ecx
idiv    ecx
push    eax
push    esi
call    sub_2780755c
pop     ebx
pop     edi
pop     esi
retn    8
or      eax, 0ffffffffh
jmp     short loc_27809f14
push    ebx
push    esi
mov     esi, [esp+8+arg_8]
push    edi
test    esi, esi
mov     ecx, esi
jge     short loc_27809f2c
neg     ecx
mov     eax, esi
xor     edi, edi
cdq
idiv    ecx
mov     ecx, [esp+0ch+arg_4]
mov     ebx, [ecx+54h]
test    ebx, ebx
jz      short loc_27809f73
test    esi, esi
mov     edx, esi
jge     short loc_27809f46
neg     edx
cmp     ebx, edx
ja      short loc_27809f73
cmp     [esp+0ch+arg_c], 0
jz      short loc_27809f7b
imul    eax, ebx
mov     edi, eax
mov     eax, edi
add     eax, [ecx+58h]
cmp     [ecx+20h], eax
jg      short loc_27809fa3
cmp     eax, [ecx+50h]
ja      short loc_27809fa3
push    1
mov     [ecx+58h], eax
push    [esp+10h+arg_0]
call    sub_27807c23
mov     eax, edi
pop     edi
pop     esi
pop     ebx
retn    10h
test    esi, esi
jl      short loc_27809f8d
mov     eax, [ecx+50h]
sub     eax, [ecx+58h]
cmp     eax, esi
jge     short loc_27809f97
mov     esi, eax
jmp     short loc_27809f97
mov     eax, [ecx+20h]
sub     eax, [ecx+58h]
cmp     eax, esi
jg      short loc_27809f89
mov     eax, esi
cdq
idiv    ebx
mov     edi, eax
imul    edi, ebx
jmp     short loc_27809f56
xor     edi, edi
jmp     short loc_27809f73
mov     edx, [esp+arg_0]
mov     ecx, [esp+arg_4]
test    byte ptr [edx+8], 80h
jz      short loc_27809fc0
mov     eax, [ecx+8]
sub     eax, [ecx]
sub     eax, [edx+48h]
retn    8
mov     eax, [ecx+0ch]
sub     eax, [ecx+4]
jmp     short loc_27809fba
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_4]
and     [ebp+var_4], 0
mov     eax, [eax]
test    eax, eax
jz      short loc_2780a01b
push    edi
push    esi
push    ebx
cmp     eax, [ebp+arg_8]
jz      short loc_2780a00b
mov     ecx, [eax+58h]
xor     edi, edi
test    byte ptr [eax], 40h
mov     esi, ecx
jz      short loc_27809fff
mov     edx, [eax+20h]
mov     ebx, [eax+54h]
add     ebx, edx
cmp     ecx, ebx
jbe     short loc_27809fff
sub     ecx, edx
mov     esi, edx
mov     edi, ecx
test    esi, esi
jnz     short loc_2780a006
cmp     edi, [ebp+var_4]
jle     short loc_2780a00b
mov     [ebp+var_4], edi
push    eax
push    [ebp+arg_0]
call    sub_278092b0
test    eax, eax
jnz     short loc_27809fdc
pop     ebx
pop     esi
pop     edi
mov     ecx, [ebp+arg_4]
mov     [ecx], eax
mov     eax, [ebp+var_4]
leave
retn    0ch
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, [ebp+arg_0]
push    1
pop     esi
mov     eax, [edi+5ch]
mov     [ebp+arg_0], eax
test    eax, eax
jz      short loc_2780a06a
test    byte ptr [eax], 8
jnz     short loc_2780a061
cmp     dword ptr [eax+30h], 0
jnz     short loc_2780a061
lea     eax, [ebp+arg_0]
push    0
push    eax
push    edi
call    sub_27809fc8
mov     esi, eax
neg     esi
sbb     esi, esi
inc     esi
jz      short loc_2780a06a
mov     eax, [ebp+arg_0]
jmp     short loc_2780a038
push    eax
push    edi
call    sub_278092b0
jmp     short loc_2780a035
mov     eax, esi
pop     edi
pop     esi
pop     ebp
retn    4
push    ebp
mov     ebp, esp
sub     esp, 1ch
and     [ebp+var_4], 0
and     [ebp+var_8], 0
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_4]
test    esi, esi
push    edi
jz      loc_2780a154
lea     edi, [ebp+rect]
movsd
movsd
movsd
movsd
push    0
push    ebx
call    sub_27807c85
mov     [ebp+var_c], eax
mov     edi, [ebx+28h]
and     [ebp+arg_4], 0
push    1
pop     esi
push    ebx
mov     [ebp+arg_0], esi
call    sub_27807537
cmp     eax, esi
jnz     short loc_2780a0be
and     [ebp+arg_0], 0
lea     eax, [ebp+rect]
push    eax
push    ebx
call    sub_27809fa7
cmp     [ebp+var_4], 0
mov     esi, eax
jnz     loc_2780a165
mov     [ebp+var_4], esi
mov     eax, edi
dec     edi
test    eax, eax
jz      short loc_2780a11f
test    esi, esi
jz      short loc_2780a149
mov     eax, [ebx+6ch]
mov     ecx, [ebx+5ch]
lea     edx, [eax+eax*2]
shl     edx, 5
add     ecx, edx
test    eax, eax
jnz     short loc_2780a0f7
mov     eax, [ebx+28h]
dec     eax
mov     [ebx+6ch], eax
mov     eax, [ecx]
test    al, 8
jnz     short loc_2780a0d7
test    al, 40h
jz      short loc_2780a0d7
push    [ebp+arg_0]
push    esi
push    ecx
push    ebx
call    sub_27809f1d
sub     esi, eax
test    eax, eax
jz      short loc_2780a0d7
push    1
pop     eax
mov     [ebp+var_8], eax
mov     [ebp+arg_4], eax
test    esi, esi
jge     short loc_2780a149
cmp     [ebp+arg_4], 0
jnz     loc_2780a0a3
push    ebx
call    sub_2780a027
test    eax, eax
jnz     short loc_2780a149
mov     eax, [ebp+rect.bottom]
cmp     eax, [ebp+rect.top]
jle     short loc_2780a149
dec     [ebp+rect.bottom]
mov     [ebp+arg_4], 1
cmp     [ebp+arg_4], 0
jz      short loc_2780a173
jmp     loc_2780a0a3
lea     eax, [ebp+rect]
push    eax
push    dword ptr [ebx]
call    ds:getclientrect
jmp     loc_2780a098
mov     eax, [ebp+var_4]
imul    eax, esi
test    eax, eax
jge     loc_2780a0d7
push    [ebp+var_c]
push    ebx
call    sub_27807c85
mov     eax, [ebp+var_8]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ecx, [esp+arg_4]
push    esi
push    edi
mov     edi, [esp+8+arg_0]
lea     eax, [ecx+ecx*2]
mov     esi, [edi+5ch]
shl     eax, 5
add     esi, eax
test    byte ptr [esi], 40h
jz      short loc_2780a1c3
mov     eax, [esp+8+arg_8]
cmp     eax, 0ffffffffh
jnz     short loc_2780a1b0
push    ecx
push    edi
call    sub_27809ec4
mov     ecx, [esi+58h]
cmp     eax, ecx
jbe     short loc_2780a1c3
sub     eax, ecx
push    0
push    eax
push    esi
push    edi
call    sub_27809f1d
pop     edi
pop     esi
retn    0ch
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+arg_0]
push    edi
xor     ebp, ebp
or      ebx, 0ffffffffh
xor     edi, edi
cmp     [esi+28h], ebp
jbe     short loc_2780a206
mov     eax, [esi+5ch]
add     eax, ebp
test    byte ptr [eax], 8
jnz     short loc_2780a1fd
cmp     dword ptr [eax+30h], 0
jnz     short loc_2780a1f5
push    edi
push    esi
call    sub_27809ec4
mov     ebx, eax
push    ebx
push    edi
push    esi
call    sub_2780a186
inc     edi
add     ebp, 60h
cmp     edi, [esi+28h]
jb      short loc_2780a1dc
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 6ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
push    edi
push    esi
mov     [ebp+var_4], edi
call    sub_27807c85
cmp     [ebp+arg_4], edi
mov     [ebp+var_c], eax
jnz     short loc_2780a23f
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
lea     eax, [ebp+rect]
mov     [ebp+arg_4], eax
mov     ebx, [esi+28h]
cmp     ebx, edi
jz      loc_2780a2fb
push    [ebp+arg_4]
mov     [ebp+var_8], 1
push    esi
call    sub_27809fa7
cmp     eax, edi
jge     short loc_2780a261
mov     [ebp+var_8], edi
cmp     [ebp+var_8], edi
jnz     loc_2780a314
push    [ebp+arg_4]
push    esi
call    sub_2780a072
push    esi
mov     [ebp+var_4], eax
call    sub_2780a027
test    eax, eax
jz      short loc_2780a2fb
mov     eax, [esi+28h]
dec     eax
push    eax
push    esi
call    sub_27809ec4
push    [ebp+arg_4]
and     [ebp+arg_0], 0
cdq
sub     eax, edx
push    esi
mov     edi, eax
mov     [ebp+var_6c], 50h
sar     edi, 1
mov     [ebp+var_68], 1
call    sub_27809fa7
mov     ecx, edi
neg     ecx
cmp     eax, ecx
jge     loc_2780a34d
dec     ebx
jz      short loc_2780a2d9
lea     eax, [ebx+ebx*2]
shl     eax, 5
add     eax, [esi+5ch]
mov     ecx, [eax]
test    cl, 8
jnz     short loc_2780a2d1
test    cl, 1
jnz     short loc_2780a32f
dec     ebx
sub     eax, 60h
test    ebx, ebx
jnz     short loc_2780a2c5
cmp     [ebp+arg_0], 0
jnz     short loc_2780a280
mov     eax, ebx
xor     edx, edx
div     dword ptr [esi+28h]
test    edx, edx
jnz     short loc_2780a2fb
cmp     [ebp+var_8], edx
jz      short loc_2780a2fb
push    [ebp+arg_4]
push    esi
call    sub_2780a072
or      [ebp+var_4], eax
push    esi
call    sub_2780a1c8
push    [ebp+var_c]
push    esi
call    sub_27807c85
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    byte ptr [esi+8], 80h
jz      loc_2780a280
push    [ebp+arg_4]
push    esi
call    sub_2780a072
mov     [ebp+var_4], eax
jmp     loc_2780a280
mov     eax, [eax]
push    1
pop     ecx
and     al, 0feh
mov     [ebp+var_4], ecx
mov     [ebp+arg_0], ecx
mov     [ebp+var_64], eax
lea     eax, [ebp+var_6c]
push    ecx
push    eax
push    ebx
push    esi
call    sub_278089a7
jmp     short loc_2780a2d9
cmp     eax, edi
jle     short loc_2780a2d9
dec     ebx
jz      short loc_2780a2d9
lea     eax, [ebx+ebx*2]
shl     eax, 5
add     eax, [esi+5ch]
test    byte ptr [eax], 0bh
jz      short loc_2780a370
dec     ebx
sub     eax, 60h
test    ebx, ebx
jz      loc_2780a2d9
jmp     short loc_2780a35d
mov     eax, [eax]
push    1
pop     ecx
mov     [ebp+var_4], ecx
mov     [ebp+arg_0], ecx
or      eax, ecx
jmp     short loc_2780a33c
push    ebp
mov     ebp, esp
sub     esp, 30h
push    esi
mov     esi, [ebp+arg_0]
test    byte ptr [esi+9], 20h
jz      short loc_2780a3c3
lea     eax, [ebp+rect]
push    edi
mov     edi, ds:getclientrect
push    eax
push    dword ptr [esi]
call    edi
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_2780a20d
mov     [ebp+var_24], eax
lea     eax, [ebp+var_10]
push    eax
push    dword ptr [esi]
call    edi
lea     eax, [ebp+lparam]
push    eax
push    0fffffcbeh
push    esi
call    sub_277b9838
pop     edi
pop     esi
leave
retn    4
mov     eax, [esp+arg_4]
push    esi
push    edi
mov     edi, [esp+8+arg_0]
lea     ecx, [eax+eax*2]
mov     esi, [esp+8+arg_8]
mov     eax, [edi+5ch]
mov     edx, [edi+8]
shl     ecx, 5
add     eax, ecx
and     edx, 400h
mov     ecx, [eax+44h]
sub     ecx, [eax+1ch]
test    edx, edx
mov     [esi], ecx
jz      short loc_2780a41e
mov     eax, dword_2782a06c
and     dword ptr [esi+8], 0
lea     eax, [ecx+eax*2]
mov     [esi], eax
mov     eax, dy
cdq
sub     eax, edx
sar     eax, 1
mov     [esi+4], eax
mov     eax, dy
cdq
sub     eax, edx
sar     eax, 1
mov     [esi+0ch], eax
test    byte ptr [edi+8], 80h
jz      short loc_2780a42a
push    esi
call    sub_278119ad
pop     edi
xor     eax, eax
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
cmp     [ebp+arg_4], 0fffffff0h
push    ebx
push    esi
push    edi
jnz     short loc_2780a4ab
mov     eax, [ebp+arg_8]
mov     esi, [ebp+arg_0]
mov     ecx, [eax+4]
mov     [esi+8], ecx
mov     ebx, [eax]
xor     ebx, [eax+4]
test    bl, 80h
jz      short loc_2780a48c
xor     edi, edi
cmp     [esi+28h], edi
mov     [ebp+arg_4], edi
jbe     short loc_2780a47c
mov     eax, [esi+5ch]
add     eax, edi
test    byte ptr [eax], 8
jnz     short loc_2780a46e
push    eax
push    esi
call    sub_278072f5
inc     [ebp+arg_4]
add     edi, 60h
mov     eax, [ebp+arg_4]
cmp     eax, [esi+28h]
jb      short loc_2780a45d
push    1
push    esi
call    sub_27807c23
push    0
push    esi
call    sub_278071f6
mov     eax, 1000h
test    eax, ebx
jz      short loc_2780a4ab
test    [esi+8], eax
jz      short loc_2780a4b2
push    1
push    offset sub_27807223
push    dword ptr [esi]
call    sub_27812b44
mov     [esi+20h], eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
push    dword ptr [esi+20h]
call    sub_27812b8a
jmp     short loc_2780a4ab
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
push    0
push    ebx
call    ds:getwindowlonga
mov     edi, [ebp+msg]
mov     esi, eax
test    esi, esi
jnz     short loc_2780a4e2
cmp     edi, 400h
ja      short def_2780aca1
cmp     edi, 0bh
ja      short loc_2780a553
jz      short loc_2780a543
mov     eax, edi
dec     eax
jz      short loc_2780a523
dec     eax
jz      short loc_2780a50c
sub     eax, 3
jnz     short def_2780aca1
test    esi, esi
jz      short loc_2780a508
push    esi
call    sub_2780a37f
push    0
push    esi
call    sub_27807c23
xor     eax, eax
jmp     short loc_2780a54c
test    esi, esi
jz      short loc_2780a508
push    esi
call    sub_27809da2
push    0
push    0
push    ebx
call    ds:setwindowlonga
jmp     short loc_2780a508
push    0
push    0
push    424h
push    ebx
call    ds:postmessagea
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    ebx
call    ds:defwindowproca
jmp     short loc_2780a54c
push    [ebp+wparam]
push    esi
call    sub_27807c85
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     edi, 14h
ja      short loc_2780a582
jz      short loc_2780a56e
cmp     edi, 0fh
jnz     short def_2780aca1
test    esi, esi
jz      short loc_2780a508
push    [ebp+wparam]
push    esi
call    sub_2780819d
jmp     short loc_2780a508
push    0ffffffffh
push    [ebp+wparam]
push    esi
call    sub_27808496
test    eax, eax
jz      short def_2780aca1
push    1
pop     eax
jmp     short loc_2780a54c
cmp     edi, 1ah
ja      short loc_2780a5fd
jz      short loc_2780a5c7
cmp     edi, 15h
jnz     short def_2780aca1
test    esi, esi
jz      loc_2780a508
push    esi
call    sub_27809e2d
mov     eax, [esi+24h]
test    eax, eax
jz      short loc_2780a5b1
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    eax
call    ds:sendmessagea
call    sub_277b344b
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
jmp     loc_2780a508
push    [ebp+wparam]
call    sub_277b3170
test    byte ptr [esi+1dh], 1
jz      short loc_2780a5de
push    [ebp+wparam]
push    esi
call    sub_27807db9
mov     esi, [esi+24h]
test    esi, esi
jz      loc_2780a508
push    [ebp+lparam]
push    [ebp+wparam]
push    1ah
push    esi
call    ds:sendmessagea
jmp     loc_2780a508
cmp     edi, 2ch
ja      short loc_2780a671
cmp     edi, 2bh
jnb     loc_2780a8a9
cmp     edi, 20h
jnz     def_2780aca1
test    esi, esi
jz      loc_2780a508
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    ebx
call    ds:defwindowproca
test    eax, eax
jnz     loc_2780a57d
cmp     ebx, [ebp+wparam]
jnz     loc_2780a57d
lea     eax, [ebp+rect.right]
push    eax
push    dword ptr [esi]
call    sub_27811942
mov     eax, [ebp+lparam]
shr     eax, 10h
cmp     ax, 201h
jz      short loc_2780a66c
cmp     ax, 204h
jz      short loc_2780a66c
xor     eax, eax
push    eax
push    [ebp+rect.bottom]
push    [ebp+rect.right]
push    esi
call    sub_27809607
jmp     loc_2780a57d
push    1
pop     eax
jmp     short loc_2780a65a
cmp     edi, 4eh
ja      short loc_2780a6d7
jz      short loc_2780a6b6
cmp     edi, 2eh
jb      def_2780aca1
cmp     edi, 2fh
jbe     loc_2780a8a9
cmp     edi, 30h
jz      short loc_2780a6a8
cmp     edi, 31h
jnz     def_2780aca1
test    esi, esi
jz      loc_2780a508
mov     eax, [esi+40h]
jmp     loc_2780a54c
push    [ebp+wparam]
push    esi
call    sub_27807d80
jmp     loc_2780a508
test    esi, esi
jz      loc_2780a508
push    dword ptr [esi+10h]
mov     eax, [ebp+lparam]
push    eax
push    dword ptr [eax+8]
push    0ffffffffh
push    dword ptr [esi+4]
call    sub_27811d28
jmp     loc_2780a54c
cmp     edi, 7dh
ja      short loc_2780a70e
jz      short loc_2780a6f5
cmp     edi, 55h
jnz     def_2780aca1
push    [ebp+lparam]
push    esi
call    sub_278112e5
jmp     loc_2780a54c
test    esi, esi
jz      loc_2780a508
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2780a431
jmp     loc_2780a508
mov     eax, 111h
cmp     edi, eax
ja      loc_2780a8c0
jz      loc_2780a8a9
mov     eax, edi
sub     eax, 81h
jz      loc_2780a829
dec     eax
dec     eax
jz      loc_2780a7f9
dec     eax
jz      short loc_2780a79b
dec     eax
jnz     def_2780aca1
test    esi, esi
jz      def_2780aca1
test    byte ptr [esi+0ah], 80h
jz      def_2780aca1
lea     eax, [ebp+rect]
push    eax
push    ebx
call    ds:getwindowrect
mov     eax, [ebp+rect.top]
neg     eax
push    eax
mov     eax, [ebp+rect.left]
neg     eax
push    eax
lea     eax, [ebp+rect]
push    eax
call    ds:offsetrect
push    ebx
call    ds:getwindowdc
add     esi, 70h
mov     edi, eax
push    esi
push    0fh
lea     eax, [ebp+rect]
push    6
push    eax
push    edi
call    sub_27811a00
push    edi
push    ebx
call    ds:releasedc
jmp     loc_2780a508
test    esi, esi
jz      loc_2780a57d
mov     eax, [ebp+lparam]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+rect.top], eax
lea     eax, [ebp+rect]
push    eax
mov     [ebp+rect.left], ecx
push    dword ptr [esi]
call    ds:screentoclient
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_2780846e
mov     [ebp+var_24], eax
mov     eax, [ebp+rect.left]
mov     [ebp+var_1c], eax
mov     eax, [ebp+rect.top]
mov     [ebp+var_18], eax
mov     eax, [ebp+rect.right]
mov     [ebp+var_14], eax
lea     eax, [ebp+var_30]
push    eax
push    0fffffff2h
push    esi
call    sub_277b9838
test    eax, eax
jz      loc_2780a57d
jmp     loc_2780a54c
test    esi, esi
jz      def_2780aca1
test    byte ptr [esi+0ah], 80h
jz      def_2780aca1
mov     eax, dy
neg     eax
push    eax
mov     eax, dword_2782a06c
neg     eax
push    eax
push    [ebp+lparam]
call    ds:inflaterect
jmp     loc_2780a508
call    sub_277b344b
push    84h
push    40h
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      loc_2780a508
mov     edi, ds:setwindowlonga
push    esi
push    0
push    ebx
call    edi
push    [ebp+lparam]
or      dword ptr [esi+4ch], 0ffffffffh
or      dword ptr [esi+64h], 0ffffffffh
or      dword ptr [esi+68h], 0ffffffffh
or      dword ptr [esi+1ch], 8
mov     eax, 0ff000000h
push    ebx
push    esi
mov     [esi+78h], eax
mov     [esi+74h], eax
call    sub_277b6303
mov     eax, [esi+8]
test    al, 3
jnz     short loc_2780a888
or      al, 1
push    eax
push    0fffffff0h
push    ebx
mov     [esi+8], eax
call    edi
push    0
push    esi
call    sub_27807db9
mov     eax, [ebp+lparam]
mov     eax, [eax]
test    eax, eax
jz      loc_2780a57d
push    eax
push    esi
call    sub_2780874d
jmp     loc_2780a57d
test    esi, esi
jz      loc_2780a508
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    dword ptr [esi+4]
jmp     loc_2780a5f2
mov     ecx, 30fh
mov     eax, 311h
cmp     edi, ecx
ja      loc_2780ac46
jz      loc_2780ac66
mov     eax, 200h
cmp     edi, eax
jz      loc_2780aaae
cmp     edi, 201h
jz      loc_2780a9eb
add     eax, 2
cmp     edi, eax
jz      short loc_2780a93d
jbe     def_2780aca1
cmp     edi, 204h
jbe     loc_2780a9eb
cmp     edi, 205h
jnz     def_2780aca1
test    esi, esi
jz      loc_2780a508
test    byte ptr [esi+60h], 1
jnz     short loc_2780a93d
test    byte ptr [esi+1ch], 10h
jnz     short loc_2780a93d
push    esi
call    sub_277bf76d
push    0ffffffffh
push    esi
call    sub_27809915
jmp     def_2780aca1
test    esi, esi
jz      loc_2780a508
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    ebx
push    dword ptr [esi+24h]
call    sub_27810fcc
cmp     dword ptr [esi+4ch], 0ffffffffh
jz      loc_2780a508
test    byte ptr [esi+1ch], 10h
jnz     short loc_2780a96b
push    esi
call    sub_277bf76d
test    byte ptr [esi+9], 80h
jnz     short loc_2780a97f
test    byte ptr [esi+60h], 1
jnz     short loc_2780a97f
push    1
push    esi
call    sub_278095d0
mov     eax, [esi+4ch]
mov     ecx, [esi+5ch]
xor     edi, edi
lea     eax, [eax+eax*2]
push    edi
shl     eax, 5
add     eax, ecx
push    0fffffcbfh
push    esi
and     byte ptr [eax+3], 7fh
call    sub_277b9838
push    0fffffcbch
push    dword ptr [esi+4ch]
push    esi
call    sub_278071a0
push    0ffffffffh
push    esi
call    sub_27809915
xor     ebx, ebx
cmp     [esi+28h], edi
jbe     short loc_2780a9d6
mov     eax, [esi+5ch]
add     eax, edi
test    byte ptr [eax], 8
jnz     short loc_2780a9cd
push    eax
push    esi
call    sub_278072f5
inc     ebx
add     edi, 60h
cmp     ebx, [esi+28h]
jb      short loc_2780a9bc
push    0
push    esi
call    sub_2780a072
push    0
push    esi
call    sub_278071f6
jmp     loc_2780a508
test    esi, esi
jz      loc_2780a508
movsx   eax, word ptr [ebp+lparam]
push    [ebp+lparam]
mov     [ebp+rect.left], eax
mov     eax, [ebp+lparam]
push    [ebp+wparam]
shr     eax, 10h
push    edi
push    ebx
push    dword ptr [esi+24h]
movsx   eax, ax
mov     [ebp+rect.top], eax
call    sub_27810fcc
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_2780846e
cmp     eax, 0ffffffffh
mov     [ebp+lparam], eax
jz      loc_2780a508
cmp     [ebp+rect.right], 3
jz      loc_2780a508
lea     ebx, [eax+eax*2]
shl     ebx, 5
mov     eax, ebx
add     eax, [esi+5ch]
push    eax
push    esi
call    sub_278073fd
test    eax, eax
jz      loc_2780a508
mov     eax, [ebp+lparam]
test    byte ptr [esi+8], 80h
mov     [esi+4ch], eax
mov     eax, [ebp+rect.left]
mov     [esi+50h], eax
mov     eax, [ebp+rect.top]
mov     [esi+54h], eax
jz      short loc_2780aa74
mov     eax, [esi+50h]
mov     ecx, [esi+54h]
mov     [esi+50h], ecx
mov     [esi+54h], eax
mov     eax, [esi+5ch]
push    [ebp+hwnd]
mov     eax, [ebx+eax+30h]
mov     [esi+58h], eax
call    ds:setcapture
and     dword ptr [esi+60h], 0fffffffeh
cmp     edi, 203h
jnz     loc_2780a508
test    byte ptr [esi+9], 80h
jz      loc_2780a508
push    1
push    esi
call    sub_278095d0
jmp     loc_2780a508
test    esi, esi
jz      loc_2780a508
push    [ebp+lparam]
push    [ebp+wparam]
push    eax
push    ebx
push    dword ptr [esi+24h]
call    sub_27810fcc
cmp     dword ptr [esi+4ch], 0ffffffffh
jz      loc_2780a508
call    ds:getcapture
cmp     ebx, eax
jz      loc_2780ac33
test    byte ptr [esi+1ch], 10h
jnz     loc_2780ac33
push    0fffffcbch
push    dword ptr [esi+4ch]
push    esi
call    sub_278071a0
push    0ffffffffh
push    esi
call    sub_27809915
jmp     loc_2780a508
cmp     dword ptr [esi+4ch], 0ffffffffh
jz      loc_2780a508
mov     eax, [ebp+lparam]
cmp     eax, 0ffffffffh
jnz     short loc_2780ab1e
push    0
push    dword ptr [esi]
call    sub_27811942
mov     ecx, eax
shr     ecx, 10h
movsx   ecx, cx
push    ecx
movsx   eax, ax
push    eax
push    esi
call    sub_27809b9d
jmp     loc_2780a508
push    0
push    [ebp+wparam]
push    esi
call    sub_27809415
jmp     loc_2780a508
push    0
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_278094aa
jmp     loc_2780a508
mov     eax, [esi+28h]
cmp     [ebp+wparam], eax
jnb     loc_2780a508
cmp     [ebp+lparam], eax
jnb     loc_2780a508
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2780774a
jmp     loc_2780a54c
mov     eax, [ebp+lparam]
test    eax, eax
jz      loc_2780a508
cmp     dword ptr [eax], 0ch
jnz     loc_2780a508
mov     ecx, [eax+4]
push    0
mov     [esi+74h], ecx
mov     eax, [eax+8]
push    0
push    ebx
mov     [esi+78h], eax
call    ds:invalidaterect
test    byte ptr [esi+0ah], 80h
jz      loc_2780a508
push    ebx
call    sub_27811c84
jmp     loc_2780a508
mov     eax, edi
sub     eax, 2003h
jz      short loc_2780ac12
dec     eax
jz      short loc_2780abeb
dec     eax
jz      short loc_2780abdd
dec     eax
jnz     def_2780aca1
mov     eax, [esi+10h]
jmp     loc_2780a54c
mov     ecx, [ebp+wparam]
mov     eax, [esi+10h]
mov     [esi+10h], ecx
jmp     loc_2780a54c
cmp     dword ptr [esi+20h], 0
jnz     short loc_2780ac02
push    0
push    offset sub_27807223
push    dword ptr [esi]
call    sub_27812b44
mov     [esi+20h], eax
push    [ebp+lparam]
push    dword ptr [esi+20h]
call    sub_27812b9a
jmp     loc_2780a508
mov     eax, [ebp+lparam]
test    eax, eax
jz      loc_2780a54c
cmp     dword ptr [eax], 0ch
jnz     loc_2780a54c
add     esi, 70h
mov     edi, eax
movsd
movsd
movsd
jmp     loc_2780a54c
mov     eax, [ebp+lparam]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+lparam]
jmp     loc_2780ab2a
mov     ecx, 318h
cmp     edi, ecx
ja      short loc_2780ac7f
jz      loc_2780a563
cmp     edi, eax
jnz     def_2780aca1
cmp     [ebp+wparam], ebx
jz      loc_2780a508
xor     ecx, ecx
cmp     edi, eax
setz    cl
mov     eax, ecx
push    eax
push    eax
push    0
push    esi
call    sub_27807135
jmp     loc_2780a57d
mov     eax, 2002h
cmp     edi, eax
ja      loc_2780abbf
jz      loc_2780ab7f
lea     eax, [edi-401h]
cmp     eax, 26h
ja      def_2780aca1
jmp     ds:jpt_2780aca1[eax*4]
test    esi, esi
jz      loc_2780a508
test    byte ptr [esi+9], 10h
jz      short loc_2780acc7
push    1
push    offset sub_27807223
push    dword ptr [esi]
call    sub_27812b44
mov     [esi+20h], eax
test    byte ptr [esi+9], 1
jz      short loc_2780ad1e
xor     edi, edi
mov     [ebp+var_3c], 2ch
push    edi
push    0fffffffah
push    ebx
mov     [ebp+var_38], 1
mov     [ebp+var_34], ebx
mov     [ebp+var_30], ebx
mov     [ebp+var_18], edi
call    ds:getwindowlonga
push    eax
push    edi
mov     eax, 80000000h
push    ebx
push    eax
push    eax
push    eax
push    eax
push    eax
push    edi
push    offset amsvblibtooltip
push    edi
call    ds:createwindowexa
lea     ecx, [ebp+var_3c]
mov     [esi+24h], eax
push    ecx
push    edi
push    404h
push    eax
call    ds:sendmessagea
push    esi
call    sub_27809e2d
jmp     loc_2780a508
push    [ebp+lparam]
push    esi
call    sub_27809d60
jmp     loc_2780a54c
mov     eax, [esi+18h]
jmp     loc_2780a54c
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27809049
jmp     loc_2780a54c
push    [ebp+wparam]
push    esi
call    sub_27808f41
jmp     loc_2780a54c
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_27808eba
jmp     loc_2780a54c
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_278087f0
jmp     loc_2780a54c
mov     eax, [esi+24h]
jmp     loc_2780a54c
mov     eax, [ebp+wparam]
mov     [esi+24h], eax
jmp     loc_2780a508
mov     edi, [esi+64h]
mov     eax, [ebp+lparam]
cmp     edi, eax
mov     [esi+64h], eax
jz      short loc_2780adac
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
mov     eax, edi
jmp     loc_2780a54c
mov     eax, [esi+64h]
jmp     loc_2780a54c
mov     ecx, [ebp+lparam]
mov     eax, [esi+68h]
mov     [esi+68h], ecx
jmp     loc_2780a54c
mov     eax, [esi+68h]
jmp     loc_2780a54c
push    [ebp+wparam]
push    esi
call    sub_27809e79
jmp     loc_2780a54c
push    esi
call    sub_27807537
jmp     loc_2780a54c
push    [ebp+wparam]
push    esi
call    sub_27809ec4
jmp     loc_2780a54c
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_2780a3c8
jmp     loc_2780a54c
mov     eax, [esi+28h]
jmp     loc_2780a54c
push    1
push    [ebp+lparam]
push    [ebp+wparam]
push    esi
call    sub_278089a7
jmp     loc_2780a54c
push    [ebp+lparam]
push    esi
call    sub_27808726
jmp     loc_2780a54c
push    [ebp+lparam]
push    esi
call    sub_2780874d
jmp     loc_2780a54c
mov     ecx, [ebp+wparam]
mov     eax, [esi+4]
mov     [esi+4], ecx
jmp     loc_2780a54c
mov     eax, [ebp+wparam]
cmp     eax, [esi+28h]
jnb     loc_2780a508
mov     ecx, [ebp+lparam]
lea     eax, [eax+eax*2]
shl     eax, 5
add     eax, [esi+5ch]
mov     edx, [eax+30h]
mov     [ecx], edx
mov     edx, [eax+34h]
mov     [ecx+4], edx
mov     edx, [eax+38h]
add     edx, [eax+30h]
mov     [ecx+8], edx
mov     edx, [eax+3ch]
add     edx, [eax+34h]
mov     [ecx+0ch], edx
jmp     loc_2780a57d
push    [ebp+lparam]
push    esi
call    sub_2780846e
jmp     loc_2780a54c
push    [ebp+lparam]
push    esi
call    sub_2780a20d
jmp     loc_2780a54c
mov     eax, [ebp+lparam]
cmp     eax, 0fffffffeh
jz      short loc_2780aecc
cmp     eax, 0ffffffffh
lea     edi, [esi+50h]
jnz     short loc_2780aee7
push    edi
push    dword ptr [esi]
call    sub_27811942
test    byte ptr [esi+8], 80h
jz      short loc_2780aecc
mov     eax, [edi]
mov     ecx, [esi+54h]
mov     [edi], ecx
mov     [esi+54h], eax
mov     eax, [esi+4ch]
mov     ecx, [esi+5ch]
push    [ebp+wparam]
lea     eax, [eax+eax*2]
shl     eax, 5
mov     eax, [eax+ecx+30h]
mov     [esi+58h], eax
jmp     loc_2780aaf8
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [edi], ecx
mov     [esi+54h], eax
jmp     short loc_2780aebc
cmp     dword ptr [esi+28h], 0
jz      short loc_2780af0e
cmp     dword ptr [esi+48h], 0
jnz     short loc_2780af0e
push    esi
call    sub_27807819
jmp     loc_2780a54c
mov     eax, [esi+48h]
jmp     loc_2780a54c
push    esi
mov     esi, [esp+4+arg_0]
push    edi
xor     edi, edi
test    byte ptr [esi+9], 8
jz      short loc_2780afd9
mov     eax, [esi+0c4h]
lea     eax, [eax+eax*4]
lea     eax, [esi+eax*4+0ech]
cmp     eax, [esp+8+arg_4]
jnz     short loc_2780afd9
push    1
pop     edi
test    [esp+8+arg_8], 2
jnz     short loc_2780aff9
push    1
call    ds:getkeystate
test    ax, ax
jge     short loc_2780aff9
call    ds:getcapture
cmp     eax, [esi]
jnz     short loc_2780aff9
xor     edi, edi
test    edi, edi
jnz     short loc_2780b019
mov     eax, [esp+8+arg_4]
push    14h
sub     eax, esi
pop     ecx
sub     eax, 0ech
cdq
idiv    ecx
cmp     [esi+0c8h], eax
jnz     short loc_2780b019
push    1
pop     edi
mov     eax, edi
pop     edi
pop     esi
retn    0ch
mov     ecx, [esp+arg_0]
xor     eax, eax
test    cl, 8
jz      short loc_2780b02e
push    1
pop     eax
test    cl, 1
jz      short loc_2780b035
or      al, 2
test    cl, 4
jnz     short loc_2780b03c
or      al, 4
test    cl, 80h
jz      short loc_2780b043
or      al, 80h
test    ch, 1
jz      short locret_2780b04a
or      al, 10h
retn    4
mov     cl, [esp+arg_0]
xor     eax, eax
test    cl, 1
jz      short loc_2780b05b
push    8
pop     eax
test    cl, 2
jz      short loc_2780b062
or      al, 1
test    cl, 4
jnz     short loc_2780b069
or      al, 4
test    cl, 80h
jz      short loc_2780b070
or      al, 80h
test    cl, 10h
jz      short locret_2780b078
or      ah, 1
retn    4
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
mov     esi, [ebp+lpchtext]
test    byte ptr [esi+9], 1
jz      loc_2780b162
xor     ebx, ebx
cmp     [esi+28h], ebx
jnz     loc_2780b162
mov     eax, [esi]
push    ebx
push    dword_27828334
mov     [ebp+var_38], eax
mov     [ebp+var_34], eax
mov     [ebp+lparam], 2ch
push    ebx
push    eax
mov     eax, 80000000h
mov     [ebp+var_3c], 1
push    eax
push    eax
push    eax
push    eax
push    eax
push    ebx
push    offset amsvblibtooltip
push    ebx
mov     [ebp+var_1c], ebx
call    ds:createwindowexa
cmp     eax, ebx
mov     [esi+28h], eax
jz      loc_2780b162
push    edi
mov     edi, ds:sendmessagea
push    12ch
push    ebx
push    418h
push    eax
call    edi
lea     eax, [ebp+lparam]
push    eax
push    ebx
push    404h
push    dword ptr [esi+28h]
call    edi
mov     eax, [esi+28h]
mov     [ebp+var_8], eax
lea     eax, [ebp+var_14]
push    eax
push    0ffffffedh
push    esi
call    sub_277b9838
or      [ebp+var_1c], 0ffffffffh
cmp     [esi+6ch], ebx
mov     [ebp+var_3c], ebx
mov     [ebp+lpchtext], ebx
jle     short loc_2780b15b
lea     eax, [esi+0f0h]
mov     [ebp+var_4], eax
test    byte ptr [eax+5], 1
jnz     short loc_2780b14a
mov     eax, [eax]
mov     [ebp+var_34], eax
lea     eax, [ebp+lparam]
push    eax
push    ebx
push    404h
push    dword ptr [esi+28h]
call    edi
mov     eax, [ebp+var_4]
inc     [ebp+lpchtext]
add     eax, 14h
mov     ecx, [ebp+lpchtext]
mov     [ebp+var_4], eax
cmp     ecx, [esi+6ch]
jl      short loc_2780b12d
push    esi
call    sub_2780dc4a
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    esi
mov     esi, [esp+4+lpchtext]
push    esi
call    sub_2780b07b
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_2780b18e
push    [esp+4+arg_c]
push    [esp+8+arg_8]
push    [esp+0ch+arg_4]
push    dword ptr [esi]
push    eax
call    sub_27810fcc
pop     esi
retn    10h
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
push    edi
xor     edi, edi
push    edi
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     esi, eax
mov     eax, [ebp+arg_4]
sub     eax, edi
jz      short loc_2780b1f6
dec     eax
jz      short loc_2780b1e1
dec     eax
jnz     loc_2780b237
cmp     [ebp+wparam], edi
jl      short loc_2780b1d9
xor     eax, eax
cmp     [ebp+lparam], edi
setnz   al
movzx   eax, ax
push    eax
push    [ebp+wparam]
push    406h
push    dword ptr [esi]
call    ds:sendmessagea
xor     eax, eax
pop     edi
pop     esi
leave
retn    10h
push    [ebp+lparam]
push    offset dword_277cbf30
push    0fffffd38h
push    esi
call    sub_27812b18
jmp     short loc_2780b1db
mov     eax, [ebp+lparam]
cmp     eax, edi
jz      short loc_2780b237
mov     ecx, [eax]
mov     eax, [eax+4]
mov     [ebp+points.y], eax
lea     eax, [ebp+points]
push    1
push    eax
push    dword ptr [esi]
mov     [ebp+points.x], ecx
push    edi
call    ds:mapwindowpoints
push    [ebp+points.y]
push    [ebp+points.x]
push    esi
call    sub_2780d075
cmp     eax, edi
jl      short loc_2780b237
cmp     eax, [esi+6ch]
jge     short loc_2780b237
add     eax, 0ch
lea     eax, [eax+eax*4]
mov     eax, [esi+eax*4]
jmp     short loc_2780b1db
or      eax, 0ffffffffh
jmp     short loc_2780b1db
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
test    byte ptr [eax+9], 10h
mov     eax, [eax+78h]
jz      short loc_2780b257
cmp     [ebp+arg_4], eax
jle     short loc_2780b253
mov     eax, [ebp+arg_4]
pop     ebp
retn    8
test    eax, eax
jz      short loc_2780b250
mov     ecx, [ebp+arg_4]
lea     eax, [ecx+eax+1]
jmp     short loc_2780b253
mov     eax, [esp+arg_0]
test    word ptr [eax+8], 880h
mov     eax, [esp+arg_4]
mov     eax, [eax]
jnz     short locret_2780b27e
shl     eax, 1
push    3
cdq
pop     ecx
idiv    ecx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
mov     edi, [ebp+lpchtext]
mov     al, [esi+9]
test    al, 10h
jz      short loc_2780b2cc
xor     ebx, ebx
cmp     [edi+48h], ebx
jnz     short loc_2780b2e3
mov     [esi+0ah], bx
test    byte ptr [edi+9], 10h
jz      short loc_2780b2b7
mov     eax, dword_2782a06c
add     eax, eax
add     ax, [edi+50h]
add     [esi+0ah], ax
mov     al, [esi+9]
test    al, 8
jz      short loc_2780b2cc
test    byte ptr [edi+18h], 1
jz      short loc_2780b2cc
mov     cx, [edi+7ch]
add     [esi+0ah], cx
mov     cx, [esi+0ah]
test    cx, cx
jz      loc_2780b38e
movzx   eax, cx
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     [esi+0ah], bx
jnz     short loc_2780b2cc
push    esi
push    edi
call    sub_2780ba3f
mov     cx, [edi+88h]
cmp     eax, ebx
mov     [ebp+lpchtext], eax
mov     [esi+0ah], cx
jz      short loc_2780b2a2
cmp     [ebp+hdc], ebx
mov     [ebp+hdc], ebx
mov     [ebp+rc.left], ebx
mov     [ebp+rc.top], ebx
mov     [ebp+rc.right], 3e8h
mov     [ebp+rc.bottom], 0ah
jnz     short loc_2780b32c
push    dword ptr [edi]
call    ds:getdc
mov     [ebp+hdc], eax
mov     [ebp+hdc], eax
push    dword ptr [edi+34h]
mov     ebx, ds:selectobject
push    [ebp+hdc]
call    ebx
push    esi
push    0
push    edi
mov     [ebp+h], eax
call    sub_2780b3d3
or      ah, 4
push    eax
lea     eax, [ebp+rc]
push    eax
push    0ffffffffh
push    [ebp+lpchtext]
push    [ebp+hdc]
call    ds:drawtexta
mov     eax, [ebp+rc.right]
mov     ecx, dword_2782a06c
push    [ebp+h]
lea     eax, [eax+ecx*2]
push    [ebp+hdc]
add     [esi+0ah], ax
call    ebx
cmp     [ebp+hdc], 0
jz      loc_2780b2a2
push    [ebp+hdc]
push    dword ptr [edi]
call    ds:releasedc
jmp     loc_2780b2a2
test    al, 1
jz      short loc_2780b3b6
test    byte ptr [edi+8], 80h
jz      short loc_2780b3af
lea     eax, [ebp+rect]
push    eax
push    dword ptr [edi]
call    ds:getwindowrect
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
jmp     loc_2780b2dc
mov     eax, [esi]
jmp     loc_2780b2dc
test    al, 8
jz      short loc_2780b3cb
test    byte ptr [edi+18h], 1
jz      short loc_2780b3cb
mov     eax, [edi+7ch]
add     eax, [edi+58h]
jmp     loc_2780b2dc
mov     eax, [edi+58h]
jmp     loc_2780b2dc
push    ebp
mov     ebp, esp
mov     ecx, [ebp+arg_0]
cmp     dword ptr [ecx+48h], 1
jle     short loc_2780b410
or      word ptr [ebp+arg_4], 2010h
test    byte ptr [ecx+9], 10h
jz      short loc_2780b416
or      [ebp+arg_4], 26h
mov     eax, [ecx+0a8h]
not     eax
and     eax, [ebp+arg_4]
or      eax, [ecx+0a4h]
mov     ecx, [ebp+arg_8]
test    byte ptr [ecx+9], 20h
jz      short loc_2780b40c
or      ah, 8
pop     ebp
retn    0ch
or      [ebp+arg_4], 20h
jmp     short loc_2780b3e5
or      [ebp+arg_4], 1
jmp     short loc_2780b3ef
push    ebp
mov     ebp, esp
sub     esp, 70h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    0dh
xor     ebx, ebx
pop     ecx
xor     eax, eax
cmp     [esi+44h], ebx
lea     edi, [ebp+tm.tmascent]
mov     [ebp+tm.tmheight], ebx
mov     [ebp+h], ebx
rep stosd
mov     [esi+78h], ebx
jnz     short loc_2780b44b
test    byte ptr [esi+9ch], 8
jz      short loc_2780b450
cmp     [esi+48h], ebx
jnz     short loc_2780b468
mov     edi, [esi+50h]
push    1
push    dword ptr [esi+54h]
push    esi
call    sub_2780b23c
push    eax
push    edi
push    esi
call    sub_2780c575
jmp     short loc_2780b49a
push    dword ptr [esi]
xor     eax, eax
lea     edi, [ebp+sz.cy]
mov     [ebp+sz._cx], ebx
stosd
mov     edi, [esi+88h]
mov     [ebp+rc.left], ebx
mov     [ebp+rc.top], ebx
mov     [ebp+rc.right], ebx
mov     [ebp+rc.bottom], ebx
mov     [ebp+var_10], edi
mov     [esi+58h], ebx
call    ds:getdc
cmp     eax, ebx
mov     [ebp+hdc], eax
jnz     short loc_2780b4a1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esi+34h]
cmp     eax, ebx
jz      short loc_2780b4b5
push    eax
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+h], eax
lea     eax, [ebp+tm]
push    eax
push    [ebp+hdc]
call    ds:gettextmetricsa
mov     eax, [esi+48h]
cmp     eax, ebx
jz      short loc_2780b4d9
mov     ecx, [ebp+tm.tmheight]
imul    ecx, eax
dec     eax
imul    eax, [ebp+tm.tmexternalleading]
add     ecx, eax
mov     [esi+78h], ecx
test    byte ptr [esi+9], 10h
jz      short loc_2780b4f0
mov     eax, [esi+50h]
mov     ecx, dword_2782a06c
lea     eax, [eax+ecx*2]
add     edi, eax
mov     [ebp+var_10], edi
mov     eax, [esi+50h]
cmp     [esi+6ch], ebx
mov     [ebp+arg_0], eax
mov     [ebp+var_4], ebx
jle     short loc_2780b557
lea     edi, [esi+0f5h]
test    byte ptr [edi-1], 8
jnz     short loc_2780b546
test    byte ptr [edi], 10h
jz      short loc_2780b513
mov     [edi+1], bx
lea     eax, [edi-9]
push    eax
push    esi
call    sub_2780ba3f
mov     ebx, eax
test    ebx, ebx
jz      short loc_2780b544
lea     eax, [ebp+sz]
push    eax
push    ebx
call    ds:lstrlena
push    eax
push    ebx
push    [ebp+hdc]
call    ds:gettextextentpointa
mov     eax, [ebp+sz._cx]
cmp     [ebp+arg_0], eax
jge     short loc_2780b544
mov     [ebp+arg_0], eax
xor     ebx, ebx
inc     [ebp+var_4]
add     edi, 14h
mov     eax, [ebp+var_4]
cmp     eax, [esi+6ch]
jl      short loc_2780b504
mov     edi, [ebp+var_10]
mov     eax, [esi+60h]
cmp     eax, ebx
jz      short loc_2780b56c
mov     ecx, [ebp+arg_0]
add     ecx, edi
cmp     eax, ecx
jle     short loc_2780b56c
sub     eax, edi
mov     [ebp+arg_0], eax
mov     eax, [esi+64h]
cmp     eax, ebx
jz      loc_2780b69d
mov     ecx, [ebp+arg_0]
add     ecx, edi
cmp     eax, ecx
jge     loc_2780b69d
xor     ecx, ecx
sub     eax, edi
cmp     [esi+6ch], ebx
mov     [ebp+var_14], ecx
mov     [ebp+var_18], ebx
mov     [ebp+arg_0], eax
mov     [ebp+var_4], ebx
jle     loc_2780b637
lea     edi, [esi+0f4h]
test    byte ptr [edi], 8
mov     [ebp+var_c], ebx
jnz     short loc_2780b61f
lea     ebx, [edi-8]
push    ebx
push    esi
call    sub_2780ba3f
push    ebx
push    0
push    esi
mov     [ebp+lpchtext], eax
call    sub_2780b3d3
or      ah, 4
cmp     [ebp+lpchtext], 0
jz      short loc_2780b614
push    eax
mov     ecx, [esi+78h]
mov     ebx, [ebp+arg_0]
lea     eax, [ebp+rc]
push    eax
push    0ffffffffh
push    [ebp+lpchtext]
mov     [ebp+rc.bottom], ecx
mov     [ebp+rc.right], ebx
push    [ebp+hdc]
call    ds:drawtexta
cmp     dword ptr [esi+48h], 1
mov     eax, [ebp+rc.bottom]
jle     loc_2780b688
xor     ecx, ecx
cmp     eax, [esi+78h]
setnle  cl
mov     [ebp+var_c], ecx
mov     ecx, [ebp+rc.right]
cmp     ecx, [ebp+var_18]
jle     short loc_2780b60c
mov     [ebp+var_18], ecx
cmp     [ebp+var_14], eax
jge     short loc_2780b614
mov     [ebp+var_14], eax
cmp     [ebp+var_c], 0
jz      short loc_2780b698
or      byte ptr [edi], 40h
xor     ebx, ebx
inc     [ebp+var_4]
add     edi, 14h
mov     eax, [ebp+var_4]
cmp     eax, [esi+6ch]
jl      loc_2780b5a3
mov     edi, [ebp+var_10]
mov     ecx, [ebp+var_14]
mov     eax, [ebp+var_18]
cmp     eax, ebx
jz      short loc_2780b647
cmp     dword ptr [esi+48h], 1
jle     short loc_2780b647
mov     [ebp+arg_0], eax
cmp     [esi+78h], ecx
jle     short loc_2780b64f
mov     [esi+78h], ecx
mov     eax, [esi+60h]
cmp     eax, ebx
jz      short loc_2780b664
mov     ecx, [ebp+arg_0]
add     ecx, edi
cmp     eax, ecx
jle     short loc_2780b664
sub     eax, edi
mov     [ebp+arg_0], eax
cmp     [ebp+h], ebx
jz      short loc_2780b675
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+hdc]
push    dword ptr [esi]
call    ds:releasedc
mov     edi, [ebp+arg_0]
jmp     loc_2780b453
xor     ecx, ecx
cmp     [ebp+rc.right], ebx
setnle  cl
mov     [ebp+var_c], ecx
jmp     loc_2780b60c
and     byte ptr [edi], 0bfh
jmp     short loc_2780b61d
xor     ecx, ecx
cmp     [esi+6ch], ebx
jle     short loc_2780b6b6
lea     eax, [esi+0f4h]
and     byte ptr [eax], 0bfh
inc     ecx
add     eax, 14h
cmp     ecx, [esi+6ch]
jl      short loc_2780b6aa
cmp     [esi+48h], ebx
jz      short loc_2780b64f
cmp     [esi+6ch], ebx
jz      short loc_2780b64f
mov     eax, [ebp+sz.cy]
cmp     [esi+78h], eax
jle     short loc_2780b64f
mov     [esi+78h], eax
jmp     short loc_2780b64f
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [esi+9ch]
shr     edi, 2
and     edi, 1
cmp     [ebp+arg_4], 0
jz      short loc_2780b6f7
cmp     [ebp+arg_4], 22h
jz      short loc_2780b6f7
cmp     [ebp+arg_4], 2ah
jnz     short loc_2780b722
lea     eax, [ebp+pvparam]
push    0
push    eax
push    3ch
push    1fh
call    ds:systemparametersinfoa
test    eax, eax
jz      short loc_2780b722
mov     ebx, [ebp+arg_8]
test    ebx, ebx
jnz     short loc_2780b74f
lea     eax, [ebp+pvparam]
push    eax
call    ds:createfontindirecta
mov     ebx, eax
test    ebx, ebx
jnz     short loc_2780b72b
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
or      dword ptr [esi+9ch], 4
mov     eax, [esi+34h]
test    eax, eax
jz      short loc_2780b744
test    edi, edi
jz      short loc_2780b744
push    eax
call    ds:deleteobject
push    esi
mov     [esi+34h], ebx
call    sub_2780b41c
jmp     short loc_2780b724
and     dword ptr [esi+9ch], 0fffffffbh
jmp     short loc_2780b732
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+arg_4]
push    0
push    esi
call    sub_2780b6cd
cmp     [esp+4+arg_8], 0
jz      short loc_2780b77c
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 28h
push    esi
lea     eax, [ebp+wndclass]
push    edi
mov     edi, [ebp+hinstance]
mov     esi, offset amsvblibtoolbar
push    eax
push    esi
push    edi
call    ds:getclassinfoa
test    eax, eax
jnz     short loc_2780b7f3
mov     [ebp+wndclass.lpszclassname], esi
xor     esi, esi
push    7f00h
push    esi
mov     [ebp+wndclass.lpfnwndproc], offset sub_2780f0f8
mov     [ebp+wndclass.style], 8
mov     [ebp+wndclass.cbclsextra], esi
mov     [ebp+wndclass.cbwndextra], 4
mov     [ebp+wndclass.hinstance], edi
mov     [ebp+wndclass.hicon], esi
call    ds:loadcursora
mov     [ebp+wndclass.hcursor], eax
lea     eax, [ebp+wndclass]
push    eax
mov     [ebp+wndclass.hbrbackground], 10h
mov     [ebp+wndclass.lpszmenuname], esi
call    ds:registerclassa
test    ax, ax
jnz     short loc_2780b7f3
xor     eax, eax
pop     edi
pop     esi
leave
retn    4
push    1
pop     eax
jmp     short loc_2780b7ed
push    ebp
mov     ebp, esp
sub     esp, 10h
push    [ebp+color]
push    [ebp+hdc]
call    ds:setbkcolor
mov     eax, [ebp+arg_4]
mov     edx, [ebp+arg_c]
mov     ecx, [ebp+arg_8]
mov     [ebp+rect.left], eax
add     edx, eax
mov     eax, [ebp+arg_10]
add     eax, ecx
mov     [ebp+rect.top], ecx
mov     [ebp+rect.bottom], eax
xor     eax, eax
push    eax
push    eax
lea     ecx, [ebp+rect]
push    eax
push    ecx
push    2
push    eax
push    eax
push    [ebp+hdc]
mov     [ebp+rect.right], edx
call    ds:exttextouta
leave
retn    18h
push    ebp
mov     ebp, esp
sub     esp, 14h
and     [ebp+dtp.cbsize], 0
push    ebx
push    esi
push    edi
xor     eax, eax
lea     edi, [ebp+dtp.itablength]
stosd
push    [ebp+hdc]
stosd
stosd
stosd
call    ds:createcompatibledc
mov     esi, ds:selectobject
mov     edi, eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax+34h]
push    edi
call    esi
mov     ebx, eax
lea     eax, [ebp+dtp]
push    eax
mov     [ebp+dtp.cbsize], 14h
push    [ebp+format]
push    [ebp+lprc]
push    [ebp+cchtext]
push    [ebp+lpchtext]
push    edi
call    ds:drawtextexa
push    ebx
push    edi
call    esi
push    edi
call    ds:deletedc
mov     eax, [ebp+dtp.uilengthdrawn]
pop     edi
pop     esi
pop     ebx
leave
retn    18h
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, [ebp+mode]
push    edi
mov     edi, [esi]
mov     eax, [esi+4]
mov     [ebp+var_4], eax
test    byte ptr [edi+9], 10h
jnz     short loc_2780b8d7
mov     eax, [edi+8ch]
add     eax, [edi+54h]
add     eax, dy
cmp     eax, [edi+5ch]
jge     loc_2780b9f6
cmp     [ebp+arg_18], 0
jz      loc_2780b9fd
push    dword ptr [esi+7ch]
mov     ebx, [ebp+hdc]
push    ebx
call    ds:setbkmode
push    dword ptr [esi+54h]
mov     [ebp+mode], eax
push    ebx
call    ds:setbkcolor
push    dword ptr [esi+58h]
mov     [ebp+color], eax
push    ebx
call    ds:settextcolor
mov     [ebp+var_c], eax
mov     esi, [ebp+var_4]
push    esi
push    8000h
push    edi
call    sub_2780b3d3
test    byte ptr [edi+9], 10h
mov     [ebp+hdc], eax
jz      loc_2780ba12
mov     eax, [edi+78h]
mov     ecx, [edi+54h]
cmp     eax, ecx
jg      short loc_2780b933
mov     eax, ecx
mov     ecx, [ebp+ytop]
mov     edx, [ebp+arg_c]
add     eax, ecx
push    eax
mov     eax, [ebp+xleft]
add     edx, eax
push    edx
push    ecx
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:setrect
cmp     dword_2782a150, 0
jz      loc_2780ba2a
cmp     dword_2782a854, 0
jnz     loc_2780ba2a
test    byte ptr [esi+8], 40h
jz      loc_2780ba2a
cmp     dword ptr [edi+48h], 1
jle     loc_2780ba2a
push    [ebp+lpchtext]
and     byte ptr [ebp+hdc+1], 7fh
call    sub_27811981
mov     esi, eax
test    esi, esi
jz      short loc_2780b9d2
push    [ebp+hdc]
lea     eax, [ebp+rc]
push    eax
push    0ffffffffh
push    esi
push    ebx
push    edi
call    sub_2780b840
cmp     eax, 3
jbe     short loc_2780b9ba
add     eax, 0fffffffeh
push    eax
push    esi
call    sub_278164f6
push    offset asc_2782b538
push    esi
call    ds:lstrcata
push    [ebp+hdc]
lea     eax, [ebp+rc]
push    eax
push    0ffffffffh
push    esi
push    ebx
call    ds:drawtexta
push    esi
call    ds:localfree
push    [ebp+mode]
push    ebx
call    ds:setbkmode
cmp     [ebp+arg_18], 0
jz      short loc_2780b9f6
push    [ebp+color]
push    ebx
call    ds:setbkcolor
push    [ebp+var_c]
push    ebx
call    ds:settextcolor
pop     edi
pop     esi
pop     ebx
leave
retn    20h
push    dword ptr [esi+78h]
mov     ebx, [ebp+hdc]
push    ebx
call    ds:setbkmode
mov     [ebp+mode], eax
jmp     loc_2780b90b
mov     eax, [ebp+arg_10]
test    eax, eax
jz      short loc_2780ba22
cmp     [edi+78h], eax
jge     loc_2780b933
mov     eax, [edi+78h]
jmp     loc_2780b933
push    [ebp+hdc]
lea     eax, [ebp+rc]
push    eax
push    0ffffffffh
push    [ebp+lpchtext]
push    ebx
call    ds:drawtexta
jmp     short loc_2780b9d2
mov     eax, [esp+arg_4]
mov     eax, [eax+10h]
cmp     eax, 0ffffffffh
jz      short loc_2780ba6c
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jnz     short locret_2780ba69
cmp     eax, 0ffffffffh
jz      short loc_2780ba6c
mov     ecx, [esp+arg_0]
cmp     eax, [ecx+44h]
jge     short loc_2780ba6c
mov     ecx, [ecx+40h]
mov     eax, [ecx+eax*4]
retn    8
xor     eax, eax
jmp     short locret_2780ba69
push    ebp
mov     ebp, esp
sub     esp, 5ch
push    ebx
mov     eax, [ebp+mode]
push    esi
push    edi
mov     esi, [eax]
push    0ff0062h
push    [ebp+h]
mov     ebx, [eax+4]
push    [ebp+w]
mov     edi, [ebx]
push    0
push    0
push    dword ptr [esi+1ch]
call    ds:patblt
xor     eax, eax
cmp     [ebp+arg_10], eax
jz      loc_2780bb4c
mov     [ebp+hdc.unused], 38h
mov     ecx, [esi+0b8h]
cmp     edi, 0ffffffffh
mov     [ebp+var_58], ecx
jnz     short loc_2780bae6
test    byte ptr [esi+9ch], 2
jz      short loc_2780bae6
push    8
lea     edi, [ebp+var_20]
pop     ecx
mov     [ebp+lparam], eax
rep stosd
lea     eax, [ebp+lparam]
mov     [ebp+var_18], 1
push    eax
push    ebx
push    esi
call    sub_27810863
mov     edi, [ebp+var_c]
xor     eax, eax
mov     [ebp+var_54], edi
mov     ecx, [esi+1ch]
mov     [ebp+var_44], eax
mov     [ebp+var_40], eax
mov     [ebp+var_3c], eax
mov     [ebp+var_38], eax
mov     eax, color
mov     [ebp+var_50], ecx
mov     ecx, [ebp+arg_0]
mov     [ebp+var_34], eax
mov     [ebp+var_4c], ecx
mov     ecx, [ebp+ytop]
lea     eax, [ebp+hdc]
mov     [ebp+var_48], ecx
push    eax
mov     [ebp+var_30], 0ff000000h
mov     [ebp+var_2c], 50h
mov     [ebp+var_28], 0cc0020h
call    sub_27814800
mov     eax, dword_2782a118
mov     [ebp+var_2c], 60h
mov     [ebp+var_34], eax
lea     eax, [ebp+hdc]
push    eax
mov     [ebp+var_28], 0ee0086h
call    sub_27814800
push    ebx
push    esi
call    sub_2780ba3f
test    eax, eax
jz      short loc_2780bb98
test    byte ptr [esi+9], 10h
mov     ecx, dword_2782a06c
push    1
pop     ebx
jz      short loc_2780bb9f
mov     edx, [esi+50h]
lea     edi, [ecx+ecx]
lea     ebx, [edx+ecx*2+1]
neg     edx
sub     edx, edi
mov     edi, [ebp+w]
add     edi, edx
mov     edx, [ebp+h]
push    [ebp+mode]
sub     edx, dy
sub     edi, ecx
push    0
push    eax
push    edx
push    edi
push    [ebp+ytop]
push    ebx
push    dword ptr [esi+1ch]
call    sub_2780b8a5
pop     edi
pop     esi
pop     ebx
leave
retn    18h
mov     edx, [esi+54h]
mov     edi, [ebp+ytop]
lea     edi, [edi+edx+1]
mov     [ebp+ytop], edi
or      edi, 0ffffffffh
sub     edi, edx
mov     edx, [ebp+h]
add     edx, edi
mov     edi, [ebp+w]
jmp     short loc_2780bb7c
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_14]
push    ebx
push    esi
mov     esi, [ebp+arg_8]
mov     ebx, [eax+8]
push    edi
mov     edi, [ebp+arg_4]
test    bl, 1
jnz     short loc_2780bbeb
push    dword ptr [eax+5ch]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    esi
push    edi
push    [ebp+hdc]
call    sub_2780b7f8
mov     eax, [ebp+arg_14]
test    byte ptr [eax+12h], 1
jnz     short loc_2780bc27
mov     eax, [ebp+arg_c]
and     bl, 3
add     eax, edi
push    100fh
mov     [ebp+qrc.right], eax
mov     eax, [ebp+arg_10]
add     eax, esi
mov     [ebp+qrc.left], edi
neg     bl
sbb     ebx, ebx
mov     [ebp+qrc.bottom], eax
and     ebx, 5
lea     eax, [ebp+qrc]
add     ebx, 5
mov     [ebp+qrc.top], esi
push    ebx
push    eax
push    [ebp+hdc]
call    ds:drawedge
pop     edi
pop     esi
pop     ebx
leave
retn    18h
push    ebp
mov     ebp, esp
sub     esp, 78h
push    ebx
mov     ebx, [ebp+mode]
push    esi
push    edi
mov     eax, [ebx+4]
mov     ecx, [ebx+8]
mov     esi, [ebx]
push    4
mov     [ebp+var_8], eax
mov     [ebp+var_c], ecx
pop     eax
xor     edi, edi
and     [ebp+var_c], eax
mov     [ebp+mode], ecx
jz      short loc_2780bcb6
test    byte ptr [esi+9], 8
mov     edi, [ebx+0ch]
jz      short loc_2780bcb6
and     [ebp+var_4], 0
test    cl, 3
jz      loc_2780be32
mov     [ebp+var_4], 2
cmp     [ebp+var_4], 0
jz      short loc_2780bcb6
lea     eax, [ebp+rcsrc]
xor     edx, edx
push    eax
mov     eax, [ebp+var_8]
sub     eax, esi
push    14h
sub     eax, 0ech
pop     ecx
div     ecx
push    eax
push    esi
call    sub_2780cca6
test    byte ptr [ebx+12h], 1
jnz     short loc_2780bcb6
test    esi, esi
jz      short loc_2780bcb6
lea     eax, [esi+0ach]
push    eax
push    0fh
push    [ebp+var_4]
lea     eax, [ebp+rcsrc]
push    eax
push    [ebp+hdc]
call    sub_27811a00
xor     ecx, ecx
cmp     edi, ecx
mov     [ebp+var_74], ecx
jnz     loc_2780be42
test    byte ptr [ebp+mode], 1
jnz     loc_2780be42
cmp     [ebp+var_c], ecx
jnz     short loc_2780bcdc
mov     eax, [esi+0c0h]
cmp     eax, ecx
jnz     short loc_2780bce6
mov     eax, [esi+0b8h]
cmp     eax, ecx
jz      short loc_2780bce9
mov     [ebp+var_74], eax
mov     eax, [ebp+var_8]
mov     eax, [eax]
cmp     eax, 0ffffffffh
jnz     short loc_2780bd20
test    byte ptr [esi+9ch], 2
jz      short loc_2780bd20
push    8
mov     [ebp+lparam], ecx
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_3c]
rep stosd
lea     eax, [ebp+lparam]
mov     [ebp+var_34], 1
push    eax
push    [ebp+var_8]
push    esi
call    sub_27810863
mov     eax, [ebp+var_28]
cmp     [ebp+var_74], 0
mov     edi, [ebp+lpchtext]
jz      short loc_2780bda0
cmp     eax, 0ffffffffh
jz      short loc_2780bda0
mov     ecx, [ebp+arg_4]
mov     [ebp+var_70], eax
mov     eax, [ebp+hdc]
mov     [ebp+var_78.unused], 38h
mov     [ebp+var_6c], eax
mov     eax, [ebp+arg_c]
add     eax, ecx
mov     [ebp+var_68], eax
mov     eax, [ebp+arg_8]
add     eax, edi
mov     [ebp+var_64], eax
xor     eax, eax
mov     [ebp+var_60], eax
mov     [ebp+var_5c], eax
mov     [ebp+var_58], eax
mov     [ebp+var_54], eax
test    byte ptr [esi+9], 80h
jz      loc_2780be5b
or      [ebp+var_50], 0ffffffffh
test    byte ptr [ebp+mode], 11h
mov     [ebp+var_4c], 0ff000000h
mov     [ebp+var_48], eax
jz      short loc_2780bd84
mov     [ebp+var_48], 1
test    byte ptr [ebp+mode], 80h
jz      short loc_2780bd97
test    byte ptr [ebx+12h], 8
jnz     short loc_2780bd97
mov     [ebp+var_48], 5
lea     eax, [ebp+var_78]
push    eax
call    sub_27814800
push    [ebp+var_8]
push    esi
call    sub_2780ba3f
test    eax, eax
mov     [ebp+lpchtext], eax
jz      short loc_2780be2b
test    byte ptr [ebp+mode], 80h
mov     ecx, 1000h
jz      loc_2780be66
test    [esi+8], ecx
jz      loc_2780be66
test    byte ptr [ebx+12h], 8
jnz     loc_2780be66
push    1
pop     edx
test    byte ptr [ebp+mode], 3
jz      short loc_2780bdf0
test    byte ptr [ebx+12h], 4
jnz     short loc_2780bdf0
inc     [ebp+arg_4]
test    [esi+8], ecx
jz      loc_2780be6d
inc     [ebp+arg_8]
test    [esi+8], ecx
jz      short loc_2780be6d
mov     esi, [esi+50h]
mov     ecx, dword_2782a06c
lea     eax, [esi+ecx*2]
add     [ebp+arg_4], eax
lea     eax, [ecx+ecx]
neg     esi
sub     esi, eax
add     [ebp+arg_14], esi
push    ebx
mov     eax, [ebp+arg_8]
push    edx
inc     eax
push    [ebp+lpchtext]
push    [ebp+arg_18]
push    [ebp+arg_14]
push    eax
mov     eax, [ebp+arg_4]
inc     eax
push    eax
push    [ebp+hdc]
call    sub_2780b8a5
pop     edi
pop     esi
pop     ebx
leave
retn    20h
test    edi, edi
jz      loc_2780bc72
mov     [ebp+var_4], eax
jmp     loc_2780bc72
mov     eax, [esi+0bch]
cmp     eax, ecx
jnz     loc_2780bce6
mov     eax, [esi+0b8h]
jmp     loc_2780bce6
mov     ecx, [ebx+5ch]
mov     [ebp+var_50], ecx
jmp     loc_2780bd6d
xor     edx, edx
jmp     loc_2780bdd5
mov     esi, [esi+54h]
lea     eax, [edi+esi]
add     edi, esi
add     [ebp+arg_8], eax
sub     [ebp+arg_18], edi
jmp     short loc_2780be0e
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, ds:getstockobject
push    4
mov     [esi+4], eax
mov     eax, [ebp+arg_10]
mov     [esi], ebx
mov     [esi+0ch], eax
mov     eax, ho
mov     [esi+44h], eax
call    edi
push    7
mov     [esi+48h], eax
call    edi
mov     [esi+4ch], eax
mov     eax, dword_2782a114
push    [ebp+ybottom]
mov     [esi+54h], eax
mov     eax, dword_2782a118
xor     edi, edi
push    [ebp+xright]
mov     [esi+60h], eax
mov     eax, dword_2782a130
mov     [esi+58h], eax
mov     eax, color
mov     [esi+5ch], eax
mov     dword ptr [esi+78h], 1
mov     dword ptr [esi+7ch], 2
mov     eax, dword_2782a128
mov     [esi+50h], eax
push    edi
lea     eax, [esi+68h]
push    edi
push    eax
call    ds:setrect
push    [ebp+arg_c]
call    sub_2780b04d
mov     [esi+3ch], eax
test    byte ptr [ebx+9], 8
jz      short loc_2780bf18
cmp     [ebp+arg_10], edi
jz      short loc_2780bf18
or      al, 40h
mov     [esi+3ch], eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    1ch
push    ebp
mov     ebp, esp
sub     esp, 0bch
push    ebx
mov     ebx, [ebp+hdc]
push    esi
mov     esi, [ebp+w]
push    edi
push    ebx
push    [ebp+hdc]
push    esi
call    sub_2780b281
and     [ebp+mode], 0
mov     [ebp+var_4], eax
mov     eax, [esi+5ch]
push    1fh
mov     [ebp+var_1c], eax
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_b8]
rep stosd
mov     edi, [ebp+hdc]
movzx   eax, byte ptr [edi+8]
test    al, 10h
mov     [ebp+hdc], eax
jz      short loc_2780bf81
test    byte ptr [ebp+hdc], 2
jnz     loc_2780c3cb
test    byte ptr [ebp+hdc], 4
jz      loc_2780c3cb
mov     [ebp+hdc], 10h
cmp     [ebp+lpchtext], 0
jnz     short loc_2780bf8b
and     [ebp+hdc], 0fffffffbh
push    [ebp+hdc]
push    edi
push    esi
call    sub_2780afb2
mov     ecx, [ebp+ytop]
mov     [ebp+var_30], eax
mov     eax, [edi+4]
mov     edx, [ebp+var_4]
mov     [ebp+var_84], eax
mov     eax, [edi+0ch]
mov     [ebp+var_7c], eax
mov     eax, [ebp+var_1c]
add     eax, ecx
and     [ebp+var_80], 0
push    eax
mov     eax, [ebp+xleft]
add     edx, eax
mov     [ebp+var_98], ebx
push    edx
push    ecx
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:setrect
mov     eax, dy
mov     ecx, [ebp+var_1c]
add     eax, eax
sub     ecx, eax
mov     eax, dword_2782a06c
push    ecx
mov     ecx, [ebp+var_4]
lea     eax, [eax+eax*2]
sub     ecx, eax
lea     eax, [ebp+mode]
push    ecx
push    [ebp+var_30]
push    [ebp+hdc]
push    edi
push    esi
push    eax
call    sub_2780be7d
lea     eax, [ebp+lparam]
push    eax
push    10001h
push    esi
call    sub_27811d7b
test    al, 4
mov     [ebp+var_ac], eax
jnz     loc_2780c4e5
push    [ebp+var_80]
call    sub_2780b020
mov     edx, [ebp+var_4]
mov     [ebp+var_b4], eax
mov     [ebp+hdc], eax
mov     eax, dword_2782a06c
add     eax, eax
sub     edx, eax
mov     eax, dy
add     eax, eax
mov     [ebp+w], edx
mov     ecx, eax
mov     eax, [ebp+var_1c]
sub     eax, ecx
mov     ecx, [ebp+var_48]
sub     ecx, [ebp+var_50]
mov     [ebp+cy], eax
mov     eax, [ebp+var_4c]
sub     eax, [ebp+var_54]
mov     [ebp+var_28], ecx
test    byte ptr [edi+9], 8
mov     [ebp+var_2c], eax
jz      short loc_2780c07d
test    byte ptr [esi+18h], 1
jz      short loc_2780c07d
mov     ecx, [esi+7ch]
sub     edx, ecx
sub     eax, ecx
mov     [ebp+w], edx
mov     [ebp+var_2c], eax
push    dword ptr [esi+34h]
mov     edi, ds:selectobject
push    ebx
call    edi
push    [ebp+color]
mov     [ebp+var_3c], eax
push    ebx
call    ds:settextcolor
test    byte ptr [esi+9], 8
mov     [ebp+var_38], eax
jnz     short loc_2780c0b8
lea     eax, [ebp+mode]
push    eax
push    [ebp+var_1c]
push    [ebp+var_4]
push    [ebp+ytop]
push    [ebp+xleft]
push    ebx
call    sub_2780bbbb
mov     eax, dword_2782a06c
add     [ebp+xleft], eax
mov     eax, dy
add     [ebp+ytop], eax
add     eax, eax
mov     ecx, eax
mov     eax, [esi+8ch]
sub     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
mov     [ebp+lpchtext], eax
jns     short loc_2780c0e2
and     [ebp+lpchtext], 0
mov     ecx, [esi+8]
test    ch, 10h
jz      loc_2780c3d4
mov     eax, [esi+88h]
cdq
sub     eax, edx
sar     eax, 1
test    byte ptr [ebp+hdc], 3
mov     [ebp+var_20], eax
jz      short loc_2780c111
test    byte ptr [ebp+var_ac+2], 4
jnz     short loc_2780c111
inc     [ebp+var_20]
inc     [ebp+lpchtext]
test    byte ptr [ebp+hdc], 11h
jnz     short loc_2780c12b
test    byte ptr [ebp+hdc], 80h
jz      short loc_2780c18e
test    ch, 8
jnz     short loc_2780c18e
test    byte ptr [ebp+var_ac+2], 8
jnz     short loc_2780c18e
push    [ebp+h]
push    ebx
call    edi
test    eax, eax
mov     [ebp+var_4], eax
jz      short loc_2780c18e
test    byte ptr [ebp+hdc], 80h
jz      loc_2780c3df
push    [ebp+var_68]
push    ebx
call    ds:settextcolor
push    [ebp+var_60]
mov     [ebp+var_34], eax
push    ebx
call    ds:setbkcolor
push    0f00021h
mov     [ebp+var_24], eax
push    [ebp+cy]
push    [ebp+w]
push    [ebp+ytop]
push    [ebp+xleft]
push    ebx
call    ds:patblt
push    [ebp+var_4]
push    ebx
call    edi
push    [ebp+var_34]
push    ebx
call    ds:settextcolor
push    [ebp+var_24]
push    ebx
call    ds:setbkcolor
test    byte ptr [ebp+var_ac+2], 2
jz      short loc_2780c1d6
cmp     [ebp+var_30], 0
jz      short loc_2780c1d6
lea     eax, [ebp+rcsrc]
xor     edx, edx
push    eax
mov     eax, [ebp+hdc]
sub     eax, esi
push    14h
sub     eax, 0ech
pop     ecx
div     ecx
push    eax
push    esi
call    sub_2780cca6
mov     eax, [ebp+rcsrc.bottom]
push    [ebp+var_58]
sub     eax, [ebp+rcsrc.top]
push    eax
mov     eax, [ebp+rcsrc.right]
sub     eax, [ebp+rcsrc.left]
push    eax
push    [ebp+rcsrc.top]
push    [ebp+rcsrc.left]
push    ebx
call    sub_2780b7f8
mov     eax, [ebp+hdc]
and     eax, 4
mov     [ebp+var_24], eax
jnz     short loc_2780c1ea
cmp     dword ptr [esi+0c0h], 0
jz      short loc_2780c209
lea     eax, [ebp+mode]
push    eax
push    [ebp+var_28]
push    [ebp+var_2c]
push    [ebp+lpchtext]
push    [ebp+var_20]
push    [ebp+ytop]
push    [ebp+xleft]
push    ebx
call    sub_2780bc2e
cmp     [ebp+var_24], 0
jnz     loc_2780c32d
cmp     dword ptr [esi+1ch], 0
jnz     short loc_2780c23c
push    ebx
call    ds:createcompatibledc
test    eax, eax
mov     [esi+1ch], eax
jz      loc_2780c500
push    0
push    eax
call    ds:settextcolor
push    dword ptr [esi+34h]
push    dword ptr [esi+1ch]
call    edi
push    dword ptr [esi+20h]
push    dword ptr [esi+1ch]
call    edi
mov     [ebp+var_28], eax
lea     eax, [ebp+mode]
push    eax
xor     eax, eax
cmp     [esi+0c0h], eax
setz    al
push    eax
push    [ebp+cy]
push    [ebp+w]
push    [ebp+lpchtext]
push    [ebp+var_20]
call    sub_2780ba70
push    0
push    ebx
call    ds:settextcolor
push    0ffffffh
push    ebx
call    ds:setbkcolor
test    byte ptr [ebp+hdc], 10h
jnz     short loc_2780c2c8
test    byte ptr [ebp+var_ac+2], 10h
jnz     short loc_2780c2c8
push    dword_2782a100
push    ebx
call    edi
test    eax, eax
mov     [ebp+var_4], eax
jz      short loc_2780c2c8
push    0b8074ah
push    0
mov     eax, [ebp+ytop]
push    0
push    dword ptr [esi+1ch]
inc     eax
push    [ebp+cy]
push    [ebp+w]
push    eax
mov     eax, [ebp+xleft]
inc     eax
push    eax
push    ebx
call    ds:bitblt
push    [ebp+var_4]
push    ebx
call    edi
push    dword_2782a13c
push    ebx
call    edi
test    eax, eax
mov     [ebp+var_4], eax
jz      short loc_2780c2fd
push    0b8074ah
push    0
push    0
push    dword ptr [esi+1ch]
push    [ebp+cy]
push    [ebp+w]
push    [ebp+ytop]
push    [ebp+xleft]
push    ebx
call    ds:bitblt
push    [ebp+var_4]
push    ebx
call    edi
test    byte ptr [ebp+hdc], 1
jz      short loc_2780c325
mov     ecx, [ebp+cy]
mov     eax, [esi+1ch]
push    8800c6h
push    0
push    0
dec     ecx
push    eax
push    ecx
mov     ecx, [ebp+w]
dec     ecx
push    ecx
push    1
push    1
push    eax
call    ds:bitblt
push    [ebp+var_28]
push    dword ptr [esi+1ch]
call    edi
mov     eax, [ebp+hdc]
test    byte ptr [eax+9], 8
jz      loc_2780c4d5
test    byte ptr [esi+18h], 1
jz      loc_2780c4d5
mov     eax, [ebp+w]
mov     ecx, [ebp+lpchtext]
add     eax, ecx
mov     ecx, [ebp+xleft]
mov     [ebp+hdc], 1
mov     [ebp+var_4], 801h
lea     eax, [eax+ecx-1]
mov     ecx, [ebp+ytop]
mov     [ebp+rcsrc.left], eax
add     eax, [esi+7ch]
mov     edx, ecx
mov     [ebp+rcsrc.right], eax
mov     eax, dy
sub     edx, eax
mov     [ebp+rcsrc.top], edx
mov     edx, [ebp+var_1c]
add     edx, ecx
sub     edx, eax
test    byte ptr [esi+9], 8
mov     [ebp+rcsrc.bottom], edx
jz      short loc_2780c3fc
mov     eax, [ebp+hdc]
push    14h
sub     eax, esi
pop     ecx
sub     eax, 0ech
mov     [ebp+var_4], 4801h
cdq
idiv    ecx
cmp     [esi+0c8h], eax
jnz     short loc_2780c3e7
mov     eax, dy
add     [ebp+rcsrc.right], eax
lea     eax, [esi+0ach]
push    eax
push    0fh
lea     eax, [ebp+rcsrc]
push    2
push    eax
push    ebx
call    sub_27811a00
and     [ebp+hdc], 0
jmp     short loc_2780c3fc
and     [ebp+hdc], 0ffffffefh
jmp     loc_2780bf81
mov     eax, [ebp+w]
sub     eax, [esi+50h]
jmp     loc_2780c0f4
push    [ebp+var_5c]
jmp     loc_2780c145
mov     eax, [esi+0c4h]
lea     eax, [eax+eax*4]
lea     eax, [esi+eax*4+0ech]
cmp     eax, [ebp+hdc]
jnz     short loc_2780c3c5
cmp     [ebp+hdc], 0
jz      short loc_2780c43b
mov     eax, [ebp+hdc]
push    14h
sub     eax, esi
pop     ecx
sub     eax, 0ech
cdq
idiv    ecx
cmp     [esi+0c8h], eax
jnz     loc_2780c507
mov     eax, dy
add     [ebp+rcsrc.right], eax
lea     eax, [esi+0ach]
push    eax
push    0fh
push    2
lea     eax, [ebp+rcsrc]
push    eax
push    ebx
call    sub_27811a00
mov     eax, [ebp+hdc]
test    byte ptr [eax+8], 4
jnz     short loc_2780c454
push    dword_2782a138
push    ebx
call    ds:settextcolor
mov     [ebp+xleft], eax
mov     ecx, [esi+80h]
mov     eax, [ebp+cy]
sub     eax, ecx
inc     [ebp+rcsrc.left]
cdq
sub     eax, edx
mov     edx, [ebp+rcsrc.left]
sar     eax, 1
add     eax, [ebp+ytop]
add     edx, [esi+7ch]
add     ecx, eax
mov     [ebp+rcsrc.top], eax
mov     [ebp+rcsrc.bottom], ecx
mov     ecx, [ebp+hdc]
mov     [ebp+rcsrc.right], edx
test    byte ptr [ecx+8], 3
jnz     short loc_2780c4a1
mov     eax, ecx
push    14h
sub     eax, esi
pop     ecx
sub     eax, 0ech
cdq
idiv    ecx
cmp     [esi+0c8h], eax
jnz     short loc_2780c4b8
mov     edx, [ebp+rcsrc.right]
mov     eax, [ebp+rcsrc.top]
test    byte ptr [ebp+var_ac+2], 4
jnz     short loc_2780c4b8
inc     [ebp+rcsrc.left]
inc     eax
inc     edx
inc     [ebp+rcsrc.bottom]
mov     [ebp+rcsrc.top], eax
mov     [ebp+rcsrc.right], edx
push    [ebp+var_4]
lea     eax, [ebp+rcsrc]
push    eax
push    ebx
call    sub_277e6e76
test    byte ptr [ebp+var_4+1], 1
jz      short loc_2780c4d5
push    [ebp+xleft]
push    ebx
call    ds:settextcolor
push    [ebp+var_3c]
push    ebx
call    edi
push    [ebp+var_38]
push    ebx
call    ds:settextcolor
test    byte ptr [ebp+var_ac], 10h
jz      short loc_2780c500
lea     eax, [ebp+lparam]
push    eax
push    10002h
push    esi
call    sub_27811d7b
pop     edi
pop     esi
pop     ebx
leave
retn    18h
lea     eax, [esi+0ach]
push    eax
push    1
push    6
jmp     loc_2780c431
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_2780c547
lea     ecx, [ebp+pv]
push    ecx
push    18h
push    eax
call    ds:getobjecta
cmp     edi, [ebp+var_14]
jg      short loc_2780c547
cmp     ebx, [ebp+var_10]
jle     short loc_2780c56b
add     ebx, 8
add     edi, 8
push    ebx
push    edi
call    sub_27813387
mov     edi, eax
test    edi, edi
jz      short loc_2780c56e
mov     eax, [esi+20h]
test    eax, eax
jz      short loc_2780c568
push    eax
call    ds:deleteobject
mov     [esi+20h], edi
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
xor     ecx, ecx
cmp     edi, ecx
jnz     short loc_2780c587
push    18h
pop     edi
mov     ebx, [ebp+arg_8]
cmp     ebx, ecx
jnz     short loc_2780c591
push    16h
pop     ebx
cmp     [ebp+arg_c], ecx
jz      short loc_2780c5c9
mov     esi, [ebp+arg_0]
test    byte ptr [esi+9], 10h
jz      short loc_2780c5ad
mov     eax, [esi+50h]
mov     edx, dword_2782a06c
lea     eax, [eax+edx*2]
add     edi, eax
add     edi, [esi+88h]
mov     eax, [esi+58h]
add     ebx, [esi+8ch]
cmp     edi, eax
jge     short loc_2780c5fc
cmp     [esi+44h], ecx
jz      short loc_2780c5fc
mov     edi, eax
jmp     short loc_2780c5fc
mov     esi, [ebp+arg_0]
cmp     ebx, 0ffffffffh
jnz     short loc_2780c5d4
mov     ebx, [esi+5ch]
cmp     edi, 0ffffffffh
jnz     short loc_2780c5dc
mov     edi, [esi+58h]
mov     eax, [esi+8ch]
mov     edx, [esi+54h]
add     eax, edx
cmp     ebx, eax
jge     short loc_2780c5ed
mov     ebx, eax
mov     eax, [esi+88h]
mov     edx, [esi+50h]
add     eax, edx
cmp     edi, eax
jl      short loc_2780c5c5
cmp     [esi+20h], ecx
jz      short loc_2780c60b
cmp     edi, [esi+58h]
jg      short loc_2780c60b
cmp     ebx, [esi+5ch]
jle     short loc_2780c617
push    ebx
push    edi
push    esi
call    sub_2780c517
test    eax, eax
jz      short loc_2780c64c
cmp     [ebp+arg_c], 0
jnz     short loc_2780c633
cmp     [esi+58h], edi
jnz     short loc_2780c627
cmp     [esi+5ch], ebx
jz      short loc_2780c633
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
test    byte ptr [esi+9], 8
mov     [esi+58h], edi
mov     [esi+5ch], ebx
jz      short loc_2780c653
and     dword ptr [esi+68h], 0
push    esi
call    sub_2780dc3c
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
mov     dword ptr [esi+68h], 2
jmp     short loc_2780c643
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_4]
test    edi, edi
jnz     short loc_2780c66a
push    1
pop     edi
mov     ebx, [esp+0ch+arg_8]
test    ebx, ebx
jnz     short loc_2780c675
push    1
pop     ebx
mov     esi, [esp+0ch+arg_0]
cmp     edi, 0ffffffffh
jnz     short loc_2780c681
mov     edi, [esi+50h]
cmp     ebx, 0ffffffffh
jnz     short loc_2780c689
mov     ebx, [esi+54h]
cmp     [esi+50h], edi
mov     eax, ebx
jnz     short loc_2780c695
cmp     [esi+54h], ebx
jz      short loc_2780c6d2
cmp     dword ptr [esi+44h], 0
jnz     short loc_2780c6a4
test    byte ptr [esi+9ch], 8
jz      short loc_2780c6ab
push    ebx
push    esi
call    sub_2780b23c
push    1
push    eax
push    edi
push    esi
call    sub_2780c575
test    eax, eax
jz      short loc_2780c6db
push    1
push    0
push    dword ptr [esi]
mov     [esi+50h], edi
mov     [esi+54h], ebx
call    ds:invalidaterect
and     dword ptr [esi+9ch], 0fffffffeh
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    0ch
xor     eax, eax
jmp     short loc_2780c6d5
push    esi
push    edi
call    sub_277b344b
mov     esi, [esp+8+arg_0]
mov     edi, 8000h
mov     eax, [esi+0b8h]
test    eax, eax
jz      short loc_2780c708
test    [esi+8], edi
jz      short loc_2780c726
or      ecx, 0ffffffffh
push    ecx
push    eax
call    sub_27813ac4
mov     eax, [esi+0bch]
test    eax, eax
jz      short loc_2780c721
test    [esi+8], edi
jz      short loc_2780c72e
or      ecx, 0ffffffffh
push    ecx
push    eax
call    sub_27813ac4
pop     edi
pop     esi
retn    4
mov     ecx, color
jmp     short loc_2780c701
mov     ecx, color
jmp     short loc_2780c71a
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+1ch]
test    eax, eax
jz      short loc_2780c75c
push    dword_2782a124
push    eax
call    ds:selectobject
push    dword ptr [esi+1ch]
call    ds:deletedc
and     dword ptr [esi+1ch], 0
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 6ch
and     [ebp+lparam], 0
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    1ah
xor     eax, eax
test    byte ptr [esi+9], 20h
pop     ecx
lea     edi, [ebp+var_68]
rep stosd
mov     edi, [ebp+wparam]
mov     [ebp+var_5c], edi
jz      short loc_2780c7d1
lea     eax, [ebp+lparam]
push    eax
push    3
push    esi
call    sub_27811d7b
mov     [esi+0ch], eax
test    byte ptr [esi+0ch], 4
jnz     short loc_2780c7b9
test    byte ptr [esi+9], 80h
jz      short loc_2780c7ac
push    edi
push    dword ptr [esi]
call    sub_2781185f
test    eax, eax
jnz     short loc_2780c7b9
push    0
push    edi
push    14h
push    dword ptr [esi]
call    ds:defwindowproca
test    byte ptr [esi+0ch], 40h
jz      short loc_2780c7cb
lea     eax, [ebp+lparam]
push    eax
push    4
push    esi
call    sub_27811d7b
pop     edi
pop     esi
leave
retn    8
and     dword ptr [esi+0ch], 0
jmp     short loc_2780c794
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
push    edi
push    [ebp+color]
push    1
push    0
call    ds:createpen
test    eax, eax
mov     [ebp+color], eax
jnz     short loc_2780c7ff
push    7
call    ds:getstockobject
mov     [ebp+color], eax
push    [ebp+color]
push    [ebp+hdc]
call    ds:selectobject
cmp     [ebp+arg_8], 0
mov     edi, [ebp+arg_4]
mov     [ebp+h], eax
jz      loc_2780c8e3
mov     eax, [edi+8]
push    4
add     eax, [edi]
cdq
sub     eax, edx
mov     esi, eax
mov     eax, [edi+4]
sar     esi, 1
lea     ecx, [eax+2]
mov     [ebp+var_18], eax
mov     [ebp+var_10], eax
lea     eax, [ebp+apt]
lea     edx, [esi+3]
push    eax
push    [ebp+hdc]
mov     [ebp+arg_4], edx
mov     [ebp+var_1c], edx
lea     ebx, [esi+1]
lea     edx, [esi-2]
mov     [ebp+apt.x], ebx
mov     [ebp+apt.y], ecx
mov     [ebp+arg_8], edx
mov     [ebp+var_14], edx
mov     [ebp+var_c], esi
mov     [ebp+var_8], ecx
call    ds:polyline
mov     eax, [edi+4]
mov     ecx, [edi+0ch]
mov     [ebp+apt.y], eax
mov     [ebp+var_8], eax
lea     eax, [ebp+apt]
push    4
push    eax
dec     ecx
push    [ebp+hdc]
mov     [ebp+apt.x], esi
mov     [ebp+var_1c], esi
mov     [ebp+var_18], ecx
mov     [ebp+var_14], ebx
mov     [ebp+var_10], ecx
mov     [ebp+var_c], ebx
call    ds:polyline
mov     edi, [edi+0ch]
mov     ecx, [ebp+arg_4]
mov     edx, [ebp+arg_8]
mov     [ebp+var_1c], ecx
lea     eax, [edi-3]
push    4
mov     [ebp+apt.y], eax
mov     [ebp+var_8], eax
lea     eax, [ebp+apt]
lea     ecx, [edi-1]
push    eax
mov     [ebp+apt.x], ebx
push    [ebp+hdc]
mov     [ebp+var_18], ecx
mov     [ebp+var_14], edx
mov     [ebp+var_10], ecx
mov     [ebp+var_c], esi
call    ds:polyline
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+color]
call    ds:deleteobject
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [edi+4]
push    4
add     eax, [edi+0ch]
cdq
sub     eax, edx
mov     esi, eax
mov     eax, [edi]
sar     esi, 1
lea     ecx, [eax+2]
mov     [ebp+var_1c], eax
mov     [ebp+var_14], eax
lea     eax, [esi+3]
mov     [ebp+arg_8], eax
mov     [ebp+var_10], eax
lea     eax, [ebp+apt]
lea     edx, [esi-2]
push    eax
lea     ebx, [esi+1]
push    [ebp+hdc]
mov     [ebp+apt.x], ecx
mov     [ebp+apt.y], esi
mov     [ebp+arg_4], edx
mov     [ebp+var_18], edx
mov     [ebp+var_c], ecx
mov     [ebp+var_8], ebx
call    ds:polyline
mov     eax, [edi]
mov     ecx, [edi+8]
mov     [ebp+apt.x], eax
mov     [ebp+var_c], eax
lea     eax, [ebp+apt]
push    4
push    eax
dec     ecx
push    [ebp+hdc]
mov     [ebp+apt.y], esi
mov     [ebp+var_1c], ecx
mov     [ebp+var_18], esi
mov     [ebp+var_14], ecx
mov     [ebp+var_10], ebx
mov     [ebp+var_8], ebx
call    ds:polyline
mov     edi, [edi+8]
mov     edx, [ebp+arg_4]
push    4
mov     [ebp+apt.y], esi
lea     eax, [edi-3]
lea     ecx, [edi-1]
mov     [ebp+apt.x], eax
mov     [ebp+var_c], eax
lea     eax, [ebp+apt]
mov     [ebp+var_1c], ecx
mov     [ebp+var_14], ecx
mov     ecx, [ebp+arg_8]
push    eax
mov     [ebp+var_18], edx
push    [ebp+hdc]
mov     [ebp+var_10], ecx
mov     [ebp+var_8], ebx
jmp     loc_2780c8c1
push    ebp
mov     ebp, esp
sub     esp, 0e4h
and     [ebp+lparam], 0
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
push    1ah
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_a0]
lea     ebx, [esi+0ech]
rep stosd
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [ebp+rect.right]
xor     edi, edi
sub     eax, [ebp+rect.left]
mov     [ebp+var_28], eax
mov     eax, [ebp+arg_4]
cmp     eax, edi
jnz     short loc_2780c9e3
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:beginpaint
cmp     [ebp+rect.right], edi
mov     [ebp+hdc], eax
jz      loc_2780cba0
mov     [ebp+var_94], eax
lea     eax, [ebp+lparam]
push    eax
push    1
push    esi
call    sub_27811d7b
test    al, 4
mov     [esi+0ch], eax
jnz     loc_2780cb7c
test    byte ptr [esi+9ch], 1
jnz     short loc_2780ca1e
push    esi
call    sub_2780da25
mov     eax, [esi+68h]
mov     [ebp+var_18], edi
mov     [ebp+ytop], eax
mov     [ebp+rect.top], eax
add     eax, [esi+5ch]
cmp     [esi+6ch], edi
mov     [ebp+rect.bottom], eax
mov     eax, [esi+84h]
mov     [ebp+xleft], eax
jle     loc_2780cb3e
mov     edi, ds:inflaterect
test    byte ptr [ebx+8], 8
jnz     loc_2780cb2c
push    [ebp+hdc]
push    ebx
push    esi
call    sub_2780b281
test    byte ptr [ebx+9], 1
mov     ecx, eax
mov     [ebp+var_20], ecx
jz      short loc_2780ca71
test    byte ptr [esi+9], 8
jz      loc_2780caf2
mov     eax, [ebp+xleft]
mov     [ebp+rect.left], eax
add     ecx, eax
lea     eax, [ebp+rect]
mov     [ebp+rect.right], ecx
push    eax
push    [ebp+hdc]
call    ds:rectvisible
test    eax, eax
jz      short loc_2780caf2
test    byte ptr [ebx+9], 1
jz      loc_2780cc01
test    byte ptr [esi+8], 80h
jz      loc_2780cbbb
mov     eax, [ebp+rect.top]
push    ebx
push    esi
mov     [ebp+var_24], eax
call    sub_2780b264
dec     eax
push    0
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+rect.top], eax
mov     eax, dword_2782a06c
neg     eax
push    eax
lea     eax, [ebp+rect]
push    eax
call    edi
lea     eax, [esi+0ach]
push    eax
push    2
lea     eax, [ebp+rect]
push    6
push    eax
push    [ebp+hdc]
call    sub_27811a00
push    0
lea     eax, [ebp+rect]
push    dword_2782a06c
push    eax
call    edi
mov     eax, [ebp+var_24]
mov     [ebp+rect.top], eax
mov     eax, [ebp+var_20]
add     [ebp+xleft], eax
test    byte ptr [ebx+8], 20h
jz      short loc_2780cb2c
test    byte ptr [ebx+9], 1
jz      loc_2780cc79
mov     eax, [esi+8]
test    al, 80h
jz      loc_2780cc22
push    ebx
push    esi
call    sub_2780b264
mov     ecx, [esi+84h]
add     [ebp+ytop], eax
add     [ebp+rect.top], eax
add     [ebp+rect.bottom], eax
mov     [ebp+xleft], ecx
inc     [ebp+var_18]
add     ebx, 14h
mov     eax, [ebp+var_18]
cmp     eax, [esi+6ch]
jl      loc_2780ca48
cmp     dword ptr [esi+0cch], 0ffffffffh
jz      short loc_2780cb74
mov     edi, [esi+8]
lea     eax, [ebp+rcsrc]
not     edi
shr     edi, 7
and     edi, 1
push    edi
push    eax
push    esi
call    sub_2780cf03
test    eax, eax
jz      short loc_2780cb74
push    dword ptr [esi+0d0h]
lea     eax, [ebp+rcsrc]
push    edi
push    eax
push    [ebp+hdc]
call    sub_2780c7d7
push    esi
call    sub_2780c736
xor     edi, edi
test    byte ptr [esi+0ch], 10h
jz      short loc_2780cba0
mov     eax, [ebp+hdc]
mov     [ebp+var_7c], edi
mov     [ebp+var_94], eax
lea     eax, [ebp+lparam]
push    eax
push    2
push    esi
mov     [ebp+var_78], edi
call    sub_27811d7b
cmp     [ebp+arg_4], edi
jnz     short loc_2780cbb4
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:endpaint
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebp+var_20]
dec     eax
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+rect.left], eax
mov     eax, dy
neg     eax
push    eax
lea     eax, [ebp+rect]
push    0
push    eax
call    edi
lea     eax, [esi+0ach]
push    eax
push    1
lea     eax, [ebp+rect]
push    6
push    eax
push    [ebp+hdc]
call    sub_27811a00
push    dy
lea     eax, [ebp+rect]
push    0
push    eax
call    edi
jmp     loc_2780caf2
mov     eax, [esi+0e4h]
shr     eax, 1
and     eax, 1
push    eax
push    ebx
push    esi
push    [ebp+ytop]
push    [ebp+xleft]
push    [ebp+hdc]
call    sub_2780bf1f
jmp     loc_2780caf2
test    ah, 8
jz      short loc_2780cc6a
push    ebx
push    esi
call    sub_2780b264
dec     eax
mov     ecx, dword_2782a06c
cdq
sub     eax, edx
mov     [ebp+rcsrc.left], ecx
sar     eax, 1
add     eax, [ebp+rect.top]
add     eax, [esi+5ch]
mov     [ebp+rcsrc.top], eax
add     eax, ecx
mov     [ebp+rcsrc.bottom], eax
mov     eax, [ebp+var_28]
sub     eax, ecx
mov     [ebp+rcsrc.right], eax
lea     eax, [esi+0ach]
push    eax
push    2
lea     eax, [ebp+rcsrc]
push    6
push    eax
push    [ebp+hdc]
call    sub_27811a00
push    ebx
push    esi
call    sub_2780b264
add     eax, [esi+5ch]
jmp     loc_2780cb1a
mov     eax, [esi+5ch]
jmp     loc_2780cb1a
push    esi
mov     esi, [esp+4+arg_8]
push    edi
mov     edi, [esp+8+lpchtext]
push    esi
push    [esp+0ch+arg_4]
push    edi
call    sub_2780cca6
mov     eax, [esi+8]
push    1
sub     eax, [edi+7ch]
mov     [esi], eax
pop     eax
pop     edi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+lpchtext]
push    edi
mov     eax, [esi+5ch]
mov     [ebp+var_4], eax
mov     eax, [ebp+arg_4]
cmp     eax, [esi+6ch]
jnb     loc_2780cd96
lea     ecx, [eax+eax*4]
test    byte ptr [esi+ecx*4+0f4h], 8
jnz     loc_2780cd96
mov     ecx, [esi+84h]
lea     ebx, [esi+0ech]
mov     [ebp+arg_4], ecx
mov     ecx, [esi+68h]
test    eax, eax
mov     [ebp+lpchtext], ecx
jbe     short loc_2780cd34
mov     edi, eax
test    byte ptr [ebx+8], 8
jnz     short loc_2780cd2e
push    0
push    ebx
push    esi
call    sub_2780b281
add     [ebp+arg_4], eax
test    byte ptr [ebx+8], 20h
jz      short loc_2780cd2e
mov     eax, [esi+5ch]
add     [ebp+lpchtext], eax
test    byte ptr [ebx+9], 1
jz      short loc_2780cd25
test    byte ptr [esi+8], 80h
jz      short loc_2780cd1b
sub     [ebp+lpchtext], eax
push    ebx
push    esi
call    sub_2780b264
add     [ebp+lpchtext], eax
mov     eax, [esi+84h]
mov     [ebp+arg_4], eax
add     ebx, 14h
dec     edi
jnz     short loc_2780ccee
test    byte ptr [ebx+8], 20h
jz      short loc_2780cd5f
test    byte ptr [ebx+9], 1
jz      short loc_2780cd8e
test    byte ptr [esi+8], 80h
jnz     short loc_2780cd4c
mov     eax, [esi+5ch]
add     [ebp+lpchtext], eax
push    ebx
push    esi
call    sub_2780b264
mov     [ebp+var_4], eax
mov     eax, [esi+84h]
mov     [ebp+arg_4], eax
mov     edi, [ebp+arg_8]
mov     eax, [ebp+arg_4]
push    0
push    ebx
push    esi
mov     [edi], eax
call    sub_2780b281
add     eax, [ebp+arg_4]
mov     ecx, [ebp+var_4]
push    1
mov     [edi+8], eax
mov     eax, [ebp+lpchtext]
add     ecx, eax
mov     [edi+4], eax
mov     [edi+0ch], ecx
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+5ch]
mov     [ebp+var_4], eax
jmp     short loc_2780cd5f
xor     eax, eax
jmp     short loc_2780cd87
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+rect]
push    esi
mov     esi, [ebp+lpchtext]
push    eax
mov     eax, [ebp+arg_4]
push    14h
sub     eax, esi
pop     ecx
sub     eax, 0ech
cdq
idiv    ecx
push    eax
push    esi
call    sub_2780cca6
test    eax, eax
jz      short loc_2780cdd2
push    [ebp+berase]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
pop     esi
leave
retn    0ch
mov     eax, [esp+arg_4]
cmp     eax, 0ffffffffh
jz      short locret_2780cdf9
push    [esp+berase]
lea     ecx, [eax+eax*4]
mov     eax, [esp+4+lpchtext]
lea     ecx, [eax+ecx*4+0ech]
push    ecx
push    eax
call    sub_2780cd9a
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+lpchtext]
push    edi
test    byte ptr [esi+9], 8
jz      loc_2780cec2
mov     ecx, [esi+0c4h]
mov     ebx, [ebp+arg_4]
mov     edx, [ebp+arg_8]
cmp     ecx, ebx
jnz     short loc_2780ce2b
test    dl, 40h
jz      loc_2780cec2
test    ecx, ecx
jge     short loc_2780ce37
test    ebx, ebx
jl      loc_2780cec2
cmp     ebx, [esi+6ch]
jge     loc_2780cec2
and     [ebp+lparam], 0
xor     eax, eax
lea     edi, [ebp+var_14]
stosd
stosd
stosd
stosd
test    ebx, ebx
stosd
jge     short loc_2780ce60
test    byte ptr [esi+0e4h], 4
jz      short loc_2780ce60
test    dl, 1
jnz     short loc_2780cec2
test    ecx, ecx
jge     short loc_2780cec9
test    ebx, ebx
jl      short loc_2780ce74
lea     eax, [ebx+0ch]
lea     eax, [eax+eax*4]
mov     eax, [esi+eax*4]
mov     [ebp+var_8], eax
mov     [ebp+var_4], 10h
or      [ebp+var_4], edx
lea     eax, [ebp+lparam]
push    eax
push    0fffffd37h
push    esi
call    sub_277b9838
test    eax, eax
jnz     short loc_2780cec2
push    1
push    dword ptr [esi+0c4h]
push    esi
call    sub_2780cdd7
test    ebx, ebx
jl      short loc_2780ceb0
lea     eax, [ebx+ebx*4]
test    byte ptr [esi+eax*4+0f4h], 4
jnz     short loc_2780ceb3
or      ebx, 0ffffffffh
push    1
push    ebx
push    esi
mov     [esi+0c4h], ebx
call    sub_2780cdd7
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
test    ebx, ebx
jge     short loc_2780cee6
test    ecx, ecx
jl      short loc_2780cedd
lea     eax, [ecx+0ch]
lea     eax, [eax+eax*4]
mov     eax, [esi+eax*4]
mov     [ebp+var_c], eax
mov     [ebp+var_4], 20h
jmp     short loc_2780ce7b
lea     eax, [ecx+0ch]
lea     eax, [eax+eax*4]
mov     eax, [esi+eax*4]
mov     [ebp+var_c], eax
lea     eax, [ebx+0ch]
lea     eax, [eax+eax*4]
mov     eax, [esi+eax*4]
mov     [ebp+var_8], eax
jmp     loc_2780ce7b
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     edi, [esp+8+lpchtext]
push    esi
push    dword ptr [edi+0cch]
push    edi
call    sub_2780cca6
test    eax, eax
jz      short loc_2780cf3a
cmp     [esp+8+arg_8], 0
jz      short loc_2780cf46
test    byte ptr [edi+0e4h], 20h
jz      short loc_2780cf3f
mov     ecx, [esi+8]
mov     [esi], ecx
add     dword ptr [esi], 0fffffffdh
add     dword ptr [esi+8], 4
pop     edi
pop     esi
retn    0ch
mov     ecx, [esi]
mov     [esi+8], ecx
jmp     short loc_2780cf33
test    byte ptr [edi+0e4h], 20h
jz      short loc_2780cf5f
mov     ecx, [esi+0ch]
mov     [esi+4], ecx
add     dword ptr [esi+4], 0fffffffdh
add     dword ptr [esi+0ch], 4
jmp     short loc_2780cf3a
mov     ecx, [esi+4]
mov     [esi+0ch], ecx
jmp     short loc_2780cf55
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+lpchtext]
mov     eax, [esi+8]
not     eax
shr     eax, 7
and     eax, 1
push    eax
lea     eax, [ebp+rect]
push    eax
push    esi
call    sub_2780cf03
test    eax, eax
jz      short loc_2780cf99
lea     eax, [ebp+rect]
push    1
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
pop     esi
leave
retn    4
push    esi
mov     esi, [esp+4+lpchtext]
push    edi
mov     edi, [esp+8+arg_4]
mov     eax, [esi+0cch]
cmp     [edi], eax
jnz     short loc_2780cfc8
mov     edx, [esi+0e4h]
mov     ecx, [edi+4]
shr     edx, 5
and     ecx, 1
and     edx, 1
xor     ecx, edx
jz      short loc_2780d006
cmp     eax, 0ffffffffh
jz      short loc_2780cfd3
push    esi
call    sub_2780cf67
mov     eax, [edi]
mov     edx, [esi+0e4h]
mov     [esi+0cch], eax
mov     ecx, [edi+4]
lea     eax, [esi+0e4h]
and     ecx, 1
shl     ecx, 5
and     edx, 0ffffffdfh
or      ecx, edx
cmp     dword ptr [esi+0cch], 0ffffffffh
mov     [eax], ecx
jz      short loc_2780d006
push    esi
call    sub_2780cf67
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
mov     edx, [ebp+arg_4]
mov     eax, [ebp+arg_8]
push    ebx
push    esi
cmp     edx, 0ffffffffh
push    edi
jnz     short loc_2780d023
cmp     eax, 0ffffffffh
jnz     short loc_2780d023
xor     edx, edx
mov     edi, [ebp+lpchtext]
and     [ebp+arg_4], 0
mov     esi, [edi+6ch]
test    esi, esi
jle     short loc_2780d062
lea     ebx, [eax+esi]
lea     eax, [edx+ebx]
cdq
idiv    esi
lea     eax, [edx+edx*4]
mov     cl, [edi+eax*4+0f4h]
lea     eax, [edi+eax*4]
test    cl, 4
jz      short loc_2780d05a
test    cl, 8
jnz     short loc_2780d05a
test    byte ptr [eax+0f5h], 1
jz      short loc_2780d069
inc     [ebp+arg_4]
cmp     [ebp+arg_4], esi
jl      short loc_2780d034
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    [ebp+arg_c]
push    edx
push    edi
call    sub_2780cdfc
jmp     short loc_2780d062
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
push    edi
mov     edi, [ebp+lpchtext]
xor     esi, esi
xor     ebx, ebx
mov     eax, [edi+6ch]
mov     [ebp+var_4], esi
cmp     eax, esi
jnz     short loc_2780d099
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
jle     short loc_2780d0cd
lea     eax, [ebp+var_14]
push    eax
push    esi
push    edi
call    sub_2780cca6
test    eax, eax
jz      short loc_2780d0c7
mov     eax, [ebp+arg_8]
cmp     eax, [ebp+var_10]
jl      short loc_2780d0d8
cmp     eax, [ebp+var_8]
jge     short loc_2780d0d8
mov     eax, [ebp+arg_4]
cmp     eax, [ebp+var_14]
jl      short loc_2780d0c4
cmp     eax, [ebp+var_c]
jl      short loc_2780d0f2
lea     ebx, [esi+1]
inc     esi
cmp     esi, [edi+6ch]
jl      short loc_2780d09b
test    ebx, ebx
jz      short loc_2780d0dd
or      eax, 0ffffffffh
sub     eax, ebx
jmp     short loc_2780d092
mov     [ebp+var_4], esi
jmp     short loc_2780d0c7
mov     eax, [ebp+var_8]
cmp     [ebp+arg_8], eax
jle     short loc_2780d0ec
or      eax, 0ffffffffh
sub     eax, esi
jmp     short loc_2780d092
mov     eax, [ebp+var_4]
inc     eax
jmp     short loc_2780d092
lea     eax, [esi+esi*4]
test    byte ptr [edi+eax*4+0f5h], 1
jnz     short loc_2780d0e5
mov     eax, esi
jmp     short loc_2780d092
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
push    edi
mov     edi, [ebp+lpchtext]
or      [ebp+var_10], 0ffffffffh
or      [ebp+var_8], 0ffffffffh
mov     esi, [edi+8]
xor     ebx, ebx
not     esi
shr     esi, 7
and     esi, 1
cmp     [edi+6ch], ebx
mov     [ebp+var_4], 3
jle     short loc_2780d175
lea     eax, [ebp+var_20]
push    eax
push    ebx
push    edi
call    sub_2780cca6
test    eax, eax
jz      short loc_2780d16f
mov     eax, [ebp+arg_8]
cmp     eax, [ebp+var_1c]
jl      loc_2780d20f
cmp     eax, [ebp+var_14]
jge     short loc_2780d191
mov     eax, [ebp+arg_4]
cmp     eax, [ebp+var_20]
jl      loc_2780d1fe
mov     edx, [ebp+var_18]
cmp     eax, edx
jl      short loc_2780d1a5
cmp     eax, [ebp+var_20]
jl      loc_2780d1fe
mov     [ebp+var_10], ebx
inc     ebx
cmp     ebx, [edi+6ch]
jl      short loc_2780d130
mov     ecx, [ebp+var_10]
mov     eax, [ebp+arg_c]
cmp     ecx, 0ffffffffh
jz      short loc_2780d19b
push    3
mov     [eax], ecx
pop     ecx
mov     [eax+4], ecx
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     eax, [ebp+var_1c]
jl      short loc_2780d20f
mov     [ebp+var_8], ebx
jmp     short loc_2780d16f
mov     ecx, [ebp+var_8]
mov     [eax], ecx
mov     ecx, [ebp+var_4]
jmp     short loc_2780d185
mov     eax, [ebp+arg_c]
xor     edi, edi
cmp     esi, edi
mov     [eax], ebx
jz      short loc_2780d1d4
mov     ecx, dword_2782a06c
mov     esi, [ebp+var_20]
shl     ecx, 2
add     esi, ecx
cmp     [ebp+arg_4], esi
jl      short loc_2780d1e7
sub     edx, ecx
cmp     [ebp+arg_4], edx
jle     short loc_2780d1f9
push    1
pop     ecx
mov     [eax+4], ecx
mov     eax, ecx
jmp     short loc_2780d18a
mov     ecx, dy
mov     edx, [ebp+var_1c]
shl     ecx, 2
add     edx, ecx
cmp     [ebp+arg_8], edx
jge     short loc_2780d1ef
push    1
mov     [eax+4], edi
pop     eax
jmp     short loc_2780d18a
mov     edx, [ebp+var_14]
sub     edx, ecx
cmp     [ebp+arg_8], edx
jmp     short loc_2780d1c8
mov     [eax+4], edi
jmp     short loc_2780d188
mov     eax, [ebp+arg_c]
mov     [eax], ebx
mov     dword ptr [eax+4], 2
jmp     loc_2780d188
mov     ecx, [ebp+var_10]
mov     eax, [ebp+arg_c]
cmp     ecx, 0ffffffffh
jz      short loc_2780d201
jmp     loc_2780d180
mov     ecx, [esp+arg_0]
push    1
pop     eax
test    byte ptr [ecx+8], 80h
jnz     short locret_2780d256
mov     edx, [ecx+6ch]
lea     edx, [edx+edx*4]
lea     edx, [ecx+edx*4+0ech]
add     ecx, 0ech
cmp     ecx, edx
jnb     short locret_2780d256
test    byte ptr [ecx+8], 20h
jz      short loc_2780d251
inc     eax
test    byte ptr [ecx+9], 1
jz      short loc_2780d251
inc     eax
add     ecx, 14h
jmp     short loc_2780d23f
retn    4
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
mov     esi, [ebp+lpchtext]
xor     ecx, ecx
push    edi
mov     [ebp+var_18], ecx
mov     eax, [esi+58h]
mov     [ebp+var_c], ecx
cmp     [ebp+arg_4], eax
mov     [ebp+var_1c], ecx
mov     [ebp+var_10], ecx
mov     [ebp+var_8], ecx
jge     short loc_2780d281
mov     [ebp+arg_4], eax
mov     [ebp+var_14], eax
mov     eax, [esi+84h]
mov     [ebp+var_4], eax
mov     eax, [esi+68h]
mov     ebx, [ebp+arg_c]
or      dword ptr [esi+90h], 0ffffffffh
or      dword ptr [esi+94h], 0ffffffffh
mov     [ebp+lpchtext], eax
mov     eax, [esi+6ch]
cmp     ebx, ecx
lea     eax, [eax+eax*4]
lea     eax, [esi+eax*4+0ech]
mov     [ebp+var_28], eax
jz      short loc_2780d2be
mov     dword ptr [ebx], 1
lea     edi, [esi+0ech]
cmp     edi, eax
jnb     loc_2780d424
mov     al, [edi+8]
mov     [ebp+var_24], edi
mov     dl, al
and     al, 0dfh
and     edx, 20h
mov     [edi+8], al
test    al, 8
mov     [ebp+var_20], edx
jnz     loc_2780d418
push    ecx
push    edi
push    esi
call    sub_2780b281
add     [ebp+var_4], eax
lea     eax, [edi+9]
mov     [ebp+var_2c], eax
mov     al, [eax]
and     al, 1
jnz     loc_2780d392
mov     ecx, [ebp+arg_4]
cmp     [ebp+var_4], ecx
jle     loc_2780d392
lea     eax, [esi+0ech]
mov     ebx, edi
cmp     edi, eax
jbe     short loc_2780d338
mov     cl, [ebx+8]
test    cl, 20h
jnz     short loc_2780d338
test    byte ptr [ebx+9], 1
jz      short loc_2780d331
test    cl, 8
jz      loc_2780d491
sub     ebx, 14h
cmp     ebx, eax
ja      short loc_2780d31a
cmp     edi, eax
mov     ebx, edi
jz      short loc_2780d353
sub     ebx, 14h
cmp     ebx, eax
jbe     short loc_2780d34b
test    byte ptr [ebx+8], 8
jnz     short loc_2780d33e
test    byte ptr [ebx+8], 20h
jz      short loc_2780d353
mov     ebx, edi
mov     eax, [esi+5ch]
mov     [ebp+var_8], 1
add     [ebp+lpchtext], eax
mov     eax, [ebp+arg_c]
or      byte ptr [ebx+8], 20h
cmp     ebx, [ebp+var_c]
jnz     short loc_2780d372
cmp     [ebp+var_10], 0
jnz     short loc_2780d379
mov     [ebp+var_18], 1
mov     ecx, [esi+84h]
mov     edi, ebx
test    eax, eax
mov     [ebp+var_4], ecx
jz      short loc_2780d38d
mov     eax, [ebp+arg_c]
inc     dword ptr [eax]
mov     ebx, [ebp+arg_c]
jmp     short loc_2780d3ff
test    al, al
jz      short loc_2780d3d6
test    byte ptr [esi+8], 80h
jz      loc_2780d459
mov     ecx, [ebp+var_1c]
test    ecx, ecx
jz      short loc_2780d3b9
mov     al, [ecx+8]
test    al, 20h
jnz     short loc_2780d3b9
or      al, 20h
mov     [ecx+8], al
mov     eax, [esi+5ch]
add     [ebp+lpchtext], eax
mov     eax, [esi+84h]
push    edi
push    esi
mov     [ebp+var_4], eax
call    sub_2780b264
add     [ebp+lpchtext], eax
or      byte ptr [edi+8], 20h
test    ebx, ebx
jz      short loc_2780d3d6
inc     dword ptr [ebx]
test    byte ptr [edi+8], 8
jnz     short loc_2780d3ff
mov     eax, [ebp+var_c]
test    eax, eax
jz      short loc_2780d3f6
cmp     [ebp+var_10], 0
jz      short loc_2780d3f6
test    byte ptr [eax+8], 20h
jnz     short loc_2780d3f6
mov     [ebp+var_18], 1
mov     eax, [ebp+var_20]
mov     [ebp+var_c], edi
mov     [ebp+var_10], eax
test    byte ptr [edi+9], 1
jnz     short loc_2780d410
mov     eax, [ebp+var_4]
cmp     eax, [ebp+var_14]
jle     short loc_2780d410
mov     [ebp+var_14], eax
mov     eax, [ebp+var_24]
xor     ecx, ecx
mov     [ebp+var_1c], eax
add     edi, 14h
cmp     edi, [ebp+var_28]
jb      loc_2780d2cc
mov     eax, [ebp+arg_8]
cmp     eax, ecx
jz      short loc_2780d442
mov     edx, [ebp+var_14]
mov     [eax], ecx
mov     [eax+8], edx
mov     [eax+4], ecx
mov     edx, [esi+5ch]
add     edx, [ebp+lpchtext]
add     edx, [esi+68h]
mov     [eax+0ch], edx
cmp     [ebp+var_18], ecx
jz      short loc_2780d452
push    1
push    ecx
push    dword ptr [esi]
call    ds:invalidaterect
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     [ebp+var_8], 0
jz      loc_2780d3d6
or      byte ptr [edi+8], 20h
mov     eax, [esi+84h]
and     [ebp+var_8], 0
push    edi
push    esi
mov     [ebp+var_4], eax
call    sub_2780b264
add     eax, [esi+5ch]
add     [ebp+lpchtext], eax
test    ebx, ebx
jz      loc_2780d3d6
add     dword ptr [ebx], 2
jmp     loc_2780d3d6
push    ebx
push    esi
call    sub_2780b264
add     eax, [esi+5ch]
and     [ebp+var_8], 0
add     [ebp+lpchtext], eax
mov     eax, [ebp+arg_c]
test    eax, eax
jz      loc_2780d363
inc     dword ptr [eax]
jmp     loc_2780d363
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
cmp     esi, 1
jge     short loc_2780d4c8
push    1
pop     esi
mov     edi, [ebp+lpchtext]
push    edi
call    sub_2780d21f
cmp     esi, eax
mov     [ebp+lpchtext], eax
jz      loc_2780d55f
mov     ecx, [edi+6ch]
test    ecx, ecx
jz      short loc_2780d55f
mov     eax, [edi+58h]
lea     ebx, [ecx+1]
lea     ecx, [esi+1]
mov     [ebp+var_4], eax
cmp     ecx, esi
mov     [ebp+lpchtext], ecx
mov     [ebp+arg_4], eax
jle     short loc_2780d530
push    4
cdq
pop     ecx
idiv    ecx
mov     [ebp+var_8], eax
lea     eax, [ebp+lpchtext]
push    eax
lea     eax, [ebp+var_18]
push    eax
push    [ebp+arg_4]
push    edi
call    sub_2780d259
mov     ecx, [ebp+lpchtext]
cmp     ecx, ebx
jge     short loc_2780d526
cmp     ecx, esi
jle     short loc_2780d526
mov     eax, [ebp+arg_4]
mov     ebx, ecx
mov     [ebp+var_4], eax
mov     eax, [ebp+var_8]
add     [ebp+arg_4], eax
cmp     ecx, esi
jg      short loc_2780d502
jge     short loc_2780d547
cmp     [ebp+arg_8], 0
jz      short loc_2780d547
lea     eax, [ebp+var_18]
push    0
push    eax
push    [ebp+var_4]
push    edi
call    sub_2780d259
mov     edi, [ebp+lprect]
test    edi, edi
jz      short loc_2780d555
lea     esi, [ebp+var_18]
movsd
movsd
movsd
movsd
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    [ebp+lprect]
push    dword ptr [edi]
call    ds:getclientrect
xor     eax, eax
jmp     short loc_2780d558
mov     ecx, [esp+arg_0]
push    esi
test    ecx, ecx
jz      short loc_2780d596
mov     edx, [ecx+6ch]
xor     eax, eax
test    edx, edx
jle     short loc_2780d596
add     ecx, 0f0h
mov     esi, [ecx]
cmp     esi, [esp+4+arg_4]
jz      short loc_2780d599
inc     eax
add     ecx, 14h
cmp     eax, edx
jl      short loc_2780d586
or      eax, 0ffffffffh
pop     esi
retn    8
push    ebx
push    esi
mov     esi, [esp+8+lpchtext]
push    edi
push    [esp+0ch+arg_4]
mov     ebx, [esi+6ch]
push    esi
call    sub_2780d56e
test    eax, eax
jl      short loc_2780d623
lea     ecx, [eax+eax*4]
test    byte ptr [esi+ecx*4+0f4h], 1
lea     edi, [esi+ecx*4+0ech]
jz      short loc_2780d623
test    eax, eax
mov     ecx, eax
jle     short loc_2780d5df
lea     edx, [edi+9]
test    byte ptr [edx], 4
jz      short loc_2780d5df
dec     ecx
sub     edx, 14h
test    ecx, ecx
jg      short loc_2780d5d2
dec     ebx
mov     edx, eax
cmp     eax, ebx
jge     short loc_2780d5f6
add     edi, 9
test    byte ptr [edi], 4
jz      short loc_2780d5f6
inc     edx
add     edi, 14h
cmp     edx, ebx
jl      short loc_2780d5e9
lea     edi, [edx+edx*4]
test    byte ptr [esi+edi*4+0f5h], 4
jnz     short loc_2780d604
dec     edx
cmp     ecx, edx
jg      short loc_2780d623
lea     edi, [ecx+ecx*4]
lea     edi, [esi+edi*4+0f4h]
cmp     ecx, eax
jz      short loc_2780d61b
test    byte ptr [edi], 1
jnz     short loc_2780d629
inc     ecx
add     edi, 14h
cmp     ecx, edx
jle     short loc_2780d612
pop     edi
pop     esi
pop     ebx
retn    8
lea     eax, [ecx+ecx*4]
push    1
push    ecx
push    esi
and     byte ptr [esi+eax*4+0f4h], 0feh
lea     eax, [esi+eax*4+0f4h]
call    sub_2780cdd7
jmp     short loc_2780d623
push    ebx
mov     ebx, [esp+4+arg_0]
push    ebp
push    esi
xor     ebp, ebp
xor     esi, esi
cmp     [ebx+44h], ebp
push    edi
mov     edi, [ebx+40h]
mov     [esp+10h+arg_0], ebp
jle     short loc_2780d68d
mov     eax, [edi]
cmp     eax, esi
jnb     short loc_2780d668
cmp     eax, ebp
ja      short loc_2780d67d
push    eax
mov     ebp, eax
call    ds:localsize
push    dword ptr [edi]
mov     esi, eax
add     esi, ebp
call    ds:localfree
add     edi, 4
inc     [esp+10h+arg_0]
mov     eax, [esp+10h+arg_0]
cmp     eax, [ebx+44h]
jl      short loc_2780d65e
push    dword ptr [ebx+40h]
call    ds:localfree
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebp
mov     ebp, esp
cmp     [ebp+hinstance], 0
push    ebx
push    esi
push    edi
jz      loc_2780d7b6
mov     esi, 400h
push    esi
push    40h
call    ds:localalloc
mov     edi, eax
test    edi, edi
jz      loc_2780d7a2
movzx   eax, word ptr [ebp+arg_8]
push    esi
push    edi
push    eax
push    [ebp+hinstance]
call    ds:loadstringa
mov     ebx, eax
test    ebx, ebx
jz      loc_2780d79b
lea     eax, [ebx+1]
push    2
push    eax
push    edi
call    ds:localrealloc
mov     al, [edi]
and     [ebp+hinstance], 0
dec     ebx
mov     byte ptr [ebp+arg_8], al
lea     esi, [edi+1]
jz      short loc_2780d72d
mov     al, byte ptr [ebp+arg_8]
cmp     [esi], al
jnz     short loc_2780d70d
cmp     ebx, 1
jz      short loc_2780d70a
inc     [ebp+hinstance]
and     byte ptr [esi], 0
mov     al, [esi]
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jz      loc_2780d7ac
mov     ax, [esi]
mov     [esi-1], ax
inc     esi
dec     ebx
dec     ebx
inc     esi
test    ebx, ebx
jnz     short loc_2780d6fb
mov     esi, [ebp+arg_0]
mov     eax, [ebp+hinstance]
add     eax, [esi+44h]
shl     eax, 2
push    eax
push    dword ptr [esi+40h]
call    sub_27811902
test    eax, eax
jz      short loc_2780d79b
mov     ecx, [esi+44h]
mov     [esi+40h], eax
lea     ebx, [eax+ecx*4]
mov     eax, [ebp+hinstance]
test    eax, eax
jle     short loc_2780d771
mov     [ebp+arg_8], eax
push    edi
mov     [ebx], edi
call    ds:lstrlena
add     ebx, 4
dec     [ebp+arg_8]
lea     edi, [edi+eax+1]
jnz     short loc_2780d759
mov     eax, [ebp+hinstance]
mov     ebx, [esi+44h]
push    esi
add     eax, ebx
mov     [esi+44h], eax
call    sub_2780b41c
test    eax, eax
jnz     short loc_2780d7ef
mov     eax, [ebp+hinstance]
sub     [esi+44h], eax
mov     eax, [esi+44h]
shl     eax, 2
push    eax
push    dword ptr [esi+40h]
call    sub_27811902
mov     [esi+40h], eax
push    edi
call    ds:localfree
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     al, [esi]
mov     [esi-1], al
jmp     loc_2780d727
mov     eax, [ebp+arg_8]
xor     esi, esi
and     [ebp+hinstance], esi
inc     esi
cmp     byte ptr [eax], 0
jnz     short loc_2780d7cd
inc     [ebp+hinstance]
cmp     byte ptr [eax+1], 0
jz      short loc_2780d7d0
inc     eax
jmp     short loc_2780d7be
push    esi
push    40h
call    ds:localalloc
mov     edi, eax
test    edi, edi
jz      short loc_2780d7a2
push    esi
push    [ebp+arg_8]
push    edi
call    ds:rtlmovememory
jmp     loc_2780d72d
mov     eax, ebx
jmp     short loc_2780d7a5
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
cmp     dword ptr [eax], 0ffffffffh
jnz     short loc_2780d82d
mov     ecx, dword_27828334
mov     [eax], ecx
mov     ecx, [ebp+arg_4]
mov     eax, [ecx]
cmp     eax, 3
jbe     short loc_2780d844
cmp     eax, 7
jbe     short loc_2780d831
cmp     eax, 9
ja      short loc_2780d82d
and     eax, 1
add     eax, 82h
mov     [ecx], eax
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 5
pop     ebp
retn    0ch
and     eax, 1
add     eax, 7ch
mov     [ecx], eax
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 0ch
jmp     short loc_2780d82d
and     eax, 1
add     eax, 78h
mov     [ecx], eax
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 0fh
jmp     short loc_2780d82d
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
push    esi
push    edi
push    [ebp+cy]
push    [ebp+arg_8]
call    sub_278132f1
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax]
call    ds:getdc
mov     esi, ds:createcompatibledc
mov     ebx, eax
push    ebx
call    esi
push    ebx
mov     [ebp+hdc], eax
call    esi
xor     edi, edi
mov     [ebp+var_8], eax
cmp     ebx, edi
jz      short loc_2780d8f3
cmp     [ebp+hdc], edi
jz      short loc_2780d8e3
cmp     eax, edi
jz      short loc_2780d8e3
push    [ebp+h]
mov     esi, ds:selectobject
push    [ebp+hdc]
call    esi
push    [ebp+var_c]
push    [ebp+var_8]
call    esi
push    color
push    [ebp+cy]
push    [ebp+arg_8]
push    edi
push    edi
push    [ebp+var_8]
call    sub_2780b7f8
push    0cc0020h
push    edi
push    edi
push    [ebp+hdc]
push    [ebp+cy]
push    [ebp+arg_8]
push    edi
push    edi
push    [ebp+var_8]
call    ds:bitblt
cmp     ebx, edi
jz      short loc_2780d8f3
mov     eax, [ebp+arg_0]
push    ebx
push    dword ptr [eax]
call    ds:releasedc
cmp     [ebp+hdc], edi
mov     esi, ds:deletedc
jz      short loc_2780d903
push    [ebp+hdc]
call    esi
cmp     [ebp+var_8], edi
jz      short loc_2780d90d
push    [ebp+var_8]
call    esi
mov     eax, [ebp+var_c]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
mov     [ebp+h], ebx
cmp     [esi+0b8h], ebx
mov     [ebp+ho], ebx
jnz     short loc_2780d96a
push    4
push    4
push    0ffh
push    dword ptr [esi+54h]
push    dword ptr [esi+50h]
call    sub_2781371d
cmp     eax, ebx
mov     [esi+0b8h], eax
jnz     short loc_2780d95a
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
test    byte ptr [esi+9], 80h
jz      short loc_2780d988
or      ecx, 0ffffffffh
push    ecx
push    eax
call    sub_27813ac4
mov     edi, [ebp+arg_4]
mov     eax, [edi+4]
cmp     eax, ebx
jz      short loc_2780d990
push    ebx
push    ebx
push    ebx
push    dword ptr [edi+8]
push    eax
call    sub_27810beb
mov     [ebp+ho], eax
mov     [ebp+h], eax
jmp     short loc_2780d997
mov     ecx, color
jmp     short loc_2780d963
mov     eax, [edi+8]
cmp     eax, ebx
jnz     short loc_2780d983
cmp     [ebp+h], ebx
jz      short loc_2780d9e0
lea     eax, [ebp+pv]
push    eax
push    18h
push    [ebp+h]
call    ds:getobjecta
mov     ebx, [esi+50h]
cmp     [ebp+var_1c], ebx
jge     short loc_2780d9b6
mov     [ebp+var_1c], ebx
mov     eax, [esi+54h]
cmp     [ebp+cy], eax
jge     short loc_2780d9c1
mov     [ebp+cy], eax
mov     ecx, [edi]
test    ecx, ecx
jnz     short loc_2780da13
mov     [ebp+var_1c], ebx
push    [ebp+cy]
push    [ebp+var_1c]
push    [ebp+h]
push    esi
call    sub_2780d857
xor     ebx, ebx
mov     [ebp+h], eax
cmp     eax, ebx
mov     edi, ds:deleteobject
jz      short loc_2780da01
push    color
push    [ebp+h]
push    dword ptr [esi+0b8h]
call    sub_27813e20
push    [ebp+h]
call    edi
cmp     [ebp+ho], ebx
jz      short loc_2780da0b
push    [ebp+ho]
call    edi
push    1
pop     eax
jmp     loc_2780d953
mov     eax, [ebp+var_1c]
cdq
idiv    ebx
cmp     ecx, eax
jle     short loc_2780d9ca
imul    ecx, ebx
mov     [ebp+var_1c], ecx
jmp     short loc_2780d9ca
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
or      dword ptr [esi+9ch], 1
lea     eax, [esi+9ch]
test    byte ptr [eax], 2
jnz     short loc_2780da70
mov     eax, [esi+0b8h]
lea     edi, [esi+0b8h]
xor     ebx, ebx
cmp     eax, ebx
jz      short loc_2780da58
push    eax
call    sub_27813889
mov     [edi], ebx
cmp     [esi+38h], ebx
mov     edi, [esi+3ch]
jle     short loc_2780da70
push    edi
push    esi
call    sub_2780d917
inc     ebx
add     edi, 0ch
cmp     ebx, [esi+38h]
jl      short loc_2780da60
pop     edi
pop     esi
pop     ebx
retn    4
push    ebp
mov     ebp, esp
cmp     [ebp+arg_8], 0ffffffffh
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
jnz     short loc_2780daaa
test    byte ptr [ebp+arg_c], 1
jz      loc_2780db29
push    18h
push    18h
push    esi
call    sub_2780c65c
lea     eax, [ebp+arg_4]
push    eax
lea     eax, [ebp+arg_c]
push    eax
lea     eax, [ebp+arg_8]
push    eax
call    sub_2780d7f3
mov     ecx, [esi+3ch]
test    ecx, ecx
jz      short loc_2780dae0
mov     edx, [esi+38h]
xor     eax, eax
test    edx, edx
jle     short loc_2780dae0
mov     edi, [ebp+arg_4]
mov     ebx, [ebp+arg_8]
cmp     [ecx+4], ebx
jnz     short loc_2780dad6
mov     ebx, [ecx+8]
cmp     ebx, [ebp+arg_c]
jnz     short loc_2780dad6
cmp     [ecx], edi
jge     short loc_2780db22
cmp     edx, 1
jz      short loc_2780db46
add     eax, [ecx]
dec     edx
add     ecx, 0ch
test    edx, edx
jg      short loc_2780dabd
mov     eax, [esi+38h]
inc     eax
lea     eax, [eax+eax*2]
shl     eax, 2
push    eax
push    dword ptr [esi+3ch]
call    sub_27811902
test    eax, eax
jz      short loc_2780db1f
mov     ecx, [esi+38h]
mov     [esi+3ch], eax
lea     ecx, [ecx+ecx*2]
lea     edi, [eax+ecx*4]
mov     eax, [ebp+arg_8]
push    edi
push    esi
mov     [edi+4], eax
mov     eax, [ebp+arg_c]
mov     [edi+8], eax
mov     eax, [ebp+arg_4]
mov     [edi], eax
call    sub_2780d917
test    eax, eax
jnz     short loc_2780db32
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    10h
push    10h
jmp     loc_2780da93
inc     dword ptr [esi+38h]
xor     eax, eax
sub     edi, 0ch
mov     [ebp+arg_4], eax
cmp     edi, [esi+3ch]
jb      short loc_2780db22
add     eax, [edi]
jmp     short loc_2780db37
mov     [ecx], edi
jmp     short loc_2780db22
push    ebp
mov     ebp, esp
sub     esp, 10h
lea     eax, [ebp+var_4]
push    esi
push    eax
lea     eax, [ebp+arg_4]
push    eax
lea     eax, [ebp+arg_8]
push    eax
call    sub_2780d7f3
mov     eax, [ebp+arg_8]
mov     esi, [ebp+arg_0]
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_4]
mov     [ebp+var_8], eax
mov     eax, [ebp+var_4]
mov     [ebp+var_10], eax
mov     eax, [esi+0b8h]
test    eax, eax
jz      short loc_2780dba0
push    eax
call    sub_278139c8
mov     [ebp+var_4], eax
lea     eax, [ebp+var_10]
push    eax
push    esi
call    sub_2780d917
test    eax, eax
jnz     short loc_2780dba6
or      eax, 0ffffffffh
pop     esi
leave
retn    0ch
and     [ebp+var_4], 0
jmp     short loc_2780db8a
or      dword ptr [esi+9ch], 2
mov     eax, [ebp+var_4]
jmp     short loc_2780db9b
push    ebp
mov     ebp, esp
sub     esp, 0ch
push    ebx
push    esi
mov     esi, [ebp+arg_4]
lea     ecx, [ebp+var_c]
push    edi
push    ecx
lea     eax, [esi+4]
push    eax
push    esi
mov     [ebp+var_4], eax
call    sub_2780d7f3
lea     edi, [esi+10h]
lea     ebx, [esi+0ch]
lea     eax, [esi+8]
push    edi
push    ebx
push    eax
mov     [ebp+var_8], eax
call    sub_2780d7f3
mov     ecx, [ebp+arg_0]
mov     edx, [ecx+38h]
mov     eax, [ecx+3ch]
test    edx, edx
mov     [ebp+arg_4], edx
jle     short loc_2780dc16
mov     edx, [esi]
mov     [ebp+arg_0], edx
mov     edx, [ebp+arg_0]
cmp     [eax+4], edx
jnz     short loc_2780dc0a
mov     esi, [ebp+var_4]
mov     edx, [eax+8]
cmp     edx, [esi]
jz      short loc_2780dc1f
dec     [ebp+arg_4]
add     eax, 0ch
cmp     [ebp+arg_4], 0
jg      short loc_2780dbf8
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edx, [ebp+var_8]
push    1
mov     edx, [edx]
mov     [eax+4], edx
mov     edx, [ebx]
mov     [eax+8], edx
mov     edx, [edi]
mov     [eax], edx
and     dword ptr [ecx+9ch], 0fffffffeh
pop     eax
jmp     short loc_2780dc18
mov     eax, [esp+arg_0]
or      dword ptr [eax+9ch], 10h
retn    4
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
mov     esi, [ebp+lpchtext]
xor     ebx, ebx
cmp     [esi+28h], ebx
jz      short loc_2780dcc2
mov     eax, [esi]
or      [ebp+var_8], 0ffffffffh
cmp     [esi+6ch], ebx
mov     [ebp+lparam], 2ch
mov     [ebp+var_24], eax
jbe     short loc_2780dcbb
push    edi
lea     edi, [esi+0f0h]
test    byte ptr [edi+5], 1
jnz     short loc_2780dcb1
mov     eax, [edi]
mov     [ebp+var_20], eax
lea     eax, [ebp+var_1c]
push    eax
push    ebx
push    esi
call    sub_2780cca6
test    eax, eax
jnz     short loc_2780dcc8
mov     [ebp+var_10], eax
mov     [ebp+var_18], eax
mov     [ebp+var_14], eax
mov     [ebp+var_1c], eax
lea     ecx, [ebp+lparam]
push    ecx
push    eax
push    406h
push    dword ptr [esi+28h]
call    ds:sendmessagea
inc     ebx
add     edi, 14h
cmp     ebx, [esi+6ch]
jb      short loc_2780dc78
pop     edi
and     dword ptr [esi+9ch], 0ffffffefh
pop     esi
pop     ebx
leave
retn    4
xor     eax, eax
jmp     short loc_2780dc9e
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    esi, esi
jz      loc_2780de6b
mov     ecx, [esi]
test    ecx, ecx
jz      loc_2780de6b
cmp     dword ptr [ecx+4ch], 0
jz      loc_2780de6b
mov     eax, [ecx+6ch]
mov     edi, [ebp+arg_8]
add     eax, edi
lea     eax, [eax+eax*4]
lea     eax, ds:0ech[eax*4]
push    eax
push    ecx
call    sub_27811902
mov     ebx, eax
test    ebx, ebx
jz      loc_2780de6b
push    ebx
push    0
mov     [esi], ebx
push    dword ptr [ebx]
call    ds:setwindowlonga
mov     eax, [ebx+6ch]
cmp     [ebp+arg_4], eax
jbe     short loc_2780dd2f
mov     [ebp+arg_4], eax
lea     ecx, [eax+eax*4]
sub     eax, [ebp+arg_4]
lea     edx, [ebx+ecx*4+0d8h]
lea     ecx, [edi+edi*4]
mov     [ebp+arg_4], eax
lea     ecx, [edx+ecx*4]
mov     [ebp+arg_0], ecx
jz      short loc_2780dd64
mov     edi, [ebp+arg_0]
sub     [ebp+arg_0], 14h
push    5
mov     esi, edx
sub     edx, 14h
dec     [ebp+arg_4]
pop     ecx
dec     eax
rep movsd
jnz     short loc_2780dd4a
mov     edi, [ebp+arg_8]
lea     eax, [edi-1]
mov     esi, [ebp+arg_c]
imul    eax, [ebx+4ch]
add     [ebx+6ch], edi
add     esi, eax
test    edi, edi
jbe     loc_2780de18
mov     eax, [ebp+arg_0]
lea     edi, [eax+10h]
mov     eax, [ebp+arg_8]
mov     [ebp+arg_c], eax
push    esi
push    [ebp+arg_0]
push    ebx
call    sub_2780e289
mov     eax, [edi]
cmp     eax, 0ffffffffh
jz      short loc_2780ddb3
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jz      short loc_2780ddb3
and     dword ptr [edi], 0
push    eax
push    edi
call    sub_2781617a
or      dword ptr [ebx+9ch], 8
mov     eax, [ebx+28h]
test    eax, eax
jz      short loc_2780ddec
test    byte ptr [esi+9], 1
jnz     short loc_2780ddec
mov     ecx, [ebx]
and     [ebp+var_28], 0
mov     [ebp+var_24], ecx
mov     ecx, [esi+4]
or      [ebp+var_8], 0ffffffffh
mov     [ebp+var_20], ecx
lea     ecx, [ebp+lparam]
mov     [ebp+lparam], 2ch
push    ecx
push    0
push    404h
push    eax
call    ds:sendmessagea
test    byte ptr [edi-7], 1
jz      short loc_2780de02
mov     eax, [ebp+arg_0]
cmp     dword ptr [eax], 0
jg      short loc_2780de02
mov     ecx, ds:dword_277cb998
mov     [eax], ecx
sub     [ebp+arg_0], 14h
sub     esi, [ebx+4ch]
sub     edi, 14h
dec     [ebp+arg_c]
jnz     loc_2780dd87
mov     edi, [ebp+arg_8]
test    byte ptr [ebx+9], 2
jz      short loc_2780de24
push    ebx
call    sub_2780e341
push    ebx
call    sub_2780dc3c
push    ebx
call    sub_2780b41c
cmp     edi, 1
jnz     short loc_2780de5e
mov     eax, [ebp+arg_4]
inc     eax
push    eax
push    0fffffffch
push    dword ptr [ebx]
push    8000h
call    sub_277b8949
push    1
push    0
push    dword ptr [ebx]
call    ds:invalidaterect
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
push    0
push    0fffffffch
push    dword ptr [ebx]
push    8004h
jmp     short loc_2780de43
xor     eax, eax
jmp     short loc_2780de57
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+lpchtext]
push    edi
push    1
xor     edi, edi
pop     ebp
cmp     [esi+6ch], edi
mov     ebx, ebp
jge     short loc_2780de88
mov     [esi+6ch], edi
cmp     edi, edi
jle     short loc_2780de9d
push    edi
push    edi
push    esi
call    sub_2780dec6
mov     ebp, eax
cmp     ebp, edi
jz      short loc_2780de9d
cmp     [esi+6ch], edi
jg      short loc_2780de8a
cmp     [esi+70h], edi
jge     short loc_2780dea7
mov     [esi+70h], edi
cmp     edi, edi
jle     short loc_2780debb
push    edi
push    esi
call    sub_2780e0eb
mov     ebx, eax
cmp     ebx, edi
jz      short loc_2780debb
cmp     [esi+70h], edi
jg      short loc_2780dea9
mov     eax, ebx
pop     edi
and     eax, ebp
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 6ch
and     [ebp+var_40], 0
push    ebx
mov     ebx, [ebp+lpchtext]
push    esi
mov     esi, [ebp+arg_4]
push    edi
push    0ah
xor     eax, eax
cmp     esi, [ebx+6ch]
pop     ecx
lea     edi, [ebp+var_3c]
rep stosd
jnb     loc_2780e0df
lea     eax, [esi+esi*4]
lea     eax, [ebx+eax*4]
mov     [ebp+var_4], eax
lea     ecx, [eax+0ech]
cmp     ecx, [ebx+24h]
mov     [ebp+lpchtext], ecx
jnz     short loc_2780df1d
cmp     dword ptr [ebx+4ch], 14h
jnz     short loc_2780df10
or      byte ptr [ebx+0e5h], 1
push    ebx
call    sub_277bf76d
and     dword ptr [ebx+24h], 0
mov     ecx, [ebp+lpchtext]
lea     eax, [esi+0ch]
lea     eax, [eax+eax*4]
lea     edi, [ebx+eax*4]
mov     eax, [ebx+eax*4]
mov     [ebp+var_34], eax
lea     eax, [ebp+var_30]
push    eax
push    ecx
push    ebx
call    sub_2780e2cf
lea     eax, [ebp+var_40]
push    eax
push    0fffffd35h
push    ebx
call    sub_277b9838
xor     edx, edx
cmp     [ebp+arg_8], edx
jz      short loc_2780df52
cmp     [ebp+var_34], edx
jnz     short loc_2780df70
mov     eax, [ebp+var_4]
add     eax, 0fch
mov     ecx, [eax]
cmp     ecx, 0ffffffffh
jz      short loc_2780df70
shr     ecx, 10h
test    cx, cx
jz      short loc_2780df70
push    edx
push    eax
call    sub_2781617a
lea     eax, [esi+1]
push    eax
push    0fffffffch
push    dword ptr [ebx]
push    8001h
call    sub_277b8949
mov     eax, [ebx+28h]
test    eax, eax
jz      short loc_2780dfac
mov     ecx, [ebx]
mov     [ebp+lparam], 2ch
mov     [ebp+var_64], ecx
mov     ecx, [edi]
mov     [ebp+var_60], ecx
lea     ecx, [ebp+lparam]
push    ecx
push    0
push    405h
push    eax
call    ds:sendmessagea
dec     dword ptr [ebx+6ch]
mov     edi, [ebp+lpchtext]
cmp     [ebp+arg_8], 0
mov     [ebp+lpchtext], edi
jz      loc_2780e063
cmp     [ebp+var_34], 0
jle     loc_2780e063
mov     ecx, [ebx+0e8h]
test    ecx, ecx
jz      short loc_2780dfdb
mov     eax, [ebx+70h]
cmp     eax, [ebx+74h]
jl      short loc_2780dffc
mov     eax, [ebx+74h]
add     eax, 10h
lea     eax, [eax+eax*4]
shl     eax, 2
push    eax
push    ecx
call    sub_27811902
test    eax, eax
jz      short loc_2780dffc
add     dword ptr [ebx+74h], 10h
mov     [ebx+0e8h], eax
mov     edx, [ebx+0e8h]
test    edx, edx
jz      short loc_2780e063
mov     eax, [ebx+70h]
cmp     eax, [ebx+74h]
jge     short loc_2780e063
mov     ecx, [edi+4]
and     [ebp+var_4], 0
test    ecx, ecx
jle     short loc_2780e040
and     [ebp+arg_8], 0
test    eax, eax
jle     short loc_2780e040
lea     esi, [edx+4]
xor     edx, edx
cmp     [esi], ecx
setz    dl
test    edx, edx
mov     [ebp+var_4], edx
jnz     short loc_2780e03d
inc     [ebp+arg_8]
add     esi, 14h
cmp     [ebp+arg_8], eax
jl      short loc_2780e024
mov     esi, [ebp+arg_4]
cmp     [ebp+var_4], 0
jnz     short loc_2780e063
mov     esi, [ebp+lpchtext]
lea     ecx, [eax+eax*4]
mov     eax, [ebx+0e8h]
push    5
lea     edi, [eax+ecx*4]
pop     ecx
rep movsd
inc     dword ptr [ebx+70h]
mov     edi, [ebp+lpchtext]
mov     esi, [ebp+arg_4]
mov     dl, [edi+8]
lea     eax, [edi+14h]
and     edx, 20h
cmp     esi, [ebx+6ch]
jnb     short loc_2780e092
mov     cl, [eax+8]
add     [ebp+lpchtext], 14h
and     ecx, 20h
push    5
or      edx, ecx
inc     [ebp+arg_4]
pop     ecx
mov     esi, eax
rep movsd
mov     ecx, [ebp+arg_4]
add     eax, 14h
cmp     ecx, [ebx+6ch]
jb      short loc_2780e0e6
mov     ecx, [ebx+8]
test    ch, 2
jz      short loc_2780e0ca
test    edx, edx
jz      short loc_2780e0ca
mov     eax, [ebx]
test    cl, 0ch
jnz     short loc_2780e0ac
push    eax
call    ds:getparent
lea     ecx, [ebp+rect]
push    ecx
push    eax
call    ds:getwindowrect
lea     eax, [ebp+rect]
push    0
push    eax
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
push    eax
push    ebx
call    sub_2780d259
push    1
push    0
push    dword ptr [ebx]
call    ds:invalidaterect
push    ebx
call    sub_2780dc3c
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edi, [ebp+lpchtext]
jmp     short loc_2780e071
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
mov     edi, [ebp+arg_4]
cmp     edi, [ebx+70h]
jnb     short loc_2780e10b
mov     eax, [ebx+0e8h]
test    eax, eax
jnz     short loc_2780e114
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     esi, [edi+edi*4]
shl     esi, 2
mov     ecx, [esi+eax+10h]
lea     eax, [esi+eax+10h]
cmp     ecx, 0ffffffffh
jz      short loc_2780e137
shr     ecx, 10h
test    cx, cx
jz      short loc_2780e137
push    0
push    eax
call    sub_2781617a
mov     eax, [ebx+0e8h]
lea     ecx, [edi+1]
lea     edx, [esi+eax]
mov     esi, [ebx+70h]
cmp     ecx, esi
jnb     short loc_2780e153
lea     ecx, [ecx+ecx*4]
lea     eax, [eax+ecx*4]
mov     [ebp+var_4], eax
dec     esi
cmp     edi, esi
jnb     short loc_2780e17c
mov     esi, [ebp+var_4]
test    esi, esi
jz      short loc_2780e169
push    5
mov     edi, edx
pop     ecx
rep movsd
mov     edi, [ebp+arg_4]
mov     eax, [ebx+70h]
add     [ebp+var_4], 14h
inc     edi
add     edx, 14h
dec     eax
mov     [ebp+arg_4], edi
cmp     edi, eax
jb      short loc_2780e158
dec     dword ptr [ebx+70h]
mov     ecx, [ebx+70h]
mov     edx, [ebx+0e8h]
xor     eax, eax
lea     ecx, [ecx+ecx*4]
push    1
lea     edi, [edx+ecx*4]
stosd
stosd
stosd
stosd
stosd
pop     eax
jmp     loc_2780e10d
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     edx, [ebp+arg_4]
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
mov     eax, [ebx+6ch]
cmp     edx, eax
jnb     short loc_2780e1c3
lea     ecx, [eax-1]
mov     eax, [ebp+arg_8]
cmp     eax, ecx
jbe     short loc_2780e1bf
mov     eax, ecx
cmp     edx, eax
jnz     short loc_2780e1cc
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
lea     ecx, [edx+edx*4]
push    5
lea     edi, [ebp+var_18]
cmp     edx, eax
lea     esi, [ebx+ecx*4+0ech]
lea     ecx, [eax+eax*4]
mov     [ebp+arg_8], esi
lea     ecx, [ebx+ecx*4+0ech]
mov     [ebp+arg_4], ecx
pop     ecx
rep movsd
jnb     short loc_2780e262
mov     esi, [ebp+arg_8]
mov     ecx, [ebx+24h]
sub     eax, edx
push    1
cmp     ecx, esi
pop     edi
lea     edx, [esi+14h]
mov     [ebp+hwnd], esi
jbe     short loc_2780e212
cmp     ecx, [ebp+arg_4]
ja      short loc_2780e212
add     ecx, 0ffffffech
mov     [ebx+24h], ecx
lea     ecx, [edi+edi*4]
shl     ecx, 2
mov     [ebp+var_4], ecx
mov     edi, [ebp+hwnd]
push    5
pop     ecx
mov     esi, edx
rep movsd
mov     ecx, [ebp+var_4]
add     [ebp+hwnd], ecx
add     edx, ecx
dec     eax
jnz     short loc_2780e21b
mov     eax, [ebp+arg_4]
push    5
pop     ecx
lea     esi, [ebp+var_18]
mov     edi, eax
rep movsd
mov     ecx, [ebp+arg_8]
cmp     [ebx+24h], ecx
jnz     short loc_2780e248
mov     [ebx+24h], eax
push    ebx
call    sub_2780e341
push    1
push    0
push    dword ptr [ebx]
call    ds:invalidaterect
push    1
pop     eax
jmp     loc_2780e1c5
mov     esi, [ebp+arg_4]
sub     edx, eax
mov     eax, edx
or      edi, 0ffffffffh
lea     ecx, [eax+eax*4]
lea     ecx, [esi+ecx*4]
mov     [ebp+hwnd], ecx
lea     edx, [ecx-14h]
mov     ecx, [ebx+24h]
cmp     ecx, esi
jb      short loc_2780e212
cmp     ecx, [ebp+arg_8]
jnb     short loc_2780e212
add     ecx, 14h
jmp     short loc_2780e20f
mov     ecx, [esp+arg_8]
mov     eax, [esp+arg_4]
mov     edx, [ecx]
mov     [eax], edx
mov     edx, [ecx+4]
mov     [eax+4], edx
mov     dl, [ecx+8]
mov     [eax+8], dl
mov     dl, [ecx+9]
and     word ptr [eax+0ah], 0
mov     [eax+9], dl
mov     edx, [esp+arg_0]
cmp     dword ptr [edx+4ch], 14h
jb      short loc_2780e2c5
mov     edx, [ecx+0ch]
mov     [eax+0ch], edx
mov     ecx, [ecx+10h]
mov     [eax+10h], ecx
retn    0ch
and     dword ptr [eax+0ch], 0
or      dword ptr [eax+10h], 0ffffffffh
jmp     short locret_2780e2c2
mov     edx, [esp+arg_8]
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
xor     eax, eax
mov     ecx, [esi+4ch]
mov     edi, edx
mov     ebx, ecx
shr     ecx, 2
rep stosd
mov     ecx, ebx
and     ecx, 3
rep stosb
mov     eax, [esp+0ch+arg_4]
mov     ecx, [eax]
mov     [edx], ecx
mov     ecx, [eax+4]
mov     [edx+4], ecx
mov     cl, [eax+8]
mov     [edx+8], cl
mov     cl, [eax+9]
mov     [edx+9], cl
mov     cx, [eax+0ah]
mov     [edx+0ah], cx
cmp     dword ptr [esi+4ch], 14h
jb      short loc_2780e323
mov     ecx, [eax+0ch]
mov     [edx+0ch], ecx
mov     eax, [eax+10h]
mov     [edx+10h], eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     eax, [esp+arg_0]
test    eax, eax
jz      short locret_2780e33e
cmp     dword ptr [eax+6ch], 0
jnz     short locret_2780e33e
mov     ecx, [esp+arg_4]
mov     [eax+4ch], ecx
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
push    esi
mov     esi, [ebp+hwnd]
push    dword ptr [esi]
call    ds:getparent
test    eax, eax
mov     [ebp+hwnd], eax
jz      loc_2780e3e0
mov     eax, [esi+8]
push    edi
push    ebx
mov     ebx, ds:getwindowrect
test    ah, 2
jz      short loc_2780e394
test    al, 0ch
lea     eax, [ebp+rect]
push    eax
jnz     short loc_2780e3e5
push    [ebp+hwnd]
call    ebx
lea     eax, [ebp+var_20]
push    0
push    eax
mov     eax, [ebp+rect.right]
sub     eax, [ebp+rect.left]
push    eax
push    esi
call    sub_2780d259
push    esi
call    sub_2780dc3c
push    esi
call    sub_2780d21f
mov     edi, eax
imul    edi, [esi+5ch]
test    byte ptr [esi+9], 8
jnz     short loc_2780e3ae
mov     eax, dword_2782a06c
lea     edi, [edi+eax*2]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ebx
lea     eax, [ebp+rect]
push    2
push    eax
push    [ebp+hwnd]
push    0
call    ds:mapwindowpoints
push    [ebp+rect.bottom]
push    [ebp+rect.right]
push    [ebp+rect.top]
push    [ebp+rect.left]
push    dword ptr [esi+8]
push    edi
push    dword ptr [esi]
call    sub_27810919
pop     ebx
pop     edi
pop     esi
leave
retn    4
push    dword ptr [esi]
jmp     short loc_2780e379
push    esi
mov     esi, [esp+4+hwnd]
push    edi
mov     edi, [esp+8+arg_4]
mov     eax, edi
xor     edx, edx
xor     eax, [esi+8]
test    ah, 2
jz      short loc_2780e41b
xor     ecx, ecx
push    1
cmp     [esi+6ch], ecx
pop     edx
jle     short loc_2780e41b
lea     eax, [esi+0f4h]
and     byte ptr [eax], 0dfh
inc     ecx
add     eax, 14h
cmp     ecx, [esi+6ch]
jl      short loc_2780e40f
test    edx, edx
mov     [esi+8], edi
jz      short loc_2780e428
push    esi
call    sub_2780b41c
push    esi
call    sub_2780e341
pop     edi
pop     esi
retn    8
push    esi
mov     esi, [esp+4+lpchtext]
push    edi
mov     edi, [esp+8+arg_8]
mov     eax, [esi+9ch]
test    al, 2
jnz     short loc_2780e47e
test    al, 1
jz      short loc_2780e466
mov     eax, [esi+0b8h]
test    eax, eax
jz      short loc_2780e45f
push    eax
call    sub_278139c8
cmp     edi, eax
jl      short loc_2780e47e
xor     eax, eax
pop     edi
pop     esi
retn    0ch
mov     edx, [esi+38h]
mov     eax, [esi+3ch]
xor     ecx, ecx
test    edx, edx
jle     short loc_2780e47a
add     ecx, [eax]
add     eax, 0ch
dec     edx
jnz     short loc_2780e472
cmp     edi, ecx
jmp     short loc_2780e45d
mov     eax, [esp+8+arg_4]
push    0
push    eax
push    esi
mov     [eax], edi
call    sub_2780cd9a
push    1
pop     eax
jmp     short loc_2780e461
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+hmem]
xor     ebp, ebp
xor     ebx, ebx
mov     eax, [esi]
cmp     [esi+6ch], ebp
push    edi
mov     [esp+10h+hmem], eax
jle     short loc_2780e4ce
lea     edi, [esi+0fch]
mov     eax, [edi]
cmp     eax, 0ffffffffh
jz      short loc_2780e4c5
shr     eax, 10h
test    ax, ax
jz      short loc_2780e4c5
push    ebp
push    edi
call    sub_2781617a
inc     ebx
add     edi, 14h
cmp     ebx, [esi+6ch]
jl      short loc_2780e4af
xor     ebx, ebx
cmp     [esi+70h], ebp
jle     short loc_2780e506
xor     edi, edi
mov     eax, [esi+0e8h]
cmp     eax, ebp
jz      short loc_2780e4fd
mov     ecx, [edi+eax+10h]
lea     eax, [edi+eax+10h]
cmp     ecx, 0ffffffffh
jz      short loc_2780e4fd
shr     ecx, 10h
test    cx, cx
jz      short loc_2780e4fd
push    ebp
push    eax
call    sub_2781617a
inc     ebx
add     edi, 14h
cmp     ebx, [esi+70h]
jl      short loc_2780e4d7
mov     eax, [esi+0e8h]
mov     ebx, ds:localfree
lea     edi, [esi+0e8h]
cmp     eax, ebp
jz      short loc_2780e521
push    eax
call    ebx
mov     [edi], ebp
test    byte ptr [esi+9], 1
jz      short loc_2780e540
push    dword ptr [esi+28h]
call    ds:iswindow
test    eax, eax
jz      short loc_2780e540
push    dword ptr [esi+28h]
call    ds:destroywindow
mov     [esi+28h], ebp
mov     eax, [esi+0a0h]
cmp     eax, ebp
jz      short loc_2780e550
push    eax
call    sub_27812b8a
mov     eax, [esi+20h]
mov     edi, ds:deleteobject
cmp     eax, ebp
jz      short loc_2780e560
push    eax
call    edi
push    esi
call    sub_2780c736
cmp     [esi+44h], ebp
jle     short loc_2780e571
push    esi
call    sub_2780d646
mov     eax, [esi+34h]
cmp     eax, ebp
jz      short loc_2780e584
test    byte ptr [esi+9ch], 4
jz      short loc_2780e584
push    eax
call    edi
cmp     [esi+3ch], ebp
jz      short loc_2780e599
mov     eax, [esi+0b8h]
cmp     eax, ebp
jz      short loc_2780e599
push    eax
call    sub_27813889
mov     eax, [esi+3ch]
cmp     eax, ebp
jz      short loc_2780e5a3
push    eax
call    ebx
lea     eax, [esi+2ch]
push    ebp
push    eax
call    sub_2781617a
push    esi
call    ebx
push    ebp
push    ebp
push    [esp+18h+hmem]
call    ds:setwindowlonga
call    sub_27813018
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebp
mov     ebp, esp
mov     dl, [ebp+arg_8]
mov     ecx, [ebp+arg_4]
mov     al, dl
xor     al, [ecx+8]
mov     [ecx+8], dl
jz      short loc_2780e609
push    esi
push    1
test    al, 8
jz      short loc_2780e60d
mov     esi, [ebp+lpchtext]
push    0
push    dword ptr [esi]
call    ds:invalidaterect
push    esi
call    sub_2780b41c
mov     eax, [ebp+arg_c]
inc     eax
push    eax
push    0fffffffch
push    dword ptr [esi]
push    800ah
call    sub_277b8949
pop     esi
pop     ebp
retn    10h
mov     esi, [ebp+lpchtext]
push    ecx
push    esi
call    sub_2780cd9a
jmp     short loc_2780e5f5
push    ebp
mov     ebp, esp
sub     esp, 2ch
mov     eax, [ebp+arg_4]
push    ebx
mov     ebx, [ebp+arg_8]
push    edi
mov     edi, [ebp+arg_0]
mov     ecx, [eax+4]
mov     [eax+4], ebx
mov     eax, [edi+28h]
test    eax, eax
jz      short loc_2780e67f
mov     edx, [edi]
mov     [ebp+var_20], ecx
lea     ecx, [ebp+lparam]
push    esi
mov     esi, ds:sendmessagea
push    ecx
push    0
push    408h
push    eax
mov     [ebp+lparam], 2ch
mov     [ebp+var_24], edx
call    esi
lea     eax, [ebp+lparam]
push    eax
push    0
push    405h
push    dword ptr [edi+28h]
call    esi
lea     eax, [ebp+lparam]
mov     [ebp+var_20], ebx
push    eax
push    0
push    404h
push    dword ptr [edi+28h]
call    esi
pop     esi
pop     edi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
and     [ebp+var_4], 0
push    ebx
push    esi
mov     esi, [ebp+arg_8]
push    edi
cmp     dword ptr [esi], 20h
jnz     loc_2780e7ac
push    [ebp+arg_4]
mov     ebx, [ebp+lpchtext]
push    ebx
call    sub_2780d56e
cmp     eax, 0ffffffffh
jz      loc_2780e7ac
and     [ebp+arg_8], 0
lea     ecx, [eax+eax*4]
test    byte ptr [esi+4], 8
lea     edi, [ebx+ecx*4+0ech]
jz      short loc_2780e6d2
mov     cl, [esi+11h]
mov     [ebp+arg_8], 1
mov     [edi+9], cl
test    byte ptr [esi+4], 4
jz      short loc_2780e6e4
push    eax
mov     al, [esi+10h]
push    eax
push    edi
push    ebx
call    sub_2780e5c8
test    byte ptr [esi+4], 1
jz      short loc_2780e6f4
push    dword ptr [esi+0ch]
push    edi
push    ebx
call    sub_2780e433
test    byte ptr [esi+4], 40h
jz      loc_2780e78e
mov     ax, [esi+12h]
push    1
mov     [edi+0ah], ax
pop     eax
mov     [ebp+arg_8], eax
mov     [ebp+var_4], eax
test    byte ptr [esi+4], 2
jz      short loc_2780e750
test    byte ptr [edi+9], 10h
jz      short loc_2780e723
and     word ptr [edi+0ah], 0
mov     [ebp+var_4], eax
or      dword ptr [ebx+9ch], 8
mov     ecx, [edi+10h]
lea     eax, [edi+10h]
cmp     ecx, 0ffffffffh
jz      short loc_2780e73d
shr     ecx, 10h
test    cx, cx
jnz     short loc_2780e740
and     dword ptr [eax], 0
push    dword ptr [esi+18h]
push    eax
call    sub_2781617a
mov     [ebp+arg_8], 1
test    byte ptr [esi+4], 10h
jz      short loc_2780e75c
mov     eax, [esi+14h]
mov     [edi+0ch], eax
test    byte ptr [esi+4], 20h
jz      short loc_2780e76c
push    dword ptr [esi+8]
push    edi
push    ebx
call    sub_2780e619
xor     esi, esi
cmp     [ebp+var_4], esi
jz      short loc_2780e796
push    ebx
call    sub_2780e341
push    1
push    esi
push    dword ptr [ebx]
call    ds:invalidaterect
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    1
pop     eax
jmp     loc_2780e70f
cmp     [ebp+arg_8], esi
jz      short loc_2780e784
push    ebx
call    sub_2780dc3c
push    1
push    edi
push    ebx
call    sub_2780cd9a
jmp     short loc_2780e784
xor     eax, eax
jmp     short loc_2780e787
push    esi
mov     esi, [esp+4+arg_8]
cmp     dword ptr [esi], 20h
jz      short loc_2780e7c1
or      eax, 0ffffffffh
pop     esi
retn    0ch
push    edi
mov     edi, [esp+8+arg_0]
push    ebx
push    [esp+0ch+arg_4]
push    edi
call    sub_2780d56e
mov     ebx, eax
cmp     ebx, 0ffffffffh
jz      short loc_2780e848
lea     eax, [ebx+ebx*4]
lea     edi, [edi+eax*4+0ech]
mov     eax, [esi+4]
test    al, 8
jz      short loc_2780e7ef
mov     cl, [edi+9]
mov     [esi+11h], cl
test    al, 4
jz      short loc_2780e7f9
mov     cl, [edi+8]
mov     [esi+10h], cl
test    al, 1
jz      short loc_2780e802
mov     ecx, [edi]
mov     [esi+0ch], ecx
test    al, 40h
jz      short loc_2780e80e
mov     cx, [edi+0ah]
mov     [esi+12h], cx
test    al, 2
jz      short loc_2780e831
mov     eax, [edi+10h]
cmp     eax, 0ffffffffh
jz      short loc_2780e831
mov     ecx, eax
shr     ecx, 10h
test    cx, cx
jz      short loc_2780e831
push    dword ptr [esi+1ch]
push    eax
push    dword ptr [esi+18h]
call    ds:lstrcpyna
mov     eax, [esi+4]
test    al, 10h
jz      short loc_2780e83e
mov     ecx, [edi+0ch]
mov     [esi+14h], ecx
test    al, 20h
jz      short loc_2780e848
mov     eax, [edi+4]
mov     [esi+8], eax
mov     eax, ebx
pop     ebx
pop     edi
jmp     loc_2780e7bd
push    esi
mov     esi, ds:charnexta
push    edi
or      edi, 0ffffffffh
push    26h
push    [esp+0ch+lpsz]
call    sub_278162ef
test    eax, eax
jz      short loc_2780e881
push    eax
call    esi
mov     cl, [eax]
cmp     cl, 26h
jz      short loc_2780e888
movsx   edi, cl
test    eax, eax
jz      short loc_2780e881
cmp     edi, 0ffffffffh
jz      short loc_2780e85c
mov     eax, edi
pop     edi
pop     esi
retn    4
push    eax
call    esi
jmp     short loc_2780e878
push    ebx
mov     ebx, [esp+4+arg_0]
push    esi
push    edi
push    [esp+0ch+arg_4]
or      edi, 0ffffffffh
push    ebx
call    sub_2780ba3f
mov     esi, eax
test    esi, esi
jz      short loc_2780e8e0
cmp     byte ptr [esi], 0
jz      short loc_2780e8e0
mov     eax, [ebx+0a4h]
and     eax, [ebx+0a8h]
test    ah, 8
jnz     short loc_2780e8c5
push    esi
call    sub_2780e851
mov     edi, eax
cmp     edi, 0ffffffffh
jnz     short loc_2780e8e0
mov     al, [esi]
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_2780e8e8
xor     eax, eax
mov     ah, [esi]
mov     al, [esi+1]
mov     edi, eax
mov     eax, edi
pop     edi
pop     esi
pop     ebx
retn    8
movsx   edi, byte ptr [esi]
jmp     short loc_2780e8e0
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     [esi+6ch], edi
mov     [ebp+var_8], edi
mov     [ebp+var_4], edi
jle     short loc_2780e933
lea     ebx, [esi+0ech]
push    dword ptr [ebp+arg_4]
push    ebx
push    esi
call    sub_2780e88d
push    eax
call    sub_278162a9
test    eax, eax
jnz     short loc_2780e922
inc     [ebp+var_4]
push    1
pop     eax
cmp     [ebp+var_4], eax
jg      short loc_2780e93d
inc     edi
add     ebx, 14h
cmp     edi, [esi+6ch]
jl      short loc_2780e90b
mov     eax, [ebp+var_8]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     [ebp+var_8], eax
jmp     short loc_2780e933
push    ebp
mov     ebp, esp
push    ecx
or      [ebp+var_4], 0ffffffffh
push    ebx
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
push    edi
mov     ecx, [esi+6ch]
mov     edi, [esi+0c4h]
test    ecx, ecx
jle     short loc_2780e999
lea     eax, [edi+ecx+1]
cdq
idiv    ecx
mov     edi, edx
lea     eax, [edi+edi*4]
test    byte ptr [esi+eax*4+0f4h], 4
lea     eax, [esi+eax*4]
jz      short loc_2780e991
push    dword ptr [ebp+arg_4]
add     eax, 0ech
push    eax
push    esi
call    sub_2780e88d
push    eax
call    sub_278162a9
test    eax, eax
jz      short loc_2780e9b1
mov     ecx, [esi+6ch]
inc     ebx
cmp     ebx, ecx
jl      short loc_2780e95f
push    dword ptr [ebp+arg_4]
push    esi
call    sub_2780e8ed
mov     ecx, [ebp+arg_8]
pop     edi
pop     esi
pop     ebx
mov     [ecx], eax
mov     eax, [ebp+var_4]
leave
retn    0ch
mov     [ebp+var_4], edi
jmp     short loc_2780e999
push    ebp
mov     ebp, esp
sub     esp, 1ch
push    ebx
push    esi
mov     esi, [ebp+lpchtext]
push    edi
mov     edi, [ebp+arg_4]
xor     eax, eax
lea     ecx, [edi+edi*4]
test    byte ptr [esi+ecx*4+0f4h], 4
lea     ebx, [esi+ecx*4+0ech]
jz      loc_2780ea70
push    1
push    ebx
push    esi
mov     [esi+0c8h], edi
call    sub_2780cd9a
push    [ebp+hwnd]
call    ds:updatewindow
inc     edi
push    edi
push    0fffffffch
push    [ebp+hwnd]
mov     [ebp+arg_4], edi
mov     edi, 800ah
push    edi
call    sub_277b8949
push    0fffffd3ah
push    dword ptr [ebx+4]
push    esi
call    sub_2781fec9
test    eax, eax
mov     [ebp+lpchtext], eax
jz      short loc_2780ea26
cmp     eax, 2
jnz     short loc_2780ea68
cmp     [ebp+arg_c], 0
jz      short loc_2780ea41
mov     eax, 201h
push    1
push    eax
push    eax
push    dword ptr [esi]
lea     eax, [ebp+msg]
push    eax
call    ds:peekmessagea
or      dword ptr [esi+0c8h], 0ffffffffh
push    1
push    ebx
push    esi
call    sub_2780cd9a
push    [ebp+hwnd]
call    ds:updatewindow
push    [ebp+arg_4]
push    0fffffffch
push    [ebp+hwnd]
push    edi
call    sub_277b8949
xor     eax, eax
cmp     [ebp+lpchtext], eax
setz    al
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 18h
and     [ebp+lparam], 0
push    ebx
push    esi
push    edi
xor     eax, eax
lea     edi, [ebp+var_14]
stosd
stosd
stosd
mov     esi, [ebp+lpchtext]
stosd
stosd
mov     edi, [ebp+arg_4]
lea     eax, [ebp+arg_4]
push    eax
push    edi
push    esi
call    sub_2780e942
mov     ecx, [esi+0c4h]
mov     [ebp+var_c], edi
test    ecx, ecx
jl      short loc_2780eb2a
add     ecx, 0ch
lea     ecx, [ecx+ecx*4]
mov     ecx, [esi+ecx*4]
mov     [ebp+var_8], ecx
test    eax, eax
jl      short loc_2780eb30
add     eax, 0ch
lea     eax, [eax+eax*4]
mov     eax, [esi+eax*4]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    0ffffffeeh
push    esi
call    sub_277b9838
push    [ebp+var_4]
push    esi
call    sub_2780d56e
mov     edi, eax
cmp     edi, 0ffffffffh
jz      short loc_2780eb23
cmp     [esi+0c4h], edi
lea     eax, [edi+edi*4]
push    4
lea     ebx, [esi+eax*4+0ech]
pop     eax
jnz     short loc_2780eafc
push    44h
pop     eax
cmp     [ebp+arg_4], 0
jz      short loc_2780eb04
or      al, 8
push    eax
push    edi
push    esi
call    sub_2780cdfc
test    byte ptr [ebx+9], 8
jz      short loc_2780eb23
cmp     [ebp+arg_4], 0
jnz     short loc_2780eb23
push    0
push    dword ptr [esi]
push    edi
push    esi
call    sub_2780e9b6
pop     edi
pop     esi
pop     ebx
leave
retn    8
or      [ebp+var_8], 0ffffffffh
jmp     short loc_2780eab8
or      [ebp+var_4], 0ffffffffh
jmp     short loc_2780eac8
push    ebp
mov     ebp, esp
lea     eax, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    eax
push    [ebp+arg_4]
push    esi
call    sub_2780e942
cmp     eax, 0ffffffffh
jz      short loc_2780eb65
mov     ecx, [ebp+arg_8]
add     eax, 0ch
push    1
lea     eax, [eax+eax*4]
mov     eax, [esi+eax*4]
mov     [ecx], eax
pop     eax
pop     esi
pop     ebp
retn    0ch
xor     eax, eax
jmp     short loc_2780eb60
push    ebp
mov     ebp, esp
sub     esp, 14h
mov     eax, [ebp+arg_8]
push    esi
mov     esi, [ebp+lpchtext]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    edi
mov     edi, [ebp+arg_4]
push    eax
push    0fffffff1h
push    esi
mov     [ebp+var_8], edi
call    sub_277b9838
test    eax, eax
jnz     short loc_2780ebb9
cmp     edi, 0dh
jz      short loc_2780ebcc
cmp     edi, 20h
jz      short loc_2780ebcc
cmp     edi, 24h
jle     short loc_2780ebc4
cmp     edi, 26h
jle     short loc_2780ebbe
cmp     edi, 28h
jg      short loc_2780ebc4
push    2
push    1
push    dword ptr [esi+0c4h]
push    esi
call    sub_2780d00b
push    1
pop     eax
jmp     short loc_2780ebc6
push    2
push    0ffffffffh
jmp     short loc_2780ebad
xor     eax, eax
pop     edi
pop     esi
leave
retn    0ch
mov     eax, [esi+0c4h]
cmp     eax, 0ffffffffh
jz      short loc_2780ebb9
push    dword ptr [esi]
add     eax, 0ch
lea     eax, [eax+eax*4]
movzx   eax, word ptr [esi+eax*4]
push    eax
push    111h
push    dword ptr [esi+4]
call    ds:sendmessagea
jmp     short loc_2780ebb9
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+lpchtext]
push    edi
test    byte ptr [esi+0e4h], 2
jz      loc_2780ecc3
mov     ebx, [ebp+hwnd]
xor     edi, edi
cmp     [esi+24h], edi
mov     [ebp+lpchtext], edi
jz      short loc_2780ec5c
call    ds:getcapture
cmp     ebx, eax
jz      loc_2780ecca
mov     eax, [esi+24h]
push    0fffffd42h
push    dword ptr [eax+4]
push    esi
call    sub_2781fec9
mov     eax, [esi+24h]
test    byte ptr [eax+8], 2
jz      short loc_2780ec52
push    edi
push    dword ptr [eax+4]
push    403h
push    ebx
call    ds:sendmessagea
and     dword ptr [esi+0e4h], 0fffffff7h
mov     [esi+24h], edi
cmp     [ebp+lpchtext], 0
jnz     short loc_2780ecc3
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    esi
call    sub_2780b168
test    byte ptr [esi+9], 8
jz      short loc_2780ecc3
mov     eax, [ebp+arg_10]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+arg_10]
push    eax
push    esi
call    sub_2780d075
push    1
push    eax
push    esi
call    sub_2780cdfc
mov     eax, [esi+0e4h]
lea     ecx, [esi+0e4h]
test    al, 5
jnz     short loc_2780ecc3
or      al, 1
mov     [ebp+var_10], 10h
mov     [ecx], eax
lea     eax, [ebp+var_10]
push    eax
mov     [ebp+var_c], 2
mov     [ebp+var_8], ebx
call    sub_27812acf
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     eax, [ebp+arg_10]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+arg_10]
push    eax
push    esi
call    sub_2780d075
cmp     eax, edi
jl      short loc_2780ecf5
lea     eax, [eax+eax*4]
lea     eax, [esi+eax*4+0ech]
cmp     [esi+24h], eax
jnz     short loc_2780ecf5
push    1
pop     edi
test    edi, edi
jnz     short loc_2780ed2d
mov     eax, [esi+0e4h]
test    al, 10h
jnz     short loc_2780ed2d
or      al, 10h
push    0fffffd36h
mov     [esi+0e4h], eax
mov     eax, [esi+24h]
push    dword ptr [eax+4]
push    esi
call    sub_2781fec9
push    edi
push    ebx
mov     [ebp+lpchtext], eax
call    ds:getwindowlonga
mov     esi, eax
test    esi, esi
jz      short loc_2780ecc3
mov     ecx, [esi+24h]
test    ecx, ecx
jz      loc_2780ec5c
mov     al, [ecx+8]
test    al, 4
jz      loc_2780ec5c
mov     dl, al
not     dl
shr     edx, 1
and     edx, 1
cmp     edi, edx
jnz     loc_2780ec5c
test    byte ptr [esi+0e4h], 8
jnz     loc_2780ec5c
xor     al, 2
push    1
mov     [ecx+8], al
push    dword ptr [esi+24h]
push    esi
call    sub_2780cd9a
mov     eax, [esi+24h]
push    14h
sub     eax, esi
pop     ecx
sub     eax, 0ech
cdq
idiv    ecx
inc     eax
push    eax
push    0fffffffch
push    ebx
push    800ah
call    sub_277b8949
jmp     loc_2780ec5c
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
mov     ebx, [ebp+arg_c]
push    esi
push    edi
test    ebx, ebx
jl      loc_2780ee40
mov     esi, [ebp+lpchtext]
cmp     ebx, [esi+6ch]
jge     loc_2780ee40
mov     eax, [ebp+arg_8]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+pt.y], eax
lea     eax, [ebx+ebx*4]
mov     [ebp+pt.x], ecx
test    byte ptr [esi+eax*4+0f5h], 8
lea     edi, [esi+eax*4+0ech]
jz      short loc_2780ee47
lea     eax, [ebp+rc]
push    eax
push    ebx
push    esi
call    sub_2780cc81
test    byte ptr [edi+9], 8
jz      short loc_2780ee47
test    byte ptr [esi+18h], 1
jz      short loc_2780ee0c
push    [ebp+pt.y]
lea     eax, [ebp+rc]
push    [ebp+pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_2780ee0c
test    byte ptr [esi+18h], 1
jnz     short loc_2780ee47
push    1
push    [ebp+hwnd]
push    ebx
push    esi
call    sub_2780e9b6
test    eax, eax
jnz     short loc_2780ee40
push    [ebp+hwnd]
mov     [esi+24h], edi
call    ds:setcapture
mov     eax, [esi+24h]
and     dword ptr [esi+0e4h], 0ffffffefh
push    0fffffd43h
push    dword ptr [eax+4]
push    esi
call    sub_2781fec9
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    [ebp+hwnd]
mov     [esi+24h], edi
call    ds:setcapture
test    byte ptr [edi+8], 4
jz      short loc_2780ee28
xor     ecx, ecx
cmp     [esi+6ch], ecx
jle     short loc_2780ee72
lea     eax, [esi+0f4h]
and     byte ptr [eax], 0fdh
inc     ecx
add     eax, 14h
cmp     ecx, [esi+6ch]
jl      short loc_2780ee66
or      byte ptr [edi+8], 2
push    1
push    edi
push    esi
call    sub_2780cd9a
push    [ebp+hwnd]
call    ds:updatewindow
inc     ebx
push    ebx
push    0fffffffch
push    [ebp+hwnd]
push    800ah
call    sub_277b8949
jmp     short loc_2780ee28
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_10]
push    esi
mov     esi, [ebp+lpchtext]
push    edi
push    ebx
push    [ebp+arg_c]
and     byte ptr [esi+0e5h], 0feh
push    [ebp+arg_8]
push    esi
call    sub_2780b168
mov     eax, ebx
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, bx
push    eax
push    esi
call    sub_2780d075
mov     [ebp+lpchtext], eax
mov     eax, [esi+8]
test    al, 20h
jz      short loc_2780ef0b
test    byte ptr [ebp+arg_c], 4
mov     edi, 400h
jz      short loc_2780eee7
test    edi, eax
jz      short loc_2780eefb
push    12h
call    ds:getkeystate
and     al, 0feh
test    ax, ax
jz      short loc_2780ef0b
test    [esi+8], edi
jz      short loc_2780ef0b
push    [ebp+lpchtext]
push    esi
call    sub_2781ff4c
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    14h
push    [ebp+lpchtext]
push    ebx
push    [ebp+hwnd]
push    esi
call    sub_2780ed95
jmp     short loc_2780ef04
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
push    edi
push    7
pop     ecx
mov     esi, [ebp+lpchtext]
push    [ebp+arg_10]
and     [ebp+var_20], 0
xor     eax, eax
lea     edi, [ebp+var_1c]
push    [ebp+arg_c]
rep stosd
push    [ebp+arg_8]
push    esi
call    sub_2780b168
mov     eax, [ebp+arg_10]
shr     eax, 10h
movsx   ebx, ax
movsx   eax, word ptr [ebp+arg_10]
push    ebx
push    eax
push    esi
mov     [ebp+arg_c], ebx
mov     [ebp+arg_8], eax
call    sub_2780d075
test    byte ptr [esi+0e5h], 1
mov     edi, eax
jz      short loc_2780ef76
lea     eax, [edi+edi*4]
lea     eax, [esi+eax*4+0ech]
mov     [esi+24h], eax
mov     eax, [esi+24h]
test    eax, eax
jz      loc_2780f045
mov     ebx, [eax+4]
push    esi
mov     [ebp+arg_10], ebx
call    sub_277bf76d
push    0fffffd42h
push    ebx
push    esi
call    sub_2781fec9
mov     ecx, [esi+24h]
test    ecx, ecx
jz      loc_2780f091
mov     al, [ecx+8]
test    al, 4
jz      loc_2780f091
test    edi, edi
jl      loc_2780f091
lea     edx, [edi+edi*4]
lea     edx, [esi+edx*4+0ech]
cmp     ecx, edx
jnz     loc_2780f091
and     al, 0fdh
push    1
mov     [ecx+8], al
mov     eax, [esi+24h]
pop     ebx
mov     cl, [eax+9]
test    cl, 2
jz      short loc_2780effe
test    cl, 4
jz      loc_2780f083
mov     cl, [eax+8]
test    bl, cl
jnz     loc_2780f091
push    [ebp+arg_10]
or      cl, bl
mov     [eax+8], cl
push    esi
call    sub_2780d59d
push    ebx
push    dword ptr [esi+24h]
push    esi
call    sub_2780cd9a
lea     eax, [edi+1]
and     dword ptr [esi+24h], 0
push    eax
push    0fffffffch
push    [ebp+lparam]
push    800ah
call    sub_277b8949
movzx   eax, word ptr [ebp+arg_10]
push    [ebp+lparam]
push    eax
push    111h
push    dword ptr [esi+4]
call    ds:sendmessagea
push    [ebp+lparam]
call    ds:iswindow
test    eax, eax
jz      short loc_2780f07c
mov     ebx, [ebp+arg_c]
test    edi, edi
jl      short loc_2780f08b
cmp     edi, [esi+6ch]
jge     short loc_2780f08b
lea     eax, [edi+0ch]
lea     eax, [eax+eax*4]
mov     eax, [esi+eax*4]
mov     [ebp+var_14], eax
lea     eax, [edi+edi*4]
mov     eax, [esi+eax*4+0f8h]
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_8], ebx
mov     [ebp+var_c], eax
lea     eax, [ebp+var_20]
push    eax
push    0fffffffeh
push    esi
call    sub_277b9838
pop     edi
pop     esi
pop     ebx
leave
retn    14h
xor     [eax+8], bl
jmp     loc_2780effe
or      [ebp+var_14], 0ffffffffh
jmp     short loc_2780f067
and     dword ptr [esi+24h], 0
jmp     short loc_2780f07c
push    ebp
mov     ebp, esp
sub     esp, 20h
push    [ebp+hwnd]
call    ds:iswindowvisible
test    eax, eax
jz      short loc_2780f0f1
lea     eax, [ebp+rect]
push    0
push    eax
push    [ebp+hwnd]
call    ds:getupdaterect
test    eax, eax
jz      short loc_2780f0f1
push    edi
push    esi
mov     esi, [ebp+arg_4]
lea     eax, [ebp+rect]
push    2
push    eax
push    dword ptr [esi]
push    [ebp+hwnd]
call    ds:mapwindowpoints
lea     edi, [esi+0d4h]
lea     eax, [ebp+rect]
push    edi
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:unionrect
lea     esi, [ebp+rcdst]
movsd
movsd
movsd
movsd
pop     esi
pop     edi
push    1
pop     eax
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 44h
push    ebx
push    esi
xor     ebx, ebx
push    edi
push    ebx
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     esi, [ebp+msg]
mov     edi, 81h
mov     edx, eax
cmp     esi, edi
mov     [ebp+hmem], edx
jnz     loc_2780f2d9
mov     [ebp+h], ebx
call    sub_27812f98
call    sub_277b344b
push    0ech
push    40h
call    ds:localalloc
cmp     eax, ebx
mov     [ebp+hmem], eax
jz      loc_2780f2a2
push    [ebp+ho]
push    [ebp+hwnd]
push    eax
call    sub_277b6303
mov     eax, [ebp+hmem]
mov     ecx, ds:dword_277cb99c
mov     [eax+84h], ecx
mov     eax, [ebp+hmem]
or      dword ptr [eax+0c4h], 0ffffffffh
mov     eax, [ebp+hmem]
or      dword ptr [eax+0c8h], 0ffffffffh
mov     eax, [ebp+hmem]
or      dword ptr [eax+0cch], 0ffffffffh
mov     eax, [ebp+hmem]
mov     [eax+0d0h], ebx
mov     eax, [ebp+hmem]
mov     [eax+70h], ebx
mov     eax, [ebp+hmem]
mov     [eax+74h], ebx
mov     eax, [ebp+hmem]
mov     [eax+0e8h], ebx
mov     eax, [ebp+hmem]
mov     dword ptr [eax+88h], 7
mov     eax, [ebp+hmem]
mov     dword ptr [eax+8ch], 6
mov     ecx, [ebp+hmem]
mov     eax, 0ff000000h
mov     [ecx+0b4h], eax
mov     ecx, [ebp+hmem]
mov     [ecx+0b0h], eax
mov     eax, [ebp+hmem]
mov     dword ptr [eax+48h], 1
mov     eax, [ebp+hmem]
or      dword ptr [eax+0e4h], 2
mov     ecx, [ebp+hmem]
mov     eax, [ecx+8]
test    ah, 8
jz      short loc_2780f1f7
or      ah, 80h
mov     [ecx+8], eax
mov     ecx, [ebp+hmem]
push    ebx
push    ebx
push    ecx
call    sub_2780b6cd
push    [ebp+hwnd]
call    ds:getdc
push    offset amarlett_1
push    ebx
push    ebx
push    ebx
push    ebx
push    2
push    ebx
push    ebx
push    ebx
push    190h
push    ebx
push    ebx
push    ebx
push    48h
mov     esi, eax
call    sub_277b339b
push    eax
call    ds:createfonta
mov     edi, ds:selectobject
cmp     eax, ebx
mov     [ebp+ho], eax
jz      short loc_2780f242
push    eax
push    esi
call    edi
mov     [ebp+h], eax
mov     eax, [ebp+hmem]
add     eax, 7ch
push    eax
push    36h
push    36h
push    esi
call    ds:getcharwidtha
lea     eax, [ebp+paint.rcpaint]
push    eax
push    esi
call    ds:gettextmetricsa
cmp     [ebp+h], ebx
jz      short loc_2780f273
push    [ebp+h]
push    esi
call    edi
push    [ebp+ho]
call    ds:deleteobject
push    esi
push    [ebp+hwnd]
call    ds:releasedc
mov     eax, [ebp+hmem]
mov     ecx, [ebp+paint.rcpaint.left]
push    10h
push    10h
mov     [eax+80h], ecx
push    [ebp+hmem]
call    sub_2780c65c
push    [ebp+hmem]
test    eax, eax
jnz     short loc_2780f2a9
call    ds:localfree
xor     eax, eax
jmp     loc_2780f4b4
mov     edi, ds:setwindowlonga
push    ebx
push    [ebp+hwnd]
call    edi
mov     ecx, [ebp+hmem]
mov     eax, [ecx+8]
test    al, 3
jnz     short loc_2780f2d1
or      al, 1
mov     [ecx+8], eax
mov     eax, [ebp+hmem]
push    dword ptr [eax+8]
push    0fffffff0h
push    [ebp+hwnd]
call    edi
push    1
pop     eax
jmp     loc_2780f4b4
cmp     edx, ebx
jz      def_2780fc2c
cmp     esi, 0fh
ja      loc_2780f3f3
jz      loc_2780fa8f
mov     eax, esi
dec     eax
jz      loc_2780f3d4
dec     eax
jz      loc_2780f3c9
dec     eax
jz      loc_2780f3a2
dec     eax
dec     eax
jz      loc_2780fcdd
dec     eax
dec     eax
jz      short loc_2780f385
dec     eax
jz      short loc_2780f377
sub     eax, 3
jnz     def_2780fc2c
test    byte ptr [edx+9], 8
jz      def_2780fc2c
cmp     [ebp+h], ebx
jz      short loc_2780f36b
mov     eax, [edx+0e4h]
test    al, 40h
jz      short loc_2780f362
test    al, 80h
jz      short loc_2780f356
push    1
push    ebx
push    ebx
push    [ebp+hwnd]
call    ds:redrawwindow
mov     eax, [ebp+hmem]
and     byte ptr [eax+0e4h], 7fh
mov     edx, [ebp+hmem]
and     dword ptr [edx+0e4h], 0ffffffbfh
jmp     loc_2780f2a2
cmp     [ebp+h], ebx
jnz     loc_2780f2a2
or      dword ptr [edx+0e4h], 40h
jmp     loc_2780f2a2
push    ebx
push    0ffffffffh
push    edx
call    sub_2780cdfc
jmp     loc_2780f2a2
cmp     dword ptr [edx+0c4h], 0ffffffffh
jnz     loc_2780f2a2
push    ebx
push    1
push    0ffffffffh
push    edx
call    sub_2780d00b
jmp     loc_2780f2a2
test    byte ptr [edx+9], 80h
jz      short def_2780fc2c
push    1
push    ebx
push    [ebp+hwnd]
call    ds:invalidaterect
push    [ebp+ho]
push    [ebp+h]
push    esi
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_2780f4b4
push    edx
call    sub_2780e492
jmp     loc_2780f2a2
test    byte ptr [edx+9], 40h
jz      short def_2780fc2c
push    1
push    offset sub_2780b192
push    dword ptr [edx]
call    sub_27812b44
mov     ecx, [ebp+hmem]
mov     [ecx+0a0h], eax
jmp     short def_2780fc2c
cmp     esi, 1ah
ja      short loc_2780f470
jz      short loc_2780f43a
mov     eax, esi
sub     eax, 14h
jz      short loc_2780f42c
dec     eax
jnz     short def_2780fc2c
push    edx
call    sub_2780c6df
mov     eax, [ebp+hmem]
mov     eax, [eax+28h]
cmp     eax, ebx
jz      loc_2780f2a2
push    [ebp+ho]
push    [ebp+h]
push    15h
push    eax
call    ds:sendmessagea
jmp     loc_2780f2a2
push    [ebp+h]
push    edx
call    sub_2780c760
jmp     loc_2780f2d1
push    [ebp+h]
call    sub_277b3170
mov     eax, [ebp+hmem]
test    byte ptr [eax+9ch], 4
jz      short loc_2780f45b
push    ebx
push    [ebp+h]
push    eax
call    sub_2780b6cd
mov     eax, [ebp+hmem]
mov     eax, [eax+28h]
cmp     eax, ebx
jz      loc_2780f2a2
push    [ebp+ho]
push    [ebp+h]
push    1ah
jmp     short loc_2780f420
cmp     esi, 2fh
ja      short loc_2780f498
cmp     esi, 2eh
jnb     short loc_2780f48c
cmp     esi, 2bh
jb      def_2780fc2c
cmp     esi, 2ch
ja      def_2780fc2c
push    [ebp+ho]
push    [ebp+h]
push    esi
push    dword ptr [edx+4]
jmp     short loc_2780f421
cmp     esi, 4eh
ja      loc_2780f59c
jz      short loc_2780f4cc
mov     eax, esi
sub     eax, 30h
jz      short loc_2780f4bb
dec     eax
jnz     def_2780fc2c
mov     eax, [edx+34h]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    [ebp+ho]
push    [ebp+h]
push    edx
call    sub_2780b758
jmp     loc_2780f2d1
mov     esi, [ebp+ho]
mov     eax, [esi+8]
cmp     eax, 0fffffc7ch
ja      short loc_2780f4e9
cmp     eax, 0fffffc4ah
jb      short loc_2780f4e9
push    esi
push    edx
call    sub_278107c0
jmp     short loc_2780f4b4
push    dword ptr [esi+4]
push    edx
call    sub_2780d56e
mov     ecx, [esi+8]
mov     edi, eax
cmp     ecx, 0fffffdf8h
jnz     loc_2780f592
mov     eax, [ebp+hmem]
lea     ecx, [edi+edi*4]
lea     ecx, [eax+ecx*4+0ech]
push    ecx
push    esi
push    eax
call    sub_278108a4
test    eax, eax
jnz     short loc_2780f533
mov     eax, [ebp+hmem]
push    dword ptr [eax+10h]
push    esi
push    dword ptr [esi+8]
push    0ffffffffh
push    dword ptr [eax+4]
call    sub_27811d28
mov     [ebp+h], eax
cmp     edi, 0ffffffffh
jz      short loc_2780f58a
lea     eax, [edi+edi*4]
mov     edi, [ebp+hmem]
mov     cl, [edi+eax*4+0f4h]
lea     eax, [edi+eax*4]
and     ecx, 40h
cmp     dword ptr [esi+8], 0fffffdf8h
jnz     short loc_2780f58a
cmp     [edi+48h], ebx
jz      short loc_2780f55d
cmp     ecx, ebx
jz      short loc_2780f58a
mov     ecx, [esi+0ch]
cmp     ecx, ebx
jz      short loc_2780f58a
cmp     ecx, 0ffffffffh
jz      short loc_2780f58a
mov     edx, ecx
shr     edx, 10h
test    dx, dx
jz      short loc_2780f58a
cmp     [ecx], bl
jnz     short loc_2780f58a
add     eax, 0ech
push    eax
push    edi
call    sub_2780ba3f
cmp     eax, ebx
jz      short loc_2780f58a
mov     [esi+0ch], eax
mov     eax, [ebp+h]
jmp     loc_2780f4b4
mov     eax, [ebp+hmem]
push    dword ptr [eax+10h]
push    esi
push    ecx
jmp     short loc_2780f526
cmp     esi, 7ch
ja      loc_2780f65b
jz      short loc_2780f5be
cmp     esi, 55h
jnz     def_2780fc2c
push    [ebp+ho]
push    edx
call    sub_278112e5
jmp     loc_2780f4b4
cmp     [ebp+h], 0fffffff0h
jnz     loc_2780f2a2
mov     eax, [ebp+ho]
mov     ecx, [eax+4]
mov     esi, [eax]
xor     esi, ecx
mov     eax, 10000000h
cmp     esi, eax
jnz     loc_2780f2a2
test    eax, ecx
jz      short loc_2780f619
push    ebx
push    1
push    0bh
push    [ebp+hwnd]
call    ds:defwindowproca
mov     eax, [ebp+hmem]
push    edi
add     eax, 0d4h
push    ebx
push    eax
push    [ebp+hwnd]
call    ds:redrawwindow
mov     ecx, [ebp+hmem]
xor     eax, eax
lea     edi, [ecx+0d4h]
stosd
stosd
stosd
stosd
jmp     loc_2780f2a2
xor     eax, eax
lea     edi, [edx+0d4h]
stosd
stosd
stosd
stosd
mov     eax, [ebp+hmem]
push    ebx
lea     ecx, [eax+0d4h]
push    ecx
push    dword ptr [eax]
call    ds:getupdaterect
mov     eax, [ebp+hmem]
push    eax
push    offset sub_2780f097
push    dword ptr [eax]
call    ds:enumchildwindows
push    ebx
push    ebx
push    0bh
push    [ebp+hwnd]
call    ds:defwindowproca
jmp     loc_2780f2a2
mov     eax, 83h
cmp     esi, eax
ja      short loc_2780f6b6
jz      short loc_2780f68a
cmp     esi, 7dh
jnz     def_2780fc2c
cmp     [ebp+h], 0fffffff0h
jnz     loc_2780f2a2
mov     eax, [ebp+ho]
push    dword ptr [eax+4]
push    edx
call    sub_2780e3e9
jmp     loc_2780f2a2
mov     esi, [ebp+ho]
push    esi
push    [ebp+h]
push    eax
push    [ebp+hwnd]
call    ds:defwindowproca
mov     ecx, [ebp+hmem]
test    byte ptr [ecx+8], 40h
jnz     loc_2780f4b4
mov     ecx, dy
add     [esi+4], ecx
jmp     loc_2780f4b4
mov     eax, 100h
cmp     esi, eax
ja      loc_2780f7d1
jz      loc_2780f7b4
mov     eax, esi
sub     eax, 84h
jz      loc_2780f2d1
dec     eax
jz      short loc_2780f746
dec     eax
jnz     def_2780fc2c
mov     eax, [edx+0e4h]
shr     eax, 1
and     eax, 1
cmp     eax, [ebp+h]
jz      short loc_2780f746
push    [ebp+hwnd]
call    ds:getparent
test    eax, eax
jnz     loc_2780f7af
mov     eax, [ebp+hmem]
mov     ecx, [ebp+h]
add     eax, 0e4h
and     ecx, 1
shl     ecx, 1
mov     edx, [eax]
xor     edi, edi
and     edx, 0fffffffdh
or      ecx, edx
mov     [eax], ecx
mov     edx, [ebp+hmem]
cmp     [edx+6ch], ebx
jle     short loc_2780f746
mov     [ebp+msg], ebx
mov     eax, [ebp+msg]
push    ebx
lea     eax, [edx+eax+0ech]
push    eax
push    edx
call    sub_2780cd9a
mov     edx, [ebp+hmem]
add     [ebp+msg], 14h
inc     edi
cmp     edi, [edx+6ch]
jl      short loc_2780f727
test    byte ptr [edx+8], 40h
jnz     def_2780fc2c
mov     edi, [ebp+hwnd]
push    edi
call    ds:getwindowdc
mov     [ebp+msg], eax
lea     eax, [ebp+paint.rgbreserved+10h]
push    eax
push    edi
call    ds:getwindowrect
lea     eax, [ebp+paint.rgbreserved+10h]
push    2
push    eax
push    edi
push    ebx
call    ds:mapwindowpoints
mov     eax, dword ptr [ebp+paint.rgbreserved+14h]
neg     eax
mov     dword ptr [ebp+paint.rgbreserved+1ch], eax
sub     eax, dy
mov     dword ptr [ebp+paint.rgbreserved+14h], eax
mov     eax, [ebp+hmem]
add     eax, 0ach
push    eax
push    0ah
lea     eax, [ebp+paint.rgbreserved+10h]
push    2
push    eax
push    [ebp+msg]
call    sub_27811a00
push    [ebp+msg]
push    edi
call    ds:releasedc
jmp     def_2780fc2c
mov     edx, [ebp+hmem]
jmp     short loc_2780f746
mov     eax, [ebp+ho]
shr     eax, 10h
push    eax
push    [ebp+h]
push    edx
call    sub_2780eb69
test    eax, eax
jz      def_2780fc2c
jmp     loc_2780f2a2
mov     eax, 106h
cmp     esi, eax
ja      short loc_2780f832
jz      short loc_2780f7e8
cmp     esi, 102h
jnz     def_2780fc2c
mov     al, [edx+98h]
lea     esi, [edx+98h]
cmp     al, bl
jz      short loc_2780f814
xor     ecx, ecx
mov     [esi], bl
mov     cl, byte ptr [ebp+h]
mov     ch, al
mov     [ebp+h], ecx
push    [ebp+h]
push    [ebp+hmem]
call    sub_2780ea77
jmp     loc_2780f2a2
push    [ebp+h]
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_2780f804
mov     eax, [ebp+hmem]
mov     cl, byte ptr [ebp+h]
mov     [eax+98h], cl
jmp     loc_2780f2a2
mov     eax, 200h
cmp     esi, eax
ja      short loc_2780f863
jz      short loc_2780f84e
cmp     esi, 111h
jz      loc_2780f48c
jmp     def_2780fc2c
push    [ebp+ho]
push    [ebp+h]
push    eax
push    [ebp+hwnd]
push    edx
call    sub_2780ebf4
jmp     loc_2780f2a2
mov     eax, 2a3h
cmp     esi, eax
ja      loc_2780fa6f
jz      loc_2780fa3c
mov     ecx, esi
mov     eax, 201h
sub     ecx, eax
jz      loc_2780fa27
dec     ecx
jz      loc_2780fa0e
dec     ecx
jz      loc_2780f9c9
dec     ecx
jz      loc_2780f947
dec     ecx
jz      short loc_2780f8ba
dec     ecx
jnz     def_2780fc2c
push    ebx
push    0fffffffah
push    edx
call    sub_277b9838
test    eax, eax
jnz     loc_2780f2a2
jmp     def_2780fc2c
push    7
xor     eax, eax
pop     ecx
lea     edi, [ebp+paint.rgbreserved+4]
mov     dword ptr [ebp+paint.rgbreserved], ebx
rep stosd
cmp     [edx+24h], ebx
jz      short loc_2780f8e5
push    edx
call    sub_277bf76d
mov     eax, [ebp+hmem]
mov     [eax+24h], ebx
mov     eax, [ebp+hmem]
and     dword ptr [eax+0e4h], 0fffffff7h
mov     edx, [ebp+hmem]
mov     eax, [ebp+ho]
movsx   esi, word ptr [ebp+ho]
shr     eax, 10h
movsx   edi, ax
push    edi
push    esi
push    edx
call    sub_2780d075
mov     edx, [ebp+hmem]
cmp     eax, ebx
jl      short loc_2780f941
cmp     eax, [edx+6ch]
jge     short loc_2780f941
lea     ecx, [eax+0ch]
lea     eax, [eax+eax*4]
lea     ecx, [ecx+ecx*4]
mov     ecx, [edx+ecx*4]
mov     dword ptr [ebp+paint.rgbreserved+0ch], ecx
mov     eax, [edx+eax*4+0f8h]
mov     dword ptr [ebp+paint.rgbreserved+10h], eax
lea     eax, [ebp+paint.rgbreserved]
mov     dword ptr [ebp+paint.rgbreserved+14h], esi
push    eax
push    0fffffffbh
push    edx
mov     dword ptr [ebp+paint.rgbreserved+18h], edi
call    sub_277b9838
test    eax, eax
jnz     loc_2780f2a2
mov     esi, [ebp+msg]
jmp     def_2780fc2c
or      dword ptr [ebp+paint.rgbreserved+0ch], 0ffffffffh
jmp     short loc_2780f91f
mov     eax, [ebp+ho]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+ho]
push    eax
push    edx
call    sub_2780d075
mov     edi, eax
cmp     edi, ebx
jl      loc_2780f2a2
mov     eax, [ebp+hmem]
cmp     edi, [eax+6ch]
jge     loc_2780f2a2
push    2
call    ds:getasynckeystate
test    ax, ax
jge     loc_2780f2a2
mov     eax, [ebp+hmem]
push    [ebp+hwnd]
lea     ecx, [edi+edi*4]
lea     ecx, [eax+ecx*4+0ech]
mov     [eax+24h], ecx
mov     eax, [ebp+hmem]
or      dword ptr [eax+0e4h], 8
call    ds:setcapture
mov     eax, [ebp+hmem]
push    0fffffd43h
mov     ecx, [eax+24h]
push    dword ptr [ecx+4]
push    eax
call    sub_2781fec9
mov     eax, [ebp+hmem]
and     dword ptr [eax+0e4h], 0ffffffefh
jmp     loc_2780f2a2
mov     eax, [ebp+ho]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+ho]
push    eax
push    edx
call    sub_2780d075
mov     ecx, [ebp+hmem]
cmp     eax, ebx
jge     short loc_2780f9fc
test    byte ptr [ecx+8], 20h
jz      short loc_2780f9fc
or      edx, 0ffffffffh
sub     edx, eax
push    edx
push    ecx
call    sub_278217e9
jmp     loc_2780f2a2
push    eax
push    [ebp+ho]
push    [ebp+hwnd]
push    ecx
call    sub_2780ed95
jmp     loc_2780f2a2
push    [ebp+ho]
push    [ebp+h]
push    202h
push    [ebp+hwnd]
push    edx
call    sub_2780ef1a
jmp     loc_2780f2a2
push    [ebp+ho]
push    [ebp+h]
push    eax
push    [ebp+hwnd]
push    edx
call    sub_2780ee9b
jmp     loc_2780f2a2
mov     eax, [ebp+hwnd]
mov     dword ptr [ebp+paint.rgbreserved+10h], 10h
mov     dword ptr [ebp+paint.rgbreserved+18h], eax
lea     eax, [ebp+paint.rgbreserved+10h]
push    eax
mov     dword ptr [ebp+paint.rgbreserved+14h], 80000002h
call    sub_27812acf
mov     eax, [ebp+hmem]
push    1
push    0ffffffffh
and     dword ptr [eax+0e4h], 0fffffffeh
push    [ebp+hmem]
jmp     loc_2780f37b
cmp     esi, 406h
ja      loc_2780fb83
cmp     esi, 401h
jnb     short loc_2780fae6
cmp     esi, 318h
jnz     def_2780fc2c
test    byte ptr [edx+9ch], 10h
jz      short loc_2780faa1
push    edx
call    sub_2780dc4a
mov     edx, [ebp+hmem]
test    byte ptr [edx+0e4h], 40h
jz      short loc_2780fad8
cmp     [ebp+h], ebx
jnz     short loc_2780facc
lea     eax, [ebp+paint]
push    eax
push    [ebp+hwnd]
call    ds:beginpaint
lea     eax, [ebp+paint]
push    eax
push    [ebp+hwnd]
call    ds:endpaint
mov     edx, [ebp+hmem]
or      byte ptr [edx+0e4h], 80h
jmp     loc_2780f2a2
push    [ebp+h]
push    edx
call    sub_2780c98d
jmp     loc_2780f2a2
push    [ebp+h]
push    edx
call    sub_2780d56e
cmp     eax, ebx
mov     [ebp+msg], eax
jl      loc_2780f2a2
mov     ecx, [ebp+hmem]
cmp     word ptr [ebp+ho], bx
lea     eax, [eax+eax*4]
lea     edi, [ecx+eax*4+0ech]
mov     cl, byte ptr ds:off_277ca99c[esi*4]
mov     al, [edi+8]
jz      short loc_2780fb72
or      cl, al
cmp     al, cl
mov     [edi+8], cl
jz      loc_2780f2d1
cmp     esi, 402h
jnz     short loc_2780fb3d
test    byte ptr [edi+9], 4
jz      short loc_2780fb3d
push    [ebp+h]
push    [ebp+hmem]
call    sub_2780d59d
cmp     esi, 404h
push    1
jnz     short loc_2780fb78
push    ebx
push    [ebp+hwnd]
call    ds:invalidaterect
push    [ebp+hmem]
call    sub_2780dc3c
mov     eax, [ebp+msg]
inc     eax
push    eax
push    0fffffffch
push    [ebp+hwnd]
push    800ah
call    sub_277b8949
jmp     loc_2780f2d1
not     cl
and     cl, al
jmp     short loc_2780fb19
push    edi
push    [ebp+hmem]
call    sub_2780cd9a
jmp     short loc_2780fb59
mov     eax, 411h
cmp     esi, eax
ja      short loc_2780fc0a
jz      short loc_2780fbd4
cmp     esi, 409h
jb      def_2780fc2c
cmp     esi, 40eh
ja      def_2780fc2c
push    [ebp+h]
push    edx
call    sub_2780d56e
cmp     eax, ebx
jl      loc_2781018b
mov     ecx, [ebp+hmem]
lea     eax, [eax+eax*4]
movzx   ecx, byte ptr [ecx+eax*4+0f4h]
mov     eax, ds:off_277ca97c[esi*4]
and     eax, ecx
jmp     loc_2780f4b4
push    [ebp+h]
push    edx
call    sub_2780d56e
cmp     eax, ebx
jl      loc_2780f2a2
push    eax
lea     ecx, [eax+eax*4]
mov     eax, [ebp+hmem]
push    [ebp+ho]
lea     ecx, [eax+ecx*4+0ech]
push    ecx
push    eax
call    sub_2780e5c8
push    [ebp+hmem]
call    sub_2780dc3c
jmp     loc_2780f2d1
mov     eax, 2002h
cmp     esi, eax
ja      loc_2781028f
jz      loc_27810241
lea     eax, [esi-412h]
cmp     eax, 49h
ja      def_2780fc2c
jmp     ds:jpt_2780fc2c[eax*4]
push    edx
call    sub_2780d21f
jmp     loc_2780f4b4
or      esi, 0ffffffffh
movzx   eax, word ptr [edx+8ch]
movzx   ecx, word ptr [edx+88h]
shl     eax, 10h
or      eax, ecx
movsx   ecx, si
shr     esi, 10h
cmp     ecx, 0ffffffffh
movsx   esi, si
jz      short loc_2780fc6b
mov     [edx+88h], ecx
mov     edx, [ebp+hmem]
cmp     esi, 0ffffffffh
jz      loc_2780f4b4
mov     [edx+8ch], esi
jmp     loc_2780f4b4
mov     esi, [ebp+ho]
jmp     short loc_2780fc41
lea     eax, [ebp+paint.rgbreserved+10h]
push    eax
mov     eax, [ebp+h]
shr     eax, 10h
push    eax
movzx   eax, word ptr [ebp+h]
push    eax
push    edx
call    sub_2780d4b4
test    eax, eax
jz      short loc_2780fcc6
push    [ebp+hmem]
call    sub_2780dc3c
push    16h
push    dword ptr [ebp+paint.rgbreserved+1ch]
push    dword ptr [ebp+paint.rgbreserved+18h]
push    ebx
push    ebx
push    ebx
push    [ebp+hwnd]
call    ds:setwindowpos
push    1
push    ebx
push    [ebp+hwnd]
call    ds:invalidaterect
mov     edi, [ebp+ho]
cmp     edi, ebx
jz      loc_2780f2a2
lea     esi, [ebp+paint.rgbreserved+10h]
movsd
movsd
movsd
movsd
jmp     loc_2780f2a2
push    edx
call    sub_2780e341
jmp     loc_2780f2a2
push    [ebp+ho]
jmp     loc_2780f67f
mov     eax, [edx+8]
jmp     loc_2780f4b4
movzx   eax, word ptr [edx+5ch]
movzx   ecx, word ptr [edx+58h]
shl     eax, 10h
or      eax, ecx
jmp     loc_2780f4b4
mov     eax, [ebp+ho]
movzx   ecx, ax
cmp     [edx+60h], ecx
jnz     short loc_2780fd24
mov     esi, eax
shr     esi, 10h
cmp     [edx+64h], esi
jz      loc_2780f2d1
mov     [edx+60h], ecx
mov     ecx, [ebp+hmem]
shr     eax, 10h
mov     [ecx+64h], eax
mov     eax, [ebp+hmem]
mov     [eax+58h], ebx
push    [ebp+hmem]
call    sub_2780b41c
push    1
push    ebx
push    [ebp+hwnd]
call    ds:invalidaterect
jmp     loc_2780f2d1
mov     eax, [ebp+h]
cmp     eax, [edx+6ch]
jnb     loc_2780f2a2
push    [ebp+ho]
lea     eax, [eax+eax*4]
lea     eax, [edx+eax*4+0ech]
push    eax
push    edx
call    sub_2780e619
jmp     loc_2780f2d1
push    [ebp+h]
push    edx
call    sub_2780d56e
cmp     eax, ebx
jl      loc_2781018b
mov     ecx, [ebp+hmem]
lea     eax, [eax+eax*4]
movzx   eax, byte ptr [ecx+eax*4+0f4h]
jmp     loc_2780f4b4
movzx   eax, byte ptr [ebp+h]
push    [ebp+ho]
push    eax
push    edx
call    sub_2780eb36
jmp     loc_2780f4b4
mov     eax, [ebp+ho]
push    dword ptr [eax+4]
push    dword ptr [eax]
push    [ebp+h]
push    edx
call    sub_2780da76
jmp     loc_2780f4b4
push    [ebp+ho]
push    edx
call    sub_2780dbb2
jmp     loc_2780f4b4
push    [ebp+ho]
push    [ebp+h]
push    edx
call    sub_2780d69d
jmp     loc_2780f4b4
push    1
push    [ebp+ho]
push    [ebp+h]
push    0ffffffffh
lea     eax, [ebp+hmem]
push    eax
call    sub_2780dccc
jmp     loc_2780f4b4
push    1
push    [ebp+ho]
push    1
push    [ebp+h]
jmp     short loc_2780fdea
push    ebx
push    [ebp+h]
push    edx
call    sub_2780dec6
jmp     loc_2780f4b4
push    edx
call    sub_2780de6f
jmp     loc_2780f4b4
mov     eax, [ebp+h]
cmp     eax, [edx+6ch]
jnb     loc_2780f2a2
push    [ebp+ho]
lea     eax, [eax+eax*4]
lea     eax, [edx+eax*4+0ech]
push    eax
push    edx
call    sub_2780e2cf
jmp     loc_2780f2d1
mov     ecx, [edx+0e4h]
mov     esi, [ebp+h]
mov     eax, ecx
and     esi, 1
shr     eax, 2
shl     esi, 2
and     ecx, 0fffffffbh
and     eax, 1
or      esi, ecx
mov     [edx+0e4h], esi
jmp     loc_2780f4b4
mov     eax, [edx+0e4h]
shr     eax, 2
and     eax, 1
jmp     loc_2780f4b4
mov     esi, [edx+0c4h]
push    ebx
push    [ebp+h]
push    edx
call    sub_2780cdfc
mov     eax, esi
jmp     loc_2780f4b4
mov     eax, [edx+0c4h]
jmp     loc_2780f4b4
push    [ebp+ho]
push    edx
call    sub_2780cf9e
jmp     loc_2780f2a2
mov     eax, [ebp+ho]
mov     ecx, [edx+0cch]
mov     [eax], ecx
mov     ecx, [edx+0e4h]
shr     ecx, 5
and     ecx, 1
mov     [eax+4], ecx
jmp     loc_2780f2d1
lea     ecx, [edx+0d0h]
mov     edx, [ebp+ho]
mov     eax, [ecx]
mov     [ecx], edx
jmp     loc_2780f4b4
mov     eax, [edx+0d0h]
jmp     loc_2780f4b4
push    [ebp+ho]
mov     eax, [ebp+h]
push    dword ptr [eax+4]
push    dword ptr [eax]
push    edx
call    sub_2780d103
jmp     loc_2780f4b4
push    [ebp+ho]
push    [ebp+h]
push    edx
call    sub_2780e19d
jmp     loc_2780f4b4
push    [ebp+ho]
push    edx
call    sub_278107f2
jmp     loc_2780f4b4
mov     eax, [edx+6ch]
jmp     loc_2780f4b4
push    [ebp+h]
push    edx
call    sub_2780d56e
jmp     loc_2780f4b4
mov     eax, [ebp+ho]
push    dword ptr [eax+8]
push    dword ptr [eax+4]
push    dword ptr [eax]
push    [ebp+h]
push    edx
call    sub_27821450
jmp     loc_2780f4b4
push    dword ptr [edx+6ch]
push    edx
jmp     loc_2780f9f2
push    [ebp+h]
push    edx
call    sub_2780d56e
mov     edx, [ebp+hmem]
mov     [ebp+h], eax
cmp     [ebp+ho], ebx
jz      loc_2780f2a2
push    [ebp+ho]
push    [ebp+h]
push    edx
call    sub_2780cca6
jmp     loc_2780f4b4
push    [ebp+h]
push    edx
call    sub_2780e329
jmp     loc_2780f2a2
mov     eax, [ebp+ho]
push    ebx
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+ho]
push    eax
push    edx
call    sub_2780c575
jmp     loc_2780f4b4
mov     eax, [ebp+ho]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [ebp+ho]
push    eax
push    edx
call    sub_2780c65c
jmp     loc_2780f4b4
mov     esi, [edx+0b8h]
mov     ecx, [ebp+ho]
lea     eax, [edx+0b8h]
mov     [ebp+hwnd], ebx
mov     [ebp+h], ebx
mov     [eax], ecx
mov     eax, [ebp+hmem]
or      dword ptr [eax+9ch], 2
mov     eax, [ebp+hmem]
mov     eax, [eax+0b8h]
cmp     eax, ebx
jz      short loc_2780fffc
lea     ecx, [ebp+h]
push    ecx
lea     ecx, [ebp+hwnd]
push    ecx
push    eax
call    sub_278139de
push    [ebp+h]
push    [ebp+hwnd]
push    [ebp+hmem]
call    sub_2780c65c
jmp     loc_2780fe8b
mov     eax, [edx+0b8h]
jmp     loc_2780f4b4
lea     ecx, [edx+0bch]
jmp     loc_2780fed0
mov     eax, [edx+0bch]
jmp     loc_2780f4b4
mov     eax, [edx+0c0h]
jmp     loc_2780f4b4
lea     ecx, [edx+0c0h]
jmp     loc_2780fed0
mov     esi, [ebp+h]
push    10h
pop     ecx
mov     edi, offset dword_277cbf30
xor     eax, eax
repe cmpsb
jnz     short loc_27810090
cmp     [edx+0a0h], ebx
jnz     short loc_27810078
push    ebx
push    offset sub_2780b192
push    dword ptr [edx]
call    sub_27812b44
mov     ecx, [ebp+hmem]
mov     [ecx+0a0h], eax
mov     edx, [ebp+hmem]
mov     edx, [edx+0a0h]
cmp     edx, ebx
jz      short loc_27810090
push    [ebp+ho]
push    edx
call    sub_27812b9a
jmp     loc_2780f4b4
mov     eax, 80004005h
jmp     loc_2780f4b4
push    [ebp+ho]
push    [ebp+h]
push    edx
call    sub_2780db4a
jmp     loc_2780f4b4
push    edx
call    sub_2780b07b
mov     eax, [ebp+hmem]
mov     eax, [eax+28h]
jmp     loc_2780f4b4
mov     eax, [ebp+h]
mov     [edx+28h], eax
jmp     loc_2780f2a2
mov     ecx, [ebp+h]
mov     eax, [edx+4]
mov     [edx+4], ecx
jmp     loc_2780f4b4
push    [ebp+ho]
push    [ebp+h]
push    edx
call    sub_2780e7b0
jmp     loc_2780f4b4
push    [ebp+ho]
push    [ebp+h]
push    edx
call    sub_2780e685
jmp     loc_2780f4b4
push    [ebp+h]
push    edx
call    sub_2780d56e
cmp     eax, ebx
jl      loc_2780f2a2
movzx   ecx, word ptr [ebp+ho]
push    ecx
lea     ecx, [eax+eax*4]
mov     eax, [ebp+hmem]
lea     ecx, [eax+ecx*4+0ech]
push    ecx
push    eax
call    sub_2780e433
jmp     loc_2780f4b4
push    [ebp+h]
push    edx
call    sub_2780d56e
cmp     eax, ebx
jl      loc_2780f2a2
mov     ecx, [ebp+hmem]
lea     eax, [eax+eax*4]
mov     eax, [ecx+eax*4+0ech]
jmp     loc_2780f4b4
push    [ebp+h]
push    edx
call    sub_2780d56e
cmp     eax, ebx
jl      short loc_2781018b
lea     ecx, [eax+eax*4]
mov     eax, [ebp+hmem]
lea     ecx, [eax+ecx*4+0ech]
push    ecx
push    eax
call    sub_2780ba3f
mov     esi, eax
cmp     esi, ebx
jz      short loc_2781018b
cmp     [ebp+ho], ebx
jz      short loc_2781017f
push    esi
push    [ebp+ho]
call    ds:lstrcpya
push    esi
call    ds:lstrlena
jmp     loc_2780f4b4
or      eax, 0ffffffffh
jmp     loc_2780f4b4
push    ebx
xor     edi, edi
call    ds:getdc
mov     esi, eax
push    5ah
push    esi
call    ds:getdevicecaps
cmp     eax, 78h
jl      short loc_278101af
push    1
pop     edi
push    esi
push    ebx
call    ds:releasedc
mov     eax, edi
jmp     loc_2780f4b4
mov     eax, [ebp+h]
push    1
push    ebx
mov     [edx+84h], eax
push    [ebp+hwnd]
call    ds:invalidaterect
jmp     loc_2780fbfd
mov     eax, [ebp+h]
cmp     [edx+48h], eax
jz      loc_2780f2d1
mov     [edx+48h], eax
jmp     loc_2780fd36
mov     eax, [edx+48h]
jmp     loc_2780f4b4
mov     eax, [ebp+ho]
push    dword ptr [eax+4]
push    dword ptr [eax]
push    edx
call    sub_2780d075
jmp     loc_2780f4b4
mov     esi, [ebp+ho]
mov     eax, [edx+0a4h]
lea     ecx, [edx+0a4h]
mov     edx, [ebp+h]
and     esi, edx
mov     [ecx], esi
mov     ecx, [ebp+hmem]
mov     [ecx+0a8h], edx
jmp     loc_2780f4b4
mov     eax, [edx+18h]
jmp     loc_2780f4b4
mov     ecx, [ebp+ho]
mov     eax, [edx+18h]
mov     [edx+18h], ecx
jmp     loc_2780f4b4
mov     eax, [ebp+ho]
cmp     eax, ebx
jz      loc_2780f2a2
cmp     dword ptr [eax], 0ch
jnz     loc_2780f2a2
mov     ecx, [eax+4]
push    ebx
mov     [edx+0b0h], ecx
mov     ecx, [ebp+hmem]
mov     eax, [eax+8]
push    ebx
push    [ebp+hwnd]
mov     [ecx+0b4h], eax
call    ds:invalidaterect
mov     eax, [ebp+hmem]
test    byte ptr [eax+0ah], 80h
jz      loc_2780f2a2
push    [ebp+hwnd]
call    sub_27811c84
jmp     loc_2780f2a2
mov     eax, esi
sub     eax, 2003h
jz      short loc_278102b9
dec     eax
dec     eax
jz      short loc_278102ab
dec     eax
jnz     def_2780fc2c
mov     eax, [edx+10h]
jmp     loc_2780f4b4
mov     ecx, [ebp+h]
mov     eax, [edx+10h]
mov     [edx+10h], ecx
jmp     loc_2780f4b4
mov     eax, [ebp+ho]
cmp     eax, ebx
jz      loc_2780f4b4
cmp     dword ptr [eax], 0ch
jnz     loc_2780f4b4
lea     esi, [edx+0ach]
mov     edi, eax
movsd
movsd
movsd
jmp     loc_2780f4b4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+lpchtext]
push    edi
xor     edi, edi
mov     eax, [esi+6ch]
lea     ebx, [esi+0ech]
lea     eax, [eax+eax*4]
lea     eax, [esi+eax*4+0ech]
cmp     ebx, eax
mov     [ebp+lpchtext], eax
jnb     short loc_27810446
test    byte ptr [ebx+8], 8
jnz     short loc_2781043e
push    0
push    ebx
push    esi
call    sub_2780b281
add     edi, eax
add     ebx, 14h
cmp     ebx, [ebp+lpchtext]
jb      short loc_2781042d
mov     eax, [ebp+arg_4]
mov     ecx, [esi+5ch]
cdq
idiv    ecx
sub     [ebp+arg_4], edx
cmp     [ebp+arg_4], ecx
jge     short loc_2781045a
mov     [ebp+arg_4], ecx
lea     eax, [ebp+var_10]
push    0
push    eax
push    edi
push    esi
call    sub_2780d259
mov     eax, [ebp+var_4]
sub     eax, [ebp+var_c]
cmp     [ebp+arg_4], eax
jle     short loc_278104bb
mov     [ebp+lpchtext], 1
cmp     [ebp+lpchtext], 0
mov     ebx, edi
jz      short loc_278104b6
lea     eax, [edi+edi]
push    3
cdq
pop     ecx
idiv    ecx
mov     edi, eax
cmp     edi, ebx
jz      short loc_278104bb
lea     eax, [ebp+var_10]
push    0
push    eax
push    edi
push    esi
call    sub_2780d259
mov     eax, [ebp+var_4]
sub     eax, [ebp+var_c]
cmp     [ebp+arg_4], eax
jge     short loc_27810479
cmp     [ebp+lpchtext], 0
mov     edi, ebx
jz      short loc_278104bb
and     [ebp+lpchtext], 0
jmp     short loc_27810479
sub     edi, [esi+58h]
jmp     short loc_2781048c
push    esi
call    sub_2780e341
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 48h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
lea     esi, [ebx+0eh]
lea     edi, [ebp+var_28]
movsd
movsd
movsd
movsd
mov     edi, [ebp+lpchtext]
mov     esi, [ebx+26h]
mov     eax, [ebx+1eh]
push    1
mov     ecx, [edi+5ch]
add     esi, [edi+68h]
mov     [ebp+var_8], ecx
mov     ecx, [ebx+22h]
add     ecx, [edi+84h]
pop     edx
cmp     eax, edx
mov     [ebp+var_4], eax
mov     [ebp+var_18], ecx
mov     [ebp+var_14], esi
mov     [ebp+var_10], ecx
mov     [ebp+var_c], esi
jz      short loc_27810516
cmp     eax, 2
jnz     short loc_27810521
mov     eax, [edi+58h]
test    eax, eax
jnz     loc_278105be
mov     [ebp+lpchtext], edx
cmp     [ebp+lpchtext], 0
jnz     short loc_2781052d
mov     [ebp+lpchtext], edx
inc     esi
inc     ecx
push    esi
push    ecx
push    edi
call    sub_2780d075
test    eax, eax
mov     [ebp+arg_4], eax
jge     short loc_27810546
or      ecx, 0ffffffffh
sub     ecx, eax
mov     [ebp+arg_4], ecx
mov     esi, [ebp+var_4]
mov     eax, esi
dec     eax
jz      loc_27810660
dec     eax
jz      short loc_27810562
dec     eax
dec     eax
jz      loc_27810660
sub     eax, 4
jnz     short loc_278105b5
lea     eax, [ebp+rect]
push    eax
push    dword ptr [edi]
call    ds:getwindowrect
cmp     esi, 8
jnz     short loc_278105d6
lea     eax, [ebp+rect]
push    eax
call    sub_278119ad
lea     eax, [ebp+var_28]
push    eax
call    sub_278119ad
lea     eax, [ebp+var_18]
push    eax
call    sub_277e58d5
lea     eax, [ebp+var_10]
push    eax
call    sub_277e58d5
mov     edx, [edi+58h]
mov     eax, [ebp+rect.bottom]
mov     ecx, [ebp+var_1c]
sub     eax, [ebp+rect.top]
sub     ecx, [ebp+var_24]
test    byte ptr [ebx+0ch], 2
jz      short loc_278105db
sub     eax, [ebp+var_14]
sub     eax, ecx
cmp     eax, ecx
jg      short loc_278105e6
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    8
mov     eax, [ebp+var_20]
mov     ebx, [ebp+arg_4]
sub     eax, [ebp+var_28]
push    1
cdq
idiv    dword ptr [edi+58h]
pop     edx
mov     [ebp+lpchtext], eax
jmp     loc_27810524
mov     edx, [ebp+var_8]
jmp     short loc_2781059a
sub     eax, [ebp+var_14]
sub     eax, ecx
cmp     eax, edx
jle     short loc_27810658
mov     ecx, edx
add     [ebp+var_c], ecx
cmp     esi, 8
jnz     short loc_278105f7
lea     eax, [ebp+var_10]
push    eax
call    sub_277e58d5
push    [ebp+var_c]
push    [ebp+var_10]
push    edi
call    sub_2780d075
test    eax, eax
jge     short loc_2781060e
or      ecx, 0ffffffffh
sub     ecx, eax
mov     eax, ecx
cmp     eax, [ebp+arg_4]
jnz     short loc_27810638
mov     esi, [ebp+lpchtext]
mov     edx, [edi+6ch]
lea     ecx, [esi+eax]
cmp     ecx, edx
jge     short loc_27810638
mov     eax, ecx
lea     ecx, [eax+eax*4]
test    byte ptr [edi+ecx*4+0f5h], 1
jz      short loc_27810638
lea     ecx, [esi+eax]
cmp     ecx, edx
jge     short loc_27810638
mov     eax, ecx
lea     ecx, [ebp+var_38]
push    ecx
push    eax
push    edi
call    sub_2780cca6
cmp     [ebp+var_4], 8
jnz     short loc_27810652
lea     eax, [ebp+var_38]
push    eax
call    sub_278119ad
mov     eax, [ebp+var_34]
sub     eax, [ebp+var_14]
mov     [ebx+2ah], eax
jmp     loc_278105b5
cmp     esi, 4
jnz     short loc_27810686
lea     eax, [ebp+var_28]
push    eax
call    sub_278119ad
lea     eax, [ebp+var_18]
push    eax
call    sub_277e58d5
lea     eax, [ebp+var_10]
push    eax
call    sub_277e58d5
mov     eax, [edi+58h]
mov     [ebp+var_8], eax
mov     esi, [ebp+var_14]
lea     eax, [ebp+var_38]
push    eax
push    [ebp+arg_4]
push    edi
call    sub_2780cca6
cmp     [ebp+var_4], 4
jnz     short loc_278106a5
lea     eax, [ebp+var_38]
push    eax
call    sub_278119ad
lea     eax, [esi-1]
cmp     [ebp+var_34], eax
jge     short loc_278106b3
mov     eax, [ebp+lpchtext]
add     [ebp+arg_4], eax
mov     eax, [ebp+var_1c]
sub     eax, [ebp+var_24]
test    byte ptr [ebx+0ch], 2
jnz     short loc_278106c2
mov     eax, [ebp+var_8]
sub     esi, eax
test    esi, esi
jle     loc_278105b5
sub     [ebp+var_c], eax
cmp     [ebp+var_4], 4
jnz     short loc_278106de
lea     eax, [ebp+var_10]
push    eax
call    sub_277e58d5
push    [ebp+var_c]
push    [ebp+var_10]
push    edi
call    sub_2780d075
test    eax, eax
jge     short loc_278106f5
or      ecx, 0ffffffffh
sub     ecx, eax
mov     eax, ecx
mov     ecx, [ebp+arg_4]
cmp     eax, ecx
jnz     short loc_27810718
mov     edx, [ebp+lpchtext]
cmp     eax, edx
jl      short loc_27810718
sub     eax, edx
lea     esi, [eax+eax*4]
test    byte ptr [edi+esi*4+0f5h], 1
jz      short loc_27810718
cmp     eax, edx
jl      short loc_27810718
sub     eax, edx
sub     ecx, [ebp+lpchtext]
cmp     eax, ecx
jnz     short loc_27810722
sub     eax, [ebp+lpchtext]
lea     ecx, [ebp+var_38]
push    ecx
push    eax
push    edi
call    sub_2780cca6
cmp     [ebp+var_4], 4
jnz     short loc_2781073c
lea     eax, [ebp+var_38]
push    eax
call    sub_278119ad
mov     eax, [ebp+var_14]
sub     eax, [ebp+var_2c]
jmp     loc_27810658
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     edi, [ebp+lpchtext]
mov     eax, [esi+0ch]
dec     eax
jz      short loc_278107a1
dec     eax
jnz     short loc_27810772
mov     eax, [esi+10h]
cmp     [edi+90h], eax
jnz     short loc_2781078c
mov     eax, [edi+94h]
mov     [esi+14h], eax
mov     eax, [esi+10h]
mov     [edi+90h], eax
mov     eax, [esi+14h]
mov     [edi+94h], eax
pop     edi
xor     eax, eax
pop     esi
leave
retn    8
lea     ecx, [ebp+var_10]
push    0
push    ecx
push    eax
push    edi
call    sub_2780d259
mov     eax, [ebp+var_4]
sub     eax, [ebp+var_c]
jmp     short loc_2781076f
mov     eax, [esi+14h]
cmp     [edi+94h], eax
jnz     short loc_278107b7
mov     eax, [edi+90h]
mov     [esi+10h], eax
jmp     short loc_27810772
push    eax
push    edi
call    sub_27810405
jmp     short loc_278107b2
mov     ecx, [esp+arg_4]
mov     eax, [ecx+8]
cmp     eax, 0fffffc7ah
jz      short loc_278107e6
cmp     eax, 0fffffc7bh
jz      short loc_278107da
xor     eax, eax
retn    8
push    ecx
push    [esp+4+lpchtext]
call    sub_278104ca
jmp     short locret_278107d7
push    ecx
push    [esp+4+lpchtext]
call    sub_27810747
jmp     short locret_278107d7
mov     edx, [esp+arg_4]
mov     ecx, [esp+arg_0]
push    ebx
xor     ebx, ebx
xor     eax, eax
test    edx, edx
jz      short loc_27810846
push    edi
mov     edi, [ecx+6ch]
test    edi, edi
push    esi
jle     short loc_27810824
lea     esi, [ecx+0f5h]
test    byte ptr [esi-1], 8
jnz     short loc_2781081e
test    byte ptr [esi], 1
jz      short loc_2781084a
inc     eax
add     esi, 14h
dec     edi
jnz     short loc_27810812
test    byte ptr [ecx+8], 80h
jz      short loc_2781084d
mov     esi, [ecx+58h]
mov     [edx], esi
mov     ecx, [ecx+5ch]
imul    eax, ds:dword_277cb998
imul    ecx, ebx
add     eax, ecx
push    1
mov     [edx+4], eax
pop     eax
pop     esi
pop     edi
pop     ebx
retn    8
inc     ebx
jmp     short loc_2781081e
mov     esi, [ecx+58h]
imul    eax, ds:dword_277cb998
imul    esi, ebx
add     eax, esi
mov     [edx], eax
mov     eax, [ecx+5ch]
jmp     short loc_2781083e
push    esi
mov     esi, [esp+4+lparam]
push    edi
mov     edi, [esp+8+arg_4]
push    esi
push    0fffffd34h
mov     eax, [edi+4]
and     dword ptr [esi+18h], 0
push    [esp+10h+arg_0]
mov     [esi+10h], eax
mov     eax, [edi+0ch]
mov     [esi+14h], eax
call    sub_277b9838
mov     eax, [esi+0ch]
test    eax, 10000000h
jz      short loc_2781089f
test    al, 1
jz      short loc_2781089f
mov     eax, [esi+18h]
mov     [edi], eax
pop     edi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 41ch
lea     eax, [ebp+var_41c]
and     [ebp+var_41c], 0
mov     [ebp+lpstring], eax
mov     eax, [ebp+arg_8]
push    esi
mov     esi, [ebp+arg_0]
mov     ecx, [eax+4]
mov     eax, [eax+0ch]
mov     [ebp+var_4], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffd32h
push    esi
mov     [ebp+var_c], 400h
mov     [ebp+var_8], ecx
call    sub_277b9838
mov     eax, [ebp+lpstring]
test    eax, eax
jz      short loc_27810915
cmp     byte ptr [eax], 0
jz      short loc_27810915
add     esi, 2ch
push    eax
push    esi
call    sub_2781617a
mov     eax, [esi]
mov     ecx, [ebp+arg_4]
test    eax, eax
mov     [ecx+0ch], eax
jz      short loc_27810915
cmp     byte ptr [eax], 0
jz      short loc_27810915
push    1
pop     eax
pop     esi
leave
retn    0ch
xor     eax, eax
jmp     short loc_27810910
push    ebp
mov     ebp, esp
sub     esp, 34h
test    byte ptr [ebp+arg_8], 4
jnz     locret_278109f6
push    edi
push    esi
lea     eax, [ebp+rect]
push    ebx
push    eax
push    [ebp+hwnd]
call    ds:getwindowrect
mov     eax, [ebp+rect.left]
sub     [ebp+rect.right], eax
mov     eax, [ebp+rect.top]
sub     [ebp+rect.bottom], eax
lea     eax, [ebp+var_24]
push    eax
push    [ebp+hwnd]
call    ds:getclientrect
lea     eax, [ebp+var_24]
push    eax
push    [ebp+hwnd]
call    ds:clienttoscreen
mov     ebx, [ebp+var_24.left]
mov     eax, [ebp+var_24.top]
mov     esi, [ebp+rect.right]
mov     edi, [ebp+rect.bottom]
sub     ebx, [ebp+rect.left]
sub     eax, [ebp+rect.top]
sub     esi, [ebp+var_24.right]
sub     edi, [ebp+var_24.bottom]
mov     ecx, [ebp+arg_8]
mov     [ebp+var_30], eax
mov     [ebp+var_4], ecx
sub     esi, ebx
sub     edi, eax
and     [ebp+var_4], 80h
jz      short loc_278109fa
lea     eax, [ebx+esi]
add     [ebp+arg_4], eax
test    cl, 8
jz      short loc_27810a0e
mov     eax, ecx
and     eax, 3
jle     short loc_278109a8
cmp     eax, 2
jle     loc_27810a99
cmp     [ebp+var_4], 0
jz      short loc_278109fe
mov     eax, [ebp+arg_14]
mov     ecx, [ebp+arg_c]
sub     eax, [ebp+arg_4]
add     ecx, eax
mov     eax, [ebp+y]
test    byte ptr [ebp+arg_8], 42h
jnz     short loc_278109d2
cmp     [ebp+var_4], 0
jz      loc_27810aa1
add     ecx, dword_2782a06c
cmp     [ebp+var_4], 0
jz      loc_27810aac
mov     esi, [ebp+arg_4]
mov     edx, [ebp+cy]
push    4
push    edx
push    esi
push    eax
push    ecx
push    0
push    [ebp+hwnd]
call    ds:setwindowpos
pop     ebx
pop     esi
pop     edi
leave
retn    1ch
add     eax, edi
jmp     short loc_27810990
mov     ecx, [ebp+cy]
mov     eax, [ebp+y]
sub     ecx, [ebp+arg_4]
add     eax, ecx
mov     ecx, [ebp+arg_c]
jmp     short loc_278109bc
lea     eax, [ebp+var_24]
push    eax
push    [ebp+hwnd]
call    ds:getparent
push    eax
call    ds:getclientrect
cmp     [ebp+var_4], 0
jz      short loc_27810a54
mov     ecx, [ebp+var_30]
mov     eax, esi
add     ecx, edi
neg     eax
add     ecx, [ebp+var_24.bottom]
mov     [ebp+cy], ecx
mov     ecx, [ebp+arg_c]
mov     edx, [ebp+arg_8]
and     edx, 3
cmp     edx, 1
jnz     short loc_27810a70
cmp     [ebp+var_4], 0
jz      short loc_27810a66
neg     ebx
mov     ecx, ebx
jmp     loc_278109bc
mov     ecx, ebx
lea     eax, [ebx+esi]
neg     ecx
add     eax, [ebp+var_24.right]
mov     [ebp+arg_14], eax
mov     eax, [ebp+y]
jmp     short loc_27810a3a
mov     eax, [ebp+var_30]
neg     eax
jmp     loc_278109bc
cmp     edx, 2
jz      loc_278109bc
cmp     [ebp+var_4], 0
jz      short loc_27810a8c
mov     ecx, [ebp+var_24.right]
add     ecx, esi
sub     ecx, [ebp+arg_4]
jmp     loc_278109bc
mov     eax, [ebp+var_24.bottom]
add     eax, edi
sub     eax, [ebp+arg_4]
jmp     loc_278109bc
mov     eax, [ebp+y]
jmp     loc_27810a09
add     eax, dy
jmp     loc_278109d2
mov     edx, [ebp+arg_4]
mov     esi, [ebp+arg_14]
jmp     loc_278109e2
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_c]
xor     eax, eax
cmp     edi, 0ffffffffh
mov     [ebp+sz._cx], eax
mov     [ebp+sz.cy], eax
jz      loc_27810b52
lea     ebx, [edi+1]
push    ebx
push    eax
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      short loc_27810b4e
push    ebx
push    [ebp+lpstring2]
push    esi
call    ds:lstrcpyna
and     byte ptr [esi+edi], 0
push    esi
push    [ebp+codepage]
call    sub_2781fbe5
push    esi
mov     edi, eax
call    ds:localfree
test    edi, edi
jz      short loc_27810b61
lea     eax, [ebp+sz]
push    eax
push    edi
call    ds:lstrlenw
push    eax
push    edi
push    [ebp+hdc]
call    ds:gettextextentpointw
cmp     edi, 0ffffffffh
mov     esi, eax
jz      short loc_27810b2d
push    edi
call    ds:localfree
mov     eax, [ebp+arg_10]
test    eax, eax
jz      short loc_27810b39
mov     ecx, [ebp+sz._cx]
mov     [eax], ecx
mov     eax, [ebp+arg_14]
test    eax, eax
jz      short loc_27810b45
mov     ecx, [ebp+sz.cy]
mov     [eax], ecx
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    18h
xor     edi, edi
jmp     short loc_27810b05
push    [ebp+lpstring2]
push    [ebp+codepage]
call    sub_2781fbe5
mov     edi, eax
jmp     short loc_27810b05
xor     esi, esi
jmp     short loc_27810b2d
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_1c]
and     [ebp+var_4], 0
lea     ebx, [edi+1]
push    ebx
push    0
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      short loc_27810be2
push    ebx
push    [ebp+lpstring2]
push    esi
call    ds:lstrcpyna
and     byte ptr [esi+edi], 0
push    esi
push    [ebp+codepage]
call    sub_2781fbe5
push    esi
mov     edi, eax
call    ds:localfree
test    edi, edi
jz      short loc_27810be7
push    [ebp+lpdx]
push    edi
call    ds:lstrlenw
push    eax
push    edi
push    [ebp+lprect]
push    [ebp+options]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ds:exttextoutw
cmp     edi, 0ffffffffh
mov     esi, eax
jz      short loc_27810bd9
push    edi
call    ds:localfree
mov     eax, esi
pop     edi
pop     esi
pop     ebx
leave
retn    24h
mov     edi, [ebp+var_4]
jmp     short loc_27810ba6
xor     esi, esi
jmp     short loc_27810bd9
push    ebp
mov     ebp, esp
sub     esp, 104h
movzx   eax, word ptr [ebp+arg_4]
push    ebx
and     [ebp+var_8], 0
push    esi
push    edi
push    2
push    eax
push    [ebp+hmodule]
call    ds:findresourcea
test    eax, eax
jz      short loc_27810c29
push    eax
push    [ebp+hmodule]
call    ds:loadresource
push    eax
mov     [ebp+hresdata], eax
call    ds:lockresource
mov     edi, eax
test    edi, edi
jnz     short loc_27810c32
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     cl, [edi+0eh]
push    1
pop     eax
shl     eax, cl
mov     ecx, [edi]
lea     esi, [ecx+eax*4]
push    esi
push    40h
mov     [ebp+hdc], esi
call    ds:globalalloc
test    eax, eax
mov     [ebp+hmodule], eax
jz      loc_27810e76
push    esi
push    edi
push    eax
call    ds:rtlmovememory
cmp     [ebp+destheight], 0
jnz     short loc_27810ca4
lea     eax, [ebp+var_44]
mov     [ebp+hdcsrc], 6
mov     [ebp+destheight], eax
lea     ebx, [ebp+var_44]
mov     [ebp+arg_4], offset dword_277cb9bc
xor     esi, esi
mov     eax, ds:dword_277cb9b8[esi]
mov     [ebx], eax
mov     eax, [ebp+arg_4]
push    dword ptr [eax]
call    ds:getsyscolor
add     [ebp+arg_4], 8
mov     [ebp+esi+var_40], eax
add     esi, 8
add     ebx, 8
cmp     esi, 30h
jl      short loc_27810c7e
push    10h
pop     eax
cmp     [ebp+hdcsrc], eax
jle     short loc_27810caf
mov     [ebp+hdcsrc], eax
mov     ebx, [ebp+hdcsrc]
test    ebx, ebx
jle     short loc_27810d07
mov     edx, [ebp+destheight]
lea     esi, [ebp+var_104]
lea     ecx, [ebp+var_104]
sub     esi, edx
lea     eax, [edx+4]
mov     [ebp+destheight], ebx
mov     ebx, [eax]
xor     edx, edx
mov     dh, [eax]
mov     dl, [eax+1]
shr     ebx, 10h
movzx   ebx, bl
shl     edx, 8
or      edx, ebx
mov     ebx, [eax-4]
mov     [esi+eax], edx
xor     edx, edx
mov     dh, [eax-4]
mov     dl, [eax-3]
add     eax, 8
shr     ebx, 10h
movzx   ebx, bl
shl     edx, 8
or      edx, ebx
mov     [ecx], edx
add     ecx, 8
dec     [ebp+destheight]
jnz     short loc_27810ccd
mov     eax, [ebp+hmodule]
mov     ecx, [ebp+lpbits]
add     eax, [eax]
and     ecx, 2
mov     [ebp+arg_4], ecx
mov     [ebp+var_10], eax
jz      short loc_27810d46
mov     edx, eax
lea     esi, [ebp+var_84]
push    10h
sub     edx, esi
lea     ecx, [ebp+var_84]
pop     esi
cmp     dword ptr [edx+ecx], 0ff00ffh
jnz     loc_27810e87
mov     dword ptr [ecx], 0ffffffh
add     ecx, 4
dec     esi
jnz     short loc_27810d2d
push    10h
pop     esi
and     [ebp+destheight], 0
cmp     [ebp+hdcsrc], 0
jle     short loc_27810d77
mov     edx, [eax]
lea     ecx, [ebp+var_104]
and     edx, 0ffffffh
cmp     edx, [ecx]
jz      loc_27810e8f
inc     [ebp+destheight]
add     ecx, 8
mov     ebx, [ebp+destheight]
cmp     ebx, [ebp+hdcsrc]
jl      short loc_27810d61
add     eax, 4
dec     esi
jnz     short loc_27810d49
mov     eax, [ebp+hdc]
mov     esi, [edi+4]
add     eax, edi
mov     edi, [edi+8]
push    0
mov     [ebp+lpbits], eax
mov     ebx, esi
mov     [ebp+destheight], edi
call    ds:getdc
push    eax
mov     [ebp+hdc], eax
call    ds:createcompatibledc
test    eax, eax
mov     [ebp+hdcsrc], eax
jz      loc_27810e53
cmp     [ebp+arg_4], 0
jz      short loc_27810db6
lea     ebx, [esi+esi]
push    edi
push    ebx
push    [ebp+hdc]
call    ds:createcompatiblebitmap
test    eax, eax
mov     [ebp+var_8], eax
jz      loc_27810e53
push    eax
push    [ebp+hdcsrc]
call    ds:selectobject
mov     [ebp+h], eax
mov     ebx, 0cc0020h
xor     eax, eax
push    ebx
push    eax
push    [ebp+hmodule]
push    [ebp+lpbits]
push    edi
push    esi
push    eax
push    eax
push    edi
mov     edi, ds:stretchdibits
push    esi
push    eax
push    eax
push    [ebp+hdcsrc]
call    edi
cmp     [ebp+arg_4], 0
jz      short loc_27810e47
lea     eax, [ebp+var_84]
push    40h
push    eax
push    [ebp+var_10]
call    ds:rtlmovememory
push    ebx
xor     ebx, ebx
push    ebx
push    [ebp+hmodule]
push    [ebp+lpbits]
push    [ebp+destheight]
push    esi
push    ebx
push    ebx
push    [ebp+destheight]
push    esi
push    ebx
push    esi
push    [ebp+hdcsrc]
call    edi
push    220326h
push    ebx
push    esi
push    [ebp+hdcsrc]
push    [ebp+destheight]
push    esi
push    ebx
push    ebx
push    [ebp+hdcsrc]
call    ds:bitblt
push    [ebp+h]
push    [ebp+hdcsrc]
call    ds:selectobject
cmp     [ebp+hdcsrc], 0
jz      short loc_27810e62
push    [ebp+hdcsrc]
call    ds:deleteobject
push    [ebp+hdc]
push    0
call    ds:releasedc
push    [ebp+hmodule]
call    ds:globalfree
push    [ebp+hresdata]
call    ds:freeresource
mov     eax, [ebp+var_8]
jmp     loc_27810c2b
and     dword ptr [ecx], 0
jmp     loc_27810d40
mov     ecx, [ebp+destheight]
mov     ecx, [ebp+ecx*8+var_100]
mov     [eax], ecx
jmp     loc_27810d77
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    esi
push    edi
push    44h
call    sub_277b339b
push    45h
mov     esi, eax
call    sub_277b339b
cmp     esi, 4
jge     short loc_27810ec2
push    4
pop     eax
push    eax
pop     esi
mov     ecx, [ebp+arg_8]
lea     edx, [eax+ecx]
sub     ecx, eax
push    edx
mov     edx, [ebp+arg_4]
lea     eax, [ebp+rc]
lea     edi, [esi+edx]
sub     edx, esi
push    edi
push    ecx
push    edx
push    eax
call    ds:setrect
lea     eax, [ebp+rc]
push    2
push    eax
push    0
push    [ebp+hwndfrom]
call    ds:mapwindowpoints
push    [ebp+hwndfrom]
call    ds:setcapture
mov     esi, ds:translatemessage
mov     edi, ds:dispatchmessagea
push    1
push    0
push    0
lea     eax, [ebp+msg]
push    0
push    eax
call    ds:peekmessagea
test    eax, eax
jz      short loc_27810f52
lea     eax, [ebp+msg]
push    4200h
push    eax
call    ds:callmsgfiltera
test    eax, eax
jnz     short loc_27810f52
mov     eax, [ebp+msg.message]
sub     eax, 200h
jz      short loc_27810f65
dec     eax
jz      short loc_27810f90
dec     eax
jz      short loc_27810f84
dec     eax
dec     eax
jz      short loc_27810f90
dec     eax
jz      short loc_27810f84
lea     eax, [ebp+msg]
push    eax
call    esi
lea     eax, [ebp+msg]
push    eax
call    edi
call    ds:getcapture
cmp     eax, [ebp+hwndfrom]
jz      short loc_27810f06
xor     eax, eax
pop     edi
pop     esi
leave
retn    0ch
push    [ebp+msg.pt.y]
lea     eax, [ebp+rc]
push    [ebp+msg.pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_27810f52
call    ds:releasecapture
push    1
pop     eax
jmp     short loc_27810f5f
lea     eax, [ebp+msg]
push    eax
call    esi
lea     eax, [ebp+msg]
push    eax
call    edi
call    ds:releasecapture
jmp     short loc_27810f5d
mov     ecx, [esp+arg_0]
push    esi
xor     eax, eax
xor     esi, esi
cmp     byte ptr [ecx], 2dh
jnz     short loc_27810faa
push    1
pop     esi
inc     ecx
mov     dl, [ecx]
cmp     dl, 30h
jl      short loc_27810fc2
cmp     dl, 39h
jg      short loc_27810fc2
movsx   edx, dl
lea     eax, [eax+eax*4]
lea     eax, [edx+eax*2-30h]
jmp     short loc_27810fa9
test    esi, esi
jz      short loc_27810fc8
neg     eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 1ch
cmp     [ebp+hwnd], 0
jz      short locret_27811004
mov     eax, [ebp+arg_10]
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_14], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_18], eax
mov     eax, [ebp+arg_4]
mov     [ebp+lparam], eax
lea     eax, [ebp+lparam]
push    eax
push    0
push    407h
push    [ebp+hwnd]
call    ds:sendmessagea
leave
retn    14h
push    esi
call    ds:getmessagetime
sub     eax, dword_2782c31c
cmp     eax, 3e8h
jbe     short loc_2781102a
and     dword_2782c310, 0
and     dword_2782c318, 0
mov     eax, dword_2782c318
test    eax, eax
jz      short loc_27811053
mov     esi, [esp+4+lpstring1]
test    esi, esi
jz      short loc_27811053
inc     eax
push    eax
push    lpmem
push    esi
call    ds:lstrcpyna
mov     eax, dword_2782c318
and     byte ptr [esi+eax], 0
mov     eax, dword_2782c318
pop     esi
retn    4
push    ebx
push    esi
mov     esi, ds:getmessagetime
push    edi
xor     ebx, ebx
xor     edi, edi
cmp     dword_2782c320, ebx
jnz     short loc_2781108c
call    esi
sub     eax, dword_2782c31c
cmp     eax, 3e8h
jbe     short loc_2781108c
mov     dword_2782c310, ebx
mov     dword_2782c318, ebx
cmp     dword_2782c318, ebx
jnz     short loc_2781109d
push    1
mov     dword_2782c320, ebx
pop     edi
call    esi
cmp     dword_2782c320, ebx
mov     dword_2782c31c, eax
mov     eax, dword_2782c318
jnz     loc_2781116e
mov     ecx, dword_2782c324
lea     edx, [eax+3]
cmp     edx, ecx
jle     loc_2781116e
add     ecx, 10h
push    ecx
push    lpmem
call    sub_27811cec
cmp     eax, ebx
jz      loc_27811166
add     dword_2782c324, 10h
mov     ecx, eax
mov     eax, dword_2782c318
mov     lpmem, ecx
mov     esi, [esp+0ch+arg_4]
cmp     dword_2782c320, ebx
mov     dl, [esi]
jz      loc_27811182
cmp     dl, bl
jz      short loc_27811179
mov     [eax+ecx-2], dl
mov     ecx, dword_2782c318
mov     edx, lpmem
mov     al, [esi+1]
mov     [ecx+edx-1], al
mov     eax, dword_2782c318
mov     ecx, lpmem
mov     [eax+ecx], bl
cmp     [esp+0ch+arg_0], ebx
jz      short loc_27811140
cmp     [esi], bl
mov     dword_2782c320, 1
jnz     short loc_27811146
mov     dword_2782c320, ebx
cmp     dword_2782c318, 2
jnz     short loc_2781115a
cmp     dword_2782c320, ebx
jz      short loc_2781115a
push    1
pop     edi
mov     eax, [esp+0ch+arg_8]
mov     ecx, lpmem
mov     [eax], ecx
mov     eax, edi
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     ecx, lpmem
jmp     loc_278110f1
dec     eax
dec     eax
mov     dword_2782c318, eax
jmp     short loc_27811129
mov     [eax+ecx], dl
inc     dword_2782c318
mov     ecx, lpmem
mov     edx, dword_2782c318
mov     al, [esi+1]
mov     [edx+ecx], al
inc     dword_2782c318
mov     eax, lpmem
mov     ecx, dword_2782c318
mov     [ecx+eax], bl
jmp     loc_2781112c
push    ebx
mov     ebx, [esp+4+arg_0]
push    ebp
push    esi
push    edi
xor     ebp, ebp
xor     edi, edi
cmp     ebx, ebp
jnz     short loc_278111db
mov     dword_2782c318, ebp
mov     dword_2782c310, ebp
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    8
mov     esi, ds:getmessagetime
call    esi
sub     eax, dword_2782c31c
cmp     eax, 3e8h
jbe     short loc_278111fc
mov     dword_2782c310, ebp
mov     dword_2782c318, ebp
cmp     dword_2782c318, ebp
jnz     short loc_27811207
push    1
pop     edi
call    esi
mov     dword_2782c31c, eax
mov     eax, dword_2782c318
lea     ecx, [eax+2]
mov     eax, dword_2782c328
cmp     ecx, eax
jle     short loc_2781123e
add     eax, 10h
push    eax
push    lpmem
call    sub_27811cec
cmp     eax, ebp
jz      short loc_2781126d
add     dword_2782c328, 10h
mov     lpmem, eax
mov     eax, dword_2782c318
mov     ecx, lpmem
mov     [eax+ecx], bl
inc     dword_2782c318
mov     eax, lpmem
mov     ecx, dword_2782c318
and     byte ptr [ecx+eax], 0
mov     eax, [esp+10h+arg_4]
mov     ecx, lpmem
mov     [eax], ecx
mov     eax, edi
jmp     loc_278111d4
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esp+8+arg_4]
mov     al, [esi]
test    al, al
mov     [edi], al
jz      short loc_278112b6
mov     al, [esi]
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_278112a1
mov     ax, [esi]
mov     [edi], ax
inc     edi
inc     edi
inc     esi
inc     esi
mov     al, [esi]
jmp     short loc_27811280
mov     al, [esi]
cmp     al, 9
jz      short loc_278112b3
inc     esi
cmp     al, 26h
jnz     short loc_278112b0
cmp     [esi], al
jnz     short loc_2781129d
inc     edi
jmp     short loc_2781129d
and     byte ptr [edi], 0
pop     edi
pop     esi
retn    8
mov     eax, [esp+arg_8]
test    eax, eax
jz      short locret_278112d8
mov     ecx, [esp+arg_0]
test    ecx, ecx
jle     short loc_278112db
add     [eax], ecx
mov     ecx, [esp+arg_4]
test    ecx, ecx
jle     short loc_278112e0
add     [eax+4], ecx
retn    0ch
add     [eax+8], ecx
jmp     short loc_278112cd
add     [eax+0ch], ecx
jmp     short locret_278112d8
cmp     [esp+arg_4], 3
push    esi
jnz     short loc_278112f4
push    1
pop     eax
pop     esi
retn    8
cmp     [esp+4+arg_4], 4
jnz     short loc_2781131b
mov     esi, [esp+4+arg_0]
push    3
push    dword ptr [esi]
push    55h
push    dword ptr [esi+4]
call    ds:sendmessagea
xor     ecx, ecx
cmp     eax, 2
setz    cl
mov     [esi+10h], ecx
jmp     short loc_278112f0
xor     eax, eax
jmp     short loc_278112f0
push    ebp
mov     ebp, esp
sub     esp, 0a0h
push    ebx
mov     ebx, [ebp+dy]
and     [ebp+var_30], 0
push    esi
mov     eax, [ebx+0ch]
mov     esi, [ebx+20h]
mov     [ebp+var_4], eax
mov     eax, [ebx+10h]
mov     [ebp+dy], eax
mov     eax, [ebx+18h]
mov     [ebp+prcclip], eax
mov     eax, [ebx+1ch]
mov     [ebp+hrgnupdate], eax
mov     eax, [ebx+24h]
mov     [ebp+var_20], eax
mov     eax, [ebx+2ch]
mov     [ebp+var_34], eax
mov     eax, [ebx+30h]
push    edi
mov     edi, [ebx+14h]
mov     [ebp+var_3c], eax
mov     eax, [ebx+28h]
test    esi, esi
mov     [ebp+prcscroll], edi
mov     [ebp+lprcdst], esi
mov     [ebp+var_58], 2
mov     [ebp+var_18], eax
jnz     short loc_27811382
lea     esi, [ebp+var_a0]
mov     [ebp+lprcdst], esi
push    esi
call    ds:setrectempty
cmp     dword ptr [ebx], 38h
jz      short loc_27811397
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [ebx+4]
mov     ecx, eax
and     ecx, 3
jz      short loc_278113a7
cmp     [ebp+var_34], 0ffffffffh
jnz     short loc_278113ae
mov     [ebp+var_34], 8
test    ecx, ecx
jz      short loc_278113b8
cmp     [ebp+var_3c], 0ffffffffh
jnz     short loc_278113bf
mov     [ebp+var_3c], 8
test    al, 2
jz      short loc_278113c9
cmp     [ebp+var_18], 0ffffffffh
jnz     short loc_278113d4
call    ds:getdoubleclicktime
shr     eax, 1
mov     [ebp+var_18], eax
push    64h
pop     eax
cmp     [ebp+var_18], eax
jnb     short loc_278113df
mov     [ebp+var_18], eax
mov     eax, [ebp+var_20]
mov     ecx, 20000h
test    eax, 40000h
jnz     short loc_278113fc
cmp     data, 0
jnz     short loc_278113fc
or      eax, ecx
mov     [ebp+var_20], eax
test    ecx, eax
jz      short loc_2781144b
test    byte ptr [ebx+4], 1
jz      short loc_27811429
mov     ecx, [ebx+34h]
test    ecx, ecx
jz      short loc_27811429
movzx   eax, ax
push    eax
push    esi
push    [ebp+hrgnupdate]
push    [ebp+prcclip]
push    edi
push    [ebp+dy]
push    [ebp+var_4]
push    dword ptr [ebx+8]
call    ecx
jmp     loc_27811390
and     eax, 0ffffh
push    eax
push    esi
push    [ebp+hrgnupdate]
push    [ebp+prcclip]
push    edi
push    [ebp+dy]
push    [ebp+var_4]
push    dword ptr [ebx+8]
call    ds:scrollwindowex
jmp     loc_27811390
test    edi, edi
jz      short loc_2781145f
mov     esi, [ebp+prcscroll]
lea     edi, [ebp+var_80]
movsd
movsd
movsd
lea     eax, [ebp+var_80]
movsd
mov     [ebp+prcscroll], eax
cmp     [ebp+prcclip], 0
jz      short loc_2781147b
mov     esi, [ebp+prcclip]
lea     edi, [ebp+var_90]
movsd
movsd
movsd
lea     eax, [ebp+var_90]
movsd
mov     [ebp+prcclip], eax
mov     eax, [ebp+hrgnupdate]
test    eax, eax
jnz     loc_278115c9
xor     edi, edi
push    edi
push    edi
push    edi
push    edi
call    ds:createrectrgn
mov     [ebp+var_2c], eax
call    ds:gettickcount
mov     [ebp+var_60], eax
mov     eax, [ebp+var_20]
and     eax, 10000h
push    0fffffffeh
mov     [ebp+var_5c], eax
pop     esi
jz      loc_278115d3
xor     eax, eax
cmp     [ebp+var_4], edi
setnl   al
dec     eax
and     eax, esi
inc     eax
imul    eax, [ebp+var_34]
mov     [ebp+var_14], eax
xor     eax, eax
cmp     [ebp+dy], edi
setnl   al
dec     eax
and     eax, esi
inc     eax
imul    eax, [ebp+var_3c]
cmp     [ebp+var_14], edi
mov     [ebp+var_1c], eax
jnz     short loc_278114f1
cmp     [ebp+var_4], edi
jz      short loc_278114f1
xor     eax, eax
cmp     [ebp+var_4], edi
setnl   al
dec     eax
and     eax, esi
inc     eax
mov     [ebp+var_14], eax
cmp     [ebp+var_1c], edi
jnz     short loc_2781150a
cmp     [ebp+dy], edi
jz      short loc_2781150a
xor     eax, eax
cmp     [ebp+dy], edi
setnl   al
dec     eax
and     eax, esi
inc     eax
mov     [ebp+var_1c], eax
cmp     [ebp+var_4], edi
jnz     short loc_2781151a
cmp     [ebp+dy], edi
jz      loc_27811769
xor     edi, edi
cmp     [ebp+var_5c], edi
jz      loc_2781160a
mov     ecx, [ebp+var_14]
mov     esi, [ebp+var_1c]
cmp     ecx, edi
mov     [ebp+var_8], ecx
mov     [ebp+var_c], esi
jg      short loc_27811535
neg     ecx
mov     edx, [ebp+var_4]
cmp     edx, edi
mov     eax, edx
jg      short loc_27811540
neg     eax
cmp     ecx, eax
jle     short loc_27811547
mov     [ebp+var_8], edx
cmp     esi, edi
mov     ecx, esi
jg      short loc_2781154f
neg     ecx
mov     eax, [ebp+dy]
cmp     eax, edi
jg      short loc_27811558
neg     eax
cmp     ecx, eax
jle     short loc_27811562
mov     eax, [ebp+dy]
mov     [ebp+var_c], eax
test    byte ptr [ebx+4], 1
jz      loc_27811718
mov     eax, [ebx+34h]
test    eax, eax
jz      loc_27811718
movzx   ecx, word ptr [ebp+var_20]
push    ecx
lea     ecx, [ebp+prcupdate]
push    ecx
push    [ebp+var_2c]
push    [ebp+prcclip]
push    [ebp+prcscroll]
push    [ebp+var_c]
push    [ebp+var_8]
push    dword ptr [ebx+8]
call    eax
test    eax, eax
jz      loc_27811765
push    [ebp+prcscroll]
mov     esi, [ebp+var_c]
mov     edi, [ebp+var_8]
push    esi
push    edi
call    sub_278112bb
push    [ebp+prcclip]
push    esi
push    edi
call    sub_278112bb
mov     eax, [ebp+var_28]
sub     [ebp+var_4], edi
sub     [ebp+dy], esi
add     [ebp+var_30], eax
xor     edi, edi
jmp     loc_2781150a
mov     [ebp+var_2c], eax
xor     edi, edi
jmp     loc_27811495
call    ds:getdoubleclicktime
mov     ecx, eax
mov     eax, [ebp+var_18]
shr     ecx, 1
xor     edx, edx
div     ecx
mov     ecx, eax
imul    ecx, 64h
cmp     ecx, edi
mov     [ebp+var_48], ecx
jnz     short loc_278115f6
push    64h
pop     ecx
mov     [ebp+var_48], ecx
mov     eax, [ebp+var_4]
cdq
idiv    ecx
mov     [ebp+var_14], eax
mov     eax, [ebp+dy]
cdq
idiv    ecx
jmp     loc_278114d5
mov     eax, [ebp+var_18]
xor     edx, edx
div     [ebp+var_48]
mov     esi, eax
cmp     esi, edi
jnz     short loc_2781161b
push    1
pop     esi
call    ds:gettickcount
sub     eax, [ebp+var_60]
xor     edx, edx
div     esi
sub     eax, [ebp+var_30]
mov     [ebp+var_28], eax
jns     short loc_27811633
mov     [ebp+var_28], edi
mov     edi, [ebp+var_28]
mov     edx, [ebp+var_1c]
mov     eax, edi
mov     ecx, edi
imul    ecx, [ebp+var_14]
imul    eax, edx
mov     esi, [ebp+var_30]
mov     [ebp+var_44], eax
mov     [ebp+var_4c], ecx
add     edi, esi
mov     esi, [ebp+var_14]
neg     eax
neg     ecx
neg     edx
mov     [ebp+var_50], eax
mov     [ebp+var_54], ecx
neg     esi
mov     eax, [ebp+var_14]
inc     [ebp+var_28]
add     [ebp+var_4c], eax
mov     eax, [ebp+var_44]
add     eax, [ebp+var_1c]
add     [ebp+var_54], esi
add     [ebp+var_50], edx
inc     edi
cmp     edi, [ebp+var_48]
mov     [ebp+var_44], eax
jg      loc_27811710
mov     ecx, [ebp+var_4c]
mov     [ebp+var_c], eax
test    ecx, ecx
mov     [ebp+var_8], ecx
jg      short loc_27811692
mov     ecx, [ebp+var_54]
cmp     [ebp+var_4], 0
mov     eax, [ebp+var_4]
jg      short loc_2781169d
neg     eax
cmp     ecx, eax
jle     short loc_278116a7
mov     eax, [ebp+var_4]
mov     [ebp+var_8], eax
mov     ecx, [ebp+var_44]
test    ecx, ecx
jg      short loc_278116b1
mov     ecx, [ebp+var_50]
cmp     [ebp+dy], 0
mov     eax, [ebp+dy]
jg      short loc_278116bc
neg     eax
cmp     ecx, eax
jle     short loc_278116c6
mov     eax, [ebp+dy]
mov     [ebp+var_c], eax
mov     ecx, [ebp+var_8]
cmp     ecx, [ebp+var_4]
jnz     short loc_278116da
mov     eax, [ebp+var_c]
cmp     eax, [ebp+dy]
jz      loc_27811562
test    ecx, ecx
mov     eax, ecx
jg      short loc_278116e2
neg     eax
cmp     eax, [ebp+var_34]
jnb     short loc_278116ef
test    ecx, ecx
jnz     loc_27811660
mov     ecx, [ebp+var_c]
test    ecx, ecx
mov     eax, ecx
jg      short loc_278116fa
neg     eax
cmp     eax, [ebp+var_3c]
jnb     loc_27811562
test    ecx, ecx
jz      loc_27811562
jmp     loc_27811660
mov     eax, [ebp+var_4]
mov     [ebp+var_8], eax
jmp     short loc_278116c0
movzx   eax, word ptr [ebp+var_20]
push    eax
lea     eax, [ebp+prcupdate]
push    eax
push    [ebp+var_2c]
push    [ebp+prcclip]
push    [ebp+prcscroll]
push    [ebp+var_c]
push    [ebp+var_8]
push    dword ptr [ebx+8]
call    ds:scrollwindowex
test    eax, eax
jz      short loc_27811765
push    205h
push    [ebp+var_2c]
push    0
push    dword ptr [ebx+8]
call    ds:redrawwindow
push    [ebp+lprcdst]
lea     eax, [ebp+prcupdate]
push    eax
push    [ebp+lprcdst]
call    ds:unionrect
jmp     loc_2781159c
and     [ebp+var_58], 0
test    byte ptr [ebp+var_20], 1
jz      short loc_2781177f
push    1
push    0
push    [ebp+lprcdst]
push    dword ptr [ebx+8]
call    ds:redrawwindow
mov     eax, [ebp+var_2c]
cmp     eax, [ebp+hrgnupdate]
jz      short loc_2781178e
push    eax
call    ds:deleteobject
mov     eax, [ebp+var_58]
jmp     loc_27811390
push    ebp
mov     ebp, esp
sub     esp, 208h
cmp     dword_2782c32c, 0
push    ebx
push    esi
push    edi
mov     [ebp+cbdata], 104h
jnz     loc_2781184c
push    [ebp+arg_0]
lea     eax, [ebp+subkey]
push    offset aappeventsschem
push    eax
call    ds:wsprintfa
add     esp, 0ch
lea     eax, [ebp+cbdata]
push    eax
lea     eax, [ebp+data]
push    eax
lea     eax, [ebp+subkey]
push    eax
push    80000001h
call    ds:regqueryvaluea
test    eax, eax
jnz     short loc_2781184c
cmp     [ebp+cbdata], 1
jbe     short loc_2781184c
mov     esi, offset awinmmdll
push    esi
call    ds:getmodulehandlea
mov     edi, eax
test    edi, edi
jnz     short loc_27811814
push    esi
call    ds:loadlibrarya
mov     edi, eax
test    edi, edi
jz      short loc_2781184c
mov     esi, ds:getprocaddress
push    offset awaveoutgetnumd
push    edi
call    esi
push    offset aplaysounda
push    edi
mov     ebx, eax
call    esi
mov     esi, eax
test    esi, esi
jz      short loc_27811853
test    ebx, ebx
jz      short loc_27811853
call    ebx
test    eax, eax
jz      short loc_27811853
push    20001h
lea     eax, [ebp+data]
push    0
push    eax
call    esi
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     dword_2782c32c, 1
jmp     short loc_2781184c
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    edi
push    [ebp+hwnd]
call    ds:getparent
mov     edi, eax
xor     ebx, ebx
test    edi, edi
jz      short loc_278118c0
and     [ebp+points.x], ebx
and     [ebp+points.y], ebx
lea     eax, [ebp+points]
push    1
push    eax
push    edi
push    [ebp+hwnd]
call    ds:mapwindowpoints
lea     eax, [ebp+points]
push    eax
push    [ebp+points.y]
push    [ebp+points.x]
push    [ebp+hdc]
call    ds:offsetwindoworgex
push    ebx
push    [ebp+hdc]
push    14h
push    edi
call    ds:sendmessagea
push    0
mov     ebx, eax
push    [ebp+points.y]
push    [ebp+points.x]
push    [ebp+hdc]
call    ds:setwindoworgex
xor     eax, eax
pop     edi
test    ebx, ebx
setnz   al
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    esi
mov     esi, [ebp+arg_4]
cmp     dword ptr [esi], 0
jnz     short loc_278118fb
lea     eax, [ebp+pv]
push    eax
push    3ch
push    [ebp+h]
call    ds:getobjecta
lea     eax, [ebp+pv]
mov     [ebp+var_27], 1
push    eax
call    ds:createfontindirecta
mov     [esi], eax
mov     eax, [esi]
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
xor     eax, eax
cmp     [ebp+ubytes], eax
jz      short loc_27811930
cmp     [ebp+hmem], eax
jz      short loc_27811923
push    42h
push    [ebp+ubytes]
push    [ebp+hmem]
call    ds:localrealloc
pop     ebp
retn    8
push    [ebp+ubytes]
push    40h
call    ds:localalloc
jmp     short loc_2781191f
cmp     [ebp+hmem], eax
jz      short loc_2781193e
push    [ebp+hmem]
call    ds:localfree
xor     eax, eax
jmp     short loc_2781191f
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+lppoint]
test    esi, esi
jnz     short loc_27811952
lea     esi, [ebp+var_8]
call    ds:getmessagepos
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
push    esi
mov     [esi], ecx
push    [ebp+hwnd]
mov     [esi+4], eax
call    ds:screentoclient
movzx   eax, word ptr [esi+4]
movzx   ecx, word ptr [esi]
shl     eax, 10h
or      eax, ecx
pop     esi
leave
retn    8
push    esi
push    [esp+4+lpstring]
call    ds:lstrlena
inc     eax
push    eax
push    40h
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      short loc_278119a7
push    [esp+4+lpstring]
push    esi
call    ds:lstrcpya
mov     eax, esi
pop     esi
retn    4
mov     eax, [esp+arg_0]
mov     ecx, [eax]
mov     edx, [eax+4]
mov     [eax], edx
mov     edx, [eax+0ch]
mov     [eax+4], ecx
mov     ecx, [eax+8]
mov     [eax+8], edx
mov     [eax+0ch], ecx
retn    4
push    ebp
mov     ebp, esp
push    esi
push    [ebp+nindex]
push    [ebp+hwnd]
call    ds:getwindowlonga
mov     ecx, [ebp+arg_c]
mov     edx, [ebp+arg_8]
and     ecx, edx
mov     esi, eax
not     edx
and     esi, edx
or      ecx, esi
cmp     eax, ecx
jz      short loc_278119fb
push    ecx
push    [ebp+nindex]
push    [ebp+hwnd]
call    ds:setwindowlonga
pop     esi
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 20h
test    byte ptr [ebp+arg_c+1], 80h
push    ebx
push    esi
push    edi
jz      short loc_27811a13
or      byte ptr [ebp+arg_c+1], 40h
push    [ebp+lprcsrc]
lea     eax, [ebp+rcdst]
push    eax
call    ds:copyrect
mov     eax, [ebp+arg_8]
mov     ebx, [ebp+color]
mov     esi, ds:getsyscolor
and     eax, 3
jnz     short loc_27811a41
mov     eax, [ebp+arg_8]
and     eax, 0ch
jz      loc_27811c48
and     [ebp+arg_8], 0fffffff3h
mov     ecx, [ebp+14h]
test    ch, 40h
jz      loc_27811b8f
test    ch, 80h
jz      loc_27811b7d
test    al, 3
jz      loc_27811b76
push    6
call    esi
mov     edi, eax
mov     [ebp+color], edi
test    byte ptr [ebp+arg_c], 0ch
jz      short loc_27811ae5
test    byte ptr [ebp+arg_c], 4
jz      short loc_27811aa9
push    5
call    sub_277b339b
sub     [ebp+rcdst.right], eax
mov     eax, [ebp+rcdst.right]
push    5
mov     [ebp+rect.left], eax
call    sub_277b339b
add     eax, [ebp+rcdst.right]
push    edi
mov     [ebp+rect.right], eax
mov     eax, [ebp+rcdst.top]
mov     [ebp+rect.top], eax
mov     eax, [ebp+rcdst.bottom]
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
test    byte ptr [ebp+arg_c], 8
jz      short loc_27811ae5
push    6
call    sub_277b339b
sub     [ebp+rcdst.bottom], eax
mov     eax, [ebp+rcdst.left]
mov     [ebp+rect.left], eax
mov     eax, [ebp+rcdst.right]
mov     [ebp+rect.right], eax
mov     eax, [ebp+rcdst.bottom]
push    6
mov     [ebp+rect.top], eax
call    sub_277b339b
add     eax, [ebp+rcdst.bottom]
push    edi
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
test    byte ptr [ebp+arg_c], 3
jz      loc_27811a31
test    byte ptr [ebp+arg_c], 1
jz      short loc_27811b2e
push    5
call    sub_277b339b
add     [ebp+rcdst.left], eax
push    5
call    sub_277b339b
mov     ecx, [ebp+rcdst.left]
push    [ebp+color]
mov     edx, ecx
mov     [ebp+rect.right], ecx
sub     edx, eax
mov     eax, [ebp+rcdst.top]
mov     [ebp+rect.top], eax
mov     eax, [ebp+rcdst.bottom]
mov     [ebp+rect.bottom], eax
lea     eax, [ebp+rect]
push    eax
mov     [ebp+rect.left], edx
push    [ebp+hdc]
call    sub_277be3ec
test    byte ptr [ebp+arg_c], 2
jz      loc_27811a31
push    6
call    sub_277b339b
add     [ebp+rcdst.top], eax
mov     eax, [ebp+rcdst.left]
mov     [ebp+rect.left], eax
mov     eax, [ebp+rcdst.right]
push    6
mov     [ebp+rect.right], eax
call    sub_277b339b
mov     ecx, [ebp+rcdst.top]
push    [ebp+color]
mov     edx, ecx
mov     [ebp+rect.bottom], ecx
sub     edx, eax
lea     eax, [ebp+rect]
push    eax
mov     [ebp+rect.top], edx
push    [ebp+hdc]
call    sub_277be3ec
jmp     loc_27811a31
push    5
jmp     loc_27811a60
test    al, 3
jz      short loc_27811b88
push    10h
jmp     loc_27811a60
push    0fh
jmp     loc_27811a60
dec     eax
jz      loc_27811c34
dec     eax
jz      loc_27811c20
dec     eax
dec     eax
jz      short loc_27811bee
sub     eax, 4
jz      short loc_27811baf
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
test    ch, 10h
jz      short loc_27811bea
push    10h
call    esi
mov     [ebp+color], eax
push    16h
call    esi
test    ebx, ebx
mov     edi, eax
jz      loc_27811a67
mov     eax, [ebx+8]
mov     ecx, 0ff000000h
cmp     eax, ecx
jz      short loc_27811bd8
mov     [ebp+color], eax
mov     eax, [ebx+4]
cmp     eax, ecx
jz      loc_27811a67
mov     edi, eax
jmp     loc_27811a67
push    15h
jmp     short loc_27811bb6
test    ch, 10h
jz      short loc_27811c1c
push    16h
call    esi
mov     [ebp+color], eax
push    10h
call    esi
test    ebx, ebx
mov     edi, eax
jz      loc_27811a67
mov     eax, [ebx+4]
mov     ecx, 0ff000000h
cmp     eax, ecx
jz      short loc_27811c17
mov     [ebp+color], eax
mov     eax, [ebx+8]
jmp     short loc_27811bdb
push    14h
jmp     short loc_27811bf5
test    ch, 10h
jz      short loc_27811c30
push    15h
call    esi
mov     [ebp+color], eax
push    14h
jmp     short loc_27811bbd
push    10h
jmp     short loc_27811c27
test    ch, 10h
jz      short loc_27811c44
push    14h
call    esi
mov     [ebp+color], eax
push    15h
jmp     short loc_27811bfc
push    16h
jmp     short loc_27811c3b
test    byte ptr [ebp+arg_c+1], 8
jz      short loc_27811c65
test    byte ptr [ebp+arg_c+1], 80h
jz      short loc_27811c80
push    5
call    esi
push    eax
lea     eax, [ebp+rcdst]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
test    byte ptr [ebp+arg_c+1], 20h
jz      short loc_27811c78
lea     eax, [ebp+rcdst]
push    eax
push    [ebp+lprcsrc]
call    ds:copyrect
push    1
pop     eax
jmp     loc_27811ba8
push    0fh
jmp     short loc_27811c56
xor     eax, eax
push    37h
push    eax
push    eax
push    eax
push    eax
push    eax
push    [esp+18h+hwnd]
call    ds:setwindowpos
retn    4
cmp     dword_278288c4, 0
jnz     short loc_27811cd8
call    sub_277b2326
cmp     dword_278288c4, 0
jnz     short loc_27811cc5
push    0
push    1
push    4000000h
call    ds:heapcreate
mov     dword_278288c4, eax
call    sub_277b2347
cmp     dword_278288c4, 0
jnz     short loc_27811cd8
xor     eax, eax
retn    4
push    [esp+dwbytes]
push    8
push    dword_278288c4
call    ds:heapalloc
jmp     short locret_27811cd5
cmp     [esp+lpmem], 0
push    [esp+dwbytes]
jnz     short loc_27811cff
call    sub_27811c9a
retn    8
push    [esp+4+lpmem]
push    8
push    dword_278288c4
call    ds:heaprealloc
jmp     short locret_27811cfc
push    [esp+lpmem]
push    0
push    dword_278288c4
call    ds:heapfree
retn    4
push    ebp
mov     ebp, esp
sub     esp, 18h
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+hwnd]
test    esi, esi
jnz     short loc_27811d5a
push    edi
call    ds:iswindow
test    eax, eax
jz      short loc_27811d4e
push    edi
call    ds:getparent
mov     esi, eax
test    esi, esi
jnz     short loc_27811d5a
xor     eax, eax
pop     edi
pop     esi
leave
retn    14h
push    [ebp+lparam]
mov     eax, [ebp+arg_10]
and     [ebp+var_4], 0
mov     [ebp+var_8], eax
push    [ebp+arg_8]
lea     eax, [ebp+var_18]
mov     [ebp+var_14], esi
mov     [ebp+var_18], edi
push    eax
call    sub_277b9838
jmp     short loc_27811d54
mov     ecx, [esp+arg_4]
mov     edx, [esp+arg_0]
test    ecx, 10000h
jz      short loc_27811d96
test    byte ptr [edx+0ch], 20h
jnz     short loc_27811d96
xor     eax, eax
retn    0ch
mov     eax, [esp+lparam]
push    eax
push    0fffffff4h
push    edx
mov     [eax+0ch], ecx
call    sub_277b9838
mov     ecx, eax
and     eax, 0ff09h
neg     eax
sbb     eax, eax
not     eax
and     eax, ecx
jmp     short locret_27811d93
push    ebp
mov     ebp, esp
push    esi
push    1
push    0
push    [ebp+hwnd]
call    ds:invalidaterect
mov     esi, ds:defwindowproca
push    esi
push    0fffffffch
push    [ebp+hwnd]
call    ds:setwindowlonga
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    esi
pop     esi
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
push    ecx
lea     eax, [ebp+dwprocessid]
push    eax
push    [ebp+hwnd]
call    ds:getwindowthreadprocessid
test    eax, eax
jnz     short loc_27811e05
and     [ebp+dwprocessid], eax
call    ds:getcurrentprocessid
cmp     [ebp+dwprocessid], eax
jnz     short loc_27811e2c
mov     ax, word_27829f40
test    ax, ax
jz      short loc_27811e2c
movzx   eax, ax
push    eax
push    [ebp+hwnd]
call    ds:getpropa
leave
retn    4
xor     eax, eax
jmp     short locret_27811e28
push    ebp
mov     ebp, esp
cmp     word_27829f40, 0
push    esi
push    edi
push    1
pop     edi
mov     esi, offset string
jnz     short loc_27811e59
push    esi
call    ds:globaladdatoma
test    ax, ax
jz      short loc_27811e59
mov     word_27829f40, ax
mov     eax, [ebp+arg_8]
mov     ecx, [ebp+hdata]
test    eax, eax
jz      short loc_27811e6d
mov     [eax+0ch], ecx
mov     eax, [eax+8]
test    eax, eax
jnz     short loc_27811e63
cmp     [ebp+hwnd], 0
jz      short loc_27811e88
test    ecx, ecx
jnz     short loc_27811e90
movzx   eax, word_27829f40
push    eax
push    [ebp+hwnd]
call    ds:removepropa
mov     eax, edi
pop     edi
pop     esi
pop     ebp
retn    0ch
push    ecx
push    esi
push    [ebp+hwnd]
call    ds:setpropa
test    eax, eax
jnz     short loc_27811e88
xor     edi, edi
jmp     short loc_27811e88
push    esi
mov     esi, [esp+4+hmem]
test    esi, esi
jz      short loc_27811ec1
push    dword ptr [esi+10h]
push    0
push    [esp+0ch+hwnd]
call    sub_27811e30
push    esi
call    ds:localfree
pop     esi
retn    8
mov     eax, [esp+arg_8]
push    esi
push    edi
push    3
add     eax, 2
xor     edx, edx
pop     ecx
mov     esi, [esp+8+hmem]
div     ecx
test    esi, esi
lea     edi, [eax+eax*2]
jz      short loc_27811ee5
cmp     edi, [esi+4]
jz      short loc_27811f1c
lea     eax, [edi+edi*2]
lea     eax, ds:20h[eax*4]
push    eax
push    esi
call    sub_27811902
mov     esi, eax
test    esi, esi
jz      short loc_27811f1c
push    dword ptr [esi+10h]
mov     [esi+4], edi
push    esi
push    [esp+10h+hwnd]
call    sub_27811e30
test    eax, eax
jnz     short loc_27811f1c
push    esi
push    [esp+0ch+hwnd]
call    sub_27811ea3
xor     esi, esi
mov     eax, esi
pop     edi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
push    [ebp+lpprevwndfunc]
call    ds:callwindowproca
pop     ebp
retn    18h
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+hwnd]
push    0
push    edi
call    ds:getwindowthreadprocessid
mov     ebx, eax
call    ds:getcurrentthreadid
cmp     ebx, eax
jnz     short loc_27811f92
push    edi
call    sub_27811ded
mov     esi, eax
test    esi, esi
jnz     short loc_27811fae
push    2
push    eax
push    edi
call    sub_27811ec5
mov     esi, eax
test    esi, esi
jz      short loc_27811f92
push    offset sub_278122f2
push    0fffffffch
push    edi
mov     [esi+0ch], ebx
call    ds:setwindowlonga
test    eax, eax
jnz     short loc_27811f9a
push    esi
push    edi
call    sub_27811ea3
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    4
and     dword ptr [esi+18h], 0
mov     dword ptr [esi+14h], offset sub_27811f23
mov     [esi+1ch], eax
mov     dword ptr [esi], 1
mov     eax, esi
jmp     short loc_27811f94
push    ebx
mov     ebx, [esp+4+hwnd]
push    esi
mov     esi, [esp+8+hmem]
push    edi
xor     edi, edi
cmp     [esp+0ch+arg_8], edi
jnz     short loc_2781200f
cmp     ebx, edi
jz      short loc_2781200f
cmp     dword ptr [esi], 1
ja      short loc_27811fe8
cmp     [esi+10h], edi
jnz     short loc_27811fe8
call    ds:getcurrentthreadid
cmp     [esi+0ch], eax
jz      short loc_27811fee
push    edi
push    edi
push    edi
push    ebx
call    ds:sendnotifymessagea
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     edi, [esi+1ch]
push    0fffffffch
push    ebx
call    ds:getwindowlonga
cmp     eax, offset sub_278122f2
jnz     short loc_27811fe8
push    edi
push    0fffffffch
push    ebx
call    ds:setwindowlonga
test    eax, eax
jz      short loc_27811fe8
push    esi
push    ebx
call    sub_27811ea3
jmp     short loc_27811fe8
push    esi
mov     esi, [esp+4+arg_4]
mov     ecx, [esi+8]
test    ecx, ecx
jz      short loc_27812084
mov     edx, [esi]
mov     eax, edx
sub     eax, ecx
jz      short loc_27812088
lea     ecx, [ecx+ecx*2]
lea     eax, [eax+eax*2]
push    edi
lea     edi, [esi+ecx*4+14h]
shl     eax, 2
push    eax
lea     eax, [edi+0ch]
push    eax
push    edi
call    ds:rtlmovememory
mov     ecx, [esi+8]
mov     eax, [esi+10h]
test    eax, eax
jz      short loc_27812063
cmp     [eax], ecx
jb      short loc_2781205e
dec     dword ptr [eax]
cmp     [eax+4], ecx
jb      short loc_2781205e
dec     dword ptr [eax+4]
mov     eax, [eax+8]
jmp     short loc_2781204c
mov     edx, [esi]
lea     eax, [edx-1]
cmp     ecx, eax
jnb     short loc_27812079
cmp     dword ptr [edi], 0
jz      short loc_27812077
add     edi, 0ch
inc     ecx
jmp     short loc_27812068
cmp     ecx, eax
sbb     eax, eax
pop     edi
and     eax, ecx
mov     [esi+8], eax
dec     edx
mov     [esi], edx
pop     esi
retn    8
and     dword ptr [esi+8], 0
jmp     short loc_27812081
push    esi
mov     esi, [esp+4+hmem]
push    edi
mov     edi, [esp+8+hwnd]
test    edi, edi
jz      short loc_278120cd
mov     eax, [esi+8]
test    eax, eax
jz      short loc_278120b8
mov     ecx, [esi+10h]
test    ecx, ecx
jz      short loc_278120af
cmp     eax, [ecx+4]
jnb     short loc_278120b8
push    esi
push    edi
call    sub_27812018
jmp     short loc_2781209c
mov     eax, [esi]
cmp     eax, 1
jbe     short loc_278120cd
inc     eax
push    eax
push    esi
push    edi
call    sub_27811ec5
pop     edi
pop     esi
retn    8
push    0
push    esi
push    edi
call    sub_27811fb2
jmp     short loc_278120c8
mov     eax, [esp+arg_0]
mov     ecx, [eax]
lea     edx, [ecx+ecx*2]
lea     eax, [eax+edx*4+14h]
mov     edx, [eax-0ch]
sub     eax, 0ch
dec     ecx
cmp     edx, [esp+arg_4]
jnz     short loc_278120fb
mov     edx, [eax+4]
cmp     edx, [esp+arg_8]
jz      short locret_27812102
cmp     ecx, 0ffffffffh
jnz     short loc_278120e5
xor     eax, eax
retn    0ch
push    ebp
mov     ebp, esp
push    esi
push    edi
push    [ebp+hwnd]
xor     edi, edi
xor     esi, esi
call    ds:iswindow
test    eax, eax
jz      short loc_27812142
cmp     [ebp+arg_4], esi
jz      short loc_27812142
push    [ebp+hwnd]
call    sub_27811ded
test    eax, eax
jz      short loc_27812142
push    [ebp+arg_8]
push    [ebp+arg_4]
push    eax
call    sub_278120d8
test    eax, eax
jz      short loc_27812142
mov     esi, [eax+8]
push    1
pop     edi
mov     eax, [ebp+arg_c]
test    eax, eax
jz      short loc_2781214b
mov     [eax], esi
mov     eax, edi
pop     edi
pop     esi
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
push    [ebp+hwnd]
call    ds:iswindow
test    eax, eax
jz      short loc_2781216d
mov     ebx, [ebp+arg_4]
test    ebx, ebx
jnz     short loc_27812176
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
push    [ebp+hwnd]
and     [ebp+arg_4], 0
call    sub_27811f3f
mov     esi, eax
test    esi, esi
jz      short loc_278121cf
mov     edi, [ebp+arg_8]
push    edi
push    ebx
push    esi
call    sub_278120d8
test    eax, eax
jnz     short loc_278121e4
mov     eax, [esi]
inc     eax
push    eax
push    esi
push    [ebp+hwnd]
call    sub_27811ec5
mov     edx, eax
test    edx, edx
jnz     short loc_278121d8
mov     ax, word_27829f40
test    ax, ax
jz      short loc_278121d4
movzx   eax, ax
push    eax
push    [ebp+hwnd]
call    ds:getpropa
test    eax, eax
jz      short loc_278121cf
push    eax
push    [ebp+hwnd]
call    sub_2781208e
mov     eax, [ebp+arg_4]
jmp     short loc_2781216f
xor     eax, eax
jmp     short loc_278121c2
mov     ecx, [edx]
lea     eax, [ecx+ecx*2]
inc     ecx
mov     [edx], ecx
lea     eax, [edx+eax*4+14h]
mov     ecx, [ebp+arg_c]
mov     [eax], ebx
mov     [eax+4], edi
mov     [eax+8], ecx
mov     [ebp+arg_4], 1
jmp     short loc_278121cf
push    ebp
mov     ebp, esp
push    esi
push    edi
push    [ebp+hwnd]
call    ds:iswindow
test    eax, eax
jz      short loc_27812211
xor     edi, edi
cmp     [ebp+arg_4], edi
jnz     short loc_27812219
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    0ch
push    [ebp+hwnd]
call    sub_27811ded
mov     esi, eax
cmp     esi, edi
jz      short loc_2781225e
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_278120d8
cmp     eax, edi
jz      short loc_2781225e
mov     [eax], edi
sub     eax, esi
sub     eax, 14h
push    0ch
cdq
pop     ecx
idiv    ecx
mov     ecx, [esi+8]
cmp     ecx, edi
jz      short loc_2781224f
cmp     eax, ecx
jnb     short loc_27812252
mov     [esi+8], eax
push    esi
push    [ebp+hwnd]
call    sub_2781208e
push    1
pop     edi
mov     eax, edi
jmp     short loc_27812213
push    ebp
mov     ebp, esp
push    edi
xor     edi, edi
push    [ebp+hwnd]
call    ds:iswindow
test    eax, eax
jz      short loc_278122b9
mov     ax, word_27829f40
push    esi
cmp     ax, di
jz      short loc_278122c0
movzx   eax, ax
push    eax
push    [ebp+hwnd]
call    ds:getpropa
mov     esi, eax
cmp     esi, edi
jz      short loc_278122b8
call    ds:getcurrentthreadid
cmp     eax, [esi+0ch]
jnz     short loc_278122b8
cmp     [esi+10h], edi
jz      short loc_278122b8
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    [ebp+hwnd]
push    esi
call    sub_2781245e
mov     edi, eax
pop     esi
mov     eax, edi
pop     edi
pop     ebp
retn    10h
xor     esi, esi
jmp     short loc_27812290
mov     eax, [esp+arg_0]
mov     ecx, [eax+8]
test    ecx, ecx
jz      short loc_278122d6
mov     ecx, [ecx+4]
cmp     ecx, [eax]
jb      short loc_278122d8
mov     ecx, [eax]
mov     [eax+4], ecx
retn    4
mov     ecx, [esp+arg_0]
mov     eax, [ecx+0ch]
test    eax, eax
jz      short locret_278122ef
mov     ecx, [ecx+8]
mov     [eax+10h], ecx
retn    4
push    ebp
mov     ebp, esp
push    0ffffffffh
push    offset stru_277c43c0
push    offset sub_27821ff4
mov     eax, large fs:0
push    eax
mov     large fs:0, esp
push    ecx
push    ecx
sub     esp, 1ch
push    ebx
push    esi
push    edi
mov     [ebp+ms_exc.old_esp], esp
and     [ebp+var_20], 0
mov     ax, word_27829f40
test    ax, ax
jz      short loc_2781235e
movzx   eax, ax
push    eax
push    [ebp+hwnd]
call    ds:getpropa
mov     esi, eax
test    esi, esi
jnz     short loc_27812362
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
call    sub_27811db7
mov     ecx, [ebp+ms_exc.registration.next]
mov     large fs:0, ecx
pop     edi
pop     esi
pop     ebx
leave
retn    10h
xor     esi, esi
jmp     short loc_27812338
mov     eax, [esi]
inc     eax
mov     [ebp+var_30], eax
mov     eax, [esi+10h]
mov     [ebp+var_28], eax
mov     [ebp+hmem], esi
lea     eax, [ebp+var_30]
mov     [esi+10h], eax
lea     eax, [ebp+var_30]
push    eax
call    sub_278122c4
and     [ebp+ms_exc.registration.trylevel], 0
push    [ebp+lparam]
push    [ebp+wparam]
push    [ebp+msg]
push    [ebp+hwnd]
push    esi
call    sub_2781245e
mov     [ebp+var_20], eax
or      [ebp+ms_exc.registration.trylevel], 0ffffffffh
mov     esi, [ebp+hmem]
test    esi, esi
jz      short loc_278123d7
mov     eax, [ebp+var_28]
mov     [esi+10h], eax
test    esi, esi
jz      short loc_278123d7
mov     edi, [ebp+hwnd]
push    edi
call    ds:iswindow
test    eax, eax
jnz     short loc_278123c5
xor     edi, edi
mov     [ebp+msg], 82h
cmp     [ebp+msg], 82h
jnz     short loc_278123f0
push    1
push    esi
push    edi
call    sub_27811fb2
mov     eax, [ebp+var_20]
jmp     loc_2781234d
lea     eax, [ebp+var_30]
push    eax
call    sub_278122de
xor     eax, eax
retn
mov     esp, [ebp+ms_exc.old_esp]
jmp     short loc_27812399
cmp     dword ptr [esi+8], 0
jnz     short loc_27812401
cmp     dword ptr [esi+10h], 0
jnz     short loc_278123d7
cmp     dword ptr [esi], 1
ja      short loc_278123d7
push    esi
push    edi
call    sub_2781208e
jmp     short loc_278123d7
mov     ecx, [esp+arg_4]
mov     edx, [esp+arg_0]
push    esi
push    edi
mov     eax, [ecx]
xor     esi, esi
lea     eax, [eax+eax*2]
lea     eax, [edx+eax*4+14h]
sub     eax, 0ch
inc     esi
cmp     dword ptr [eax], 0
jz      short loc_2781241f
mov     edx, [esp+8+arg_8]
mov     edi, [eax]
push    ecx
mov     [edx], edi
mov     edi, [eax+4]
mov     [edx+4], edi
mov     eax, [eax+8]
mov     [edx+8], eax
sub     [ecx], esi
call    sub_278122c4
mov     eax, esi
pop     edi
pop     esi
retn    0ch
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
push    eax
add     [eax], ecx
call    sub_278122c4
retn    8
push    ebp
mov     ebp, esp
push    0ffffffffh
push    offset stru_277c43d0
push    offset sub_27821ff4
mov     eax, large fs:0
push    eax
mov     large fs:0, esp
push    ecx
push    ecx
sub     esp, 18h
push    ebx
push    esi
push    edi
mov     [ebp+ms_exc.old_esp], esp
mov     eax, [ebp+arg_0]
mov     esi, [eax+10h]
mov     [ebp+var_20], esi
lea     ecx, [ebp+var_2c]
push    ecx
push    esi
push    eax
call    sub_2781240a
mov     [ebp+var_1c], eax
and     [ebp+ms_exc.registration.trylevel], 0
push    [ebp+var_24]
push    [ebp+var_28]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
call    [ebp+var_2c]
mov     [ebp+var_30], eax
or      [ebp+ms_exc.registration.trylevel], 0ffffffffh
mov     eax, [ebp+var_1c]
add     [esi], eax
push    esi
call    sub_278122c4
mov     eax, [ebp+var_30]
mov     ecx, [ebp+ms_exc.registration.next]
mov     large fs:0, ecx
pop     edi
pop     esi
pop     ebx
leave
retn    14h
push    [ebp+var_1c]
push    [ebp+var_20]
call    sub_2781244b
xor     eax, eax
retn
mov     esp, [ebp+ms_exc.old_esp]
or      [ebp+ms_exc.registration.trylevel], 0ffffffffh
mov     esi, [ebp+var_20]
jmp     short loc_278124bd
push    ebp
mov     ebp, esp
lea     eax, [ebp+hwnd]
push    eax
push    0
push    offset sub_278125c3
push    [ebp+hwnd]
call    sub_27812105
mov     eax, [ebp+hwnd]
pop     ebp
retn    4
push    0
push    0
push    2a3h
push    [esp+0ch+hwnd]
call    ds:postmessagea
retn    4
mov     ecx, [esp+arg_0]
mov     eax, [ecx+4]
test    al, 2
jz      short locret_27812539
and     al, 0fdh
mov     [ecx+4], eax
retn    4
mov     ecx, [esp+arg_0]
mov     eax, [ecx+4]
test    al, 1
jz      short locret_27812557
push    0fffffff0h
and     al, 0feh
push    dword ptr [ecx+8]
mov     [ecx+4], eax
call    ds:killtimer
retn    4
push    edi
mov     edi, [esp+4+hmem]
test    byte ptr [edi+4], 3
jnz     short loc_27812587
push    esi
mov     esi, [edi+8]
push    0
push    offset sub_278125c3
push    esi
call    sub_278121f8
push    0fffffff1h
push    esi
call    ds:killtimer
push    edi
call    ds:localfree
pop     esi
pop     edi
retn    4
push    esi
mov     esi, [esp+4+hmem]
push    esi
call    sub_27812529
push    esi
call    sub_2781253c
push    esi
call    sub_2781255a
pop     esi
retn    4
push    esi
mov     esi, [esp+4+hmem]
test    byte ptr [esi+4], 2
jz      short loc_278125b9
push    dword ptr [esi+8]
call    sub_27812513
push    esi
call    sub_2781258b
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    esi
mov     esi, [ebp+arg_4]
mov     eax, 82h
push    edi
cmp     esi, eax
ja      short loc_278125fb
jz      short loc_278125de
mov     eax, esi
dec     eax
dec     eax
jnz     short loc_278125e6
push    [ebp+hmem]
call    sub_2781258b
push    [ebp+arg_c]
push    [ebp+arg_8]
push    esi
push    [ebp+hwnd]
call    sub_27812262
pop     edi
pop     esi
leave
retn    18h
mov     eax, 200h
cmp     esi, eax
ja      loc_2781269f
jz      short loc_2781264e
mov     eax, 0a0h
cmp     esi, eax
jz      loc_278126ef
jbe     short loc_278125e6
cmp     esi, 0a2h
jbe     short loc_27812641
cmp     esi, 0a3h
jbe     short loc_278125e6
cmp     esi, 0a5h
jbe     short loc_27812641
cmp     esi, 0a6h
jbe     short loc_278125e6
cmp     esi, 0a8h
ja      short loc_278125e6
mov     eax, [ebp+hmem]
test    byte ptr [eax+4], 1
jz      short loc_278125e6
push    eax
push    eax
jmp     short loc_27812695
movsx   eax, word ptr [ebp+arg_c]
mov     [ebp+point.x], eax
mov     eax, [ebp+arg_c]
shr     eax, 10h
movsx   eax, ax
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
push    [ebp+hwnd]
call    ds:clienttoscreen
mov     edi, [ebp+hmem]
test    byte ptr [edi+4], 1
jz      loc_278125e6
push    [ebp+point.y]
lea     eax, [edi+10h]
push    [ebp+point.x]
push    eax
call    ds:ptinrect
test    eax, eax
jnz     loc_278125e6
push    edi
push    edi
call    sub_278128fa
jmp     loc_278125e6
cmp     esi, 201h
jb      loc_278125e6
cmp     esi, 202h
jbe     short loc_27812641
cmp     esi, 203h
jbe     loc_278125e6
cmp     esi, 205h
jbe     loc_27812641
cmp     esi, 206h
jbe     loc_278125e6
cmp     esi, 208h
jbe     loc_27812641
cmp     esi, 211h
jnz     loc_278125e6
push    [ebp+hmem]
call    sub_278125a6
jmp     loc_278125e6
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_0]
push    ebx
push    esi
push    edi
mov     edi, [eax+8]
call    ds:getcapture
mov     ebx, ds:iswindow
mov     esi, eax
test    esi, esi
jz      short loc_27812727
push    esi
call    ebx
test    eax, eax
jz      short loc_27812727
cmp     esi, edi
jnz     short loc_27812773
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
test    esi, esi
jnz     short loc_2781277c
push    [ebp+point.y]
push    [ebp+point.x]
call    ds:windowfrompoint
mov     esi, eax
test    esi, esi
jz      short loc_27812773
push    esi
call    ebx
test    eax, eax
jz      short loc_27812773
cmp     edi, esi
jnz     short loc_27812773
movzx   eax, word ptr [ebp+point.y]
movzx   ecx, word ptr [ebp+point.x]
shl     eax, 10h
or      eax, ecx
push    eax
push    0
push    84h
push    edi
call    ds:sendmessagea
cmp     eax, 1
jz      short loc_2781277c
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [ebp+arg_4]
test    eax, eax
jz      short loc_2781278e
mov     ecx, [ebp+point.x]
mov     [eax], ecx
mov     ecx, [ebp+point.y]
mov     [eax+4], ecx
push    1
pop     eax
jmp     short loc_27812775
push    esi
push    [esp+4+hwnd]
call    sub_278124f6
mov     esi, eax
test    esi, esi
jz      short loc_278127c3
push    0
push    esi
call    sub_278126fc
test    eax, eax
jnz     short loc_278127c3
push    [esp+4+hwnd]
call    ds:iswindow
test    eax, eax
jz      short loc_278127c3
push    esi
call    sub_278125a6
pop     esi
retn    10h
push    ebx
push    esi
mov     esi, ds:getkeystate
push    edi
push    1
xor     ebx, ebx
call    esi
mov     edi, 8000h
test    di, ax
jz      short loc_278127e3
push    1
pop     ebx
push    2
call    esi
test    di, ax
jz      short loc_278127ef
or      ebx, 2
push    4
call    esi
test    di, ax
jz      short loc_278127fb
or      ebx, 10h
push    10h
call    esi
test    di, ax
jz      short loc_27812807
or      ebx, 4
push    11h
call    esi
test    di, ax
jz      short loc_27812813
or      ebx, 8
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
retn
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+hwnd]
push    edi
call    sub_278124f6
mov     esi, eax
test    esi, esi
jz      short loc_27812844
lea     eax, [ebp+pt]
push    eax
push    esi
call    sub_278126fc
test    eax, eax
jnz     short loc_2781284b
push    esi
call    sub_278125a6
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    edi
call    ds:iswindow
test    eax, eax
jz      short loc_27812844
push    [ebp+pt.y]
lea     eax, [esi+10h]
push    [ebp+pt.x]
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_27812873
push    esi
push    esi
call    sub_278128fa
jmp     short loc_27812844
call    sub_278127c7
mov     ebx, eax
lea     eax, [ebp+pt]
push    eax
push    edi
call    ds:screentoclient
movzx   eax, word ptr [ebp+pt.y]
movzx   ecx, word ptr [ebp+pt.x]
shl     eax, 10h
or      eax, ecx
push    eax
push    ebx
push    2a1h
push    edi
call    ds:postmessagea
push    esi
call    sub_2781253c
push    esi
call    sub_2781255a
jmp     short loc_27812844
mov     eax, [esp+arg_0]
push    eax
push    0
push    offset sub_278125c3
push    dword ptr [eax+8]
call    sub_27812153
retn    4
mov     ecx, [esp+arg_4]
mov     eax, [ecx+4]
test    al, 2
jnz     short locret_278128f7
or      al, 2
push    offset sub_27812793
mov     [ecx+4], eax
call    ds:getdoubleclicktime
push    5
xor     edx, edx
pop     ecx
div     ecx
push    eax
mov     eax, [esp+8+arg_0]
push    0fffffff1h
push    dword ptr [eax+8]
call    ds:settimer
retn    8
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_0]
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
or      dword ptr [esi+4], 1
mov     ebx, [eax+0ch]
test    ebx, ebx
jz      short loc_27812918
cmp     ebx, 0ffffffffh
jnz     short loc_27812934
mov     ebx, dword_2782a060
test    ebx, ebx
jnz     short loc_27812934
call    ds:getdoubleclicktime
push    5
xor     edx, edx
shl     eax, 2
pop     ecx
div     ecx
mov     ebx, eax
lea     eax, [ebp+point]
push    eax
call    ds:getcursorpos
mov     eax, [ebp+point.x]
mov     ecx, [ebp+point.y]
lea     edi, [esi+10h]
mov     [esi+18h], eax
push    24h
mov     [esi+1ch], ecx
mov     [edi], eax
mov     [edi+4], ecx
call    sub_277b339b
cdq
sub     eax, edx
sar     eax, 1
push    eax
push    24h
call    sub_277b339b
cdq
sub     eax, edx
sar     eax, 1
push    eax
push    edi
call    ds:inflaterect
mov     eax, [ebp+arg_0]
push    offset sub_27812819
push    ebx
push    0fffffff0h
mov     [eax+0ch], ebx
mov     [esi+0ch], ebx
push    dword ptr [eax+8]
call    ds:settimer
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esi+8]
test    edi, edi
jz      short loc_278129d5
push    edi
call    ds:iswindow
test    eax, eax
jz      short loc_278129d5
push    edi
call    sub_278124f6
test    eax, eax
jz      short loc_278129d5
mov     ecx, [eax+4]
test    cl, 3
jz      short loc_278129d5
mov     [esi+4], ecx
test    byte ptr [eax+4], 1
jz      short loc_278129dd
mov     eax, [eax+0ch]
mov     [esi+0ch], eax
push    1
pop     eax
pop     edi
pop     esi
retn    4
and     dword ptr [esi+4], 0
and     dword ptr [esi+8], 0
and     dword ptr [esi+0ch], 0
jmp     short loc_278129cd
push    ebx
push    ebp
push    esi
push    edi
mov     edi, [esp+10h+arg_0]
mov     ebx, [edi+4]
test    ebx, 3ffffffch
jnz     loc_27812a85
test    ebx, 40000000h
jz      short loc_27812a0f
push    edi
call    sub_27812994
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
mov     esi, [edi+8]
mov     ebp, ds:iswindow
push    esi
call    ebp
test    eax, eax
jz      short loc_27812a85
push    0
push    edi
call    sub_278126fc
test    eax, eax
jnz     short loc_27812a43
test    bl, 2
jz      short loc_27812a3e
test    ebx, 80000000h
jnz     short loc_27812a3e
push    esi
call    sub_27812513
push    1
pop     eax
jmp     short loc_27812a08
push    esi
call    ebp
test    eax, eax
jz      short loc_27812a85
push    esi
call    sub_278124f6
mov     esi, eax
mov     ebp, 80000000h
test    esi, esi
jnz     short loc_27812a8c
test    ebp, ebx
jnz     short loc_27812a3e
push    20h
push    40h
call    ds:localalloc
mov     esi, eax
test    esi, esi
jz      short loc_27812a85
mov     eax, [edi+8]
push    esi
mov     [esi+8], eax
call    sub_278128ae
test    eax, eax
jnz     short loc_27812a8c
push    esi
call    sub_2781255a
xor     eax, eax
jmp     loc_27812a08
test    ebp, ebx
jz      short loc_27812aae
test    bl, 1
jz      short loc_27812a9b
push    esi
call    sub_2781253c
test    bl, 2
jz      short loc_27812aa6
push    esi
call    sub_27812529
push    esi
call    sub_2781255a
jmp     short loc_27812a3e
test    bl, 1
jz      short loc_27812aba
push    esi
push    edi
call    sub_278128fa
test    bl, 2
jz      loc_27812a3e
push    esi
push    edi
call    sub_278128c5
jmp     loc_27812a3e
cmp     dword_2782c330, 0
jnz     short loc_27812b0b
push    offset auser32_1
call    ds:getmodulehandlea
test    eax, eax
jz      short loc_27812af8
push    offset atrackmouseeven
push    eax
call    ds:getprocaddress
mov     dword_2782c330, eax
cmp     dword_2782c330, 0
jnz     short loc_27812b0b
mov     dword_2782c330, offset sub_278129e3
push    [esp+arg_0]
call    dword_2782c330
retn    4
push    esi
mov     esi, [esp+4+lparam]
mov     eax, [esp+4+arg_8]
push    esi
push    [esp+8+arg_4]
and     dword ptr [esi+14h], 0
mov     [esi+10h], eax
mov     dword ptr [esi+18h], 80004002h
push    [esp+0ch+arg_0]
call    sub_277b9838
mov     eax, [esi+18h]
pop     esi
retn    10h
push    esi
push    3ch
call    sub_277b35e7
test    eax, eax
pop     ecx
jz      short loc_27812b86
push    [esp+4+arg_4]
mov     ecx, eax
push    [esp+8+arg_0]
call    sub_27812bc1
mov     esi, eax
test    esi, esi
jz      short loc_27812b80
cmp     [esp+4+arg_8], 0
jz      short loc_27812b80
mov     ecx, esi
call    sub_27812ed0
test    eax, eax
jnz     short loc_27812b80
mov     eax, [esi]
push    esi
call    dword ptr [eax+8]
xor     esi, esi
mov     eax, esi
pop     esi
retn    0ch
xor     esi, esi
jmp     short loc_27812b62
mov     ecx, [esp+arg_0]
test    ecx, ecx
jz      short locret_27812b97
call    sub_27812f16
retn    4
mov     eax, [esp+arg_0]
test    eax, eax
jz      short loc_27812bb3
mov     ecx, [esp+arg_4]
push    eax
mov     [ecx], eax
mov     ecx, [eax]
call    dword ptr [ecx+4]
xor     eax, eax
retn    8
mov     eax, [esp+arg_4]
and     dword ptr [eax], 0
mov     eax, 80004005h
jmp     short locret_27812bb0
mov     eax, [esp+arg_0]
push    esi
mov     esi, ecx
mov     [esi+8], eax
mov     eax, [esp+4+arg_4]
mov     [esi+0ch], eax
xor     eax, eax
push    eax
push    eax
push    eax
mov     dword ptr [esi+4], 1
mov     [esi+10h], eax
mov     [esi+14h], eax
mov     [esi+24h], eax
mov     [esi+38h], eax
mov     dword ptr [esi], offset off_277cbb28
call    sub_27812eb0
mov     [esi+18h], eax
mov     [esi+20h], eax
mov     eax, esi
pop     esi
retn    8
push    ecx
mov     dword ptr [ecx], offset off_277cbb28
call    sub_27812ccb
retn
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_4]
push    edi
push    10h
pop     ecx
mov     edi, offset dword_277cbf30
xor     eax, eax
repe cmpsb
jz      short loc_27812c46
mov     esi, [ebp+arg_4]
push    10h
pop     ecx
mov     edi, offset dword_277b6118
xor     eax, eax
repe cmpsb
jz      short loc_27812c46
mov     eax, [ebp+arg_8]
and     dword ptr [eax], 0
mov     eax, 80004002h
pop     edi
pop     esi
pop     ebp
retn    0ch
mov     ecx, [ebp+arg_8]
mov     eax, [ebp+arg_0]
mov     [ecx], eax
inc     dword ptr [eax+4]
xor     eax, eax
jmp     short loc_27812c40
push    esi
mov     esi, [esp+4+lpmem]
dec     dword ptr [esi+4]
mov     eax, [esi+4]
jnz     short loc_27812c76
test    esi, esi
jz      short loc_27812c74
mov     ecx, esi
call    sub_27812c01
push    esi
call    sub_277b221b
pop     ecx
xor     eax, eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, [ebp+arg_4]
test    edi, edi
jnz     short loc_27812c91
mov     eax, 80070057h
pop     edi
pop     esi
pop     ebp
retn    18h
mov     esi, [ebp+arg_0]
push    0
push    0
push    3
mov     ecx, esi
call    sub_27812eb0
test    eax, eax
jnz     short loc_27812cac
mov     eax, 80004005h
jmp     short loc_27812c8b
mov     eax, [edi]
push    edi
call    dword ptr [eax+4]
push    [ebp+arg_14]
mov     eax, [esi]
mov     [esi+10h], edi
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    esi
call    dword ptr [eax+10h]
xor     eax, eax
jmp     short loc_27812c8b
push    esi
mov     esi, [esp+4+arg_0]
push    edi
xor     edi, edi
push    edi
mov     ecx, esi
call    sub_27812e2d
mov     eax, [esi+20h]
cmp     [esi+10h], edi
mov     [esi+18h], eax
jz      short loc_27812cfd
push    edi
push    edi
push    4
mov     ecx, esi
call    sub_27812eb0
mov     eax, [esi+10h]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     [esi+10h], edi
pop     edi
xor     eax, eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_8]
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_10]
and     [ebp+var_4], 0
mov     [esi+2ch], eax
mov     eax, [ebp+arg_c]
mov     [esi+28h], ebx
mov     [esi+30h], eax
mov     eax, [edi]
mov     ecx, esi
mov     [esi+34h], eax
lea     eax, [ebp+arg_8]
push    eax
lea     eax, [ebp+var_4]
push    eax
push    0
call    sub_27812eb0
push    [ebp+var_4]
mov     ecx, esi
push    eax
call    sub_27812dc3
mov     eax, [esi+14h]
test    eax, eax
jz      short loc_27812d71
mov     ecx, [eax]
push    edi
push    [ebp+arg_c]
push    [ebp+arg_8]
push    ebx
push    eax
call    dword ptr [ecx+10h]
mov     ebx, eax
push    dword ptr [edi]
mov     ecx, esi
call    sub_27812e96
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    14h
and     dword ptr [edi], 0
xor     ebx, ebx
jmp     short loc_27812d5f
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     eax, [esi+14h]
test    eax, eax
jz      short loc_27812db9
push    [ebp+arg_14]
mov     ecx, [eax]
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    eax
call    dword ptr [ecx+18h]
mov     edi, eax
mov     eax, [esi+14h]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
and     dword ptr [esi+14h], 0
mov     eax, [esi]
push    esi
call    dword ptr [eax+14h]
mov     eax, edi
pop     edi
pop     esi
pop     ebp
retn    18h
mov     eax, [ebp+arg_14]
and     dword ptr [eax], 0
xor     edi, edi
jmp     short loc_27812dab
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
mov     edi, [ebp+arg_0]
mov     esi, ecx
cmp     edi, [esi+18h]
jnz     short loc_27812dde
cmp     ebx, [esi+1ch]
jz      short loc_27812e26
push    0
mov     ecx, esi
call    sub_27812e96
mov     [esi+18h], edi
mov     [ebp+var_14], edi
xor     edi, edi
mov     [esi+1ch], ebx
cmp     [esi+10h], edi
mov     [ebp+var_4], ebx
jz      short loc_27812e0c
lea     eax, [ebp+var_20]
mov     ecx, esi
push    eax
push    edi
push    1
call    sub_27812eb0
test    eax, eax
jge     short loc_27812e0f
mov     [ebp+var_c], edi
push    [ebp+var_c]
mov     ecx, esi
call    sub_27812e2d
mov     eax, [ebp+var_c]
cmp     eax, edi
jz      short loc_27812e26
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+8]
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
push    esi
mov     esi, ecx
push    0
call    sub_27812e96
mov     eax, [esi+14h]
test    eax, eax
jz      short loc_27812e50
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+14h]
mov     eax, [esi+14h]
push    eax
mov     ecx, [eax]
call    dword ptr [ecx+8]
mov     eax, [ebp+arg_0]
test    eax, eax
mov     [esi+14h], eax
jz      short loc_27812e91
mov     ecx, [eax]
push    eax
call    dword ptr [ecx+4]
lea     edx, [ebp+arg_0]
mov     eax, [esi+34h]
push    edx
mov     [ebp+arg_0], eax
push    dword ptr [esi+30h]
mov     eax, [esi+14h]
push    dword ptr [esi+2ch]
mov     ecx, [eax]
push    dword ptr [esi+28h]
push    dword ptr [esi+10h]
push    eax
call    dword ptr [ecx+0ch]
test    eax, eax
jge     short loc_27812e87
and     [ebp+arg_0], 0
push    [ebp+arg_0]
mov     ecx, esi
call    sub_27812e96
pop     esi
pop     ebp
retn    4
mov     eax, [esp+arg_0]
cmp     eax, [ecx+24h]
jz      short locret_27812ead
push    eax
mov     [ecx+24h], eax
push    dword ptr [ecx+18h]
push    2
call    sub_27812eb0
retn    4
mov     eax, [ecx+0ch]
test    eax, eax
jz      short loc_27812ecb
push    [esp+arg_8]
push    [esp+4+arg_4]
push    [esp+8+arg_0]
push    dword ptr [ecx+8]
call    eax
retn    0ch
or      eax, 0ffffffffh
jmp     short locret_27812ec8
push    esi
mov     esi, ecx
call    sub_2782186d
test    eax, eax
mov     [esi+38h], eax
jz      short loc_27812f12
push    eax
call    sub_27821898
test    eax, eax
jl      short loc_27812f06
push    esi
push    dword ptr [esi+8]
push    dword ptr [esi+38h]
call    sub_278218c2
test    eax, eax
jl      short loc_27812efe
push    1
pop     eax
pop     esi
retn
push    dword ptr [esi+38h]
call    sub_278218ae
push    dword ptr [esi+38h]
call    sub_2782188b
and     dword ptr [esi+38h], 0
xor     eax, eax
pop     esi
retn
push    esi
mov     esi, ecx
mov     eax, [esi+38h]
test    eax, eax
jz      short loc_27812f39
push    dword ptr [esi+8]
push    eax
call    sub_278218de
push    dword ptr [esi+38h]
call    sub_278218ae
push    dword ptr [esi+38h]
call    sub_2782188b
and     dword ptr [esi+0ch], 0
pop     esi
retn
push    esi
mov     esi, [esp+4+lp]
test    esi, esi
jz      short loc_27812f67
push    5f4h
push    esi
call    ds:isbadwriteptr
test    eax, eax
jnz     short loc_27812f67
cmp     dword ptr [esi], 4c4d4948h
jnz     short loc_27812f67
push    1
pop     eax
pop     esi
retn    4
xor     eax, eax
jmp     short loc_27812f63
mov     edx, [esp+arg_0]
mov     eax, [edx]
mov     ecx, [eax+1ach]
test    ecx, ecx
jz      short loc_27812f94
push    [esp+arg_8]
push    dword ptr [eax+1b0h]
push    [esp+8+arg_4]
push    edx
call    ecx
neg     eax
sbb     eax, eax
inc     eax
retn    0ch
xor     eax, eax
jmp     short locret_27812f91
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     dword_2782c358, 0
push    esi
mov     [ebp+bits], 0aaaah
mov     [ebp+var_e], 5555h
mov     [ebp+var_c], 0aaaah
mov     [ebp+var_a], 5555h
mov     [ebp+var_8], 0aaaah
mov     [ebp+var_6], 5555h
mov     [ebp+var_4], 0aaaah
mov     [ebp+var_2], 5555h
jnz     short loc_2781300f
lea     eax, [ebp+bits]
push    eax
push    1
push    1
push    8
push    8
call    ds:createbitmap
mov     esi, eax
test    esi, esi
jz      short loc_27813015
push    esi
call    ds:createpatternbrush
push    dword_27828334
mov     ho, eax
push    eax
call    nullsub_3
push    esi
call    ds:deleteobject
inc     dword_2782c358
pop     esi
leave
retn
dec     dword_2782c358
jnz     short locret_27813033
push    ho
call    ds:deleteobject
and     ho, 0
retn
push    ebx
push    esi
push    edi
push    0
call    ds:getdc
mov     ebx, ds:getdevicecaps
mov     edi, eax
push    0ch
push    edi
call    ebx
push    0eh
push    edi
mov     esi, eax
call    ebx
imul    esi, eax
push    edi
push    0
call    ds:releasedc
mov     eax, esi
pop     edi
pop     esi
pop     ebx
retn
push    ebx
mov     ebx, [esp+4+hdc]
push    esi
push    edi
mov     edi, ds:getdevicecaps
push    0eh
push    ebx
call    edi
push    0ch
push    ebx
mov     esi, eax
call    edi
imul    esi, eax
cmp     esi, 8
jg      short loc_2781309c
cmp     esi, 4
jle     short loc_27813094
push    5eh
push    ebx
call    edi
test    al, 10h
jnz     short loc_2781309c
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    4
push    1
pop     eax
jmp     short loc_27813096
push    ebp
mov     ebp, esp
sub     esp, 430h
mov     eax, [ebp+arg_0]
push    ebx
push    esi
xor     esi, esi
cmp     eax, esi
push    edi
jz      loc_278132bd
cmp     [eax+30h], esi
jz      short loc_278130da
mov     ecx, [eax+38h]
cmp     ecx, esi
jz      short loc_278130da
push    [ebp+cy]
push    [ebp+arg_4]
push    ecx
call    ds:createcompatiblebitmap
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
cmp     eax, esi
jz      loc_278132bd
mov     eax, [eax+1ch]
mov     [ebp+arg_0], eax
push    esi
call    ds:getdc
mov     ebx, 0feh
mov     [ebp+hdc], eax
test    byte ptr [ebp+arg_0], bl
jnz     short loc_2781310e
push    eax
call    sub_27813065
test    eax, eax
jz      loc_278132c5
or      [ebp+arg_0], 4
mov     edi, [ebp+arg_0]
mov     eax, edi
and     ax, bx
cmp     al, bl
jz      loc_278132e0
mov     eax, [ebp+arg_4]
and     edi, ebx
mov     [ebp+pbmi.bmiheader.biwidth], eax
mov     eax, [ebp+cy]
cmp     di, 8
mov     [ebp+pbmi.bmiheader.bisize], 28h
mov     [ebp+pbmi.bmiheader.biheight], eax
mov     [ebp+pbmi.bmiheader.biplanes], 1
mov     [ebp+pbmi.bmiheader.bibitcount], di
mov     [ebp+pbmi.bmiheader.bicompression], esi
mov     [ebp+pbmi.bmiheader.bisizeimage], esi
mov     [ebp+pbmi.bmiheader.bixpelspermeter], esi
mov     [ebp+pbmi.bmiheader.biypelspermeter], esi
mov     [ebp+pbmi.bmiheader.biclrused], 10h
mov     [ebp+pbmi.bmiheader.biclrimportant], esi
mov     dword ptr [ebp+pbmi.bmicolors.rgbblue], esi
mov     [ebp+var_404], 800000h
mov     [ebp+var_400], 8000h
mov     [ebp+var_3fc], 808000h
mov     [ebp+var_3f8], 80h
mov     [ebp+var_3f4], 800080h
mov     [ebp+var_3f0], 8080h
mov     [ebp+var_3ec], 0c0c0c0h
mov     [ebp+var_3e8], 808080h
mov     [ebp+var_3e4], 0ff0000h
mov     [ebp+var_3e0], 0ff00h
mov     [ebp+var_3dc], 0ffff00h
mov     [ebp+var_3d8], 0ffh
mov     [ebp+var_3d4], 0ff00ffh
mov     [ebp+var_3d0], 0ffffh
mov     [ebp+var_3cc], 0ffffffh
jnz     short loc_27813293
push    esi
call    ds:createhalftonepalette
mov     ebx, eax
cmp     ebx, esi
jz      loc_278132cd
lea     eax, [ebp+pbmi.bmicolors]
push    eax
push    100h
push    esi
push    ebx
call    ds:getpaletteentries
push    ebx
mov     edi, eax
call    ds:deleteobject
cmp     edi, 40h
jle     short loc_27813281
mov     [ebp+pbmi.bmiheader.biclrused], edi
xor     edi, edi
cmp     [ebp+pbmi.bmiheader.biclrused], esi
jle     short loc_27813281
lea     eax, [ebp+pbmi.bmicolors]
mov     edx, [eax]
xor     ecx, ecx
mov     cl, [eax+1]
mov     ch, [eax]
shr     edx, 10h
movzx   edx, dl
shl     ecx, 8
or      ecx, edx
inc     edi
mov     [eax], ecx
add     eax, 4
cmp     edi, [ebp+pbmi.bmiheader.biclrused]
jl      short loc_2781325f
cmp     [ebp+pbmi.bmiheader.biclrused], 10h
ja      short loc_27813293
mov     [ebp+pbmi.bmiheader.bibitcount], 4
push    esi
lea     eax, [ebp+ppvbits]
push    esi
push    eax
lea     eax, [ebp+pbmi]
push    esi
push    eax
push    [ebp+hdc]
call    ds:createdibsection
push    [ebp+hdc]
mov     edi, eax
push    esi
call    ds:releasedc
mov     eax, edi
jmp     loc_278130d3
mov     [ebp+arg_0], esi
jmp     loc_278130e8
or      [ebp+arg_0], ebx
jmp     loc_2781310e
mov     [ebp+pbmi.bmiheader.bibitcount], di
mov     [ebp+pbmi.bmiheader.biclrused], 100h
jmp     short loc_27813281
push    [ebp+cy]
push    [ebp+arg_4]
push    [ebp+hdc]
call    ds:createcompatiblebitmap
jmp     short loc_278132aa
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
xor     esi, esi
push    edi
push    esi
call    ds:getdc
mov     ebx, eax
push    26h
push    ebx
call    ds:getdevicecaps
test    ah, 1
jnz     short loc_27813378
push    50h
call    sub_277b339b
cmp     eax, 1
jle     short loc_27813378
push    51h
call    sub_277b339b
test    eax, eax
jnz     short loc_27813378
mov     eax, [ebp+arg_0]
push    7
mov     [ebp+pbmi.bmiheader.biwidth], eax
mov     eax, [ebp+ppvbits]
mov     [ebp+pbmi.bmiheader.biheight], eax
pop     ecx
xor     eax, eax
lea     edi, [ebp+pbmi.bmiheader.bicompression]
mov     [ebp+pbmi.bmiheader.bisize], 28h
mov     [ebp+pbmi.bmiheader.biplanes], 1
mov     [ebp+pbmi.bmiheader.bibitcount], 20h
push    esi
rep stosd
lea     eax, [ebp+ppvbits]
push    esi
push    eax
lea     eax, [ebp+pbmi]
push    esi
push    eax
push    ebx
call    ds:createdibsection
push    ebx
push    esi
mov     edi, eax
call    ds:releasedc
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    [ebp+ppvbits]
push    [ebp+arg_0]
push    ebx
call    ds:createcompatiblebitmap
jmp     short loc_27813365
push    0
push    1
push    1
push    [esp+0ch+nheight]
push    [esp+10h+nwidth]
call    ds:createbitmap
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
cmp     hdc, 0
push    ebx
push    esi
push    edi
mov     [ebp+bits], 7777h
mov     [ebp+var_e], 0ddddh
mov     [ebp+var_c], 7777h
mov     [ebp+var_a], 0ddddh
mov     [ebp+var_8], 7777h
mov     [ebp+var_6], 0ddddh
mov     [ebp+var_4], 7777h
mov     [ebp+var_2], 0ddddh
jnz     loc_278134a1
push    0
call    ds:getdc
mov     esi, ds:createcompatibledc
mov     ebx, eax
push    ebx
call    esi
push    ebx
mov     hdcsrc, eax
call    esi
push    dword_27828334
mov     hdc, eax
push    hdcsrc
call    nullsub_3
push    dword_27828334
push    hdc
call    nullsub_3
call    sub_27812f98
lea     eax, [ebp+bits]
push    eax
push    1
push    1
push    8
push    8
call    ds:createbitmap
mov     edi, eax
test    edi, edi
jz      short loc_2781347f
mov     esi, ds:selectobject
push    edi
push    hdc
call    esi
push    eax
mov     dword_2782c33c, eax
push    hdc
call    esi
push    edi
call    ds:createpatternbrush
push    dword_27828334
mov     dword_2782c354, eax
push    eax
call    nullsub_3
push    edi
call    ds:deleteobject
xor     esi, esi
push    ebx
push    esi
call    ds:releasedc
cmp     hdcsrc, esi
jz      short loc_278134a9
cmp     hdc, esi
jz      short loc_278134a9
cmp     ho, esi
jz      short loc_278134a9
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn
call    sub_278134b2
xor     eax, eax
jmp     short loc_278134a4
push    ebx
push    esi
push    edi
call    sub_27813018
mov     eax, dword_2782c354
mov     ebx, ds:deleteobject
xor     esi, esi
cmp     eax, esi
jz      short loc_278134d4
push    eax
call    ebx
mov     dword_2782c354, esi
call    sub_278150ad
cmp     hdc, esi
mov     edi, ds:deletedc
jz      short loc_278134fb
push    esi
call    sub_2781352d
push    hdc
call    edi
mov     hdc, esi
cmp     hdcsrc, esi
jz      short loc_27813517
push    esi
call    sub_2781356f
push    hdcsrc
call    edi
mov     hdcsrc, esi
mov     eax, h
cmp     eax, esi
jz      short loc_27813529
push    eax
call    ebx
mov     h, esi
pop     edi
pop     esi
pop     ebx
retn
push    esi
mov     esi, [esp+4+h]
cmp     esi, dword_2782c344
jz      short loc_2781356b
test    esi, esi
jz      short loc_27813553
cmp     esi, dword_2782c338
jnz     short loc_2781354d
push    0
call    sub_2781356f
test    esi, esi
mov     eax, esi
jnz     short loc_27813558
mov     eax, dword_2782c33c
push    eax
push    hdc
call    ds:selectobject
mov     dword_2782c344, esi
pop     esi
retn    4
push    esi
mov     esi, [esp+4+h]
cmp     esi, dword_2782c338
jz      short loc_278135ad
test    esi, esi
jz      short loc_27813591
cmp     esi, dword_2782c344
jnz     short loc_2781358f
push    0
call    sub_2781352d
test    esi, esi
mov     eax, esi
jnz     short loc_2781359a
mov     eax, dword_2782c33c
push    eax
push    hdcsrc
call    ds:selectobject
mov     dword_2782c338, esi
pop     esi
retn    4
push    ebp
mov     ebp, esp
cmp     h, 0
push    ebx
mov     ebx, [ebp+hdc]
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     edi, ds:getdevicecaps
jz      short loc_278135ef
push    0ch
push    ebx
call    edi
movzx   ecx, word_2782c3b2
cmp     eax, ecx
jnz     short loc_278135ef
cmp     dword_2782c3a4, esi
jl      short loc_278135ef
mov     eax, [ebp+cy]
cmp     dword_2782c3a8, eax
jge     short loc_2781363e
push    h
call    sub_278136ab
and     h, 0
test    esi, esi
jz      short loc_2781367e
cmp     [ebp+cy], 0
jz      short loc_2781367e
push    [ebp+cy]
push    esi
push    ebx
call    ds:createcompatiblebitmap
test    eax, eax
mov     h, eax
jz      short loc_2781363e
push    dword_27828334
push    eax
call    nullsub_3
push    offset dword_2782c3a0
push    18h
push    h
call    ds:getobjecta
push    h
call    sub_2781356f
push    26h
push    ebx
call    edi
test    ah, 1
jz      short loc_27813672
push    1
push    0fh
call    ds:getstockobject
mov     esi, ds:selectpalette
push    eax
push    ebx
call    esi
push    1
push    eax
push    hdcsrc
call    esi
mov     eax, hdcsrc
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
xor     eax, eax
jmp     short loc_27813677
push    26h
push    [esp+4+hdc]
call    ds:getdevicecaps
test    ah, 1
jz      short locret_278136a8
push    1
push    0fh
call    ds:getstockobject
push    eax
push    [esp+8+hdc]
call    ds:selectpalette
retn    4
push    esi
mov     esi, [esp+4+ho]
test    esi, esi
jz      short loc_278136d9
cmp     dword_2782c344, esi
jnz     short loc_278136c3
push    0
call    sub_2781352d
cmp     dword_2782c338, esi
jnz     short loc_278136d2
push    0
call    sub_2781356f
push    esi
call    ds:deleteobject
pop     esi
retn    4
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
test    eax, eax
jz      short loc_27813718
cmp     [ebp+arg_4], 0
jnz     short loc_278136f3
mov     ecx, [eax+10h]
mov     [ebp+arg_4], ecx
cmp     [ebp+arg_8], 0
jnz     short loc_278136ff
mov     ecx, [eax+14h]
mov     [ebp+arg_8], ecx
mov     eax, [eax+1ch]
push    [ebp+arg_14]
push    [ebp+arg_10]
push    eax
push    [ebp+arg_8]
push    [ebp+arg_4]
call    sub_2781371d
pop     ebp
retn    18h
mov     eax, [ebp+arg_c]
jmp     short loc_27813702
push    ebp
mov     ebp, esp
push    esi
xor     esi, esi
cmp     [ebp+arg_0], esi
push    edi
jl      loc_278137f5
cmp     [ebp+arg_4], esi
jl      loc_278137f5
call    sub_277b2326
cmp     dword_2782c348, esi
jnz     short loc_27813750
call    sub_2781339e
test    eax, eax
jz      loc_278137e6
mov     edi, [ebp+arg_8]
inc     dword_2782c348
cmp     edi, 0ffffffffh
jnz     short loc_27813763
mov     edi, 9ffh
push    [ebp+arg_10]
push    edi
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_278137f9
mov     esi, eax
test    esi, esi
jz      short loc_27813796
test    edi, 8000h
jz      short loc_278137a3
or      dword ptr [esi+38h], 0ffffffffh
or      dword ptr [esi+30h], 0ffffffffh
test    byte ptr [esi+1ch], 1
jz      short loc_27813796
or      dword ptr [esi+3ch], 0ffffffffh
or      dword ptr [esi+34h], 0ffffffffh
call    sub_277b2347
mov     eax, esi
pop     edi
pop     esi
pop     ebp
retn    14h
mov     edi, ds:createcompatibledc
push    0
call    edi
test    eax, eax
mov     [esi+38h], eax
jz      short loc_278137e6
test    byte ptr [esi+1ch], 1
jz      short loc_278137c5
push    0
call    edi
test    eax, eax
mov     [esi+3ch], eax
jz      short loc_278137e6
push    esi
call    sub_27813947
mov     eax, [ebp+arg_c]
inc     eax
push    eax
push    esi
call    sub_27813b6d
test    eax, eax
jnz     short loc_27813796
push    1
push    esi
call    sub_27813b6d
test    eax, eax
jnz     short loc_27813796
test    esi, esi
jz      short loc_278137f0
push    esi
call    sub_27813889
call    sub_277b2347
xor     eax, eax
jmp     short loc_2781379d
push    edi
mov     edi, [esp+4+arg_8]
test    edi, 0ffff7600h
jz      short loc_2781380c
xor     eax, eax
pop     edi
retn    10h
push    esi
push    5f4h
test    edi, 100h
jz      short loc_27813878
call    sub_27811c9a
mov     esi, eax
test    esi, esi
jz      short loc_27813873
mov     eax, [esp+8+arg_c]
push    4
pop     ecx
cmp     eax, ecx
jge     short loc_27813882
mov     eax, ecx
or      dword ptr [esi+20h], 0ffffffffh
or      dword ptr [esi+24h], 0ffffffffh
mov     [esi+0ch], eax
mov     eax, [esp+8+arg_0]
mov     [esi+10h], eax
mov     eax, [esp+8+arg_4]
push    ecx
mov     [esi+18h], ecx
mov     [esi+14h], eax
call    ds:getstockobject
push    0fh
mov     [esi+28h], eax
mov     [esi+1ch], edi
lea     edi, [esi+40h]
pop     ecx
or      eax, 0ffffffffh
mov     dword ptr [esi+2ch], 1
mov     dword ptr [esi], 4c4d4948h
rep stosd
mov     eax, esi
pop     esi
jmp     short loc_27813808
push    40h
call    ds:localalloc
jmp     short loc_2781381f
add     eax, 3
and     al, 0fch
jmp     short loc_27813832
push    esi
mov     esi, [esp+4+hmem]
push    esi
call    sub_27812f3f
test    eax, eax
jz      loc_2781393b
push    edi
push    ebx
call    sub_277b2326
mov     eax, [esi+38h]
mov     edi, ds:selectobject
mov     ebx, ds:deletedc
test    eax, eax
jz      short loc_278138c9
cmp     eax, 0ffffffffh
jz      short loc_278138c9
push    dword_2782c33c
push    eax
call    edi
push    dword ptr [esi+38h]
call    ebx
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_278138e3
cmp     eax, 0ffffffffh
jz      short loc_278138e3
push    dword_2782c33c
push    eax
call    edi
push    dword ptr [esi+3ch]
call    ebx
mov     eax, [esi+30h]
test    eax, eax
jz      short loc_278138f5
cmp     eax, 0ffffffffh
jz      short loc_278138f5
push    eax
call    sub_278136ab
mov     eax, [esi+34h]
test    eax, eax
jz      short loc_27813907
cmp     eax, 0ffffffffh
jz      short loc_27813907
push    eax
call    sub_278136ab
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_27813915
push    eax
call    ds:deleteobject
dec     dword_2782c348
jnz     short loc_27813922
call    sub_278134b2
call    sub_277b2347
and     dword ptr [esi], 0
push    esi
test    byte ptr [esi+1dh], 1
jz      short loc_2781393f
call    sub_27811d13
push    1
pop     eax
pop     ebx
pop     edi
pop     esi
retn    4
call    ds:localfree
jmp     short loc_27813936
push    esi
mov     esi, [esp+4+lp]
push    esi
call    sub_27812f3f
test    eax, eax
jz      short loc_278139c4
mov     eax, [esi+1ch]
and     eax, 8100h
cmp     eax, 100h
jnz     short loc_278139c4
mov     eax, [esi+30h]
test    eax, eax
jz      short loc_27813978
push    dword_27828334
push    eax
call    nullsub_3
mov     eax, [esi+34h]
test    eax, eax
jz      short loc_2781398b
push    dword_27828334
push    eax
call    nullsub_3
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_2781399e
push    dword_27828334
push    eax
call    nullsub_3
mov     eax, [esi+38h]
test    eax, eax
jz      short loc_278139b1
push    dword_27828334
push    eax
call    nullsub_3
mov     esi, [esi+3ch]
test    esi, esi
jz      short loc_278139c4
push    dword_27828334
push    esi
call    nullsub_3
pop     esi
retn    4
push    esi
mov     esi, [esp+4+lp]
push    esi
call    sub_27812f3f
test    eax, eax
jz      short loc_278139da
mov     eax, [esi+4]
pop     esi
retn    4
push    esi
mov     esi, [esp+4+lp]
push    esi
call    sub_27812f3f
test    eax, eax
jz      short loc_27813a0e
mov     ecx, [esp+4+arg_4]
test    ecx, ecx
jz      short loc_27813a0e
mov     eax, [esp+4+arg_8]
test    eax, eax
jz      short loc_27813a0e
mov     edx, [esi+10h]
push    1
mov     [ecx], edx
mov     ecx, [esi+14h]
mov     [eax], ecx
pop     eax
pop     esi
retn    0ch
xor     eax, eax
jmp     short loc_27813a0a
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
mov     esi, [ebp+lp]
push    edi
xor     edi, edi
push    esi
mov     [ebp+h], edi
call    sub_27812f3f
test    eax, eax
jz      loc_27813abd
cmp     [esi+3ch], edi
jz      loc_27813abd
cmp     [ebp+rop], edi
mov     ebx, ds:selectobject
jz      short loc_27813aa6
cmp     [ebp+rop], 0ffffffffh
jz      short loc_27813aa6
cmp     [ebp+rop], 0ffffffh
jnz     short loc_27813a92
mov     [ebp+rop], 0ee0086h
mov     edi, [ebp+arg_4]
cmp     edi, [ebp+arg_8]
jg      short loc_27813aaf
lea     eax, [ebp+x]
push    eax
push    edi
push    esi
call    sub_27815949
push    [ebp+rop]
push    [ebp+y]
push    [ebp+x]
push    dword ptr [esi+3ch]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    [ebp+y]
push    [ebp+x]
push    dword ptr [esi+38h]
call    ds:bitblt
inc     edi
jmp     short loc_27813a5e
push    dword ptr [esi+28h]
mov     [ebp+rop], 0e20746h
push    dword ptr [esi+38h]
call    ebx
mov     [ebp+h], eax
jmp     short loc_27813a5b
mov     [ebp+rop], 220326h
jmp     short loc_27813a5b
cmp     [ebp+h], 0
jz      short loc_27813abd
push    [ebp+h]
push    dword ptr [esi+38h]
call    ebx
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    ebx
push    esi
mov     esi, [esp+8+lp]
push    edi
push    esi
call    sub_27812f3f
test    eax, eax
jnz     short loc_27813ade
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
retn    8
mov     edi, [esp+0ch+color]
cmp     [esi+24h], edi
jnz     short loc_27813aeb
mov     eax, edi
jmp     short loc_27813ad8
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_27813af9
push    eax
call    ds:deleteobject
mov     ebx, [esi+24h]
cmp     edi, 0ffffffffh
mov     [esi+24h], edi
jz      short loc_27813b3e
test    byte ptr [esi+1dh], 80h
jnz     short loc_27813b3e
push    edi
call    ds:createsolidbrush
push    edi
mov     [esi+28h], eax
push    dword ptr [esi+38h]
call    ds:getnearestcolor
sub     eax, edi
neg     eax
sbb     eax, eax
inc     eax
mov     [esi+2ch], eax
mov     eax, [esi+4]
test    eax, eax
jle     short loc_27813b3a
dec     eax
push    edi
push    eax
push    0
push    esi
call    sub_27813a12
mov     eax, ebx
jmp     short loc_27813ad8
push    4
call    ds:getstockobject
mov     [esi+28h], eax
mov     dword ptr [esi+2ch], 1
jmp     short loc_27813b28
push    esi
mov     esi, [esp+4+lp]
push    esi
call    sub_27812f3f
test    eax, eax
jnz     short loc_27813b68
or      eax, 0ffffffffh
pop     esi
retn    4
mov     eax, [esi+24h]
jmp     short loc_27813b64
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+lp]
push    edi
push    esi
call    sub_27812f3f
test    eax, eax
jz      short loc_27813beb
mov     eax, [ebp+arg_4]
test    eax, eax
jle     short loc_27813b92
cmp     [esi+8], eax
jl      short loc_27813b97
push    1
pop     eax
jmp     short loc_27813bed
neg     eax
mov     [ebp+arg_4], eax
mov     ecx, [esi+18h]
mov     edi, [esi+10h]
and     [ebp+lp], 0
and     [ebp+h], 0
lea     eax, [eax+ecx-1]
imul    edi, ecx
cdq
idiv    ecx
mov     ebx, eax
imul    ebx, [esi+14h]
cmp     [ebp+arg_4], 0
jle     short loc_27813bf4
test    byte ptr [esi+1ch], 1
jz      short loc_27813bcf
push    ebx
push    edi
call    sub_27813387
test    eax, eax
mov     [ebp+lp], eax
jz      short loc_27813beb
push    ebx
push    edi
push    esi
call    sub_278130a1
test    eax, eax
mov     [ebp+h], eax
jnz     short loc_27813bf4
cmp     [ebp+lp], eax
jz      short loc_27813beb
push    [ebp+lp]
call    sub_278136ab
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+4]
test    eax, eax
jle     short loc_27813c61
cmp     [ebp+arg_4], eax
jge     short loc_27813c03
mov     eax, [ebp+arg_4]
mov     ecx, [esi+18h]
lea     eax, [ecx+eax-1]
cdq
idiv    ecx
mov     ebx, eax
imul    ebx, [esi+14h]
test    byte ptr [esi+1ch], 1
jz      short loc_27813c3d
push    [ebp+lp]
call    sub_2781352d
xor     eax, eax
push    0cc0020h
push    eax
push    eax
push    dword ptr [esi+3ch]
push    ebx
push    edi
push    eax
push    eax
push    hdc
call    ds:bitblt
push    [ebp+h]
call    sub_2781352d
xor     eax, eax
push    0cc0020h
push    eax
push    eax
push    dword ptr [esi+38h]
push    ebx
push    edi
push    eax
push    eax
push    hdc
call    ds:bitblt
push    0
call    sub_2781352d
push    0
call    sub_2781356f
mov     ebx, [ebp+h]
mov     edi, ds:selectobject
push    ebx
push    dword ptr [esi+38h]
call    edi
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_27813c8b
push    [ebp+lp]
push    eax
call    edi
mov     eax, [esi+34h]
test    eax, eax
jz      short loc_27813c98
push    eax
call    sub_278136ab
mov     eax, [esi+30h]
test    eax, eax
jz      short loc_27813ca5
push    eax
call    sub_278136ab
mov     eax, [ebp+lp]
or      dword ptr [esi+20h], 0ffffffffh
push    esi
mov     [esi+34h], eax
mov     [esi+30h], ebx
call    sub_27813947
mov     eax, [ebp+arg_4]
mov     [esi+8], eax
jmp     loc_27813b8d
push    [esp+prgbq]
mov     eax, [esp+4+arg_0]
push    [esp+4+centries]
mov     dword ptr [eax+1a8h], 1
push    [esp+8+istart]
push    dword ptr [eax+38h]
call    ds:setdibcolortable
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 400h
push    ebx
push    esi
mov     esi, [ebp+lp]
or      ebx, 0ffffffffh
push    esi
call    sub_27812f3f
test    eax, eax
jnz     short loc_27813d0c
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    18h
push    edi
call    sub_277b2326
xor     eax, eax
cmp     [ebp+h], eax
jz      short loc_27813d73
cmp     [esi+4], eax
jnz     short loc_27813d73
mov     ecx, [esi+1ch]
and     cx, 0feh
cmp     cl, 0feh
jz      short loc_27813d73
cmp     [esi+1a8h], eax
jnz     short loc_27813d6f
push    [ebp+h]
call    sub_2781352d
lea     eax, [ebp+prgbq]
xor     edi, edi
push    eax
push    100h
push    edi
push    hdc
call    ds:getdibcolortable
cmp     eax, edi
jz      short loc_27813d69
lea     ecx, [ebp+prgbq]
push    ecx
push    eax
push    edi
push    esi
call    sub_27813cc3
push    edi
call    sub_2781352d
or      dword ptr [esi+20h], 0ffffffffh
mov     eax, [esi+4]
mov     edi, [ebp+arg_c]
mov     ecx, [esi+8]
lea     eax, [edi+eax+1]
cmp     eax, ecx
jle     short loc_27813d9c
mov     eax, [esi+0ch]
cmp     edi, eax
jle     short loc_27813d8d
mov     eax, edi
lea     eax, [ecx+eax+1]
push    eax
push    esi
call    sub_27813b6d
test    eax, eax
jz      short loc_27813dc9
mov     ebx, [esi+4]
cmp     [ebp+h], 0
lea     eax, [edi+ebx]
mov     [esi+4], eax
jz      short loc_27813dc9
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+arg_8]
push    [ebp+h]
push    edi
push    ebx
push    esi
call    sub_27814003
test    eax, eax
jnz     short loc_27813dc9
sub     [esi+4], edi
or      ebx, 0ffffffffh
call    sub_277b2347
mov     eax, ebx
pop     edi
jmp     loc_27813d06
push    ebp
mov     ebp, esp
sub     esp, 18h
push    esi
mov     esi, [ebp+lp]
test    esi, esi
jz      short loc_27813e1b
lea     eax, [ebp+pv]
push    eax
push    18h
push    [ebp+h]
call    ds:getobjecta
cmp     eax, 18h
jnz     short loc_27813e1b
mov     ecx, [esi+10h]
mov     eax, [ebp+var_14]
cmp     eax, ecx
jl      short loc_27813e1b
cdq
idiv    ecx
push    0
push    0
push    eax
push    [ebp+arg_8]
push    [ebp+h]
push    esi
call    sub_27813ce9
pop     esi
leave
retn    0ch
or      eax, 0ffffffffh
jmp     short loc_27813e16
push    ebp
mov     ebp, esp
sub     esp, 824h
push    ebx
push    esi
push    edi
push    [ebp+lp]
call    sub_27812f3f
test    eax, eax
jz      short loc_27813e60
lea     eax, [ebp+pv]
push    eax
push    18h
push    [ebp+h]
call    ds:getobjecta
cmp     eax, 18h
jnz     short loc_27813e60
push    [ebp+cy]
push    [ebp+nwidth]
call    sub_27813387
xor     esi, esi
mov     [ebp+ho], eax
cmp     eax, esi
jnz     short loc_27813e6a
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
call    sub_277b2326
push    [ebp+h]
call    sub_2781356f
push    [ebp+ho]
call    sub_2781352d
mov     ebx, [ebp+color]
cmp     ebx, 0ff000000h
jnz     short loc_27813e9a
push    esi
push    esi
push    hdcsrc
call    ds:getpixel
mov     ebx, eax
cmp     [ebp+var_c], esi
jz      short loc_27813f0f
cmp     [ebp+var_e], 8
ja      short loc_27813f0f
lea     eax, [ebp+prgbq]
push    eax
push    100h
push    esi
push    hdcsrc
call    ds:getdibcolortable
mov     edi, eax
xor     ecx, ecx
cmp     edi, esi
mov     [ebp+centries], edi
jle     short loc_27813efa
xor     edx, edx
mov     eax, ebx
mov     dl, bh
shr     eax, 10h
mov     dh, bl
movzx   eax, al
shl     edx, 8
or      edx, eax
cmp     dword ptr [ebp+ecx*4+prgbq.rgbblue], edx
jnz     loc_27813ff7
mov     dword ptr [ebp+ecx*4+var_424.rgbblue], 0ffffffh
inc     ecx
cmp     ecx, edi
jl      short loc_27813edd
lea     eax, [ebp+var_424]
push    eax
push    edi
push    esi
push    hdcsrc
call    ds:setdibcolortable
mov     edi, ds:setbkcolor
push    ebx
push    hdcsrc
call    edi
push    0cc0020h
push    esi
push    esi
mov     ebx, ds:bitblt
push    hdcsrc
mov     [ebp+color], eax
push    [ebp+cy]
push    [ebp+nwidth]
push    esi
push    esi
push    hdc
call    ebx
push    0ffffffh
push    hdcsrc
call    edi
push    esi
push    hdcsrc
call    ds:settextcolor
push    220326h
push    esi
push    esi
mov     [ebp+var_24], eax
push    hdc
push    [ebp+cy]
push    [ebp+nwidth]
push    esi
push    esi
push    hdcsrc
call    ebx
push    [ebp+color]
push    hdcsrc
call    edi
push    [ebp+var_24]
push    hdcsrc
call    ds:settextcolor
cmp     [ebp+var_c], esi
jz      short loc_27813fbb
cmp     [ebp+var_e], 8
ja      short loc_27813fbb
lea     eax, [ebp+prgbq]
push    eax
push    [ebp+centries]
push    esi
push    hdcsrc
call    ds:setdibcolortable
push    esi
call    sub_2781356f
push    esi
call    sub_2781352d
mov     eax, [ebp+nwidth]
mov     ecx, [ebp+lp]
cdq
idiv    dword ptr [ecx+10h]
push    esi
push    esi
push    eax
push    [ebp+ho]
push    [ebp+h]
push    ecx
call    sub_27813ce9
push    [ebp+ho]
mov     esi, eax
call    ds:deleteobject
call    sub_277b2347
mov     eax, esi
jmp     loc_27813e63
mov     dword ptr [ebp+ecx*4+var_424.rgbblue], esi
jmp     loc_27813ef5
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+lp]
push    esi
call    sub_27812f3f
test    eax, eax
jz      loc_278140d8
push    edi
push    ebx
push    [ebp+arg_c]
call    sub_2781356f
xor     ebx, ebx
cmp     [esi+3ch], ebx
jz      short loc_27814034
push    [ebp+h]
call    sub_2781352d
cmp     [ebp+arg_8], ebx
mov     edi, [ebp+x1]
mov     [ebp+lp], ebx
jle     short loc_278140ad
mov     ebx, ds:bitblt
mov     ecx, [ebp+lp]
lea     eax, [ebp+x]
push    eax
mov     eax, [ebp+arg_4]
add     ecx, eax
push    ecx
push    esi
call    sub_27815949
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_2781407d
push    0cc0020h
push    [ebp+y1]
push    edi
push    hdc
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    [ebp+y]
push    [ebp+x]
push    eax
call    ebx
push    0cc0020h
push    [ebp+y1]
push    edi
push    hdcsrc
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    [ebp+y]
push    [ebp+x]
push    dword ptr [esi+38h]
call    ebx
inc     [ebp+lp]
add     edi, [esi+10h]
mov     eax, [ebp+lp]
cmp     eax, [ebp+arg_8]
jl      short loc_27814045
xor     ebx, ebx
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+arg_8]
push    dword ptr [esi+24h]
lea     ecx, [ecx+eax-1]
push    ecx
push    eax
push    esi
call    sub_27813a12
push    ebx
call    sub_2781356f
cmp     [esi+3ch], ebx
jz      short loc_278140d3
push    ebx
call    sub_2781352d
push    1
pop     eax
pop     ebx
pop     edi
pop     esi
leave
retn    1ch
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+x]
push    edi
push    eax
push    [ebp+y1]
push    esi
call    sub_27815949
lea     eax, [ebp+rc]
push    eax
mov     eax, [esi+4]
dec     eax
push    eax
push    esi
call    sub_27815949
mov     eax, [esi+10h]
mov     edi, ds:bitblt
imul    eax, [esi+18h]
sub     eax, [ebp+x1]
mov     ebx, 0cc0020h
mov     [ebp+y1], eax
jz      short loc_27814155
mov     ecx, [esi+38h]
push    ebx
push    [ebp+y]
push    [ebp+x1]
push    ecx
push    dword ptr [esi+14h]
push    eax
push    [ebp+y]
push    [ebp+x]
push    ecx
call    edi
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_27814155
push    ebx
push    [ebp+y]
push    [ebp+x1]
push    eax
push    dword ptr [esi+14h]
push    [ebp+y1]
push    [ebp+y]
push    [ebp+x]
push    eax
call    edi
mov     ecx, [esi+18h]
mov     eax, [ebp+y]
dec     ecx
mov     [ebp+y1], eax
imul    ecx, [esi+10h]
cmp     eax, [ebp+rc.top]
mov     [ebp+arg_0], ecx
jge     loc_278141f5
mov     eax, [esi+14h]
mov     edx, [ebp+y1]
add     edx, eax
push    ebx
push    edx
mov     edx, [esi+38h]
push    0
push    edx
push    eax
push    dword ptr [esi+10h]
push    [ebp+y1]
push    ecx
push    edx
call    edi
mov     ecx, [esi+3ch]
test    ecx, ecx
jz      short loc_278141ab
mov     eax, [esi+14h]
mov     edx, [ebp+y1]
add     edx, eax
push    ebx
push    edx
push    0
push    ecx
push    eax
push    dword ptr [esi+10h]
push    [ebp+y1]
push    [ebp+arg_0]
push    ecx
call    edi
mov     ecx, [esi+14h]
add     [ebp+y1], ecx
mov     eax, [ebp+y1]
cmp     eax, [ebp+rc.top]
jg      short loc_278141ed
mov     eax, [esi+38h]
push    ebx
push    [ebp+y1]
push    dword ptr [esi+10h]
push    eax
push    ecx
push    [ebp+arg_0]
push    [ebp+y1]
push    0
push    eax
call    edi
mov     eax, [esi+3ch]
test    eax, eax
jz      short loc_278141ed
push    ebx
push    [ebp+y1]
push    dword ptr [esi+10h]
push    eax
push    dword ptr [esi+14h]
push    [ebp+arg_0]
push    [ebp+y1]
push    0
push    eax
call    edi
mov     eax, [ebp+rc.top]
cmp     [ebp+y1], eax
jl      short loc_278141fc
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ecx, [ebp+arg_0]
jmp     loc_2781416f
push    ebp
mov     ebp, esp
push    esi
push    edi
push    1
pop     esi
push    [ebp+lp]
call    sub_27812f3f
test    eax, eax
jz      short loc_2781422a
lea     eax, [ebp+y1]
push    esi
push    eax
lea     eax, [ebp+lp]
push    eax
call    sub_27812f6b
test    eax, eax
jz      short loc_27814232
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    8
call    sub_277b2326
mov     eax, [ebp+y1]
cmp     eax, 0ffffffffh
jnz     short loc_2781427d
mov     eax, [ebp+lp]
and     dword ptr [eax+4], 0
mov     eax, [ebp+lp]
and     dword ptr [eax+8], 0
and     [ebp+y1], 0
mov     eax, [ebp+lp]
mov     ecx, [ebp+y1]
or      dword ptr [eax+ecx*4+40h], 0ffffffffh
inc     [ebp+y1]
cmp     [ebp+y1], 0fh
jl      short loc_27814251
mov     eax, [ebp+lp]
mov     ecx, [eax+0ch]
neg     ecx
push    ecx
push    eax
call    sub_27813b6d
call    sub_277b2347
mov     eax, esi
jmp     short loc_2781422c
test    eax, eax
jl      short loc_278142ad
mov     ecx, [ebp+lp]
cmp     eax, [ecx+4]
jge     short loc_278142ad
push    eax
push    ecx
call    sub_278140dd
mov     eax, [ebp+lp]
dec     dword ptr [eax+4]
mov     eax, [ebp+lp]
mov     ecx, [eax+8]
mov     edx, [eax+0ch]
mov     edi, ecx
sub     edi, [eax+4]
dec     edi
cmp     edi, edx
jle     short loc_27814274
sub     ecx, edx
jmp     short loc_2781426d
xor     esi, esi
jmp     short loc_27814274
push    ebp
mov     ebp, esp
push    ecx
mov     edx, [ebp+arg_c]
test    edx, edx
jbe     locret_2781434d
mov     eax, [ebp+arg_4]
push    edi
push    esi
mov     esi, [ebp+arg_8]
push    ebx
xor     ebx, ebx
movzx   edi, al
mov     ecx, esi
mov     bl, ah
imul    ecx, edi
shr     eax, 10h
movzx   edi, bl
movzx   eax, al
imul    edi, esi
mov     [ebp+arg_c], 64h
mov     [ebp+arg_8], ecx
sub     [ebp+arg_c], esi
imul    eax, esi
mov     esi, [ebp+arg_0]
mov     [ebp+var_4], eax
mov     [ebp+arg_4], edx
mov     eax, [esi]
push    64h
shr     eax, 10h
movzx   eax, al
imul    eax, [ebp+arg_c]
add     eax, ecx
xor     edx, edx
pop     ecx
div     ecx
xor     ecx, ecx
push    64h
xor     edx, edx
pop     ebx
mov     ch, al
xor     eax, eax
mov     al, [esi+1]
movzx   eax, al
imul    eax, [ebp+arg_c]
add     eax, edi
div     ebx
xor     edx, edx
mov     cl, al
movzx   eax, byte ptr [esi]
imul    eax, [ebp+arg_c]
add     eax, [ebp+var_4]
shl     ecx, 8
div     ebx
movzx   eax, al
or      ecx, eax
mov     [esi], ecx
add     esi, 4
dec     [ebp+arg_4]
jnz     short loc_27814351
pop     ebx
pop     esi
pop     edi
leave
retn    10h
mov     ecx, [ebp+arg_8]
jmp     short loc_278142fa
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_24]
and     [ebp+ho], 0
and     eax, 0eh
push    ebx
dec     eax
push    esi
dec     eax
push    edi
mov     eax, ho
jnz     short loc_27814376
mov     eax, dword_2782c354
mov     ebx, [ebp+arg_c]
mov     [ebp+var_8], eax
mov     eax, [ebp+color]
cmp     eax, 0ff000000h
jz      loc_2781441b
cmp     eax, 0ffffffffh
jz      loc_27814416
cmp     eax, [ebx+24h]
jz      short loc_27814416
push    eax
call    ds:createsolidbrush
mov     [ebp+ho], eax
mov     edi, [ebp+hdc]
mov     esi, ds:selectobject
push    eax
push    edi
call    esi
push    0f00021h
mov     [ebp+arg_24], eax
push    [ebp+h]
push    [ebp+w]
push    [ebp+y]
push    [ebp+x]
push    edi
call    ds:patblt
push    [ebp+arg_24]
push    edi
call    esi
push    [ebp+var_8]
push    edi
call    esi
push    0ac0744h
mov     [ebp+arg_24], eax
push    [ebp+y1]
push    [ebp+x1]
push    dword ptr [ebx+38h]
push    [ebp+h]
push    [ebp+w]
push    [ebp+y]
push    [ebp+x]
push    edi
call    ds:bitblt
push    [ebp+arg_24]
push    edi
call    esi
cmp     [ebp+ho], 0
jz      short loc_2781440f
push    [ebp+ho]
call    ds:deleteobject
pop     edi
pop     esi
pop     ebx
leave
retn    28h
mov     eax, [ebx+28h]
jmp     short loc_278143a2
mov     eax, dword_2782a0fc
jmp     short loc_278143a2
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
mov     ebx, ds:getobjecta
push    esi
mov     esi, [ebp+arg_c]
lea     eax, [ebp+pv]
push    edi
push    eax
push    18h
push    dword ptr [esi+30h]
call    ebx
mov     edi, [ebp+arg_20]
cmp     edi, 0ff000000h
jnz     short loc_27814454
push    0dh
call    ds:getsyscolor
mov     edi, eax
cmp     [esi+20h], edi
jz      short loc_278144a0
lea     eax, [esi+1b4h]
mov     [esi+20h], edi
push    eax
push    440h
push    dword ptr [esi+30h]
call    ebx
lea     ebx, [esi+1f4h]
push    ebx
push    100h
push    0
push    dword ptr [esi+38h]
call    ds:getdibcolortable
mov     ecx, [ebp+arg_24]
push    eax
and     cl, 0eh
sub     cl, 4
neg     cl
sbb     ecx, ecx
and     ecx, 0ffffffe7h
add     ecx, 32h
push    ecx
push    edi
push    ebx
call    sub_278142b1
push    0cc0020h
lea     eax, [esi+1cch]
push    0
push    eax
push    [ebp+lpbits]
mov     eax, [esi+1d4h]
sub     eax, [ebp+arg_14]
push    [ebp+destheight]
sub     eax, [ebp+destheight]
push    [ebp+destwidth]
push    eax
push    [ebp+xsrc]
push    [ebp+destheight]
push    [ebp+destwidth]
push    [ebp+ydest]
push    [ebp+xdest]
push    [ebp+hdc]
call    ds:stretchdibits
pop     edi
pop     esi
pop     ebx
leave
retn    28h
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_10]
push    edi
lea     eax, [esi+esi]
sub     [ebp+arg_4], eax
sub     [ebp+arg_c], eax
mov     eax, [ebp+arg_18]
cmp     eax, 0ffffffffh
jnz     short loc_27814545
mov     eax, [ebp+arg_14]
test    eax, eax
jle     short loc_2781453e
mov     ecx, [ebp+arg_8]
mov     [ebp+arg_1c], eax
mov     eax, [ebp+arg_0]
test    esi, esi
jle     short loc_27814533
mov     edx, esi
mov     di, [ecx]
mov     bx, [eax]
shr     edi, 1
shr     ebx, 1
and     di, 3defh
and     bx, 3defh
add     edi, ebx
mov     [eax], di
inc     eax
inc     eax
inc     ecx
inc     ecx
dec     edx
jnz     short loc_27814513
add     eax, [ebp+arg_4]
add     ecx, [ebp+arg_c]
dec     [ebp+arg_1c]
jnz     short loc_2781450d
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    20h
mov     ebx, [ebp+arg_1c]
mov     edi, 100h
movzx   ecx, al
mov     esi, ebx
sub     edi, ebx
imul    esi, ecx
xor     ecx, ecx
mov     [ebp+arg_1c], edi
mov     cl, ah
shr     eax, 10h
movzx   ecx, cl
movzx   edx, al
imul    ecx, ebx
imul    edx, ebx
cmp     edi, 80h
jnz     short loc_278145c9
mov     eax, 0f800h
mov     ebx, [ebp+arg_14]
sar     edx, 5
and     ecx, eax
and     edx, 7c0h
or      ecx, edx
and     esi, eax
sar     ecx, 5
or      ecx, esi
sar     ecx, 1
test    ebx, ebx
jle     short loc_2781453e
mov     esi, [ebp+arg_8]
mov     edx, [ebp+arg_0]
mov     edi, [ebp+arg_10]
test    edi, edi
jle     short loc_278145ba
movzx   eax, word ptr [esi]
sar     eax, 1
and     eax, 3defh
inc     esi
add     eax, ecx
inc     esi
mov     [edx], ax
inc     edx
inc     edx
dec     edi
jnz     short loc_278145a4
add     edx, [ebp+arg_4]
add     esi, [ebp+arg_c]
dec     ebx
jz      loc_2781453e
jmp     short loc_2781459d
mov     eax, [ebp+arg_14]
test    eax, eax
jle     loc_2781453e
mov     [ebp+arg_18], eax
mov     eax, [ebp+arg_10]
test    eax, eax
jle     short loc_27814643
mov     [ebp+arg_14], eax
mov     eax, [ebp+arg_8]
add     [ebp+arg_8], 2
movzx   eax, word ptr [eax]
mov     ebx, eax
sar     ebx, 7
and     bx, 0f8h
imul    ebx, edi
mov     edi, eax
add     ebx, esi
sar     edi, 2
and     di, 0f8h
and     eax, 1fh
imul    edi, [ebp+arg_1c]
sar     ebx, 0bh
add     edi, ecx
and     ebx, 1fh
sar     edi, 0bh
shl     ebx, 5
and     edi, 1fh
or      ebx, edi
mov     edi, [ebp+arg_1c]
shl     eax, 3
imul    eax, edi
add     eax, edx
sar     eax, 0bh
shl     ebx, 5
and     eax, 1fh
or      ebx, eax
mov     eax, [ebp+arg_0]
add     [ebp+arg_0], 2
dec     [ebp+arg_14]
mov     [eax], bx
jnz     short loc_278145e1
mov     eax, [ebp+arg_4]
add     [ebp+arg_0], eax
mov     eax, [ebp+arg_c]
add     [ebp+arg_8], eax
dec     [ebp+arg_18]
jz      loc_2781453e
jmp     loc_278145d7
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
mov     ebx, [ebp+arg_c]
push    esi
lea     eax, [ebp+pv]
push    edi
push    eax
push    18h
push    dword ptr [ebx+30h]
call    ds:getobjecta
cmp     [ebp+arg_20], 0ff000000h
jnz     short loc_2781468c
push    0dh
call    ds:getsyscolor
mov     [ebp+arg_20], eax
mov     eax, [ebp+arg_24]
and     al, 0eh
sub     al, 4
neg     al
sbb     eax, eax
and     al, 0c0h
add     eax, 80h
mov     [ebp+arg_24], eax
lea     eax, [ebp+x]
push    eax
push    ebx
call    sub_278159a3
cmp     [ebp+arg_20], 0ffffffffh
mov     esi, ds:bitblt
mov     edi, 0cc0020h
jnz     short loc_278146d7
push    edi
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+hdcsrc]
push    [ebp+cy]
push    [ebp+arg_18]
push    [ebp+y]
push    [ebp+x]
push    dword ptr [ebx+38h]
call    esi
push    [ebp+arg_24]
mov     eax, [ebp+var_20]
neg     eax
push    [ebp+arg_20]
mov     [ebp+var_4], eax
mov     ecx, [ebp+var_18]
push    [ebp+cy]
mov     ebx, ecx
push    [ebp+arg_18]
push    eax
mov     eax, [ebp+var_24]
mov     edx, eax
sub     eax, [ebp+y]
sub     edx, [ebp+arg_14]
dec     edx
imul    edx, [ebp+var_20]
add     ebx, edx
dec     eax
imul    eax, [ebp+var_20]
mov     edx, [ebp+arg_10]
add     ecx, eax
mov     eax, [ebp+x]
lea     edx, [ebx+edx*2]
push    edx
lea     eax, [ecx+eax*2]
push    [ebp+var_4]
push    eax
call    sub_278144e3
mov     eax, [ebp+arg_c]
push    edi
push    [ebp+y]
push    [ebp+x]
push    dword ptr [eax+38h]
push    [ebp+cy]
push    [ebp+arg_18]
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+hdcsrc]
call    esi
pop     edi
pop     esi
pop     ebx
leave
retn    28h
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
mov     ebx, [ebp+hdc]
push    esi
push    edi
push    0ch
push    ebx
call    ds:getdevicecaps
mov     esi, [ebp+arg_c]
mov     edi, eax
lea     eax, [ebp+pv]
push    eax
push    18h
push    dword ptr [esi+30h]
call    ds:getobjecta
cmp     [ebp+var_4], 0
push    8
pop     eax
jz      short loc_278147df
cmp     [ebp+var_6], ax
ja      short loc_278147ad
cmp     edi, eax
jg      short loc_27814787
cmp     [ebp+var_6], ax
jnz     short loc_278147ad
push    [ebp+arg_24]
push    [ebp+color]
push    [ebp+h]
push    [ebp+w]
push    [ebp+y1]
push    [ebp+x1]
push    esi
push    [ebp+y]
push    [ebp+x]
push    ebx
call    sub_27814422
pop     edi
pop     esi
pop     ebx
leave
retn    28h
cmp     [ebp+var_4], 0
jz      short loc_278147df
cmp     [ebp+var_6], 10h
jnz     short loc_278147df
cmp     edi, eax
jle     short loc_278147df
push    [ebp+arg_24]
push    [ebp+color]
push    [ebp+h]
push    [ebp+w]
push    [ebp+y1]
push    [ebp+x1]
push    esi
push    [ebp+y]
push    [ebp+x]
push    ebx
call    sub_2781465d
jmp     short loc_278147a6
push    [ebp+arg_24]
push    [ebp+color]
push    [ebp+h]
push    [ebp+w]
push    [ebp+y1]
push    [ebp+x1]
push    esi
push    [ebp+y]
push    [ebp+x]
push    ebx
call    sub_27814356
jmp     short loc_278147a6
push    ebp
mov     ebp, esp
sub     esp, 40h
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
push    dword ptr [esi+4]
lea     edi, [esi+4]
call    sub_27812f3f
test    eax, eax
jz      loc_27814e00
cmp     dword ptr [esi], 38h
jnz     loc_27814e00
lea     ebx, [esi+8]
push    0
push    ebx
push    edi
call    sub_27812f6b
test    eax, eax
jnz     loc_27814e00
mov     eax, [ebx]
test    eax, eax
jl      loc_27814e00
mov     ecx, [edi]
cmp     eax, [ecx+4]
jge     loc_27814e00
call    sub_277b2326
lea     eax, [ebp+rc]
push    eax
push    dword ptr [ebx]
push    dword ptr [edi]
call    sub_27815949
mov     ecx, [ebp+rc.left]
mov     eax, [ebp+rc.top]
add     ecx, [esi+20h]
add     eax, [esi+24h]
cmp     dword ptr [esi+28h], 0ff000000h
mov     [ebp+rc.left], ecx
mov     [ebp+rc.top], eax
jnz     short loc_27814886
mov     edx, [edi]
mov     edx, [edx+24h]
mov     [esi+28h], edx
cmp     dword ptr [esi+28h], 0ffffffffh
jnz     short loc_27814890
or      dword ptr [esi+30h], 1
cmp     dword ptr [esi+18h], 0
jnz     short loc_2781489e
mov     edx, [ebp+rc.right]
sub     edx, ecx
mov     [esi+18h], edx
cmp     dword ptr [esi+1ch], 0
jnz     short loc_278148ac
mov     edx, [ebp+rc.bottom]
sub     edx, eax
mov     [esi+1ch], edx
mov     edi, ds:bitblt
mov     eax, [esi+4]
lea     ebx, [esi+4]
test    byte ptr [esi+30h], 0eh
mov     edx, [eax+3ch]
mov     eax, [eax+38h]
mov     [ebp+hdcsrc], edx
mov     edx, [ebp+rc.top]
mov     [ebp+x1], ecx
mov     [ebp+y1], edx
mov     [ebp+hdc], eax
mov     [ebp+var_c], ecx
mov     [ebp+var_8], edx
jz      loc_27814966
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+0ch]
call    sub_278135b1
mov     [ebp+hdc], eax
mov     eax, [esi+2ch]
xor     ecx, ecx
cmp     eax, 0ffffffffh
mov     [ebp+var_c], ecx
mov     [ebp+var_8], ecx
jnz     loc_27814a35
cmp     [ebp+hdcsrc], ecx
jz      loc_27814a35
mov     eax, [ebx]
mov     edx, [eax+1ch]
and     dx, 0feh
cmp     dl, 10h
jnz     loc_278149be
test    [esi+30h], dl
jnz     loc_278149be
push    0cc0020h
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    ecx
push    ecx
push    [ebp+hdc]
call    edi
push    dword ptr [esi+30h]
push    dword ptr [esi+2ch]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    [ebp+rc.top]
push    [ebp+rc.left]
push    dword ptr [ebx]
push    0
push    0
push    [ebp+hdc]
call    sub_2781465d
or      dword ptr [esi+30h], 1
mov     ecx, [ebx]
mov     edx, [ebp+hdc]
xor     eax, eax
cmp     edx, [ecx+38h]
setz    al
mov     [ebp+var_10], eax
mov     eax, [esi+30h]
test    al, 10h
jz      loc_27814a6b
cmp     [ebp+hdcsrc], 0
jz      loc_27814a6b
test    al, 40h
jz      loc_27814a56
mov     eax, [esi+34h]
push    eax
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+hdcsrc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
call    edi
jmp     loc_27814ac4
mov     ecx, [ebp+rc.left]
jmp     loc_278148b2
lea     ecx, [ebp+x]
push    ecx
push    eax
call    sub_278159a3
mov     eax, [ebp+x]
push    0cc0020h
push    [ebp+rc.top]
mov     [ebp+x1], eax
mov     eax, [ebp+y]
push    [ebp+rc.left]
mov     [ebp+y1], eax
mov     eax, [ebx]
push    dword ptr [eax+38h]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    0
push    0
push    [ebp+hdc]
call    edi
push    ho
push    [ebp+hdcsrc]
call    ds:selectobject
push    0fc008ah
mov     [ebp+h], eax
push    [ebp+rc.top]
push    [ebp+rc.left]
push    [ebp+hdcsrc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdcsrc]
call    edi
push    [ebp+h]
push    [ebp+hdcsrc]
call    ds:selectobject
jmp     loc_27814962
push    dword ptr [esi+30h]
push    eax
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    [ebp+rc.top]
push    [ebp+rc.left]
push    dword ptr [ebx]
push    ecx
push    ecx
push    [ebp+hdc]
call    sub_27814745
jmp     loc_27814966
and     al, 1
neg     al
sbb     eax, eax
and     eax, 0ffbc00a6h
add     eax, 0cc0020h
jmp     loc_27814996
test    al, 20h
jz      loc_27814b7f
push    [ebp+hdc]
call    ds:getbkcolor
mov     ebx, eax
mov     eax, [esi+28h]
cmp     eax, 0ff000000h
jz      short loc_27814a92
push    eax
push    [ebp+hdc]
call    ds:setbkcolor
test    byte ptr [esi+30h], 40h
jz      loc_27814b75
mov     eax, [esi+34h]
push    eax
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+hdc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
call    edi
push    ebx
push    [ebp+hdc]
call    ds:setbkcolor
mov     ebx, [esi+30h]
test    bh, 0fh
jz      loc_27814b58
shr     ebx, 8
and     ebx, 0fh
dec     ebx
cmp     ebx, 0fh
jge     short loc_27814b58
mov     eax, [esi+4]
lea     edx, [ebp+rc]
push    edx
mov     ecx, [eax+ebx*4+40h]
push    ecx
push    eax
mov     [esi+8], ecx
call    sub_27815949
mov     eax, [esi+4]
mov     ecx, [eax+ebx*4+0f4h]
mov     [esi+18h], ecx
mov     ecx, [eax+ebx*4+130h]
mov     [esi+1ch], ecx
mov     ecx, [eax+ebx*4+7ch]
add     [esi+10h], ecx
mov     ecx, [eax+ebx*4+0b8h]
add     [esi+14h], ecx
mov     ecx, [eax+ebx*4+7ch]
add     ecx, [esi+20h]
add     [ebp+rc.left], ecx
mov     ecx, [eax+ebx*4+0b8h]
add     ecx, [esi+24h]
add     [ebp+rc.top], ecx
mov     ecx, [esi+30h]
and     ecx, 10h
or      ecx, 1
mov     [esi+30h], ecx
mov     eax, [eax+ebx*4+16ch]
or      eax, ecx
cmp     dword ptr [esi+18h], 0
mov     [esi+30h], eax
jle     short loc_27814b58
cmp     dword ptr [esi+1ch], 0
jg      loc_278149b6
cmp     [ebp+var_10], 0
jnz     short loc_27814b66
push    [ebp+hdc]
call    sub_27813682
call    sub_277b2347
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, 0cc0020h
jmp     loc_27814a9f
test    al, 1
jz      loc_27814cd0
xor     eax, eax
cmp     [ebp+hdcsrc], eax
jz      loc_27814cd2
push    eax
push    dword ptr [esi+0ch]
call    ds:settextcolor
push    0ffffffh
mov     [ebp+h], eax
push    dword ptr [esi+0ch]
call    ds:setbkcolor
cmp     [ebp+var_10], 0
mov     [ebp+var_20], eax
jz      loc_27814c54
mov     eax, [ebx]
cmp     dword ptr [eax+24h], 0ffffffh
jnz     short loc_27814c1a
push    0bb0226h
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+hdcsrc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
call    edi
push    8800c6h
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+hdc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
call    edi
push    [ebp+h]
push    dword ptr [esi+0ch]
call    ds:settextcolor
push    [ebp+var_20]
push    dword ptr [esi+0ch]
jmp     loc_27814abe
cmp     [ebp+var_10], 0
jz      short loc_27814c54
mov     eax, [ebx]
mov     eax, [eax+24h]
test    eax, eax
jz      short loc_27814c2e
cmp     eax, 0ffffffffh
jnz     short loc_27814c54
push    8800c6h
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+hdcsrc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
call    edi
push    0ee0086h
jmp     short loc_27814be9
push    220326h
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+hdcsrc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+hdc]
call    edi
push    8800c6h
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+hdcsrc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
call    edi
push    0ee0086h
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+hdc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
call    edi
cmp     [ebp+var_10], 0
jz      loc_27814c03
mov     ebx, [ebx]
mov     eax, [esi+8]
push    dword ptr [ebx+24h]
push    eax
push    eax
push    ebx
call    sub_27813a12
jmp     loc_27814c03
xor     eax, eax
cmp     [ebp+var_10], eax
jz      short loc_27814ce8
mov     edx, [esi+28h]
cmp     edx, [ecx+24h]
jnz     short loc_27814ce8
cmp     [ecx+2ch], eax
jnz     loc_27814ded
cmp     [ebp+hdcsrc], eax
jz      loc_27814ded
cmp     [ebp+var_10], eax
jz      short loc_27814d40
push    dword ptr [esi+28h]
push    [ebp+hdc]
call    ds:getnearestcolor
cmp     eax, [esi+28h]
jz      short loc_27814d40
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+0ch]
call    sub_278135b1
mov     ecx, [ebx]
push    0cc0020h
push    [ebp+rc.top]
mov     [ebp+hdc], eax
xor     eax, eax
push    [ebp+rc.left]
mov     [ebp+var_c], eax
mov     [ebp+var_8], eax
mov     [ebp+var_10], eax
push    dword ptr [ecx+38h]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    eax
push    eax
push    [ebp+hdc]
call    edi
mov     eax, [ebp+var_8]
push    0
sub     eax, [esi+14h]
push    eax
mov     eax, [ebp+var_c]
sub     eax, [esi+10h]
push    eax
push    [ebp+hdc]
call    ds:setbrushorgex
push    dword ptr [esi+28h]
call    ds:createsolidbrush
push    eax
push    [ebp+hdc]
call    ds:selectobject
push    0e20746h
mov     [ebp+h], eax
push    [ebp+y1]
push    [ebp+x1]
push    [ebp+hdcsrc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+hdc]
call    edi
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    eax
call    ds:deleteobject
xor     eax, eax
push    eax
push    eax
push    eax
push    [ebp+hdc]
call    ds:setbrushorgex
push    0cc0020h
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+hdc]
push    dword ptr [esi+1ch]
push    dword ptr [esi+18h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    dword ptr [esi+0ch]
call    edi
cmp     [ebp+var_10], 0
jz      loc_27814ac4
mov     ebx, [ebx]
mov     eax, [esi+8]
push    dword ptr [ebx+24h]
push    eax
push    eax
push    ebx
call    sub_27813a12
jmp     loc_27814ac4
push    0cc0020h
push    [ebp+var_8]
push    [ebp+var_c]
push    [ebp+hdc]
jmp     loc_278149a0
xor     eax, eax
jmp     loc_27814b6e
push    ebp
mov     ebp, esp
sub     esp, 38h
mov     eax, [ebp+arg_0]
and     [ebp+var_18], 0
mov     [ebp+var_34], eax
mov     eax, [ebp+arg_4]
mov     [ebp+var_30], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_2c], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_28], eax
mov     eax, [ebp+arg_10]
mov     [ebp+var_24], eax
mov     eax, [ebp+arg_14]
mov     [ebp+var_20], eax
mov     eax, [ebp+arg_18]
mov     [ebp+var_1c], eax
mov     eax, [ebp+arg_1c]
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_20]
and     [ebp+var_14], 0
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_24]
mov     [ebp+hdc.unused], 38h
mov     [ebp+var_8], eax
lea     eax, [ebp+hdc]
push    eax
call    sub_27814800
leave
retn    28h
push    ebp
mov     ebp, esp
sub     esp, 38h
mov     eax, [ebp+arg_0]
mov     [ebp+hdc.unused], 38h
mov     [ebp+var_34], eax
mov     eax, [ebp+arg_4]
mov     [ebp+var_30], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_2c], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_28], eax
mov     eax, [ebp+arg_10]
mov     [ebp+var_24], eax
xor     eax, eax
mov     [ebp+var_20], eax
mov     [ebp+var_1c], eax
mov     [ebp+var_18], eax
mov     [ebp+var_14], eax
mov     eax, 0ff000000h
mov     [ebp+var_10], eax
mov     [ebp+var_c], eax
mov     eax, [ebp+arg_14]
mov     [ebp+var_8], eax
lea     eax, [ebp+hdc]
push    eax
call    sub_27814800
leave
retn    18h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    edi
push    [ebp+lp]
call    sub_27812f3f
test    eax, eax
jz      loc_27814fac
push    [ebp+arg_10]
call    sub_27812f3f
test    eax, eax
jz      loc_27814fac
lea     eax, [ebp+arg_4]
push    1
push    eax
lea     eax, [ebp+lp]
push    eax
call    sub_27812f6b
test    eax, eax
jnz     loc_27814fac
xor     edi, edi
lea     eax, [ebp+arg_14]
push    edi
push    eax
lea     eax, [ebp+arg_10]
push    eax
call    sub_27812f6b
test    eax, eax
jnz     loc_27814fac
push    esi
lea     eax, [ebp+rc]
push    ebx
push    eax
movzx   eax, [ebp+arg_4]
push    eax
push    [ebp+lp]
call    sub_27815949
mov     eax, [ebp+rc.left]
mov     ecx, [ebp+arg_8]
mov     esi, [ebp+arg_18]
lea     ebx, [eax+ecx]
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+rc.top]
and     esi, 0f00h
add     eax, ecx
mov     ecx, esi
or      ecx, 20h
mov     [ebp+arg_8], eax
push    ecx
push    0ffffffffh
push    0ff000000h
push    edi
push    edi
push    eax
mov     eax, [ebp+lp]
push    ebx
push    dword ptr [eax+38h]
push    [ebp+arg_14]
push    [ebp+arg_10]
call    sub_27814e07
mov     eax, [ebp+lp]
cmp     [eax+3ch], edi
jz      short loc_27814fb1
call    sub_27813034
cmp     eax, 8
jle     short loc_27814fb1
or      esi, 10h
mov     eax, [ebp+lp]
push    esi
push    0ffffffffh
push    0ffffffffh
push    edi
push    edi
push    [ebp+arg_8]
push    ebx
push    dword ptr [eax+3ch]
push    [ebp+arg_14]
push    [ebp+arg_10]
call    sub_27814e07
movzx   eax, [ebp+arg_4]
mov     ecx, [ebp+lp]
lea     edx, [eax+1]
push    dword ptr [ecx+24h]
push    edx
push    eax
push    ecx
call    sub_27813a12
pop     ebx
pop     esi
pop     edi
leave
retn    1ch
mov     eax, [ebp+lp]
mov     eax, [eax+3ch]
cmp     eax, edi
jz      short loc_27814f95
or      esi, 14h
push    esi
push    0ffffffffh
push    0ffffffffh
push    edi
push    edi
push    [ebp+arg_8]
push    ebx
push    eax
jmp     short loc_27814f8a
push    ebx
push    esi
mov     esi, [esp+8+lp]
push    edi
push    esi
call    sub_27812f3f
test    eax, eax
jz      loc_278150a9
push    0
call    ds:getdc
mov     edi, ds:getdevicecaps
mov     ebx, eax
mov     eax, [esi+10h]
cmp     eax, dword_2782c024
jnz     short loc_27815014
mov     eax, [esi+14h]
cmp     eax, cy
jnz     short loc_27815014
push    0ch
push    ebx
call    edi
cmp     eax, dword_2782c018
jz      short loc_27815089
call    sub_278150ad
push    0ch
push    ebx
call    edi
mov     dword_2782c018, eax
mov     eax, [esi+10h]
mov     dword_2782c024, eax
mov     esi, [esi+14h]
push    esi
push    eax
mov     cy, esi
call    sub_278132f1
mov     dword_2782c020, eax
mov     eax, cy
lea     eax, [eax+eax-1]
push    eax
mov     eax, dword_2782c024
lea     eax, [eax+eax-1]
push    eax
call    sub_278132f1
mov     ecx, dword_2782c020
mov     dword_2782c01c, eax
test    ecx, ecx
jz      short loc_2781509b
test    eax, eax
jz      short loc_2781509b
push    dword_27828334
push    ecx
call    nullsub_3
push    dword_27828334
push    dword_2782c01c
call    nullsub_3
push    ebx
push    0
call    ds:releasedc
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    4
call    sub_278150ad
push    ebx
push    0
call    ds:releasedc
xor     eax, eax
jmp     short loc_27815095
mov     eax, dword_2782c020
test    eax, eax
jz      short loc_278150c3
push    eax
call    sub_278136ab
and     dword_2782c020, 0
mov     eax, dword_2782c01c
test    eax, eax
jz      short loc_278150d9
push    eax
call    sub_278136ab
and     dword_2782c01c, 0
or      dword_2782c024, 0ffffffffh
or      cy, 0ffffffffh
retn
push    ebp
mov     ebp, esp
sub     esp, 3ch
push    ebx
push    esi
push    edi
call    sub_277b2326
xor     ebx, ebx
cmp     dword_2782c058, ebx
jz      loc_27815190
mov     edx, dword_2782c040
mov     esi, dword_2782c024
mov     ecx, dword_2782c044
mov     eax, edx
sub     eax, dword_2782c048
sub     ecx, dword_2782c04c
lea     edi, [ebp+rc]
mov     [ebp+rcsrc1.left], eax
add     eax, esi
mov     [ebp+rcsrc1.right], eax
mov     eax, cy
mov     [ebp+rcsrc1.top], ecx
add     ecx, eax
lea     esi, [ebp+rcsrc1]
mov     [ebp+rcsrc1.bottom], ecx
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_4]
mov     edi, [ebp+arg_0]
mov     eax, esi
sub     eax, dword_2782c044
push    eax
mov     eax, edi
sub     eax, edx
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jnz     short loc_2781519f
push    ebx
call    sub_27815444
push    1
mov     dword_2782c040, edi
mov     dword_2782c044, esi
call    sub_27815444
call    sub_277b2347
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:unionrect
push    403h
push    ebx
push    dword_2782c060
call    ds:getdcex
mov     esi, [ebp+rcdst.right]
push    dword_2782c01c
sub     esi, [ebp+rcdst.left]
mov     [ebp+hdcsrc], eax
mov     eax, [ebp+rcdst.bottom]
sub     eax, [ebp+rcdst.top]
mov     [ebp+var_c], esi
mov     [ebp+cy], eax
call    sub_2781352d
mov     edi, 0cc0020h
push    edi
push    [ebp+rcdst.top]
push    [ebp+rcdst.left]
push    [ebp+hdcsrc]
push    [ebp+cy]
push    esi
mov     esi, ds:bitblt
push    ebx
push    ebx
push    hdc
call    esi
push    dword_2782c020
call    sub_2781356f
push    edi
mov     eax, [ebp+rcsrc1.top]
push    ebx
push    ebx
push    hdcsrc
sub     eax, [ebp+rcdst.top]
push    cy
push    dword_2782c024
push    eax
mov     eax, [ebp+rcsrc1.left]
sub     eax, [ebp+rcdst.left]
push    eax
push    hdc
call    esi
mov     eax, [ebp+rc.top]
push    edi
sub     eax, [ebp+rcdst.top]
push    eax
mov     eax, [ebp+rc.left]
sub     eax, [ebp+rcdst.left]
push    eax
push    hdc
push    cy
push    dword_2782c024
push    ebx
push    ebx
push    hdcsrc
call    esi
cmp     dword_2782c05c, ebx
jz      loc_2781530b
mov     eax, [ebp+rc.top]
push    4
sub     eax, [ebp+rcdst.top]
push    0ffffffffh
push    0ffffffffh
push    ebx
push    ebx
push    eax
mov     eax, [ebp+rc.left]
sub     eax, [ebp+rcdst.left]
push    eax
push    hdc
push    ebx
push    hmem
call    sub_27814e07
mov     eax, [ebp+rc.top]
push    ebx
sub     eax, [ebp+rcdst.top]
add     eax, dword_2782c054
push    eax
mov     eax, [ebp+rc.left]
sub     eax, [ebp+rcdst.left]
add     eax, dword_2782c050
push    eax
push    hdc
push    dword_2782c03c
push    dword_2782c034
call    sub_27814e65
push    edi
push    ebx
push    ebx
push    hdc
push    [ebp+cy]
push    [ebp+var_c]
push    [ebp+rcdst.top]
push    [ebp+rcdst.left]
push    [ebp+hdcsrc]
call    esi
push    [ebp+hdcsrc]
push    dword_2782c060
call    ds:releasedc
mov     eax, [ebp+arg_0]
mov     dword_2782c040, eax
mov     eax, [ebp+arg_4]
mov     dword_2782c044, eax
jmp     loc_27815190
mov     eax, [ebp+rc.top]
push    ebx
sub     eax, [ebp+rcdst.top]
push    eax
mov     eax, [ebp+rc.left]
sub     eax, [ebp+rcdst.left]
push    eax
push    hdc
push    ebx
push    hmem
jmp     short loc_278152c8
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
xor     esi, esi
push    [ebp+lp]
call    sub_27812f3f
test    eax, eax
jz      short loc_2781534f
lea     eax, [ebp+arg_4]
push    esi
push    eax
lea     eax, [ebp+lp]
push    eax
call    sub_27812f6b
test    eax, eax
jz      short loc_27815358
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
call    sub_277b2326
cmp     hmem, esi
jnz     loc_278153ea
mov     dword_2782c058, esi
mov     dword_2782c060, esi
call    sub_27813034
mov     ecx, [ebp+lp]
xor     edx, edx
cmp     eax, 8
setnle  dl
mov     dword_2782c05c, edx
mov     eax, [ecx+1ch]
or      ah, 1
cmp     edx, esi
jz      short loc_27815399
and     al, 11h
or      al, 10h
push    esi
push    1
push    eax
push    dword ptr [ecx+14h]
push    dword ptr [ecx+10h]
call    sub_2781371d
cmp     eax, esi
mov     lp, eax
jz      short loc_278153ea
inc     dword ptr [eax+4]
push    [ebp+arg_4]
mov     edi, [ebp+arg_8]
mov     ebx, [ebp+arg_c]
push    [ebp+lp]
mov     dword_2782c048, edi
mov     dword_2782c04c, ebx
push    esi
push    esi
push    esi
push    lp
call    sub_278156e9
push    ebx
push    edi
push    esi
push    lp
call    sub_2781561c
mov     esi, eax
call    sub_277b2347
mov     eax, esi
jmp     loc_27815351
push    esi
mov     esi, [esp+4+arg_0]
push    edi
xor     edi, edi
cmp     esi, edi
jnz     short loc_2781540a
call    ds:getdesktopwindow
mov     esi, eax
call    sub_277b2326
cmp     dword_2782c060, edi
jnz     short loc_27815438
mov     eax, [esp+8+arg_4]
push    1
mov     dword_2782c040, eax
mov     eax, [esp+0ch+arg_8]
pop     edi
mov     dword_2782c060, esi
push    edi
mov     dword_2782c044, eax
call    sub_27815444
call    sub_277b2347
mov     eax, edi
pop     edi
pop     esi
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
push    ebx
mov     ebx, dword_2782c044
sub     ebx, dword_2782c04c
push    esi
push    edi
mov     edi, dword_2782c040
sub     edi, dword_2782c048
xor     esi, esi
cmp     hmem, esi
jnz     short loc_27815476
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
call    sub_277b2326
cmp     [ebp+arg_0], esi
mov     eax, dword_2782c058
jz      loc_2781554e
cmp     eax, esi
jnz     loc_2781554e
push    403h
push    esi
push    dword_2782c060
call    ds:getdcex
push    dword_2782c020
mov     [ebp+hdcsrc], eax
call    sub_2781356f
push    0cc0020h
push    ebx
push    edi
push    [ebp+hdcsrc]
push    cy
push    dword_2782c024
push    esi
push    esi
push    hdcsrc
call    ds:bitblt
cmp     dword_2782c05c, esi
jz      short loc_2781553f
push    4
push    0ffffffffh
push    0ffffffffh
push    esi
push    esi
push    ebx
push    edi
push    [ebp+hdcsrc]
push    esi
push    hmem
call    sub_27814e07
mov     eax, dword_2782c054
push    esi
add     ebx, eax
mov     eax, dword_2782c050
add     edi, eax
push    ebx
push    edi
push    [ebp+hdcsrc]
push    dword_2782c03c
push    dword_2782c034
call    sub_27814e65
push    [ebp+hdcsrc]
push    dword_2782c060
call    ds:releasedc
mov     eax, [ebp+arg_0]
mov     dword_2782c058, eax
call    sub_277b2347
push    1
pop     eax
jmp     loc_2781546f
push    esi
push    ebx
push    edi
push    [ebp+hdcsrc]
push    esi
push    hmem
jmp     short loc_27815516
cmp     [ebp+arg_0], esi
jnz     short loc_2781552a
cmp     eax, esi
jz      short loc_2781552a
push    403h
push    esi
push    dword_2782c060
call    ds:getdcex
push    dword_2782c020
mov     [ebp+hdcsrc], eax
call    sub_2781356f
push    0cc0020h
push    esi
push    esi
push    hdcsrc
push    cy
push    dword_2782c024
push    ebx
push    edi
push    [ebp+hdcsrc]
call    ds:bitblt
push    [ebp+hdcsrc]
jmp     loc_2781551e
mov     eax, lp
push    esi
test    eax, eax
jz      short loc_278155fb
mov     ecx, dword_2782c034
test    ecx, ecx
jz      short loc_27815602
push    [esp+4+ytop]
push    [esp+8+xleft]
push    dword_2782c03c
push    ecx
push    0
push    eax
call    sub_278157e5
mov     esi, eax
test    esi, esi
jz      short loc_27815618
push    esi
call    sub_27814fcc
test    eax, eax
jz      short loc_27815618
mov     eax, hmem
test    eax, eax
jz      short loc_278155f5
cmp     eax, lp
jz      short loc_278155f5
push    eax
call    sub_27813889
mov     hmem, esi
push    1
pop     eax
pop     esi
retn    8
push    eax
call    sub_27814fcc
test    eax, eax
jz      short loc_27815618
mov     eax, lp
mov     hmem, eax
jmp     short loc_278155fb
xor     eax, eax
jmp     short loc_278155fe
push    ebp
mov     ebp, esp
push    esi
mov     esi, dword_2782c058
push    edi
push    [ebp+lp]
call    sub_27812f3f
test    eax, eax
jz      short loc_27815646
lea     eax, [ebp+arg_4]
push    0
push    eax
lea     eax, [ebp+lp]
push    eax
call    sub_27812f6b
test    eax, eax
jz      short loc_2781564e
xor     eax, eax
pop     edi
pop     esi
pop     ebp
retn    10h
call    sub_277b2326
test    esi, esi
jz      short loc_2781565e
push    0
call    sub_27815444
push    [ebp+arg_c]
push    [ebp+arg_8]
call    sub_278155a3
test    esi, esi
mov     edi, eax
jz      short loc_27815676
push    1
call    sub_27815444
call    sub_277b2347
mov     eax, edi
jmp     short loc_27815648
push    esi
mov     esi, hmem
call    sub_277b2326
push    esi
call    sub_27812f3f
test    eax, eax
jz      short loc_278156e2
xor     esi, esi
push    esi
call    sub_27815444
mov     eax, hmem
cmp     eax, esi
jz      short loc_278156b4
cmp     eax, lp
jz      short loc_278156b4
push    eax
call    sub_27813889
mov     eax, lp
cmp     eax, esi
jz      short loc_278156c9
push    eax
call    sub_27813889
mov     lp, esi
or      dword_2782c03c, 0ffffffffh
mov     dword_2782c034, esi
mov     hmem, esi
mov     dword_2782c060, esi
call    sub_277b2347
pop     esi
retn
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
mov     esi, [ebp+arg_10]
lea     eax, [ebp+x1]
push    edi
push    eax
push    [ebp+arg_14]
push    esi
call    sub_27815949
lea     eax, [ebp+rc]
push    eax
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_27815949
mov     eax, [esi+3ch]
mov     edi, ds:bitblt
test    eax, eax
mov     ebx, 0cc0020h
jz      short loc_27815750
mov     ecx, [ebp+arg_0]
mov     ecx, [ecx+3ch]
test    ecx, ecx
jz      short loc_27815750
push    ebx
mov     edx, [ebp+arg_c]
push    [ebp+y1]
push    [ebp+x1]
push    eax
mov     eax, [ebp+rc.top]
push    dword ptr [esi+14h]
add     eax, edx
mov     edx, [ebp+arg_8]
push    dword ptr [esi+10h]
push    eax
mov     eax, [ebp+rc.left]
add     eax, edx
push    eax
push    ecx
call    edi
push    ebx
mov     eax, [ebp+rc.top]
push    [ebp+y1]
mov     ecx, [ebp+arg_c]
add     eax, ecx
mov     ecx, [ebp+arg_8]
push    [ebp+x1]
push    dword ptr [esi+38h]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    eax
mov     eax, [ebp+rc.left]
add     eax, ecx
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax+38h]
call    edi
pop     edi
pop     esi
pop     ebx
leave
retn    18h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     edi, [ebp+arg_0]
cmp     dword ptr [edi+3ch], 0
jz      short loc_278157cb
cmp     dword ptr [esi+3ch], 0
jz      short loc_278157cb
lea     eax, [ebp+x1]
push    eax
push    [ebp+arg_8]
push    esi
call    sub_27815949
push    8800c6h
push    [ebp+y1]
push    [ebp+x1]
push    dword ptr [esi+3ch]
push    dword ptr [esi+14h]
push    dword ptr [esi+10h]
push    [ebp+y]
push    [ebp+x]
push    dword ptr [edi+3ch]
call    ds:bitblt
push    1
push    [ebp+y]
push    [ebp+x]
push    dword ptr [edi+38h]
push    [ebp+arg_8]
push    esi
call    sub_27814e65
pop     edi
pop     esi
leave
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
push    esi
push    edi
push    [ebp+lp]
call    sub_27812f3f
test    eax, eax
jz      loc_27815945
push    [ebp+arg_8]
call    sub_27812f3f
test    eax, eax
jz      loc_27815945
lea     eax, [ebp+arg_4]
push    1
push    eax
lea     eax, [ebp+lp]
push    eax
call    sub_27812f6b
test    eax, eax
jnz     loc_27815945
xor     esi, esi
lea     eax, [ebp+arg_c]
push    esi
push    eax
lea     eax, [ebp+arg_8]
push    eax
call    sub_27812f6b
test    eax, eax
jnz     loc_27815945
call    sub_277b2326
mov     eax, [ebp+lp]
push    dword ptr [eax+14h]
push    dword ptr [eax+10h]
lea     eax, [ebp+rc]
push    esi
push    esi
mov     esi, ds:setrect
push    eax
call    esi
mov     eax, [ebp+arg_8]
mov     ecx, [eax+14h]
mov     eax, [eax+10h]
add     ecx, [ebp+ytop]
add     eax, [ebp+xleft]
push    ecx
push    eax
push    [ebp+ytop]
lea     eax, [ebp+rcsrc2]
push    [ebp+xleft]
push    eax
call    esi
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:unionrect
mov     eax, [ebp+lp]
mov     esi, [ebp+rcdst.right]
mov     edi, [ebp+rcdst.bottom]
sub     esi, [ebp+rcdst.left]
mov     ecx, [eax+1ch]
mov     eax, [ebp+arg_8]
sub     edi, [ebp+rcdst.top]
mov     ebx, 0feh
mov     edx, [eax+1ch]
mov     eax, edx
and     edx, ebx
or      eax, ecx
and     ecx, ebx
and     al, 1
cmp     ecx, 10h
jnz     short loc_278158ba
cmp     edx, ebx
jnz     short loc_278158ba
push    ecx
pop     edx
cmp     ecx, edx
jg      short loc_278158c0
mov     ecx, edx
or      eax, ecx
push    0
or      al, 1
push    1
push    eax
push    edi
push    esi
call    sub_2781371d
mov     ebx, eax
test    ebx, ebx
jz      short loc_27815937
mov     eax, [ebx+3ch]
inc     dword ptr [ebx+4]
test    eax, eax
jz      short loc_278158f2
push    0ff0062h
push    edi
push    esi
push    0
push    0
push    eax
call    ds:patblt
push    42h
push    edi
push    esi
push    0
push    0
push    dword ptr [ebx+38h]
call    ds:patblt
mov     eax, [ebp+rc.top]
sub     eax, [ebp+rcdst.top]
push    eax
mov     eax, [ebp+rc.left]
sub     eax, [ebp+rcdst.left]
push    eax
push    [ebp+arg_4]
push    [ebp+lp]
push    ebx
call    sub_27815781
mov     eax, [ebp+rcsrc2.top]
sub     eax, [ebp+rcdst.top]
push    eax
mov     eax, [ebp+rcsrc2.left]
sub     eax, [ebp+rcdst.left]
push    eax
push    [ebp+arg_c]
push    [ebp+arg_8]
push    ebx
call    sub_27815781
call    sub_277b2347
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
leave
retn    18h
xor     eax, eax
jmp     short loc_2781593e
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    esi, esi
jz      short loc_2781599f
cmp     [ebp+lprc], 0
jz      short loc_2781599f
mov     eax, [ebp+arg_4]
test    eax, eax
jl      short loc_2781599f
cmp     eax, [esi+4]
jge     short loc_2781599f
mov     ebx, [esi+18h]
mov     edi, [esi+10h]
cdq
idiv    ebx
mov     eax, [ebp+arg_4]
mov     esi, [esi+14h]
mov     ecx, edx
cdq
imul    ecx, edi
idiv    ebx
imul    eax, esi
lea     edx, [eax+esi]
push    edx
lea     edx, [ecx+edi]
push    edx
push    eax
push    ecx
push    [ebp+lprc]
call    ds:setrect
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
xor     eax, eax
jmp     short loc_27815998
push    esi
mov     esi, [esp+4+arg_0]
push    [esp+4+lprc]
inc     dword ptr [esi+4]
mov     eax, [esi+4]
dec     eax
push    eax
push    esi
call    sub_27815949
dec     dword ptr [esi+4]
pop     esi
retn    8
push    14h
call    sub_27811c9a
test    eax, eax
jz      short locret_278159e1
mov     ecx, [esp+arg_0]
mov     [eax+0ch], ecx
mov     ecx, [esp+arg_4]
test    ecx, ecx
jnz     short loc_278159de
push    1
pop     ecx
mov     [eax+10h], ecx
retn    8
push    esi
mov     esi, [esp+4+lpmem]
test    esi, esi
jnz     short loc_278159f4
push    1
pop     eax
pop     esi
retn    4
mov     eax, [esi+4]
test    eax, eax
jz      short loc_27815a05
push    eax
call    sub_27811d13
test    eax, eax
jz      short loc_278159f0
push    esi
call    sub_27811d13
jmp     short loc_278159f0
push    esi
mov     esi, [esp+4+arg_0]
push    edi
xor     edi, edi
cmp     esi, edi
jz      short loc_27815a36
cmp     [esi], edi
jle     short loc_27815a36
push    [esp+8+arg_8]
push    edi
push    esi
call    sub_27815a87
push    eax
call    [esp+10h+arg_4]
test    eax, eax
jz      short loc_27815a36
inc     edi
cmp     edi, [esi]
jl      short loc_27815a1d
pop     edi
pop     esi
retn    0ch
push    [esp+arg_8]
push    [esp+4+arg_4]
push    [esp+8+lpmem]
call    sub_27815a0d
push    [esp+lpmem]
call    sub_278159e4
retn    0ch
mov     eax, [esp+arg_4]
test    eax, eax
jl      short loc_27815a83
mov     ecx, [esp+arg_0]
cmp     eax, [ecx]
jge     short loc_27815a83
mov     edx, [ecx+0ch]
imul    eax, edx
add     eax, [ecx+4]
push    edx
push    eax
push    [esp+8+arg_8]
call    ds:rtlmovememory
push    1
pop     eax
retn    0ch
xor     eax, eax
jmp     short locret_27815a80
mov     edx, [esp+arg_4]
test    edx, edx
jl      short loc_27815aa3
mov     ecx, [esp+arg_0]
cmp     edx, [ecx]
jge     short loc_27815aa3
mov     eax, [ecx+0ch]
imul    eax, edx
add     eax, [ecx+4]
retn    8
xor     eax, eax
jmp     short locret_27815aa0
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_4]
test    edi, edi
jl      short loc_27815ae3
mov     esi, [esp+0ch+arg_0]
cmp     edi, [esi]
jl      short loc_27815af6
lea     eax, [edi+1]
cmp     eax, [esi+8]
jle     short loc_27815af1
mov     ecx, [esi+10h]
lea     eax, [edi+ecx]
cdq
idiv    ecx
mov     ebx, eax
mov     eax, [esi+0ch]
imul    ebx, ecx
imul    eax, ebx
push    eax
push    dword ptr [esi+4]
call    sub_27811cec
test    eax, eax
jnz     short loc_27815aeb
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     [esi+4], eax
mov     [esi+8], ebx
lea     eax, [edi+1]
mov     [esi], eax
mov     eax, [esi+0ch]
imul    edi, eax
add     edi, [esi+4]
push    eax
push    [esp+10h+arg_8]
push    edi
call    ds:rtlmovememory
push    1
pop     eax
jmp     short loc_27815ae5
push    ebx
mov     ebx, [esp+4+arg_4]
push    esi
push    edi
test    ebx, ebx
jl      short loc_27815b45
mov     esi, [esp+0ch+arg_0]
mov     eax, [esi]
cmp     ebx, eax
jle     short loc_27815b27
mov     ebx, eax
mov     ecx, [esi+8]
inc     eax
cmp     eax, ecx
jle     short loc_27815b57
mov     eax, [esi+10h]
add     eax, ecx
imul    eax, [esi+0ch]
push    eax
push    dword ptr [esi+4]
call    sub_27811cec
test    eax, eax
jnz     short loc_27815b4e
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     [esi+4], eax
mov     eax, [esi+10h]
add     [esi+8], eax
mov     eax, [esi]
mov     edi, ds:rtlmovememory
cmp     ebx, eax
jge     short loc_27815b82
mov     ecx, [esi+0ch]
sub     eax, ebx
imul    eax, ecx
push    eax
mov     eax, ebx
imul    eax, ecx
mov     edx, [esi+4]
add     eax, edx
push    eax
lea     eax, [ebx+1]
imul    eax, ecx
add     eax, edx
push    eax
call    edi
mov     eax, [esi+0ch]
mov     ecx, ebx
imul    ecx, eax
add     ecx, [esi+4]
inc     dword ptr [esi]
push    eax
push    [esp+10h+arg_8]
push    ecx
call    edi
mov     eax, ebx
jmp     short loc_27815b48
mov     ecx, [esp+arg_4]
push    esi
test    ecx, ecx
push    edi
jl      short loc_27815c0a
mov     esi, [esp+8+arg_0]
mov     eax, [esi]
cmp     ecx, eax
jge     short loc_27815c0a
lea     edx, [eax-1]
cmp     ecx, edx
jge     short loc_27815bd8
mov     edx, [esi+0ch]
sub     eax, ecx
dec     eax
mov     edi, [esi+4]
imul    eax, edx
push    eax
lea     eax, [ecx+1]
imul    eax, edx
imul    ecx, edx
add     eax, edi
add     ecx, edi
push    eax
push    ecx
call    ds:rtlmovememory
mov     eax, [esi+8]
dec     dword ptr [esi]
mov     edx, [esi]
mov     ecx, [esi+10h]
mov     edi, eax
sub     edi, edx
cmp     edi, ecx
jle     short loc_27815c02
sub     eax, ecx
imul    eax, [esi+0ch]
push    eax
push    dword ptr [esi+4]
call    sub_27811cec
mov     [esi+4], eax
mov     eax, [esi+10h]
sub     [esi+8], eax
push    1
pop     eax
pop     edi
pop     esi
retn    8
xor     eax, eax
jmp     short loc_27815c05
push    0
push    [esp+4+arg_0]
call    sub_27815c1c
retn    4
push    esi
mov     esi, [esp+4+hheap]
test    esi, esi
push    14h
jnz     short loc_27815c4c
call    sub_27811c9a
mov     esi, dword_278288c4
test    eax, eax
jz      short loc_27815c48
mov     ecx, [esp+4+arg_0]
cmp     ecx, 8
jge     short loc_27815c42
push    8
pop     ecx
mov     [eax+10h], ecx
mov     [eax+8], esi
pop     esi
retn    8
push    8
push    esi
call    ds:heapalloc
jmp     short loc_27815c32
push    esi
mov     esi, [esp+4+lpmem]
test    esi, esi
push    edi
jnz     short loc_27815c69
push    1
pop     eax
pop     edi
pop     esi
retn    4
mov     eax, [esi+4]
mov     edi, ds:heapfree
test    eax, eax
jz      short loc_27815c82
push    eax
push    0
push    dword ptr [esi+8]
call    edi
test    eax, eax
jz      short loc_27815c64
push    esi
push    0
push    dword ptr [esi+8]
call    edi
jmp     short loc_27815c64
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     edi, [esp+0ch+lpmem]
xor     ebx, ebx
test    edi, edi
jnz     short loc_27815cb1
push    dword ptr [esi+8]
push    dword ptr [esi+10h]
call    sub_27815c1c
mov     edi, eax
test    edi, edi
jz      short loc_27815cc8
push    1
pop     ebx
push    dword ptr [esi+0ch]
push    edi
call    sub_27815d41
test    eax, eax
jnz     short loc_27815cd0
test    ebx, ebx
jnz     short loc_27815cc8
push    edi
call    sub_27815c57
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     eax, [esi]
mov     [edi], eax
mov     eax, [esi]
shl     eax, 2
push    eax
push    dword ptr [esi+4]
push    dword ptr [edi+4]
call    ds:rtlmovememory
mov     eax, edi
jmp     short loc_27815cca
mov     ecx, [esp+arg_0]
test    ecx, ecx
jz      short loc_27815d07
mov     eax, [esp+arg_4]
test    eax, eax
jl      short loc_27815d07
cmp     eax, [ecx]
jge     short loc_27815d07
mov     ecx, [ecx+4]
mov     eax, [ecx+eax*4]
retn    8
xor     eax, eax
jmp     short locret_27815d04
mov     ecx, [esp+arg_0]
push    esi
test    ecx, ecx
jz      short loc_27815d3c
mov     edx, [ecx+4]
test    edx, edx
jz      short loc_27815d3c
mov     ecx, [ecx]
mov     eax, edx
lea     ecx, [eax+ecx*4]
cmp     eax, ecx
jnb     short loc_27815d3c
mov     esi, [eax]
cmp     esi, [esp+4+arg_4]
jz      short loc_27815d33
add     eax, 4
jmp     short loc_27815d22
sub     eax, edx
sar     eax, 2
pop     esi
retn    8
or      eax, 0ffffffffh
jmp     short loc_27815d38
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
push    edi
jz      short loc_27815d80
mov     eax, [esp+8+arg_4]
cmp     eax, [esi+0ch]
jle     short loc_27815daf
mov     ecx, [esi+10h]
lea     eax, [eax+ecx-1]
cdq
idiv    ecx
mov     edi, eax
mov     eax, [esi+4]
imul    edi, ecx
test    eax, eax
jz      short loc_27815d87
mov     ecx, edi
shl     ecx, 2
push    ecx
push    eax
push    8
push    dword ptr [esi+8]
call    ds:heaprealloc
test    eax, eax
jnz     short loc_27815d9a
xor     eax, eax
pop     edi
pop     esi
retn    8
mov     eax, edi
shl     eax, 2
push    eax
push    8
push    dword ptr [esi+8]
call    ds:heapalloc
jmp     short loc_27815d7c
mov     [esi+4], eax
mov     eax, [esi+10h]
cmp     eax, 100h
mov     [esi+0ch], edi
jge     short loc_27815daf
add     eax, eax
mov     [esi+10h], eax
push    1
pop     eax
jmp     short loc_27815d82
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
test    edi, edi
jz      short loc_27815dd9
mov     esi, [esp+0ch+arg_4]
test    esi, esi
jl      short loc_27815dd9
cmp     esi, [edi]
jl      short loc_27815de3
lea     ebx, [esi+1]
push    ebx
push    edi
call    sub_27815d41
test    eax, eax
jnz     short loc_27815de1
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    0ch
mov     [edi], ebx
mov     eax, [edi+4]
mov     ecx, [esp+0ch+arg_8]
push    1
mov     [eax+esi*4], ecx
pop     eax
jmp     short loc_27815ddb
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
push    edi
jz      short loc_27815e1d
mov     edi, [esp+8+arg_4]
test    edi, edi
jl      short loc_27815e1d
mov     eax, [esi]
cmp     edi, eax
jle     short loc_27815e0c
mov     edi, eax
inc     eax
cmp     eax, [esi+0ch]
jle     short loc_27815e25
push    eax
push    esi
call    sub_27815d41
test    eax, eax
jnz     short loc_27815e25
or      eax, 0ffffffffh
pop     edi
pop     esi
retn    0ch
mov     ecx, [esi]
cmp     edi, ecx
jge     short loc_27815e4b
mov     edx, edi
mov     eax, [esi+4]
imul    edx, 3fffffffh
add     edx, ecx
lea     ecx, [eax+edi*4]
shl     edx, 2
push    edx
lea     eax, [eax+edi*4+4]
push    ecx
push    eax
call    ds:rtlmovememory
mov     eax, [esi+4]
mov     ecx, [esp+8+arg_8]
mov     [eax+edi*4], ecx
inc     dword ptr [esi]
mov     eax, edi
jmp     short loc_27815e20
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    esi, esi
jz      short loc_27815ee1
mov     ecx, [ebp+arg_4]
test    ecx, ecx
jl      short loc_27815ee1
mov     edi, [esi]
cmp     ecx, edi
jge     short loc_27815ee1
mov     eax, [esi+4]
mov     ebx, [eax+ecx*4]
lea     edx, [eax+ecx*4]
mov     [ebp+arg_0], ebx
lea     ebx, [edi-1]
cmp     ecx, ebx
jge     short loc_27815ea2
inc     ecx
mov     ebx, ecx
imul    ebx, 3fffffffh
add     ebx, edi
lea     eax, [eax+ecx*4]
shl     ebx, 2
push    ebx
push    eax
push    edx
call    ds:rtlmovememory
mov     ecx, [esi+0ch]
dec     dword ptr [esi]
mov     edx, [esi]
mov     eax, [esi+10h]
mov     edi, ecx
sub     edi, edx
cmp     edi, eax
jle     short loc_27815ed7
imul    eax, 3fffffffh
add     eax, ecx
shl     eax, 2
push    eax
push    dword ptr [esi+4]
push    8
push    dword ptr [esi+8]
call    ds:heaprealloc
mov     [esi+4], eax
mov     eax, [esi+10h]
sub     [esi+0ch], eax
mov     eax, [ebp+arg_0]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
xor     eax, eax
jmp     short loc_27815eda
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
jz      short loc_27815f05
mov     eax, [esi+4]
test    eax, eax
jz      short loc_27815f0b
push    eax
push    0
push    dword ptr [esi+8]
call    ds:heapfree
test    eax, eax
jnz     short loc_27815f0b
xor     eax, eax
pop     esi
retn    4
and     dword ptr [esi+4], 0
and     dword ptr [esi+0ch], 0
and     dword ptr [esi], 0
push    1
pop     eax
jmp     short loc_27815f07
push    esi
mov     esi, [esp+4+arg_0]
push    edi
xor     edi, edi
cmp     esi, edi
jz      short loc_27815f42
cmp     [esi], edi
jle     short loc_27815f42
push    [esp+8+arg_8]
mov     eax, [esi+4]
push    dword ptr [eax+edi*4]
call    [esp+10h+arg_4]
test    eax, eax
jz      short loc_27815f42
inc     edi
cmp     edi, [esi]
jl      short loc_27815f2b
pop     edi
pop     esi
retn    0ch
push    [esp+arg_8]
push    [esp+4+arg_4]
push    [esp+8+lpmem]
call    sub_27815f1b
push    [esp+lpmem]
call    sub_27815c57
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 14h
mov     eax, [ebp+arg_0]
mov     ecx, [eax]
mov     eax, [eax+4]
mov     [ebp+var_14], eax
mov     eax, [ebp+arg_4]
mov     [ebp+var_10], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_c], eax
lea     eax, [ebp+var_14]
push    eax
mov     [ebp+var_8], ecx
call    sub_278160e6
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 0ch
mov     eax, [ebp+arg_8]
mov     ecx, [ebp+arg_4]
cdq
push    ebx
push    esi
mov     esi, [ebp+arg_0]
sub     eax, edx
push    edi
mov     edi, eax
mov     eax, [esi]
sar     edi, 1
lea     ebx, [eax+ecx*4]
mov     eax, edi
shl     eax, 2
push    eax
push    ebx
push    dword ptr [esi+10h]
mov     [ebp+var_8], eax
call    ds:rtlmovememory
mov     eax, [ebp+var_8]
and     [ebp+arg_4], 0
and     [ebp+var_4], 0
add     eax, ebx
mov     [ebp+var_c], edi
mov     [ebp+arg_0], ebx
mov     [ebp+var_8], eax
push    dword ptr [esi+8]
mov     eax, [ebp+var_8]
mov     ecx, [ebp+arg_4]
push    dword ptr [eax]
mov     eax, [esi+10h]
push    dword ptr [eax+ecx*4]
call    dword ptr [esi+4]
test    eax, eax
jg      short loc_27816014
mov     eax, [esi+10h]
mov     ecx, [ebp+arg_4]
inc     [ebp+var_4]
mov     eax, [eax+ecx*4]
mov     ecx, [ebp+arg_0]
add     [ebp+arg_0], 4
inc     [ebp+arg_4]
cmp     [ebp+arg_4], edi
mov     [ecx], eax
jnz     short loc_27815fd8
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [ebp+var_8]
mov     ecx, [ebp+arg_0]
inc     [ebp+var_4]
add     [ebp+arg_0], 4
mov     eax, [eax]
inc     [ebp+var_c]
add     [ebp+var_8], 4
mov     [ecx], eax
mov     eax, [ebp+var_c]
cmp     eax, [ebp+arg_8]
jnz     short loc_27815fd8
mov     eax, [ebp+var_4]
mov     edx, [ebp+arg_4]
mov     ecx, eax
imul    ecx, 3fffffffh
add     ecx, [ebp+arg_8]
lea     eax, [ebx+eax*4]
shl     ecx, 2
push    ecx
mov     ecx, [esi+10h]
lea     ecx, [ecx+edx*4]
push    ecx
push    eax
call    ds:rtlmovememory
jmp     short loc_2781600d
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_8]
mov     eax, ebx
push    esi
dec     eax
push    edi
jz      short loc_2781609d
dec     eax
jz      short loc_278160a4
mov     eax, ebx
mov     edi, [ebp+arg_4]
cdq
sub     eax, edx
mov     esi, eax
sar     esi, 1
push    esi
push    edi
push    [ebp+arg_0]
call    sub_2781605c
mov     eax, ebx
sub     eax, esi
add     esi, edi
push    eax
push    esi
push    [ebp+arg_0]
call    sub_2781605c
push    ebx
push    edi
push    [ebp+arg_0]
call    sub_27815f91
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     ecx, [ebp+arg_4]
mov     esi, [ebp+arg_0]
mov     ebx, ecx
mov     eax, [esi]
push    dword ptr [esi+8]
lea     edi, ds:4[ecx*4]
shl     ebx, 2
push    dword ptr [eax+edi]
push    dword ptr [ebx+eax]
call    dword ptr [esi+4]
test    eax, eax
jle     short loc_2781609d
mov     eax, [esi]
mov     ecx, [esi+10h]
mov     eax, [eax+ebx]
mov     [ecx], eax
mov     eax, [esi]
mov     ecx, [eax+edi]
mov     [ebx+eax], ecx
mov     eax, [esi+10h]
mov     ecx, [esi]
mov     eax, [eax]
mov     [ecx+edi], eax
jmp     short loc_2781609d
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+0ch]
test    eax, eax
jz      short loc_2781611e
cdq
sub     eax, edx
sar     eax, 1
shl     eax, 2
push    eax
push    40h
call    ds:localalloc
test    eax, eax
mov     [esi+10h], eax
jz      short loc_27816121
push    dword ptr [esi+0ch]
push    0
push    esi
call    sub_2781605c
push    dword ptr [esi+10h]
call    ds:localfree
push    1
pop     eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+lpstring]
push    esi
xor     esi, esi
cmp     [ebp+arg_4], esi
push    edi
jnz     short loc_27816147
cmp     ebx, esi
jz      short loc_27816147
push    ebx
call    ds:lstrlena
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     edi, [ebp+arg_8]
cmp     edi, esi
jz      short loc_27816176
cmp     ebx, esi
jz      short loc_2781616f
push    ebx
call    ds:lstrlena
mov     esi, eax
lea     eax, [edi-1]
cmp     esi, eax
jle     short loc_27816164
mov     esi, eax
push    esi
push    ebx
push    [ebp+arg_4]
call    ds:rtlmovememory
mov     eax, [ebp+arg_4]
and     byte ptr [esi+eax], 0
mov     eax, esi
jmp     short loc_27816140
push    ebx
mov     ebx, [esp+4+lpstring]
push    esi
push    edi
test    ebx, ebx
jz      short loc_278161bf
cmp     ebx, 0ffffffffh
jz      short loc_278161bf
mov     edi, [esp+0ch+arg_0]
push    ebx
mov     esi, [edi]
call    ds:lstrlena
inc     eax
cmp     esi, 0ffffffffh
jnz     short loc_2781619f
xor     esi, esi
push    eax
push    esi
call    sub_27811902
mov     esi, eax
test    esi, esi
jz      short loc_278161b9
push    ebx
push    esi
call    ds:lstrcpya
mov     [edi], esi
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     esi, [esp+0ch+arg_0]
mov     eax, [esi]
test    eax, eax
jz      short loc_278161d5
cmp     eax, 0ffffffffh
jz      short loc_278161d5
push    eax
call    ds:localfree
mov     [esi], ebx
jmp     short loc_278161b6
mov     eax, [esp+arg_0]
mov     ecx, [esp+arg_4]
push    esi
mov     dx, [eax]
mov     si, [ecx]
cmp     dx, si
jb      short loc_2781623f
ja      short loc_2781622b
mov     dx, [eax+2]
mov     si, [ecx+2]
cmp     dx, si
jb      short loc_2781623f
ja      short loc_2781622b
mov     dx, [eax+6]
mov     si, [ecx+6]
cmp     dx, si
jb      short loc_2781623f
ja      short loc_2781622b
mov     dx, [eax+8]
mov     si, [ecx+8]
cmp     dx, si
jb      short loc_2781623f
ja      short loc_2781622b
mov     dx, [eax+0ah]
mov     si, [ecx+0ah]
cmp     dx, si
jb      short loc_2781623f
jbe     short loc_27816232
push    1
pop     eax
pop     esi
retn    8
mov     ax, [eax+0ch]
mov     cx, [ecx+0ch]
cmp     cx, ax
jbe     short loc_27816244
or      eax, 0ffffffffh
jmp     short loc_2781622e
sbb     eax, eax
neg     eax
jmp     short loc_2781622e
push    esi
mov     esi, [esp+4+arg_0]
test    esi, esi
jz      short loc_278162a5
mov     ax, [esi+2]
cmp     ax, 1
jb      short loc_278162a5
cmp     ax, 0ch
ja      short loc_278162a5
movzx   eax, ax
push    eax
movzx   eax, word ptr [esi]
push    eax
call    sub_277bd0f4
mov     cx, [esi+6]
cmp     cx, 1
jb      short loc_278162a5
movzx   ecx, cx
cmp     ecx, eax
jg      short loc_278162a5
cmp     word ptr [esi+8], 17h
ja      short loc_278162a5
cmp     word ptr [esi+0ah], 3bh
ja      short loc_278162a5
cmp     word ptr [esi+0ch], 3bh
ja      short loc_278162a5
cmp     word ptr [esi+0eh], 3e8h
jnb     short loc_278162a5
push    1
pop     eax
pop     esi
retn    4
xor     eax, eax
jmp     short loc_278162a1
push    ebp
mov     ebp, esp
push    ecx
push    ebx
mov     ebx, dword ptr [ebp+testchar]
push    ebx
mov     [ebp+testchar], bl
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_278162e9
xor     eax, eax
and     byte ptr [ebp+0ah], 0
mov     al, bh
mov     [ebp+9], al
mov     ax, [ebp+arg_4]
and     [ebp+var_2], 0
mov     word ptr [ebp+string2], ax
lea     eax, [ebp+string2]
push    eax
lea     eax, [ebp+testchar]
push    eax
call    ds:lstrcmpia
pop     ebx
leave
retn    8
and     byte ptr [ebp+9], 0
jmp     short loc_278162ca
push    ebx
push    esi
mov     esi, [esp+8+lpsz]
cmp     byte ptr [esi], 0
jz      short loc_27816337
mov     bx, [esi]
cmp     bl, byte ptr [esp+8+arg_4]
jnz     short loc_2781632b
push    ebx
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_27816327
xor     eax, eax
cmp     bx, [esp+8+arg_4]
setnz   al
test    eax, eax
jz      short loc_27816330
push    esi
call    ds:charnexta
mov     esi, eax
jmp     short loc_278162f5
xor     eax, eax
jmp     short loc_27816318
push    1
pop     eax
jmp     short loc_27816318
mov     eax, esi
pop     esi
pop     ebx
retn    8
xor     eax, eax
jmp     short loc_27816332
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, dword ptr [ebp+sz]
push    ebx
push    esi
push    edi
mov     edi, [ebp+lpsz]
add     eax, edi
cmp     eax, edi
mov     [ebp+var_8], eax
jbe     short loc_278163a0
mov     esi, ds:charnexta
mov     ebx, [ebp+arg_4]
cmp     byte ptr [edi], 0
jnz     short loc_27816365
cmp     byte ptr [ebx], 0
jz      short loc_278163a0
mov     cx, [ebx]
mov     ax, [edi]
cmp     al, cl
mov     [ebp+arg_4], ecx
mov     [ebp+var_4], eax
jnz     short loc_278163ad
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_278163a9
mov     cx, word ptr [ebp+arg_4]
xor     eax, eax
cmp     word ptr [ebp+var_4], cx
setnz   al
test    eax, eax
jnz     short loc_278163b2
push    edi
call    esi
push    ebx
mov     edi, eax
call    esi
cmp     [ebp+var_8], edi
mov     ebx, eax
ja      short loc_2781635b
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     eax, eax
jmp     short loc_2781638d
push    1
pop     eax
jmp     short loc_2781638d
mov     ax, [edi]
mov     word ptr [ebp+sz], ax
mov     ax, [ebx]
mov     word ptr [ebp+lpsz], ax
lea     eax, [ebp+sz]
push    eax
call    esi
and     byte ptr [eax], 0
lea     eax, [ebp+lpsz]
push    eax
call    esi
and     byte ptr [eax], 0
lea     eax, [ebp+lpsz]
push    eax
lea     eax, [ebp+sz]
push    eax
call    ds:lstrcmpa
jmp     short loc_278163a2
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+lpsz]
add     eax, esi
push    edi
cmp     eax, esi
mov     [ebp+lpsz], eax
jbe     short loc_27816437
mov     ebx, ds:charnexta
mov     edi, [ebp+arg_4]
cmp     byte ptr [esi], 0
jnz     short loc_2781640a
cmp     byte ptr [edi], 0
jz      short loc_27816437
mov     al, [edi]
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_27816440
mov     ax, [edi]
push    eax
mov     ax, [esi]
push    eax
call    sub_278162a9
test    eax, eax
jnz     short loc_27816439
push    esi
call    ebx
push    edi
mov     esi, eax
call    ebx
cmp     [ebp+lpsz], esi
mov     edi, eax
ja      short loc_27816400
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
movzx   ax, byte ptr [edi]
jmp     short loc_2781641a
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+cchcount1]
push    esi
mov     esi, [ebp+arg_0]
neg     esi
sbb     esi, esi
push    edi
add     esi, 40000001h
cmp     ebx, 0ffffffffh
jz      short loc_27816487
mov     eax, [ebp+lpstring1]
xor     edx, edx
cmp     [eax], dl
jz      short loc_27816480
mov     ecx, [ebp+lpstring2]
sub     ecx, eax
cmp     byte ptr [eax+ecx], 0
jz      short loc_27816480
cmp     edx, ebx
jge     short loc_27816480
inc     eax
inc     edx
cmp     byte ptr [eax], 0
jnz     short loc_2781646f
inc     edx
cmp     edx, ebx
jge     short loc_27816487
mov     ebx, edx
push    ebx
push    [ebp+lpstring2]
push    ebx
push    [ebp+lpstring1]
push    esi
call    ds:getthreadlocale
mov     edi, ds:comparestringa
push    eax
call    edi
test    eax, eax
jnz     short loc_278164b5
push    ebx
push    [ebp+lpstring2]
push    ebx
push    [ebp+lpstring1]
push    esi
call    ds:getsystemdefaultlcid
push    eax
call    edi
xor     ecx, ecx
push    2
cmp     eax, ecx
pop     esi
jnz     short loc_278164db
cmp     [ebp+lpstring1], ecx
jz      short loc_278164f2
cmp     [ebp+lpstring2], ecx
jz      short loc_278164f2
cmp     [ebp+arg_0], ecx
push    ebx
push    [ebp+lpstring2]
push    [ebp+lpstring1]
jz      short loc_278164eb
call    sub_2781633b
add     eax, esi
xor     ecx, ecx
cmp     eax, esi
setz    cl
pop     edi
pop     esi
mov     eax, ecx
pop     ebx
pop     ebp
retn    10h
call    sub_278163e2
jmp     short loc_278164d9
mov     eax, esi
jmp     short loc_278164db
mov     eax, [esp+arg_4]
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
lea     esi, [eax-1]
test    edi, edi
lea     ebx, [esi+edi]
jz      short loc_27816535
test    eax, eax
jle     short loc_27816535
cmp     ebx, edi
jbe     short loc_27816523
mov     al, [ebx-1]
dec     ebx
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jnz     short loc_2781650f
inc     ebx
lea     eax, [esi+edi]
sub     eax, ebx
test    al, 1
jz      short loc_27816531
test    esi, esi
jle     short loc_27816531
dec     esi
and     byte ptr [esi+edi], 0
pop     edi
pop     esi
pop     ebx
retn    8
push    esi
mov     esi, [esp+4+arg_0]
cmp     dword ptr [esi+9ch], 0ffffffffh
jnz     short loc_27816566
push    dword ptr [esi]
test    byte ptr [esi+0bh], 8
push    [esp+8+wparam]
jz      short loc_2781656a
push    138h
push    dword ptr [esi+4]
call    ds:sendmessagea
mov     [esi+70h], eax
pop     esi
retn    8
push    133h
jmp     short loc_2781655a
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_c]
test    eax, eax
jle     short loc_278165a7
push    esi
lea     esi, [eax+1]
shr     esi, 1
push    0f00021h
push    1
push    1
push    [ebp+y]
push    [ebp+x]
push    [ebp+hdc]
call    ds:patblt
cmp     [ebp+arg_10], 0
jz      short loc_278165ab
add     [ebp+y], 2
dec     esi
jnz     short loc_27816581
pop     esi
pop     ebp
retn    14h
add     [ebp+x], 2
jmp     short loc_278165a3
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_c]
push    ebx
imul    eax, 7
push    esi
push    edi
push    0ah
mov     ebx, [ebp+hdc]
cdq
pop     ecx
idiv    ecx
push    [ebp+h]
push    ebx
mov     esi, eax
mov     [ebp+var_8], esi
lea     eax, [esi+esi+1]
mov     [ebp+w], eax
call    ds:selectobject
cmp     esi, 5
mov     esi, ds:patblt
mov     edi, 0f00021h
jl      short loc_2781662f
mov     eax, [ebp+y]
push    edi
push    3
dec     eax
push    [ebp+w]
push    eax
mov     eax, [ebp+x]
sub     eax, [ebp+var_8]
push    eax
push    ebx
call    esi
cmp     [ebp+arg_1c], 0
jz      short loc_2781661e
mov     eax, [ebp+y]
push    edi
push    [ebp+w]
sub     eax, [ebp+var_8]
push    3
push    eax
mov     eax, [ebp+x]
dec     eax
push    eax
push    ebx
call    esi
push    [ebp+arg_18]
push    ebx
call    ds:selectobject
dec     [ebp+var_8]
sub     [ebp+w], 2
mov     eax, [ebp+x]
push    edi
sub     eax, [ebp+var_8]
push    1
push    [ebp+w]
push    [ebp+y]
push    eax
push    ebx
call    esi
cmp     [ebp+arg_1c], 0
jz      short loc_2781665b
mov     eax, [ebp+y]
push    edi
push    [ebp+w]
sub     eax, [ebp+var_8]
push    1
push    eax
push    [ebp+x]
push    ebx
call    esi
mov     eax, [ebp+arg_c]
push    [ebp+arg_14]
lea     eax, [eax+eax+1]
push    ebx
mov     [ebp+w], eax
call    ds:selectobject
mov     eax, [ebp+y]
mov     ecx, [ebp+x]
sub     eax, [ebp+arg_c]
sub     ecx, [ebp+arg_c]
push    edi
push    1
push    [ebp+w]
mov     [ebp+h], eax
mov     [ebp+arg_1c], ecx
push    eax
push    ecx
push    ebx
call    esi
push    edi
push    [ebp+w]
push    1
push    [ebp+h]
push    [ebp+arg_1c]
push    ebx
call    esi
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+y]
push    edi
push    1
push    [ebp+w]
add     eax, ecx
push    eax
push    [ebp+arg_1c]
push    ebx
call    esi
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+x]
push    edi
add     eax, ecx
push    [ebp+w]
push    1
push    [ebp+h]
push    eax
push    ebx
call    esi
pop     edi
pop     esi
pop     ebx
leave
retn    20h
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
test    byte ptr [esi+18h], 10h
jz      short loc_278166ea
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
mov     eax, [esi+8]
test    al, 2
jz      loc_27816999
mov     ecx, eax
and     ecx, 1
mov     ebx, ecx
neg     ebx
sbb     ebx, ebx
and     ebx, 4
add     ebx, 3
test    al, 4
jz      short loc_27816715
test    ecx, ecx
jz      loc_27816993
add     ebx, 3
cmp     dword ptr [esi+8ch], 0
jnz     short loc_2781672c
push    0
call    ds:createcompatibledc
mov     [esi+8ch], eax
mov     edi, [esi+8ch]
push    edi
push    esi
mov     [ebp+hdc], edi
call    sub_2781653b
mov     eax, [esi+88h]
mov     ecx, ebx
mov     [ebp+ho], eax
movsx   eax, word ptr [esi+0aah]
push    eax
movsx   eax, word ptr [esi+0b0h]
imul    ecx, eax
push    ecx
call    sub_278132f1
cmp     [ebp+ho], 0
push    eax
mov     [esi+88h], eax
push    edi
jz      loc_278169a9
call    ds:selectobject
push    [ebp+ho]
call    ds:deleteobject
push    dword_2782a148
push    edi
call    ds:selectobject
mov     [ebp+h], eax
push    dword ptr [esi+70h]
movsx   eax, word ptr [esi+0b0h]
imul    ebx, eax
movsx   eax, word ptr [esi+0aah]
and     [ebp+rc.top], 0
and     [ebp+rc.left], 0
mov     [ebp+rc.bottom], eax
lea     eax, [ebp+rc]
push    eax
push    edi
mov     [ebp+rc.right], ebx
call    ds:fillrect
xor     edi, edi
cmp     [esi+38h], edi
jz      loc_278169ba
movsx   eax, word ptr [esi+0a4h]
sub     eax, 3
cdq
sub     eax, edx
mov     ecx, eax
sar     ecx, 1
mov     [ebp+var_4], ecx
movsx   eax, word ptr [esi+0aah]
cdq
sub     eax, edx
sar     eax, 1
inc     eax
and     al, 0feh
cmp     ecx, eax
mov     [ebp+y], eax
jge     short loc_278167f4
mov     eax, ecx
cdq
sub     eax, edx
mov     ebx, eax
sar     ebx, 1
test    byte ptr [esi+8], 2
jz      loc_278168a1
movsx   eax, word ptr [esi+0aah]
push    1
push    eax
push    0
push    ecx
push    [ebp+hdc]
call    sub_27816571
movsx   edi, word ptr [esi+0b0h]
movsx   ecx, word ptr [esi+0aah]
mov     eax, [ebp+var_4]
push    1
add     eax, edi
push    ecx
push    0
push    eax
push    [ebp+hdc]
mov     [ebp+ho], eax
call    sub_27816571
movsx   eax, word ptr [esi+0b0h]
sub     eax, [ebp+var_4]
push    0
push    eax
push    [ebp+y]
push    [ebp+ho]
push    [ebp+hdc]
call    sub_27816571
movsx   eax, word ptr [esi+0b0h]
push    1
add     edi, eax
mov     eax, [ebp+var_4]
push    [ebp+y]
add     eax, edi
push    0
push    eax
push    [ebp+hdc]
mov     [ebp+ho], eax
call    sub_27816571
movsx   eax, word ptr [esi+0b0h]
sub     eax, [ebp+var_4]
push    0
push    eax
push    [ebp+y]
push    [ebp+ho]
push    [ebp+hdc]
call    sub_27816571
movsx   eax, word ptr [esi+0b0h]
mov     ecx, [ebp+var_4]
add     edi, eax
test    byte ptr [esi+8], 1
jz      loc_278169d6
mov     [ebp+ho], 1
add     edi, ecx
push    [ebp+ho]
push    dword ptr [esi+70h]
push    dword_2782a148
push    dword_2782a104
push    ebx
push    [ebp+y]
push    edi
push    [ebp+hdc]
call    sub_278165b1
test    byte ptr [esi+8], 2
jz      loc_2781697b
mov     eax, [ebp+y]
push    1
sub     eax, ebx
push    eax
push    0
push    edi
mov     [ebp+var_10], eax
push    [ebp+hdc]
call    sub_27816571
movsx   eax, word ptr [esi+0b0h]
sub     eax, ebx
push    0
sub     eax, [ebp+var_4]
push    eax
lea     eax, [ebx+edi]
push    [ebp+y]
push    eax
push    [ebp+hdc]
call    sub_27816571
mov     eax, [ebp+y]
push    1
push    [ebp+var_10]
add     eax, ebx
push    eax
push    edi
push    [ebp+hdc]
call    sub_27816571
push    [ebp+ho]
movsx   eax, word ptr [esi+0b0h]
push    dword ptr [esi+70h]
add     edi, eax
push    dword_2782a148
push    dword_2782a104
push    ebx
push    [ebp+y]
push    edi
push    [ebp+hdc]
call    sub_278165b1
push    1
push    [ebp+var_10]
push    0
push    edi
push    [ebp+hdc]
call    sub_27816571
movsx   eax, word ptr [esi+0b0h]
sub     eax, ebx
push    0
sub     eax, [ebp+var_4]
push    eax
lea     eax, [ebx+edi]
push    [ebp+y]
push    eax
push    [ebp+hdc]
call    sub_27816571
movsx   eax, word ptr [esi+0b0h]
add     edi, eax
cmp     [ebp+ho], 0
jz      short loc_278169d0
and     [ebp+ho], 0
jmp     loc_278168b4
inc     ebx
jmp     loc_27816715
test    al, 1
jz      loc_27816aa6
push    2
pop     ebx
jmp     loc_27816715
call    ds:selectobject
mov     [esi+84h], eax
jmp     loc_27816780
movsx   eax, word ptr [esi+0b0h]
cdq
sub     eax, edx
sar     eax, 1
mov     [ebp+var_4], eax
mov     ecx, eax
jmp     loc_278167dc
sub     edi, [ebp+var_4]
mov     ecx, [ebp+var_4]
test    byte ptr [esi+8], 4
jz      loc_27816a91
movsx   eax, word ptr [esi+0b0h]
sub     eax, ecx
push    0
push    eax
lea     eax, [edi+ecx]
push    [ebp+y]
push    eax
push    [ebp+hdc]
call    sub_27816571
movsx   eax, word ptr [esi+0b0h]
add     edi, eax
test    byte ptr [esi+8], 1
jz      loc_27816a91
push    1
add     edi, [ebp+var_4]
push    dword ptr [esi+70h]
push    dword_2782a148
push    dword_2782a104
push    ebx
push    [ebp+y]
push    edi
push    [ebp+hdc]
call    sub_278165b1
movsx   eax, word ptr [esi+0b0h]
sub     eax, ebx
push    0
sub     eax, [ebp+var_4]
push    eax
lea     eax, [ebx+edi]
push    [ebp+y]
push    eax
push    [ebp+hdc]
call    sub_27816571
push    0
push    dword ptr [esi+70h]
movsx   eax, word ptr [esi+0b0h]
push    dword_2782a148
add     edi, eax
push    dword_2782a104
push    ebx
push    [ebp+y]
push    edi
push    [ebp+hdc]
call    sub_278165b1
movsx   eax, word ptr [esi+0b0h]
sub     eax, ebx
push    0
sub     eax, [ebp+var_4]
add     ebx, edi
push    eax
push    [ebp+y]
push    ebx
push    [ebp+hdc]
call    sub_27816571
cmp     [ebp+h], 0
jz      short loc_27816aa6
push    [ebp+h]
push    dword ptr [esi+8ch]
call    ds:selectobject
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 34h
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_4]
test    edi, edi
jz      loc_27816c5c
mov     esi, [ebp+arg_c]
test    esi, esi
jz      loc_27816c5c
and     [ebp+var_28], 0
test    [ebp+arg_8], 1
jz      short loc_27816af8
mov     eax, [edi+0ch]
cmp     eax, 0ffffffffh
jnz     loc_27816c63
mov     eax, [esi+10h]
mov     ecx, [esi+14h]
mov     [ebp+var_28], 1
mov     [ebp+lpstring], eax
mov     [ebp+var_14], ecx
and     byte ptr [eax], 0
mov     cl, [ebp+arg_8]
test    cl, 2
jz      short loc_27816b12
mov     ax, [edi+12h]
cmp     ax, 0ffffh
jnz     loc_27816c9a
or      [ebp+var_28], 2
test    cl, 20h
jz      short loc_27816b29
mov     ax, [edi+14h]
cmp     ax, 0ffffh
jnz     loc_27816ca5
or      [ebp+var_28], 20h
test    cl, 80h
jz      short loc_27816b34
mov     eax, [edi+20h]
mov     [esi+28h], eax
test    cl, 40h
jz      short loc_27816b5c
movzx   eax, byte ptr [edi+1bh]
xor     ecx, ecx
sub     eax, ecx
jz      loc_27816cc4
dec     eax
jz      loc_27816cb8
dec     eax
jz      loc_27816cb0
dec     eax
jnz     short loc_27816b5c
or      [ebp+var_28], 40h
movzx   eax, word ptr [edi+10h]
test    byte ptr [ebp+var_28], 63h
mov     [ebp+var_20], eax
mov     [esi+8], eax
mov     eax, [edi+1ch]
mov     [ebp+var_4], eax
mov     [esi+24h], eax
jz      loc_27816c5c
mov     ebx, [ebp+arg_0]
lea     eax, [ebp+lparam]
push    eax
push    0fffffe6dh
push    ebx
mov     [ebp+var_24], edi
call    sub_277b9838
mov     ecx, [ebp+var_28]
test    cl, 40h
jz      short loc_27816b9c
mov     eax, [ebp+var_8]
mov     [esi+20h], eax
test    cl, 2
jz      short loc_27816ba7
mov     eax, [ebp+var_10]
mov     [esi+18h], eax
test    cl, 20h
jz      short loc_27816bb2
mov     eax, [ebp+var_c]
mov     [esi+1ch], eax
test    cl, 1
jz      short loc_27816bbd
mov     eax, [ebp+lpstring]
mov     [esi+10h], eax
test    cl, 8
jz      short loc_27816be8
mov     eax, [ebp+var_1c]
mov     edx, [ebp+var_20]
and     edx, [ebp+var_1c]
not     eax
and     eax, [esi+8]
or      eax, edx
test    al, 10h
mov     [esi+8], eax
jz      short loc_27816be8
cmp     dword ptr [ebx+7ch], 0
jnz     short loc_27816be8
push    ebx
call    sub_277f18aa
mov     ecx, [ebp+var_28]
test    ch, 10h
jz      short loc_27816c5c
test    cl, 1
jz      short loc_27816c07
cmp     [ebp+lpstring], 0
jz      short loc_27816c07
push    [ebp+lpstring]
lea     eax, [edi+0ch]
push    eax
call    sub_2781617a
mov     ecx, [ebp+var_28]
test    cl, 8
jz      short loc_27816c29
mov     eax, [esi+8]
mov     dl, [edi+10h]
and     eax, 10h
and     edx, 10h
xor     eax, edx
jz      short loc_27816c21
and     word ptr [edi+16h], 0
mov     ax, [esi+8]
mov     [edi+10h], ax
test    cl, 2
jz      short loc_27816c36
mov     ax, [esi+18h]
mov     [edi+12h], ax
test    cl, 20h
jz      short loc_27816c43
mov     ax, [esi+1ch]
mov     [edi+14h], ax
test    cl, 40h
jz      short loc_27816c5c
cmp     [ebp+var_8], 0ffffffffh
jz      loc_27816cda
cmp     [ebp+var_8], 0
jz      short loc_27816cd4
mov     byte ptr [edi+1bh], 1
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    dword ptr [esi+14h]
push    eax
push    dword ptr [esi+10h]
call    ds:lstrcpyna
mov     ebx, [esi+14h]
cmp     ebx, 104h
jz      short loc_27816c8c
push    dword ptr [edi+0ch]
call    ds:lstrlena
cmp     eax, ebx
jl      loc_27816af8
push    ebx
push    dword ptr [esi+10h]
call    sub_278164f6
jmp     loc_27816af8
movzx   eax, ax
mov     [esi+18h], eax
jmp     loc_27816b12
movzx   eax, ax
mov     [esi+1ch], eax
jmp     loc_27816b29
mov     [esi+20h], ecx
jmp     loc_27816b5c
mov     dword ptr [esi+20h], 1
jmp     loc_27816b5c
xor     eax, eax
cmp     [edi+8], ecx
setnz   al
mov     [esi+20h], eax
jmp     loc_27816b5c
mov     byte ptr [edi+1bh], 2
jmp     short loc_27816c5c
mov     byte ptr [edi+1bh], 3
jmp     loc_27816c5c
mov     eax, [esp+arg_4]
mov     ecx, [eax+8]
test    cl, 8
jnz     short loc_27816d10
mov     eax, [esp+arg_0]
cmp     dword ptr [eax+24h], 0
jnz     short loc_27816d0b
test    [esp+arg_8], 20h
jnz     short loc_27816d0b
test    cl, 2
jz      short loc_27816d0b
test    byte ptr [eax+18h], 4
jnz     short loc_27816d10
xor     eax, eax
retn    0ch
push    1
pop     eax
jmp     short locret_27816d0d
test    [esp+arg_8], 20h
jnz     short loc_27816d41
mov     eax, [esp+arg_0]
cmp     dword ptr [eax+24h], 0
jnz     short loc_27816d3c
mov     ecx, [esp+arg_4]
test    byte ptr [ecx+8], 2
jz      short loc_27816d3c
test    byte ptr [eax+18h], 4
jnz     short loc_27816d3c
test    byte ptr [eax+8], 20h
jnz     short loc_27816d41
xor     eax, eax
retn    0ch
push    1
pop     eax
jmp     short locret_27816d3e
push    ebp
mov     ebp, esp
sub     esp, 1c4h
push    ebx
mov     ebx, [ebp+wdest]
push    esi
mov     esi, [ebp+hdc]
movsx   eax, word ptr [ebx+0b0h]
push    edi
xor     edi, edi
test    byte ptr [ebx+18h], 4
mov     [ebp+wdest], eax
mov     [ebp+var_20], 0ff000000h
mov     [ebp+var_b0], esi
mov     [ebp+options], 6
mov     [ebp+var_24], edi
jz      short loc_27816d8d
cmp     esi, [ebx+20h]
mov     [ebp+var_1c], 1
jz      short loc_27816d90
mov     [ebp+var_1c], edi
movsx   ecx, word ptr [ebx+0aah]
mov     edx, [esi+20h]
mov     eax, [ebp+y]
imul    edx, ecx
mov     [ebp+rc.top], eax
add     edx, eax
movsx   eax, word ptr [ebx+0b2h]
test    byte ptr [ebp+wsrc], 8
mov     [ebp+var_18], edi
mov     [ebp+rc.bottom], edx
mov     [ebp+rc.left], edi
mov     [ebp+rc.right], eax
jz      short loc_27816dce
push    dword ptr [ebx+70h]
lea     eax, [ebp+rc]
push    eax
push    [ebp+hdc]
call    ds:fillrect
lea     eax, [ebp+var_1c4]
mov     [ebx+90h], esi
mov     [ebp+lpstring], eax
lea     eax, [ebp+var_64]
push    eax
push    6fh
push    esi
push    ebx
mov     [ebp+var_50], 104h
mov     [ebp+var_58], 0f14h
call    sub_27816aad
push    [ebp+wsrc]
lea     eax, [ebp+var_64]
mov     [ebx+90h], edi
push    eax
push    ebx
call    sub_27816ce3
push    0fh
test    eax, eax
pop     edi
jz      loc_2781742e
mov     [ebp+nindex], 0dh
mov     [ebp+var_8], 0eh
cmp     [ebp+nindex], 5
mov     edi, ds:getsyscolor
jnz     short loc_27816e3b
mov     eax, [ebx+9ch]
cmp     eax, 0ffffffffh
jnz     short loc_27816e40
push    [ebp+nindex]
call    edi
cmp     [ebp+var_8], 8
mov     [ebp+var_14], eax
mov     [ebp+color], eax
jnz     short loc_27816e57
mov     eax, [ebx+98h]
cmp     eax, 0ffffffffh
jnz     short loc_27816e5c
push    [ebp+var_8]
call    edi
mov     [ebp+nindex], eax
mov     [ebp+var_70], eax
mov     eax, [ebp+wsrc]
and     eax, 4
mov     [ebp+var_10], eax
jz      short loc_27816e78
xor     eax, eax
mov     [ebp+nindex], eax
mov     [ebp+var_70], eax
mov     [ebp+options], eax
push    [ebp+color]
push    [ebp+hdc]
call    ds:setbkcolor
push    [ebp+var_70]
mov     [ebp+var_a4], eax
push    [ebp+hdc]
call    ds:settextcolor
test    byte ptr [ebx+8], 40h
mov     [ebp+var_ac], eax
jz      short loc_27816ea6
or      byte ptr [ebp+options], 80h
test    byte ptr [ebp+var_5c], 10h
jz      loc_27817487
cmp     esi, [ebx+2ch]
mov     eax, [ebx+7ch]
jnz     short loc_27816ec5
lea     ecx, [ebx+80h]
push    ecx
push    eax
call    sub_278118cd
mov     esi, [ebp+hdc]
push    eax
push    esi
call    ds:selectobject
and     [ebp+var_78], 0
mov     [ebp+h], eax
mov     eax, [ebp+hdc]
mov     [ebp+var_90], esi
lea     esi, [ebp+rc]
lea     edi, [ebp+rect]
mov     [ebp+var_7c], eax
mov     eax, [ebp+wsrc]
movsd
movsd
movsd
and     eax, 2
movsd
mov     [ebp+var_8], eax
jz      loc_2781749b
and     [ebp+var_68], 0
test    byte ptr [ebp+var_5c], 2
jz      short loc_27816f21
test    byte ptr [ebx+18h], 4
push    1
pop     eax
mov     [ebp+var_18], eax
jnz     short loc_27816f1e
test    byte ptr [ebx+8], 20h
jz      short loc_27816f21
mov     [ebp+var_78], eax
xor     esi, esi
cmp     [ebp+var_1c], esi
jz      short loc_27816f2c
or      [ebp+var_78], 10h
mov     eax, [ebp+hdc]
cmp     eax, [ebx+2ch]
jnz     short loc_27816f38
or      [ebp+var_78], 40h
mov     eax, [ebp+var_40]
mov     [ebp+var_74], eax
lea     eax, [ebp+lparam]
push    eax
push    10001h
push    ebx
call    sub_27811d7b
test    al, 4
mov     [ebp+var_38], eax
jnz     loc_27817610
mov     eax, [ebp+var_78]
and     eax, 10h
test    byte ptr [ebp+var_78], 1
mov     [ebp+var_1c], eax
jz      loc_278174aa
or      [ebp+var_5c], 2
mov     eax, [ebp+color]
cmp     eax, [ebp+var_14]
jz      short loc_27816f84
push    eax
push    [ebp+hdc]
call    ds:setbkcolor
mov     eax, [ebp+var_70]
cmp     eax, [ebp+nindex]
jz      short loc_27816f96
push    eax
push    [ebp+hdc]
call    ds:settextcolor
test    byte ptr [ebx+9], 10h
jz      short loc_27816fc2
cmp     [ebp+var_10], esi
jnz     short loc_27816fc2
push    [ebp+hdc]
call    ds:getbkcolor
push    eax
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
or      [ebp+options], 2
or      [ebp+var_20], 0ffffffffh
cmp     [ebp+var_8], esi
jnz     loc_278174b3
mov     eax, [ebx+8]
test    al, 3
jz      loc_278174b3
test    al, 4
jz      loc_278174b3
mov     esi, [ebp+c]
add     esi, [ebp+wdest]
mov     eax, [ebp+var_68]
imul    eax, [ebp+wdest]
movsx   edi, word ptr [ebx+0ach]
movsx   ecx, word ptr [ebx+0aeh]
add     [ebp+y], ecx
add     eax, edi
add     esi, eax
cmp     [ebp+var_8], 0
jnz     loc_27817134
test    byte ptr [ebp+var_38+2], 1
jnz     loc_27817134
cmp     dword ptr [ebx+3ch], 0
jz      short loc_27817078
mov     eax, [ebp+var_5c]
shr     eax, 0ch
and     eax, 0fh
mov     [ebp+var_24], eax
jz      short loc_27817078
movzx   eax, word ptr [ebx+0b6h]
mov     edx, [ebx+68h]
sub     eax, esi
sub     eax, edi
cmp     edx, eax
jge     short loc_2781703c
mov     eax, edx
movsx   edx, word ptr [ebx+0aah]
add     ecx, ecx
mov     edi, edx
sub     edi, ecx
mov     ecx, [ebx+6ch]
cmp     ecx, edi
jge     short loc_27817052
mov     edi, ecx
push    0
push    0ff000000h
push    [ebp+var_20]
push    edi
push    eax
mov     eax, [ebp+y]
sub     eax, ecx
add     eax, edx
push    eax
push    esi
push    [ebp+hdc]
push    [ebp+var_24]
push    dword ptr [ebx+3ch]
call    sub_27814e07
add     esi, [ebx+68h]
mov     eax, [ebx+38h]
test    eax, eax
jz      loc_27817134
and     [ebp+var_14], 0
cmp     [ebp+var_18], 0
mov     ecx, [ebp+var_48]
mov     [ebp+nindex], 0ff000000h
jnz     short loc_2781709a
mov     ecx, [ebp+var_4c]
test    byte ptr [ebp+var_5c], 4
mov     [ebp+var_10], ecx
jz      short loc_278170b3
push    eax
mov     [ebp+var_14], 4
call    sub_27813b52
mov     [ebp+nindex], eax
movzx   ecx, word ptr [ebx+0b6h]
movsx   eax, word ptr [ebx+0ach]
movsx   edx, word ptr [ebx+0a4h]
sub     ecx, esi
add     edx, 0fffffffdh
sub     ecx, eax
mov     [ebp+var_18], edx
cmp     edx, ecx
jl      short loc_278170d9
mov     [ebp+var_18], ecx
movsx   edi, word ptr [ebx+0aah]
movsx   eax, word ptr [ebx+0aeh]
movsx   edx, word ptr [ebx+0a6h]
shl     eax, 1
mov     ecx, edi
sub     ecx, eax
cmp     edx, ecx
jge     short loc_278170fa
mov     ecx, edx
mov     eax, [ebp+var_5c]
and     eax, 0f00h
mov     [ebp+c], eax
mov     eax, [ebp+var_14]
or      [ebp+c], eax
mov     eax, edi
push    [ebp+c]
sub     eax, edx
cdq
push    [ebp+nindex]
sub     eax, edx
sar     eax, 1
push    [ebp+var_20]
add     eax, [ebp+y]
push    ecx
push    [ebp+var_18]
push    eax
push    esi
push    [ebp+hdc]
push    [ebp+var_10]
push    dword ptr [ebx+38h]
call    sub_27814e07
cmp     dword ptr [ebx+38h], 0
jz      short loc_27817143
movsx   eax, word ptr [ebx+0a4h]
add     esi, eax
mov     eax, [ebp+lpstring]
push    eax
mov     [ebp+var_10], eax
call    ds:lstrlena
mov     edi, [ebp+hdc]
mov     [ebp+c], eax
cmp     word ptr [edi+16h], 0
jz      short loc_27817163
cmp     dword ptr [edi+0ch], 0ffffffffh
jnz     short loc_2781716d
push    [ebp+hdc]
push    edi
push    ebx
call    sub_27817c5e
movsx   eax, word ptr [ebx+0aeh]
mov     ecx, [ebp+y]
mov     [ebp+rc.left], esi
movsx   edx, word ptr [ebx+0ach]
add     ecx, eax
mov     [ebp+rc.top], ecx
movsx   ecx, word ptr [ebx+0b2h]
sub     ecx, edx
movzx   edx, word ptr [edi+16h]
add     edx, esi
cmp     edx, ecx
mov     [ebp+rc.right], edx
jl      short loc_2781719f
mov     [ebp+rc.right], ecx
sub     [ebp+rc.bottom], eax
cmp     [ebx+28h], edi
jnz     short loc_278171c9
push    dword ptr [ebx+0cch]
lea     edi, [ebx+0cch]
call    ds:iswindow
test    eax, eax
jz      short loc_278171c9
push    dword ptr [edi]
call    ds:iswindowvisible
test    eax, eax
jnz     short loc_2781722d
push    0
lea     eax, [ebp+rc]
push    [ebp+c]
movsx   ecx, word ptr [ebx+0a8h]
push    [ebp+var_10]
push    eax
movsx   eax, word ptr [ebx+0aah]
sub     eax, ecx
push    [ebp+options]
cdq
sub     eax, edx
sar     eax, 1
add     eax, [ebp+y]
add     eax, y
push    eax
mov     eax, dword_2782a068
add     eax, esi
push    eax
push    [ebp+hdc]
call    ds:exttextouta
test    byte ptr [ebx+18h], 4
jz      short loc_2781722d
cmp     [ebp+var_1c], 0
jz      short loc_2781722d
test    byte ptr [ebx+9], 10h
jnz     short loc_2781722d
test    byte ptr [ebp+wsrc], 24h
jnz     short loc_2781722d
lea     eax, [ebp+rc]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
push    [ebp+var_a4]
push    [ebp+hdc]
call    ds:setbkcolor
push    [ebp+var_ac]
push    [ebp+hdc]
call    ds:settextcolor
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
xor     eax, eax
cmp     [ebp+var_8], eax
jnz     loc_278175ef
cmp     [ebx+38h], eax
jz      short loc_27817273
movsx   ecx, word ptr [ebx+0a4h]
sub     esi, ecx
cmp     [ebp+var_24], eax
jz      short loc_2781727b
sub     esi, [ebx+68h]
mov     edx, [ebx+8]
test    dl, 2
jz      loc_2781756c
sub     esi, [ebp+wdest]
mov     eax, [ebp+var_68]
dec     [ebp+var_68]
test    eax, eax
jnz     short loc_2781729d
test    dl, 4
jz      loc_278175ef
cmp     [ebp+var_68], 0ffffffffh
mov     eax, [ebp+hdc]
mov     edi, 0cc0020h
jnz     loc_278174e7
mov     ecx, [eax]
cmp     eax, [ecx+8]
jnz     loc_278174e7
cmp     dword ptr [eax+4], 0
jz      loc_278174bb
cmp     [ebp+var_44], 0
push    2
pop     ecx
jz      short loc_278172e3
test    dl, 1
jz      short loc_278172e3
mov     eax, [ebp+var_5c]
push    4
and     ax, 0a0h
pop     ecx
cmp     al, 20h
jnz     short loc_278172e3
push    6
pop     ecx
movzx   eax, word ptr [ebx+0b6h]
movsx   edx, word ptr [ebx+0ach]
sub     eax, esi
sub     eax, edx
mov     edx, [ebp+wdest]
cmp     edx, eax
mov     [ebp+wsrc], edx
jl      short loc_27817302
mov     [ebp+wsrc], eax
movsx   eax, word ptr [ebx+0aah]
imul    ecx, [ebp+wdest]
movsx   edx, word ptr [ebx+0aeh]
push    edi
mov     edi, eax
shl     edx, 1
sub     edi, edx
push    edi
push    [ebp+wsrc]
push    0
push    ecx
push    dword ptr [ebx+8ch]
mov     ecx, eax
neg     ecx
push    ecx
mov     ecx, [ebp+y]
push    [ebp+wdest]
add     ecx, eax
push    ecx
push    esi
push    [ebp+hdc]
call    ds:stretchblt
or      eax, 0ffffffffh
mov     edi, 0cc0020h
cmp     eax, 0ffffffffh
jz      short loc_278173a9
movzx   ecx, word ptr [ebx+0b6h]
movsx   edx, word ptr [ebx+0ach]
sub     ecx, esi
sub     ecx, edx
mov     edx, [ebp+wdest]
cmp     edx, ecx
mov     [ebp+wsrc], edx
jl      short loc_2781736c
mov     [ebp+wsrc], ecx
movsx   ecx, word ptr [ebx+0aeh]
shl     ecx, 1
mov     edx, ecx
movsx   ecx, word ptr [ebx+0aah]
sub     ecx, edx
cmp     [ebp+wsrc], 0
jle     short loc_278173a9
test    ecx, ecx
jle     short loc_278173a9
imul    eax, [ebp+wdest]
push    edi
push    0
push    eax
push    dword ptr [ebx+8ch]
push    ecx
push    [ebp+wsrc]
push    [ebp+y]
push    esi
push    [ebp+hdc]
call    ds:bitblt
dec     [ebp+var_68]
jns     short loc_278173c2
test    byte ptr [ebx+8], 4
jz      loc_278175ef
cmp     [ebp+var_68], 0ffffffffh
jl      loc_278175ef
mov     eax, [ebp+hdc]
mov     edx, [ebp+wdest]
movsx   ecx, word ptr [ebx+0ach]
mov     eax, [eax]
sub     esi, edx
mov     [ebp+hdc], eax
movzx   eax, word ptr [ebx+0b6h]
sub     eax, esi
sub     eax, ecx
cmp     edx, eax
jl      short loc_278173e7
mov     edx, eax
movsx   eax, word ptr [ebx+0b4h]
movsx   ecx, word ptr [ebx+0aeh]
sub     eax, [ebp+y]
sub     eax, ecx
movsx   ecx, word ptr [ebx+0aah]
cmp     ecx, eax
jl      short loc_27817407
mov     ecx, eax
mov     eax, [ebp+hdc]
cmp     dword ptr [eax+4], 0
jz      loc_2781751f
test    edx, edx
jle     short loc_278173a9
test    ecx, ecx
jle     short loc_278173a9
push    edi
push    0
push    0
push    dword ptr [ebx+8ch]
push    ecx
push    edx
jmp     loc_2781739c
test    byte ptr [ebp+wsrc], 20h
jz      short loc_27817443
mov     [ebp+nindex], edi
mov     [ebp+var_8], 11h
jmp     loc_27816e24
push    [ebp+wsrc]
lea     eax, [ebp+var_64]
push    eax
push    ebx
call    sub_27816d15
test    eax, eax
jz      short loc_27817463
mov     [ebp+nindex], edi
mov     [ebp+var_8], 12h
jmp     loc_27816e24
cmp     esi, [ebx+2ch]
mov     [ebp+nindex], 5
mov     [ebp+var_8], 8
jnz     loc_27816e24
call    sub_27819290
mov     [ebp+var_8], eax
jmp     loc_27816e24
cmp     esi, [ebx+2ch]
mov     eax, [ebx+74h]
jnz     loc_27816ec5
lea     ecx, [ebx+78h]
jmp     loc_27816ebe
mov     eax, [ebp+hdc]
movzx   eax, byte ptr [eax+1ah]
mov     [ebp+var_68], eax
jmp     loc_27816f06
and     [ebp+var_5c], 0fffffffdh
jmp     loc_27816f72
mov     esi, [ebp+c]
jmp     loc_27816fe4
test    dl, 1
jz      short loc_278174e3
cmp     [ebp+var_44], 0
jz      short loc_278174db
mov     eax, [ebp+var_5c]
and     ax, 0a0h
sub     al, 20h
neg     al
sbb     eax, eax
add     eax, 9
jmp     loc_27817348
push    7
pop     eax
jmp     loc_27817348
push    3
jmp     short loc_278174dd
xor     ecx, ecx
cmp     [eax+4], ecx
setz    cl
inc     ecx
cmp     [ebp+var_44], 0
mov     eax, ecx
jz      loc_27817348
test    dl, 1
jz      loc_27817348
mov     ecx, [ebp+var_5c]
inc     eax
and     cx, 0a0h
inc     eax
cmp     cl, 20h
jnz     loc_27817348
inc     eax
inc     eax
jmp     loc_27817348
test    edx, edx
jle     loc_278173a9
test    ecx, ecx
jle     loc_278173a9
mov     eax, [ebp+y]
push    [ebp+hdc]
add     edx, esi
add     ecx, eax
mov     [ebp+var_c0.left], esi
mov     [ebp+var_c0.top], eax
mov     [ebp+var_c0.right], edx
mov     [ebp+var_c0.bottom], ecx
call    ds:getbkcolor
push    eax
lea     eax, [ebp+var_c0]
push    eax
push    [ebp+hdc]
call    sub_277be3ec
jmp     loc_278173a9
test    dl, 1
jz      short loc_278175ef
cmp     [ebp+var_68], eax
jnz     short loc_2781757b
test    dl, 4
jz      short loc_278175ef
cmp     [ebp+var_44], eax
jz      short loc_278175ef
mov     eax, [ebp+var_5c]
mov     ecx, [ebp+wdest]
and     al, 20h
neg     al
movsx   edx, word ptr [ebx+0ach]
sbb     eax, eax
sub     esi, ecx
and     eax, ecx
mov     edi, eax
movzx   eax, word ptr [ebx+0b6h]
sub     eax, esi
sub     eax, edx
cmp     ecx, eax
jge     short loc_278175aa
mov     eax, ecx
movsx   ecx, word ptr [ebx+0b4h]
movsx   edx, word ptr [ebx+0aeh]
sub     ecx, [ebp+y]
sub     ecx, edx
movsx   edx, word ptr [ebx+0aah]
cmp     edx, ecx
jge     short loc_278175ca
mov     ecx, edx
test    eax, eax
jle     short loc_278175ef
test    ecx, ecx
jle     short loc_278175ef
push    0cc0020h
push    0
push    edi
push    dword ptr [ebx+8ch]
push    ecx
push    eax
push    [ebp+y]
push    esi
push    [ebp+hdc]
call    ds:bitblt
test    byte ptr [ebp+var_38], 10h
jz      short loc_27817610
mov     eax, [ebp+var_b0]
mov     [ebp+var_7c], eax
lea     eax, [ebp+lparam]
push    eax
push    10002h
push    ebx
call    sub_27811d7b
pop     edi
pop     esi
pop     ebx
leave
retn    18h
push    esi
mov     esi, [esp+4+arg_4]
push    edi
mov     edi, [esp+8+arg_0]
push    1
push    esi
push    dword ptr [edi+34h]
push    edi
call    sub_277f0b01
test    eax, eax
jz      short loc_2781766b
test    byte ptr [edi+19h], 10h
jz      short loc_27817663
mov     eax, [esi+0ch]
mov     [esi+4], eax
add     dword ptr [esi+4], 0fffffffdh
add     dword ptr [esi+0ch], 4
movsx   eax, word ptr [edi+0b2h]
sub     eax, 6
push    1
mov     [esi+8], eax
movsx   eax, word ptr [edi+0a4h]
sub     [esi], eax
pop     eax
pop     edi
pop     esi
retn    8
mov     eax, [esi+4]
mov     [esi+0ch], eax
jmp     short loc_2781763d
xor     eax, eax
jmp     short loc_2781765e
push    ebp
mov     ebp, esp
sub     esp, 58h
push    ebx
mov     ebx, [ebp+wdest]
push    esi
push    edi
test    byte ptr [ebx+18h], 10h
jz      loc_27817803
movsx   eax, word ptr [ebx+0bah]
push    [ebp+hdc]
neg     eax
push    ebx
mov     [ebp+c], eax
call    sub_2781653b
mov     eax, [ebp+arg_c]
lea     edi, [ebp+rc]
mov     esi, eax
cmp     dword ptr [ebx+0c0h], 0
movsd
movsd
movsd
movsd
jz      loc_278177db
mov     ecx, [ebx+0c4h]
test    ecx, ecx
jz      loc_278177db
mov     eax, [eax+4]
movsx   esi, word ptr [ebx+0aah]
cdq
idiv    esi
mov     esi, [ebx+0bch]
mov     edi, eax
movzx   eax, word ptr [ecx+18h]
sub     esi, eax
mov     eax, [ebp+hdc]
and     [ebp+var_30], 0
and     [ebp+var_2c], 0
mov     [ebp+var_48], eax
lea     eax, [ebp+lparam]
push    eax
push    1
push    ebx
call    sub_27811d7b
test    al, 4
mov     [ebx+0ch], eax
jnz     loc_27817803
cmp     edi, esi
jge     loc_278177db
and     [ebp+wdest], 0
mov     esi, [ebx+0c4h]
test    esi, esi
jz      short loc_27817737
mov     eax, [esi+20h]
cmp     edi, eax
jle     short loc_27817737
movsx   ecx, word ptr [ebx+0aah]
sub     edi, eax
imul    eax, ecx
add     [ebp+wdest], eax
push    esi
call    sub_277f0835
mov     esi, eax
jmp     short loc_27817713
mov     eax, [ebx+74h]
test    eax, eax
jz      short loc_27817795
push    eax
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+h], eax
mov     edi, [ebx+8]
shr     edi, 16h
and     edi, 20h
cmp     [ebp+arg_8], 0
jz      short loc_2781775d
or      edi, 8
test    esi, esi
jz      short loc_2781779b
mov     ecx, [ebp+arg_c]
mov     eax, [ebp+wdest]
cmp     eax, [ecx+0ch]
jge     short loc_2781779b
push    edi
push    eax
push    [ebp+c]
push    [ebp+hdc]
push    esi
push    ebx
call    sub_27816d46
movsx   eax, word ptr [ebx+0aah]
mov     ecx, [esi+20h]
push    esi
imul    ecx, eax
add     [ebp+wdest], ecx
call    sub_277f0835
mov     esi, eax
jmp     short loc_2781775d
and     [ebp+h], 0
jmp     short loc_2781774b
cmp     dword ptr [ebx+34h], 0
jz      short loc_278177c3
lea     eax, [ebp+var_28]
push    eax
push    ebx
call    sub_27817617
test    eax, eax
jz      short loc_278177c3
push    dword ptr [ebx+0a0h]
lea     eax, [ebp+var_28]
push    0
push    eax
push    [ebp+hdc]
call    sub_2780c7d7
cmp     [ebp+h], 0
jz      short loc_278177d5
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
mov     eax, [ebp+wdest]
mov     [ebp+rc.top], eax
cmp     [ebp+arg_8], 0
jz      short loc_278177f1
push    dword ptr [ebx+70h]
lea     eax, [ebp+rc]
push    eax
push    [ebp+hdc]
call    ds:fillrect
test    byte ptr [ebx+0ch], 10h
jz      short loc_27817803
lea     eax, [ebp+lparam]
push    eax
push    2
push    ebx
call    sub_27811d7b
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 40h
xor     eax, eax
push    esi
cmp     [ebp+hdc], eax
jz      short loc_2781784b
mov     esi, [ebp+wdest]
movsx   ecx, word ptr [esi+0b4h]
push    ecx
movsx   ecx, word ptr [esi+0b2h]
push    ecx
push    eax
push    eax
lea     eax, [ebp+paint.rcpaint]
push    eax
call    ds:setrect
lea     eax, [ebp+paint.rcpaint]
push    eax
push    1
push    [ebp+hdc]
push    esi
call    sub_2781766f
pop     esi
leave
retn    8
mov     esi, [ebp+wdest]
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:beginpaint
lea     eax, [ebp+paint.rcpaint]
push    eax
push    [ebp+paint.ferase]
push    [ebp+paint.hdc]
push    esi
call    sub_2781766f
lea     eax, [ebp+paint]
push    eax
push    dword ptr [esi]
call    ds:endpaint
jmp     short loc_27817846
push    ebp
mov     ebp, esp
sub     esp, 40h
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
mov     edi, [ebp+hdc]
xor     ebx, ebx
movzx   eax, word ptr [eax+16h]
movsx   esi, word ptr [edi+0a4h]
add     esi, eax
push    ebx
movsx   eax, word ptr [edi+0aah]
mov     [ebp+h], ebx
mov     [ebp+ho], ebx
mov     [ebp+lp], ebx
mov     [ebp+w], esi
nop
mov     [ebp+nheight], eax
call    ds:createcompatibledc
cmp     eax, ebx
mov     [ebp+hdc], eax
jz      loc_278179e1
push    [ebp+nheight]
push    esi
call    sub_278132f1
cmp     eax, ebx
mov     [ebp+h], eax
jz      loc_278179e1
push    [ebp+nheight]
push    esi
call    sub_27813387
cmp     eax, ebx
mov     [ebp+ho], eax
jz      loc_278179e1
mov     eax, [edi+74h]
mov     esi, ds:selectobject
cmp     eax, ebx
jz      short loc_278178fa
push    eax
push    [ebp+hdc]
call    esi
push    1
push    [ebp+hdc]
call    ds:setbkmode
push    [ebp+h]
push    [ebp+hdc]
call    esi
push    42h
mov     [ebp+lp], eax
push    [ebp+nheight]
push    [ebp+w]
push    ebx
push    ebx
push    [ebp+hdc]
call    ds:patblt
push    7
push    ebx
push    ebx
push    [ebp+hdc]
push    [ebp+arg_4]
push    edi
call    sub_27816d46
push    [ebp+ho]
push    [ebp+hdc]
call    esi
push    0ff0062h
push    [ebp+nheight]
push    [ebp+w]
push    ebx
push    ebx
push    [ebp+hdc]
call    ds:patblt
push    7
push    ebx
push    ebx
push    [ebp+hdc]
push    [ebp+arg_4]
push    edi
call    sub_27816d46
push    [ebp+lp]
push    [ebp+hdc]
call    esi
push    dword_2782a124
push    [ebp+hdc]
call    esi
push    ebx
push    1
push    1
push    [ebp+nheight]
push    [ebp+w]
call    sub_2781371d
mov     esi, eax
cmp     esi, ebx
mov     [ebp+lp], esi
jz      short loc_278179e1
push    0ffffffffh
push    esi
call    sub_27813ac4
push    [ebp+ho]
push    [ebp+h]
push    esi
call    sub_27813dd6
mov     esi, [ebp+arg_4]
lea     eax, [ebp+var_40]
push    eax
push    2
push    esi
push    edi
call    sub_27816aad
mov     ax, [esi+10h]
movsx   ecx, word ptr [edi+0a6h]
and     eax, 0f00h
push    eax
movsx   eax, word ptr [edi+0aah]
push    [ebp+var_28]
sub     eax, ecx
cdq
push    dword ptr [edi+38h]
sub     eax, edx
sar     eax, 1
push    eax
push    ebx
push    ebx
push    [ebp+lp]
call    sub_27814ebc
cmp     [ebp+hdc], ebx
mov     esi, ds:deleteobject
jz      short loc_278179f1
push    [ebp+hdc]
call    esi
cmp     [ebp+h], ebx
jz      short loc_278179fb
push    [ebp+h]
call    esi
cmp     [ebp+ho], ebx
jz      short loc_27817a05
push    [ebp+ho]
call    esi
mov     eax, [ebp+lp]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esp+arg_0]
push    esi
mov     ecx, [eax+1ch]
mov     eax, [esp+4+arg_4]
cmp     eax, ecx
jnz     short loc_27817a2b
mov     eax, [ecx+8]
test    eax, eax
jz      short loc_27817a38
and     word ptr [eax+18h], 0
mov     si, [eax+20h]
add     si, [eax+18h]
test    si, si
ja      short loc_27817a3f
or      eax, 0ffffffffh
pop     esi
retn    8
push    eax
call    sub_277f0835
test    eax, eax
jz      short loc_27817a55
mov     cx, [eax+20h]
mov     [eax+18h], si
add     esi, ecx
jmp     short loc_27817a3f
movzx   eax, si
jmp     short loc_27817a3b
mov     eax, [esp+arg_0]
push    esi
push    edi
xor     edi, edi
mov     esi, [eax+8]
test    esi, esi
jz      short loc_27817a85
add     edi, [esi+20h]
cmp     dword ptr [esi+8], 0
jz      short loc_27817a80
test    byte ptr [esi+10h], 20h
jz      short loc_27817a80
push    esi
call    sub_27817a5a
add     edi, eax
mov     esi, [esi+4]
jmp     short loc_27817a65
mov     eax, edi
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 48h
mov     edx, [ebp+arg_8]
push    esi
mov     esi, [ebp+arg_0]
xor     ecx, ecx
inc     edx
push    edi
movsx   eax, word ptr [esi+0aah]
imul    edx, eax
mov     [ebp+var_c], edx
push    1
movsx   edx, word ptr [esi+0b2h]
mov     [ebp+var_8], edx
lea     edi, [ebp+var_14]
movsx   edx, word ptr [esi+0b4h]
mov     [ebp+var_4], edx
mov     edx, [esi]
mov     [ebp+var_40], edx
mov     edx, [ebp+arg_c]
neg     edx
sbb     edx, edx
mov     [ebp+dy], 38h
and     edx, 2
mov     [ebp+var_44], 3
dec     edx
mov     [ebp+var_3c], ecx
imul    edx, [ebp+arg_4]
imul    edx, eax
lea     eax, [ebp+var_10]
mov     [ebp+var_38], edx
mov     [ebp+var_34], eax
lea     eax, [ebp+var_10]
mov     [ebp+var_30], eax
mov     eax, [esi+0c8h]
mov     [ebp+var_20], eax
pop     eax
mov     [ebp+var_1c], eax
mov     [ebp+var_18], eax
xor     eax, eax
mov     [ebp+var_2c], ecx
mov     [ebp+var_28], ecx
mov     [ebp+var_24], 6
stosd
lea     eax, [ebp+dy]
mov     [ebp+var_10], ecx
push    eax
call    sub_2781131f
push    esi
call    sub_277f223b
pop     edi
pop     esi
leave
retn    10h
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_4]
mov     ax, [ebx+18h]
cmp     ax, 0ffffh
jnz     short loc_27817b4a
xor     eax, eax
pop     ebx
pop     ebp
retn    10h
push    edi
mov     edi, [ebx+20h]
push    esi
mov     esi, [ebp+arg_0]
test    byte ptr [esi+18h], 10h
jz      short loc_27817b9c
mov     ecx, [esi+0c4h]
push    ebx
movzx   eax, ax
movzx   ecx, word ptr [ecx+18h]
sub     eax, ecx
lea     eax, [eax+edi-1]
mov     [ebp+arg_4], eax
call    sub_27817a5a
push    [ebp+arg_c]
mov     [ebp+arg_0], eax
push    [ebp+arg_4]
push    eax
push    esi
call    sub_27817a8c
push    1
push    ebx
push    esi
call    sub_277f0a83
cmp     [ebp+arg_8], 0
jz      short loc_27817b96
mov     edi, [ebp+arg_0]
mov     eax, edi
pop     esi
pop     edi
jmp     short loc_27817b45
cmp     [ebp+arg_8], 0
jz      short loc_27817b96
push    ebx
call    sub_27817a5a
mov     edi, eax
jmp     short loc_27817b96
push    ebx
mov     ebx, [esp+4+arg_0]
test    byte ptr [ebx+9], 20h
jnz     short loc_27817bf9
mov     eax, [ebx+1ch]
push    edi
push    esi
xor     edi, edi
mov     esi, [eax+8]
test    esi, esi
jz      short loc_27817bf0
push    esi
push    ebx
call    sub_277f0ac2
movzx   ecx, word ptr [esi+16h]
add     eax, ecx
movzx   ecx, di
cmp     ecx, eax
jge     short loc_27817be6
push    esi
push    ebx
call    sub_277f0ac2
mov     edi, eax
add     di, [esi+16h]
push    esi
call    sub_277f0835
mov     esi, eax
jmp     short loc_27817bc1
movzx   eax, di
pop     esi
pop     edi
pop     ebx
retn    4
movsx   eax, word ptr [ebx+0b2h]
jmp     short loc_27817bf5
push    ebp
mov     ebp, esp
sub     esp, 138h
lea     eax, [ebp+var_138]
and     [ebp+sz._cx], 0
mov     [ebp+lpstring], eax
lea     eax, [ebp+var_34]
and     [ebp+sz.cy], 0
push    eax
push    1
mov     [ebp+var_20], 104h
push    [ebp+arg_8]
push    [ebp+arg_4]
call    sub_27816aad
lea     eax, [ebp+sz]
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    ds:gettextextentpointa
mov     eax, [ebp+sz._cx]
mov     ecx, dword_2782a068
lea     eax, [eax+ecx*2]
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 30h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hdc]
mov     esi, [ebp+arg_0]
xor     ebx, ebx
movzx   eax, word ptr [edi+16h]
mov     [ebp+var_4], eax
mov     eax, [ebp+arg_8]
test    eax, eax
jnz     loc_27817d4b
push    dword ptr [esi]
call    ds:getdc
push    10h
mov     [ebp+hdc], eax
pop     ebx
lea     eax, [ebp+var_30]
push    eax
push    8
push    edi
push    esi
mov     [ebp+var_24], ebx
call    sub_27816aad
test    [ebp+var_28], bl
jz      loc_27817d3c
mov     eax, [esi+7ch]
test    eax, eax
jz      loc_27817d44
push    eax
push    [ebp+hdc]
call    ds:selectobject
mov     ebx, eax
push    edi
push    esi
push    [ebp+hdc]
call    sub_27817c02
mov     [edi+16h], ax
test    byte ptr [esi+9], 20h
jnz     short loc_27817d16
movzx   eax, ax
cmp     [ebp+var_4], eax
jz      short loc_27817d16
push    edi
push    esi
call    sub_277f0ac2
movzx   ecx, word ptr [edi+16h]
add     eax, ecx
movzx   ecx, word ptr [esi+0b6h]
cmp     ecx, eax
jge     short loc_27817d16
push    0
push    0
push    2100h
push    dword ptr [esi]
call    ds:postmessagea
push    edi
push    esi
call    sub_277f0ac2
add     ax, [edi+16h]
mov     [esi+0b6h], ax
cmp     [ebp+arg_8], 0
jnz     short loc_27817d35
test    ebx, ebx
jz      short loc_27817d2a
push    ebx
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+hdc]
push    dword ptr [esi]
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, [esi+74h]
jmp     loc_27817cab
xor     ebx, ebx
jmp     loc_27817cbf
mov     [ebp+hdc], eax
jmp     loc_27817cbf
mov     eax, [esp+arg_0]
mov     eax, [eax]
test    eax, eax
jz      short loc_27817d68
test    byte ptr [eax+10h], 20h
jnz     short loc_27817d57
xor     eax, eax
retn    4
push    1
pop     eax
jmp     short locret_27817d65
push    edi
mov     edi, [esp+4+hdc]
push    edi
call    sub_27817d53
test    eax, eax
jnz     short loc_27817d86
or      word ptr [edi+18h], 0ffffh
pop     edi
retn    8
push    esi
push    edi
call    sub_277f07f9
test    eax, eax
jz      short loc_27817dc5
movzx   ecx, word ptr [eax+18h]
add     ecx, [eax+20h]
mov     esi, [esp+8+arg_0]
push    edi
push    esi
mov     [edi+18h], cx
call    sub_27817a0f
mov     eax, [edi+20h]
push    0
add     [esi+0bch], eax
push    edi
push    esi
call    sub_27817c5e
push    esi
call    sub_278183a8
push    1
pop     eax
pop     esi
jmp     short loc_27817d82
xor     ecx, ecx
jmp     short loc_27817d98
push    esi
mov     esi, [esp+4+hdc]
cmp     word ptr [esi+18h], 0ffffh
jnz     short loc_27817ddc
xor     eax, eax
pop     esi
retn    8
or      word ptr [esi+18h], 0ffffh
push    edi
push    ebx
push    esi
call    sub_277f0835
mov     ebx, eax
mov     edi, [esp+0ch+arg_0]
test    ebx, ebx
jz      short loc_27817e18
mov     ax, [esi+20h]
push    ebx
sub     [ebx+18h], ax
push    edi
call    sub_27817a0f
cmp     [edi+0c4h], esi
jnz     short loc_27817e18
movzx   eax, word ptr [ebx+18h]
push    0
push    eax
push    edi
call    sub_27818290
mov     eax, [esi+20h]
sub     [edi+0bch], eax
test    byte ptr [edi+18h], 10h
jz      short loc_27817e68
cmp     word ptr [esi+16h], 0
jnz     short loc_27817e37
push    0
push    esi
push    edi
call    sub_27817c5e
test    byte ptr [edi+9], 20h
jnz     short loc_27817e62
push    esi
push    edi
call    sub_277f0ac2
movzx   ecx, word ptr [esi+16h]
add     eax, ecx
movzx   ecx, word ptr [edi+0b6h]
cmp     ecx, eax
jnz     short loc_27817e62
push    edi
call    sub_27817bac
mov     [edi+0b6h], ax
push    edi
call    sub_278183a8
push    1
pop     eax
pop     ebx
pop     edi
jmp     loc_27817dd8
mov     eax, [esp+arg_4]
push    edi
xor     edi, edi
cmp     word ptr [eax+18h], 0ffffh
jnz     short loc_27817e87
xor     eax, eax
pop     edi
retn    8
push    esi
mov     esi, [eax+8]
push    ebx
mov     ebx, [esp+0ch+arg_0]
test    esi, esi
jz      short loc_27817edd
mov     cl, [esi+1ah]
cmp     cl, [eax+1ah]
jbe     short loc_27817edd
cmp     word ptr [esi+16h], 0
jnz     short loc_27817eac
push    0
push    esi
push    ebx
call    sub_27817c5e
push    esi
push    ebx
call    sub_277f0ac2
movzx   ecx, word ptr [esi+16h]
add     eax, ecx
movzx   ecx, di
cmp     ecx, eax
jge     short loc_27817ecd
push    esi
push    ebx
call    sub_277f0ac2
mov     edi, eax
add     di, [esi+16h]
push    esi
call    sub_277f0835
mov     esi, eax
mov     eax, [esp+0ch+arg_4]
test    esi, esi
jnz     short loc_27817e94
push    eax
push    ebx
call    sub_27817a0f
test    byte ptr [ebx+9], 20h
mov     [ebx+0bch], eax
jnz     short loc_27817f02
cmp     di, [ebx+0b6h]
lea     eax, [ebx+0b6h]
jbe     short loc_27817f02
mov     [eax], di
push    ebx
call    sub_278183a8
push    1
pop     eax
pop     ebx
pop     esi
jmp     loc_27817e83
mov     eax, [esp+arg_4]
push    ebx
xor     ebx, ebx
cmp     word ptr [eax+18h], 0ffffh
jnz     short loc_27817f27
xor     eax, eax
pop     ebx
retn    8
push    edi
mov     edi, [esp+8+arg_0]
push    esi
mov     esi, [eax+8]
test    esi, esi
jz      short loc_27817f83
mov     cl, [esi+1ah]
cmp     cl, [eax+1ah]
jbe     short loc_27817f83
or      word ptr [esi+18h], 0ffffh
cmp     word ptr [esi+16h], 0
jnz     short loc_27817f52
push    0
push    esi
push    edi
call    sub_27817c5e
push    esi
push    edi
call    sub_277f0ac2
movzx   ecx, word ptr [esi+16h]
add     eax, ecx
movzx   ecx, bx
cmp     ecx, eax
jge     short loc_27817f73
push    esi
push    edi
call    sub_277f0ac2
mov     ebx, eax
add     bx, [esi+16h]
push    esi
call    sub_277f0835
mov     esi, eax
mov     eax, [esp+0ch+arg_4]
test    esi, esi
jnz     short loc_27817f34
push    eax
push    edi
call    sub_27817a0f
test    byte ptr [edi+9], 20h
mov     [edi+0bch], eax
jnz     short loc_27817fae
cmp     bx, [edi+0b6h]
lea     esi, [edi+0b6h]
jnz     short loc_27817fae
push    edi
call    sub_27817bac
mov     [esi], ax
push    edi
call    sub_278183a8
push    1
pop     eax
pop     esi
pop     edi
jmp     loc_27817f23
mov     ecx, [esp+arg_0]
mov     eax, [ecx+8]
test    eax, eax
jnz     short locret_27817fdc
cmp     dword ptr [ecx+4], 0
jnz     short loc_27817fd9
mov     ecx, [ecx]
test    ecx, ecx
jnz     short loc_27817fc9
xor     eax, eax
jmp     short locret_27817fdc
mov     eax, [ecx+4]
retn    4
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+arg_0]
push    edi
push    dword ptr [esi]
call    ds:getdc
mov     ebx, eax
mov     eax, [esi+1ch]
xor     ebp, ebp
mov     edi, [eax+8]
mov     eax, [esi+74h]
test    eax, eax
jz      short loc_2781800a
push    eax
push    ebx
call    ds:selectobject
mov     ebp, eax
test    edi, edi
jz      short loc_27818035
test    byte ptr [edi+10h], 10h
jz      short loc_27818027
push    0
push    edi
push    esi
call    sub_27817c5e
push    edi
call    sub_27817fbe
mov     edi, eax
jmp     short loc_2781800a
push    edi
push    esi
push    ebx
call    sub_27817c02
mov     [edi+16h], ax
jmp     short loc_2781801d
test    ebp, ebp
jz      short loc_27818041
push    ebp
push    ebx
call    ds:selectobject
push    ebx
push    dword ptr [esi]
call    ds:releasedc
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebx
mov     ebx, [esp+4+hdc]
push    esi
push    edi
test    ebx, ebx
jz      short loc_278180ab
mov     esi, [esp+0ch+arg_0]
push    ebx
push    esi
call    sub_277f0ac2
mov     edi, eax
push    0
movzx   eax, word ptr [ebx+16h]
push    ebx
push    esi
add     edi, eax
call    sub_27817c5e
test    byte ptr [esi+9], 20h
jnz     short loc_27818098
movzx   eax, word ptr [esi+0b6h]
lea     ebx, [esi+0b6h]
cmp     eax, edi
jnz     short loc_278180a3
push    esi
call    sub_27817bac
mov     [ebx], ax
push    esi
call    sub_278183a8
push    1
pop     eax
jmp     short loc_278180a5
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
mov     esi, [esp+0ch+arg_0]
push    esi
call    sub_27817fdf
push    esi
call    sub_27817bac
mov     [esi+0b6h], ax
jmp     short loc_27818098
mov     eax, [esp+arg_4]
push    esi
test    eax, eax
jz      short loc_2781811c
mov     ecx, [esp+4+arg_0]
test    ecx, ecx
jz      short loc_2781811c
mov     edx, [ecx+0c4h]
test    edx, edx
jz      short loc_2781811c
mov     ax, [eax+18h]
cmp     ax, 0ffffh
jz      short loc_2781811c
mov     si, [edx+18h]
cmp     ax, si
jnb     short loc_27818102
push    0
movzx   eax, ax
push    eax
push    ecx
call    sub_27818290
pop     esi
retn    8
movzx   edx, word ptr [ecx+0b8h]
movzx   esi, si
movzx   eax, ax
add     esi, edx
cmp     eax, esi
jl      short loc_2781811c
sub     eax, edx
push    0
inc     eax
jmp     short loc_278180f7
xor     eax, eax
jmp     short loc_278180fe
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    ebx
push    esi
call    sub_278180c4
movsx   edi, word ptr [esi+0a4h]
mov     [ebp+arg_4], eax
movzx   eax, word ptr [ebx+16h]
add     edi, eax
movsx   eax, word ptr [esi+0b2h]
add     edi, [esi+68h]
cmp     edi, eax
jbe     short loc_27818153
mov     edi, eax
push    ebx
push    esi
call    sub_277f0ac2
movsx   edx, word ptr [esi+0bah]
cmp     eax, edx
jl      short loc_27818179
movsx   ecx, word ptr [esi+0b2h]
add     edx, ecx
lea     ebx, [eax+edi]
cmp     ebx, edx
jbe     short loc_27818183
add     eax, edi
sub     eax, ecx
push    eax
push    esi
call    sub_2781818d
or      [ebp+arg_4], eax
mov     eax, [ebp+arg_4]
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     ecx, [esi+18h]
test    cl, 1
jz      loc_27818254
test    byte ptr [esi+9], 20h
jnz     loc_27818254
movsx   edx, word ptr [esi+0b2h]
movzx   eax, word ptr [esi+0b6h]
mov     ebx, [ebp+npos]
sub     eax, edx
cmp     ebx, eax
jle     short loc_278181c8
mov     ebx, eax
xor     edi, edi
cmp     ebx, edi
jge     short loc_278181d0
xor     ebx, ebx
movsx   eax, word ptr [esi+0bah]
cmp     ebx, eax
jz      short loc_27818254
test    cl, 10h
jz      short loc_27818231
mov     ecx, [esi]
sub     eax, ebx
mov     [ebp+var_2c], eax
mov     eax, [esi+0c8h]
push    1
mov     [ebp+var_10], eax
pop     eax
mov     [ebp+var_28], edi
mov     [ebp+var_24], edi
mov     [ebp+var_20], edi
mov     [ebp+var_1c], edi
mov     [ebp+var_18], edi
mov     [ebp+var_c], eax
mov     [ebp+var_8], eax
xor     eax, eax
lea     edi, [ebp+var_4]
mov     [ebp+dy], 38h
mov     [ebp+var_34], 3
mov     [ebp+var_30], ecx
mov     [ebp+var_14], 6
stosd
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
xor     edi, edi
push    1
push    ebx
push    edi
mov     [esi+0bah], bx
push    dword ptr [esi]
call    ds:setscrollpos
push    esi
call    sub_277f223b
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
xor     eax, eax
jmp     short loc_2781824d
mov     ecx, [esp+arg_0]
push    esi
test    ecx, ecx
jz      short loc_2781828a
test    ecx, ecx
mov     eax, ecx
jz      short loc_27818285
movzx   edx, word ptr [eax+18h]
cmp     edx, [esp+4+arg_4]
ja      short loc_27818285
mov     esi, [eax+20h]
mov     ecx, eax
add     esi, edx
cmp     esi, [esp+4+arg_4]
ja      short loc_2781828c
mov     eax, [eax+4]
test    eax, eax
jnz     short loc_27818267
mov     ecx, [ecx+8]
jmp     short loc_2781825d
xor     eax, eax
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
mov     eax, [esi+1ch]
mov     ebx, [eax+8]
cmp     ebx, edi
jz      loc_278183a4
test    byte ptr [esi+9], 20h
jnz     loc_2781839d
mov     eax, [ebp+npos]
cmp     eax, 0ffffffffh
jz      loc_2781839d
movzx   ecx, word ptr [esi+0b8h]
mov     edx, [esi+0bch]
cmp     edx, ecx
jbe     loc_2781839d
sub     edx, ecx
cmp     eax, edx
jbe     short loc_278182df
mov     eax, edx
cmp     eax, edi
jbe     short loc_278182f0
mov     ecx, [esi+0bch]
cmp     eax, ecx
jb      short loc_278182f0
lea     eax, [ecx-1]
push    eax
push    ebx
call    sub_27818258
cmp     eax, edi
jz      loc_278183a4
mov     ecx, [esi+0c4h]
lea     edx, [esi+0c4h]
cmp     ecx, eax
jz      loc_278183a4
movzx   ebx, word ptr [eax+18h]
movzx   ecx, word ptr [ecx+18h]
test    byte ptr [esi+18h], 10h
push    1
mov     [ebp+npos], ebx
mov     [edx], eax
pop     ebx
jz      short loc_27818381
mov     eax, [esi]
sub     ecx, [ebp+npos]
mov     [ebp+var_30], eax
mov     [ebp+var_2c], edi
movsx   eax, word ptr [esi+0aah]
imul    ecx, eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_24], edi
or      al, 6
mov     [ebp+var_20], edi
mov     [ebp+var_14], eax
mov     eax, [esi+0c8h]
mov     [ebp+var_1c], edi
mov     [ebp+var_18], edi
mov     [ebp+var_10], eax
xor     eax, eax
lea     edi, [ebp+var_4]
mov     [ebp+dy], 38h
mov     [ebp+var_34], 3
mov     [ebp+var_28], ecx
mov     [ebp+var_c], ebx
mov     [ebp+var_8], ebx
stosd
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
push    ebx
push    [ebp+npos]
push    ebx
push    dword ptr [esi]
call    ds:setscrollpos
push    esi
call    sub_277f223b
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     eax, eax
jmp     loc_278182df
xor     eax, eax
jmp     short loc_27818396
push    ebp
mov     ebp, esp
sub     esp, 20h
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
test    byte ptr [esi+9], 20h
mov     [ebp+var_4], edi
jz      short loc_278183c6
xor     eax, eax
pop     edi
pop     esi
leave
retn    4
mov     cx, [esi+0b6h]
mov     dx, [esi+0b2h]
cmp     cx, dx
push    ebx
mov     [ebp+var_20.cbsize], 1ch
jle     loc_2781847f
mov     eax, [esi+18h]
push    1
pop     ebx
test    bl, al
jnz     short loc_278183f7
or      eax, ebx
mov     [ebp+var_4], ebx
mov     [esi+18h], eax
movzx   eax, cx
dec     eax
push    ebx
mov     [ebp+var_20.nmax], eax
mov     [ebp+var_20.fmask], 3
movsx   eax, dx
mov     [ebp+var_20.npage], eax
lea     eax, [ebp+var_20]
push    eax
push    edi
push    dword ptr [esi]
mov     [ebp+var_20.nmin], edi
call    ds:setscrollinfo
push    eax
push    esi
call    sub_2781818d
movzx   ecx, word ptr [esi+0b8h]
mov     edx, [esi+0bch]
cmp     edx, ecx
jbe     short loc_278184a3
mov     eax, [esi+18h]
test    al, 2
jnz     short loc_27818443
or      al, 2
mov     [ebp+var_4], ebx
mov     [esi+18h], eax
push    edi
lea     eax, [ebp+var_20]
push    ebx
push    eax
push    ebx
dec     edx
push    dword ptr [esi]
mov     [ebp+var_20.fmask], 3
mov     [ebp+var_20.nmin], edi
mov     [ebp+var_20.nmax], edx
mov     [ebp+var_20.npage], ecx
call    ds:setscrollinfo
push    eax
push    esi
call    sub_27818290
cmp     [ebp+var_4], edi
jz      short loc_27818477
push    edi
push    edi
push    esi
call    sub_277f1ace
mov     eax, ebx
pop     ebx
jmp     loc_278183c0
push    1
pop     ebx
test    [esi+18h], bl
jz      short loc_27818423
push    edi
push    esi
call    sub_2781818d
push    ebx
push    edi
push    edi
push    edi
push    dword ptr [esi]
call    ds:setscrollrange
and     dword ptr [esi+18h], 0fffffffeh
mov     [ebp+var_4], ebx
jmp     short loc_27818423
test    byte ptr [esi+18h], 2
jz      short loc_2781846a
push    edi
push    edi
push    esi
call    sub_27818290
push    ebx
push    edi
push    edi
push    ebx
push    dword ptr [esi]
call    ds:setscrollrange
and     dword ptr [esi+18h], 0fffffffdh
mov     [ebp+var_4], ebx
jmp     short loc_2781846a
push    esi
mov     esi, [esp+4+hwnd]
push    edi
push    0
push    esi
call    sub_277f356b
mov     eax, [esp+8+arg_4]
sub     eax, 0
jz      short loc_2781854a
dec     eax
jz      short loc_27818541
dec     eax
jz      short loc_2781852c
dec     eax
jz      short loc_27818518
sub     eax, 3
jz      short loc_27818514
dec     eax
jz      short loc_278184f1
dec     eax
jnz     short loc_27818556
movsx   eax, word ptr [esi+0bah]
push    eax
push    esi
call    sub_2781818d
mov     edi, eax
test    edi, edi
jz      short loc_2781850d
push    dword ptr [esi]
call    ds:updatewindow
mov     eax, edi
pop     edi
pop     esi
retn    0ch
xor     eax, eax
jmp     short loc_278184f8
movsx   eax, word ptr [esi+0b2h]
movsx   ecx, word ptr [esi+0bah]
lea     eax, [eax+ecx-5]
jmp     short loc_278184f8
movsx   ecx, word ptr [esi+0b2h]
movsx   eax, word ptr [esi+0bah]
sub     eax, ecx
add     eax, 5
jmp     short loc_278184f8
movsx   eax, word ptr [esi+0bah]
jmp     short loc_2781853c
movsx   eax, word ptr [esi+0bah]
sub     eax, 5
jmp     short loc_278184f8
mov     eax, [esp+8+arg_8]
jmp     short loc_278184f8
push    ebp
mov     ebp, esp
push    ecx
push    esi
push    edi
mov     edi, [ebp+hwnd]
xor     esi, esi
mov     [ebp+var_4], esi
mov     eax, [edi+0c4h]
cmp     eax, esi
jnz     short loc_2781857c
xor     eax, eax
pop     edi
pop     esi
leave
retn    0ch
push    ebx
push    esi
movzx   ebx, word ptr [eax+18h]
push    edi
call    sub_277f356b
mov     eax, [ebp+arg_4]
cmp     eax, 8
ja      short def_27818590
jmp     ds:jpt_27818590[eax*4]
movzx   eax, word ptr [edi+0b8h]
mov     esi, [edi+0bch]
sub     esi, eax
push    [ebp+var_4]
push    esi
push    edi
call    sub_27818290
mov     esi, eax
test    esi, esi
jz      short loc_278185be
push    dword ptr [edi]
call    ds:updatewindow
mov     eax, esi
pop     ebx
jmp     short loc_27818576
mov     esi, ebx
jmp     short def_27818590
mov     eax, [edi+0c4h]
mov     esi, [eax+20h]
add     esi, ebx
jmp     short def_27818590
lea     esi, [ebx-1]
cmp     esi, ebx
jbe     short def_27818590
xor     esi, esi
jmp     short def_27818590
movzx   eax, word ptr [edi+0b8h]
lea     esi, [eax+ebx-1]
jmp     short def_27818590
movzx   eax, word ptr [edi+0b8h]
mov     esi, ebx
sub     esi, eax
inc     esi
jmp     short loc_278185d7
mov     esi, [ebp+arg_8]
mov     [ebp+var_4], 20000h
jmp     short def_27818590
mov     eax, [esp+8]
push    dword ptr [eax]
mov     eax, [esp+8]
push    dword ptr [eax]
call    ds:lstrcmpia
retn    0ch
mov     eax, [esp+0ch]
mov     ecx, [esp+8]
push    dword ptr [eax+8]
mov     ecx, [ecx+8]
push    dword ptr [ecx+1ch]
mov     ecx, [esp+0ch]
mov     ecx, [ecx+8]
push    dword ptr [ecx+1ch]
call    dword ptr [eax+4]
retn    0ch
mov     ecx, [esp+arg_0]
xor     eax, eax
mov     ecx, [ecx+8]
test    ecx, ecx
jz      short locret_27818673
mov     ecx, [ecx+4]
inc     eax
jmp     short loc_27818669
retn    4
push    ebp
mov     ebp, esp
sub     esp, 148h
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
mov     ebx, [eax]
test    ebx, ebx
jz      short loc_27818697
cmp     ebx, 0ffff0000h
jnz     loc_27818883
mov     edi, [ebp+arg_0]
mov     ebx, [edi+1ch]
push    ebx
call    sub_27818660
mov     esi, eax
test    esi, esi
jz      loc_27818929
push    esi
push    0ch
call    sub_278159c1
test    eax, eax
mov     [ebp+lpmem], eax
jz      loc_278188bc
push    esi
call    sub_27815c0e
test    eax, eax
mov     [ebp+var_8], eax
jz      loc_27818862
mov     esi, [ebx+8]
test    esi, esi
jz      loc_27818776
mov     edi, 7fffffffh
cmp     [ebp+arg_c], 0
jnz     loc_2781888b
cmp     dword ptr [esi+0ch], 0ffffffffh
jnz     loc_2781888b
lea     eax, [ebp+var_148]
mov     [ebp+var_34.fmask], 104h
mov     [ebp+var_34.cbsize], eax
lea     eax, [ebp+var_44]
push    eax
push    1
push    esi
push    [ebp+arg_0]
call    sub_27816aad
push    [ebp+var_34.cbsize]
and     [ebp+rect.top], 0
lea     eax, [ebp+rect.top]
mov     [ebp+rect.right], 1
push    eax
call    sub_2781617a
cmp     [ebp+rect.top], 0
jz      loc_27818945
lea     eax, [ebp+rect.top]
mov     [ebp+rect.bottom], esi
push    eax
push    edi
push    [ebp+lpmem]
call    sub_27815b10
test    eax, eax
jl      loc_27818934
push    eax
push    [ebp+lpmem]
call    sub_27815a87
push    eax
push    edi
push    [ebp+var_8]
call    sub_27815df2
test    eax, eax
jl      loc_27818945
mov     esi, [esi+4]
test    esi, esi
jnz     loc_278186e1
mov     edi, [ebp+arg_0]
mov     eax, [ebp+arg_c]
test    eax, eax
jnz     short loc_27818782
mov     eax, offset loc_2781862a
push    [ebp+arg_4]
push    eax
push    [ebp+var_8]
call    sub_27815f64
mov     edx, [ebp+var_8]
mov     eax, [edx+4]
mov     ecx, [eax]
mov     ecx, [ecx+8]
cmp     [ebx+8], ecx
jz      loc_2781889a
mov     [ebx+8], ecx
mov     [ebp+arg_c], ecx
mov     ecx, [edx]
dec     ecx
test    ecx, ecx
jle     short loc_278187d8
mov     esi, ecx
mov     ecx, [eax+4]
lea     edx, [eax+4]
mov     eax, [eax]
mov     ecx, [ecx+8]
mov     eax, [eax+8]
cmp     [eax+4], ecx
jz      short loc_278187d0
cmp     [ebp+arg_c], 0
jnz     short loc_278187cd
mov     [ebp+arg_c], ecx
mov     edi, [ebp+arg_0]
mov     [eax+4], ecx
dec     esi
mov     eax, edx
jnz     short loc_278187b1
mov     eax, [eax]
push    ebx
push    edi
mov     eax, [eax+8]
and     dword ptr [eax+4], 0
call    sub_27817a0f
mov     eax, [ebp+arg_4]
cmp     dword ptr [eax], 0ffff0000h
jz      short loc_278187f7
test    ebx, ebx
jnz     short loc_27818812
movzx   eax, word ptr [edi+0b8h]
cmp     [edi+0bch], eax
jnb     short loc_27818812
mov     eax, [edi+1ch]
mov     eax, [eax+8]
mov     [edi+0c4h], eax
xor     esi, esi
cmp     [ebp+arg_c], esi
jz      short loc_2781885a
test    byte ptr [ebx+10h], 20h
jz      short loc_2781885a
lea     eax, [ebp+rect]
push    esi
push    eax
push    [ebp+arg_c]
push    edi
call    sub_277f0b01
mov     eax, [ebx+4]
cmp     eax, esi
jz      short loc_278188a3
lea     ecx, [ebp+var_34.nmax]
push    esi
push    ecx
push    eax
push    edi
call    sub_277f0b01
mov     eax, [ebp+var_34.ntrackpos]
test    byte ptr [edi+18h], 10h
mov     [ebp+rect.bottom], eax
jz      short loc_2781885a
lea     eax, [ebp+rect]
push    1
push    eax
push    dword ptr [edi]
call    ds:invalidaterect
push    [ebp+var_8]
call    sub_27815c57
mov     eax, [ebp+lpmem]
mov     esi, [eax]
dec     esi
js      short loc_278188b4
push    esi
push    [ebp+lpmem]
call    sub_27815a87
cmp     dword ptr [eax+4], 0
jz      short loc_27818867
push    0
push    eax
call    sub_2781617a
jmp     short loc_27818867
mov     edi, [ebp+arg_0]
jmp     loc_2781869d
mov     eax, [esi+0ch]
and     [ebp+rect.right], 0
mov     [ebp+rect.top], eax
jmp     loc_27818735
and     [ebp+arg_c], 0
jmp     loc_278187a8
lea     eax, [ebp+var_34.nmax]
push    eax
push    dword ptr [edi]
call    ds:getclientrect
mov     eax, [ebp+var_34.ntrackpos]
jmp     short loc_27818843
push    [ebp+lpmem]
call    sub_278159e4
push    0fffffff0h
push    dword ptr [edi]
call    ds:getwindowlonga
test    eax, 200000h
jz      short loc_27818930
lea     eax, [ebp+var_34]
mov     [ebp+var_34.cbsize], 1ch
push    eax
push    1
push    dword ptr [edi]
mov     [ebp+var_34.fmask], 4
xor     esi, esi
call    ds:getscrollinfo
test    eax, eax
jz      short loc_278188f2
mov     esi, [ebp+var_34.npos]
push    0
push    esi
push    edi
call    sub_27818290
test    eax, eax
jz      short loc_27818907
push    dword ptr [edi]
call    ds:updatewindow
mov     esi, [edi+20h]
test    esi, esi
jz      short loc_27818926
mov     esi, [esi]
cmp     ebx, esi
jnz     short loc_2781891d
push    dword ptr [edi+20h]
push    edi
call    sub_277f0cfc
test    esi, esi
jz      short loc_27818926
cmp     esi, [edi+1ch]
jnz     short loc_2781890e
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
xor     esi, esi
jmp     short loc_278188f2
cmp     [ebp+rect.right], 0
jz      short loc_27818945
lea     eax, [ebp+rect.top]
push    0
push    eax
call    sub_2781617a
mov     edi, [ebp+arg_0]
jmp     loc_2781885a
push    offset loc_2781863f
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    sub_27818676
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 0ch
mov     eax, [ebp+arg_4]
push    0
push    [ebp+arg_8]
mov     [ebp+var_c], eax
lea     eax, [ebp+var_c]
push    eax
push    [ebp+arg_0]
call    sub_27818676
leave
retn    0ch
push    ebp
mov     ebp, esp
sub     esp, 68h
push    ebx
push    esi
mov     esi, [ebp+lpmem]
push    edi
mov     edi, [ebp+arg_0]
test    byte ptr [edi+19h], 20h
jz      loc_27818ab9
cmp     [edi+44h], esi
jnz     loc_27818ab9
xor     ebx, ebx
push    ebx
push    ebx
push    ebx
push    edi
call    sub_277f3934
push    esi
push    0fffffffch
push    dword ptr [edi]
push    8001h
call    sub_277b8949
mov     eax, [esi+8]
cmp     eax, ebx
jz      short loc_278189e6
mov     ecx, [ebp+arg_8]
and     ecx, 0fffffffdh
mov     [ebp+arg_0], ecx
push    [ebp+arg_0]
mov     ebx, [eax+4]
push    eax
push    edi
call    sub_27818987
test    ebx, ebx
mov     eax, ebx
jnz     short loc_278189d3
test    byte ptr [ebp+arg_8], 2
jnz     loc_27818ab2
cmp     [esi], ebx
jz      loc_27818ab2
test    byte ptr [ebp+arg_8], 1
jnz     short loc_27818a20
mov     eax, [esi+1ch]
mov     [ebp+var_54], esi
mov     [ebp+var_34], eax
lea     eax, [ebp+lparam]
push    eax
push    0fffffe67h
push    edi
mov     [ebp+var_30], ebx
mov     [ebp+var_58], 14h
call    sub_277b9838
cmp     [edi+30h], esi
jnz     short loc_27818a2c
push    ebx
push    edi
call    sub_277f2160
mov     eax, [esi]
cmp     [eax+8], esi
jnz     loc_27818ac0
mov     ecx, [esi+4]
mov     [ebp+arg_0], ebx
mov     [eax+8], ecx
dec     dword ptr [edi+0c0h]
push    esi
push    edi
call    sub_27817dc9
lea     eax, [esi+0ch]
push    ebx
push    eax
call    sub_2781617a
cmp     esi, [edi+28h]
jnz     short loc_27818a5f
mov     [edi+28h], ebx
cmp     esi, [edi+24h]
jnz     short loc_27818a67
mov     [edi+24h], ebx
cmp     esi, [edi+2ch]
jnz     short loc_27818a6f
mov     [edi+2ch], ebx
cmp     [edi+20h], esi
jnz     short loc_27818aa4
mov     eax, [esi+4]
cmp     eax, ebx
jnz     short loc_27818a8a
cmp     byte ptr [esi+1ah], 0
jnz     short loc_27818ad7
xor     eax, eax
cmp     eax, ebx
jnz     short loc_27818a8a
mov     eax, [ebp+arg_0]
mov     ecx, [ebp+arg_8]
push    ebx
not     ecx
shr     ecx, 2
and     ecx, 1
push    ebx
push    ecx
push    eax
push    9
push    edi
mov     [edi+20h], ebx
call    sub_277f0e41
push    esi
push    ebx
push    dword ptr [edi+94h]
call    ds:heapfree
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
xor     ebx, ebx
jmp     loc_278189b4
push    2
push    esi
push    edi
call    sub_277f19c9
mov     ecx, [esi+4]
mov     [ebp+arg_0], eax
mov     [eax+4], ecx
jmp     loc_27818a40
mov     eax, [esi]
jmp     short loc_27818a83
push    ebx
mov     ebx, [esp+4+lpmem]
push    esi
mov     esi, [esp+8+arg_0]
push    edi
xor     edi, edi
cmp     ebx, 0ffff0000h
jz      short loc_27818af4
cmp     ebx, edi
jnz     short loc_27818af7
mov     ebx, [esi+1ch]
push    edi
push    ebx
push    1
push    esi
call    sub_277f102d
mov     eax, [ebx]
mov     ecx, [esi+1ch]
cmp     eax, ecx
jz      loc_27818b8f
cmp     ebx, ecx
jz      short loc_27818b8f
cmp     word ptr [eax+18h], 0ffffh
jnz     short loc_27818b8f
push    edi
push    edi
push    eax
push    esi
call    sub_27817b32
cmp     ebx, [esi+1ch]
jnz     short loc_27818b2d
or      [esp+0ch+arg_8], 2
push    [esp+0ch+arg_8]
push    ebx
push    esi
call    sub_27818987
mov     eax, [esi+1ch]
cmp     [eax+8], edi
jnz     short loc_27818b86
and     dword ptr [esi+18h], 0fffffff7h
mov     [esi+0c0h], edi
mov     [esi+0c4h], edi
mov     [esi+20h], edi
mov     [esi+0b6h], di
mov     [esi+0bah], di
mov     [eax+4], edi
mov     eax, [esi+1ch]
mov     [eax], edi
mov     eax, [esi+1ch]
mov     [eax+8], edi
mov     eax, [esi+1ch]
or      byte ptr [eax+10h], 60h
mov     eax, [esi+1ch]
or      byte ptr [eax+1ah], 0ffh
mov     eax, [esi+1ch]
or      word ptr [eax+18h], 0ffffh
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn    0ch
test    byte ptr [esi+18h], 10h
jz      short loc_27818b23
push    1
push    edi
push    dword ptr [esi]
call    ds:invalidaterect
jmp     short loc_27818b23
push    esi
mov     esi, [esp+4+arg_0]
push    24h
push    8
push    dword ptr [esi+94h]
call    ds:heapalloc
test    eax, eax
jz      short loc_27818bd1
or      byte ptr [eax+1ah], 0ffh
or      word ptr [eax+18h], 0ffffh
mov     word ptr [eax+10h], 60h
push    1
mov     [esi+1ch], eax
pop     eax
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 100h
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
push    edi
test    ebx, ebx
jz      loc_27818c73
mov     eax, [ebx]
mov     [ebp+arg_4], eax
mov     eax, [ebx+4]
mov     [ebp+var_4], eax
mov     eax, [ebx+8]
test    eax, 0ffffff00h
mov     [ebp+var_8], eax
jz      short loc_27818c08
and     [ebp+var_8], 7fh
mov     edi, [ebp+hwnd]
push    0
push    edi
call    sub_277f356b
push    24h
push    8
push    dword ptr [edi+94h]
call    ds:heapalloc
mov     esi, eax
test    esi, esi
jz      short loc_27818c73
test    byte ptr [ebp+var_8], 1
jz      short loc_27818c7c
mov     eax, [ebx+18h]
test    eax, eax
jnz     short loc_27818c57
or      dword ptr [esi+0ch], 0ffffffffh
mov     edx, [ebp+arg_4]
xor     ecx, ecx
cmp     edx, ecx
jz      short loc_27818c8c
cmp     edx, 0ffff0000h
jz      short loc_27818c8c
mov     eax, [edi+1ch]
cmp     [eax+8], ecx
jnz     short loc_27818ca5
push    esi
push    ecx
jmp     short loc_27818c67
push    eax
lea     eax, [esi+0ch]
push    eax
call    sub_2781617a
test    eax, eax
jnz     short loc_27818c3a
push    esi
push    eax
push    dword ptr [edi+94h]
call    ds:heapfree
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
lea     eax, [esi+0ch]
push    offset byte_277cba1c
push    eax
call    sub_2781617a
jmp     short loc_27818c3a
mov     eax, [edi+1ch]
cmp     [edi+0c4h], ecx
mov     [ebp+arg_4], eax
lea     eax, [edi+0c4h]
jnz     short loc_27818ca2
mov     [eax], esi
mov     edx, [ebp+arg_4]
cmp     [ebp+var_4], 0ffff0001h
jz      loc_27818e27
cmp     [ebp+var_4], 0ffff0003h
jz      loc_27818e27
mov     eax, [edx+8]
cmp     eax, ecx
jz      loc_27818e27
cmp     [ebp+var_4], 0ffff0002h
mov     ecx, [eax+4]
jnz     short loc_27818ce1
test    ecx, ecx
jz      short loc_27818cf6
mov     eax, ecx
mov     ecx, [eax+4]
jmp     short loc_27818cd6
test    ecx, ecx
jz      short loc_27818cf6
cmp     eax, [ebp+var_4]
jz      short loc_27818cf3
mov     eax, ecx
mov     ecx, [eax+4]
test    ecx, ecx
jnz     short loc_27818ce5
mov     edx, [ebp+arg_4]
mov     ecx, [eax+4]
mov     [esi+4], ecx
mov     [eax+4], esi
mov     [esi], edx
mov     al, [edx+1ah]
inc     al
mov     [esi+1ah], al
mov     al, byte ptr [ebp+var_8]
test    al, 80h
jz      loc_27818e35
mov     ecx, [ebx+30h]
mov     [esi+20h], ecx
cmp     [edi+0c4h], esi
jnz     loc_27818e41
and     word ptr [esi+18h], 0
test    al, 2
jz      short loc_27818d37
mov     cx, [ebx+20h]
mov     [esi+12h], cx
test    al, 20h
jz      short loc_27818d43
mov     cx, [ebx+24h]
mov     [esi+14h], cx
test    al, 4
jz      short loc_27818d4d
mov     ecx, [ebx+2ch]
mov     [esi+1ch], ecx
test    al, 8
jz      short loc_27818d5d
mov     ax, [ebx+10h]
and     ax, [ebx+14h]
mov     [esi+10h], ax
test    byte ptr [edi+9], 1
jz      short loc_27818d73
mov     ax, [esi+10h]
test    ah, 0f0h
jnz     short loc_27818d73
or      ah, 10h
mov     [esi+10h], ax
test    byte ptr [esi+10h], 10h
jz      short loc_27818d88
cmp     dword ptr [edi+7ch], 0
jnz     short loc_27818d88
push    edi
call    sub_277f18aa
mov     edx, [ebp+arg_4]
test    byte ptr [ebp+var_8], 40h
jz      short loc_27818da6
mov     eax, [ebx+28h]
cmp     eax, 0ffffffffh
jz      loc_27818e55
test    eax, eax
jz      loc_27818e4c
mov     byte ptr [esi+1bh], 1
inc     dword ptr [edi+0c0h]
cmp     [ebp+var_4], 0ffff0003h
jnz     loc_27818e7a
mov     eax, [edx+8]
test    eax, eax
jz      loc_27818e7a
cmp     dword ptr [eax+4], 0
jz      loc_27818e7a
lea     eax, [ebp+var_c0]
mov     [ebp+var_40], 40h
mov     [ebp+lpstring1], eax
lea     eax, [ebp+var_54]
push    eax
push    1
push    esi
push    edi
call    sub_27816aad
mov     ebx, [esi+4]
test    ebx, ebx
jz      short loc_27818e5e
lea     eax, [ebp+var_100]
mov     [ebp+var_6c], 40h
mov     [ebp+lpstring2], eax
lea     eax, [ebp+var_80]
push    eax
push    1
push    ebx
push    edi
call    sub_27816aad
push    [ebp+lpstring2]
push    [ebp+lpstring1]
call    ds:lstrcmpia
test    eax, eax
jl      short loc_27818e5e
mov     [ebp+var_4], ebx
mov     ebx, [ebx+4]
jmp     short loc_27818dee
mov     eax, [edx+8]
mov     [esi+4], eax
mov     [edx+8], esi
jmp     loc_27818cff
mov     dword ptr [esi+20h], 1
jmp     loc_27818d1a
or      word ptr [esi+18h], 0ffffh
jmp     loc_27818d2b
mov     byte ptr [esi+1bh], 2
jmp     loc_27818da6
mov     byte ptr [esi+1bh], 3
jmp     loc_27818da6
mov     eax, [ebp+var_4]
cmp     eax, 0ffff0003h
jz      short loc_27818e7a
mov     edx, [ebp+arg_4]
mov     ecx, [esi+4]
mov     [edx+8], ecx
mov     ecx, [eax+4]
mov     [esi+4], ecx
mov     [eax+4], esi
mov     eax, [esi+4]
cmp     eax, [edi+0c4h]
jnz     short loc_27818e96
test    byte ptr [edi+18h], 2
jnz     short loc_27818e96
and     word ptr [esi+18h], 0
mov     [edi+0c4h], esi
mov     eax, [edi+18h]
test    al, 10h
jz      loc_27818f23
shr     eax, 1
and     eax, 1
push    esi
push    edi
mov     ebx, eax
call    sub_27817d6d
test    eax, eax
jz      short loc_27818edf
mov     ax, [esi+18h]
cmp     ax, 0ffffh
jz      short loc_27818edf
mov     ecx, [edi+0c4h]
movzx   eax, ax
movzx   ecx, word ptr [ecx+18h]
sub     eax, ecx
test    eax, eax
jg      short loc_27818ed4
test    ebx, ebx
jnz     short loc_27818edf
push    1
push    eax
push    1
push    edi
call    sub_27817a8c
lea     eax, [ebp+rcupdate]
push    0
push    eax
push    esi
push    edi
call    sub_277f0b01
test    eax, eax
jz      short loc_27818f23
mov     ecx, [ebp+arg_4]
mov     eax, [ecx+8]
cmp     eax, esi
jnz     short loc_27818f39
mov     eax, ecx
lea     ecx, [ebp+var_28]
push    0
push    ecx
push    eax
push    edi
call    sub_277f0b01
test    eax, eax
jz      short loc_27818f13
mov     eax, [ebp+var_24]
mov     [ebp+rcupdate.top], eax
push    5
lea     eax, [ebp+rcupdate]
push    0
push    eax
push    dword ptr [edi]
call    ds:redrawwindow
push    esi
push    0fffffffch
push    dword ptr [edi]
push    8000h
call    sub_277b8949
mov     eax, esi
jmp     loc_27818c75
mov     ecx, [eax+4]
cmp     ecx, esi
jz      short loc_27818efc
mov     eax, ecx
jmp     short loc_27818f39
push    ebx
push    esi
mov     ebx, ds:deleteobject
push    edi
mov     edi, [esp+0ch+arg_0]
mov     eax, [edi+78h]
test    eax, eax
jz      short loc_27818f5b
push    eax
call    ebx
mov     eax, [edi+80h]
lea     esi, [edi+80h]
test    eax, eax
jz      short loc_27818f6e
push    eax
call    ebx
and     dword ptr [edi+78h], 0
and     dword ptr [esi], 0
pop     edi
pop     esi
pop     ebx
retn    4
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+hmem]
xor     ebp, ebp
push    edi
mov     eax, [esi]
and     dword ptr [esi+18h], 0ffffffefh
cmp     [esi+0e0h], ebp
mov     [esp+10h+hmem], eax
jz      short loc_27818fa0
push    2
push    ebp
push    esi
call    sub_277f18ea
push    0ffffffffh
push    esi
call    sub_277f2773
mov     eax, [esi+40h]
cmp     eax, ebp
jz      short loc_27818fb6
push    eax
call    ds:destroycursor
push    dword ptr [esi+0d4h]
lea     edi, [esi+0d4h]
call    ds:iswindow
test    eax, eax
jz      short loc_27818fd4
push    dword ptr [edi]
call    ds:destroywindow
push    6
mov     [edi], ebp
push    dword ptr [esi+1ch]
push    esi
call    sub_27818adb
push    dword ptr [esi+1ch]
push    ebp
push    dword ptr [esi+94h]
call    ds:heapfree
mov     eax, [esi+8ch]
mov     ebx, ds:deleteobject
cmp     eax, ebp
jz      short loc_2781902c
cmp     [esi+88h], ebp
lea     edi, [esi+88h]
jz      short loc_27819020
push    dword ptr [esi+84h]
push    eax
call    ds:selectobject
push    dword ptr [edi]
call    ebx
push    dword ptr [esi+8ch]
call    ds:deletedc
test    byte ptr [esi+18h], 40h
jz      short loc_2781903c
mov     eax, [esi+74h]
cmp     eax, ebp
jz      short loc_2781903c
push    eax
call    ebx
mov     eax, [esi+7ch]
cmp     eax, ebp
jz      short loc_27819046
push    eax
call    ebx
lea     eax, [esi+0dch]
push    ebp
push    eax
call    sub_2781617a
push    esi
call    sub_27818f44
push    esi
call    ds:localfree
push    ebp
push    ebp
push    [esp+18h+hmem]
call    ds:setwindowlonga
pop     edi
pop     esi
pop     ebp
pop     ebx
retn    4
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
push    0e4h
push    40h
call    ds:localalloc
mov     esi, eax
xor     edi, edi
cmp     esi, edi
jz      short loc_278190ab
call    ds:getprocessheap
push    esi
mov     [esi+94h], eax
call    sub_27818ba2
test    eax, eax
push    esi
jnz     short loc_278190b5
call    ds:localfree
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    edi
push    [ebp+hwnd]
call    ds:setwindowlonga
mov     ebx, [ebp+arg_4]
push    ebx
push    [ebp+hwnd]
push    esi
call    sub_277b6303
test    byte ptr [ebx+2dh], 20h
jz      short loc_278190d6
or      dword ptr [esi+8], 40h
or      dword ptr [esi+18h], 10h
or      dword ptr [esi+9ch], 0ffffffffh
or      dword ptr [esi+98h], 0ffffffffh
or      dword ptr [esi+0c8h], 0ffffffffh
push    1
mov     [esi+0a0h], edi
pop     ebx
push    ebx
push    edi
push    esi
mov     [esi+0b8h], bx
call    sub_277f1780
mov     eax, [esi+8]
test    al, 2
jz      short loc_27819114
and     ah, 0efh
mov     [esi+8], eax
test    byte ptr [esi+8], 80h
jnz     short loc_27819120
push    esi
call    sub_2781913f
mov     esi, ds:setscrollrange
push    ebx
push    edi
push    edi
push    edi
push    [ebp+hwnd]
call    esi
push    ebx
push    edi
push    edi
push    ebx
push    [ebp+hwnd]
call    esi
xor     eax, eax
jmp     loc_278190ae
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
push    edi
mov     eax, 80000000h
push    dword_27828334
push    edi
push    dword ptr [esi]
push    eax
push    eax
push    eax
push    eax
push    80000002h
push    edi
push    offset amsvblibtooltip
push    edi
call    ds:createwindowexa
cmp     eax, edi
mov     [esi+0d4h], eax
jz      short loc_278191d4
mov     ecx, [esi]
or      [ebp+var_8], 0ffffffffh
mov     [ebp+var_24], ecx
mov     [ebp+var_20], ecx
lea     ecx, [ebp+lparam]
mov     [ebp+var_4], edi
push    ecx
push    edi
mov     edi, ds:sendmessagea
push    404h
push    eax
mov     [ebp+lparam], 2ch
mov     [ebp+var_28], 101h
call    edi
push    1
push    dword ptr [esi+74h]
push    30h
push    dword ptr [esi+0d4h]
call    edi
push    1f4h
push    3
push    403h
push    dword ptr [esi+0d4h]
call    edi
pop     edi
pop     esi
leave
retn    4
or      byte ptr [esi+8], 80h
jmp     short loc_278191ce
push    esi
xor     esi, esi
cmp     dword_2782c35c, esi
jnz     short loc_27819205
push    offset auser32_2
call    ds:getmodulehandlea
cmp     eax, esi
jz      short loc_27819205
push    offset aanimatewindow
push    eax
call    ds:getprocaddress
mov     dword_2782c35c, eax
mov     eax, dword_2782c35c
cmp     eax, esi
jz      short loc_2781921e
push    [esp+4+arg_8]
push    [esp+8+arg_4]
push    [esp+0ch+arg_0]
call    eax
mov     esi, eax
mov     eax, esi
pop     esi
retn    0ch
xor     eax, eax
push    esi
cmp     dword_27829f4c, eax
jnz     short loc_2781924c
cmp     dword_2782a854, eax
jnz     short loc_2781924c
push    57h
push    eax
push    eax
push    eax
push    eax
push    eax
push    [esp+1ch+hwnd]
call    ds:setwindowpos
pop     esi
retn    8
call    ds:getmessagepos
mov     ecx, eax
mov     eax, [esp+4+arg_4]
shr     ecx, 10h
mov     esi, [eax+4]
mov     eax, [eax+0ch]
sub     eax, esi
cdq
sub     eax, edx
xor     edx, edx
sar     eax, 1
movsx   ecx, cx
add     eax, esi
cmp     ecx, eax
setle   dl
dec     edx
and     edx, 4
add     edx, 4
mov     eax, edx
or      eax, 40000h
push    eax
push    78h
push    [esp+0ch+hwnd]
call    sub_278191da
jmp     short loc_27819248
cmp     dword_27829f4c, 0
jnz     short loc_278192a6
cmp     dword_2782a854, 0
jnz     short loc_278192a6
push    0dh
pop     eax
retn
push    1ah
pop     eax
retn
cmp     dword_27829f4c, 0
push    esi
mov     esi, ds:loadcursora
jnz     short loc_278192c3
cmp     dword_2782a854, 0
jz      short loc_278192d0
push    7f89h
push    0
call    esi
test    eax, eax
jnz     short loc_278192da
push    6ch
push    dword_27828334
call    esi
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 1b0h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [esi]
mov     ebx, [esi+3ch]
test    byte ptr [edi+9], 10h
jz      loc_278193dc
and     [ebp+var_54], 0
lea     eax, [ebp+var_1b0]
mov     [ebp+lpchtext], eax
lea     eax, [ebp+var_5c]
push    eax
push    edi
mov     [ebp+var_58], ebx
mov     [ebp+var_5c], 0bh
mov     [ebp+var_4c], 0ffffh
mov     [ebp+var_44], 104h
call    sub_2780011b
mov     eax, [ebp+lpchtext]
mov     [ebp+var_9c], eax
lea     eax, [ebp+var_9c]
push    eax
lea     eax, [ebp+rcsrc1]
push    0
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rc]
push    eax
push    ebx
push    edi
call    sub_27802440
and     [ebp+var_4], 0
test    byte ptr [esi+0ch], 80h
jz      short loc_2781936f
lea     eax, [ebp+rcsrc1]
push    0
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rc]
push    eax
push    ebx
push    edi
call    sub_2780387b
mov     eax, [esi+8]
test    eax, eax
jz      short loc_27819390
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      loc_27819574
test    byte ptr [edi+9], 10h
jnz     short loc_27819402
and     [ebp+var_54], 0
lea     eax, [ebp+var_1b0]
mov     [ebp+lpchtext], eax
lea     eax, [ebp+var_5c]
push    eax
push    edi
mov     [ebp+var_58], ebx
mov     [ebp+var_5c], 0bh
mov     [ebp+var_4c], 0ffffh
mov     [ebp+var_44], 104h
call    sub_2780011b
push    ebx
push    dword ptr [edi+18h]
call    sub_27815cea
cmp     [ebp+var_4], eax
jz      short loc_27819402
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebx
push    dword ptr [edi+18h]
call    sub_27815cea
mov     [ebp+var_4], eax
lea     eax, [ebp+rcsrc1]
push    0
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rc]
push    eax
push    ebx
push    edi
call    sub_27802300
jmp     loc_27819354
mov     eax, [esi+4]
test    eax, eax
jz      short loc_2781943a
mov     ecx, [eax+4]
mov     eax, [eax]
sub     ecx, [ebp+rcsrc1.top]
sub     eax, [ebp+rcsrc1.left]
push    ecx
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
mov     eax, [esi+4]
mov     ecx, [eax+4]
mov     eax, [eax]
sub     ecx, [ebp+rcsrc1.top]
sub     eax, [ebp+rcsrc1.left]
push    ecx
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
call    ds:offsetrect
test    byte ptr [edi+8], 3
push    dword ptr [esi+0ch]
jnz     loc_27819585
mov     eax, [ebp+rc.top]
mov     ecx, dword_2782a044
add     eax, ecx
mov     ecx, dword_2782a080
push    eax
mov     eax, [ebp+rc.left]
add     eax, ecx
push    eax
lea     eax, [ebp+var_5c]
push    dword ptr [esi+28h]
push    eax
push    edi
call    sub_2781c187
mov     [ebp+arg_0], eax
mov     eax, [ebp+rcsrc2.bottom]
mov     ecx, eax
sub     ecx, [ebp+rcsrc2.top]
cmp     ecx, [edi+44h]
jle     loc_2781957c
or      [ebp+arg_0], 1
cmp     dword_27829f50, 3b5h
jnz     short loc_278194a6
cmp     dword_27829f4c, 0
jnz     short loc_278194a2
cmp     dword_2782a854, 0
jz      short loc_278194a6
or      byte ptr [ebp+arg_0+1], 10h
cmp     [edi+0e0h], ebx
jz      loc_27819574
sub     eax, [ebp+rcsrc2.top]
cmp     eax, [edi+44h]
jle     short loc_2781950c
or      [ebp+arg_0], 1
test    byte ptr [edi+9], 10h
jz      loc_278195a3
push    0
push    0
lea     eax, [ebp+var_9c]
push    ebx
push    eax
push    edi
call    sub_2781a569
push    eax
push    0
call    ds:releasedc
mov     eax, [esi]
mov     ecx, dy
mov     eax, [eax+44h]
lea     eax, [ecx+eax*2]
movsx   ecx, [ebp+var_88]
cmp     ecx, eax
jle     short loc_27819502
or      word ptr [ebp+arg_0], 404h
mov     eax, [edi+8]
and     eax, 3
cmp     al, 2
jnz     short loc_27819510
or      [ebp+arg_0], 2
mov     eax, [esi+0ch]
test    al, 2
jz      short loc_2781951b
or      byte ptr [ebp+arg_0], 80h
mov     ecx, [ebp+arg_0]
test    cl, 8
jz      short loc_2781952a
test    al, 40h
jz      short loc_2781952a
or      ch, 2
mov     eax, [ebp+lpchtext]
test    eax, eax
jz      short loc_27819574
cmp     byte ptr [eax], 0
jz      short loc_27819574
test    byte ptr [edi+25h], 20h
jz      short loc_2781953f
or      ch, 8
push    dword ptr [esi+4ch]
push    dword ptr [esi+48h]
push    dword ptr [edi+4ch]
push    dword ptr [edi+44h]
push    ecx
lea     ecx, [ebp+rcsrc2]
push    0
push    ecx
push    eax
push    dword ptr [esi+28h]
call    sub_27803131
test    byte ptr [esi+0ch], 8
jz      short loc_27819574
test    [ebp+var_50], 1
jz      short loc_27819574
lea     eax, [ebp+rcsrc2]
push    eax
push    dword ptr [esi+28h]
call    ds:drawfocusrect
push    1
pop     eax
jmp     loc_278193d5
or      [ebp+arg_0], 2
jmp     loc_27819484
push    [ebp+rc.top]
lea     eax, [ebp+var_5c]
push    [ebp+rc.left]
push    dword ptr [esi+28h]
push    eax
push    edi
call    sub_2781c187
mov     [ebp+arg_0], eax
mov     eax, [ebp+rcsrc2.bottom]
jmp     loc_278194a6
mov     eax, [esi]
mov     ecx, dy
mov     eax, [eax+44h]
lea     eax, [ecx+eax*2]
mov     ecx, [ebp+var_4]
movsx   ecx, word ptr [ecx+14h]
cmp     ecx, eax
jle     loc_27819510
or      word ptr [ebp+arg_0], 404h
jmp     loc_27819510
push    ebp
mov     ebp, esp
sub     esp, 94h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     ebx, [esi+0c4h]
mov     edi, [esi+0c8h]
add     ebx, [ebp+pt.x]
add     edi, [ebp+pt.y]
cmp     dword ptr [esi+0cch], 7fffffffh
mov     [ebp+var_c.x], ebx
mov     [ebp+var_c.y], edi
jnz     short loc_27819604
push    esi
call    sub_27819dbc
and     [ebp+var_4], 0
test    byte ptr [esi+9], 10h
jz      loc_278196da
push    1
push    esi
call    sub_27819d38
push    eax
push    edi
push    ebx
push    esi
call    sub_2781a1c4
test    byte ptr [esi+9], 10h
mov     [ebp+hmem], eax
jz      short loc_27819691
mov     eax, [esi+15ch]
cmp     [ebp+hmem], eax
jge     short loc_2781966e
lea     eax, [ebp+var_94]
push    0
push    eax
lea     eax, [ebp+var_24]
push    eax
lea     eax, [ebp+rc]
push    eax
push    [ebp+hmem]
push    esi
call    sub_2781994d
push    [ebp+pt.y]
mov     ebx, ds:ptinrect
lea     eax, [ebp+rc]
push    [ebp+pt.x]
push    eax
call    ebx
test    eax, eax
jz      short loc_278196c1
mov     [ebp+var_4], 2
cmp     [ebp+var_4], 0
jnz     short loc_27819698
or      [ebp+hmem], 0ffffffffh
mov     [ebp+var_4], 1
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+var_4]
pop     edi
pop     esi
mov     [eax], ecx
mov     eax, [ebp+hmem]
pop     ebx
leave
retn    10h
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_27819632
test    byte ptr [esi+9], 10h
jnz     short loc_2781967f
mov     ecx, [esi+0c0h]
mov     edx, [ebp+hmem]
mov     eax, [esi+18h]
mov     ecx, [ecx+4]
mov     ecx, [ecx+edx*4]
mov     edx, [eax+4]
push    dword ptr [edx+ecx*4]
push    eax
call    sub_27815d0b
mov     [ebp+hmem], eax
jmp     short loc_2781967f
push    [ebp+pt.y]
lea     eax, [ebp+var_24]
push    [ebp+pt.x]
push    eax
call    ebx
test    eax, eax
jz      short loc_2781966e
mov     [ebp+var_4], 4
jmp     short loc_2781966e
and     [ebp+hmem], 0
mov     ecx, [esi+8]
test    ch, 10h
jz      loc_278198cf
mov     eax, [esi+15ch]
cmp     [ebp+hmem], eax
jge     loc_2781966e
mov     eax, [esi+0c0h]
mov     edx, [ebp+hmem]
test    cl, 3
mov     eax, [eax+4]
mov     eax, [eax+edx*4]
mov     edx, [esi+18h]
mov     edx, [edx+4]
mov     ebx, [edx+eax*4]
mov     eax, [esi+0b8h]
mov     [ebp+pt.y], eax
jnz     loc_278198d9
mov     eax, [esi+0b4h]
mov     [ebp+var_14], eax
mov     eax, [ebx+4]
mov     [ebp+var_44], eax
mov     eax, [ebx+8]
mov     edx, eax
sub     edx, dword_2782a044
mov     [ebp+rc.top], edx
mov     edx, dword_2782a094
add     eax, edx
add     eax, [esi+0bch]
test    cl, 80h
mov     [ebp+var_24.top], eax
jz      loc_278198e4
movsx   ecx, word ptr [ebx+12h]
add     eax, ecx
push    ebx
push    esi
mov     [ebp+var_24.bottom], eax
call    sub_277fb6f5
test    eax, eax
jnz     short loc_27819787
mov     eax, [esi+44h]
mov     ecx, [ebp+var_24.top]
lea     eax, [ecx+eax*2]
mov     ecx, dy
add     eax, ecx
cmp     [ebp+var_24.bottom], eax
jl      short loc_27819787
mov     [ebp+var_24.bottom], eax
cmp     edi, [ebp+rc.top]
jl      loc_278198c7
cmp     edi, [ebp+var_24.bottom]
jge     loc_278198c7
mov     ecx, [ebp+var_44]
mov     eax, dword_2782a080
mov     edx, [esi+20h]
sub     ecx, eax
and     edx, 4
mov     [ebp+var_3c], edx
jz      loc_278198ed
mov     edi, [esi+14ch]
add     ecx, edi
cmp     [ebp+pt.y], 0
mov     [ebp+rc.left], ecx
jnz     short loc_278197da
test    edx, edx
jz      short loc_278197da
mov     edx, [esi+8]
and     dl, 3
neg     dl
sbb     edx, edx
and     edx, 0fffffff0h
add     edx, 20h
mov     [ebp+pt.y], edx
mov     edx, dword_2782a044
mov     edi, [ebp+rc.top]
lea     eax, [ecx+eax*2]
add     eax, [esi+0b8h]
lea     edx, [edi+edx*2]
mov     [ebp+rc.right], eax
mov     eax, [esi+0bch]
mov     [ebp+var_38], eax
add     edx, eax
mov     eax, [esi+8]
mov     [ebp+rc.bottom], edx
mov     [ebp+pt.x], eax
and     [ebp+pt.x], 80h
jz      loc_278198f4
movsx   eax, word ptr [ebx+0eh]
mov     [ebp+var_10], eax
mov     eax, [ebp+pt.y]
cdq
sub     eax, edx
mov     edi, eax
mov     eax, [ebp+var_10]
cdq
sub     eax, edx
xor     edx, edx
sar     edi, 1
sar     eax, 1
sub     edi, eax
add     edi, [ebp+var_44]
cmp     [ebp+var_3c], edx
jz      loc_278198fd
mov     eax, [esi+14ch]
add     edi, eax
cmp     [ebp+pt.x], edx
mov     [ebp+var_24.left], edi
jz      loc_27819904
movsx   eax, word ptr [ebx+0eh]
add     edi, eax
mov     eax, [esi+14ch]
sub     ecx, eax
mov     [ebp+var_24.right], edi
mov     [ebp+var_54.left], ecx
add     ecx, eax
cmp     [ebp+var_14], edx
mov     [ebp+var_54.right], ecx
jz      loc_2781990d
test    byte ptr [esi+8], 3
mov     eax, [ebp+var_38]
jz      short loc_27819881
mov     eax, [esi+98h]
sub     eax, [esi+150h]
push    [ebp+var_c.y]
mov     ecx, [esi+150h]
cdq
push    [ebp+var_c.x]
sub     eax, edx
sar     eax, 1
add     eax, [ebp+rc.top]
mov     edi, ds:ptinrect
mov     [ebp+var_54.top], eax
add     ecx, eax
lea     eax, [ebp+rc]
mov     [ebp+var_54.bottom], ecx
push    eax
call    edi
test    eax, eax
jz      short loc_27819914
mov     [ebp+var_4], 2
cmp     [ebp+var_4], 0
jnz     loc_27819698
mov     edi, [ebp+var_c.y]
inc     [ebp+hmem]
jmp     loc_278196de
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_278196f0
mov     eax, [esi+90h]
jmp     loc_27819729
movsx   ecx, word ptr [ebx+14h]
jmp     loc_2781975e
xor     edi, edi
jmp     loc_278197b8
movsx   eax, word ptr [ebx+10h]
jmp     loc_27819817
xor     eax, eax
jmp     loc_27819842
movsx   eax, word ptr [ebx+10h]
jmp     loc_27819854
xor     eax, eax
jmp     loc_27819887
push    [ebp+var_c.y]
lea     eax, [ebp+var_24]
push    [ebp+var_c.x]
push    eax
call    edi
test    eax, eax
jz      short loc_2781992d
mov     [ebp+var_4], 4
jmp     short loc_278198ba
push    [ebp+var_c.y]
lea     eax, [ebp+var_54]
push    [ebp+var_c.x]
push    eax
call    edi
test    eax, eax
jz      loc_278198ba
mov     [ebp+var_4], 8
jmp     loc_278198ba
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
push    1
push    esi
call    sub_27819d38
mov     ebx, [ebp+arg_10]
push    eax
push    [ebp+arg_4]
push    ebx
push    esi
call    sub_2781a75a
push    [ebp+cchtext]
push    0
push    [ebp+arg_4]
push    ebx
push    esi
call    sub_2781a569
push    eax
push    0
call    ds:releasedc
test    byte ptr [esi+8], 80h
jz      loc_27819a8b
movsx   eax, word ptr [ebx+0eh]
mov     ecx, [ebp+arg_8]
mov     [ebp+hmem], eax
mov     eax, [ebx+4]
sub     eax, dword_2782a080
sub     eax, [esi+0c4h]
mov     [ecx], eax
test    byte ptr [esi+20h], 4
jz      loc_27819a94
mov     edx, [esi+14ch]
add     eax, edx
mov     edi, [ebp+arg_c]
mov     [ecx], eax
mov     edx, dword_2782a080
lea     eax, [eax+edx*2]
add     eax, [esi+0b8h]
mov     [ecx+8], eax
mov     eax, [ebx+8]
sub     eax, dword_2782a044
sub     eax, [esi+0c8h]
mov     [ecx+4], eax
mov     edx, dword_2782a044
lea     eax, [eax+edx*2]
add     eax, [esi+0bch]
mov     [ecx+0ch], eax
mov     eax, [ebp+hmem]
cdq
sub     eax, edx
mov     ecx, eax
mov     eax, [esi+0b8h]
cdq
sub     eax, edx
sar     ecx, 1
sar     eax, 1
sub     eax, ecx
mov     ecx, [ebx+4]
sub     eax, [esi+0c4h]
add     eax, ecx
mov     [edi], eax
test    byte ptr [esi+20h], 4
jz      short loc_27819a9b
mov     ecx, [esi+14ch]
add     eax, ecx
mov     ecx, [ebp+hmem]
add     ecx, eax
mov     [edi], eax
mov     [edi+8], ecx
mov     eax, dword_2782a094
sub     eax, [esi+0c8h]
mov     ecx, [ebx+8]
add     eax, [esi+0bch]
add     eax, ecx
mov     [edi+4], eax
test    byte ptr [esi+8], 80h
jz      short loc_27819a9f
movsx   ecx, word ptr [ebx+12h]
push    [ebp+arg_4]
add     eax, ecx
mov     [edi+0ch], eax
push    esi
call    sub_277fb6ca
test    eax, eax
jnz     short loc_27819a84
mov     eax, [esi+44h]
mov     ecx, dy
lea     eax, [ecx+eax*2]
mov     ecx, [edi+4]
add     eax, ecx
mov     ecx, [edi+0ch]
cmp     ecx, eax
jge     short loc_27819a81
mov     eax, ecx
mov     [edi+0ch], eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    18h
movsx   eax, word ptr [ebx+10h]
jmp     loc_27819992
xor     edx, edx
jmp     loc_278199b9
xor     ecx, ecx
jmp     short loc_27819a26
movsx   ecx, word ptr [ebx+14h]
jmp     short loc_27819a55
push    ebx
push    esi
mov     esi, [esp+8+hmem]
push    edi
mov     edi, [esp+0ch+arg_4]
mov     ebx, [esi+0b8h]
cmp     dword ptr [edi+4], 7fffffffh
jnz     short loc_27819ac5
push    esi
call    sub_27819dbc
mov     eax, [edi+4]
mov     ecx, [esp+0ch+arg_8]
sub     eax, dword_2782a080
sub     eax, [esi+0c4h]
mov     [ecx], eax
test    byte ptr [esi+20h], 4
jz      loc_27819bdb
mov     edx, [esi+14ch]
add     eax, edx
mov     [ecx], eax
mov     edx, dword_2782a080
lea     eax, [eax+edx*2]
add     eax, [esi+0b8h]
mov     [ecx+8], eax
mov     eax, [edi+8]
sub     eax, dword_2782a044
sub     eax, [esi+0c8h]
mov     [ecx+4], eax
mov     edx, dword_2782a044
lea     eax, [eax+edx*2]
add     eax, [esi+0bch]
test    ebx, ebx
mov     [ecx+0ch], eax
jnz     short loc_27819b31
test    byte ptr [esi+20h], 4
jz      short loc_27819b31
push    20h
pop     ebx
test    byte ptr [esi+8], 80h
jz      loc_27819be2
movsx   ecx, word ptr [edi+0eh]
mov     eax, ebx
cdq
sub     eax, edx
mov     ebx, eax
mov     eax, ecx
cdq
sub     eax, edx
sar     ebx, 1
sar     eax, 1
sub     ebx, eax
mov     eax, [edi+4]
sub     ebx, [esi+0c4h]
add     eax, ebx
mov     ebx, [esp+0ch+arg_c]
mov     [ebx], eax
test    byte ptr [esi+20h], 4
jz      loc_27819beb
mov     ecx, [esi+14ch]
add     eax, ecx
mov     [ebx], eax
test    byte ptr [esi+8], 80h
jz      short loc_27819bef
movsx   ecx, word ptr [edi+0eh]
add     eax, ecx
mov     [ebx+8], eax
mov     eax, dword_2782a094
sub     eax, [esi+0c8h]
mov     ecx, [esi+0bch]
add     eax, [edi+8]
add     eax, ecx
mov     [ebx+4], eax
test    byte ptr [esi+8], 80h
jz      short loc_27819bf5
movsx   ecx, word ptr [edi+12h]
add     eax, ecx
push    edi
push    esi
mov     [ebx+0ch], eax
call    sub_277fb6f5
test    eax, eax
jnz     short loc_27819bd5
mov     eax, [esi+44h]
mov     ecx, dy
lea     eax, [ecx+eax*2]
mov     ecx, [ebx+4]
add     eax, ecx
mov     ecx, [ebx+0ch]
cmp     ecx, eax
jge     short loc_27819bd2
mov     eax, ecx
mov     [ebx+0ch], eax
pop     edi
pop     esi
pop     ebx
retn    14h
xor     edx, edx
jmp     loc_27819aea
movsx   ecx, word ptr [edi+10h]
jmp     loc_27819b3f
xor     ecx, ecx
jmp     short loc_27819b72
movsx   ecx, word ptr [edi+10h]
jmp     short loc_27819b80
movsx   ecx, word ptr [edi+14h]
jmp     short loc_27819ba8
push    ebp
mov     ebp, esp
push    ecx
xor     ecx, ecx
push    ebx
cmp     [ebp+arg_8], ecx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     [ebp+var_4], ecx
jl      loc_27819cba
cmp     [esi+70h], ecx
jle     loc_27819cba
mov     eax, [ebp+arg_8]
mov     edx, [esi+74h]
shl     eax, 4
add     eax, edx
mov     edi, [eax+8]
mov     ebx, [eax+0ch]
sub     edi, [eax]
sub     ebx, [eax+4]
cmp     [ebp+arg_4], ecx
jz      short loc_27819c5e
push    esi
call    sub_27801081
test    eax, 200000h
mov     [ebp+var_4], eax
jz      short loc_27819c50
push    esi
call    sub_2780102b
add     edi, eax
test    byte ptr [ebp+var_4+2], 10h
jz      short loc_27819c5e
push    esi
call    sub_27801056
add     ebx, eax
mov     edx, [esi+8]
mov     eax, edx
and     eax, 3
cmp     eax, 2
jnz     short loc_27819cc5
mov     ecx, [esi+0a0h]
cmp     eax, 2
mov     [ebp+hmem], ecx
jnz     short loc_27819ccd
mov     ecx, [esi+0a4h]
cmp     [ebp+hmem], 0
jnz     short loc_27819c8c
mov     [ebp+hmem], 1
test    ecx, ecx
jnz     short loc_27819c93
push    1
pop     ecx
mov     eax, 0c00h
and     edx, eax
jz      short loc_27819d18
cmp     edx, 400h
jz      short loc_27819d18
cmp     edx, 800h
jz      short loc_27819cd5
cmp     edx, eax
jz      short loc_27819cd5
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     edi, [esi+68h]
mov     ebx, [esi+6ch]
jmp     loc_27819c33
mov     ecx, [esi+0ach]
jmp     short loc_27819c71
mov     ecx, [esi+0b0h]
jmp     short loc_27819c7f
mov     eax, ebx
cdq
idiv    ecx
cmp     eax, 1
jge     short loc_27819ce2
push    1
pop     eax
mov     edx, [ebp+var_4]
and     edx, 100000h
cmp     [ebp+arg_4], 0
jz      short loc_27819cb3
test    edx, edx
jz      short loc_27819cb3
imul    ecx, [ebp+hmem]
test    byte ptr [esi+9], 10h
mov     edx, ecx
jz      short loc_27819d31
mov     ecx, [esi+15ch]
cmp     edx, ecx
jge     short loc_27819cb3
push    [ebp+arg_8]
push    0
push    esi
call    sub_27819bfc
jmp     short loc_27819cb3
mov     eax, edi
cdq
idiv    [ebp+hmem]
cmp     eax, 1
jge     short loc_27819d26
push    1
pop     eax
mov     edx, [ebp+var_4]
and     edx, 200000h
jmp     short loc_27819ceb
mov     ecx, [esi+18h]
mov     ecx, [ecx]
jmp     short loc_27819d07
push    0ffffffffh
push    [esp+4+arg_4]
push    [esp+8+hmem]
call    sub_27819bfc
retn    8
mov     eax, [esp+arg_0]
mov     eax, [eax+8]
and     eax, 0c00h
cmp     eax, 800h
mov     eax, [esp+arg_4]
jnz     short loc_27819d67
mov     eax, [eax+4]
retn    8
mov     eax, [eax+8]
jmp     short locret_27819d64
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
xor     ebx, ebx
xor     edi, edi
test    byte ptr [esi+9], 10h
jz      short loc_27819dad
mov     eax, [esi+15ch]
cmp     edi, eax
jge     short loc_27819db4
mov     eax, [esi+18h]
mov     eax, [eax+4]
mov     eax, [eax+edi*4]
cmp     dword ptr [eax+8], 7fffffffh
jz      short loc_27819daa
push    eax
push    esi
call    sub_27819d4a
test    edi, edi
jz      short loc_27819da8
cmp     eax, ebx
jle     short loc_27819daa
mov     ebx, eax
inc     edi
jmp     short loc_27819d77
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_27819d83
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 9ch
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     edx, [esi+8]
test    dh, 10h
jz      loc_27819f60
mov     ecx, [esi+15ch]
lea     eax, [esi+164h]
xor     ebx, ebx
cmp     ecx, [eax]
setz    bl
xor     edi, edi
and     edx, 3
mov     [ebp+var_8], ebx
mov     [eax], edi
jz      short loc_27819dff
cmp     edx, 2
jnz     loc_2781a0ff
mov     eax, [esi+1ch]
test    al, 40h
jnz     loc_2781a0ff
or      al, 40h
push    edi
push    esi
mov     [esi+1ch], eax
mov     [ebp+hdc], edi
call    sub_27819d38
mov     [ebp+var_1c], eax
mov     eax, [esi+70h]
cmp     eax, edi
jle     short loc_27819e49
xor     ebx, ebx
cmp     eax, edi
jle     short loc_27819e49
lea     eax, [ebp+var_9c]
mov     [ebp+hmem], eax
push    ebx
push    edi
push    esi
call    sub_27819bfc
mov     ecx, [ebp+hmem]
add     [ebp+hmem], 4
inc     ebx
cmp     ebx, [esi+70h]
mov     [ecx], eax
jl      short loc_27819e32
mov     ebx, 7fffffffh
xor     eax, eax
cmp     [esi+0cch], ebx
setz    al
test    byte ptr [esi+9], 10h
mov     [ebp+var_c], eax
jnz     loc_27819f8b
cmp     [ebp+var_8], edi
mov     [ebp+var_14], ebx
jnz     short loc_27819e77
push    esi
call    sub_27819d6c
mov     [ebp+var_14], eax
or      [ebp+var_18], 0ffffffffh
mov     [ebp+hmem], edi
test    byte ptr [esi+9], 10h
jz      loc_27819f6a
mov     eax, [esi+15ch]
cmp     [ebp+hmem], eax
jge     loc_27819f7c
mov     eax, [esi+18h]
mov     ecx, [ebp+hmem]
mov     eax, [eax+4]
mov     ebx, [eax+ecx*4]
xor     eax, eax
cmp     [esi+70h], edi
jle     loc_27819f74
mov     ecx, [ebx+3ch]
mov     ecx, [ebp+ecx*4+var_9c]
cmp     dword ptr [ebx+8], 7fffffffh
mov     [ebp+var_10], ecx
jnz     short loc_27819f42
cmp     word ptr [ebx+14h], 7fffh
jz      short loc_27819ed4
cmp     word ptr [ebx+12h], 7fffh
jnz     short loc_27819ee5
push    edi
push    [ebp+hdc]
push    [ebp+hmem]
push    ebx
push    esi
call    sub_2781a569
mov     [ebp+hdc], eax
lea     eax, [ebp+hdc]
push    eax
lea     eax, [ebp+var_8]
push    eax
lea     eax, [ebp+var_c]
push    eax
mov     eax, [ebp+var_18]
push    [ebp+var_10]
inc     eax
push    eax
push    [ebp+hmem]
push    esi
call    sub_2781a47b
push    [ebp+var_10]
mov     [ebp+var_18], eax
push    eax
push    ebx
push    esi
call    sub_2781a75a
cmp     [ebp+var_8], edi
jnz     short loc_27819f28
push    ebx
push    esi
call    sub_27819d4a
cmp     eax, [ebp+var_14]
jle     short loc_27819f28
mov     [ebp+var_8], 1
cmp     [ebp+var_c], edi
jnz     short loc_27819f3f
push    ebx
push    esi
call    sub_27802668
test    eax, eax
jz      short loc_27819f3f
mov     [ebp+var_c], 1
push    1
pop     eax
cmp     eax, edi
jz      short loc_27819f53
push    edi
push    5
push    edi
push    [ebp+hmem]
push    esi
call    sub_2780255d
inc     [ebp+hmem]
mov     ebx, 7fffffffh
jmp     loc_27819e7e
mov     eax, [esi+18h]
mov     ecx, [eax]
jmp     loc_27819ddd
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_27819e8e
mov     ecx, [ebp+var_1c]
jmp     loc_27819eb8
cmp     [ebp+hdc], edi
jz      short loc_27819f8b
push    [ebp+hdc]
push    edi
call    ds:releasedc
cmp     [ebp+var_c], edi
jnz     short loc_27819f9c
cmp     [esi+0cch], ebx
jnz     loc_2781a0f2
lea     eax, [esi+0cch]
push    eax
call    ds:setrectempty
test    byte ptr [esi+9], 10h
jz      loc_2781a067
mov     ebx, [esi+15ch]
cmp     ebx, edi
jle     loc_2781a0bd
lea     eax, [esi+0cch]
push    edi
push    eax
push    edi
push    edi
push    edi
push    esi
dec     ebx
call    sub_27802300
lea     eax, [ebp+rcdst]
push    edi
push    eax
push    edi
push    edi
push    ebx
push    esi
call    sub_27802300
mov     eax, [ebp+rcdst.right]
mov     ecx, ebx
mov     [esi+0d4h], eax
mov     eax, [ebp+rcdst.bottom]
mov     [esi+0d8h], eax
mov     eax, [ebp+var_1c]
add     eax, 2
sub     ecx, eax
mov     [ebp+hmem], eax
jns     short loc_2781a004
xor     ecx, ecx
push    ebx
push    ecx
push    esi
call    sub_277f9d8c
dec     ebx
cmp     [ebp+hmem], edi
jle     loc_2781a0bd
cmp     ebx, edi
jl      loc_2781a0bd
lea     eax, [ebp+rcsrc2]
push    edi
push    eax
lea     eax, [ebp+var_4c]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    ebx
push    esi
call    sub_27802300
lea     eax, [ebp+rcsrc2]
push    edi
push    eax
lea     eax, [ebp+var_4c]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
push    ebx
push    esi
call    sub_2780387b
mov     eax, [ebp+rcsrc2.right]
cmp     eax, [ebp+rcdst.right]
jle     short loc_2781a054
mov     [esi+0d4h], eax
mov     eax, [ebp+rcsrc2.bottom]
cmp     eax, [ebp+rcdst.bottom]
jle     short loc_2781a062
mov     [esi+0d8h], eax
dec     [ebp+hmem]
jmp     short loc_2781a00c
xor     ebx, ebx
test    byte ptr [esi+9], 10h
jz      short loc_2781a0b6
mov     eax, [esi+15ch]
cmp     ebx, eax
jge     short loc_2781a0bd
lea     eax, [ebp+rcsrc2]
push    edi
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+var_4c]
push    eax
push    ebx
push    esi
call    sub_27802300
lea     eax, [ebp+rcsrc2]
push    edi
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+var_4c]
push    eax
push    ebx
push    esi
call    sub_2780387b
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [esi+0cch]
push    eax
push    eax
call    ds:unionrect
inc     ebx
jmp     short loc_2781a069
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_2781a075
mov     eax, dy
push    dword ptr [esi+0c8h]
add     [esi+0d8h], eax
mov     eax, dword_2782a06c
add     [esi+0d4h], eax
push    dword ptr [esi+0c4h]
lea     eax, [esi+0cch]
push    eax
call    ds:offsetrect
push    esi
call    sub_277ffcba
push    1
push    edi
push    esi
call    sub_277fa494
and     dword ptr [esi+1ch], 0ffffffbfh
pop     edi
pop     esi
pop     ebx
leave
retn    4
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
push    esi
push    edi
mov     edi, [ebp+arg_0]
cdq
mov     ecx, [edi]
test    ecx, ecx
jge     short loc_2781a153
sub     eax, edx
sar     eax, 1
sub     ecx, eax
mov     [edi], ecx
mov     esi, [ebp+arg_4]
mov     eax, [ebp+arg_c]
cdq
mov     ecx, [esi]
test    ecx, ecx
jge     short loc_2781a15d
sub     eax, edx
sar     eax, 1
sub     ecx, eax
mov     [esi], ecx
mov     ecx, [edi]
mov     eax, ecx
cdq
idiv    [ebp+arg_8]
sub     ecx, edx
mov     [edi], ecx
mov     ecx, [esi]
mov     eax, ecx
pop     edi
cdq
idiv    [ebp+arg_c]
sub     ecx, edx
mov     [esi], ecx
pop     esi
pop     ebp
retn    10h
sub     eax, edx
sar     eax, 1
add     eax, ecx
mov     [edi], eax
jmp     short loc_2781a120
sub     eax, edx
sar     eax, 1
add     eax, ecx
mov     [esi], eax
jmp     short loc_2781a135
push    ebx
push    esi
mov     esi, [esp+8+hmem]
push    edi
push    1
push    esi
call    sub_27819d38
mov     ebx, eax
mov     edi, [esp+0ch+arg_4]
push    ebx
mov     ecx, [edi+4]
mov     eax, [edi]
add     ecx, [esi+0c8h]
add     eax, [esi+0c4h]
push    ecx
push    eax
push    esi
call    sub_2781a1c4
push    ebx
mov     ecx, [esp+10h+arg_8]
mov     [ecx], eax
mov     eax, [edi+8]
mov     edi, [edi+0ch]
add     eax, [esi+0c4h]
add     edi, [esi+0c8h]
push    edi
push    eax
push    esi
call    sub_2781a1c4
inc     eax
pop     edi
mov     ecx, [esp+8+arg_c]
pop     esi
pop     ebx
mov     [ecx], eax
retn    10h
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
push    1
pop     eax
xor     ecx, ecx
cmp     [ebp+arg_c], eax
jge     short loc_2781a1d7
mov     [ebp+arg_c], eax
mov     eax, [ebp+arg_0]
mov     edx, [eax+8]
mov     ebx, edx
and     ebx, 3
cmp     bl, 2
jnz     short loc_2781a227
mov     esi, [eax+0a0h]
mov     edi, [eax+0a4h]
mov     eax, edx
and     eax, 0c00h
jz      short loc_2781a235
cmp     eax, 400h
jz      short loc_2781a235
cmp     eax, 800h
jnz     short loc_2781a21e
mov     eax, [ebp+arg_4]
cdq
idiv    esi
mov     ecx, eax
mov     eax, [ebp+arg_8]
imul    ecx, [ebp+arg_c]
cdq
idiv    edi
add     ecx, eax
pop     edi
pop     esi
mov     eax, ecx
pop     ebx
pop     ebp
retn    10h
mov     esi, [eax+0ach]
mov     edi, [eax+0b0h]
jmp     short loc_2781a1f3
mov     eax, [ebp+arg_8]
cdq
idiv    edi
mov     ecx, eax
mov     eax, [ebp+arg_4]
imul    ecx, [ebp+arg_c]
cdq
idiv    esi
jmp     short loc_2781a21c
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
mov     ecx, [eax+8]
and     ecx, 3
cmp     cl, 2
jnz     short loc_2781a274
mov     edx, [ebp+arg_4]
mov     ecx, [eax+0a0h]
mov     [edx], ecx
mov     eax, [eax+0a4h]
mov     ecx, [ebp+arg_8]
mov     [ecx], eax
pop     ebp
retn    0ch
mov     edx, [ebp+arg_4]
mov     ecx, [eax+0ach]
mov     [edx], ecx
mov     eax, [eax+0b0h]
jmp     short loc_2781a26b
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
push    1
push    esi
mov     eax, [esi+6ch]
mov     ebx, [esi+68h]
mov     [ebp+hmem], eax
mov     eax, [ebp+arg_8]
mov     [esi+68h], eax
mov     eax, [ebp+arg_c]
mov     [esi+6ch], eax
call    sub_27819d38
mov     edi, eax
mov     eax, [ebp+hmem]
mov     [esi+6ch], eax
mov     eax, [ebp+arg_4]
cmp     edi, eax
mov     [esi+68h], ebx
jl      short loc_2781a2c1
mov     edi, eax
test    edi, edi
jnz     short loc_2781a2c8
push    1
pop     edi
lea     eax, [edi+eax-1]
cdq
idiv    edi
test    byte ptr [esi+9], 0ch
mov     ebx, eax
jz      short loc_2781a2dd
mov     eax, edi
mov     edi, ebx
mov     ebx, eax
lea     eax, [ebp+arg_c]
push    eax
lea     eax, [ebp+arg_8]
push    eax
push    esi
call    sub_2781a249
imul    ebx, [ebp+arg_c]
imul    edi, [ebp+arg_8]
mov     ecx, dy
mov     eax, dword_2782a06c
add     ebx, ecx
add     edi, eax
movzx   ecx, bx
movzx   eax, di
shl     ecx, 10h
pop     edi
pop     esi
or      eax, ecx
pop     ebx
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_8]
push    esi
cmp     ebx, 1
push    edi
jge     short loc_2781a325
push    1
pop     ebx
mov     edi, [ebp+arg_0]
lea     eax, [ebp+arg_8]
push    eax
lea     eax, [ebp+arg_0]
push    eax
push    edi
call    sub_2781a249
mov     eax, [edi+8]
mov     ecx, [ebp+arg_10]
mov     esi, [ebp+arg_0]
and     eax, 0c00h
jz      short loc_2781a398
cmp     eax, 400h
jz      short loc_2781a398
cmp     eax, 800h
jnz     short loc_2781a36c
mov     eax, [ebp+arg_4]
cdq
idiv    ebx
mov     eax, [ebp+arg_4]
imul    edx, [ebp+arg_8]
mov     [ecx+4], edx
cdq
idiv    ebx
imul    eax, esi
mov     [ecx], eax
cmp     [ebp+arg_c], 0
jz      short loc_2781a383
mov     eax, [edi+0c4h]
sub     [ecx], eax
mov     eax, [edi+0c8h]
sub     [ecx+4], eax
mov     eax, [ecx+4]
pop     edi
add     eax, [ebp+arg_8]
add     esi, [ecx]
mov     [ecx+8], esi
pop     esi
mov     [ecx+0ch], eax
pop     ebx
pop     ebp
retn    14h
mov     eax, [ebp+arg_4]
cdq
idiv    ebx
mov     eax, [ebp+arg_4]
imul    edx, esi
mov     [ecx], edx
cdq
idiv    ebx
nop
imul    eax, [ebp+arg_8]
mov     [ecx+4], eax
jmp     short loc_2781a36c
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
test    byte ptr [ebx+9], 10h
jz      loc_2781a463
mov     eax, [ebx+15ch]
lea     edi, [eax-1]
test    eax, eax
jle     loc_2781a476
cmp     edi, [ebp+arg_8]
jz      short loc_2781a45b
mov     eax, [ebx+18h]
mov     eax, [eax+4]
mov     esi, [eax+edi*4]
cmp     dword ptr [esi+8], 7fffffffh
jz      short loc_2781a45b
cmp     word ptr [esi+14h], 7fffh
jz      short loc_2781a401
cmp     word ptr [esi+12h], 7fffh
jnz     short loc_2781a436
mov     eax, [ebp+arg_10]
push    0
push    dword ptr [eax]
push    edi
push    esi
push    ebx
call    sub_2781a569
mov     ecx, [ebp+arg_10]
push    0
push    5
push    0
push    edi
push    ebx
mov     [ecx], eax
call    sub_2780255d
push    esi
push    ebx
call    sub_27802668
test    eax, eax
jz      short loc_2781a436
mov     eax, [ebp+arg_c]
mov     dword ptr [eax], 1
xor     eax, eax
lea     ecx, [ebp+rcdst]
push    eax
push    ecx
push    eax
push    eax
push    edi
push    ebx
call    sub_27802300
push    [ebp+lprcsrc2]
lea     eax, [ebp+rcdst]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jnz     short loc_2781a46d
mov     eax, edi
dec     edi
jmp     loc_2781a3d2
mov     eax, [ebx+18h]
mov     eax, [eax]
jmp     loc_2781a3cf
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
push    1
pop     eax
jmp     short loc_2781a46f
push    ebp
mov     ebp, esp
sub     esp, 30h
mov     edx, [ebp+arg_14]
push    ebx
mov     ecx, [ebp+arg_4]
push    esi
mov     esi, [ebp+arg_0]
xor     ebx, ebx
cmp     [edx], ebx
push    edi
mov     eax, [esi+18h]
mov     eax, [eax+4]
mov     edi, [eax+ecx*4]
jz      short loc_2781a4db
dec     ecx
cmp     [esi+70h], ebx
jle     short loc_2781a4c5
cmp     ecx, ebx
jl      loc_2781a54c
mov     edx, [edi+3ch]
lea     eax, [eax+ecx*4]
mov     ebx, [eax]
cmp     [ebx+3ch], edx
jz      loc_2781a545
dec     ecx
xor     ebx, ebx
sub     eax, 4
cmp     ecx, ebx
jge     short loc_2781a4b0
cmp     ecx, ebx
jl      loc_2781a54c
lea     eax, [ebp+rcsrc1]
push    ebx
push    eax
push    ebx
push    ebx
push    ecx
push    esi
call    sub_27802300
lea     eax, [ebp+rc]
push    eax
push    1
push    [ebp+arg_c]
push    [ebp+arg_8]
push    esi
call    sub_2781a314
cmp     [esi+70h], ebx
jle     short loc_2781a50c
mov     eax, [edi+3ch]
mov     ecx, [esi+74h]
shl     eax, 4
add     eax, ecx
push    dword ptr [eax+4]
push    dword ptr [eax]
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
mov     eax, [ebp+arg_14]
cmp     [eax], ebx
jz      short loc_2781a529
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      short loc_2781a55f
push    [ebp+arg_18]
lea     eax, [ebp+rc]
push    [ebp+arg_10]
push    [ebp+arg_4]
push    eax
push    esi
call    sub_2781a3b3
test    eax, eax
jnz     short loc_2781a55f
inc     [ebp+arg_8]
jmp     short loc_2781a4db
xor     ebx, ebx
jmp     loc_2781a4c5
push    ebx
push    ebx
push    ebx
lea     eax, [ebp+rcsrc1]
push    ebx
push    eax
call    ds:setrect
jmp     loc_2781a4db
mov     eax, [ebp+arg_8]
pop     edi
pop     esi
pop     ebx
leave
retn    1ch
push    ebp
mov     ebp, esp
sub     esp, 150h
push    ebx
push    esi
push    edi
xor     edi, edi
cmp     [ebp+hdc], edi
jnz     loc_2781a68a
push    edi
call    ds:getdc
mov     esi, [ebp+arg_0]
mov     [ebp+hdc], eax
push    dword ptr [esi+28h]
push    eax
call    ds:selectobject
cmp     [ebp+cchtext], edi
mov     ebx, [ebp+arg_4]
jz      loc_2781a692
mov     eax, [ebx]
cmp     eax, 0ffffffffh
jz      loc_2781a692
push    108h
push    eax
lea     eax, [ebp+string1]
push    eax
call    ds:lstrcpyna
lea     eax, [ebp+string1]
push    eax
call    ds:lstrlena
mov     ecx, dword_2782a068
mov     [ebp+var_10.bottom], edi
add     ecx, ecx
mov     [ebp+var_10.top], edi
mov     edx, ecx
mov     ecx, [esi+0ach]
mov     [ebp+var_10.left], edi
sub     ecx, edx
lea     esi, [ebp+var_10]
lea     edi, [ebp+rc]
mov     [ebp+var_10.right], ecx
mov     [ebp+cchtext], eax
movsd
movsd
movsd
test    eax, eax
movsd
jle     loc_2781a752
cmp     dword_27829f48, 0
mov     edi, 2c11h
jnz     short loc_2781a614
mov     edi, 42c11h
cmp     eax, 1
jle     short loc_2781a634
lea     ecx, [ebp+eax+string1]
cmp     byte ptr [ecx-1], 20h
jnz     short loc_2781a634
and     byte ptr [ecx-1], 0
dec     eax
dec     ecx
cmp     eax, 1
mov     [ebp+cchtext], eax
jg      short loc_2781a620
lea     ecx, [ebp+rc]
push    2c21h
mov     esi, ds:drawtexta
push    ecx
push    eax
lea     eax, [ebp+string1]
push    eax
push    [ebp+hdc]
call    esi
cmp     dword_27829f50, 3b5h
jnz     short loc_2781a674
cmp     dword_27829f4c, 0
jnz     short loc_2781a66e
cmp     dword_2782a854, 0
jz      short loc_2781a674
or      edi, 80000h
lea     eax, [ebp+var_10]
push    edi
push    eax
lea     eax, [ebp+string1]
push    [ebp+cchtext]
push    eax
push    [ebp+hdc]
call    esi
jmp     short loc_2781a6db
mov     esi, [ebp+arg_0]
jmp     loc_2781a597
mov     eax, [ebp+arg_8]
and     [ebp+var_38], 0
mov     [ebp+var_44], eax
lea     eax, [ebp+string1]
mov     [ebp+lpstring2], eax
lea     eax, [ebp+var_48]
mov     [ebp+var_40], edi
mov     edi, 108h
push    eax
push    esi
mov     [ebp+var_48], 1
mov     [ebp+var_30], edi
call    sub_2780011b
cmp     [ebp+lpstring2], 0
jnz     short loc_2781a72f
lea     eax, [ebp+rc]
push    eax
call    ds:setrectempty
lea     esi, [ebp+rc]
lea     edi, [ebp+var_10]
movsd
movsd
movsd
movsd
mov     ecx, [ebp+var_10.right]
mov     eax, [ebp+var_10.bottom]
test    ebx, ebx
jz      short loc_2781a725
mov     edx, [ebp+rc.right]
mov     esi, dword_2782a068
sub     eax, [ebp+var_10.top]
lea     edx, [edx+esi*2]
sub     edx, [ebp+rc.left]
mov     [ebx+0eh], dx
mov     edx, dword_2782a068
lea     ecx, [ecx+edx*2]
sub     ecx, [ebp+var_10.left]
mov     [ebx+10h], cx
mov     ecx, [ebp+rc.bottom]
sub     ecx, [ebp+rc.top]
add     ecx, dy
mov     [ebx+12h], cx
add     eax, dy
mov     [ebx+14h], ax
mov     eax, [ebp+hdc]
pop     edi
pop     esi
pop     ebx
leave
retn    14h
lea     eax, [ebp+string1]
cmp     [ebp+lpstring2], eax
jz      short loc_2781a74b
push    edi
lea     eax, [ebp+string1]
push    [ebp+lpstring2]
push    eax
call    ds:lstrcpyna
xor     edi, edi
jmp     loc_2781a5c1
mov     eax, [ebp+arg_0]
mov     eax, [eax+44h]
jmp     short loc_2781a6e1
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
lea     eax, [ebp+rc]
push    edi
mov     edi, [ebp+arg_0]
push    eax
push    0
push    [ebp+arg_c]
push    [ebp+arg_8]
push    edi
call    sub_2781a314
test    byte ptr [edi+8], 3
jnz     short loc_2781a79f
mov     eax, dword_2782a04c
mov     ecx, y
sub     eax, dword_2782a090
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+rc.left], eax
mov     eax, [ebp+rc.top]
lea     eax, [eax+ecx*2]
mov     [ebp+rc.top], eax
cmp     dword ptr [edi+70h], 0
mov     esi, [ebp+arg_4]
jle     short loc_2781a7c2
mov     eax, [esi+3ch]
mov     ecx, [edi+74h]
shl     eax, 4
add     eax, ecx
push    dword ptr [eax+4]
push    dword ptr [eax]
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
mov     eax, [ebp+rc.left]
cmp     eax, [esi+4]
jnz     short loc_2781a7da
mov     ecx, [ebp+rc.top]
cmp     ecx, [esi+8]
jnz     short loc_2781a7da
xor     eax, eax
pop     edi
pop     esi
leave
retn    10h
push    [ebp+rc.top]
push    eax
push    esi
push    edi
call    sub_278026fb
push    1
pop     eax
jmp     short loc_2781a7d4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+hmem]
push    esi
push    edi
cmp     dword ptr [ebx+0cch], 7fffffffh
lea     esi, [ebx+0cch]
jnz     short loc_2781a80e
push    ebx
call    sub_27819dbc
mov     edi, [ebp+lprc]
movsd
movsd
movsd
movsd
mov     eax, [ebx+0c8h]
neg     eax
push    eax
mov     eax, [ebx+0c4h]
neg     eax
push    eax
push    [ebp+lprc]
call    ds:offsetrect
mov     ebx, [ebx+8]
and     ebx, 3
jz      short loc_2781a83d
cmp     ebx, 2
jnz     short loc_2781a861
mov     eax, [ebp+arg_8]
and     [ebp+rcsrc2.left], 0
mov     [ebp+rcsrc2.right], eax
mov     eax, [ebp+arg_c]
mov     [ebp+rcsrc2.bottom], eax
lea     eax, [ebp+rcsrc2]
and     [ebp+rcsrc2.top], 0
push    eax
push    [ebp+lprc]
push    [ebp+lprc]
call    ds:unionrect
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hmem]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [edi]
call    ds:getwindowrect
push    0ffffffech
push    dword ptr [edi]
call    ds:getwindowlonga
test    eax, 20300h
jz      loc_2781a971
mov     eax, dword_2782a06c
mov     ecx, [ebp+rect.right]
mov     edx, [ebp+rect.bottom]
neg     eax
lea     eax, [ecx+eax*2]
mov     ecx, dy
neg     ecx
lea     ecx, [edx+ecx*2]
sub     eax, [ebp+rect.left]
sub     ecx, [ebp+rect.top]
xor     esi, esi
cmp     eax, esi
mov     [ebp+rect.right], eax
mov     [ebp+rect.bottom], ecx
jge     short loc_2781a8c5
mov     [ebp+rect.right], esi
cmp     ecx, esi
jge     short loc_2781a8cc
mov     [ebp+rect.bottom], esi
xor     ebx, ebx
cmp     [ebp+arg_8], esi
mov     [ebp+rect.left], esi
mov     [ebp+rect.top], esi
jz      loc_2781a95e
push    esi
lea     eax, [ebp+rc]
push    esi
push    eax
push    edi
call    sub_2781a7ea
mov     eax, [ebp+rect.right]
cmp     [ebp+rect.left], eax
jge     short loc_2781a950
mov     ecx, [ebp+rect.top]
cmp     ecx, [ebp+rect.bottom]
jge     short loc_2781a950
mov     esi, 100000h
mov     edi, 200000h
test    esi, ebx
jnz     short loc_2781a921
mov     ecx, [ebp+rect.left]
cmp     [ebp+rc.left], ecx
jl      short loc_2781a914
cmp     [ebp+rc.right], eax
jle     short loc_2781a921
push    [ebp+hmem]
or      ebx, esi
call    sub_27801056
sub     [ebp+rect.bottom], eax
test    edi, ebx
jnz     short loc_2781a942
mov     eax, [ebp+rect.top]
cmp     [ebp+rc.top], eax
jl      short loc_2781a935
mov     eax, [ebp+rect.bottom]
cmp     [ebp+rc.bottom], eax
jle     short loc_2781a942
push    [ebp+hmem]
or      ebx, edi
call    sub_2780102b
sub     [ebp+rect.right], eax
test    esi, ebx
jnz     short loc_2781a94e
mov     eax, [ebp+rect.right]
cmp     [ebp+rc.right], eax
jg      short loc_2781a903
xor     esi, esi
mov     edi, [ebp+arg_c]
cmp     edi, esi
jz      short loc_2781a95e
lea     esi, [ebp+rc]
movsd
movsd
movsd
movsd
mov     edi, [ebp+arg_4]
lea     esi, [ebp+rect]
movsd
movsd
movsd
movsd
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
leave
retn    10h
mov     ecx, [ebp+rect.bottom]
mov     eax, [ebp+rect.right]
jmp     loc_2781a8b0
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_8]
mov     eax, edi
shr     eax, 10h
test    ax, ax
jz      short loc_2781a9c0
mov     esi, [ebp+arg_0]
movsx   ecx, di
mov     eax, [esi+4]
mov     edi, [ebp+arg_4]
cdq
idiv    ecx
mov     ebx, eax
mov     eax, [edi+4]
cdq
idiv    ecx
cmp     ebx, eax
jg      short loc_2781a9b6
jl      short loc_2781a9e6
mov     esi, [esi+8]
mov     edi, [edi+8]
cmp     esi, edi
jle     short loc_2781a9e4
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     ecx, [ebp+arg_0]
mov     esi, [ebp+arg_4]
mov     eax, [ecx+8]
cdq
idiv    edi
mov     ebx, eax
mov     eax, [esi+8]
cdq
idiv    edi
cmp     ebx, eax
jg      short loc_2781a9b6
jl      short loc_2781a9e6
mov     ecx, [ecx+4]
mov     esi, [esi+4]
cmp     ecx, esi
jmp     short loc_2781a9b4
jge     short loc_2781a9eb
or      eax, 0ffffffffh
jmp     short loc_2781a9b9
xor     eax, eax
jmp     short loc_2781a9b9
push    ebp
mov     ebp, esp
sub     esp, 20h
cmp     [ebp+lprcsrc1], 0
push    ebx
push    esi
push    edi
jnz     short loc_2781aa04
lea     eax, [ebp+var_10]
mov     [ebp+lprcsrc1], eax
mov     ebx, [ebp+lprcsrc2]
test    ebx, ebx
jnz     short loc_2781aa0e
lea     ebx, [ebp+var_20]
mov     eax, [ebp+arg_8]
test    eax, eax
jz      loc_2781aaca
cmp     dword ptr [eax+8], 7fffffffh
mov     esi, [ebp+hmem]
jz      short loc_2781aa35
cmp     word ptr [eax+14h], 7fffh
jz      short loc_2781aa35
cmp     word ptr [eax+12h], 7fffh
jnz     short loc_2781aa3b
push    esi
call    sub_27819dbc
mov     edi, [ebp+lprcdst]
cmp     [ebp+arg_4], 0
push    edi
push    ebx
push    [ebp+lprcsrc1]
push    [ebp+arg_8]
push    esi
jz      short loc_2781aac3
call    sub_2781f417
test    ebx, ebx
jz      short loc_2781aa80
push    [ebp+arg_8]
push    esi
call    sub_277fb6f5
test    eax, eax
jnz     short loc_2781aa80
mov     eax, [esi+44h]
mov     ecx, [ebx+4]
lea     eax, [ecx+eax*2]
mov     ecx, dy
add     eax, ecx
mov     ecx, [ebx+0ch]
cmp     ecx, eax
jge     short loc_2781aa7d
mov     eax, ecx
mov     [ebx+0ch], eax
test    edi, edi
jz      short loc_2781aaa9
push    ebx
push    [ebp+lprcsrc1]
push    edi
call    ds:unionrect
cmp     dword ptr [esi+148h], 0
jz      short loc_2781aaa9
mov     eax, [ebp+arg_8]
test    byte ptr [eax+17h], 0f0h
jz      short loc_2781aaa9
mov     eax, [esi+14ch]
sub     [edi], eax
cmp     [ebp+arg_18], 0
jz      short loc_2781aabc
push    ebx
push    [ebp+lprcsrc1]
push    [ebp+arg_18]
call    ds:unionrect
pop     edi
pop     esi
pop     ebx
leave
retn    1ch
call    sub_27819aa5
jmp     short loc_2781aa52
mov     esi, [ebp+lprcsrc1]
push    esi
call    ds:setrectempty
mov     edi, ebx
movsd
movsd
movsd
movsd
mov     edi, [ebp+lprcdst]
test    edi, edi
jz      short loc_2781aaa9
mov     esi, [ebp+lprcsrc1]
movsd
movsd
movsd
movsd
jmp     short loc_2781aaa9
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
lea     eax, [ebp+rcupdate]
push    0
push    eax
mov     esi, [ebp+hmem]
push    0
push    0
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_2781a9ef
push    [ebp+flags]
lea     eax, [ebp+rcupdate]
push    0
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
pop     esi
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 54h
push    ebx
push    esi
push    edi
mov     edi, [ebp+hmem]
xor     esi, esi
mov     eax, [edi+8]
mov     [ebp+var_14], esi
mov     ecx, eax
and     ecx, 3
sub     cl, 2
neg     cl
sbb     ecx, ecx
inc     ecx
mov     [ebp+hmem], ecx
jz      loc_2781ac9b
mov     ecx, [edi+0a0h]
mov     [ebp+var_8], ecx
mov     ecx, [edi+0a4h]
test    ah, 10h
mov     [ebp+var_10], ecx
jz      loc_2781acaf
mov     eax, [edi+15ch]
cmp     eax, esi
mov     [ebp+var_4], eax
jle     loc_2781ac91
push    esi
push    [ebp+arg_4]
call    sub_27815cea
mov     ebx, eax
xor     eax, eax
cmp     [ebp+hmem], eax
mov     [ebp+var_18], ebx
jz      short loc_2781ab9c
lea     ecx, [ebp+rcsrc1]
push    eax
push    ecx
push    eax
push    eax
push    ebx
push    [ebp+hmem]
push    edi
call    sub_2781a9ef
inc     esi
cmp     esi, [ebp+var_4]
mov     [ebp+var_1c], esi
mov     [ebp+var_c], esi
jge     loc_2781ac85
push    [ebp+var_c]
push    [ebp+arg_4]
call    sub_27815cea
mov     esi, eax
mov     eax, [esi+4]
mov     [ebp+var_24], eax
mov     eax, [esi+8]
mov     [ebp+var_20], eax
xor     eax, eax
cmp     [ebp+hmem], eax
jz      loc_2781acc1
lea     ecx, [ebp+rcsrc2]
push    eax
push    ecx
push    eax
push    eax
push    esi
push    [ebp+hmem]
push    edi
call    sub_2781a9ef
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      loc_2781ac85
push    5
push    esi
push    [ebp+hmem]
push    edi
call    sub_2781aaea
mov     ebx, [ebp+var_8]
imul    ebx, [ebp+arg_8]
add     [esi+4], ebx
push    dword ptr [esi+8]
lea     eax, [ebp+rcsrc1]
push    dword ptr [esi+4]
push    eax
call    ds:ptinrect
test    eax, eax
jnz     short loc_2781ac0e
test    byte ptr [edi+9], 20h
jz      short loc_2781ac6e
mov     ebx, [esi+4]
test    ebx, ebx
jl      short loc_2781ac5b
mov     ecx, [esi+8]
test    ecx, ecx
jl      short loc_2781ac5b
mov     eax, [ebp+var_8]
cdq
sub     eax, edx
mov     edx, [edi+68h]
sar     eax, 1
sub     edx, eax
cmp     ebx, edx
jg      short loc_2781ac5b
mov     eax, [ebp+var_10]
cdq
sub     eax, edx
mov     edx, [edi+6ch]
sar     eax, 1
sub     edx, eax
cmp     ecx, edx
jle     short loc_2781ac6e
mov     eax, [ebp+var_24]
mov     [ebp+var_14], 1
mov     [esi+4], eax
mov     eax, [ebp+var_20]
mov     [esi+8], eax
push    5
push    esi
push    [ebp+hmem]
push    edi
call    sub_2781aaea
inc     [ebp+var_c]
mov     eax, [ebp+var_c]
cmp     eax, [ebp+var_4]
jl      short loc_2781acb9
mov     esi, [ebp+var_1c]
cmp     esi, [ebp+var_4]
jl      loc_2781ab76
mov     eax, [ebp+var_14]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     ecx, [edi+0ach]
mov     [ebp+var_8], ecx
mov     ecx, [edi+0b0h]
jmp     loc_2781ab59
mov     eax, [edi+18h]
mov     eax, [eax]
jmp     loc_2781ab6b
mov     ebx, [ebp+var_18]
jmp     loc_2781abac
mov     eax, [esi+4]
cmp     eax, [ebx+4]
jnz     short loc_2781ac85
mov     eax, [esi+8]
cmp     eax, [ebx+8]
jnz     short loc_2781ac85
push    5
push    esi
push    0
push    edi
call    sub_2781aaea
mov     eax, [ebp+var_8]
imul    eax, [ebp+arg_8]
add     [esi+4], eax
jmp     loc_2781ac25
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     eax, [esi+8]
mov     ecx, eax
and     ecx, 3
sub     cl, 2
neg     cl
sbb     ecx, ecx
inc     ecx
mov     [ebp+var_8], ecx
jz      loc_2781ae00
mov     ebx, [esi+0a0h]
mov     ecx, [esi+0a4h]
mov     [ebp+var_18], ebx
test    ah, 10h
mov     [ebp+var_10], ecx
jz      loc_2781ae14
mov     eax, [esi+15ch]
and     [ebp+var_c], 0
mov     [ebp+var_14], eax
test    eax, eax
jle     loc_2781ae76
push    [ebp+var_c]
push    [ebp+arg_4]
call    sub_27815cea
cmp     [ebp+var_8], 0
mov     edi, eax
mov     eax, [edi+4]
mov     [ebp+hmem], eax
mov     ecx, [edi+8]
mov     [ebp+var_4], ecx
jnz     short loc_2781ad83
mov     eax, dword_2782a04c
push    0fffffffeh
sub     eax, dword_2782a090
pop     ebx
cdq
idiv    ebx
mov     ebx, [ebp+var_18]
add     [ebp+hmem], eax
mov     eax, y
neg     eax
lea     eax, [ecx+eax*2]
mov     [ebp+var_4], eax
push    [ebp+var_10]
lea     eax, [ebp+var_4]
push    ebx
push    eax
lea     eax, [ebp+hmem]
push    eax
call    sub_2781a106
cmp     [ebp+var_8], 0
jnz     short loc_2781adbc
mov     eax, dword_2782a04c
mov     ecx, y
sub     eax, dword_2782a090
cdq
sub     eax, edx
sar     eax, 1
add     [ebp+hmem], eax
mov     eax, [ebp+var_4]
lea     eax, [eax+ecx*2]
mov     [ebp+var_4], eax
mov     eax, [ebp+hmem]
cmp     eax, [edi+4]
jnz     short loc_2781add0
mov     eax, [ebp+var_4]
cmp     eax, [edi+8]
jz      loc_2781ae67
push    5
push    edi
push    [ebp+var_8]
push    esi
call    sub_2781aaea
test    byte ptr [esi+9], 20h
jz      short loc_2781ae4f
cmp     dword ptr [esi+70h], 0
jnz     short loc_2781ae4f
mov     eax, ebx
cdq
sub     eax, edx
mov     ecx, eax
mov     eax, [esi+68h]
sar     ecx, 1
sub     eax, ecx
cmp     [ebp+hmem], eax
jl      short loc_2781ae1e
sub     [ebp+hmem], ebx
jmp     short loc_2781adf6
mov     ebx, [esi+0ach]
mov     ecx, [esi+0b0h]
mov     [ebp+var_18], ebx
jmp     loc_2781ad1f
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_2781ad31
cmp     [ebp+hmem], 0
jge     short loc_2781ae29
add     [ebp+hmem], ebx
js      short loc_2781ae24
mov     ecx, [ebp+var_10]
mov     eax, ecx
cdq
sub     eax, edx
mov     edx, eax
mov     eax, [esi+6ch]
sar     edx, 1
sub     eax, edx
cmp     [ebp+var_4], eax
jl      short loc_2781ae44
sub     [ebp+var_4], ecx
jmp     short loc_2781ae3a
cmp     [ebp+var_4], 0
jge     short loc_2781ae4f
add     [ebp+var_4], ecx
js      short loc_2781ae4a
mov     eax, [ebp+hmem]
push    5
push    edi
mov     [edi+4], eax
push    [ebp+var_8]
mov     eax, [ebp+var_4]
mov     [edi+8], eax
push    esi
call    sub_2781aaea
inc     [ebp+var_c]
mov     eax, [ebp+var_c]
cmp     eax, [ebp+var_14]
jl      loc_2781ad40
mov     ecx, [esi+8]
mov     eax, 0c00h
and     ecx, eax
cmp     ecx, 800h
jz      short loc_2781aed8
cmp     ecx, eax
jz      short loc_2781aed8
cmp     [ebp+var_8], 0
jz      short loc_2781aed0
mov     eax, [esi+0a4h]
movzx   eax, ax
push    eax
push    offset sub_2781a97c
push    [ebp+arg_4]
call    sub_27815f64
test    eax, eax
jz      short loc_2781aec7
push    1
push    [ebp+arg_4]
push    esi
call    sub_2781ab20
test    eax, eax
jz      short loc_2781aec7
push    0ffffffffh
push    [ebp+arg_4]
push    esi
call    sub_2781ab20
pop     edi
pop     esi
xor     eax, eax
pop     ebx
leave
retn    8
mov     eax, [esi+0b0h]
jmp     short loc_2781ae98
cmp     [ebp+var_8], 0
jz      short loc_2781aeee
mov     eax, [esi+0a0h]
movzx   eax, ax
or      eax, 10000h
jmp     short loc_2781ae9b
mov     eax, [esi+0ach]
jmp     short loc_2781aee4
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
mov     esi, [ebp+hmem]
and     [ebp+lpmem], 0
xor     ebx, ebx
push    edi
mov     eax, [esi+8]
mov     ecx, eax
and     ecx, 3
cmp     ecx, 2
setz    bl
test    ebx, ebx
jnz     short loc_2781af20
test    ecx, ecx
jnz     loc_2781afe0
mov     edi, 1000h
test    edi, eax
jz      short loc_2781af35
test    word ptr [ebp+arg_4], 305h
jnz     loc_2781afe0
cmp     dword ptr [esi+0cch], 7fffffffh
jnz     short loc_2781af47
push    esi
call    sub_27819dbc
test    [esi+8], edi
jnz     short loc_2781af61
push    0
push    dword ptr [esi+18h]
call    sub_27815c8c
test    eax, eax
mov     [ebp+lpmem], eax
jz      loc_2781afe0
mov     edx, [esi+8]
mov     eax, 0c00h
mov     ecx, edx
and     ecx, eax
cmp     ecx, 800h
jz      short loc_2781afb2
cmp     ecx, eax
jz      short loc_2781afb2
test    ebx, ebx
jz      short loc_2781afaa
mov     eax, [esi+0a4h]
movzx   eax, ax
test    edi, edx
jz      short loc_2781afce
push    0
push    [ebp+arg_4]
push    esi
call    sub_2781b206
push    0
push    0fffffffch
push    dword ptr [esi]
push    8004h
call    sub_277b8949
push    1
pop     eax
jmp     short loc_2781afe2
mov     eax, [esi+0b0h]
jmp     short loc_2781af83
test    ebx, ebx
jz      short loc_2781afc6
mov     eax, [esi+0a0h]
movzx   eax, ax
or      eax, 10000h
jmp     short loc_2781af86
mov     eax, [esi+0ach]
jmp     short loc_2781afbc
push    eax
push    offset sub_2781a97c
push    [ebp+lpmem]
call    sub_27815f64
test    eax, eax
jnz     short loc_2781afe9
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    [ebp+lpmem]
push    [ebp+arg_4]
push    esi
call    sub_2781b206
push    [ebp+lpmem]
call    sub_27815c57
jmp     short loc_2781af95
push    ebp
mov     ebp, esp
sub     esp, 80h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
xor     edi, edi
mov     eax, [esi+8]
mov     [ebp+var_8], edi
mov     ecx, eax
and     ecx, 3
sub     cl, 2
neg     cl
sbb     ecx, ecx
inc     ecx
cmp     [esi+0c4h], edi
mov     [ebp+var_c], ecx
jnz     short loc_2781b039
cmp     [esi+0c8h], edi
mov     [ebp+var_4], edi
jz      short loc_2781b040
mov     [ebp+var_4], 1
test    ah, 10h
jnz     short loc_2781b057
cmp     [ebp+arg_4], 5
jnz     short loc_2781b0ae
push    [ebp+arg_8]
push    esi
call    sub_2781aceb
or      [ebp+var_4], eax
cmp     [ebp+var_4], edi
jz      short loc_2781b0a4
mov     eax, [esi+1ch]
push    12h
pop     ebx
and     eax, ebx
cmp     al, bl
jnz     loc_2781b1ed
push    5
push    edi
push    edi
push    dword ptr [esi]
call    ds:redrawwindow
mov     eax, [esi+54h]
cmp     eax, edi
jge     short loc_2781b08d
push    2
push    0ffffffffh
push    esi
call    sub_27801fa0
cmp     eax, edi
jl      short loc_2781b095
push    edi
push    eax
push    esi
call    sub_277ffbc1
mov     eax, [esi+1ch]
and     eax, ebx
cmp     al, bl
jnz     short loc_2781b0a4
push    esi
call    sub_277ffcba
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    1
push    esi
call    sub_27819d38
mov     [ebp+var_10], eax
mov     eax, [esi+70h]
cmp     eax, edi
jle     short loc_2781b0d9
lea     ebx, [ebp+var_80]
push    edi
push    1
push    esi
call    sub_27819bfc
mov     [ebx], eax
inc     edi
add     ebx, 4
cmp     edi, [esi+70h]
jl      short loc_2781b0c3
xor     edi, edi
lea     eax, [ebp+rc]
push    eax
call    ds:setrectempty
mov     [ebp+hmem], edi
mov     [ebp+arg_4], edi
mov     ebx, 1000h
test    [esi+8], ebx
jz      short loc_2781b15f
mov     eax, [esi+15ch]
cmp     [ebp+arg_4], eax
jge     loc_2781b1a5
push    [ebp+arg_4]
push    [ebp+arg_8]
call    sub_27815cea
mov     ebx, eax
mov     eax, [ebx+3ch]
cmp     eax, [ebp+arg_c]
jnz     loc_2781b19b
xor     ecx, ecx
cmp     [esi+70h], ecx
jle     short loc_2781b166
mov     edi, [ebp+eax*4+var_80]
cmp     [ebp+var_c], ecx
jz      short loc_2781b16b
lea     eax, [ebp+rcsrc1]
push    eax
push    ecx
push    edi
push    [ebp+hmem]
push    esi
call    sub_2781a314
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      short loc_2781b16b
inc     [ebp+hmem]
lea     eax, [ebp+rcsrc1]
push    eax
push    0
push    edi
push    [ebp+hmem]
jmp     short loc_2781b134
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_2781b0f9
mov     edi, [ebp+var_10]
jmp     short loc_2781b126
mov     eax, [ebp+hmem]
inc     [ebp+hmem]
push    edi
push    eax
push    ebx
push    esi
call    sub_2781a75a
or      [ebp+var_4], eax
xor     eax, eax
lea     ecx, [ebp+rc]
push    eax
push    ecx
push    eax
push    eax
push    ebx
push    [ebp+var_c]
push    esi
call    sub_2781a9ef
mov     eax, [ebp+rc.left]
cmp     eax, [ebp+var_8]
jge     short loc_2781b19b
mov     [ebp+var_8], eax
inc     [ebp+arg_4]
xor     edi, edi
jmp     loc_2781b0e9
mov     edx, [ebp+var_8]
cmp     edx, edi
jge     loc_2781b057
xor     ecx, ecx
test    [esi+8], ebx
jz      short loc_2781b1d0
mov     eax, [esi+15ch]
cmp     ecx, eax
jge     short loc_2781b1d7
mov     eax, [esi+18h]
mov     eax, [eax+4]
mov     eax, [eax+ecx*4]
sub     [eax+4], edx
inc     ecx
jmp     short loc_2781b1b2
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_2781b1bd
mov     dword ptr [esi+0cch], 7fffffffh
mov     [ebp+var_4], 1
jmp     loc_2781b057
push    esi
call    sub_277fcdb4
or      dword ptr [esi+1ch], 4
mov     dword ptr [esi+80h], 1
jmp     loc_2781b078
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     eax, [esi+70h]
cmp     eax, 1
jge     short loc_2781b230
test    byte ptr [esi+21h], 20h
jnz     short loc_2781b249
push    0
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_2781afff
pop     edi
pop     esi
pop     ebp
retn    0ch
xor     edi, edi
test    eax, eax
jle     short loc_2781b249
push    edi
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_2781afff
inc     edi
cmp     edi, [esi+70h]
jl      short loc_2781b236
push    1
pop     eax
jmp     short loc_2781b22a
push    ebp
mov     ebp, esp
sub     esp, 4ch
push    ebx
push    esi
mov     esi, [ebp+hdc]
push    edi
xor     edi, edi
push    esi
mov     [ebp+var_10], edi
mov     [ebp+var_c], edi
mov     [ebp+var_4], edi
call    sub_27801081
mov     [ebp+var_8], eax
lea     eax, [ebp+var_20]
push    eax
push    1
pop     ebx
lea     eax, [ebp+var_30]
push    ebx
push    eax
push    esi
call    sub_2781a868
cmp     [ebp+var_20], edi
mov     [ebp+hdc], eax
jle     short loc_2781b28b
mov     [ebp+var_20], edi
cmp     [ebp+var_1c], edi
jle     short loc_2781b293
mov     [ebp+var_1c], edi
mov     eax, 100000h
mov     [ebp+var_4c.cbsize], 1ch
test    [ebp+hdc], eax
jz      loc_2781b3c5
mov     eax, [ebp+var_18]
mov     ecx, [ebp+var_28]
sub     eax, [ebp+var_20]
mov     [ebp+var_4c.fmask], 7
mov     [ebp+var_4c.nmin], edi
dec     eax
mov     [ebp+var_4c.nmax], eax
mov     eax, [ebp+var_30]
sub     ecx, eax
sub     eax, [ebp+var_20]
mov     [ebp+var_4c.npage], ecx
mov     [ebp+var_4c.npos], eax
jns     short loc_2781b2d2
mov     [ebp+var_4c.npos], edi
test    byte ptr [esi+21h], 1
lea     eax, [ebp+var_4c]
push    ebx
push    eax
push    edi
push    dword ptr [esi]
jz      loc_2781b3ba
call    sub_277e50ac
mov     ecx, [ebp+var_4c.npos]
mov     edx, [ebp+var_4c.npage]
mov     eax, [ebp+var_4c.nmax]
lea     ebx, [ecx+edx-1]
cmp     ebx, eax
jle     loc_2781b3ef
cmp     ecx, edi
jle     loc_2781b3ef
sub     eax, edx
inc     eax
jns     short loc_2781b30d
xor     eax, eax
cmp     eax, ecx
jz      loc_2781b3ef
push    1
sub     eax, ecx
pop     ebx
mov     [ebp+var_10], eax
mov     [ebp+var_4], ebx
mov     eax, 200000h
test    [ebp+hdc], eax
jz      loc_2781b402
mov     eax, [ebp+var_14]
mov     ecx, [ebp+var_24]
sub     eax, [ebp+var_1c]
mov     [ebp+var_4c.fmask], 7
mov     [ebp+var_4c.nmin], edi
dec     eax
mov     [ebp+var_4c.nmax], eax
mov     eax, [ebp+var_2c]
sub     ecx, eax
sub     eax, [ebp+var_1c]
mov     [ebp+var_4c.npage], ecx
mov     [ebp+var_4c.npos], eax
jns     short loc_2781b358
mov     [ebp+var_4c.npos], edi
test    byte ptr [esi+21h], 1
lea     eax, [ebp+var_4c]
push    ebx
push    eax
push    ebx
push    dword ptr [esi]
jz      loc_2781b3f7
call    sub_277e50ac
mov     ecx, [ebp+var_4c.npos]
mov     edx, [ebp+var_4c.npage]
mov     eax, [ebp+var_4c.nmax]
lea     ebx, [ecx+edx-1]
cmp     ebx, eax
jle     short loc_2781b39b
cmp     ecx, edi
jle     short loc_2781b39b
sub     eax, edx
inc     eax
jns     short loc_2781b38b
xor     eax, eax
cmp     eax, ecx
jz      short loc_2781b39b
sub     eax, ecx
mov     [ebp+var_4], 1
mov     [ebp+var_c], eax
cmp     [ebp+var_4], edi
jz      short loc_2781b3b3
push    edi
push    [ebp+var_c]
push    [ebp+var_10]
push    esi
call    sub_2781b579
push    esi
call    sub_2781b24e
pop     edi
pop     esi
pop     ebx
leave
retn    4
call    ds:setscrollinfo
jmp     loc_2781b2e9
test    [ebp+var_8], eax
jz      loc_2781b320
test    byte ptr [esi+21h], 1
push    ebx
push    edi
push    edi
push    edi
push    dword ptr [esi]
jz      short loc_2781b3e4
call    sub_277e4fd5
jmp     loc_2781b320
call    ds:setscrollrange
jmp     loc_2781b320
push    1
pop     ebx
jmp     loc_2781b320
call    ds:setscrollinfo
jmp     loc_2781b36f
test    [ebp+var_8], eax
jz      short loc_2781b39b
test    byte ptr [esi+21h], 1
push    ebx
push    edi
push    edi
push    ebx
push    dword ptr [esi]
jz      short loc_2781b41a
call    sub_277e4fd5
jmp     short loc_2781b39b
call    ds:setscrollrange
jmp     loc_2781b39b
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+nbar]
xor     eax, eax
cmp     ebx, 1
setz    al
and     [ebp+nbar], 0
mov     [ebp+var_4], eax
push    esi
mov     esi, [ebp+hdc]
lea     eax, [ebp+var_20]
push    edi
mov     edi, 100h
push    eax
test    [esi+20h], edi
push    ebx
mov     [ebp+var_20.cbsize], 1ch
push    dword ptr [esi]
mov     [ebp+var_20.fmask], 7
jz      short loc_2781b4a8
call    sub_277e4223
test    eax, eax
jz      def_2781b4a1
mov     eax, [ebp+arg_14]
cmp     eax, 0ffffffffh
jz      short loc_2781b47a
mov     [ebp+var_20.npage], eax
mov     ecx, [ebp+var_20.nmin]
push    1
pop     eax
sub     eax, [ebp+var_20.npage]
add     [ebp+var_20.nmax], eax
cmp     [ebp+var_20.nmax], ecx
jge     short loc_2781b48e
mov     [ebp+var_20.nmax], ecx
mov     eax, [ebp+var_20.npos]
mov     [ebp+hdc], eax
mov     eax, [ebp+arg_4]
cmp     eax, 8
ja      short def_2781b4a1
mov     edx, 20000h
jmp     ds:jpt_2781b4a1[eax*4]
call    ds:getscrollinfo
jmp     short loc_2781b467
mov     [ebp+var_20.npos], ecx
cmp     dword ptr [esi+11ch], 0ah
jl      short loc_2781b4bf
mov     [ebp+nbar], edx
test    [esi+20h], edi
lea     eax, [ebp+var_20]
push    1
push    eax
push    ebx
push    dword ptr [esi]
mov     [ebp+var_20.fmask], 4
jz      short loc_2781b541
call    sub_277e50ac
cmp     [ebp+hdc], eax
mov     [ebp+var_20.npos], eax
jz      short def_2781b4a1
sub     eax, [ebp+hdc]
xor     edx, edx
xor     ecx, ecx
cmp     [ebp+var_4], edx
jz      short loc_2781b549
mov     edx, eax
push    [ebp+nbar]
mov     eax, [esi+8]
and     eax, 3
push    edx
push    ecx
push    esi
call    ds:funcs_277ffba2[eax*4]
push    dword ptr [esi]
call    ds:updatewindow
pop     edi
pop     esi
pop     ebx
leave
retn    18h
mov     eax, [ebp+var_20.nmax]
mov     [ebp+var_20.npos], eax
jmp     short loc_2781b4b3
mov     eax, [ebp+var_20.npage]
sub     [ebp+var_20.npos], eax
jmp     short loc_2781b4b3
mov     eax, [ebp+arg_10]
jmp     short loc_2781b51c
mov     eax, [ebp+var_20.npage]
add     [ebp+var_20.npos], eax
jmp     short loc_2781b4b3
mov     eax, [ebp+arg_10]
jmp     short loc_2781b529
mov     eax, [ebp+arg_8]
mov     [ebp+nbar], edx
mov     [ebp+var_20.npos], eax
jmp     loc_2781b4b3
call    ds:setscrollinfo
jmp     short loc_2781b4d9
mov     ecx, eax
jmp     short loc_2781b4ef
push    esi
call    sub_277ffcba
jmp     short def_2781b4a1
push    ebp
mov     ebp, esp
sub     esp, 38h
mov     ecx, [ebp+arg_8]
mov     edx, [ebp+arg_4]
mov     eax, ecx
push    esi
or      eax, edx
push    edi
jz      short loc_2781b5b3
mov     eax, [ebp+hdc]
xor     esi, esi
add     [eax+0c4h], edx
add     [eax+0c8h], ecx
cmp     dword ptr [eax+2ch], 0ffffffffh
jnz     short loc_2781b5b9
cmp     [eax+17ch], esi
jnz     short loc_2781b5b9
push    esi
push    eax
call    sub_277fd045
pop     edi
pop     esi
leave
retn    10h
mov     eax, [eax]
lea     edi, [ebp+var_10]
mov     [ebp+var_30], eax
mov     eax, [ebp+arg_c]
or      al, 6
mov     [ebp+dy], 38h
neg     edx
neg     ecx
mov     [ebp+var_14], eax
xor     eax, eax
mov     [ebp+var_34], esi
mov     [ebp+var_2c], edx
mov     [ebp+var_28], ecx
mov     [ebp+var_24], esi
mov     [ebp+var_20], esi
mov     [ebp+var_1c], esi
mov     [ebp+var_18], esi
stosd
stosd
stosd
stosd
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
jmp     short loc_2781b5b3
push    ebp
mov     ebp, esp
cmp     [ebp+nbar], 1
mov     ecx, [ebp+hdc]
jnz     short loc_2781b627
mov     eax, [ecx+0b0h]
cdq
sub     eax, edx
push    0ffffffffh
sar     eax, 1
push    eax
push    [ebp+nbar]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    ecx
call    sub_2781b425
pop     ebp
retn    10h
mov     eax, [ecx+0ach]
jmp     short loc_2781b60c
cmp     [esp+arg_4], 1
mov     eax, [esp+arg_0]
jnz     short loc_2781b648
mov     eax, [eax+0b0h]
cdq
sub     eax, edx
sar     eax, 1
retn    8
mov     eax, [eax+0ach]
jmp     short loc_2781b640
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+hwnd]
push    esi
push    edi
push    0
push    ebx
call    ds:getparent
push    eax
call    ds:getwindowlonga
cmp     dword_2782a150, 0
mov     edi, [ebp+msg]
mov     esi, eax
jz      short loc_2781b690
push    0
call    ds:getkeyboardlayout
cmp     ax, 411h
jnz     short loc_2781b690
cmp     edi, 5
jnz     short loc_2781b6f4
push    ebx
call    sub_2781c30e
mov     eax, edi
sub     eax, 0ch
jz      short loc_2781b6d3
sub     eax, 7bh
jz      short loc_2781b6ce
sub     eax, 79h
jz      short loc_2781b6b4
dec     eax
dec     eax
jnz     short loc_2781b6de
cmp     [ebp+wparam], 0dh
jnz     short loc_2781b6de
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
cmp     [ebp+wparam], 0dh
jz      short loc_2781b6ca
cmp     [ebp+wparam], 1bh
jnz     short loc_2781b6de
push    1
push    esi
call    sub_2781bb07
jmp     short loc_2781b6ab
push    0
jmp     short loc_2781b6c2
push    0ch
pop     eax
jmp     short loc_2781b6ad
push    1
push    0fffffff4h
push    ebx
call    ds:setwindowlonga
push    [ebp+lparam]
push    [ebp+wparam]
push    edi
push    ebx
push    dword ptr [esi+0e4h]
call    ds:callwindowproca
jmp     short loc_2781b6ad
cmp     edi, 0c5h
jnz     short loc_2781b70e
cmp     [ebp+wparam], 0dh
jnb     short loc_2781b708
or      byte ptr [esi+1dh], 40h
jmp     short loc_2781b690
and     byte ptr [esi+1dh], 0bfh
jmp     short loc_2781b690
test    byte ptr [esi+1dh], 40h
jnz     loc_2781b690
cmp     edi, 0fh
jz      short loc_2781b76c
cmp     edi, 10ch
jbe     loc_2781b690
cmp     edi, 10eh
jbe     loc_2781b6ab
cmp     edi, 10fh
jz      short loc_2781b752
cmp     edi, 281h
jnz     loc_2781b690
and     byte ptr [ebp+lparam+3], 7fh
jmp     loc_2781b690
mov     eax, [ebp+lparam]
test    eax, eax
jnz     short loc_2781b75c
push    8
pop     eax
push    esi
push    eax
push    [ebp+wparam]
push    ebx
call    sub_2781c5b2
jmp     loc_2781b6ab
push    [ebp+lparam]
push    [ebp+wparam]
push    0fh
push    ebx
push    dword ptr [esi+0e4h]
call    ds:callwindowproca
push    esi
push    ebx
mov     edi, eax
call    sub_2781c806
mov     eax, edi
jmp     loc_2781b6ad
push    esi
mov     esi, [esp+4+arg_0]
push    edi
push    dword ptr [esi+0e0h]
push    dword ptr [esi+18h]
call    sub_27815cea
test    byte ptr [esi+21h], 2
jz      short loc_2781b7d2
push    [esp+8+lprc2]
lea     edi, [eax+2ch]
push    edi
call    ds:equalrect
test    eax, eax
jnz     short loc_2781b7d2
push    [esp+8+lprc2]
push    edi
call    ds:copyrect
push    1
push    1
push    esi
call    sub_277fa494
pop     edi
pop     esi
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
test    byte ptr [esi+9], 10h
jz      short loc_2781b806
mov     eax, [esi+0e0h]
test    eax, eax
jl      short loc_2781b7f9
cmp     eax, [esi+15ch]
jl      short loc_2781b818
push    1
push    esi
call    sub_2781bb07
pop     esi
leave
retn    4
push    dword ptr [esi+0e0h]
push    dword ptr [esi+18h]
call    sub_27815cea
test    eax, eax
jz      short loc_2781b7f9
push    0
lea     eax, [ebp+rc]
push    0
push    eax
push    0
push    dword ptr [esi+0e0h]
push    esi
call    sub_27802300
test    byte ptr [esi+8], 3
jnz     short loc_2781b876
mov     eax, y
neg     eax
push    eax
mov     eax, dword_2782a068
neg     eax
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:inflaterect
test    byte ptr [esi+8], 83h
jnz     short loc_2781b8a1
push    1
pop     eax
push    eax
lea     eax, [ebp+rc]
push    dword ptr [esi+28h]
push    eax
push    dword ptr [esi+0dch]
call    sub_2781bf6d
lea     eax, [ebp+rc]
push    eax
push    esi
call    sub_2781b791
jmp     short loc_2781b801
mov     eax, [ebp+rc.bottom]
mov     ecx, y
sub     eax, [esi+44h]
neg     ecx
sub     eax, [ebp+rc.top]
cdq
sub     eax, edx
sar     eax, 1
sub     ecx, eax
mov     eax, w
push    ecx
mov     ecx, dword_2782a068
add     ecx, eax
neg     ecx
push    ecx
jmp     short loc_2781b844
xor     eax, eax
jmp     short loc_2781b857
push    ebp
mov     ebp, esp
sub     esp, 160h
and     [ebp+var_20], 0
lea     eax, [ebp+var_160]
push    ebx
mov     [ebp+var_14], eax
push    esi
mov     esi, [ebp+hmem]
lea     eax, [ebp+var_28]
push    edi
mov     edi, [ebp+arg_4]
mov     ebx, 104h
push    eax
push    esi
mov     [ebp+var_28], 1
mov     [ebp+var_24], edi
mov     [ebp+var_10], ebx
call    sub_2780011b
mov     eax, [ebp+arg_c]
xor     ecx, ecx
cmp     eax, ecx
jz      short loc_2781b8eb
mov     [eax], ecx
cmp     [ebp+var_14], ecx
jz      loc_2781b9b6
cmp     [esi+54h], edi
jz      short loc_2781b905
push    ecx
push    1
push    1
push    edi
push    esi
call    sub_277fddd7
push    0
push    edi
push    esi
call    sub_277ffbc1
mov     eax, [ebp+lpwindowname]
test    eax, eax
jnz     short loc_2781b918
mov     eax, [ebp+var_14]
mov     ecx, [esi+8]
push    dword ptr [esi+28h]
and     cl, 3
neg     cl
sbb     ecx, ecx
and     ecx, 0ffffffbbh
add     ecx, 448000c5h
push    ecx
push    ebx
push    eax
push    dword ptr [esi]
call    sub_2781bf00
xor     ebx, ebx
mov     [esi+0dch], eax
cmp     eax, ebx
jz      short loc_2781b9b6
cmp     [ebp+lpwindowname], ebx
jz      short loc_2781b954
push    1
push    0fffffff4h
push    eax
call    ds:setwindowlonga
test    byte ptr [esi+9], 10h
mov     [ebp+var_50], 4
mov     [ebp+var_4c], edi
mov     [ebp+var_48], ebx
jnz     short loc_2781b9bd
push    edi
push    dword ptr [esi+18h]
call    sub_27815cea
cmp     eax, ebx
jz      short loc_2781b9a4
mov     eax, [eax+1ch]
mov     [ebp+var_30], eax
lea     eax, [ebp+lparam]
mov     [esi+0e0h], edi
push    eax
push    0ffffff97h
push    esi
call    sub_277b9838
test    eax, eax
jz      short loc_2781b9c2
mov     eax, [ebp+arg_c]
cmp     eax, ebx
jz      short loc_2781b99d
mov     dword ptr [eax], 1
or      dword ptr [esi+0e0h], 0ffffffffh
push    dword ptr [esi+0dch]
call    ds:destroywindow
mov     [esi+0dch], ebx
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     [ebp+var_30], ebx
jmp     short loc_2781b97a
push    dword ptr [esi+0dch]
call    ds:setfocus
push    5
push    dword ptr [esi+0dch]
call    ds:showwindow
push    ebx
push    5
push    1
push    edi
push    esi
call    sub_2780255d
jmp     short loc_2781b9b6
push    ebx
push    esi
mov     esi, 7d00h
push    edi
mov     edi, ds:sendmessagea
push    esi
mov     ebx, 0b1h
push    esi
push    ebx
push    [esp+18h+hwnd]
call    edi
push    esi
push    0
push    ebx
push    [esp+18h+hwnd]
call    edi
pop     edi
pop     esi
pop     ebx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
mov     ebx, [ebp+arg_c]
push    esi
push    edi
xor     edi, edi
cmp     ebx, edi
jz      short loc_2781ba2a
mov     [ebx], edi
mov     esi, [ebp+hmem]
push    edi
push    esi
call    sub_2781bb07
test    byte ptr [esi+9], 2
jz      loc_2781bb03
call    ds:getfocus
cmp     eax, [esi]
jnz     loc_2781bb03
cmp     [ebp+arg_4], 0ffffffffh
jz      loc_2781bb03
push    ebx
push    [ebp+lpwindowname]
push    [ebp+arg_4]
push    esi
call    sub_2781b8a5
mov     eax, [esi+0dch]
cmp     eax, edi
jz      loc_2781baf6
push    offset sub_2781b650
push    0fffffffch
push    eax
call    ds:setwindowlonga
mov     [esi+0e4h], eax
cmp     dword_2782a150, edi
jz      short loc_2781baa9
push    edi
push    edi
push    0d5h
push    dword ptr [esi+0dch]
call    ds:sendmessagea
cmp     eax, 0dh
jge     short loc_2781baa9
or      byte ptr [esi+1dh], 40h
push    esi
call    sub_2781b7d7
push    dword ptr [esi+0dch]
call    sub_2781b9ea
test    byte ptr [esi+8], 3
jnz     short loc_2781baf6
push    edi
lea     eax, [ebp+rect]
push    edi
push    eax
push    edi
push    [ebp+arg_4]
push    esi
call    sub_27802300
push    edi
lea     eax, [ebp+rect]
push    edi
push    eax
push    edi
push    [ebp+arg_4]
push    esi
call    sub_2780387b
lea     eax, [ebp+rect]
push    1
push    eax
push    dword ptr [esi]
call    ds:invalidaterect
push    dword ptr [esi]
call    ds:updatewindow
mov     eax, [esi+0dch]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
xor     eax, eax
jmp     short loc_2781bafc
push    ebp
mov     ebp, esp
sub     esp, 144h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     ebx, ebx
mov     [ebp+var_4], 1
mov     edi, [esi+0dch]
mov     eax, [esi]
test    byte ptr [esi+0e8h], 1
mov     [ebp+arg_0], edi
mov     [ebp+hwnd], eax
jnz     loc_2781bd34
test    edi, edi
jnz     short loc_2781bb52
push    2ah
push    8
push    esi
call    sub_277ff80f
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    eax
call    ds:iswindowvisible
test    eax, eax
jnz     short loc_2781bb64
mov     [ebp+arg_4], 1
push    edi
call    ds:getdlgctrlid
sub     eax, 0
jz      loc_2781bc91
dec     eax
jz      loc_2781bc98
dec     eax
jz      short loc_2781bb48
mov     eax, [esi+0e0h]
mov     edi, 1000h
test    [esi+8], edi
mov     [ebp+var_8], eax
jz      loc_2781bca8
test    eax, eax
jl      loc_2781bc5f
cmp     eax, [esi+15ch]
jge     loc_2781bc5f
and     [ebp+var_14], 0
mov     [ebp+var_30], eax
xor     eax, eax
cmp     [ebp+arg_4], eax
mov     [ebp+var_2c], eax
mov     [ebp+var_1c], eax
mov     [ebp+var_34], eax
jz      loc_2781bcc5
mov     [ebp+var_20], eax
lea     eax, [ebp+lparam]
push    eax
push    0ffffff96h
push    esi
call    sub_277b9838
push    [ebp+hwnd]
mov     [ebp+var_4], eax
call    ds:iswindow
test    eax, eax
jz      loc_2781bd34
cmp     [ebp+var_4], 0
jz      short loc_2781bc16
cmp     [ebp+arg_4], 0
jnz     short loc_2781bc16
test    [esi+8], edi
jnz     loc_2781bcf5
cmp     dword ptr [ebx], 0ffffffffh
jz      loc_2781bcf5
lea     eax, [ebp+var_34]
mov     [ebp+var_34], 1
push    eax
push    esi
call    sub_27800441
cmp     dword_2782a150, 0
jz      short loc_2781bc50
push    0
call    ds:getkeyboardlayout
cmp     ax, 411h
jnz     short loc_2781bc50
push    [ebp+arg_0]
call    sub_277e1fb2
mov     edi, eax
test    edi, edi
jz      short loc_2781bc50
push    0
push    1
push    15h
push    edi
call    sub_277e1f68
push    edi
push    [ebp+arg_0]
call    sub_277e1f9c
push    0
push    5
push    0
push    [ebp+var_8]
push    esi
call    sub_2780255d
mov     eax, [ebp+arg_0]
cmp     eax, [esi+0dch]
jnz     short loc_2781bc78
or      dword ptr [esi+0e0h], 0ffffffffh
and     dword ptr [esi+0dch], 0
push    eax
call    ds:destroywindow
push    1
push    1
push    esi
call    sub_277fa494
mov     eax, [ebp+var_4]
jmp     loc_2781bb4b
mov     [ebp+arg_4], 1
push    2
push    0fffffff4h
push    edi
call    ds:setwindowlonga
jmp     loc_2781bb7e
push    eax
push    dword ptr [esi+18h]
call    sub_27815cea
mov     ebx, eax
test    ebx, ebx
jz      short loc_2781bc5f
mov     eax, [ebx+1ch]
mov     [ebp+var_14], eax
mov     eax, [ebp+var_8]
jmp     loc_2781bbad
mov     edi, 104h
lea     eax, [ebp+string]
push    edi
push    eax
push    [ebp+arg_0]
call    ds:getwindowtexta
or      [ebp+var_34], 1
lea     eax, [ebp+string]
mov     [ebp+var_1c], edi
mov     [ebp+var_20], eax
mov     edi, 1000h
jmp     loc_2781bbc7
lea     eax, [ebp+lparam]
push    eax
push    0ffffff69h
push    esi
call    sub_277b9838
test    [esi+8], edi
mov     dword ptr [esi+0cch], 7fffffffh
jnz     loc_2781bc16
mov     word ptr [ebx+10h], 7fffh
mov     word ptr [ebx+12h], 7fffh
mov     word ptr [ebx+0eh], 7fffh
mov     word ptr [ebx+14h], 7fffh
jmp     loc_2781bc16
xor     eax, eax
jmp     loc_2781bb4b
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
push    esi
mov     esi, [ebp+hmem]
xor     ebx, ebx
cmp     [ebp+arg_4], ebx
push    edi
mov     eax, [esi+1ch]
jz      loc_2781be09
test    al, 20h
jnz     loc_2781be11
xor     eax, 20h
mov     edi, ds:muldiv
mov     [esi+1ch], eax
mov     eax, [esi+0a0h]
mov     [ebp+nnumerator], eax
mov     eax, [esi+0a4h]
mov     ecx, 1000h
mov     [ebp+ndenominator], eax
test    [esi+8], ecx
jnz     loc_2781be94
mov     [ebp+hmem], ebx
test    [esi+8], ecx
jz      loc_2781be18
mov     eax, [esi+15ch]
cmp     [ebp+hmem], eax
jge     loc_2781be60
mov     eax, [esi+18h]
mov     ecx, [ebp+hmem]
mov     eax, [eax+4]
mov     ebx, [eax+ecx*4]
cmp     dword ptr [ebx+8], 7fffffffh
jz      short loc_2781bdfd
cmp     [ebp+arg_4], 0
jz      short loc_2781be22
mov     eax, dword_2782a04c
push    dword ptr [esi+0ach]
sub     eax, dword_2782a090
mov     ecx, [ebx+4]
push    [ebp+nnumerator]
cdq
sub     eax, edx
sar     eax, 1
sub     ecx, eax
push    ecx
call    edi
mov     ecx, [ebx+8]
mov     [ebx+4], eax
push    dword ptr [esi+0b0h]
mov     eax, y
add     eax, eax
push    [ebp+ndenominator]
sub     ecx, eax
push    ecx
call    edi
mov     [ebx+8], eax
inc     [ebp+hmem]
xor     ebx, ebx
mov     ecx, 1000h
jmp     short loc_2781bd8b
test    al, 20h
jnz     loc_2781bd5c
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_2781bd9a
push    [ebp+nnumerator]
push    dword ptr [esi+0ach]
push    dword ptr [ebx+4]
call    edi
mov     ecx, eax
mov     eax, dword_2782a04c
sub     eax, dword_2782a090
push    [ebp+ndenominator]
cdq
sub     eax, edx
sar     eax, 1
add     ecx, eax
mov     [ebx+4], ecx
push    dword ptr [esi+0b0h]
push    dword ptr [ebx+8]
call    edi
mov     ecx, y
lea     eax, [eax+ecx*2]
jmp     short loc_2781bdfa
mov     eax, [esi+8]
test    ah, 1
jz      short loc_2781be94
test    ecx, eax
jz      short loc_2781be8d
mov     eax, [esi+15ch]
dec     eax
push    ebx
push    eax
push    ebx
push    esi
call    sub_2781cfc6
push    eax
push    ebx
push    esi
call    sub_27802ade
push    ebx
push    esi
call    sub_2781aef6
jmp     short loc_2781be11
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_2781be72
cmp     [ebp+arg_4], ebx
mov     dword ptr [esi+0cch], 7fffffffh
lea     ebx, [esi+0c4h]
jz      short loc_2781bee0
push    dword ptr [esi+0ach]
push    [ebp+nnumerator]
push    dword ptr [ebx]
call    edi
push    dword ptr [esi+0b0h]
mov     [ebx], eax
lea     ebx, [esi+0c8h]
push    [ebp+ndenominator]
push    dword ptr [ebx]
call    edi
push    5
push    0
push    0
mov     [ebx], eax
push    dword ptr [esi]
call    ds:redrawwindow
jmp     loc_2781be11
push    [ebp+nnumerator]
push    dword ptr [esi+0ach]
push    dword ptr [ebx]
call    edi
push    [ebp+ndenominator]
mov     [ebx], eax
lea     ebx, [esi+0c8h]
push    dword ptr [esi+0b0h]
jmp     short loc_2781bec7
push    ebp
mov     ebp, esp
push    ebx
push    edi
xor     edi, edi
push    edi
push    dword_27828334
push    edi
push    [ebp+hwnd]
push    edi
push    edi
push    edi
push    edi
push    [ebp+dwstyle]
push    [ebp+lpwindowname]
push    offset aedit_3
push    0ffffffech
push    [ebp+hwnd]
call    ds:getwindowlonga
and     eax, 2000h
push    eax
call    ds:createwindowexa
mov     ebx, eax
cmp     ebx, edi
jz      short loc_2781bf65
push    esi
mov     esi, ds:sendmessagea
push    edi
push    [ebp+wparam]
push    0c5h
push    ebx
call    esi
push    edi
push    edi
push    0b1h
push    ebx
call    esi
push    edi
push    [ebp+arg_10]
push    30h
push    ebx
call    esi
pop     esi
mov     eax, ebx
pop     edi
pop     ebx
pop     ebp
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 140h
push    ebx
push    esi
push    edi
push    [ebp+hwnd]
call    ds:getparent
mov     [ebp+var_14], eax
lea     eax, [ebp+string]
push    105h
push    eax
push    [ebp+hwnd]
call    ds:getwindowtexta
xor     ebx, ebx
mov     esi, eax
cmp     [ebp+string], bl
jnz     short loc_2781bfbb
lea     eax, [ebp+string]
push    offset asc_277cba20
push    eax
call    ds:lstrcpya
push    1
pop     esi
push    [ebp+var_14]
call    ds:getdc
push    [ebp+h]
mov     [ebp+hdc], eax
push    eax
call    ds:selectobject
mov     eax, dword_2782a068
mov     ecx, dword_2782a04c
add     eax, eax
mov     [ebp+rc.bottom], ebx
sub     ecx, eax
cmp     [ebp+arg_c], ebx
mov     [ebp+rc.top], ebx
mov     [ebp+rc.left], ebx
mov     [ebp+rc.right], ecx
jz      loc_2781c15a
cmp     dword_27829f50, 3b5h
mov     eax, 2c11h
jnz     short loc_2781c01b
cmp     dword_27829f4c, ebx
jnz     short loc_2781c016
cmp     dword_2782a854, ebx
jz      short loc_2781c01b
mov     eax, 82c11h
push    eax
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+string]
push    esi
push    eax
push    [ebp+hdc]
call    ds:drawtexta
mov     eax, dword_2782a04c
push    4
cdq
pop     ecx
idiv    ecx
cmp     [ebp+rc.right], eax
jge     short loc_2781c044
mov     [ebp+rc.right], eax
cmp     [ebp+arg_c], ebx
mov     edi, [ebp+lprcdst]
jz      loc_2781c164
mov     ecx, [edi+4]
cmp     [ebp+arg_c], ebx
jz      loc_2781c180
mov     eax, [edi+8]
mov     esi, [edi]
add     eax, [ebp+rc.left]
sub     eax, [ebp+rc.right]
sub     eax, esi
cdq
sub     eax, edx
sar     eax, 1
add     eax, esi
push    ecx
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
cmp     [ebp+arg_c], ebx
jnz     short loc_2781c090
mov     eax, [ebp+rc.right]
mov     ecx, dword_2782a068
lea     eax, [eax+ecx*4]
mov     [ebp+rc.right], eax
push    [ebp+hdc]
push    [ebp+var_14]
call    ds:releasedc
lea     eax, [ebp+rect]
push    eax
push    [ebp+var_14]
call    ds:getclientrect
lea     eax, [ebp+rect]
push    eax
lea     eax, [ebp+rc]
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:intersectrect
mov     esi, ds:sendmessagea
lea     eax, [ebp+lparam]
push    eax
push    ebx
push    0b2h
push    [ebp+hwnd]
call    esi
push    ebx
push    ebx
push    0d4h
push    [ebp+hwnd]
call    esi
mov     ecx, [ebp+var_24]
mov     edx, dy
shr     eax, 10h
add     ecx, edx
movsx   eax, ax
push    ecx
mov     ecx, [ebp+lparam]
add     ecx, eax
lea     eax, [ebp+rc]
add     ecx, dword_2782a06c
push    ecx
push    eax
call    ds:inflaterect
mov     esi, [ebp+hwnd]
mov     eax, dy
add     [ebp+rc.right], eax
push    esi
call    ds:hidecaret
mov     eax, [ebp+rc.bottom]
push    114h
sub     eax, [ebp+rc.top]
push    eax
mov     eax, [ebp+rc.right]
sub     eax, [ebp+rc.left]
push    eax
push    [ebp+rc.top]
push    [ebp+rc.left]
push    ebx
push    esi
call    ds:setwindowpos
lea     eax, [ebp+rc]
push    eax
push    edi
call    ds:copyrect
push    1
push    ebx
push    esi
call    ds:invalidaterect
push    esi
call    ds:showcaret
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, 2c21h
jmp     loc_2781c01b
mov     eax, [edi+0ch]
mov     esi, [edi+4]
add     eax, [ebp+rc.top]
sub     eax, [ebp+rc.bottom]
sub     eax, esi
cdq
sub     eax, edx
mov     ecx, eax
sar     ecx, 1
add     ecx, esi
jmp     loc_2781c053
mov     eax, [edi]
jmp     loc_2781c070
push    ebp
mov     ebp, esp
push    ecx
push    ecx
push    ebx
mov     ebx, [ebp+arg_4]
and     [ebp+var_4], 0
push    esi
mov     ecx, [ebx+0ch]
mov     esi, [ebp+arg_0]
mov     eax, ecx
push    edi
and     eax, 0f00h
mov     [ebp+var_8], 10h
test    byte ptr [esi+8], 3
jnz     loc_2781c2d5
mov     edx, [esi+0b4h]
test    cl, 8
mov     [ebp+arg_4], edx
jnz     short loc_2781c1cd
test    byte ptr [ebp+arg_14], 10h
jz      short loc_2781c1dd
test    cl, 2
jz      short loc_2781c1dd
mov     [ebp+var_8], 8
or      al, 4
mov     [ebp+var_4], 0ff000000h
test    byte ptr [ebp+arg_14], 20h
jz      short loc_2781c1ef
test    cl, 2
jz      short loc_2781c1ef
mov     [ebp+var_8], 100h
test    cl, 4
jz      short loc_2781c1fc
mov     ecx, [esi+2ch]
or      al, 4
mov     [ebp+var_4], ecx
test    byte ptr [ebp+arg_14], 1
jnz     loc_2781c2cb
mov     edi, [ebp+arg_c]
xor     edx, edx
cmp     [ebp+arg_4], edx
jz      short loc_2781c24c
cmp     [esi+17ch], edx
jnz     loc_2781c2e0
test    byte ptr [esi+21h], 2
jz      short loc_2781c22e
cmp     dword_2782c00c, edx
jz      loc_2781c2e0
mov     ecx, [esi+2ch]
push    eax
push    [ebp+var_4]
push    ecx
push    edx
push    edx
push    [ebp+arg_10]
push    edi
push    [ebp+arg_8]
push    dword ptr [ebx+1ch]
push    [ebp+arg_4]
call    sub_27814e07
xor     edx, edx
mov     eax, [esi+148h]
cmp     eax, edx
mov     [ebp+arg_14], eax
jz      short loc_2781c2cb
mov     eax, [ebx+0ch]
test    ah, 0f0h
jz      short loc_2781c2cb
cmp     [ebx+8], edx
jz      short loc_2781c26c
test    byte ptr [esi+20h], 2
jz      short loc_2781c2cb
shr     eax, 0ch
and     eax, 0fh
dec     eax
cmp     [ebp+arg_4], edx
mov     ecx, eax
jz      short loc_2781c2f0
test    byte ptr [esi+8], 3
jnz     short loc_2781c2e8
mov     eax, [esi+0bch]
sub     eax, [esi+150h]
mov     ebx, [esi+8]
push    edx
and     bl, 3
neg     bl
sbb     ebx, ebx
not     ebx
and     ebx, dword_2782a080
add     ebx, [esi+14ch]
test    byte ptr [esi+21h], 40h
jnz     short loc_2781c2f4
push    [ebp+var_4]
sub     edi, ebx
push    dword ptr [esi+38h]
push    edx
push    edx
cdq
sub     eax, edx
sar     eax, 1
add     eax, [ebp+arg_10]
push    eax
push    edi
push    [ebp+arg_8]
push    ecx
push    [ebp+arg_14]
call    sub_27814e07
mov     eax, [ebp+var_8]
pop     edi
pop     esi
pop     ebx
leave
retn    18h
mov     edx, [esi+90h]
jmp     loc_2781c1ba
or      ecx, 0ffffffffh
jmp     loc_2781c231
mov     eax, [esi+98h]
jmp     short loc_2781c286
xor     eax, eax
jmp     short loc_2781c28c
cdq
sub     eax, edx
sub     edi, ebx
sar     eax, 1
add     eax, [ebp+arg_10]
push    eax
push    edi
push    [ebp+arg_8]
push    ecx
push    [ebp+arg_14]
call    sub_27814e65
jmp     short loc_2781c2cb
push    ebp
mov     ebp, esp
sub     esp, 30h
push    esi
lea     eax, [ebp+rect]
push    edi
push    eax
push    [ebp+hwnd]
call    ds:getclientrect
mov     eax, [ebp+rect.left]
and     [ebp+var_30], 0
mov     [ebp+var_28], eax
mov     eax, [ebp+rect.bottom]
lea     esi, [ebp+rect]
lea     edi, [ebp+var_20]
mov     [ebp+var_2c], 80h
mov     [ebp+var_24], eax
movsd
movsd
push    [ebp+hwnd]
movsd
movsd
call    sub_277e1fb2
mov     esi, eax
test    esi, esi
jz      short loc_2781c365
lea     eax, [ebp+var_30]
push    eax
push    esi
call    sub_277e2006
push    esi
push    [ebp+hwnd]
call    sub_277e1f9c
pop     edi
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
push    esi
push    edi
mov     edi, [ebp+arg_4]
xor     esi, esi
cmp     [edi], esi
jle     short loc_2781c39b
mov     eax, [ebp+arg_0]
mov     al, [eax]
test    al, al
jz      short loc_2781c39b
push    eax
inc     esi
call    ds:isdbcsleadbyte
test    eax, eax
jz      short loc_2781c3a6
cmp     esi, [edi]
jge     short loc_2781c3ab
inc     esi
add     [ebp+arg_0], 2
cmp     esi, [edi]
jl      short loc_2781c379
mov     eax, [ebp+arg_0]
mov     [edi], esi
pop     edi
pop     esi
pop     ebp
retn    8
inc     [ebp+arg_0]
jmp     short loc_2781c397
dec     esi
jmp     short loc_2781c39b
push    ebp
mov     ebp, esp
sub     esp, 44h
push    esi
mov     esi, ds:getsyscolor
push    8
call    esi
push    5
mov     [ebp+var_1c], eax
call    esi
push    0eh
mov     [ebp+var_20], eax
call    esi
push    0dh
mov     [ebp+var_28], eax
call    esi
mov     [ebp+var_2c], eax
mov     eax, [ebp+arg_18]
cmp     [ebp+wparam], eax
jge     loc_2781c57d
sub     eax, [ebp+arg_1c]
push    edi
mov     edi, [ebp+hdc]
push    ebx
mov     [ebp+var_18], eax
mov     esi, [ebp+wparam]
mov     ecx, [ebp+arg_10]
sub     esi, [ebp+arg_1c]
cmp     esi, [ebp+var_18]
mov     ebx, esi
mov     al, [esi+ecx]
mov     byte ptr [ebp+hdc], al
jge     short loc_2781c40f
cmp     al, [ebx+ecx]
jnz     short loc_2781c40f
inc     ebx
cmp     ebx, [ebp+var_18]
jl      short loc_2781c404
sub     ebx, esi
mov     [ebp+c], ebx
lea     eax, [ebx+2]
push    eax
push    40h
call    ds:localalloc
test    eax, eax
mov     [ebp+lpstring], eax
jz      short loc_2781c43f
lea     ecx, [ebx+1]
push    ecx
mov     ecx, [ebp+arg_c]
add     esi, ecx
push    esi
push    eax
call    ds:lstrcpyna
mov     eax, [ebp+lpstring]
and     byte ptr [eax+ebx], 0
movzx   eax, byte ptr [ebp+hdc]
sub     eax, 0
jz      loc_2781c5a9
dec     eax
jz      loc_2781c591
dec     eax
jz      loc_2781c582
dec     eax
jz      loc_2781c591
push    [ebp+color]
push    edi
call    ds:settextcolor
push    [ebp+var_c]
mov     [ebp+var_38], eax
push    edi
call    ds:setbkcolor
push    [ebp+h]
mov     [ebp+var_3c], eax
push    edi
call    ds:selectobject
push    0
mov     [ebp+var_24], eax
push    [ebp+wparam]
push    0d6h
push    [ebp+hwnd]
call    ds:sendmessagea
push    [ebp+c]
mov     ecx, eax
shr     ecx, 10h
push    [ebp+lpstring]
movsx   esi, cx
movsx   ebx, ax
push    esi
push    ebx
push    edi
call    ds:textouta
push    [ebp+color]
push    1
push    [ebp+istyle]
call    ds:createpen
test    eax, eax
mov     [ebp+ho], eax
jz      short loc_2781c53c
push    eax
push    edi
call    ds:selectobject
push    1
push    edi
mov     [ebp+hdc], eax
call    ds:setbkmode
mov     [ebp+mode], eax
lea     eax, [ebp+sz]
push    eax
push    [ebp+c]
push    [ebp+lpstring]
push    edi
call    ds:gettextextentpointa
mov     eax, [ebp+sz.cy]
push    0
lea     eax, [eax+esi-1]
push    eax
push    ebx
push    edi
call    ds:movetoex
mov     eax, [ebp+sz.cy]
lea     eax, [eax+esi-1]
push    eax
mov     eax, [ebp+sz._cx]
add     eax, ebx
push    eax
push    edi
call    ds:lineto
push    [ebp+mode]
push    edi
call    ds:setbkmode
cmp     [ebp+hdc], 0
jz      short loc_2781c533
push    [ebp+hdc]
push    edi
call    ds:selectobject
push    [ebp+ho]
call    ds:deleteobject
cmp     [ebp+var_24], 0
jz      short loc_2781c54c
push    [ebp+var_24]
push    edi
call    ds:selectobject
push    [ebp+var_38]
push    edi
call    ds:settextcolor
push    [ebp+var_3c]
push    edi
call    ds:setbkcolor
push    [ebp+lpstring]
call    ds:localfree
mov     eax, [ebp+wparam]
add     eax, [ebp+c]
cmp     eax, [ebp+arg_18]
mov     [ebp+wparam], eax
jl      loc_2781c3ee
pop     ebx
pop     edi
pop     esi
leave
retn    20h
and     [ebp+istyle], 0
mov     eax, [ebp+var_1c]
mov     [ebp+color], eax
mov     eax, [ebp+var_20]
jmp     short loc_2781c5a1
mov     eax, [ebp+var_28]
mov     [ebp+istyle], 2
mov     [ebp+color], eax
mov     eax, [ebp+var_2c]
mov     [ebp+var_c], eax
jmp     loc_2781c461
mov     [ebp+istyle], 2
jmp     short loc_2781c586
push    ecx
push    ecx
push    ebx
mov     ebx, [esp+0ch+arg_c]
mov     ecx, 8000h
mov     eax, [ebx+1ch]
test    ecx, eax
jnz     loc_2781c7f2
push    edi
mov     edi, [esp+10h+hwnd]
push    esi
mov     esi, ds:sendmessagea
push    ebp
xor     ebp, ebp
push    ebp
push    ebp
or      eax, ecx
push    0bh
push    edi
mov     [ebx+1ch], eax
call    esi
push    edi
call    sub_277e1fb2
cmp     eax, ebp
mov     [esp+18h+var_8], eax
jz      loc_2781c7c2
push    offset aimecomppos
push    edi
call    ds:getpropa
cmp     eax, ebp
mov     [esp+18h+hwnd], eax
jnz     short loc_2781c618
push    ebp
push    ebp
push    0b0h
push    edi
call    esi
mov     [esp+18h+hwnd], eax
mov     eax, [esp+18h+hwnd]
shr     eax, 10h
movsx   eax, ax
push    eax
movsx   eax, word ptr [esp+1ch+hwnd]
push    eax
push    0b1h
push    edi
call    esi
test    byte ptr [esp+18h+arg_8+1], 8
jz      loc_2781c6bd
push    1
push    40h
call    ds:localalloc
push    ebp
push    ebp
push    800h
mov     ebx, eax
push    [esp+24h+var_8]
call    sub_277e1fc4
mov     ebp, eax
test    ebp, ebp
jz      short loc_2781c684
lea     eax, [ebp+1]
push    2
push    eax
push    ebx
call    ds:localrealloc
mov     ebx, eax
test    ebx, ebx
jz      short loc_2781c684
lea     eax, [ebp+1]
push    eax
push    ebx
push    800h
push    [esp+24h+var_8]
call    sub_277e1fc4
and     byte ptr [ebp+ebx+0], 0
push    ebx
push    0
push    0c2h
push    edi
call    esi
push    ebx
call    ds:localfree
push    offset aimecomppos
push    edi
call    ds:removepropa
push    0
push    0
push    0b0h
push    edi
call    esi
xor     ebp, ebp
mov     ebx, [esp+18h+arg_c]
mov     [esp+18h+hwnd], eax
test    byte ptr [esp+18h+arg_8], 8
jz      loc_2781c7b8
push    1
push    40h
call    ds:localalloc
push    ebp
push    ebp
push    8
mov     ebx, eax
push    [esp+24h+var_8]
call    sub_277e1fc4
mov     ebp, eax
test    ebp, ebp
jz      loc_2781c778
lea     eax, [ebp+1]
push    2
push    eax
push    ebx
call    ds:localrealloc
mov     ebx, eax
test    ebx, ebx
jz      loc_2781c7b2
lea     eax, [ebp+1]
push    eax
push    ebx
push    8
push    [esp+24h+var_8]
call    sub_277e1fc4
push    0
push    0
push    0d5h
push    edi
call    esi
push    edi
mov     [esp+1ch+arg_8], eax
call    ds:getwindowtextlengtha
mov     ecx, [esp+18h+hwnd]
shr     ecx, 10h
sub     ecx, eax
movzx   eax, word ptr [esp+18h+hwnd]
sub     ecx, eax
mov     eax, [esp+18h+arg_8]
add     eax, ecx
cmp     ebp, eax
jnb     short loc_2781c745
mov     eax, ebp
cmp     eax, ebp
mov     [esp+18h+var_4], eax
jge     short loc_2781c778
lea     eax, [esp+18h+var_4]
push    eax
push    ebx
call    sub_2781c36b
push    0
push    0
mov     eax, [esp+20h+var_4]
and     byte ptr [eax+ebx], 0
push    [esp+20h+var_4]
push    ebx
push    9
push    [esp+2ch+var_8]
call    sub_277e1fe2
mov     ebp, [esp+18h+var_4]
and     byte ptr [ebp+ebx+0], 0
push    ebx
push    0
push    0c2h
push    edi
call    esi
push    ebx
call    ds:localfree
test    ebp, ebp
jz      short loc_2781c7f8
mov     eax, [esp+18h+hwnd]
lea     ecx, [eax+ebp]
movzx   ecx, cx
movzx   eax, ax
shl     ecx, 10h
or      ecx, eax
push    ecx
push    offset aimecomppos
push    edi
call    ds:setpropa
mov     ebx, [esp+18h+arg_c]
xor     ebp, ebp
push    [esp+18h+var_8]
push    edi
call    sub_277e1f9c
push    ebp
push    1
push    0bh
push    edi
call    esi
push    3
push    ebp
push    ebp
push    edi
call    ds:redrawwindow
push    1
push    0fffffff4h
push    dword ptr [ebx+0dch]
call    ds:setwindowlonga
push    ebx
call    sub_2781b7d7
and     byte ptr [ebx+1dh], 7fh
pop     ebp
pop     esi
pop     edi
pop     ebx
pop     ecx
pop     ecx
retn    10h
push    offset aimecomppos
push    edi
call    ds:removepropa
jmp     short loc_2781c7b2
push    ebp
mov     ebp, esp
sub     esp, 220h
mov     eax, [ebp+arg_4]
and     [ebp+var_4], 0
push    ebx
push    esi
test    byte ptr [eax+1dh], 80h
push    edi
jnz     loc_2781c95e
mov     ebx, [ebp+hwnd]
push    ebx
call    sub_277e1fb2
mov     esi, eax
test    esi, esi
jz      short loc_2781c861
mov     edi, 105h
lea     eax, [ebp+var_118]
push    edi
push    eax
push    8
push    esi
call    sub_277e1fc4
mov     [ebp+var_4], eax
lea     eax, [ebp+var_220]
push    edi
push    eax
push    10h
push    esi
call    sub_277e1fc4
push    esi
push    ebx
call    sub_277e1f9c
cmp     [ebp+var_4], 0
jz      loc_2781c95e
push    offset aimecomppos
push    ebx
call    ds:getpropa
mov     edi, eax
test    edi, edi
jnz     short $+2
mov     esi, ds:sendmessagea
push    0
push    0
push    0d5h
push    ebx
call    esi
push    ebx
mov     [ebp+hwnd], eax
call    ds:getwindowtextlengtha
movzx   ecx, di
shr     edi, 10h
sub     edi, eax
mov     [ebp+var_c], ecx
add     edi, [ebp+hwnd]
sub     edi, ecx
cmp     [ebp+var_4], edi
jb      short loc_2781c8b1
mov     [ebp+var_4], edi
lea     eax, [ebp+var_4]
push    eax
lea     eax, [ebp+var_118]
push    eax
call    sub_2781c36b
mov     eax, [ebp+var_4]
push    ebx
and     byte ptr [ebp+eax+var_118], 0
call    ds:getdc
mov     ecx, [ebp+var_4]
mov     [ebp+hdc], eax
mov     eax, [ebp+var_c]
mov     [ebp+hwnd], eax
add     eax, ecx
cmp     [ebp+hwnd], eax
mov     [ebp+var_8], eax
jge     short loc_2781c94b
push    0
push    [ebp+hwnd]
push    0c9h
push    ebx
call    esi
push    0
push    eax
push    0bbh
push    ebx
call    esi
mov     edi, eax
push    0
push    edi
push    0c1h
push    ebx
call    esi
add     edi, eax
cmp     edi, [ebp+var_8]
jle     short loc_2781c946
mov     edi, [ebp+var_8]
push    [ebp+var_c]
lea     eax, [ebp+var_220]
push    edi
push    [ebp+hwnd]
push    eax
lea     eax, [ebp+var_118]
push    eax
mov     eax, [ebp+arg_4]
push    dword ptr [eax+28h]
push    [ebp+hdc]
push    ebx
call    sub_2781c3ae
cmp     edi, [ebp+var_8]
mov     [ebp+hwnd], edi
jge     short loc_2781c94b
jmp     short loc_2781c8e9
cmp     edi, [ebp+hwnd]
jg      short loc_2781c918
push    [ebp+hdc]
push    ebx
call    ds:releasedc
push    0
push    ebx
call    ds:validaterect
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 1b0h
push    ebx
and     [ebp+var_54], 0
push    esi
mov     esi, [ebp+arg_0]
lea     eax, [ebp+var_1b0]
push    edi
mov     edi, [esi]
mov     ebx, [esi+3ch]
mov     [ebp+lpchtext], eax
lea     eax, [ebp+var_5c]
push    eax
push    edi
mov     [ebp+var_58], ebx
mov     [ebp+var_5c], 0bh
mov     [ebp+var_4c], 0ffffh
mov     [ebp+var_44], 104h
call    sub_2780011b
lea     eax, [ebp+rcsrc1]
push    0
push    eax
lea     eax, [ebp+var_14]
push    eax
lea     eax, [ebp+rc]
push    eax
push    ebx
push    edi
call    sub_2781cc8c
mov     eax, [esi+8]
test    eax, eax
jz      short loc_2781c9db
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      loc_2781caf8
mov     eax, [esi+4]
test    eax, eax
jz      short loc_2781ca13
mov     ecx, [eax+4]
mov     eax, [eax]
sub     ecx, [ebp+rcsrc1.top]
sub     eax, [ebp+rcsrc1.left]
push    ecx
push    eax
lea     eax, [ebp+rc]
push    eax
call    ds:offsetrect
mov     eax, [esi+4]
mov     ecx, [eax+4]
mov     eax, [eax]
sub     ecx, [ebp+rcsrc1.top]
sub     eax, [ebp+rcsrc1.left]
push    ecx
push    eax
lea     eax, [ebp+var_14]
push    eax
call    ds:offsetrect
push    dword ptr [esi+0ch]
lea     eax, [ebp+var_5c]
push    [ebp+rc.top]
push    [ebp+rc.left]
push    dword ptr [esi+28h]
push    eax
push    edi
call    sub_2781c187
or      al, 2
cmp     [edi+0e0h], ebx
mov     [ebp+arg_0], eax
jz      loc_2781caf8
test    byte ptr [edi+9], 10h
jz      loc_2781cb02
push    1
lea     eax, [ebp+var_1b0]
push    dword ptr [esi+28h]
mov     [ebp+var_ac], eax
lea     eax, [ebp+var_ac]
push    ebx
push    eax
push    edi
call    sub_2781a569
movsx   eax, [ebp+var_9e]
mov     ecx, [ebp+var_50]
test    byte ptr [esi+0ch], 2
mov     [ebp+var_4], ecx
jz      short loc_2781ca7a
or      byte ptr [ebp+arg_0], 80h
cmp     eax, 7fffh
jnz     short loc_2781ca97
push    0
push    dword ptr [esi+28h]
push    ebx
push    dword ptr [esi+10h]
push    edi
call    sub_2781a569
mov     eax, [esi+10h]
movsx   eax, word ptr [eax+0eh]
mov     edx, [ebp+var_14.right]
mov     ecx, [ebp+var_14.left]
sub     edx, ecx
cmp     eax, edx
jge     short loc_2781caa8
add     eax, ecx
mov     [ebp+var_14.right], eax
mov     eax, [ebp+arg_0]
test    al, 8
jz      short loc_2781cab8
test    byte ptr [esi+0ch], 40h
jz      short loc_2781cab8
or      ah, 2
test    byte ptr [edi+25h], 20h
jz      short loc_2781cac1
or      ah, 8
push    dword ptr [esi+4ch]
push    dword ptr [esi+48h]
push    dword ptr [edi+4ch]
push    dword ptr [edi+44h]
push    eax
lea     eax, [ebp+var_14]
push    0
push    eax
push    [ebp+lpchtext]
push    dword ptr [esi+28h]
call    sub_27803131
test    byte ptr [esi+0ch], 8
jz      short loc_2781caf8
test    byte ptr [ebp+var_4], 1
jz      short loc_2781caf8
lea     eax, [ebp+var_14]
push    eax
push    dword ptr [esi+28h]
call    ds:drawfocusrect
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     ecx, [esi+10h]
movsx   eax, word ptr [ecx+0eh]
movzx   ecx, word ptr [ecx+16h]
jmp     loc_2781ca6d
mov     eax, [esp+arg_0]
push    esi
push    edi
mov     edi, [eax+0a0h]
mov     esi, [eax+0a4h]
mov     eax, [esp+8+arg_c]
cdq
idiv    esi
mov     ecx, eax
mov     eax, [esp+8+arg_4]
cmp     ecx, eax
jl      short loc_2781cb37
mov     ecx, eax
test    ecx, ecx
jnz     short loc_2781cb3e
push    1
pop     ecx
lea     eax, [ecx+eax-1]
cdq
idiv    ecx
imul    ecx, esi
mov     edx, eax
mov     eax, dy
imul    edx, edi
add     ecx, eax
pop     edi
movzx   eax, cx
mov     ecx, dword_2782a06c
pop     esi
add     edx, ecx
movzx   ecx, dx
shl     eax, 10h
or      eax, ecx
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 48h
mov     eax, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+arg_0]
cdq
idiv    dword ptr [esi+0a4h]
or      [ebp+var_8], 0ffffffffh
push    edi
mov     [ebp+var_4], 1
test    eax, eax
mov     [ebp+arg_8], eax
jl      short loc_2781cbfb
cmp     eax, [esi+0a8h]
jge     short loc_2781cbfb
mov     edi, [esi+9ch]
mov     ecx, [ebp+arg_4]
mov     ebx, [esi+0a0h]
lea     eax, [ecx+edi]
cdq
idiv    ebx
mov     edx, [ebp+arg_8]
mov     ebx, eax
imul    ebx, [esi+0a8h]
add     edx, ebx
js      short loc_2781cbfb
mov     ebx, [esi+8]
and     ebx, 1000h
mov     [ebp+arg_8], ebx
jz      short loc_2781cc0d
mov     ebx, [esi+15ch]
cmp     edx, ebx
jge     short loc_2781cbfb
imul    eax, [esi+0a0h]
sub     ecx, eax
mov     eax, [esi+14ch]
add     ecx, edi
mov     [ebp+var_8], edx
cmp     ecx, eax
mov     [ebp+arg_0], ecx
jge     short loc_2781cc14
mov     [ebp+var_4], 8
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+var_4]
pop     edi
pop     esi
mov     [eax], ecx
mov     eax, [ebp+var_8]
pop     ebx
leave
retn    10h
mov     ebx, [esi+18h]
mov     ebx, [ebx]
jmp     short loc_2781cbd5
mov     edi, [esi+94h]
add     edi, eax
cmp     ecx, edi
jge     short loc_2781cc29
mov     [ebp+var_4], 2
jmp     short loc_2781cbfb
xor     ebx, ebx
cmp     [ebp+arg_8], ebx
jz      short loc_2781cc63
push    ebx
push    ebx
lea     eax, [ebp+var_48]
push    edx
push    eax
push    esi
call    sub_2781a569
push    eax
push    ebx
call    ds:releasedc
movsx   eax, [ebp+var_3a]
add     eax, [esi+94h]
add     eax, [esi+14ch]
cmp     [ebp+arg_0], eax
jge     short loc_2781cbfb
mov     [ebp+var_4], 4
jmp     short loc_2781cbfb
mov     eax, [esi+18h]
mov     eax, [eax+4]
mov     edi, [eax+edx*4]
cmp     word ptr [edi+0eh], 7fffh
jnz     short loc_2781cc86
push    ebx
push    ebx
push    edx
push    edi
push    esi
call    sub_2781a569
push    eax
push    ebx
call    ds:releasedc
movsx   eax, word ptr [edi+0eh]
jmp     short loc_2781cc49
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
mov     edi, [ebx+0a8h]
lea     esi, [ebx+0a8h]
test    edi, edi
jnz     short loc_2781ccbb
push    ebx
call    sub_277ffcba
mov     esi, [esi]
test    esi, esi
jnz     loc_2781cd67
push    1
pop     edi
mov     eax, [ebp+arg_4]
mov     esi, [ebx+0a4h]
cdq
idiv    edi
mov     ecx, eax
mov     eax, [ebp+arg_4]
cdq
imul    ecx, [ebx+0a0h]
idiv    edi
sub     ecx, [ebx+9ch]
mov     eax, [ebx+94h]
mov     edi, [ebp+arg_8]
add     ecx, [ebx+14ch]
add     eax, ecx
mov     [ebp+var_20], ecx
mov     [ebp+var_18], eax
imul    edx, esi
add     esi, edx
mov     [ebp+var_1c], edx
test    edi, edi
mov     [ebp+var_14], esi
jz      short loc_2781cd09
lea     esi, [ebp+var_20]
movsd
movsd
movsd
movsd
mov     [ebp+var_10], eax
mov     eax, ecx
add     eax, [ebx+0a0h]
mov     edi, [ebp+arg_c]
mov     [ebp+var_c], edx
sub     eax, [ebx+14ch]
test    edi, edi
mov     [ebp+var_8], eax
mov     eax, [ebp+var_14]
mov     [ebp+var_4], eax
jz      short loc_2781cd34
lea     esi, [ebp+var_10]
movsd
movsd
movsd
movsd
mov     eax, [ebp+arg_10]
test    eax, eax
jz      short loc_2781cd4e
lea     esi, [ebp+var_10]
mov     edi, eax
movsd
movsd
movsd
mov     edx, ecx
movsd
sub     edx, [ebx+14ch]
mov     [eax], edx
mov     eax, [ebp+arg_14]
test    eax, eax
jz      short loc_2781cd60
lea     esi, [ebp+var_10]
mov     edi, eax
movsd
movsd
movsd
movsd
mov     [eax], ecx
pop     edi
pop     esi
pop     ebx
leave
retn    18h
mov     edi, esi
jmp     loc_2781ccbb
push    ebp
mov     ebp, esp
sub     esp, 2ch
push    ebx
push    esi
mov     esi, [ebp+hmem]
xor     ebx, ebx
push    edi
push    ebx
lea     eax, [ebp+var_10]
push    ebx
push    eax
push    esi
call    sub_2781a868
mov     eax, [ebp+var_8]
push    esi
sub     eax, [ebp+var_10]
mov     [ebp+var_2c.cbsize], 1ch
mov     [ebp+var_2c.fmask], 7
mov     [ebp+var_2c.nmin], ebx
cdq
idiv    dword ptr [esi+0a0h]
mov     [ebp+var_2c.npage], eax
call    sub_27801056
sub     [ebp+var_4], eax
mov     eax, [ebp+var_4]
sub     eax, [ebp+var_c]
push    1
pop     edi
cdq
idiv    dword ptr [esi+0a4h]
cmp     eax, edi
jl      short loc_2781cdc8
mov     edi, eax
test    byte ptr [esi+9], 10h
jz      loc_2781ce6d
mov     ecx, [esi+15ch]
mov     eax, [esi+9ch]
push    1
cdq
idiv    dword ptr [esi+0a0h]
mov     [ebp+var_2c.npos], eax
lea     eax, [edi+ecx-1]
cdq
idiv    edi
dec     eax
test    byte ptr [esi+21h], 1
mov     [ebp+var_2c.nmax], eax
lea     eax, [ebp+var_2c]
push    eax
push    ebx
push    dword ptr [esi]
jz      short loc_2781ce77
call    sub_277e50ac
cmp     [esi+0a8h], edi
lea     eax, [esi+0a8h]
jz      short loc_2781ce22
push    1
push    ebx
push    dword ptr [esi]
mov     [eax], edi
call    ds:invalidaterect
mov     ecx, [ebp+var_2c.npos]
mov     edx, [ebp+var_2c.npage]
mov     eax, [ebp+var_2c.nmax]
lea     edi, [ecx+edx-1]
cmp     edi, eax
jle     short loc_2781ce53
cmp     ecx, ebx
jle     short loc_2781ce53
sub     eax, edx
inc     eax
jns     short loc_2781ce3e
xor     eax, eax
cmp     eax, ecx
jz      short loc_2781ce53
push    ebx
sub     eax, ecx
push    ebx
push    eax
push    esi
call    sub_2781ce87
push    esi
call    sub_2781cd6e
test    byte ptr [esi+21h], 1
push    1
push    ebx
push    ebx
push    1
push    dword ptr [esi]
jz      short loc_2781ce7f
call    sub_277e4fd5
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [esi+18h]
mov     ecx, [eax]
jmp     loc_2781cdd8
call    ds:setscrollinfo
jmp     short loc_2781ce07
call    ds:setscrollrange
jmp     short loc_2781ce66
push    ebp
mov     ebp, esp
sub     esp, 38h
xor     ecx, ecx
cmp     [ebp+arg_4], ecx
jz      short locret_2781ceef
push    edi
push    esi
mov     esi, [ebp+arg_0]
lea     edi, [ebp+var_10]
mov     [ebp+dy], 38h
mov     [ebp+var_34], ecx
mov     eax, [esi+0a0h]
mov     edx, [esi]
imul    eax, [ebp+arg_4]
add     [esi+9ch], eax
mov     [ebp+var_30], edx
neg     eax
mov     [ebp+var_2c], eax
xor     eax, eax
mov     [ebp+var_28], ecx
mov     [ebp+var_24], ecx
mov     [ebp+var_20], ecx
mov     [ebp+var_1c], ecx
mov     [ebp+var_18], ecx
mov     [ebp+var_14], 6
stosd
stosd
stosd
stosd
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
push    dword ptr [esi]
call    ds:updatewindow
pop     esi
pop     edi
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+hmem]
cmp     dword ptr [esi+0dch], 0
jz      short loc_2781cf0e
push    0
push    esi
call    sub_2781bb07
push    0
lea     eax, [ebp+var_10]
push    1
push    eax
push    esi
call    sub_2781a868
mov     eax, [ebp+var_8]
sub     eax, [ebp+var_10]
cdq
idiv    dword ptr [esi+0a0h]
test    eax, eax
jnz     short loc_2781cf30
push    1
pop     eax
push    eax
push    1
push    0
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_2781b425
pop     esi
leave
retn    10h
push    1
pop     eax
retn    8
mov     eax, [esp+arg_8]
mov     ecx, [esp+arg_0]
cdq
idiv    dword ptr [ecx+0a4h]
push    esi
push    edi
mov     edi, eax
test    edi, edi
jg      short loc_2781cf65
xor     edi, edi
mov     esi, [ecx+0a8h]
lea     eax, [esi-1]
cmp     edi, eax
jl      short loc_2781cf74
mov     edi, eax
mov     eax, [ecx+9ch]
add     eax, [esp+8+arg_4]
cdq
idiv    dword ptr [ecx+0a0h]
imul    eax, esi
add     eax, edi
test    eax, eax
jg      short loc_2781cf90
xor     eax, eax
mov     esi, [ecx+8]
and     esi, 1000h
jz      short loc_2781cfb8
mov     edx, [ecx+15ch]
dec     edx
cmp     eax, edx
jl      short loc_2781cfb3
test    esi, esi
jz      short loc_2781cfbf
mov     ecx, [ecx+15ch]
lea     eax, [ecx-1]
pop     edi
pop     esi
retn    0ch
mov     edx, [ecx+18h]
mov     edx, [edx]
jmp     short loc_2781cfa1
mov     eax, [ecx+18h]
mov     ecx, [eax]
jmp     short loc_2781cfb0
push    ebp
mov     ebp, esp
sub     esp, 48h
and     [ebp+hdc], 0
and     [ebp+var_4], 0
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
test    byte ptr [esi+9], 10h
jz      loc_2781d0a3
push    1
push    1
push    esi
call    sub_2781cf4c
mov     edi, eax
mov     eax, [esi+6ch]
dec     eax
push    eax
mov     eax, [esi+68h]
dec     eax
push    eax
push    esi
call    sub_2781cf4c
mov     edx, [ebp+arg_8]
mov     ebx, [ebp+arg_4]
sub     edx, [ebp+arg_4]
mov     ecx, eax
sub     ecx, edi
cmp     edx, ecx
jle     short loc_2781d01f
cmp     ebx, edi
jg      short loc_2781d017
mov     ebx, edi
cmp     [ebp+arg_8], eax
jl      short loc_2781d01f
mov     [ebp+arg_8], eax
mov     ecx, [esi+8]
and     ecx, 1000h
jz      short loc_2781d095
mov     eax, [esi+15ch]
cmp     eax, [ebp+arg_8]
jge     short loc_2781d042
test    ecx, ecx
jz      short loc_2781d09c
mov     eax, [esi+15ch]
mov     [ebp+arg_8], eax
test    ebx, ebx
jge     short loc_2781d048
xor     ebx, ebx
cmp     [ebp+arg_8], ebx
jg      short loc_2781d050
mov     [ebp+arg_8], ebx
push    [ebp+arg_8]
push    ebx
push    esi
call    sub_277f9d8c
cmp     ebx, [ebp+arg_8]
jg      short loc_2781d0b3
test    byte ptr [esi+9], 10h
jz      short loc_2781d0a8
lea     edi, [ebp+var_48]
mov     [ebp+var_3a], 7fffh
cmp     word ptr [edi+0eh], 7fffh
jnz     short loc_2781d086
push    0
push    [ebp+hdc]
push    ebx
push    edi
push    esi
call    sub_2781a569
mov     [ebp+hdc], eax
movsx   eax, word ptr [edi+0eh]
cmp     eax, [ebp+var_4]
jle     short loc_2781d092
mov     [ebp+var_4], eax
inc     ebx
jmp     short loc_2781d05a
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_2781d030
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_2781d03f
mov     ebx, [ebp+arg_4]
jmp     short loc_2781d05a
mov     eax, [esi+18h]
mov     eax, [eax+4]
mov     edi, [eax+ebx*4]
jmp     short loc_2781d06e
cmp     [ebp+hdc], 0
jz      short loc_2781d0c4
push    [ebp+hdc]
push    0
call    ds:releasedc
mov     eax, [esi+94h]
add     eax, [esi+14ch]
add     eax, dword_2782a080
add     [ebp+var_4], eax
mov     eax, dword_2782a050
cmp     [ebp+var_4], eax
jle     short loc_2781d0e6
mov     [ebp+var_4], eax
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     eax, [esi+8]
and     eax, 3
cmp     al, 3
jnz     short loc_2781d14d
test    byte ptr [esi+1dh], 4
jnz     short loc_2781d14d
push    [esp+0ch+arg_8]
push    [esp+10h+arg_4]
push    esi
call    sub_2781cfc6
mov     ecx, [esi+0a0h]
mov     ebx, eax
cmp     ebx, ecx
jle     short loc_2781d14d
mov     eax, [esi+9ch]
push    0
cdq
idiv    ecx
push    ebx
push    0
push    esi
mov     edi, eax
call    sub_27802ade
imul    edi, [esi+0a0h]
push    1
mov     [esi+9ch], edi
pop     eax
pop     edi
pop     esi
pop     ebx
retn    0ch
xor     eax, eax
jmp     short loc_2781d147
push    ebp
mov     ebp, esp
sub     esp, 18h
push    esi
mov     esi, [ebp+arg_0]
test    esi, esi
push    edi
jz      short loc_2781d1b8
test    byte ptr [esi+9], 4
jz      short loc_2781d1b8
push    dword ptr [esi]
mov     edi, [esi+0a4h]
mov     [ebp+lparam], 66h
call    ds:getdlgctrlid
mov     ecx, [esi+0a4h]
mov     [ebp+var_14], eax
mov     [ebp+var_8], ecx
lea     ecx, [ebp+lparam]
push    ecx
push    eax
push    2ch
push    dword ptr [esi+4]
call    ds:sendmessagea
mov     eax, [ebp+var_8]
cmp     [ebp+arg_4], 0
mov     [esi+0a4h], eax
jz      short loc_2781d1b8
cmp     edi, eax
jz      short loc_2781d1b8
push    5
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
xor     eax, eax
push    esi
mov     esi, [ebp+arg_0]
lea     ecx, [ebp+var_10]
push    eax
push    ecx
push    eax
push    eax
push    [ebp+arg_4]
push    esi
call    sub_2781e81f
mov     eax, [ebp+var_4]
mov     ecx, [ebp+var_8]
add     eax, [esi+138h]
add     ecx, [esi+134h]
pop     esi
movzx   eax, ax
movzx   ecx, cx
shl     eax, 10h
or      eax, ecx
leave
retn    10h
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+arg_4]
mov     edx, [ebp+arg_c]
mov     ecx, [ebp+arg_8]
mov     [ebp+rect.left], eax
add     edx, eax
mov     eax, [ebp+arg_10]
add     eax, ecx
mov     [ebp+rect.top], ecx
mov     [ebp+rect.bottom], eax
xor     eax, eax
push    eax
push    eax
lea     ecx, [ebp+rect]
push    eax
push    ecx
push    2
push    eax
push    eax
push    [ebp+hdc]
mov     [ebp+rect.right], edx
call    ds:exttextouta
leave
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 38h
push    esi
mov     esi, [ebp+wparam]
test    byte ptr [esi+20h], 1
jz      loc_2781d316
push    edi
push    ebx
push    color
push    [ebp+hdc]
call    ds:setbkcolor
mov     edi, [esi+134h]
and     [ebp+wparam], 0
neg     edi
cmp     dword ptr [esi+120h], 0
mov     [ebp+color], eax
jle     short loc_2781d2d4
cmp     edi, [esi+68h]
jge     short loc_2781d2d4
lea     eax, [ebp+lparam]
lea     ebx, [esi+128h]
push    eax
push    0
push    [ebp+wparam]
mov     [ebp+lparam], 1
push    120fh
push    dword ptr [ebx]
call    ds:sendmessagea
push    eax
push    1203h
push    dword ptr [ebx]
call    ds:sendmessagea
add     edi, [ebp+var_34]
test    edi, edi
jle     short loc_2781d2c6
push    dword ptr [esi+6ch]
push    w
push    0
push    edi
push    [ebp+hdc]
call    sub_2781d1fc
inc     [ebp+wparam]
mov     eax, [ebp+wparam]
cmp     eax, [esi+120h]
jl      short loc_2781d275
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi+128h]
call    ds:getclientrect
mov     edi, [ebp+rect.bottom]
cmp     edi, [esi+6ch]
jge     short loc_2781d308
push    w
push    dword ptr [esi+68h]
push    edi
push    0
push    [ebp+hdc]
call    sub_2781d1fc
add     edi, [esi+0a4h]
jmp     short loc_2781d2e7
push    [ebp+color]
push    [ebp+hdc]
call    ds:setbkcolor
pop     ebx
pop     edi
pop     esi
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 40h
mov     eax, [ebp+arg_0]
push    esi
mov     esi, [ebp+arg_8]
push    edi
test    byte ptr [eax+9], 10h
mov     edi, 7fffh
jnz     short loc_2781d338
mov     di, [esi+0eh]
cmp     di, 7fffh
jnz     short loc_2781d36d
test    esi, esi
jnz     short loc_2781d34a
and     [ebp+cchtext], 0
lea     esi, [ebp+var_40]
push    [ebp+cchtext]
push    [ebp+hdc]
push    [ebp+arg_4]
push    esi
push    eax
call    sub_2781a569
cmp     [ebp+hdc], 0
mov     di, [esi+0eh]
jnz     short loc_2781d36d
push    eax
push    0
call    ds:releasedc
mov     eax, dword_2782a068
lea     eax, [edi+eax*2]
pop     edi
pop     esi
leave
retn    14h
push    ebp
mov     ebp, esp
sub     esp, 204h
push    ebx
mov     ebx, [ebp+arg_0]
push    esi
push    edi
xor     edi, edi
mov     esi, [ebx]
lea     eax, [ebp+rcsrc1]
push    edi
push    eax
push    edi
push    edi
mov     [ebp+var_20], edi
push    dword ptr [ebx+3ch]
mov     [ebp+var_34], esi
mov     [ebp+wparam], edi
mov     [ebp+var_4], edi
push    esi
mov     [ebp+var_18], edi
mov     [ebp+dy], edi
call    sub_2781e81f
mov     eax, [ebp+rcsrc1.bottom]
cmp     eax, [esi+12ch]
jle     loc_2781d541
mov     eax, [ebx+8]
cmp     eax, edi
jz      short loc_2781d3e5
mov     ecx, [ebp+rcsrc1.top]
cmp     ecx, [eax+0ch]
jge     short loc_2781d3ed
push    eax
lea     eax, [ebp+rcsrc1]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:intersectrect
test    eax, eax
jz      loc_2781d541
mov     edx, [ebp+rcsrc1.top]
cmp     edx, [esi+6ch]
jl      short loc_2781d3f6
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    4
mov     eax, [ebx+4]
cmp     eax, edi
jz      short loc_2781d419
mov     ecx, [eax]
mov     eax, [eax+4]
sub     ecx, [ebp+rcsrc1.left]
sub     eax, edx
mov     [ebp+dy], eax
push    eax
lea     eax, [ebp+rcsrc1]
push    ecx
push    eax
mov     [ebp+var_18], ecx
call    ds:offsetrect
mov     eax, [ebx+3ch]
mov     [ebp+var_5c], 0ffffh
mov     [ebp+var_68], eax
mov     [ebp+var_60], edi
test    byte ptr [esi+9], 4
jnz     short loc_2781d461
lea     eax, [ebp+rcdst]
push    eax
call    ds:setrectempty
mov     eax, [ebp+wparam]
cmp     eax, [esi+120h]
jge     loc_2781d854
push    edi
push    eax
push    120fh
mov     [ebp+var_10], edi
push    dword ptr [esi+128h]
call    ds:sendmessagea
mov     [ebp+var_4], eax
mov     edi, [ebp+var_4]
mov     [ebp+var_54], 104h
mov     eax, edi
mov     [ebp+var_64], edi
neg     eax
sbb     eax, eax
or      [ebp+var_50], 0ffffffffh
and     al, 0f0h
add     eax, 1bh
mov     [ebp+var_6c], eax
lea     eax, [ebp+var_204]
mov     [ebp+lpstring], eax
lea     eax, [ebp+var_6c]
push    eax
push    esi
call    sub_2780011b
mov     eax, [ebx+0ch]
test    edi, edi
mov     [ebp+arg_0], eax
jnz     loc_2781d549
test    byte ptr [esi+9], 4
jz      loc_2781d549
push    0bh
xor     eax, eax
pop     ecx
lea     edi, [ebp+var_a8]
push    dword ptr [esi]
rep stosd
mov     [ebp+lparam], 66h
call    ds:getdlgctrlid
mov     ecx, [esi]
mov     [ebp+var_a8], eax
mov     eax, [ebx+3ch]
push    1
mov     [ebp+var_a4], eax
mov     [ebp+var_98], ecx
mov     ecx, [ebx+28h]
pop     eax
lea     esi, [ebp+rcsrc1]
lea     edi, [ebp+var_90]
mov     [ebp+var_a0], eax
mov     [ebp+var_94], ecx
movsd
mov     ebx, [ebx+10h]
movsd
movsd
test    ebx, ebx
movsd
jz      short loc_2781d50d
mov     ecx, [ebx+1ch]
mov     [ebp+var_80], ecx
test    byte ptr [ebp+var_60], 1
jz      short loc_2781d51a
or      [ebp+var_9c], 10h
test    byte ptr [ebp+var_60], 2
jz      short loc_2781d526
or      [ebp+var_9c], eax
lea     eax, [ebp+lparam]
push    eax
mov     eax, [ebp+var_34]
push    [ebp+var_a8]
push    2bh
push    dword ptr [eax+4]
call    ds:sendmessagea
push    1
pop     eax
jmp     loc_2781d3ef
lea     eax, [ebp+var_100]
mov     [ebp+var_100], 5
push    eax
push    edi
push    1203h
push    dword ptr [esi+128h]
call    ds:sendmessagea
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rc]
push    eax
push    edi
push    dword ptr [ebx+3ch]
push    esi
call    sub_2781e6e8
push    [ebp+dy]
mov     edi, ds:offsetrect
lea     eax, [ebp+rc]
push    [ebp+var_18]
push    eax
call    edi
push    [ebp+dy]
lea     eax, [ebp+rcsrc2]
push    [ebp+var_18]
push    eax
call    edi
test    byte ptr [ebx+14h], 20h
jz      loc_2781d634
lea     eax, [ebp+var_dc]
mov     edi, [ebx+40h]
push    eax
push    [ebp+var_4]
push    1207h
push    dword ptr [esi+128h]
call    ds:sendmessagea
mov     eax, [ebp+var_dc]
mov     [ebx+2ch], eax
mov     eax, [ebp+var_d4]
mov     [ebx+34h], eax
mov     eax, [ebp+var_4]
mov     [ebx+50h], eax
lea     eax, [ebx+18h]
push    eax
push    30001h
push    dword ptr [ebx]
call    sub_27811d7b
mov     [ebp+var_10], eax
mov     eax, [ebx+40h]
test    byte ptr [ebp+var_10], 4
mov     [ebx+40h], edi
jnz     loc_2781d817
and     [ebp+arg_0], 0ffffff87h
test    al, 10h
jz      short loc_2781d611
or      [ebp+arg_0], 8
test    al, 1
jz      short loc_2781d634
mov     eax, [ebx]
test    byte ptr [eax+1ch], 1
jz      loc_2781d821
or      [ebp+arg_0], 10h
mov     eax, [eax+168h]
cmp     eax, [ebx+3ch]
jnz     short loc_2781d634
or      [ebp+arg_0], 40h
mov     ecx, [ebp+rcsrc2.right]
mov     eax, [ebp+rcsrc2.left]
sub     ecx, eax
cmp     [ebp+var_4], 0
mov     [ebp+var_c], ecx
jz      short loc_2781d654
cmp     [ebp+var_50], 0ffffffffh
jz      short loc_2781d654
add     eax, [esi+94h]
mov     [ebp+rcsrc2.left], eax
push    [ebp+arg_0]
lea     eax, [ebp+var_6c]
push    [ebp+rc.top]
push    [ebp+rc.left]
push    dword ptr [ebx+28h]
push    eax
push    esi
call    sub_2781c187
test    byte ptr [esi+20h], 20h
mov     edi, eax
jz      short loc_2781d690
test    byte ptr [ebp+arg_0], 8
jz      short loc_2781d690
lea     eax, [ebp+rcsrc2]
push    eax
lea     eax, [ebp+rcdst]
push    eax
lea     eax, [ebp+rcdst]
push    eax
call    ds:unionrect
mov     ecx, [ebp+lpstring]
test    ecx, ecx
jz      loc_2781d801
mov     eax, [ebp+var_4]
neg     eax
sbb     eax, eax
and     eax, 40h
inc     eax
inc     eax
or      eax, edi
test    byte ptr [esi+20h], 20h
mov     [ebp+var_8], eax
jnz     short loc_2781d6fb
test    di, 108h
jnz     short loc_2781d6bf
test    byte ptr [ebp+var_60], 1
jz      short loc_2781d6fb
cmp     [ebp+var_4], 0
jnz     loc_2781d82a
mov     eax, [ebx+10h]
test    eax, eax
jnz     short loc_2781d6dc
lea     eax, [ebp+var_bc]
mov     [ebp+var_bc], ecx
push    1
push    dword ptr [ebx+28h]
push    eax
push    dword ptr [ebx+3ch]
push    esi
call    sub_2781d31b
movsx   eax, ax
cmp     eax, [ebp+var_c]
jge     short loc_2781d6fb
mov     ecx, [ebp+rcsrc2.left]
add     eax, ecx
mov     [ebp+rcsrc2.right], eax
xor     edi, edi
cmp     [ebp+var_4], edi
jnz     short loc_2781d711
mov     eax, [esi+0e0h]
cmp     eax, [ebx+3ch]
jz      loc_2781d801
mov     eax, [ebx+48h]
mov     [ebp+var_c], eax
call    sub_27819290
push    eax
call    ds:getsyscolor
cmp     [ebp+var_c], eax
jz      short loc_2781d74b
mov     eax, [esi+20h]
test    ah, 8
jz      short loc_2781d77f
test    al, 40h
jnz     short loc_2781d74b
mov     eax, [ebx]
test    byte ptr [eax+20h], 80h
jz      short loc_2781d77f
push    2
push    dword ptr [ebx+3ch]
push    eax
call    sub_278007e2
test    eax, eax
jz      short loc_2781d77f
cmp     [ebp+var_4], 0
jz      short loc_2781d77f
test    byte ptr [esi+20h], 20h
jnz     short loc_2781d77f
push    dword ptr [esi+28h]
push    dword ptr [ebx+28h]
call    ds:selectobject
mov     edi, eax
cmp     edi, [esi+16ch]
jz      short loc_2781d779
push    edi
push    dword ptr [ebx+28h]
call    ds:selectobject
xor     edi, edi
mov     eax, [esi+34h]
mov     [ebp+var_c], eax
test    byte ptr [ebp+var_8], 8
jz      short loc_2781d78f
test    byte ptr [ebp+arg_0], 40h
jz      short loc_2781d78f
or      byte ptr [ebp+var_8+1], 2
test    byte ptr [esi+25h], 20h
jz      short loc_2781d7b2
mov     eax, [ebp+lpstring]
cmp     byte ptr [eax], 0fdh
jz      short loc_2781d7b2
push    eax
call    ds:lstrlena
mov     ecx, [ebp+lpstring]
cmp     byte ptr [eax+ecx-1], 0fdh
jz      short loc_2781d7b2
or      byte ptr [ebp+var_8+1], 8
push    dword ptr [ebx+4ch]
mov     eax, [ebp+var_ec]
and     eax, 3
push    [ebp+var_c]
push    dword ptr [esi+4ch]
push    dword ptr [esi+44h]
push    [ebp+var_8]
push    eax
lea     eax, [ebp+rcsrc2]
push    eax
push    [ebp+lpstring]
push    dword ptr [ebx+28h]
call    sub_27803131
test    edi, edi
jz      short loc_2781d7e8
push    edi
push    dword ptr [ebx+28h]
call    ds:selectobject
test    byte ptr [ebp+arg_0], 8
jz      short loc_2781d801
test    byte ptr [ebp+var_60], 1
jz      short loc_2781d801
test    byte ptr [esi+20h], 20h
jz      short loc_2781d845
mov     [ebp+var_20], 1
test    byte ptr [ebp+var_10], 10h
jz      short loc_2781d817
lea     eax, [ebx+18h]
push    eax
push    30002h
push    dword ptr [ebx]
call    sub_27811d7b
inc     [ebp+wparam]
xor     edi, edi
jmp     loc_2781d439
or      [ebp+arg_0], 20h
jmp     loc_2781d625
push    dword ptr [ebx+28h]
push    ecx
push    esi
call    sub_27802a49
mov     ecx, dword_2782a068
lea     ecx, [ecx+ecx*2]
lea     eax, [eax+ecx*2]
jmp     loc_2781d6ee
lea     eax, [ebp+rcsrc2]
push    eax
push    dword ptr [ebx+28h]
call    ds:drawfocusrect
jmp     short loc_2781d801
cmp     [ebp+var_20], edi
jz      loc_2781d541
lea     eax, [ebp+rcdst]
push    eax
push    dword ptr [ebx+28h]
call    ds:drawfocusrect
jmp     loc_2781d541
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
mov     edi, 40000040h
mov     eax, [esi+8]
test    ah, 40h
jz      short loc_2781d886
add     edi, 8
test    ah, 80h
jnz     short loc_2781d88e
or      edi, 2
xor     ebx, ebx
push    ebx
push    0fffffffah
push    dword ptr [esi]
call    ds:getwindowlonga
push    eax
push    ebx
push    dword ptr [esi]
or      edi, 80h
push    ebx
push    ebx
push    ebx
push    ebx
push    edi
push    ebx
push    offset amsvblibheader
push    ebx
call    ds:createwindowexa
cmp     eax, ebx
mov     [esi+128h], eax
jz      short loc_2781d8e9
mov     edi, ds:sendmessagea
push    ebx
push    dword ptr [esi+28h]
push    30h
push    eax
call    edi
mov     eax, [esi+90h]
cmp     eax, ebx
jz      short loc_2781d8e9
push    eax
push    ebx
push    1208h
push    dword ptr [esi+128h]
call    edi
mov     eax, [esi+128h]
pop     edi
pop     esi
pop     ebx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 28h
push    ebx
xor     ebx, ebx
or      eax, 0ffffffffh
cmp     [ebp+wparam], ebx
push    esi
push    edi
mov     [ebp+var_4], eax
jl      loc_2781da1c
mov     edi, [ebp+arg_8]
cmp     edi, ebx
jz      loc_2781da1c
mov     esi, [ebp+arg_0]
cmp     [esi+128h], ebx
jnz     short loc_2781d933
push    esi
call    sub_2781d86f
test    eax, eax
jz      loc_2781da19
mov     eax, [edi]
mov     [ebp+lparam], 0dh
test    al, 10h
jz      short loc_2781d94d
mov     ecx, [edi+18h]
mov     [ebp+lparam], 2dh
mov     [ebp+var_c], ecx
test    al, 4
jz      short loc_2781d95b
mov     ecx, [edi+0ch]
or      [ebp+lparam], 2
mov     [ebp+var_20], ecx
test    al, 20h
jz      short loc_2781d969
mov     ecx, [edi+1ch]
or      byte ptr [ebp+lparam], 80h
mov     [ebp+var_8], ecx
test    al, 2
jz      loc_2781da23
mov     ecx, [edi+8]
mov     [ebp+var_24], ecx
test    al, 1
jz      loc_2781da2f
cmp     [ebp+wparam], ebx
jle     loc_2781da2f
mov     ecx, [edi+4]
mov     [ebp+var_14], ecx
test    al, 8
mov     [ebp+var_1c], ebx
jz      loc_2781da37
mov     eax, [edi+14h]
mov     [ebp+var_10], eax
cmp     [esi+120h], ebx
jle     short loc_2781d9e2
cmp     [esi+124h], ebx
jnz     short loc_2781d9c3
push    dword ptr [esi+40h]
push    8
call    sub_27815c1c
cmp     eax, ebx
mov     [esi+124h], eax
jz      short loc_2781da19
mov     eax, [ebp+wparam]
dec     eax
cmp     eax, ebx
jge     short loc_2781d9cd
xor     eax, eax
push    ebx
push    eax
push    dword ptr [esi+124h]
call    sub_27815df2
cmp     eax, 0ffffffffh
mov     [ebp+var_4], eax
jz      short loc_2781da19
lea     eax, [ebp+lparam]
push    eax
push    [ebp+wparam]
push    1201h
push    dword ptr [esi+128h]
call    ds:sendmessagea
mov     edi, eax
cmp     edi, 0ffffffffh
jnz     short loc_2781da3f
mov     esi, [esi+124h]
cmp     esi, ebx
jz      short loc_2781da19
cmp     [ebp+var_4], eax
jz      short loc_2781da19
push    [ebp+var_4]
push    esi
call    sub_27815e5b
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     [ebp+var_24], 0ah
jmp     loc_2781d977
mov     [ebp+var_14], ebx
jmp     loc_2781d98e
mov     [ebp+var_10], ebx
jmp     loc_2781d99f
inc     dword ptr [esi+120h]
push    esi
mov     dword ptr [esi+130h], 7fffffffh
call    sub_277ffcba
mov     eax, [esi+8]
and     eax, 3
cmp     al, 1
jnz     short loc_2781da75
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     short loc_2781da75
push    5
push    ebx
push    ebx
push    dword ptr [esi]
call    ds:redrawwindow
mov     eax, edi
jmp     short loc_2781da1c
push    [esp+hmem]
call    sub_2780100f
push    1
pop     eax
retn    8
push    esi
push    edi
mov     edi, [esp+8+wparam]
test    edi, edi
jl      loc_2781db1f
mov     esi, [esp+8+arg_0]
cmp     edi, [esi+120h]
jge     short loc_2781db1f
mov     eax, [esi+124h]
test    eax, eax
jz      short loc_2781dac7
test    edi, edi
jle     short loc_2781dac7
lea     ecx, [edi-1]
push    ecx
push    eax
call    sub_27815e5b
push    0
push    offset sub_2781da79
push    eax
call    sub_27815f47
push    0
push    edi
push    1202h
push    dword ptr [esi+128h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_2781db1f
dec     dword ptr [esi+120h]
push    esi
mov     dword ptr [esi+130h], 7fffffffh
call    sub_277ffcba
mov     eax, [esi+8]
and     eax, 3
cmp     al, 1
jnz     short loc_2781db17
mov     eax, [esi+1ch]
and     eax, 12h
cmp     al, 12h
jnz     short loc_2781db17
push    5
push    0
push    0
push    dword ptr [esi]
call    ds:redrawwindow
push    1
pop     eax
pop     edi
pop     esi
retn    8
xor     eax, eax
jmp     short loc_2781db1a
push    ebp
mov     ebp, esp
sub     esp, 24h
lea     eax, [ebp+lparam]
mov     [ebp+lparam], 1
push    eax
mov     eax, [ebp+arg_0]
push    [ebp+wparam]
push    1203h
push    dword ptr [eax+128h]
call    ds:sendmessagea
mov     eax, [ebp+var_20]
leave
retn    8
push    ebp
mov     ebp, esp
sub     esp, 20h
push    esi
mov     esi, [ebp+hmem]
push    edi
xor     edi, edi
push    edi
lea     eax, [ebp+var_20]
push    edi
push    eax
push    esi
call    sub_2781a868
lea     eax, [ebp+var_10]
push    edi
push    eax
push    edi
push    edi
push    edi
push    esi
call    sub_2781e81f
mov     eax, [ebp+var_8]
sub     eax, [ebp+var_10]
cmp     eax, [ebp+var_18]
jle     short loc_2781db8c
push    esi
call    sub_27801056
mov     edi, eax
mov     eax, [ebp+var_14]
sub     eax, [esi+12ch]
sub     eax, edi
cdq
idiv    dword ptr [esi+0a4h]
test    byte ptr [esi+9], 10h
jz      short loc_2781dbb9
mov     esi, [esi+15ch]
xor     ecx, ecx
cmp     eax, esi
setl    cl
pop     edi
mov     eax, ecx
pop     esi
leave
retn    4
mov     ecx, [esi+18h]
mov     esi, [ecx]
jmp     short loc_2781dbaa
push    ebp
mov     ebp, esp
sub     esp, 1a8h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     edi, [ebp+hdc]
xor     ebx, ebx
cmp     edi, 0ffffffffh
mov     [ebp+var_8], ebx
mov     [ebp+var_4], ebx
jg      loc_2781de74
push    dword ptr [esi]
call    ds:getdc
push    dword ptr [esi+28h]
mov     [ebp+hdc], eax
push    eax
call    ds:selectobject
cmp     edi, 0fffffffeh
jnz     loc_2781dc9e
mov     eax, [esi+120h]
push    2
cmp     eax, 1
pop     edi
jnz     loc_2781dd90
push    ebx
lea     eax, [ebp+var_20]
push    ebx
push    eax
push    esi
call    sub_2781a868
mov     eax, [ebp+var_18]
sub     eax, [ebp+var_20]
mov     [ebp+var_4], eax
cmp     [ebp+var_4], ebx
jz      short loc_2781dc3f
push    esi
call    sub_2781db52
test    eax, eax
jz      short loc_2781dc3f
mov     eax, dword_2782a074
sub     [ebp+var_4], eax
lea     eax, [ebp+var_1a8]
mov     [ebp+lparam], edi
mov     [ebp+lpstring], eax
lea     eax, [ebp+lparam]
push    eax
mov     [ebp+var_6c], 108h
push    [ebp+wparam]
push    1203h
push    dword ptr [esi+128h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_2781dc9e
lea     eax, [ebp+sz]
push    eax
push    [ebp+lpstring]
call    ds:lstrlena
push    eax
push    [ebp+lpstring]
push    [ebp+hdc]
call    ds:gettextextentpointa
mov     eax, dword_2782a068
mov     ecx, [ebp+sz._cx]
lea     eax, [eax+eax*2]
lea     eax, [ecx+eax*2]
cmp     [ebp+var_4], eax
jg      short loc_2781dc9e
mov     [ebp+var_4], eax
mov     eax, [esi+8]
and     eax, 1000h
jz      loc_2781dde2
mov     edi, [esi+15ch]
test    eax, eax
jz      short loc_2781dd00
mov     ecx, [esi+138h]
mov     edi, [esi+0a4h]
sub     ecx, [esi+12ch]
mov     eax, ecx
cdq
idiv    edi
mov     ebx, eax
mov     eax, [esi+6ch]
add     eax, ecx
cdq
idiv    edi
mov     edi, eax
inc     edi
test    ebx, ebx
jge     short loc_2781dce0
xor     ebx, ebx
lea     eax, [ebx+1]
cmp     edi, eax
jg      short loc_2781dce9
mov     edi, eax
mov     eax, [esi+15ch]
cmp     edi, eax
jl      short loc_2781dcf5
mov     edi, eax
lea     eax, [edi-1]
push    eax
push    ebx
push    esi
call    sub_277f9d8c
cmp     ebx, edi
jge     loc_2781ddf4
mov     eax, [ebp+wparam]
or      [ebp+var_2c], 0ffffffffh
mov     [ebp+var_40], eax
and     [ebp+var_38], 0
lea     eax, [ebp+var_1a8]
mov     [ebp+var_48], 3
mov     [ebp+var_34], eax
lea     eax, [ebp+var_48]
push    eax
push    esi
mov     [ebp+var_44], ebx
mov     [ebp+var_30], 108h
call    sub_2780011b
xor     eax, eax
cmp     [ebp+var_34], eax
jnz     short loc_2781dd50
cmp     [ebp+var_2c], 0ffffffffh
jz      short loc_2781dd8a
cmp     [ebp+var_34], eax
jz      loc_2781ddec
lea     eax, [ebp+sz]
push    eax
push    [ebp+var_34]
call    ds:lstrlena
push    eax
push    [ebp+var_34]
push    [ebp+hdc]
call    ds:gettextextentpointa
cmp     [ebp+var_2c], 0ffffffffh
jz      short loc_2781dd7f
mov     eax, [esi+94h]
add     eax, dword_2782a06c
add     [ebp+sz._cx], eax
mov     eax, [ebp+sz._cx]
cmp     [ebp+var_8], eax
jg      short loc_2781dd8a
mov     [ebp+var_8], eax
inc     ebx
jmp     loc_2781dd00
dec     eax
cmp     [ebp+wparam], eax
jnz     loc_2781dc28
push    ebx
lea     eax, [ebp+var_58]
push    ebx
push    eax
push    esi
call    sub_2781a868
lea     eax, [ebp+var_20]
push    eax
mov     eax, [esi+120h]
sub     eax, edi
push    eax
push    1207h
push    dword ptr [esi+128h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_2781ddcb
mov     [ebp+var_18], ebx
mov     eax, [ebp+var_50]
sub     eax, [ebp+var_58]
cmp     [ebp+var_18], eax
jge     loc_2781dc28
sub     eax, [ebp+var_18]
jmp     loc_2781dc25
mov     ecx, [esi+18h]
mov     edi, [ecx]
jmp     loc_2781dcb2
mov     [ebp+sz._cx], eax
jmp     loc_2781dd6a
push    [ebp+hdc]
push    dword ptr [esi]
call    ds:releasedc
cmp     [ebp+wparam], 0
jnz     short loc_2781de59
mov     eax, [esi+14ch]
mov     ecx, dword_2782a068
lea     eax, [eax+ecx*2]
add     eax, dword_2782a06c
add     [ebp+var_8], eax
mov     eax, [ebp+var_4]
mov     ecx, [ebp+var_8]
cmp     eax, ecx
jle     short loc_2781de6c
mov     [ebp+var_9c], eax
lea     eax, [ebp+var_a0]
mov     [ebp+var_a0], 1
push    eax
push    [ebp+wparam]
push    1204h
push    dword ptr [esi+128h]
call    ds:sendmessagea
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, dword_2782a068
mov     ecx, [ebp+var_8]
lea     eax, [eax+eax*2]
lea     eax, [ecx+eax*2]
mov     [ebp+var_8], eax
jmp     short loc_2781de1d
mov     [ebp+var_9c], ecx
jmp     short loc_2781de2d
mov     [ebp+var_9c], edi
jmp     short loc_2781de2d
push    ebp
mov     ebp, esp
sub     esp, 24h
push    ebx
push    esi
mov     esi, [ebp+arg_8]
test    esi, esi
jz      short loc_2781ded8
mov     ebx, [esi]
test    ebx, ebx
jnz     short loc_2781de9a
push    1
pop     eax
pop     esi
pop     ebx
leave
retn    0ch
test    bl, 4
mov     [ebp+lparam], 0adh
jz      short loc_2781deb9
mov     eax, [esi+0ch]
mov     [ebp+lparam], 0afh
mov     [ebp+var_1c], eax
mov     eax, [esi+10h]
mov     [ebp+var_14], eax
lea     eax, [ebp+lparam]
push    eax
mov     eax, [ebp+arg_0]
push    [ebp+wparam]
push    1203h
push    dword ptr [eax+128h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_2781dedc
xor     eax, eax
jmp     short loc_2781de94
test    bl, 8
jz      short loc_2781dee7
mov     eax, [ebp+var_c]
mov     [esi+14h], eax
test    bl, 20h
jz      short loc_2781def2
mov     eax, [ebp+var_4]
mov     [esi+1ch], eax
test    bl, 10h
jz      short loc_2781defd
mov     eax, [ebp+var_8]
mov     [esi+18h], eax
push    1
pop     eax
test    al, bl
jz      short loc_2781df0a
mov     ecx, [ebp+var_10]
mov     [esi+4], ecx
test    bl, 2
jz      short loc_2781de94
mov     ecx, [ebp+var_20]
mov     [esi+8], ecx
jmp     loc_2781de94
push    ebp
mov     ebp, esp
sub     esp, 24h
mov     eax, [ebp+arg_8]
push    esi
test    eax, eax
jz      short loc_2781df31
mov     ecx, [eax]
test    ecx, ecx
jnz     short loc_2781df36
push    1
pop     eax
pop     esi
leave
retn    0ch
and     [ebp+lparam], 0
mov     edx, [ebp+wparam]
test    cl, 8
jz      short loc_2781df4c
mov     [ebp+lparam], 8
mov     [ebp+var_c], edx
test    cl, 1
jz      short loc_2781df61
mov     esi, [eax+4]
or      [ebp+lparam], 4
or      esi, 4000h
mov     [ebp+var_10], esi
test    cl, 2
jz      short loc_2781df70
mov     esi, [eax+8]
or      [ebp+lparam], 1
mov     [ebp+var_20], esi
test    cl, 4
jz      short loc_2781df83
mov     esi, [eax+0ch]
or      [ebp+lparam], 2
and     [ebp+var_14], 0
mov     [ebp+var_1c], esi
test    cl, 10h
jz      short loc_2781df92
mov     esi, [eax+18h]
or      [ebp+lparam], 20h
mov     [ebp+var_8], esi
test    cl, 20h
jz      short loc_2781dfa1
mov     eax, [eax+1ch]
or      byte ptr [ebp+lparam], 80h
mov     [ebp+var_4], eax
mov     eax, [ebp+arg_0]
lea     ecx, [ebp+lparam]
push    ecx
push    edx
push    1204h
mov     dword ptr [eax+130h], 7fffffffh
push    dword ptr [eax+128h]
call    ds:sendmessagea
jmp     loc_2781df31
push    ebp
mov     ebp, esp
sub     esp, 1ch
and     [ebp+var_4], 0
push    ebx
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     eax, [esi]
test    eax, 0fffffff4h
jnz     loc_2781e0fb
test    al, 0bh
jnz     short loc_2781dff4
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     edi, [esi+8]
mov     eax, [esi+4]
dec     edi
mov     [ebp+arg_4], eax
js      loc_2781e0fb
mov     ebx, [ebp+arg_0]
mov     eax, [ebx+120h]
dec     eax
cmp     edi, eax
jge     loc_2781e0fb
push    edi
push    dword ptr [ebx+124h]
call    sub_27815cea
test    eax, eax
mov     [ebp+arg_0], eax
jnz     short loc_2781e04b
push    dword ptr [ebx+40h]
push    10h
call    sub_27815c1c
test    eax, eax
mov     [ebp+arg_0], eax
jz      loc_2781e0fb
push    eax
push    edi
push    dword ptr [ebx+124h]
call    sub_27815db4
lea     eax, [ebp+var_c]
push    eax
push    dword ptr [esi+8]
push    [ebp+arg_4]
push    ebx
call    sub_2781e698
test    byte ptr [esi], 1
jz      loc_2781e102
mov     eax, [esi+14h]
cmp     [ebp+var_c], eax
jz      loc_2781e102
push    eax
lea     eax, [ebp+var_c]
push    eax
call    sub_2781617a
push    1
pop     edi
mov     [ebp+var_4], edi
mov     eax, [esi]
test    al, 2
jz      short loc_2781e09a
movsx   ecx, word ptr [ebp+var_8]
cmp     [esi+1ch], ecx
jz      short loc_2781e09a
mov     cx, [esi+1ch]
mov     [ebp+var_4], edi
mov     word ptr [ebp+var_8], cx
test    al, 8
jz      short loc_2781e0b3
movzx   ecx, word ptr [ebp+var_8+2]
mov     eax, [esi+0ch]
xor     eax, ecx
and     eax, [esi+10h]
jz      short loc_2781e0b3
xor     word ptr [ebp+var_8+2], ax
mov     [ebp+var_4], edi
cmp     [ebp+var_4], 0
jz      short loc_2781e10d
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_27815cea
mov     edi, eax
test    edi, edi
jnz     short loc_2781e0da
push    8
push    40h
call    ds:localalloc
mov     edi, eax
test    edi, edi
jz      short loc_2781e0fb
mov     eax, [ebp+var_c]
push    edi
push    [ebp+arg_4]
mov     [edi], eax
mov     eax, [ebp+var_8]
push    [ebp+arg_0]
mov     [edi+4], eax
call    sub_27815db4
test    eax, eax
jnz     short loc_2781e10a
push    edi
call    sub_2780100f
xor     eax, eax
jmp     loc_2781dfed
push    1
pop     edi
jmp     loc_2781e080
push    1
pop     edi
mov     eax, [ebx+8]
and     eax, 3
cmp     al, 1
jnz     short loc_2781e139
lea     eax, [ebp+rcupdate]
push    eax
push    0
push    dword ptr [esi+8]
push    dword ptr [esi+4]
push    ebx
call    sub_2781e6e8
push    5
lea     eax, [ebp+rcupdate]
push    0
push    eax
push    dword ptr [ebx]
call    ds:redrawwindow
mov     eax, edi
jmp     loc_2781dfed
push    0
push    offset sub_2781da79
push    [esp+8+lpmem]
call    sub_27815f47
push    1
pop     eax
retn    8
mov     eax, [esp+arg_0]
push    esi
push    0
push    offset sub_2781e140
push    dword ptr [eax+124h]
lea     esi, [eax+124h]
call    sub_27815f47
and     dword ptr [esi], 0
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 20h
push    esi
mov     esi, [ebp+hdc]
push    dword ptr [esi]
call    ds:getdc
test    eax, eax
mov     [ebp+hdc], eax
jz      short loc_2781e1e6
mov     eax, x
push    edi
mov     edi, ds:patblt
push    ebx
test    eax, eax
mov     ebx, 5a0049h
jle     short loc_2781e1c3
mov     ecx, [esi+12ch]
mov     edx, [esi+6ch]
sub     edx, ecx
push    ebx
push    edx
push    w
push    ecx
push    eax
push    [ebp+hdc]
call    edi
mov     eax, [ebp+arg_4]
cmp     dword ptr [eax+8], 0fffffecdh
jnz     short loc_2781e1eb
mov     x, 0ffff8001h
push    [ebp+hdc]
push    dword ptr [esi]
call    ds:releasedc
pop     ebx
pop     edi
pop     esi
leave
retn    8
xor     eax, eax
lea     ecx, [ebp+rcdst]
push    eax
push    ecx
push    eax
push    eax
push    eax
push    esi
call    sub_27802300
lea     eax, [ebp+lparam]
push    eax
mov     eax, [ebp+arg_4]
push    dword ptr [eax+0ch]
push    1207h
push    dword ptr [esi+128h]
call    ds:sendmessagea
test    eax, eax
jnz     short loc_2781e21d
and     [ebp+lparam], eax
mov     eax, [ebp+lparam]
push    ebx
add     [ebp+rcdst.left], eax
mov     eax, [ebp+arg_4]
mov     eax, [eax+14h]
mov     eax, [eax+4]
add     eax, [ebp+rcdst.left]
mov     x, eax
mov     ecx, [esi+12ch]
mov     edx, [esi+6ch]
sub     edx, ecx
push    edx
push    w
push    ecx
push    eax
push    [ebp+hdc]
call    edi
jmp     short loc_2781e1d9
push    ebp
mov     ebp, esp
sub     esp, 48h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
mov     eax, [esi+140h]
sub     edi, eax
cmp     [ebp+arg_4], eax
jz      loc_2781e391
lea     eax, [ebp+lparam]
push    eax
push    dword ptr [esi+13ch]
push    1207h
push    dword ptr [esi+128h]
call    ds:sendmessagea
mov     ebx, eax
lea     eax, [ebp+lparam]
neg     ebx
sbb     ebx, ebx
push    eax
and     ebx, [ebp+lparam]
push    dword ptr [esi+128h]
sub     ebx, [esi+134h]
call    ds:getwindowrect
mov     eax, [ebp+var_4]
mov     [ebp+lparam], ebx
sub     eax, [ebp+var_c]
mov     [ebp+var_c], eax
mov     eax, [esi+68h]
mov     [ebp+var_8], eax
mov     eax, [esi+6ch]
mov     [ebp+var_4], eax
xor     eax, eax
cmp     [esi+17ch], eax
jnz     loc_2781e398
cmp     dword ptr [esi+2ch], 0ffffffffh
jz      loc_2781e398
cmp     dword ptr [esi+38h], 0ffffffffh
jz      loc_2781e398
mov     ecx, [esi]
mov     [ebp+var_3c], edi
mov     [ebp+var_40], ecx
lea     ecx, [ebp+lparam]
lea     edi, [ebp+var_20]
mov     [ebp+dy], 38h
mov     [ebp+var_44], eax
mov     [ebp+var_38], eax
mov     [ebp+var_34], eax
mov     [ebp+var_30], ecx
mov     [ebp+var_2c], eax
mov     [ebp+var_28], eax
mov     [ebp+var_24], 6
stosd
stosd
stosd
stosd
mov     eax, [esi+140h]
mov     edi, [ebp+arg_4]
cmp     eax, edi
jl      short loc_2781e325
mov     eax, edi
add     eax, ebx
mov     [ebp+lparam], eax
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
cmp     edi, [esi+140h]
jge     short loc_2781e356
mov     eax, dword_2782a06c
mov     ecx, [ebp+lparam]
add     ecx, eax
lea     eax, [ebp+lparam]
push    1
push    eax
push    dword ptr [esi]
mov     [ebp+var_8], ecx
call    ds:invalidaterect
push    esi
mov     dword ptr [esi+130h], 7fffffffh
call    sub_277ffcba
push    dword ptr [esi]
call    ds:updatewindow
lea     eax, [ebx+edi]
mov     [ebp+lparam], ebx
cmp     ebx, eax
mov     [ebp+var_8], ebx
jg      short loc_2781e37e
mov     [ebp+var_8], eax
push    101h
lea     eax, [ebp+lparam]
push    0
push    eax
push    dword ptr [esi]
call    ds:redrawwindow
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    esi
mov     dword ptr [esi+130h], 7fffffffh
call    sub_277ffcba
mov     [ebp+lparam], ebx
push    105h
jmp     short loc_2781e383
mov     ecx, [esp+arg_0]
mov     eax, [esp+lparam]
push    dword ptr [ecx+10h]
push    eax
push    dword ptr [eax+8]
push    dword ptr [eax]
push    dword ptr [ecx+4]
call    sub_27811d28
retn    8
push    ebp
mov     ebp, esp
sub     esp, 24h
push    esi
mov     esi, [ebp+arg_4]
push    edi
mov     eax, [esi+8]
cmp     eax, 0fffffffbh
ja      def_2781e3f9
jz      loc_2781e51b
add     eax, 137h
cmp     eax, 0bh
ja      def_2781e3f9
jmp     ds:jpt_2781e3f9[eax*4]
mov     eax, [ebp+arg_0]
test    byte ptr [eax+20h], 10h
jnz     short loc_2781e412
push    1
pop     eax
pop     edi
pop     esi
leave
retn    8
push    esi
push    eax
call    sub_2781e3b2
jmp     short loc_2781e40c
mov     eax, [esi+14h]
cmp     dword ptr [eax+20h], 0ffffffffh
jz      def_2781e3f9
mov     edi, [ebp+arg_0]
push    1
push    0
push    dword ptr [edi]
call    ds:invalidaterect
push    esi
push    edi
jmp     short loc_2781e414
mov     ecx, [esi+14h]
push    1
pop     eax
test    [ecx], al
jz      short def_2781e3f9
mov     edi, [ebp+arg_0]
mov     [ebp+lparam], eax
lea     eax, [ebp+lparam]
push    eax
push    dword ptr [esi+0ch]
push    1203h
push    dword ptr [edi+128h]
call    ds:sendmessagea
mov     eax, [esi+0ch]
mov     [edi+13ch], eax
mov     eax, [ebp+var_20]
mov     [edi+140h], eax
jmp     short loc_2781e437
mov     eax, [esi+14h]
test    byte ptr [eax], 1
jz      short def_2781e3f9
mov     edi, [ebp+arg_0]
push    0
push    edi
call    sub_2781bb07
mov     eax, [esi+0ch]
cmp     eax, [edi+13ch]
jnz     short loc_2781e4b6
mov     eax, [esi+14h]
push    dword ptr [eax+4]
push    edi
call    sub_2781e250
or      dword ptr [edi+13ch], 0ffffffffh
push    esi
push    edi
call    sub_2781e3b2
xor     eax, eax
jmp     loc_2781e40c
push    5
push    0
push    0
push    dword ptr [edi]
call    ds:redrawwindow
jmp     short loc_2781e4a1
mov     edi, [ebp+arg_0]
push    0
push    edi
call    sub_2781bb07
push    0ffffff94h
push    dword ptr [esi+0ch]
push    0ffffffffh
push    edi
call    sub_277f9e6c
push    esi
push    edi
call    sub_2781e3b2
push    dword ptr [edi]
call    ds:setfocus
jmp     short def_2781e3f9
mov     edi, [ebp+arg_0]
push    0
push    edi
call    sub_2781bb07
push    esi
push    edi
call    sub_2781e17a
jmp     short loc_2781e4de
mov     edi, [ebp+arg_0]
push    0
push    edi
call    sub_2781bb07
push    0ffffffffh
push    dword ptr [esi+0ch]
push    edi
call    sub_2781dbc0
jmp     short loc_2781e4de
mov     eax, [ebp+arg_0]
push    dword ptr [eax+10h]
push    0
push    0fffffffbh
push    dword ptr [eax+128h]
push    dword ptr [eax+4]
call    sub_27811d28
jmp     loc_2781e40c
push    ebp
mov     ebp, esp
sub     esp, 38h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
or      [ebp+var_8], 0ffffffffh
push    edi
mov     [ebp+var_4], 1
mov     eax, [esi+138h]
sub     eax, [esi+12ch]
add     eax, [ebp+arg_8]
cdq
idiv    dword ptr [esi+0a4h]
mov     edi, eax
test    edi, edi
jl      short loc_2781e5bc
mov     ecx, [esi+8]
test    ch, 10h
jz      short loc_2781e5ce
mov     eax, [esi+15ch]
cmp     edi, eax
jge     short loc_2781e5bc
test    ch, 4
jz      short loc_2781e5d5
mov     [ebp+var_4], 0eh
mov     [ebp+var_8], edi
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+var_4]
pop     edi
pop     esi
mov     [eax], ecx
mov     eax, [ebp+var_8]
pop     ebx
leave
retn    10h
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_2781e5a9
lea     eax, [ebp+var_38]
push    eax
lea     eax, [ebp+var_28]
push    0
push    eax
lea     eax, [ebp+var_18]
push    eax
push    edi
push    esi
call    sub_27802300
mov     eax, [ebp+var_18]
mov     ebx, [ebp+arg_4]
sub     eax, dword_2782a06c
cmp     ebx, eax
jge     short loc_2781e613
mov     eax, [ebp+var_18]
sub     eax, [esi+14ch]
cmp     ebx, eax
jle     short loc_2781e613
mov     [ebp+var_8], edi
mov     [ebp+var_4], 8
jmp     short loc_2781e5bc
cmp     ebx, [ebp+var_18]
jl      short loc_2781e629
cmp     ebx, [ebp+var_10]
jge     short loc_2781e629
mov     [ebp+var_8], edi
mov     [ebp+var_4], 2
jmp     short loc_2781e5bc
cmp     ebx, [ebp+var_28]
jl      short loc_2781e680
cmp     ebx, [ebp+var_38.right]
jge     short loc_2781e5bc
test    byte ptr [esi+20h], 20h
mov     [ebp+var_8], edi
mov     [ebp+var_4], 4
jz      loc_2781e5bc
xor     eax, eax
test    byte ptr [esi+9], 10h
jnz     short loc_2781e658
mov     eax, [esi+18h]
mov     eax, [eax+4]
mov     eax, [eax+edi*4]
push    0
push    0
push    eax
push    edi
push    esi
call    sub_2781d31b
mov     ecx, [ebp+var_28]
movsx   eax, ax
add     eax, ecx
cmp     ebx, eax
jl      loc_2781e5bc
mov     [ebp+var_4], 0eh
jmp     loc_2781e5bc
cmp     ebx, [ebp+var_38.right]
jge     loc_2781e5bc
test    byte ptr [esi+20h], 20h
jz      loc_2781e5bc
mov     [ebp+var_8], edi
jmp     short loc_2781e674
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
push    esi
xor     esi, esi
dec     eax
push    eax
mov     eax, [ebp+arg_0]
push    dword ptr [eax+124h]
call    sub_27815cea
test    eax, eax
jz      short loc_2781e6c0
push    [ebp+arg_4]
push    eax
call    sub_27815cea
mov     esi, eax
test    esi, esi
jz      short loc_2781e6d6
mov     eax, [ebp+arg_c]
mov     ecx, [esi]
mov     [eax], ecx
mov     ecx, [esi+4]
mov     [eax+4], ecx
pop     esi
pop     ebp
retn    10h
mov     eax, [ebp+arg_c]
or      dword ptr [eax], 0ffffffffh
or      word ptr [eax+4], 0ffffh
and     word ptr [eax+6], 0
jmp     short loc_2781e6d1
push    ebp
mov     ebp, esp
sub     esp, 20h
xor     eax, eax
push    ebx
cmp     [ebp+wparam], eax
push    esi
push    edi
jnz     short loc_2781e712
push    eax
push    eax
push    [ebp+arg_10]
push    [ebp+arg_c]
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_2781e81f
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     ebx, [ebp+arg_0]
mov     eax, [ebp+arg_4]
mov     esi, 7fffffffh
mov     ecx, [ebx+0a4h]
mov     edi, [ebx+134h]
imul    eax, ecx
add     eax, [ebx+12ch]
sub     esi, ecx
neg     edi
sub     eax, [ebx+138h]
cmp     eax, esi
jge     short loc_2781e74b
mov     esi, 80000000h
cmp     eax, esi
jl      short loc_2781e74b
mov     esi, eax
lea     eax, [ebp+lparam]
push    eax
push    [ebp+wparam]
push    1207h
push    dword ptr [ebx+128h]
call    ds:sendmessagea
mov     eax, [ebp+lparam]
mov     ecx, [ebp+var_18]
mov     [ebp+var_c], esi
add     esi, [ebx+0a4h]
add     eax, edi
add     ecx, edi
mov     [ebp+var_4], esi
lea     esi, [ebp+var_10]
lea     edi, [ebp+lparam]
mov     [ebp+var_10], eax
mov     [ebp+var_8], ecx
mov     ecx, [ebx+94h]
movsd
movsd
movsd
movsd
mov     edi, [ebp+arg_c]
add     ecx, eax
test    edi, edi
mov     [ebp+var_18], ecx
jz      short loc_2781e7a2
lea     esi, [ebp+lparam]
movsd
movsd
movsd
movsd
mov     edi, [ebp+arg_10]
test    edi, edi
jz      loc_2781e70b
lea     esi, [ebp+var_10]
movsd
movsd
movsd
movsd
jmp     loc_2781e70b
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
mov     esi, [ebp+arg_0]
cmp     dword ptr [esi+130h], 7fffffffh
jnz     short loc_2781e814
mov     eax, [esi+120h]
and     dword ptr [esi+130h], 0
test    eax, eax
jz      short loc_2781e814
push    edi
mov     edi, ds:sendmessagea
dec     eax
push    0
push    eax
push    120fh
push    dword ptr [esi+128h]
call    edi
lea     ecx, [ebp+lparam]
push    ecx
push    eax
push    1207h
push    dword ptr [esi+128h]
call    edi
mov     eax, [ebp+var_8]
pop     edi
mov     [esi+130h], eax
mov     eax, [esi+130h]
pop     esi
leave
retn    4
push    ebp
mov     ebp, esp
sub     esp, 60h
xor     eax, eax
push    ebx
cmp     [ebp+arg_8], eax
push    esi
push    edi
jnz     short loc_2781e83c
cmp     [ebp+arg_c], eax
jnz     short loc_2781e83c
cmp     [ebp+arg_14], eax
mov     [ebp+var_8], eax
jz      short loc_2781e843
mov     [ebp+var_8], 1
mov     ebx, [ebp+arg_0]
mov     edi, [ebp+arg_4]
mov     eax, edi
mov     edx, 7fffffffh
mov     ecx, [ebx+0a4h]
mov     esi, [ebx+134h]
imul    eax, ecx
add     eax, [ebx+12ch]
sub     edx, ecx
neg     esi
sub     eax, [ebx+138h]
mov     [ebp+var_4], esi
cmp     eax, edx
jl      loc_2781e9a6
mov     [ebp+arg_0], edx
test    byte ptr [ebx+9], 10h
jz      loc_2781e9be
mov     eax, [ebx+15ch]
test    eax, eax
jz      loc_2781e9c8
cmp     [ebp+var_8], 0
jz      loc_2781e9c8
and     [ebp+var_58], 0
lea     eax, [ebp+var_60]
push    eax
push    ebx
mov     [ebp+var_60], 10h
mov     [ebp+var_5c], edi
call    sub_2780011b
mov     eax, [ebp+var_3c]
mov     ecx, [ebx+94h]
mov     [ebp+var_20], esi
imul    eax, ecx
add     eax, [ebx+14ch]
add     eax, esi
add     eax, dword_2782a06c
mov     [ebp+var_18], eax
lea     edi, [eax+ecx]
mov     ecx, [ebp+arg_0]
mov     eax, ecx
mov     [ebp+var_14], ecx
add     eax, [ebx+0a4h]
mov     [ebp+var_24], ecx
xor     ecx, ecx
mov     [ebp+var_10], edi
cmp     [ebx+120h], ecx
mov     [ebp+var_c], eax
mov     [ebp+var_28], edi
mov     [ebp+var_1c], eax
jle     short loc_2781e935
cmp     [ebp+var_8], ecx
jz      short loc_2781e935
lea     eax, [ebp+lparam]
push    eax
push    ecx
push    1207h
push    dword ptr [ebx+128h]
call    ds:sendmessagea
mov     eax, [ebp+var_30]
add     eax, esi
mov     [ebp+var_20], eax
mov     eax, [ebp+lparam]
add     edi, eax
add     [ebp+var_18], eax
mov     eax, [ebp+var_c]
mov     [ebp+var_28], edi
mov     [ebp+var_10], edi
mov     edi, [ebp+arg_8]
test    edi, edi
jz      short loc_2781e946
lea     esi, [ebp+var_18]
movsd
movsd
movsd
movsd
mov     esi, [ebp+var_4]
mov     edi, [ebp+arg_c]
test    edi, edi
jz      short loc_2781e957
lea     esi, [ebp+var_28]
movsd
movsd
movsd
movsd
mov     esi, [ebp+var_4]
mov     ecx, [ebp+arg_14]
test    ecx, ecx
jz      short loc_2781e982
test    byte ptr [ebx+20h], 20h
jz      short loc_2781e9d2
mov     edx, [ebp+arg_0]
push    ebx
mov     [ecx], esi
mov     [ecx+4], edx
mov     [ecx+0ch], eax
call    sub_2781e7b9
mov     ecx, eax
mov     eax, [ebp+arg_14]
add     ecx, [eax]
mov     [eax+8], ecx
mov     eax, [ebp+var_c]
mov     edi, [ebp+arg_10]
test    edi, edi
jz      short loc_2781e99f
mov     ecx, [ebp+arg_0]
push    ebx
mov     [edi], esi
mov     [edi+4], ecx
mov     [edi+0ch], eax
call    sub_2781e7b9
add     eax, [edi]
mov     [edi+8], eax
pop     edi
pop     esi
pop     ebx
leave
retn    18h
mov     ecx, 80000000h
cmp     eax, ecx
mov     [ebp+arg_0], ecx
jl      loc_2781e87d
mov     [ebp+arg_0], eax
jmp     loc_2781e87d
mov     eax, [ebx+18h]
mov     eax, [eax]
jmp     loc_2781e88d
xor     eax, eax
mov     [ebp+var_3c], eax
jmp     loc_2781e8ba
xor     eax, eax
test    byte ptr [ebx+9], 10h
jnz     short loc_2781e9e6
mov     eax, [ebx+18h]
mov     ecx, [ebp+arg_4]
mov     eax, [eax+4]
mov     eax, [eax+ecx*4]
push    0
push    0
push    eax
push    [ebp+arg_4]
push    ebx
call    sub_2781d31b
mov     edi, [ebp+arg_14]
lea     esi, [ebp+var_18]
movsd
mov     ecx, [ebp+var_28]
mov     edx, [ebp+var_20]
movsd
movsx   eax, ax
movsd
add     eax, ecx
mov     ecx, [ebp+arg_14]
movsd
cmp     eax, edx
mov     [ecx+8], eax
jle     short loc_2781ea16
mov     [ecx+8], edx
mov     esi, [ebp+var_4]
jmp     loc_2781e97f
push    ebp
mov     ebp, esp
sub     esp, 10h
push    esi
push    edi
mov     edi, [ebp+lprcdst]
test    edi, edi
jz      short loc_2781eaa2
mov     eax, [edi+4]
mov     esi, [edi]
test    eax, eax
jnz     short loc_2781ea48
push    edi
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_27802294
pop     edi
pop     esi
leave
retn    0ch
mov     ecx, [ebp+arg_0]
mov     edx, [ecx+8]
and     edx, 3
cmp     dl, 1
jnz     short loc_2781eaa2
test    esi, esi
jz      short loc_2781ea64
cmp     esi, 1
jz      short loc_2781ea64
cmp     esi, 2
jnz     short loc_2781eaa2
lea     edx, [ebp+rcsrc2]
mov     [ebp+rcsrc2.top], edx
lea     edx, [ebp+rcsrc2]
test    esi, esi
mov     [ebp+rcsrc2.right], edx
jz      short loc_2781ea9d
mov     [ebp+esi*4+rcsrc2.left], edi
push    [ebp+rcsrc2.right]
push    [ebp+rcsrc2.top]
push    eax
push    [ebp+arg_4]
push    ecx
call    sub_2781e6e8
test    esi, esi
jnz     short loc_2781ea98
lea     eax, [ebp+rcsrc2]
push    eax
push    edi
push    edi
call    ds:unionrect
push    1
pop     eax
jmp     short loc_2781ea42
mov     [ebp+rcsrc2.top], edi
jmp     short loc_2781ea78
xor     eax, eax
jmp     short loc_2781ea42
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [esi+120h]
dec     edi
js      short loc_2781eafa
mov     ebx, [ebp+arg_4]
lea     eax, [ebp+lparam]
push    eax
push    edi
push    1207h
push    dword ptr [esi+128h]
call    ds:sendmessagea
test    eax, eax
jz      short loc_2781eb03
mov     eax, [esi+134h]
push    0
neg     eax
push    eax
lea     eax, [ebp+lparam]
push    eax
call    ds:offsetrect
cmp     [ebp+lparam], ebx
jg      short loc_2781eaf7
cmp     ebx, [ebp+var_8]
jl      short loc_2781eafa
dec     edi
jns     short loc_2781eabe
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    8
or      eax, 0ffffffffh
jmp     short loc_2781eafc
push    ebp
mov     ebp, esp
sub     esp, 28h
and     [ebp+wparam], 0
push    ebx
push    esi
mov     esi, [ebp+arg_4]
or      eax, 0ffffffffh
push    edi
test    esi, esi
mov     ebx, eax
mov     [ebp+var_8], 1
jz      short loc_2781eb59
mov     edi, [ebp+hdc]
mov     eax, [edi+8]
and     eax, 3
cmp     al, 1
jnz     short loc_2781eb45
push    dword ptr [esi]
push    edi
call    sub_2781eaa6
cmp     eax, 0ffffffffh
mov     [ebp+wparam], eax
jz      short loc_2781ebbd
cmp     [ebp+wparam], 0
jnz     short loc_2781eb60
push    esi
push    edi
call    sub_277fe8e2
and     dword ptr [esi+10h], 0
mov     eax, [esi+0ch]
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     ecx, [edi+8]
mov     eax, ecx
and     eax, 3
cmp     al, 1
jnz     short loc_2781ebbd
mov     eax, [esi+4]
sub     eax, [edi+12ch]
add     eax, [edi+138h]
cdq
idiv    dword ptr [edi+0a4h]
test    ch, 10h
mov     ebx, eax
jz      short loc_2781ebd0
mov     eax, [edi+15ch]
cmp     ebx, eax
jge     short loc_2781ebf3
cmp     ebx, 0ffffffffh
jz      short loc_2781ebbd
lea     eax, [ebp+var_28]
push    eax
lea     eax, [ebp+var_18]
push    eax
push    [ebp+wparam]
push    ebx
push    edi
call    sub_2781e6e8
mov     eax, [esi]
cmp     eax, [ebp+var_18]
jl      short loc_2781ebd7
cmp     eax, [ebp+var_10]
jg      short loc_2781ebd7
mov     [ebp+var_8], 2
mov     eax, [ebp+wparam]
mov     [esi+0ch], ebx
mov     [esi+10h], eax
mov     eax, [ebp+var_8]
mov     [esi+8], eax
mov     eax, ebx
jmp     short loc_2781eb59
mov     eax, [edi+18h]
mov     eax, [eax]
jmp     short loc_2781eb8f
cmp     eax, [ebp+var_28]
jl      short loc_2781ebea
cmp     eax, [ebp+var_20]
jg      short loc_2781ebea
mov     [ebp+var_8], 4
jmp     short loc_2781ebbd
mov     [ebp+var_8], 0eh
jmp     short loc_2781ebbd
or      ebx, 0ffffffffh
jmp     short loc_2781ebbd
push    ebp
mov     ebp, esp
push    ecx
push    ecx
mov     eax, [ebp+arg_8]
push    ebx
push    esi
push    edi
mov     esi, [eax+8]
push    [ebp+lpstring]
sub     esi, [eax]
call    ds:lstrlena
mov     edi, eax
xor     ebx, ebx
cmp     edi, ebx
jnz     short loc_2781ec27
mov     eax, [ebp+arg_c]
mov     [eax], ebx
xor     eax, eax
pop     edi
pop     esi
pop     ebx
leave
retn    14h
lea     eax, [ebp+sz]
push    eax
push    edi
push    [ebp+lpstring]
push    [ebp+hdc]
call    ds:gettextextentpointa
cmp     [ebp+sz._cx], esi
jg      short loc_2781ec44
mov     eax, [ebp+arg_c]
mov     [eax], edi
jmp     short loc_2781ec1e
sub     esi, [ebp+arg_10]
mov     [ebp+arg_8], 1
cmp     esi, ebx
jle     short loc_2781ec99
cmp     edi, ebx
mov     [ebp+arg_8], edi
jle     short loc_2781ec8e
mov     eax, [ebp+arg_8]
lea     eax, [eax+ebx+1]
cdq
sub     eax, edx
mov     edi, eax
lea     eax, [ebp+sz]
sar     edi, 1
push    eax
mov     eax, edi
sub     eax, ebx
push    eax
mov     eax, [ebp+lpstring]
add     eax, ebx
push    eax
push    [ebp+hdc]
call    ds:gettextextentpointa
cmp     [ebp+sz._cx], esi
jge     short loc_2781ecd1
sub     esi, [ebp+sz._cx]
mov     ebx, edi
cmp     ebx, [ebp+arg_8]
jl      short loc_2781ec59
push    1
pop     eax
cmp     [ebp+arg_8], eax
jge     short loc_2781ec99
mov     [ebp+arg_8], eax
mov     edi, [ebp+lpstring]
mov     eax, [ebp+arg_8]
lea     esi, [eax+edi]
mov     eax, esi
dec     esi
cmp     eax, edi
jbe     short loc_2781ecb6
mov     al, [esi]
push    eax
call    ds:isdbcsleadbyte
test    eax, eax
jnz     short loc_2781eca2
mov     ecx, [ebp+arg_8]
mov     edx, [ebp+arg_c]
sub     ecx, esi
push    1
add     ecx, edi
pop     eax
not     ecx
and     ecx, eax
add     ecx, [ebp+arg_8]
mov     [edx], ecx
jmp     loc_2781ec20
jle     short loc_2781ecd9
dec     edi
mov     [ebp+arg_8], edi
jmp     short loc_2781ec89
mov     [ebp+arg_8], edi
jmp     short loc_2781ec8e
push    ebp
mov     ebp, esp
sub     esp, 70h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
xor     edi, edi
lea     eax, [ebp+var_28]
push    edi
push    edi
push    eax
push    esi
mov     [ebp+var_c], edi
mov     [ebp+var_10], edi
mov     [ebp+var_4], edi
call    sub_2781a868
cmp     [esi+128h], edi
jnz     short loc_2781ed0f
push    esi
call    sub_2781d86f
lea     eax, [ebp+var_70]
mov     [ebp+var_14], eax
mov     eax, [esi+134h]
sub     [ebp+var_28], eax
lea     eax, [ebp+var_28]
mov     [ebp+lparam], eax
lea     eax, [ebp+lparam]
push    eax
push    edi
push    1205h
push    dword ptr [esi+128h]
call    ds:sendmessagea
mov     eax, [esi+134h]
add     [ebp+var_28], eax
mov     eax, [ebp+var_58]
or      al, 40h
push    eax
push    [ebp+cy]
push    [ebp+var_60]
push    [ebp+y]
push    [ebp+x]
push    [ebp+hwndinsertafter]
push    dword ptr [esi+128h]
call    ds:setwindowpos
lea     eax, [ebp+var_38]
push    edi
push    eax
push    edi
push    edi
push    edi
push    esi
call    sub_2781e81f
mov     eax, [ebp+var_24]
xor     ecx, ecx
mov     [esi+12ch], eax
mov     eax, [ebp+var_30]
sub     eax, [ebp+var_38]
cmp     eax, [ebp+var_20]
setnle  cl
cmp     ecx, edi
mov     [ebp+var_8], ecx
jz      loc_2781ef33
push    esi
call    sub_27801056
mov     ecx, eax
mov     eax, [ebp+var_1c]
mov     ebx, 1000h
sub     eax, [ebp+var_24]
sub     eax, ecx
cdq
idiv    dword ptr [esi+0a4h]
test    [esi+8], ebx
mov     [ebp+hmem], eax
jz      loc_2781ef3a
mov     eax, [esi+15ch]
dec     eax
cmp     [ebp+hmem], eax
jg      short loc_2781edff
push    esi
call    sub_2780102b
sub     [ebp+var_20], eax
cmp     [ebp+var_8], edi
jnz     short loc_2781edff
mov     eax, [ebp+var_30]
sub     eax, [ebp+var_38]
cmp     eax, [ebp+var_20]
jle     loc_2781ef44
push    esi
call    sub_27801056
mov     ecx, eax
mov     eax, [ebp+var_1c]
sub     eax, [ebp+var_24]
sub     eax, ecx
cdq
idiv    dword ptr [esi+0a4h]
mov     [ebp+hmem], eax
mov     eax, [esi+138h]
mov     [ebp+var_54.cbsize], 1ch
cdq
idiv    dword ptr [esi+0a4h]
test    [esi+8], ebx
mov     [ebp+var_54.fmask], 7
mov     [ebp+var_54.nmin], edi
mov     [ebp+var_54.npos], eax
mov     eax, [ebp+hmem]
mov     [ebp+var_54.npage], eax
jz      loc_2781ef4b
mov     eax, [esi+15ch]
dec     eax
push    1
test    byte ptr [esi+21h], 1
mov     [ebp+var_54.nmax], eax
lea     eax, [ebp+var_54]
push    eax
push    1
push    dword ptr [esi]
jz      loc_2781ef55
call    sub_277e50ac
mov     ecx, [ebp+var_54.npos]
mov     edx, [ebp+var_54.npage]
mov     eax, [ebp+var_54.nmax]
lea     ebx, [ecx+edx-1]
cmp     ebx, eax
jle     loc_2781ef60
cmp     ecx, edi
jle     loc_2781ef60
sub     eax, edx
inc     eax
jns     short loc_2781ee76
xor     eax, eax
cmp     eax, ecx
jz      loc_2781ef60
push    1
sub     eax, ecx
pop     ebx
mov     [ebp+var_c], eax
mov     [ebp+var_4], ebx
mov     eax, [esi+134h]
push    ebx
mov     [ebp+var_54.npos], eax
mov     eax, [ebp+var_20]
sub     eax, [ebp+var_28]
mov     [ebp+var_54.npage], eax
mov     eax, [ebp+var_30]
sub     eax, [ebp+var_38]
dec     eax
test    byte ptr [esi+21h], 1
mov     [ebp+var_54.nmax], eax
lea     eax, [ebp+var_54]
push    eax
push    edi
push    dword ptr [esi]
jz      loc_2781ef68
call    sub_277e50ac
mov     eax, [ebp+var_54.nmax]
cmp     [ebp+var_54.npage], eax
jbe     short loc_2781eeee
cmp     [esi+17ch], edi
jz      short loc_2781eed4
test    [esi+180h], bl
jnz     short loc_2781eedc
cmp     [esi+188h], edi
jz      short loc_2781eeee
push    27h
push    edi
push    edi
push    edi
push    edi
push    edi
push    dword ptr [esi]
call    ds:setwindowpos
mov     eax, [ebp+var_54.nmax]
mov     ecx, [ebp+var_54.npos]
mov     edx, [ebp+var_54.npage]
lea     edx, [ecx+edx-1]
cmp     edx, eax
jle     short loc_2781ef14
cmp     ecx, edi
jle     short loc_2781ef14
sub     eax, [ebp+var_54.npage]
inc     eax
jns     short loc_2781ef08
xor     eax, eax
cmp     eax, ecx
jz      short loc_2781ef14
sub     eax, ecx
mov     [ebp+var_4], ebx
mov     [ebp+var_10], eax
cmp     [ebp+var_4], edi
jz      short loc_2781ef2c
push    edi
push    [ebp+var_c]
push    [ebp+var_10]
push    esi
call    sub_2781ef73
push    esi
call    sub_2781ecde
pop     edi
pop     esi
pop     ebx
leave
retn    4
xor     ecx, ecx
jmp     loc_2781ed9c
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_2781edc2
xor     ecx, ecx
jmp     loc_2781eded
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_2781ee35
call    ds:setscrollinfo
jmp     loc_2781ee52
push    1
pop     ebx
jmp     loc_2781ee89
call    ds:setscrollinfo
jmp     loc_2781eebc
push    ebp
mov     ebp, esp
sub     esp, 58h
mov     eax, [ebp+arg_8]
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
or      eax, ebx
push    edi
jz      loc_2781f05f
mov     esi, [ebp+arg_0]
lea     eax, [ebp+rect]
push    eax
push    dword ptr [esi]
call    ds:getclientrect
mov     eax, [esi+12ch]
mov     ecx, [ebp+rect.bottom]
mov     [ebp+rect.top], eax
mov     eax, [esi+0a4h]
imul    eax, [ebp+arg_8]
add     [esi+134h], ebx
add     [esi+138h], eax
cmp     eax, ecx
jg      loc_2781f066
neg     ecx
cmp     eax, ecx
jl      loc_2781f066
mov     edx, [esi]
xor     ecx, ecx
neg     eax
mov     [ebp+var_48], eax
lea     eax, [ebp+rect]
mov     [ebp+var_40], eax
mov     eax, [ebp+arg_c]
mov     [ebp+var_50], edx
mov     edx, ebx
or      al, 6
lea     edi, [ebp+var_30]
neg     edx
mov     [ebp+var_34], eax
xor     eax, eax
mov     [ebp+dy], 38h
mov     [ebp+var_54], ecx
mov     [ebp+var_4c], edx
mov     [ebp+var_44], ecx
mov     [ebp+var_3c], ecx
mov     [ebp+var_38], ecx
stosd
stosd
stosd
stosd
lea     eax, [ebp+dy]
push    eax
call    sub_2781131f
test    ebx, ebx
jz      short loc_2781f05f
lea     eax, [ebp+var_10]
push    eax
push    dword ptr [esi+128h]
call    ds:getwindowrect
lea     eax, [ebp+var_10]
push    2
push    eax
push    dword ptr [esi]
push    0
call    ds:mapwindowpoints
mov     eax, [ebp+var_10.bottom]
mov     ecx, [ebp+var_10.right]
sub     eax, [ebp+var_10.top]
push    14h
push    eax
mov     eax, [ebp+var_10.left]
sub     ecx, eax
sub     eax, ebx
add     ecx, ebx
push    ecx
push    [ebp+var_10.top]
push    eax
push    0
push    dword ptr [esi+128h]
call    ds:setwindowpos
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    1
push    0
push    dword ptr [esi]
call    ds:invalidaterect
jmp     short loc_2781f013
mov     eax, [esp+arg_4]
push    esi
mov     esi, [esp+4+arg_0]
push    edi
mov     edi, [esi+0a4h]
mov     edx, [esi+12ch]
imul    eax, edi
sub     eax, [esi+138h]
add     eax, edx
cmp     eax, edx
jl      short loc_2781f0a1
lea     ecx, [eax+edi]
cmp     ecx, [esi+6ch]
jle     short loc_2781f0e8
mov     ecx, eax
sub     ecx, edx
js      short loc_2781f0b2
sub     eax, [esi+6ch]
add     eax, edi
mov     ecx, eax
jns     short loc_2781f0b2
xor     ecx, ecx
test    ecx, ecx
jz      short loc_2781f0e8
xor     eax, eax
lea     edx, [edi-1]
test    ecx, ecx
setle   al
dec     eax
push    0
and     eax, 2
dec     eax
imul    eax, edx
add     eax, ecx
cdq
idiv    edi
push    eax
push    0
push    esi
call    sub_2781ef73
mov     eax, [esi+1ch]
push    esi
and     eax, 12h
cmp     al, 12h
jnz     short loc_2781f0f0
call    sub_277ffcba
push    1
pop     eax
pop     edi
pop     esi
retn    0ch
call    sub_277fcdb4
or      dword ptr [esi+1ch], 4
mov     dword ptr [esi+80h], 1
jmp     short loc_2781f0e8
push    ebp
mov     ebp, esp
mov     ecx, [ebp+hdc]
push    1
pop     eax
cmp     [ebp+nbar], eax
jz      short loc_2781f116
mov     eax, [ecx+48h]
push    0ffffffffh
push    eax
push    [ebp+nbar]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    ecx
call    sub_2781b425
pop     ebp
retn    10h
push    1
pop     eax
cmp     [esp+arg_4], eax
jz      short locret_2781f13c
mov     eax, [esp+arg_0]
mov     eax, [eax+48h]
retn    8
push    ebp
mov     ebp, esp
sub     esp, 80h
push    ebx
push    esi
mov     esi, [ebp+hmem]
push    edi
mov     edi, [esi+0c4h]
mov     ebx, [esi+0c8h]
add     edi, [ebp+pt.x]
add     ebx, [ebp+pt.y]
cmp     dword ptr [esi+0cch], 7fffffffh
mov     [ebp+var_8.x], edi
mov     [ebp+var_8.y], ebx
jnz     short loc_2781f178
push    esi
call    sub_27819dbc
and     [ebp+hmem], 0
test    byte ptr [esi+9], 10h
jz      loc_2781f209
push    1
push    esi
call    sub_27819d38
push    eax
push    ebx
push    edi
push    esi
call    sub_2781a1c4
mov     ebx, eax
lea     eax, [ebp+var_80]
push    0
push    eax
lea     eax, [ebp+var_20]
push    eax
lea     eax, [ebp+rc]
push    eax
push    ebx
push    esi
call    sub_2781f350
push    [ebp+pt.y]
mov     edi, ds:ptinrect
lea     eax, [ebp+rc]
push    [ebp+pt.x]
push    eax
call    edi
test    eax, eax
jz      short loc_2781f1f0
mov     [ebp+hmem], 2
cmp     [ebp+hmem], 0
jnz     loc_2781f324
mov     [ebp+hmem], 1
or      ebx, 0ffffffffh
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+hmem]
pop     edi
pop     esi
mov     [eax], ecx
mov     eax, ebx
pop     ebx
leave
retn    10h
push    [ebp+pt.y]
lea     eax, [ebp+var_20]
push    [ebp+pt.x]
push    eax
call    edi
test    eax, eax
jz      short loc_2781f1cb
mov     [ebp+hmem], 4
jmp     short loc_2781f1cb
xor     ebx, ebx
test    byte ptr [esi+9], 10h
mov     [ebp+pt.y], ebx
jz      loc_2781f2e4
mov     eax, [esi+15ch]
cmp     ebx, eax
jge     short loc_2781f1cb
mov     eax, [esi+0c0h]
mov     ecx, [esi+18h]
mov     eax, [eax+4]
mov     ecx, [ecx+4]
mov     eax, [eax+ebx*4]
mov     edx, [ecx+eax*4]
mov     eax, [edx+4]
mov     ecx, [edx+8]
mov     [ebp+var_10], eax
mov     eax, [esi+0a4h]
add     eax, ecx
cmp     [ebp+var_8.y], ecx
mov     [ebp+rc.top], ecx
mov     [ebp+rc.bottom], eax
mov     [ebp+var_20.top], ecx
mov     [ebp+var_20.bottom], eax
jl      loc_2781f2de
cmp     [ebp+var_8.y], eax
jge     short loc_2781f2de
test    byte ptr [esi+20h], 4
jz      loc_2781f2ee
mov     ecx, [esi+14ch]
mov     ebx, [ebp+var_10]
mov     [ebp+var_40.bottom], eax
sub     eax, [esi+150h]
lea     edi, [ebx+ecx]
mov     ecx, [esi+94h]
add     ecx, ebx
mov     ebx, edi
sub     ebx, [esi+14ch]
cmp     ecx, edi
mov     [ebp+rc.left], edi
mov     [ebp+rc.right], ecx
mov     [ebp+var_40.right], edi
mov     [ebp+var_40.left], ebx
mov     [ebp+var_40.top], eax
mov     [ebp+var_20.left], ecx
jg      short loc_2781f2aa
mov     [ebp+var_20.left], edi
movsx   eax, word ptr [edx+0eh]
add     eax, [ebp+var_20.left]
push    [ebp+var_8.y]
mov     edi, ds:ptinrect
push    [ebp+var_8.x]
mov     [ebp+var_20.right], eax
lea     eax, [ebp+rc]
push    eax
call    edi
test    eax, eax
jz      short loc_2781f2f2
mov     [ebp+hmem], 2
cmp     [ebp+hmem], 0
mov     ebx, [ebp+pt.y]
jnz     loc_2781f1cb
inc     ebx
jmp     loc_2781f20b
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     loc_2781f21e
xor     ecx, ecx
jmp     short loc_2781f272
push    [ebp+var_8.y]
lea     eax, [ebp+var_20]
push    [ebp+var_8.x]
push    eax
call    edi
test    eax, eax
jz      short loc_2781f30b
mov     [ebp+hmem], 4
jmp     short loc_2781f2d1
push    [ebp+var_8.y]
lea     eax, [ebp+var_40]
push    [ebp+var_8.x]
push    eax
call    edi
test    eax, eax
jz      short loc_2781f2d1
mov     [ebp+hmem], 8
jmp     short loc_2781f2d1
test    byte ptr [esi+9], 10h
jnz     loc_2781f1df
mov     ecx, [esi+0c0h]
mov     eax, [esi+18h]
mov     ecx, [ecx+4]
mov     edx, [eax+4]
mov     ecx, [ecx+ebx*4]
push    dword ptr [edx+ecx*4]
push    eax
call    sub_27815d0b
mov     ebx, eax
jmp     loc_2781f1df
push    ebp
mov     ebp, esp
sub     esp, 20h
push    ebx
mov     ebx, [ebp+hmem]
push    esi
push    edi
push    1
push    ebx
call    sub_27819d38
mov     esi, [ebp+arg_10]
push    eax
push    [ebp+arg_4]
push    esi
push    ebx
call    sub_2781a75a
push    [ebp+cchtext]
push    0
push    [ebp+arg_4]
push    esi
push    ebx
call    sub_2781a569
push    eax
push    0
call    ds:releasedc
mov     eax, [esi+4]
sub     eax, [ebx+0c4h]
test    byte ptr [ebx+20h], 4
jz      short loc_2781f409
mov     ecx, [ebx+14ch]
mov     edx, [esi+8]
add     eax, ecx
sub     edx, [ebx+0c8h]
mov     [ebp+var_10], eax
add     eax, [ebx+94h]
mov     edi, [ebp+arg_8]
lea     esi, [ebp+var_10]
mov     [ebp+var_c], edx
mov     ecx, eax
mov     eax, [ebx+0a4h]
add     eax, edx
mov     [ebp+var_8], ecx
mov     [ebp+var_4], eax
mov     [ebp+var_20], ecx
movsd
movsd
movsd
movsd
mov     esi, [ebp+arg_10]
mov     ecx, [ebx+0a0h]
sub     ecx, [ebx+94h]
movsx   esi, word ptr [esi+0eh]
cmp     esi, ecx
jge     short loc_2781f40d
mov     ecx, [ebp+var_8]
add     ecx, esi
mov     [ebp+var_18], ecx
mov     edi, [ebp+arg_c]
lea     esi, [ebp+var_20]
mov     [ebp+var_1c], edx
mov     [ebp+var_14], eax
movsd
movsd
movsd
movsd
pop     edi
pop     esi
pop     ebx
leave
retn    18h
xor     ecx, ecx
jmp     short loc_2781f39f
mov     esi, [ebp+var_8]
add     esi, ecx
mov     [ebp+var_18], esi
jmp     short loc_2781f3f2
push    esi
mov     esi, [esp+4+hmem]
push    edi
mov     edi, [esp+8+arg_4]
cmp     dword ptr [edi+4], 7fffffffh
jnz     short loc_2781f430
push    esi
call    sub_27819dbc
mov     ecx, [edi+4]
mov     eax, [esp+8+arg_8]
sub     ecx, [esi+0c4h]
mov     [eax], ecx
test    byte ptr [esi+20h], 4
jz      short loc_2781f494
mov     edx, [esi+14ch]
add     ecx, edx
mov     [eax], ecx
mov     edx, [esi+94h]
add     edx, ecx
mov     [eax+8], edx
mov     ecx, [edi+8]
sub     ecx, [esi+0c8h]
mov     [eax+4], ecx
mov     edx, [esi+0a4h]
add     edx, ecx
mov     ecx, [esp+8+arg_c]
mov     [eax+0ch], edx
mov     edx, [eax+8]
mov     [ecx], edx
movsx   esi, word ptr [edi+0eh]
add     esi, edx
pop     edi
mov     [ecx+8], esi
mov     edx, [eax+4]
mov     [ecx+4], edx
mov     eax, [eax+0ch]
mov     [ecx+0ch], eax
pop     esi
retn    14h
xor     edx, edx
jmp     short loc_2781f44b
push    ebp
mov     ebp, esp
push    ecx
push    ecx
and     [ebp+var_4], 0
and     [ebp+var_8], 0
push    ebx
mov     ebx, [ebp+arg_c]
push    esi
push    edi
mov     edi, [ebp+arg_0]
mov     eax, [ebp+arg_10]
cmp     ebx, eax
jge     short loc_2781f4f9
add     eax, ebx
cdq
sub     eax, edx
mov     esi, eax
mov     eax, [edi+18h]
sar     esi, 1
mov     eax, [eax+4]
mov     eax, [eax+esi*4]
cmp     eax, [ebp+var_4]
jz      short loc_2781f4f9
push    0
mov     [ebp+var_4], eax
push    dword ptr [ebp+arg_8]
push    [ebp+lpstring2]
push    esi
push    edi
call    sub_278020f7
test    byte ptr [edi+8], 20h
jz      short loc_2781f4e6
neg     eax
cmp     eax, 0ffffffffh
jz      short loc_2781f51b
test    eax, eax
jz      short loc_2781f50f
cmp     eax, 1
jz      short loc_2781f516
cmp     ebx, [ebp+arg_c]
jge     short loc_2781f4ae
test    [ebp+arg_8], 0ch
jnz     short loc_2781f520
cmp     [ebp+var_8], 0
jnz     short loc_2781f520
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    14h
mov     [ebp+var_8], 1
mov     [ebp+arg_10], esi
jmp     short loc_2781f4f4
lea     ebx, [esi+1]
jmp     short loc_2781f4f4
test    ebx, ebx
jge     short loc_2781f526
xor     ebx, ebx
test    [ebp+arg_8], 40h
jnz     short loc_2781f542
push    1
push    dword ptr [ebp+arg_8]
push    [ebp+lpstring2]
push    ebx
push    edi
call    sub_278020f7
test    eax, eax
jz      short loc_2781f542
or      ebx, 0ffffffffh
mov     eax, ebx
jmp     short loc_2781f508
push    ebp
mov     ebp, esp
cmp     [ebp+lpstring2], 0
jnz     short loc_2781f555
xor     eax, eax
pop     ebp
retn    10h
push    esi
mov     esi, [ebp+arg_0]
test    byte ptr [esi+9], 10h
jz      short loc_2781f594
mov     eax, [esi+15ch]
push    eax
push    [ebp+arg_c]
push    dword ptr [ebp+arg_8]
push    [ebp+lpstring2]
push    esi
call    sub_2781f498
cmp     eax, 0ffffffffh
jnz     short loc_2781f591
test    [ebp+arg_8], 20h
jz      short loc_2781f591
push    [ebp+arg_c]
push    0
push    dword ptr [ebp+arg_8]
push    [ebp+lpstring2]
push    esi
call    sub_2781f498
pop     esi
jmp     short loc_2781f551
mov     eax, [esi+18h]
mov     eax, [eax]
jmp     short loc_2781f565
push    ebx
push    esi
mov     esi, [esp+8+arg_0]
push    edi
push    64h
xor     ebx, ebx
mov     eax, [esi+4]
pop     ecx
imul    eax, 96h
cdq
idiv    ecx
push    42h
mov     edi, eax
shl     eax, 3
push    eax
push    dword ptr [esi]
call    ds:globalrealloc
test    eax, eax
jz      short loc_2781f5cf
push    1
mov     [esi], eax
mov     [esi+4], edi
pop     ebx
pop     edi
mov     eax, ebx
pop     esi
pop     ebx
retn    4
push    ebx
push    ebp
push    esi
mov     esi, [esp+0ch+arg_0]
mov     ebx, 96h
push    edi
mov     ecx, [esi+4]
mov     edi, ebx
mov     eax, ecx
push    1
imul    eax, 64h
cdq
idiv    edi
pop     ebp
mov     edi, eax
mov     eax, ecx
imul    eax, 5ah
cdq
idiv    ebx
cmp     [esi+8], eax
jge     short loc_2781f621
cmp     edi, 6
jl      short loc_2781f621
mov     eax, edi
push    0
shl     eax, 3
push    eax
push    dword ptr [esi]
call    ds:globalrealloc
test    eax, eax
jz      short loc_2781f62a
mov     [esi], eax
mov     [esi+4], edi
pop     edi
mov     eax, ebp
pop     esi
pop     ebp
pop     ebx
retn    4
xor     ebp, ebp
jmp     short loc_2781f621
push    ebp
mov     ebp, esp
push    ecx
mov     ecx, [ebp+arg_0]
mov     eax, [ebp+arg_4]
push    ebx
push    esi
mov     esi, [ecx+8]
push    edi
mov     [ebp+var_4], 1
lea     edi, [eax+1]
cmp     esi, edi
jle     short loc_2781f662
mov     eax, [ecx]
mov     ebx, [eax+esi*8-8]
lea     edx, [eax+esi*8]
mov     eax, edx
dec     esi
mov     [eax], ebx
mov     edx, [edx-4]
mov     [eax+4], edx
jmp     short loc_2781f648
mov     eax, [ecx]
mov     edx, [ebp+arg_8]
inc     dword ptr [ecx+8]
mov     esi, [ebp+arg_4]
mov     [eax+edi*8], edx
mov     eax, [ecx]
mov     edx, [ebp+arg_c]
mov     [eax+esi*8+0ch], edx
mov     eax, [ecx+8]
cmp     eax, [ecx+4]
jnz     short loc_2781f68a
push    ecx
call    sub_2781f59b
mov     [ebp+var_4], eax
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_8]
push    ebx
push    esi
mov     esi, [ebp+arg_4]
mov     edx, [ebp+arg_0]
sub     eax, esi
push    edi
xor     edi, edi
cmp     esi, [ebp+arg_8]
lea     ebx, [eax+1]
mov     [ebp+var_4], ebx
jg      short loc_2781f6cc
mov     eax, [edx]
mov     [ebp+arg_4], ebx
lea     eax, [eax+esi*8]
mov     ecx, [eax+4]
sub     ecx, [eax]
add     eax, 8
dec     [ebp+arg_4]
lea     edi, [edi+ecx+1]
jnz     short loc_2781f6bb
mov     eax, [ebp+arg_8]
lea     ecx, [eax+1]
cmp     ecx, [edx+8]
jge     short loc_2781f6f6
shl     esi, 3
mov     eax, [edx]
mov     ebx, [eax+ecx*8]
inc     ecx
mov     [esi+eax], ebx
mov     ebx, [eax+ecx*8-4]
mov     [esi+eax+4], ebx
add     esi, 8
cmp     ecx, [edx+8]
jl      short loc_2781f6da
mov     ebx, [ebp+var_4]
sub     [edx+8], ebx
push    edx
call    sub_2781f5d7
test    eax, eax
jnz     short loc_2781f708
mov     edi, 7fffffffh
mov     eax, edi
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
push    ebp
mov     ebp, esp
push    ecx
push    ebx
push    esi
push    edi
mov     edi, [ebp+arg_0]
xor     ebx, ebx
mov     esi, [edi+8]
mov     edi, [edi]
dec     esi
mov     [ebp+var_4], ebx
mov     eax, esi
cdq
sub     eax, edx
mov     ecx, eax
sar     ecx, 1
mov     eax, [ebp+arg_4]
cmp     [edi+ecx*8], eax
jle     short loc_2781f752
mov     eax, ecx
mov     esi, ecx
sub     eax, ebx
cdq
sub     eax, edx
sar     eax, 1
add     eax, ebx
mov     ecx, eax
cmp     ecx, esi
jz      short loc_2781f781
cmp     [ebp+var_4], 0
jz      short loc_2781f72f
jmp     short loc_2781f769
cmp     [edi+ecx*8+4], eax
jge     short loc_2781f778
mov     eax, esi
mov     ebx, ecx
sub     eax, ecx
cdq
sub     eax, edx
sar     eax, 1
add     ecx, eax
cmp     ecx, ebx
jnz     short loc_2781f74a
mov     eax, [ebp+arg_8]
pop     edi
pop     esi
pop     ebx
mov     [eax], ecx
mov     eax, [ebp+var_4]
leave
retn    0ch
mov     [ebp+var_4], 1
jmp     short loc_2781f74a
mov     ecx, ebx
jmp     short loc_2781f769
mov     eax, [esp+arg_0]
mov     ecx, [eax]
mov     dword ptr [eax+4], 6
mov     dword ptr [eax+8], 2
mov     dword ptr [ecx], 80000000h
mov     ecx, [eax]
mov     dword ptr [ecx+4], 0fffffffeh
mov     edx, [eax]
mov     ecx, 7fffffffh
mov     [edx+8], ecx
mov     eax, [eax]
mov     [eax+0ch], ecx
retn    4
push    esi
push    edi
mov     edi, ds:globalalloc
push    0ch
push    40h
call    edi
mov     esi, eax
test    esi, esi
jz      short loc_2781f7e0
push    30h
push    40h
call    edi
test    eax, eax
mov     [esi], eax
push    esi
jz      short loc_2781f7e5
call    sub_2781f785
mov     eax, esi
pop     edi
pop     esi
retn
call    ds:globalfree
xor     esi, esi
jmp     short loc_2781f7e0
push    esi
mov     esi, ds:globalfree
push    edi
mov     edi, [esp+8+hmem]
push    dword ptr [edi]
call    esi
push    edi
call    esi
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 10h
and     [ebp+var_4], 0
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
lea     eax, [ebp+var_c]
push    eax
push    edi
push    esi
call    sub_2781f711
mov     ebx, [ebp+arg_8]
mov     [ebp+var_10], eax
lea     eax, [ebp+arg_0]
push    eax
push    ebx
push    esi
call    sub_2781f711
mov     edx, [esi]
mov     ecx, [ebp+var_c]
dec     edi
cmp     [edx+ecx*8+4], edi
jz      short loc_2781f884
cmp     [ebp+var_10], 0
jnz     short loc_2781f884
and     [ebp+var_10], 0
lea     edi, [ecx+2]
test    eax, eax
mov     eax, [ebp+arg_0]
mov     [ebp+var_8], edi
jz      short loc_2781f890
mov     edi, [edx+eax*8+4]
mov     [ebp+arg_8], eax
mov     eax, [ebp+arg_8]
cmp     [ebp+var_8], eax
jg      short loc_2781f8b7
push    eax
push    [ebp+var_8]
push    esi
call    sub_2781f694
mov     ecx, 7fffffffh
cmp     eax, ecx
jnz     short loc_2781f8af
mov     eax, ecx
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     [ebp+var_10], 1
lea     edi, [ecx+1]
jmp     short loc_2781f84f
inc     eax
lea     edi, [ebx+1]
cmp     [edx+eax*8], edi
jnz     short loc_2781f8a5
mov     edi, [ebp+arg_0]
mov     [ebp+arg_8], eax
mov     edi, [edx+edi*8+0ch]
jmp     short loc_2781f860
mov     eax, [ebp+arg_0]
mov     edi, ebx
mov     [ebp+arg_8], eax
jmp     short loc_2781f860
mov     ecx, [ebp+var_c]
neg     eax
mov     [ebp+var_4], eax
cmp     [ebp+var_10], 0
jz      short loc_2781f8d1
mov     eax, [esi]
lea     eax, [eax+ecx*8+4]
mov     ecx, edi
sub     ecx, [eax]
mov     [eax], edi
add     [ebp+var_4], ecx
mov     eax, [ebp+var_4]
jmp     short loc_2781f87d
mov     eax, [ebp+arg_8]
inc     eax
cmp     [ebp+var_8], eax
jle     short loc_2781f8ff
sub     ebx, [ebp+arg_4]
mov     eax, [ebp+var_4]
push    edi
push    [ebp+arg_4]
lea     eax, [eax+ebx+1]
push    ecx
push    esi
mov     [ebp+var_4], eax
call    sub_2781f62e
test    eax, eax
jnz     short loc_2781f8cc
mov     [ebp+var_4], 7fffffffh
jmp     short loc_2781f8cc
mov     eax, [esi]
lea     edx, [eax+ecx*8+0ch]
mov     ecx, [eax+ecx*8+8]
mov     eax, [ebp+arg_4]
add     ecx, edi
sub     ecx, eax
sub     ecx, [edx]
mov     [edx], edi
mov     edx, [ebp+var_c]
add     [ebp+var_4], ecx
mov     ecx, [esi]
mov     [ecx+edx*8+8], eax
jmp     short loc_2781f8cc
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
push    esi
lea     eax, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_0]
push    eax
push    [ebp+arg_4]
xor     esi, esi
push    edi
call    sub_2781f711
mov     ebx, [ebp+arg_8]
mov     [ebp+var_10], eax
lea     eax, [ebp+var_8]
push    eax
push    ebx
push    edi
call    sub_2781f711
mov     ecx, [ebp+arg_0]
mov     edx, [edi]
cmp     [ebp+var_10], esi
mov     [ebp+var_14], eax
lea     eax, [ecx+1]
mov     [ebp+var_4], eax
mov     eax, [edx+ecx*8+4]
mov     [ebp+var_18], eax
mov     [ebp+var_c], eax
jz      short loc_2781f979
mov     eax, [ebp+arg_4]
cmp     [edx+ecx*8], eax
jnz     short loc_2781f9b0
mov     [ebp+var_4], ecx
mov     ebx, [ebp+arg_8]
mov     eax, [ebp+var_8]
cmp     [ebp+var_14], 0
mov     [ebp+arg_8], eax
jz      short loc_2781f9c1
cmp     [edx+eax*8+4], ebx
lea     edx, [edx+eax*8]
jz      short loc_2781f9c1
cmp     ecx, eax
jnz     short loc_2781f9f5
push    [ebp+var_18]
lea     eax, [ebx+1]
push    eax
push    ecx
push    edi
call    sub_2781f62e
test    eax, eax
jnz     short loc_2781f9b6
mov     eax, 7fffffffh
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
dec     eax
mov     [ebp+var_c], eax
jmp     short loc_2781f976
mov     eax, [edi]
mov     ecx, [ebp+arg_0]
sub     ebx, [eax+ecx*8+4]
mov     esi, ebx
mov     eax, [edi]
mov     edx, [eax+ecx*8+4]
lea     ecx, [eax+ecx*8+4]
mov     eax, [ebp+var_c]
sub     edx, eax
mov     [ecx], eax
mov     eax, [ebp+arg_8]
add     esi, edx
cmp     [ebp+var_4], eax
jg      short loc_2781f9f1
push    eax
push    [ebp+var_4]
push    edi
call    sub_2781f694
mov     ecx, 7fffffffh
cmp     eax, ecx
jnz     short loc_2781fa06
mov     esi, ecx
mov     eax, esi
jmp     short loc_2781f9a9
mov     esi, ebx
dec     eax
sub     esi, [edx]
mov     [ebp+arg_8], eax
inc     esi
inc     ebx
mov     [edx], ebx
mov     ecx, [ebp+arg_0]
jmp     short loc_2781f9c1
add     esi, eax
jmp     short loc_2781f9f1
push    ebx
push    edi
push    1
pop     ebx
push    30h
push    40h
call    ds:globalalloc
mov     edi, eax
test    edi, edi
jz      short loc_2781fa3c
push    esi
mov     esi, [esp+0ch+arg_0]
push    dword ptr [esi]
call    ds:globalfree
push    esi
mov     [esi], edi
call    sub_2781f785
pop     esi
mov     eax, ebx
pop     edi
pop     ebx
retn    4
xor     ebx, ebx
jmp     short loc_2781fa35
push    ebp
mov     ebp, esp
lea     eax, [ebp+arg_4]
push    eax
push    [ebp+arg_4]
push    [ebp+arg_0]
call    sub_2781f711
pop     ebp
retn    8
mov     ecx, [esp+arg_0]
xor     eax, eax
cmp     dword ptr [ecx+8], 2
setz    al
retn    4
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
lea     eax, [ebp+arg_4]
push    eax
push    edi
push    esi
call    sub_2781f711
test    eax, eax
jz      short loc_2781fa91
mov     eax, [esi]
mov     ecx, [ebp+arg_4]
cmp     [eax+ecx*8], edi
lea     eax, [eax+ecx*8]
jnz     short loc_2781fad1
dec     [ebp+arg_4]
mov     ecx, [esi+8]
dec     ecx
dec     ecx
cmp     ecx, [ebp+arg_4]
jle     short loc_2781fac7
mov     edi, 7ffffffdh
mov     eax, [esi]
mov     edx, [eax+ecx*8]
lea     eax, [eax+ecx*8]
inc     edx
mov     ebx, [eax+4]
cmp     edx, edi
jle     short loc_2781fab2
mov     edx, edi
inc     ebx
cmp     ebx, edi
jle     short loc_2781fab9
mov     ebx, edi
mov     [eax], edx
mov     eax, [esi]
mov     [eax+ecx*8+4], ebx
dec     ecx
cmp     ecx, [ebp+arg_4]
jg      short loc_2781faa0
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    8
push    dword ptr [eax+4]
push    edi
push    [ebp+arg_4]
push    esi
call    sub_2781f62e
test    eax, eax
jz      short loc_2781faca
mov     eax, [esi]
mov     ecx, [ebp+arg_4]
dec     edi
mov     [eax+ecx*8+4], edi
jmp     short loc_2781fa91
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_8]
push    ebx
mov     ebx, [ebp+arg_4]
push    esi
and     dword ptr [eax], 0
mov     esi, [ebp+arg_0]
lea     eax, [ebp+arg_4]
push    edi
push    eax
push    ebx
push    esi
call    sub_2781f711
test    eax, eax
mov     edi, 7ffffffdh
jz      short loc_2781fb69
mov     eax, [esi]
mov     ecx, [ebp+arg_4]
lea     eax, [eax+ecx*8+4]
mov     ecx, [eax]
dec     ecx
cmp     ecx, edi
jle     short loc_2781fb26
mov     ecx, edi
mov     [eax], ecx
mov     eax, [ebp+arg_8]
mov     dword ptr [eax], 1
mov     ecx, [esi+8]
dec     ecx
dec     ecx
cmp     ecx, [ebp+arg_4]
jle     short loc_2781fb5f
mov     eax, [esi]
mov     edx, [eax+ecx*8]
lea     eax, [eax+ecx*8]
dec     edx
mov     ebx, [eax+4]
cmp     edx, edi
jle     short loc_2781fb4d
mov     edx, edi
dec     ebx
cmp     ebx, edi
jle     short loc_2781fb54
mov     ebx, edi
mov     [eax], edx
mov     eax, [esi]
mov     [eax+ecx*8+4], ebx
dec     ecx
jmp     short loc_2781fb36
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    0ch
mov     ecx, [esi+8]
mov     eax, [ebp+arg_4]
dec     ecx
cmp     eax, ecx
jge     short loc_2781fb31
mov     ecx, [esi]
lea     edx, [ebx-1]
cmp     [ecx+eax*8+4], edx
lea     eax, [ecx+eax*8]
jnz     short loc_2781fb31
mov     edx, [ebp+arg_4]
inc     ebx
cmp     [ecx+edx*8+8], ebx
jnz     short loc_2781fb31
mov     ecx, [eax+0ch]
dec     ecx
mov     [eax+4], ecx
mov     eax, [ebp+arg_4]
inc     eax
push    eax
push    eax
push    esi
call    sub_2781f694
cmp     eax, 7fffffffh
jnz     short loc_2781fb31
xor     eax, eax
jmp     short loc_2781fb62
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+arg_0]
push    edi
mov     edi, [ebp+arg_4]
lea     eax, [ebp+arg_4]
push    eax
push    edi
push    esi
call    sub_2781f711
test    eax, eax
jnz     short loc_2781fbd8
mov     eax, [esi+8]
inc     [ebp+arg_4]
dec     eax
cmp     [ebp+arg_4], eax
jge     short loc_2781fbe0
mov     eax, [esi]
mov     ecx, [ebp+arg_4]
mov     edi, [eax+ecx*8]
mov     eax, edi
pop     edi
pop     esi
pop     ebp
retn    8
or      edi, 0ffffffffh
jmp     short loc_2781fbd8
push    ebx
push    esi
mov     esi, [esp+8+lp]
xor     ebx, ebx
cmp     esi, ebx
push    edi
jz      short loc_2781fc59
cmp     esi, 0ffffffffh
jz      short loc_2781fc59
push    1
push    esi
call    ds:isbadreadptr
test    eax, eax
jz      short loc_2781fc0c
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
push    ebx
push    ebx
push    0ffffffffh
push    esi
mov     esi, ds:multibytetowidechar
push    ebx
push    [esp+20h+codepage]
call    esi
mov     edi, eax
cmp     edi, ebx
jnz     short loc_2781fc27
push    1
pop     edi
lea     eax, [edi+edi]
push    eax
push    ebx
call    ds:localalloc
mov     ebx, eax
test    ebx, ebx
jz      short loc_2781fc55
push    edi
push    ebx
push    0ffffffffh
push    [esp+18h+lp]
push    1
push    [esp+20h+codepage]
call    esi
test    eax, eax
jnz     short loc_2781fc55
push    ebx
call    ds:localfree
xor     ebx, ebx
mov     eax, ebx
jmp     short loc_2781fc06
mov     eax, esi
jmp     short loc_2781fc06
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+lpwidecharstr]
push    ebx
push    esi
xor     esi, esi
cmp     eax, esi
push    edi
jz      short loc_2781fcbf
cmp     eax, 0ffffffffh
jz      short loc_2781fcbf
push    esi
push    esi
mov     edi, ds:widechartomultibyte
push    esi
push    esi
push    0ffffffffh
push    eax
push    esi
push    [ebp+codepage]
call    edi
mov     ebx, eax
cmp     ebx, esi
jnz     short loc_2781fc8e
push    1
pop     ebx
push    ebx
push    esi
call    ds:localalloc
cmp     eax, esi
mov     [ebp+hmem], eax
jz      short loc_2781fcbc
push    esi
push    esi
push    ebx
push    eax
push    0ffffffffh
push    [ebp+lpwidecharstr]
push    esi
push    [ebp+codepage]
call    edi
test    eax, eax
jnz     short loc_2781fcbc
push    [ebp+hmem]
call    ds:localfree
mov     [ebp+hmem], esi
mov     eax, [ebp+hmem]
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    ebp
mov     ebp, esp
push    esi
push    [ebp+hwnd]
call    ds:getdlgctrlid
mov     esi, [ebp+arg_c]
test    esi, esi
jz      short loc_2781fcdd
and     dword ptr [esi], 0
cmp     eax, 0c9h
jnz     short loc_2781fd20
push    0
push    [ebp+wparam]
push    199h
push    [ebp+hwnd]
call    ds:sendmessagea
cmp     eax, 0ffffffffh
jg      short loc_2781fd04
or      eax, 0ffffffffh
pop     esi
pop     ebp
retn    10h
test    eax, eax
jnz     short loc_2781fd0f
mov     eax, 2000ffffh
jmp     short loc_2781fcff
test    esi, esi
jz      short loc_2781fd15
mov     [esi], eax
push    eax
push    [ebp+arg_0]
call    sub_2781fd4b
jmp     short loc_2781fcff
mov     ecx, [ebp+wparam]
test    esi, esi
jz      short loc_2781fd38
mov     edx, [ebp+arg_0]
lea     eax, [ecx+0ch]
mov     edx, [edx+4]
lea     eax, [eax+eax*4]
mov     eax, [edx+eax*4]
mov     [esi], eax
push    0
push    ecx
push    199h
push    [ebp+hwnd]
call    ds:sendmessagea
jmp     short loc_2781fcff
push    esi
mov     esi, [esp+4+arg_4]
test    esi, esi
jnz     short loc_2781fd5d
mov     eax, 2000ffffh
pop     esi
retn    8
jge     short loc_2781fd64
or      eax, 0ffffffffh
jmp     short loc_2781fd59
mov     eax, [esp+4+arg_0]
xor     ecx, ecx
add     eax, 0ch
mov     edx, eax
cmp     esi, [edx]
jz      short loc_2781fd83
inc     ecx
add     edx, 8
cmp     ecx, 0ffh
jl      short loc_2781fd6f
xor     eax, eax
jmp     short loc_2781fd59
mov     eax, [eax+ecx*8+4]
jmp     short loc_2781fd59
push    ebp
mov     ebp, esp
push    esi
mov     esi, [ebp+hwnd]
push    esi
call    ds:getdlgctrlid
cmp     eax, 0c9h
jnz     short loc_2781fdcd
cmp     [ebp+lparam], 0
jle     short loc_2781fdc9
push    [ebp+arg_10]
push    [ebp+lparam]
push    [ebp+arg_0]
call    sub_2781fdd2
push    [ebp+lparam]
push    [ebp+wparam]
push    19ah
push    esi
call    ds:sendmessagea
pop     esi
pop     ebp
retn    14h
push    0
jmp     short loc_2781fdb5
push    [ebp+arg_10]
jmp     short loc_2781fdb5
mov     ecx, [esp+arg_0]
push    esi
push    edi
mov     edi, [esp+8+arg_4]
xor     eax, eax
lea     edx, [ecx+0ch]
mov     esi, [edx]
cmp     esi, 0ffffffffh
jz      short loc_2781fdfc
cmp     esi, edi
jz      short loc_2781fdfc
inc     eax
add     edx, 8
cmp     eax, 0ffh
jl      short loc_2781fde1
pop     edi
pop     esi
retn    0ch
mov     edx, [esp+8+arg_8]
mov     [ecx+eax*8+0ch], edi
mov     [ecx+eax*8+10h], edx
jmp     short loc_2781fdf7
mov     ecx, [esp+arg_0]
push    ebx
push    esi
push    edi
test    ecx, ecx
jz      short loc_2781fe3f
mov     ebx, [esp+0ch+arg_4]
test    ebx, ebx
jle     short loc_2781fe3f
mov     esi, [ecx+70h]
xor     edi, edi
test    esi, esi
jbe     short loc_2781fe3f
mov     edx, [ecx+0e8h]
lea     eax, [edx+4]
test    edx, edx
jz      short loc_2781fe37
cmp     [eax], ebx
jz      short loc_2781fe47
inc     edi
add     eax, 14h
cmp     edi, esi
jb      short loc_2781fe2f
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn    8
push    edi
push    ecx
call    sub_2780e0eb
jmp     short loc_2781fe41
mov     eax, [esp+arg_4]
dec     eax
js      short locret_2781fe72
mov     edx, [esp+arg_0]
lea     ecx, [eax+eax*4]
lea     ecx, [edx+ecx*4+0f4h]
test    byte ptr [ecx], 8
jz      short locret_2781fe72
dec     eax
sub     ecx, 14h
test    eax, eax
jge     short loc_2781fe65
retn    8
push    ebp
mov     ebp, esp
sub     esp, 2ch
mov     ecx, [ebp+arg_14]
mov     eax, [ebp+arg_10]
mov     [ebp+var_8], ecx
mov     ecx, [ebp+arg_4]
mov     [ebp+var_20], ecx
mov     ecx, [ebp+arg_8]
test    eax, eax
mov     [ebp+var_4], eax
mov     [ebp+var_18], ecx
jz      short loc_2781fe9a
and     byte ptr [eax], 0
lea     eax, [ebp+lparam]
push    eax
push    0fffffd44h
push    [ebp+arg_0]
call    sub_277b9838
test    eax, eax
jz      short loc_2781fec5
lea     eax, [ebp+var_1c]
push    eax
push    [ebp+arg_c]
push    [ebp+arg_0]
call    sub_2780e289
push    1
pop     eax
leave
retn    18h
xor     eax, eax
jmp     short locret_2781fec1
push    ebp
mov     ebp, esp
sub     esp, 2ch
and     [ebp+lparam], 0
push    esi
push    edi
mov     edx, [ebp+arg_0]
push    0ah
xor     eax, eax
cmp     [ebp+arg_8], 0fffffd3dh
pop     ecx
lea     edi, [ebp+var_28]
rep stosd
mov     eax, [ebp+arg_4]
mov     [ebp+var_20], eax
jz      short loc_2781fefa
cmp     [ebp+arg_8], 0fffffd3eh
jnz     short loc_2781ff11
cmp     eax, [edx+6ch]
jge     short loc_2781ff11
lea     eax, [eax+eax*4]
push    5
pop     ecx
lea     edi, [ebp+var_1c]
lea     esi, [edx+eax*4+0ech]
rep movsd
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_8]
push    edx
call    sub_277b9838
pop     edi
pop     esi
leave
retn    0ch
push    esi
push    edi
mov     edi, ds:getwindowlonga
push    0
push    [esp+0ch+hwnd]
call    edi
mov     esi, eax
mov     eax, [esi+30h]
test    eax, eax
jz      short loc_2781ff45
push    8
push    eax
call    edi
mov     [eax+4], esi
mov     eax, esi
pop     edi
pop     esi
retn    4
push    ebp
mov     ebp, esp
sub     esp, 5ch
push    edi
mov     edi, [ebp+arg_4]
test    edi, edi
jl      loc_278201ba
push    0fffffd3dh
push    edi
push    [ebp+lpchtext]
call    sub_2781fec9
test    eax, eax
jz      loc_278201ba
push    esi
push    ebx
push    66h
push    dword_27828334
call    ds:loadcursora
push    eax
call    ds:setcursor
mov     [ebp+hcursor], eax
mov     eax, [ebp+lpchtext]
push    dword ptr [eax]
call    ds:setcapture
lea     eax, [ebp+rect]
push    eax
mov     eax, [ebp+lpchtext]
push    dword ptr [eax]
call    ds:getclientrect
mov     ebx, ds:peekmessagea
mov     esi, 202h
xor     eax, eax
push    1
push    eax
push    eax
push    eax
lea     eax, [ebp+msg]
push    eax
call    ebx
test    eax, eax
jz      short loc_2781ffb3
call    ds:getcapture
mov     ecx, [ebp+lpchtext]
cmp     eax, [ecx]
jnz     loc_278201a7
lea     eax, [ebp+msg]
push    4203h
push    eax
call    ds:callmsgfiltera
test    eax, eax
jnz     short loc_2781ffb3
mov     eax, [ebp+msg.message]
cmp     eax, 100h
jb      short loc_27820008
cmp     eax, 102h
jbe     short loc_2781ffb3
cmp     eax, esi
jz      short loc_2782001e
cmp     eax, 204h
jz      loc_278201a7
lea     eax, [ebp+msg]
push    eax
call    ds:translatemessage
lea     eax, [ebp+msg]
push    eax
call    ds:dispatchmessagea
jmp     short loc_2781ffb3
push    [ebp+msg.lparam]
mov     eax, [ebp+lpchtext]
push    [ebp+msg.wparam]
push    esi
push    dword ptr [eax]
push    dword ptr [eax+28h]
call    sub_27810fcc
mov     ecx, [ebp+lpchtext]
mov     edx, [ebp+msg.lparam]
mov     esi, [ebp+rect.bottom]
mov     ax, [ecx+58h]
shr     edx, 10h
add     esi, eax
cmp     dx, si
jg      loc_2782024d
mov     esi, [ebp+rect.right]
add     esi, eax
cmp     word ptr [ebp+msg.lparam], si
jg      loc_2782024d
mov     eax, [ecx+58h]
movsx   esi, dx
neg     eax
cmp     esi, eax
jl      loc_2782024d
movsx   ebx, word ptr [ebp+msg.lparam]
cmp     ebx, eax
jl      loc_2782024d
mov     eax, [ecx+58h]
cmp     [ebp+rect.right], eax
jz      loc_27820146
cdq
sub     eax, edx
push    esi
sar     eax, 1
add     eax, ebx
push    eax
push    ecx
call    sub_2780d075
mov     ebx, eax
mov     [ebp+var_4], ebx
test    ebx, ebx
jge     short loc_278200a6
or      eax, 0ffffffffh
sub     eax, ebx
mov     [ebp+var_4], eax
mov     ebx, eax
test    ebx, ebx
mov     esi, 0fffffd3eh
jle     loc_27820162
mov     eax, [ebp+lpchtext]
lea     ecx, [ebx+ebx*4]
test    byte ptr [eax+ecx*4+0e0h], 20h
jz      loc_27820165
movsx   ecx, word ptr [ebp+msg.lparam]
cmp     ecx, [eax+58h]
jle     loc_27820165
dec     ebx
push    esi
push    ebx
push    eax
mov     [ebp+var_4], ebx
call    sub_2781fec9
test    eax, eax
jz      short loc_27820162
mov     eax, [ebp+lpchtext]
lea     ecx, [edi+edi*4]
push    5
lea     edi, [ebp+var_2c]
lea     esi, [eax+ecx*4+0ech]
pop     ecx
push    0
push    [ebp+arg_4]
rep movsd
push    eax
call    sub_2780dec6
cmp     ebx, [ebp+arg_4]
jle     short loc_2782010a
dec     ebx
mov     ecx, [ebp+lpchtext]
lea     eax, [ebx+ebx*4]
test    byte ptr [ecx+eax*4+0f5h], 1
jnz     short loc_2782011b
inc     ebx
lea     eax, [ebp+var_40]
push    1
push    eax
push    1
lea     eax, [ebp+lpchtext]
push    ebx
push    eax
call    sub_2780dccc
push    0
push    0fffffd3ch
push    [ebp+lpchtext]
call    sub_277b9838
push    [ebp+lpchtext]
call    sub_2780dc3c
jmp     short loc_278201a7
mov     eax, [ecx+5ch]
cdq
sub     eax, edx
sar     eax, 1
add     eax, esi
push    eax
push    ebx
push    ecx
call    sub_2780d075
mov     [ebp+var_4], eax
mov     ebx, eax
jmp     loc_27820098
mov     eax, [ebp+lpchtext]
cmp     ebx, edi
jnz     short loc_278201bf
push    edi
push    eax
call    sub_2781fe50
test    eax, eax
mov     [ebp+arg_4], eax
jl      short loc_278201a7
mov     edx, [ebp+lpchtext]
lea     ecx, [eax+eax*4]
test    byte ptr [edx+ecx*4+0f5h], 1
jz      short loc_278201a7
lea     ecx, [eax+0ch]
lea     ecx, [ecx+ecx*4]
cmp     dword ptr [edx+ecx*4], 0
jnz     short loc_278201a7
push    0fffffd3dh
push    eax
push    edx
call    sub_2781fec9
test    eax, eax
jnz     loc_27820247
push    [ebp+hcursor]
call    ds:setcursor
push    [ebp+lpchtext]
call    sub_277bf76d
pop     ebx
pop     esi
pop     edi
leave
retn    8
lea     ecx, [edi+1]
cmp     ebx, ecx
jnz     short loc_278201ec
dec     ebx
push    esi
push    ebx
push    eax
call    sub_2781fec9
test    eax, eax
jz      short loc_278201a7
and     [ebp+var_2c], 0
and     [ebp+var_28], 0
or      [ebp+var_1c], 0ffffffffh
and     [ebp+var_24], 0
mov     [ebp+var_23], 1
jmp     loc_2782011b
push    esi
push    ebx
push    eax
call    sub_2781fec9
test    eax, eax
jz      short loc_278201a7
mov     eax, [ebp+lpchtext]
lea     ebx, [edi+edi*4]
shl     ebx, 2
push    5
lea     edi, [ebp+var_2c]
lea     esi, [eax+ebx+0ech]
pop     ecx
rep movsd
lea     ecx, [ebp+var_40]
push    ecx
lea     ecx, [ebp+var_2c]
push    ecx
push    eax
call    sub_2780e2cf
mov     eax, [ebp+lpchtext]
mov     esi, [ebp+arg_4]
push    0
push    esi
or      dword ptr [eax+ebx+0fch], 0ffffffffh
push    [ebp+lpchtext]
call    sub_2780dec6
cmp     [ebp+var_4], esi
jle     short loc_2782023f
dec     [ebp+var_4]
mov     ebx, [ebp+var_4]
jmp     loc_2782011b
mov     ecx, [ebp+lpchtext]
mov     edi, [ebp+arg_4]
push    0
push    edi
push    ecx
call    sub_2780dec6
jmp     loc_2782012d
push    ebp
mov     ebp, esp
push    ecx
mov     eax, [ebp+arg_c]
push    ebx
mov     ebx, [ebp+arg_4]
and     eax, 1
push    esi
push    edi
mov     [ebp+var_4], eax
mov     esi, 0fffffd3eh
xor     edi, edi
cmp     [ebp+var_4], edi
jz      short loc_27820290
cmp     ebx, [ebp+arg_8]
jg      short loc_27820290
push    1
pop     edi
push    esi
push    ebx
push    [ebp+arg_0]
call    sub_2781fec9
test    eax, eax
jnz     short loc_278202b7
test    byte ptr [ebp+arg_c], 2
jz      short loc_278202ad
cmp     [ebp+arg_4], 0
jl      short loc_278202ad
push    1
pop     edi
push    esi
push    ebx
push    [ebp+arg_0]
call    sub_2781fec9
test    eax, eax
jnz     short loc_278202c0
test    edi, edi
jz      short loc_278202c5
inc     ebx
dec     [ebp+arg_4]
jmp     short loc_27820273
mov     eax, ebx
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     eax, [ebp+arg_4]
jmp     short loc_278202b9
or      eax, 0ffffffffh
jmp     short loc_278202b9
push    ebp
mov     ebp, esp
sub     esp, 0c8h
mov     eax, [ebp+arg_4]
push    ebx
push    esi
push    edi
lea     ecx, [eax+10h]
mov     edx, 0ffh
xor     ebx, ebx
or      dword ptr [ecx-4], 0ffffffffh
mov     [ecx], ebx
add     ecx, 8
dec     edx
jnz     short loc_278202e3
mov     esi, [ebp+hdlg]
mov     ecx, [eax+4]
mov     [eax], esi
push    3
mov     [ecx+30h], esi
mov     ecx, [eax+4]
push    dword ptr [ecx+6ch]
push    dword ptr [eax+8]
push    ecx
call    sub_2782025b
cmp     eax, ebx
mov     [ebp+var_48], eax
jl      loc_278206cb
mov     edi, ds:getdlgitem
push    0cbh
push    esi
call    edi
mov     esi, ds:sendmessagea
push    ebx
push    ebx
push    184h
push    eax
mov     [ebp+hwnd], eax
call    esi
push    0c9h
push    [ebp+hdlg]
call    edi
push    ebx
push    ebx
push    184h
push    eax
mov     [ebp+var_14], eax
call    esi
mov     eax, [ebp+arg_4]
xor     edi, edi
mov     eax, [eax+4]
cmp     [eax+6ch], ebx
lea     ecx, [eax+0ech]
mov     [ebp+var_c], ecx
jle     loc_278203e7
push    0fffffd3dh
push    edi
push    eax
mov     [ebp+var_4], ebx
call    sub_2781fec9
test    eax, eax
jnz     short loc_27820382
mov     [ebp+var_4], 8000h
mov     eax, [ebp+var_c]
test    byte ptr [eax+8], 8
jz      short loc_2782038f
or      byte ptr [ebp+var_4+1], 40h
test    byte ptr [eax+9], 1
jz      loc_2782060b
cmp     [eax+4], ebx
jnz     short loc_278203a2
or      byte ptr [ebp+var_4+1], 20h
or      [ebp+h], 0ffffffffh
push    offset byte_277cba1c
push    ebx
push    180h
push    [ebp+hwnd]
call    esi
cmp     eax, edi
jnz     loc_278206cb
movzx   eax, word ptr [ebp+var_4]
movzx   ecx, word ptr [ebp+h]
shl     eax, 10h
or      eax, ecx
push    eax
push    edi
push    19ah
push    [ebp+hwnd]
call    esi
mov     eax, [ebp+arg_4]
add     [ebp+var_c], 14h
inc     edi
mov     eax, [eax+4]
cmp     edi, [eax+6ch]
jl      short loc_27820368
push    offset byte_277cba1c
push    ebx
push    180h
push    [ebp+hwnd]
call    esi
cmp     eax, edi
jnz     short loc_2782040b
push    0a000ffffh
push    edi
push    19ah
push    [ebp+hwnd]
call    esi
push    offset byte_277cba1c
push    ebx
push    180h
push    [ebp+var_14]
call    esi
cmp     eax, 0ffffffffh
jz      loc_278206cb
mov     edi, [ebp+arg_4]
push    2000ffffh
push    0ffffffffh
push    ebx
push    [ebp+var_14]
push    edi
call    sub_2781fd89
push    [ebp+hwnd]
call    ds:getdc
push    ebx
push    ebx
push    31h
mov     [ebp+hdc], eax
push    [ebp+hwnd]
call    esi
cmp     eax, ebx
mov     [ebp+h], eax
jz      short loc_27820461
push    eax
push    [ebp+hdc]
call    ds:selectobject
mov     [ebp+h], eax
mov     eax, [edi+4]
mov     [ebp+wparam], ebx
mov     [ebp+var_4], ebx
mov     edi, [eax+6ch]
mov     ecx, [eax+70h]
add     ecx, edi
mov     [ebp+var_24], edi
test    ecx, ecx
jle     loc_27820593
lea     ecx, [edi+edi*4]
mov     [ebp+var_c], ebx
shl     ecx, 2
mov     [ebp+var_40], ecx
cmp     [ebp+var_4], edi
jge     loc_27820615
mov     ecx, [ebp+var_4]
mov     [ebp+var_28], ecx
mov     ecx, [ebp+var_c]
mov     ecx, [ecx+eax+0f0h]
cmp     ecx, ebx
jle     loc_27820649
cmp     [ebp+var_4], edi
jge     loc_27820641
mov     edx, [ebp+var_28]
mov     [ebp+var_18], edx
lea     edx, [ebp+string]
push    80h
push    edx
lea     edx, [ebp+var_3c]
push    edx
push    ecx
push    [ebp+var_18]
push    eax
call    sub_2781fe75
test    eax, eax
jz      loc_27820593
test    [ebp+var_33], 1
jz      short loc_278204ea
cmp     [ebp+lparam], ebx
jz      loc_27820578
lea     eax, [ebp+var_44]
push    ebx
push    eax
lea     eax, [ebp+string]
push    eax
call    ds:lstrlena
push    eax
lea     eax, [ebp+string]
push    eax
push    [ebp+hdc]
call    sub_277bccbe
mov     eax, [ebp+var_44]
cmp     [ebp+wparam], eax
jge     short loc_27820517
mov     [ebp+wparam], eax
push    [ebp+lparam]
mov     eax, [ebp+arg_4]
push    dword ptr [eax+4]
call    sub_2780d56e
mov     edi, eax
cmp     edi, ebx
jge     loc_27820667
test    [ebp+var_34], 8
jnz     short loc_27820575
lea     eax, [ebp+string]
push    eax
push    ebx
push    180h
push    [ebp+var_14]
call    esi
cmp     eax, 0ffffffffh
jz      short loc_27820575
test    [ebp+var_33], 1
jz      loc_2782065f
or      ecx, 0ffffffffh
movzx   edx, word ptr [ebp+var_4]
movzx   ecx, cx
shl     edx, 10h
or      edx, ecx
push    edx
push    [ebp+lparam]
push    eax
push    [ebp+var_14]
push    [ebp+arg_4]
call    sub_2781fd89
mov     edi, [ebp+var_24]
mov     eax, [ebp+arg_4]
inc     [ebp+var_4]
add     [ebp+var_c], 14h
mov     eax, [eax+4]
mov     ecx, [eax+70h]
add     ecx, edi
cmp     [ebp+var_4], ecx
jl      loc_27820489
cmp     [ebp+h], ebx
jz      short loc_278205a4
push    [ebp+h]
push    [ebp+hdc]
call    ds:selectobject
push    [ebp+hdc]
push    [ebp+hwnd]
call    ds:releasedc
mov     eax, [ebp+arg_4]
mov     ecx, [ebp+wparam]
push    ebx
mov     edi, 194h
mov     eax, [eax+4]
mov     eax, [eax+58h]
lea     eax, [ecx+eax+3]
push    eax
push    edi
push    [ebp+var_14]
mov     [ebp+wparam], eax
call    esi
push    ebx
push    [ebp+wparam]
push    edi
push    [ebp+hwnd]
call    esi
push    ebx
add     edi, 0fffffff2h
push    ebx
push    edi
push    [ebp+var_14]
call    esi
push    ebx
push    [ebp+var_48]
push    edi
push    [ebp+hwnd]
call    esi
push    [ebp+hwnd]
push    100cbh
push    111h
push    [ebp+hdlg]
call    esi
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [eax]
mov     [ebp+h], eax
jmp     loc_278203a6
mov     edx, [eax+0e8h]
cmp     edx, ebx
jz      short loc_27820639
mov     ecx, [ebp+var_4]
sub     ecx, edi
mov     edi, [ebp+var_24]
mov     [ebp+var_28], ecx
mov     ecx, [ebp+var_c]
sub     ecx, [ebp+var_40]
mov     ecx, [ecx+edx+4]
jmp     loc_278204a2
or      ecx, 0ffffffffh
jmp     loc_278204a2
mov     [ebp+var_18], ebx
jmp     loc_278204b9
or      [ebp+var_2c], 0ffffffffh
mov     [ebp+var_3c], ebx
mov     [ebp+lparam], ebx
mov     [ebp+var_34], bl
mov     [ebp+var_33], 1
jmp     loc_278204db
mov     ecx, [ebp+var_3c]
jmp     loc_27820559
push    ebx
push    edi
push    [ebp+hwnd]
push    [ebp+arg_4]
call    sub_2781fcc6
push    ebx
push    edi
push    182h
mov     [ebp+var_18], eax
push    [ebp+hwnd]
call    esi
lea     eax, [ebp+string]
push    eax
push    edi
push    181h
push    [ebp+hwnd]
call    esi
cmp     eax, edi
jnz     short loc_278206bf
mov     eax, [ebp+var_18]
movzx   ecx, word ptr [ebp+var_4]
shr     eax, 10h
or      eax, ecx
movzx   ecx, word ptr [ebp+var_18]
shl     eax, 10h
or      eax, ecx
push    eax
push    edi
push    19ah
push    [ebp+hwnd]
call    esi
jmp     loc_27820575
push    [ebp+hdc]
push    [ebp+hwnd]
call    ds:releasedc
xor     eax, eax
jmp     loc_27820604
push    ebp
mov     ebp, esp
sub     esp, 0cch
push    ebx
mov     ebx, dword ptr [ebp+string]
push    esi
push    edi
mov     eax, [ebx+18h]
mov     edx, [ebp+c]
lea     esi, [ebx+1ch]
lea     edi, [ebp+rect]
movsd
movsd
mov     ecx, [ebx+4]
mov     [ebp+hdc], eax
mov     eax, [edx+4]
mov     [ebp+w], eax
mov     eax, [ebx+14h]
movsd
mov     [ebp+hwnd], eax
mov     eax, 0c9h
movsd
mov     esi, [ebx+8]
cmp     ecx, eax
jz      short loc_2782071f
cmp     ecx, 0cbh
jnz     loc_27820980
cmp     ecx, eax
jnz     short loc_27820734
mov     eax, [ebx+2ch]
test    eax, eax
jbe     loc_27820958
push    eax
push    edx
call    sub_2781fd4b
mov     [ebx+2ch], eax
movzx   eax, word ptr [ebx+2ch]
mov     [ebp+var_20], eax
mov     eax, [ebx+2ch]
shr     eax, 10h
push    14h
test    ah, 20h
pop     edi
jz      loc_27820964
mov     [ebp+c], edi
mov     eax, [ebp+c]
inc     eax
push    eax
push    40h
call    ds:localalloc
test    eax, eax
mov     [ebp+lpstring], eax
jz      loc_27820980
mov     ecx, [ebx+2ch]
shr     ecx, 10h
test    ch, 20h
jz      loc_27820987
push    edi
push    eax
push    400h
call    sub_277bc928
push    eax
call    ds:loadstringa
mov     [ebp+c], eax
cmp     dword ptr [ebx+0ch], 4
jz      loc_27820940
mov     edi, [ebx+10h]
push    1
pop     esi
and     edi, esi
mov     [ebp+var_38], edi
jz      loc_2782099c
call    ds:getfocus
cmp     eax, [ebp+hwnd]
jnz     loc_2782099c
mov     [ebp+var_c], esi
mov     eax, [ebx+2ch]
shr     eax, 10h
test    ah, 0c0h
jz      loc_278209a5
mov     eax, dword_2782a138
push    eax
push    [ebp+hdc]
call    ds:settextcolor
cmp     [ebp+var_c], 0
mov     [ebp+var_2c], eax
mov     eax, dword_2782a114
jnz     short loc_278207eb
mov     eax, dword_2782a10c
push    eax
push    [ebp+hdc]
call    ds:setbkcolor
mov     [ebp+color], eax
lea     eax, [ebp+var_28]
and     byte ptr [ebp+0dh], 0
push    eax
push    0
lea     eax, [ebp+string]
push    esi
push    eax
push    [ebp+hdc]
mov     [ebp+string], 57h
call    sub_277bccbe
mov     esi, [ebp+w]
test    byte ptr [esi+9], 8
jz      loc_278209be
mov     ecx, [esi+50h]
add     ecx, dword_2782a06c
push    0
lea     eax, [ebp+rect]
push    [ebp+c]
push    [ebp+lpstring]
push    eax
mov     eax, [ebp+rect.top]
sub     eax, [ebp+var_28]
push    6
add     eax, [ebp+rect.bottom]
cdq
sub     eax, edx
sar     eax, 1
push    eax
mov     eax, [ebp+rect.left]
lea     eax, [eax+ecx+2]
push    eax
push    [ebp+hdc]
call    ds:exttextouta
cmp     [ebp+var_20], 0
jl      loc_278208e3
xor     eax, eax
lea     edi, [ebp+var_48]
stosd
stosd
stosd
stosd
push    1fh
xor     edx, edx
pop     ecx
xor     eax, eax
lea     edi, [ebp+var_c8]
mov     [ebp+mode], edx
rep stosd
mov     eax, [ebp+var_20]
or      [ebp+var_3c], 0ffffffffh
mov     [ebp+hdc.unused], eax
mov     eax, [ebx+2ch]
shr     eax, 10h
shr     eax, 0ch
not     al
and     al, 4
and     [ebp+var_43], dl
push    edx
mov     [ebp+var_44], al
push    edx
push    edx
lea     eax, [ebp+hdc]
push    edx
push    eax
lea     eax, [ebp+mode]
push    esi
push    eax
call    sub_2780be7d
test    byte ptr [esi+9], 8
jz      loc_278209c6
lea     eax, [ebp+mode]
push    eax
xor     eax, eax
push    eax
push    eax
push    eax
push    eax
mov     eax, [ebp+rect.top]
inc     eax
push    eax
mov     eax, [ebp+rect.left]
inc     eax
push    eax
push    [ebp+hdc]
call    sub_2780bc2e
push    esi
call    sub_2780c736
mov     edi, [ebp+var_38]
push    [ebp+color]
push    [ebp+hdc]
call    ds:setbkcolor
push    [ebp+var_2c]
push    [ebp+hdc]
call    ds:settextcolor
xor     eax, eax
cmp     edi, eax
jz      short loc_27820934
cmp     [ebp+var_c], eax
jnz     short loc_27820934
push    eax
push    eax
push    193h
push    [ebp+hwnd]
call    ds:sendmessagea
add     eax, [ebp+rect.left]
cmp     [ebp+rect.right], eax
jge     short loc_27820921
mov     [ebp+rect.right], eax
push    dword_2782a0fc
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:framerect
cmp     dword ptr [ebx+0ch], 4
jz      short loc_27820940
test    byte ptr [ebx+10h], 10h
jz      short loc_2782094d
lea     eax, [ebp+rect]
push    eax
push    [ebp+hdc]
call    ds:drawfocusrect
push    [ebp+lpstring]
call    ds:localfree
jmp     short loc_27820980
mov     dword ptr [ebx+2ch], 2000ffffh
jmp     loc_27820734
push    0
push    esi
push    18ah
push    [ebp+hwnd]
call    ds:sendmessagea
test    eax, eax
mov     [ebp+c], eax
jge     loc_27820750
pop     edi
pop     esi
pop     ebx
leave
retn    8
push    eax
push    esi
push    189h
push    [ebp+hwnd]
call    ds:sendmessagea
jmp     loc_2782078d
and     [ebp+var_c], 0
jmp     loc_278207ba
cmp     [ebp+var_c], 0
mov     eax, dword_2782a130
jnz     loc_278207ce
mov     eax, dword_2782a108
jmp     loc_278207ce
mov     ecx, [esi+58h]
jmp     loc_27820829
lea     eax, [ebp+hdc]
push    1
push    eax
mov     eax, [ebp+rect.top]
inc     eax
push    esi
push    eax
mov     eax, [ebp+rect.left]
inc     eax
push    eax
push    [ebp+hdc]
call    sub_2780bf1f
jmp     loc_278208da
push    ebp
mov     ebp, esp
sub     esp, 0c4h
push    ebx
push    esi
push    edi
xor     ebx, ebx
xor     eax, eax
lea     edi, [ebp+var_28]
mov     [ebp+var_2c], ebx
push    20h
stosd
stosd
stosd
stosd
xor     eax, eax
lea     edi, [ebp+var_2c]
stosd
stosd
stosd
stosd
stosd
xor     eax, eax
lea     edi, [ebp+var_44]
stosd
stosd
stosd
stosd
stosd
pop     ecx
xor     eax, eax
push    [ebp+niddlgitem]
lea     edi, [ebp+var_c4]
mov     esi, ds:getdlgitem
mov     [ebp+var_c], ebx
rep stosd
mov     edi, [ebp+arg_0]
push    dword ptr [edi]
call    esi
push    [ebp+arg_c]
mov     [ebp+hwnd], eax
push    dword ptr [edi]
call    esi
mov     [ebp+arg_0], eax
lea     eax, [ebp+var_c]
push    eax
push    [ebp+wparam]
push    [ebp+hwnd]
push    edi
call    sub_2781fcc6
cmp     [ebp+wparam], ebx
mov     [ebp+var_30], eax
jl      loc_27820d68
shr     eax, 10h
test    ah, 80h
mov     [ebp+var_8], eax
jnz     loc_27820d68
cmp     [ebp+arg_c], 0cbh
jnz     short loc_27820a8b
push    0fffffd3eh
push    [ebp+arg_10]
push    dword ptr [edi+4]
call    sub_2781fec9
test    eax, eax
jz      loc_27820d68
push    ebx
mov     esi, ds:sendmessagea
push    [ebp+wparam]
push    18ah
push    [ebp+hwnd]
call    esi
inc     eax
push    eax
push    40h
call    ds:localalloc
cmp     eax, ebx
mov     [ebp+lparam], eax
jz      loc_27820d68
push    eax
push    [ebp+wparam]
push    189h
push    [ebp+hwnd]
call    esi
push    ebx
push    ebx
push    0bh
push    [ebp+hwnd]
call    esi
push    ebx
push    ebx
push    0bh
push    [ebp+arg_0]
call    esi
push    ebx
push    ebx
push    18eh
push    [ebp+arg_0]
call    esi
cmp     [ebp+arg_c], 0c9h
mov     [ebp+var_10], eax
jnz     loc_27820c0c
test    byte ptr [ebp+var_8+1], 60h
jz      loc_27820be0
mov     [ebp+arg_10], ebx
cmp     [ebp+niddlgitem], 0c9h
jnz     short loc_27820b0b
cmp     [ebp+wparam], ebx
jz      short loc_27820b34
push    ebx
push    [ebp+wparam]
push    182h
push    [ebp+hwnd]
call    esi
mov     eax, [ebp+arg_c]
cmp     [ebp+niddlgitem], eax
jnz     short loc_27820b34
mov     eax, [ebp+wparam]
cmp     eax, [ebp+arg_10]
jge     short loc_27820b2c
dec     [ebp+arg_10]
cmp     eax, [ebp+var_10]
jge     short loc_27820b34
dec     [ebp+var_10]
cmp     [ebp+niddlgitem], 0cbh
jnz     short loc_27820b55
xor     eax, eax
cmp     [ebp+arg_c], 0c9h
setz    al
push    eax
push    [ebp+wparam]
push    dword ptr [edi+4]
call    sub_2780dec6
mov     eax, [ebp+arg_c]
cmp     [ebp+niddlgitem], eax
jz      short loc_27820bb3
push    ebx
push    ebx
push    18bh
push    [ebp+hwnd]
call    esi
cmp     [ebp+wparam], eax
jl      short loc_27820b7a
push    ebx
push    ebx
push    186h
push    [ebp+hwnd]
call    esi
push    ebx
push    [ebp+wparam]
push    186h
push    [ebp+hwnd]
call    esi
cmp     eax, 0ffffffffh
jnz     short loc_27820b9d
mov     eax, [ebp+wparam]
push    ebx
dec     eax
push    eax
push    186h
push    [ebp+hwnd]
call    esi
movzx   eax, word ptr [ebp+niddlgitem]
push    [ebp+hwnd]
or      eax, 10000h
push    eax
push    111h
push    dword ptr [edi]
call    esi
mov     eax, [ebp+arg_14]
mov     ecx, [ebp+arg_10]
add     eax, ecx
push    ebx
push    eax
push    186h
push    [ebp+arg_0]
call    esi
movzx   eax, word ptr [ebp+arg_c]
push    [ebp+arg_0]
or      eax, 10000h
push    eax
push    111h
push    dword ptr [edi]
jmp     loc_27820d01
movzx   eax, word ptr [ebp+var_8]
and     ah, 1fh
push    1
mov     [ebp+var_14], eax
pop     eax
push    ebx
mov     [ebp+arg_10], eax
push    eax
push    [ebp+arg_0]
push    edi
call    sub_2781fcc6
shr     eax, 10h
cmp     eax, [ebp+var_14]
jnb     short loc_27820c15
inc     [ebp+arg_10]
push    ebx
push    [ebp+arg_10]
jmp     short loc_27820bf2
cmp     [ebp+arg_10], ebx
jl      loc_27820d03
push    [ebp+lparam]
push    [ebp+arg_10]
push    181h
push    [ebp+arg_0]
call    esi
cmp     eax, [ebp+arg_10]
jnz     loc_27820d03
cmp     [ebp+arg_c], 0cbh
jnz     short loc_27820ca7
test    byte ptr [ebp+var_8+1], 20h
jz      loc_27820cca
or      [ebp+var_1c], 0ffffffffh
mov     [ebp+var_2c], ebx
mov     [ebp+var_28], ebx
mov     [ebp+var_24], bl
mov     [ebp+var_23], 1
lea     eax, [ebp+var_44]
push    eax
lea     eax, [ebp+var_2c]
push    eax
push    dword ptr [edi+4]
call    sub_2780e2cf
lea     eax, [ebp+var_44]
push    1
push    eax
push    1
push    [ebp+arg_10]
lea     eax, [edi+4]
push    eax
call    sub_2780dccc
test    eax, eax
jz      short loc_27820cf5
cmp     [ebp+niddlgitem], 0c9h
jnz     short loc_27820c93
cmp     [ebp+var_c], ebx
jle     short loc_27820c93
push    [ebp+var_c]
push    dword ptr [edi+4]
call    sub_2781fe0a
cmp     [ebp+niddlgitem], 0cbh
jnz     short loc_27820ca7
mov     eax, [ebp+wparam]
cmp     eax, [ebp+arg_10]
jl      short loc_27820ca7
inc     [ebp+wparam]
mov     eax, [ebp+wparam]
push    [ebp+var_30]
mov     ecx, [edi+4]
add     eax, 0ch
lea     eax, [eax+eax*4]
push    dword ptr [ecx+eax*4]
push    [ebp+arg_10]
push    [ebp+arg_0]
push    edi
call    sub_2781fd89
jmp     loc_27820afd
lea     eax, [ebp+var_c4]
push    80h
push    eax
lea     eax, [ebp+var_2c]
push    eax
movzx   eax, word ptr [ebp+var_8]
push    [ebp+var_c]
and     ah, 1fh
push    eax
push    dword ptr [edi+4]
call    sub_2781fe75
test    eax, eax
jnz     loc_27820c52
push    ebx
push    [ebp+arg_10]
push    182h
push    [ebp+arg_0]
call    esi
push    [ebp+lparam]
call    ds:localfree
mov     eax, [ebp+arg_c]
cmp     [ebp+niddlgitem], eax
jnz     short loc_27820d3a
push    ebx
push    [ebp+var_10]
push    197h
push    [ebp+arg_0]
call    esi
push    ebx
push    ebx
push    ebx
push    188h
push    [ebp+arg_0]
call    esi
push    eax
push    186h
push    [ebp+arg_0]
call    esi
push    ebx
push    1
push    0bh
push    [ebp+hwnd]
call    esi
push    ebx
push    1
push    0bh
push    [ebp+arg_0]
call    esi
push    1
push    ebx
push    [ebp+arg_0]
call    ds:invalidaterect
push    ebx
push    0fffffd3ch
push    dword ptr [edi+4]
call    sub_277b9838
pop     edi
pop     esi
pop     ebx
leave
retn    18h
push    ebp
mov     ebp, esp
push    esi
push    [ebp+niddlgitem]
push    [ebp+hdlg]
call    ds:getdlgitem
cmp     [ebp+benable], 0
mov     esi, eax
jnz     short loc_27820da1
call    ds:getfocus
cmp     eax, esi
jnz     short loc_27820da1
push    1
push    [ebp+wparam]
push    28h
push    [ebp+hdlg]
call    ds:sendmessagea
push    [ebp+benable]
push    esi
call    ds:enablewindow
pop     esi
pop     ebp
retn    10h
push    ebp
mov     ebp, esp
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
push    0cbh
push    dword ptr [esi]
call    ds:getdlgitem
push    [ebp+arg_c]
mov     ebx, eax
push    [ebp+point.y]
push    [ebp+point.x]
push    ebx
call    sub_27821cdf
mov     edi, eax
test    edi, edi
jl      short loc_27820df2
push    0fffffd3eh
push    edi
push    dword ptr [esi+4]
call    sub_2781fec9
test    eax, eax
jnz     short loc_27820df2
or      edi, 0ffffffffh
cmp     [ebp+arg_c], 0
jz      short loc_27820e0c
mov     eax, edi
push    eax
push    ebx
push    dword ptr [esi]
call    sub_27821de7
mov     eax, edi
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
or      eax, 0ffffffffh
jmp     short loc_27820dfa
push    ebp
mov     ebp, esp
lea     eax, [ebp+point]
push    esi
push    eax
push    [ebp+hwnd]
call    ds:screentoclient
push    [ebp+point.y]
push    [ebp+point.x]
push    [ebp+hwnd]
call    ds:childwindowfrompoint
push    0c9h
mov     esi, eax
push    [ebp+hwnd]
call    ds:getdlgitem
sub     esi, eax
neg     esi
sbb     esi, esi
inc     esi
mov     eax, esi
pop     esi
pop     ebp
retn    0ch
push    ebp
mov     ebp, esp
mov     eax, [ebp+wparam]
push    ebx
mov     ebx, 0c9h
push    esi
sub     eax, ebx
push    edi
jz      loc_27820f3c
dec     eax
dec     eax
jnz     loc_27820f65
mov     esi, [ebp+arg_c]
mov     eax, [esi]
sub     eax, 485h
jz      loc_27820f00
dec     eax
jz      loc_27820fa1
dec     eax
jnz     loc_27820f52
xor     edi, edi
push    edi
push    dword ptr [esi+0ch]
push    dword ptr [esi+8]
push    [ebp+arg_0]
call    sub_27820db0
push    edi
push    edi
push    188h
mov     [ebp+arg_c], eax
push    dword ptr [esi+4]
call    ds:sendmessagea
cmp     [ebp+arg_c], edi
mov     [ebp+wparam], eax
jl      short loc_27820ee1
mov     eax, [ebp+arg_c]
sub     eax, [ebp+wparam]
cmp     eax, 1
jbe     loc_27820f65
push    edi
mov     eax, 0cbh
push    [ebp+arg_c]
push    eax
push    [ebp+wparam]
push    eax
push    [ebp+arg_0]
call    sub_278209e4
jmp     loc_27820f65
push    dword ptr [esi+0ch]
push    dword ptr [esi+8]
push    [ebp+hwnd]
call    sub_27820e11
test    eax, eax
jz      short loc_27820f65
push    edi
push    edi
push    ebx
push    [ebp+wparam]
push    0cbh
jmp     short loc_27820ed4
xor     edi, edi
push    edi
push    edi
push    188h
push    dword ptr [esi+4]
call    ds:sendmessagea
push    edi
push    eax
push    dword ptr [esi+4]
push    [ebp+arg_0]
call    sub_2781fcc6
shr     eax, 10h
test    ah, 80h
jnz     loc_27820fe2
push    1
push    edi
push    [ebp+hwnd]
call    ds:setwindowlonga
push    1
pop     eax
jmp     short loc_27820f67
mov     esi, [ebp+arg_c]
mov     eax, [esi]
sub     eax, 485h
jz      loc_27820fe8
dec     eax
jz      short loc_27820fa1
dec     eax
jz      short loc_27820f6e
dec     eax
jnz     short loc_27820f65
push    0
push    dword ptr [esi+0ch]
push    dword ptr [esi+8]
push    [ebp+arg_0]
call    sub_27820db0
xor     eax, eax
pop     edi
pop     esi
pop     ebx
pop     ebp
retn    10h
xor     edi, edi
push    edi
push    dword ptr [esi+0ch]
push    dword ptr [esi+8]
push    [ebp+arg_0]
call    sub_27820db0
cmp     eax, edi
jl      short loc_27820f65
push    edi
push    eax
push    0cbh
push    edi
push    edi
push    188h
push    dword ptr [esi+4]
call    ds:sendmessagea
push    eax
push    ebx
jmp     loc_27820ed4
push    1
push    dword ptr [esi+0ch]
push    dword ptr [esi+8]
push    [ebp+arg_0]
call    sub_27820db0
xor     edi, edi
cmp     eax, edi
jge     short loc_27820fcd
push    dword ptr [esi+0ch]
push    dword ptr [esi+8]
push    [ebp+hwnd]
call    sub_27820e11
test    eax, eax
jz      loc_27820f2b
push    66h
push    dword_27828334
call    ds:loadcursora
push    eax
call    ds:setcursor
push    edi
jmp     loc_27820f2d
push    1
push    0
jmp     loc_27820f2e
push    ebp
mov     ebp, esp
sub     esp, 10h
push    ebx
push    esi
mov     esi, [ebp+hwnd]
push    edi
push    8
push    esi
call    ds:getwindowlonga
mov     ecx, [ebp+arg_4]
mov     edi, eax
mov     eax, ecx
sub     eax, 2bh
jz      loc_27821442
dec     eax
jz      loc_278213d7
sub     eax, 27h
jz      loc_278213c6
sub     eax, 28h
jz      loc_278213af
sub     eax, 95h
jz      loc_27821345
dec     eax
jz      short loc_27821059
cmp     ecx, dword_2782c370
jnz     short loc_27821078
push    [ebp+arg_c]
push    [ebp+hwndmain]
push    esi
push    edi
call    sub_27820e4f
pop     edi
pop     esi
pop     ebx
leave
retn    10h
mov     ecx, [ebp+hwndmain]
mov     eax, 0c9h
movzx   edx, cx
cmp     edx, eax
jg      loc_27821131
jz      short loc_278210c3
dec     edx
jz      short loc_2782107c
dec     edx
jz      loc_27821337
xor     eax, eax
jmp     short loc_27821052
xor     ebx, ebx
mov     esi, 188h
push    ebx
push    ebx
push    esi
push    eax
push    [ebp+hwnd]
call    ds:senddlgitemmessagea
push    ebx
push    ebx
push    esi
mov     esi, 0cbh
push    esi
mov     [ebp+arg_c], eax
push    [ebp+hwnd]
call    ds:senddlgitemmessagea
cmp     eax, 0ffffffffh
jnz     short loc_278210ac
xor     eax, eax
push    1
push    eax
push    esi
push    [ebp+arg_c]
push    0c9h
push    edi
call    sub_278209e4
jmp     loc_278211c3
shr     ecx, 10h
cmp     ecx, 2
jz      short loc_2782111c
cmp     ecx, 3
jle     loc_278211c3
cmp     ecx, 5
jg      loc_278211c3
lea     eax, [ebp+lparam]
mov     esi, ds:sendmessagea
xor     ebx, ebx
push    eax
push    ebx
push    ebx
push    188h
push    [ebp+arg_c]
call    esi
push    eax
push    198h
push    [ebp+arg_c]
call    esi
cmp     eax, 0ffffffffh
jz      loc_278211c3
push    ebx
lea     eax, [ebp+lparam]
push    eax
push    [ebp+arg_c]
call    ds:invalidaterect
jmp     loc_278211c3
push    0
push    1
push    111h
push    esi
call    ds:sendmessagea
jmp     loc_278211c3
cmp     edx, 0cah
jz      loc_27821304
mov     esi, 0cbh
cmp     edx, esi
jz      loc_278211e8
cmp     edx, 0cch
jz      short loc_278211cb
mov     eax, 0cdh
cmp     edx, eax
jz      short loc_278211b4
jle     loc_27821078
cmp     edx, 0cfh
jg      loc_27821078
xor     ebx, ebx
push    ebx
push    ebx
push    188h
push    esi
push    [ebp+hwnd]
call    ds:senddlgitemmessagea
cmp     [ebp+hwndmain], 0ceh
mov     [ebp+arg_c], eax
jnz     short loc_278211a5
push    2
dec     eax
push    ebx
push    eax
push    dword ptr [edi+4]
call    sub_2782025b
push    ebx
push    eax
push    esi
push    [ebp+arg_c]
push    esi
jmp     loc_278210b8
mov     ecx, [edi+4]
push    1
add     eax, 2
push    dword ptr [ecx+6ch]
push    eax
push    ecx
jmp     short loc_27821194
push    0
push    0fffffd3bh
push    dword ptr [edi+4]
call    sub_277b9838
push    1
pop     eax
jmp     loc_27821052
xor     ebx, ebx
push    ebx
push    ebx
push    188h
push    esi
push    [ebp+hwnd]
call    ds:senddlgitemmessagea
push    ebx
push    ebx
push    0c9h
push    eax
jmp     short loc_2782119f
shr     ecx, 10h
cmp     ecx, 1
jz      short loc_27821244
cmp     ecx, 2
jz      short loc_27821230
cmp     ecx, 3
jle     short loc_278211c3
cmp     ecx, 5
jg      short loc_278211c3
lea     eax, [ebp+lparam]
mov     esi, ds:sendmessagea
xor     ebx, ebx
push    eax
push    ebx
push    ebx
push    188h
push    [ebp+arg_c]
call    esi
push    eax
push    198h
push    [ebp+arg_c]
call    esi
cmp     eax, 0ffffffffh
jz      short loc_278211c3
push    ebx
lea     eax, [ebp+lparam]
jmp     loc_2782110d
push    0
push    0cch
push    111h
push    [ebp+hwnd]
jmp     loc_27821126
xor     ebx, ebx
push    ebx
push    ebx
push    188h
push    [ebp+arg_c]
call    ds:sendmessagea
push    0fffffd3eh
push    eax
push    dword ptr [edi+4]
mov     [ebp+hwndmain], eax
call    sub_2781fec9
push    eax
push    [ebp+arg_c]
push    1
push    [ebp+hwnd]
call    sub_27820d6f
push    ebx
push    [ebp+hwndmain]
push    [ebp+arg_c]
push    edi
call    sub_2781fcc6
shr     eax, 10h
not     eax
movzx   esi, ax
shr     esi, 0fh
push    esi
push    [ebp+arg_c]
push    0cch
push    [ebp+hwnd]
call    sub_27820d6f
cmp     esi, ebx
jz      short loc_27821300
mov     eax, [ebp+hwndmain]
push    2
dec     eax
push    ebx
push    eax
push    dword ptr [edi+4]
call    sub_2782025b
test    eax, eax
jl      short loc_27821300
push    1
pop     eax
push    eax
push    [ebp+arg_c]
push    0ceh
push    [ebp+hwnd]
call    sub_27820d6f
cmp     esi, ebx
jz      short loc_278212ea
mov     edi, [edi+4]
mov     eax, [ebp+hwndmain]
push    1
add     eax, 2
push    dword ptr [edi+6ch]
push    eax
push    edi
call    sub_2782025b
test    eax, eax
jl      short loc_278212ea
push    1
pop     ebx
push    ebx
push    [ebp+arg_c]
push    0cfh
push    [ebp+hwnd]
call    sub_27820d6f
jmp     loc_278211c3
xor     eax, eax
jmp     short loc_278212b9
mov     eax, [edi+4]
xor     ebx, ebx
push    ebx
push    0fffffd3fh
mov     esi, [eax]
push    eax
call    sub_277b9838
push    esi
call    sub_2781ff24
push    edi
mov     [edi+4], eax
push    [ebp+hwnd]
mov     [edi+8], ebx
call    sub_278202ca
test    eax, eax
jnz     loc_278211c3
mov     esi, [ebp+hwnd]
push    1
push    esi
call    ds:enddialog
jmp     loc_278211c3
push    [ebp+arg_c]
push    8
push    esi
call    ds:setwindowlonga
push    [ebp+arg_c]
push    esi
call    sub_278202ca
test    eax, eax
jnz     short loc_27821366
push    eax
push    esi
call    ds:enddialog
push    5
push    esi
call    ds:showwindow
push    esi
call    ds:updatewindow
mov     edi, ds:getdlgitem
mov     esi, 0cbh
push    esi
push    [ebp+hwnd]
call    edi
push    eax
call    ds:setfocus
push    esi
push    [ebp+hwnd]
call    edi
push    eax
call    sub_27821c79
push    0c9h
push    [ebp+hwnd]
call    edi
push    eax
call    sub_27821c79
jmp     loc_27821078
push    offset nullsub_2
push    0ah
push    0
push    [ebp+hwndmain]
call    ds:winhelpa
jmp     loc_278211c3
mov     eax, [ebp+arg_c]
push    offset nullsub_2
push    0ch
push    0
push    dword ptr [eax+0ch]
jmp     short loc_278213bb
mov     eax, [ebp+arg_c]
mov     eax, [eax+4]
cmp     eax, 0c9h
jz      short loc_278213ef
cmp     eax, 0cbh
jnz     loc_278211c3
push    eax
push    esi
call    ds:getdlgitem
mov     esi, eax
push    esi
call    ds:getdc
mov     edi, eax
lea     eax, [ebp+hwndmain]
xor     ebx, ebx
push    eax
push    ebx
lea     eax, [ebp+hwnd]
push    1
push    eax
push    edi
mov     byte ptr [ebp+hwnd], 57h
mov     byte ptr [ebp+hwnd+1], bl
call    sub_277bccbe
mov     eax, dword_2782c360
add     eax, 2
cmp     [ebp+hwndmain], eax
jge     short loc_2782142c
mov     [ebp+hwndmain], eax
mov     eax, [ebp+arg_c]
mov     ecx, [ebp+hwndmain]
push    edi
push    esi
mov     [eax+10h], ecx
call    ds:releasedc
jmp     loc_278211c3
push    [ebp+arg_c]
push    edi
call    sub_278206d2
jmp     loc_278211c3
push    ebp
mov     ebp, esp
sub     esp, 0d0h
push    ebx
xor     ebx, ebx
cmp     [ebp+cbdata], ebx
push    esi
push    edi
mov     [ebp+var_4], ebx
jz      loc_27821509
mov     esi, [ebp+lpdata]
mov     edi, [esi+6ch]
shl     edi, 2
push    edi
push    40h
call    ds:localalloc
cmp     eax, ebx
mov     [ebp+lpdata], eax
jz      short loc_278214ff
lea     eax, [ebp+hkey]
push    eax
push    [ebp+lpsubkey]
push    [ebp+hkey]
call    ds:regcreatekeya
test    eax, eax
jnz     short loc_278214f6
cmp     [esi+6ch], ebx
mov     [ebp+lpsubkey], ebx
jle     short loc_278214cf
mov     edx, [ebp+lpdata]
lea     eax, [esi+0f0h]
mov     ecx, [eax]
cmp     ecx, ebx
jnz     short loc_278214bc
mov     cl, [eax+4]
not     cl
movzx   ecx, cl
shr     ecx, 3
or      ecx, 0fffffffeh
inc     [ebp+lpsubkey]
mov     [edx], ecx
mov     ecx, [ebp+lpsubkey]
add     eax, 14h
add     edx, 4
cmp     ecx, [esi+6ch]
jl      short loc_278214a8
push    edi
push    [ebp+lpdata]
push    3
push    ebx
push    [ebp+lpvaluename]
push    [ebp+hkey]
call    ds:regsetvalueexa
test    eax, eax
jnz     short loc_278214ed
mov     [ebp+var_4], 1
push    [ebp+hkey]
call    ds:regclosekey
push    [ebp+lpdata]
call    ds:localfree
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    14h
lea     eax, [ebp+hkey]
push    eax
push    [ebp+lpsubkey]
push    [ebp+hkey]
call    ds:regopenkeya
test    eax, eax
jnz     short loc_278214ff
lea     eax, [ebp+cbdata]
mov     esi, ds:regqueryvalueexa
push    eax
push    ebx
push    ebx
push    ebx
push    [ebp+lpvaluename]
mov     [ebp+cbdata], ebx
push    [ebp+hkey]
call    esi
test    eax, eax
jnz     loc_278217cb
mov     edi, [ebp+cbdata]
cmp     edi, 4
jbe     loc_278217cb
cmp     edi, 800h
jnb     loc_278217cb
push    edi
push    40h
call    ds:localalloc
cmp     eax, ebx
mov     [ebp+hmem], eax
jz      loc_278217cb
lea     ecx, [ebp+var_8]
mov     [ebp+var_8], edi
push    ecx
push    eax
lea     eax, [ebp+type]
push    eax
push    ebx
push    [ebp+lpvaluename]
push    [ebp+hkey]
call    esi
test    eax, eax
jnz     loc_278217c2
cmp     [ebp+type], 3
jnz     loc_278217c2
cmp     [ebp+var_8], edi
jnz     loc_278217c2
shr     edi, 2
mov     esi, edi
mov     edi, [ebp+lpdata]
cmp     edi, ebx
jz      short loc_278215f1
cmp     [edi+28h], ebx
jz      short loc_278215f1
mov     eax, [edi]
cmp     [edi+6ch], ebx
mov     [ebp+lparam], 2ch
mov     [ebp+var_48], eax
mov     [ebp+lpvaluename], ebx
jle     short loc_278215f1
lea     ebx, [edi+0f0h]
test    byte ptr [ebx+5], 1
jnz     short loc_278215e3
mov     eax, [ebx]
mov     [ebp+var_44], eax
lea     eax, [ebp+lparam]
push    eax
push    0
push    405h
push    dword ptr [edi+28h]
call    ds:sendmessagea
inc     [ebp+lpvaluename]
add     ebx, 14h
mov     eax, [ebp+lpvaluename]
cmp     eax, [edi+6ch]
jl      short loc_278215c4
lea     eax, [esi+esi*4]
push    2
lea     eax, ds:0ech[eax*4]
push    eax
push    edi
call    ds:localrealloc
mov     ebx, eax
test    ebx, ebx
jz      loc_278217c2
push    ebx
push    0
push    dword ptr [ebx]
call    ds:setwindowlonga
mov     edx, [ebx+6ch]
cmp     edx, esi
jge     short loc_27821645
mov     eax, esi
sub     eax, edx
lea     edx, [edx+edx*4]
lea     ecx, [eax+eax*4]
lea     edi, [ebx+edx*4+0ech]
shl     ecx, 2
mov     edx, ecx
xor     eax, eax
shr     ecx, 2
rep stosd
mov     ecx, edx
and     ecx, 3
rep stosb
xor     edi, edi
mov     [ebx+6ch], esi
test    esi, esi
jle     short loc_2782168a
mov     esi, [ebp+hmem]
lea     eax, [ebx+0f4h]
mov     ecx, [esi]
test    ecx, ecx
jge     loc_278217d9
mov     byte ptr [eax+1], 1
mov     ecx, ds:dword_277cb998
mov     [eax-8], ecx
and     dword ptr [eax-4], 0
mov     ecx, [esi]
inc     ecx
neg     ecx
sbb     cl, cl
and     ecx, 8
mov     [eax], cl
inc     edi
add     esi, 4
add     eax, 14h
cmp     edi, [ebx+6ch]
jl      short loc_27821657
push    0
push    0fffffd41h
push    ebx
call    sub_277b9838
lea     eax, [ebp+var_d0]
push    80h
push    eax
lea     eax, [ebp+var_24]
lea     esi, [ebx+0f0h]
push    eax
xor     edi, edi
push    dword ptr [esi]
mov     [ebp+lpsubkey], edi
mov     [ebp+var_20], edi
push    edi
push    ebx
call    sub_2781fe75
test    eax, eax
jz      loc_2782175e
mov     [ebp+lpvaluename], esi
test    [ebp+var_1b], 1
jz      short loc_278216d4
cmp     [ebp+var_20], edi
jz      short loc_2782172c
push    [ebp+var_20]
push    ebx
call    sub_2780d56e
cmp     eax, edi
jl      short loc_2782172c
lea     ecx, [eax+eax*4]
push    5
lea     esi, [ebp+var_24]
lea     edi, [ebx+ecx*4+0ech]
pop     ecx
rep movsd
mov     ecx, [ebx+28h]
test    ecx, ecx
jz      short loc_2782172c
add     eax, 0ch
mov     edx, [ebx]
and     [ebp+var_4c], 0
or      [ebp+var_2c], 0ffffffffh
lea     eax, [eax+eax*4]
mov     [ebp+lparam], 2ch
mov     [ebp+var_48], edx
mov     eax, [ebx+eax*4]
mov     [ebp+var_44], eax
lea     eax, [ebp+lparam]
push    eax
push    0
push    404h
push    ecx
call    ds:sendmessagea
add     [ebp+lpvaluename], 14h
lea     eax, [ebp+var_d0]
push    80h
inc     [ebp+lpsubkey]
push    eax
lea     eax, [ebp+var_24]
push    eax
mov     eax, [ebp+lpvaluename]
xor     edi, edi
push    dword ptr [eax]
mov     [ebp+var_20], edi
push    [ebp+lpsubkey]
push    ebx
call    sub_2781fe75
test    eax, eax
jnz     loc_278216c9
push    edi
push    0fffffd40h
push    ebx
call    sub_277b9838
mov     edi, [ebx+6ch]
dec     edi
js      short loc_278217e5
lea     eax, [edi+edi*4]
lea     eax, [ebx+eax*4+0ech]
mov     [ebp+lpvaluename], eax
mov     eax, [ebp+lpvaluename]
xor     esi, esi
cmp     [eax], esi
jge     short loc_2782178e
push    esi
push    edi
push    ebx
call    sub_2780dec6
sub     [ebp+lpvaluename], 14h
dec     edi
cmp     edi, esi
jge     short loc_2782177d
xor     eax, eax
cmp     [ebx+6ch], esi
push    esi
push    esi
push    421h
push    dword ptr [ebx]
setnz   al
mov     [ebp+var_4], eax
call    ds:sendmessagea
push    1
push    esi
push    dword ptr [ebx]
call    ds:invalidaterect
push    ebx
call    sub_2780dc3c
push    [ebp+hmem]
call    ds:localfree
push    [ebp+hkey]
call    ds:regclosekey
jmp     loc_278214ff
mov     [eax-4], ecx
or      dword ptr [eax-8], 0ffffffffh
jmp     loc_2782167e
xor     esi, esi
jmp     short loc_27821797
push    ebp
mov     ebp, esp
sub     esp, 804h
push    ebx
push    esi
mov     esi, [ebp+arg_0]
push    edi
xor     edi, edi
cmp     [esi+30h], edi
mov     ebx, [esi]
jnz     short loc_27821861
mov     eax, [ebp+arg_4]
mov     [ebp+var_800], esi
test    byte ptr [esi+9], 8
mov     [ebp+var_7fc], eax
jz      short loc_27821868
mov     eax, [esi+54h]
push    edi
push    0fffffd41h
push    esi
mov     dword_2782c360, eax
call    sub_277b9838
lea     eax, [ebp+dwinitparam]
push    eax
push    offset sub_27820ff1
push    dword ptr [esi+4]
push    0c8h
call    sub_277bc928
push    eax
call    ds:dialogboxparama
push    edi
push    ebx
call    ds:getwindowlonga
push    edi
push    0fffffd40h
push    eax
mov     [eax+30h], edi
call    sub_277b9838
pop     edi
pop     esi
pop     ebx
leave
retn    8
mov     eax, [esi+5ch]
jmp     short loc_27821819
push    offset aole32dll_0
call    ds:getmodulehandlea
test    eax, eax
jz      short loc_27821888
push    offset aole32dll_1
call    ds:loadlibrarya
retn
xor     eax, eax
retn
push    [esp+hlibmodule]
call    ds:freelibrary
retn    4
push    offset acoinitialize_0
push    [esp+4+hmodule]
call    ds:getprocaddress
push    0
call    eax
retn    4
push    offset acouninitialize_1
push    [esp+4+hmodule]
call    ds:getprocaddress
call    eax
retn    4
push    offset aregisterdragdr
push    [esp+4+hmodule]
call    ds:getprocaddress
push    [esp+arg_8]
push    [esp+4+arg_4]
call    eax
retn    0ch
push    offset arevokedragdrop
push    [esp+4+hmodule]
call    ds:getprocaddress
push    [esp+arg_4]
call    eax
retn    8
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, [ebp+wparam]
push    esi
mov     esi, ds:sendmessagea
test    eax, eax
jge     short loc_27821918
push    0
push    0
push    188h
push    [ebp+hwnd]
call    esi
lea     ecx, [ebp+lparam]
push    ecx
push    eax
push    198h
push    [ebp+hwnd]
call    esi
cmp     eax, 0ffffffffh
jnz     short loc_27821933
xor     eax, eax
pop     esi
leave
retn    18h
push    [ebp+dy]
lea     eax, [ebp+lparam]
push    [ebp+arg_10]
push    eax
call    ds:inflaterect
push    [ebp+pt.y]
lea     eax, [ebp+lparam]
push    [ebp+pt.x]
push    eax
call    ds:ptinrect
jmp     short loc_2782192e
push    ebp
mov     ebp, esp
sub     esp, 18h
mov     ecx, [ebp+hmem]
push    ebx
push    esi
mov     esi, [ebp+hwnd]
mov     edx, [ebp+arg_4]
xor     eax, eax
cmp     [ecx], esi
push    edi
setz    al
mov     [ebp+hwnd], eax
mov     eax, 87h
cmp     edx, eax
ja      short loc_278219e0
jz      short loc_278219c9
cmp     edx, 82h
jnz     short loc_278219b3
xor     ebx, ebx
cmp     [ebp+hwnd], ebx
jz      short loc_27821999
push    ebx
push    ebx
push    204h
push    esi
call    ds:sendmessagea
push    ebx
push    offset sub_27821955
push    esi
call    sub_278121f8
cmp     [ebp+hmem], ebx
jz      short loc_278219b3
push    [ebp+hmem]
call    ds:localfree
push    [ebp+arg_c]
push    [ebp+arg_8]
push    [ebp+arg_4]
push    esi
call    sub_27812262
pop     edi
pop     esi
pop     ebx
leave
retn    18h
cmp     [ebp+hwnd], 0
jz      short loc_278219b3
push    [ebp+arg_c]
push    [ebp+arg_8]
push    eax
push    esi
call    sub_27812262
or      al, 4
jmp     short loc_278219c2
mov     edi, ds:sendmessagea
mov     eax, 113h
cmp     edx, eax
ja      loc_27821b3f
cmp     edx, eax
jz      short loc_27821a29
add     eax, 0ffffffedh
xor     ebx, ebx
cmp     edx, eax
jz      short loc_27821a13
jbe     short loc_278219b3
cmp     edx, 102h
ja      short loc_278219b3
cmp     [ebp+hwnd], ebx
jz      short loc_278219b3
xor     eax, eax
jmp     short loc_278219c2
cmp     [ebp+arg_8], 1bh
jnz     short loc_27821a0a
push    ebx
push    ebx
push    204h
push    esi
call    ds:sendmessagea
jmp     short loc_27821a0a
cmp     [ebp+arg_8], 0eeh
jnz     short loc_278219b3
lea     eax, [ebp+var_8]
push    eax
push    esi
call    sub_27811942
mov     ecx, [ebp+hmem]
mov     [ebp+arg_c], eax
xor     ebx, ebx
cmp     [ebp+hwnd], ebx
jz      loc_278219b3
mov     ecx, [ecx+4]
test    cl, 1
jz      short loc_27821a0f
test    cl, 2
jz      short loc_27821a85
mov     ecx, [ebp+arg_c]
push    4
movsx   eax, word ptr [ebp+arg_c]
shr     ecx, 10h
movsx   ecx, cx
push    ebx
push    ecx
push    eax
push    0ffffffffh
push    esi
mov     [ebp+var_8.x], eax
mov     [ebp+var_8.y], ecx
call    sub_278218f6
test    eax, eax
jnz     short loc_27821a0f
mov     eax, [ebp+hmem]
and     dword ptr [eax+4], 0fffffffdh
mov     [ebp+lparam], 486h
push    esi
call    ds:getparent
mov     [ebp+arg_8], eax
mov     eax, [ebp+arg_c]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
push    esi
mov     [ebp+var_14], esi
mov     [ebp+point.x], ecx
call    ds:clienttoscreen
lea     eax, [ebp+lparam]
push    eax
push    esi
call    ds:getdlgctrlid
push    eax
push    dword_2782c370
push    [ebp+arg_8]
call    edi
cmp     [ebp+arg_4], 201h
jnz     short loc_27821b0c
cmp     eax, ebx
jz      short loc_27821b04
push    ebx
push    32h
push    0eeh
push    esi
call    ds:settimer
mov     eax, [ebp+hmem]
mov     dword ptr [eax+4], 3
mov     eax, [ebp+hmem]
push    esi
mov     [eax], esi
call    ds:setcapture
jmp     loc_27821a0f
mov     eax, [ebp+hmem]
mov     [eax+4], ebx
jmp     short loc_27821af3
dec     eax
jz      short loc_27821b37
dec     eax
jz      short loc_27821b33
dec     eax
jnz     loc_27821a0f
push    69h
push    dword_27828334
call    ds:loadcursora
push    eax
call    ds:setcursor
jmp     loc_27821a0f
push    68h
jmp     short loc_27821b1b
push    7f88h
push    ebx
jmp     short loc_27821b21
mov     eax, edx
sub     eax, 200h
jz      loc_27821a42
dec     eax
jz      loc_27821beb
dec     eax
jz      short loc_27821b5e
dec     eax
dec     eax
jnz     loc_278219b3
xor     ebx, ebx
cmp     [ebp+hwnd], ebx
jz      loc_278219b3
push    0eeh
push    esi
mov     [ecx], ebx
call    ds:killtimer
call    ds:releasecapture
push    7f00h
push    ebx
call    ds:loadcursora
push    eax
call    ds:setcursor
push    esi
call    ds:getparent
mov     edi, eax
xor     eax, eax
cmp     [ebp+arg_4], 202h
mov     [ebp+var_14], esi
setnz   al
add     eax, 487h
mov     [ebp+lparam], eax
mov     eax, [ebp+arg_c]
movsx   ecx, ax
shr     eax, 10h
movsx   eax, ax
mov     [ebp+point.y], eax
lea     eax, [ebp+point]
push    eax
push    esi
mov     [ebp+point.x], ecx
call    ds:clienttoscreen
lea     eax, [ebp+lparam]
push    eax
push    esi
call    ds:getdlgctrlid
push    eax
push    dword_2782c370
push    edi
call    ds:sendmessagea
jmp     loc_27821a0f
xor     ebx, ebx
cmp     [ebp+hwnd], ebx
jz      short loc_27821bfc
push    ebx
push    ebx
push    204h
push    esi
call    edi
push    esi
call    ds:setfocus
movsx   eax, word ptr [ebp+arg_c]
mov     [ebp+var_8.x], eax
mov     eax, [ebp+arg_c]
shr     eax, 10h
movsx   eax, ax
mov     [ebp+var_8.y], eax
lea     eax, [ebp+var_8]
push    eax
push    esi
call    ds:clienttoscreen
push    ebx
push    [ebp+var_8.y]
push    [ebp+var_8.x]
push    esi
call    sub_27821cdf
cmp     eax, ebx
jl      loc_27821b04
push    ebx
push    eax
push    186h
push    esi
call    edi
push    0fffffff0h
push    esi
call    ds:getwindowlonga
test    al, 1
jz      short loc_27821c6d
push    esi
push    esi
call    ds:getdlgctrlid
movzx   eax, ax
or      eax, 10000h
push    eax
push    111h
push    esi
call    ds:getparent
push    eax
call    edi
mov     [ebp+lparam], 485h
jmp     loc_27821a8c
cmp     dword_2782c370, 0
push    esi
push    edi
jnz     short loc_27821c94
push    offset acommctrldragli
call    ds:registerwindowmessagea
mov     dword_2782c370, eax
push    0
mov     esi, offset sub_27821955
push    0
push    esi
push    [esp+14h+hwnd]
call    sub_27812105
test    eax, eax
jnz     short loc_27821cda
push    8
push    40h
call    ds:localalloc
mov     edi, eax
test    edi, edi
jz      short loc_27821cd3
push    edi
push    0
push    esi
push    [esp+14h+hwnd]
call    sub_27812153
test    eax, eax
jnz     short loc_27821cda
push    edi
call    ds:localfree
xor     eax, eax
pop     edi
pop     esi
retn    4
push    1
pop     eax
jmp     short loc_27821cd5
push    ebp
mov     ebp, esp
sub     esp, 14h
push    ebx
push    esi
lea     eax, [ebp+point]
push    edi
push    eax
push    [ebp+hwnd]
call    ds:screentoclient
lea     eax, [ebp+rect]
push    eax
push    [ebp+hwnd]
call    ds:getclientrect
mov     esi, ds:sendmessagea
push    0
push    0
push    18eh
push    [ebp+hwnd]
call    esi
push    [ebp+point.y]
mov     ebx, ds:ptinrect
mov     edi, eax
lea     eax, [ebp+rect]
push    [ebp+point.x]
mov     [ebp+var_4], edi
push    eax
call    ebx
test    eax, eax
jz      short loc_27821d70
lea     eax, [ebp+rect]
push    eax
push    edi
mov     edi, 198h
push    edi
push    [ebp+hwnd]
call    esi
cmp     eax, 0ffffffffh
jz      loc_27821dcd
push    [ebp+point.y]
lea     eax, [ebp+rect]
push    [ebp+point.x]
push    eax
call    ebx
test    eax, eax
jnz     short loc_27821d66
inc     [ebp+var_4]
lea     eax, [ebp+rect]
push    eax
push    [ebp+var_4]
jmp     short loc_27821d3b
mov     eax, [ebp+var_4]
pop     edi
pop     esi
pop     ebx
leave
retn    10h
cmp     [ebp+arg_c], 0
jz      short loc_27821dcd
mov     eax, [ebp+point.x]
cmp     eax, [ebp+rect.right]
jnb     short loc_27821dcd
mov     eax, [ebp+point.y]
test    eax, eax
jg      short loc_27821dd2
dec     edi
push    19h
cdq
pop     ecx
idiv    ecx
push    6
pop     ecx
sub     ecx, eax
mov     eax, 3e8h
cdq
idiv    ecx
mov     ebx, eax
call    ds:gettickcount
mov     ecx, eax
sub     ecx, dword_2782c374
cmp     cx, bx
jbe     short loc_27821dcd
movzx   edx, bx
movzx   ecx, cx
lea     ebx, [edx+edx]
cmp     ecx, ebx
jle     short loc_27821ddf
mov     dword_2782c374, eax
push    0
push    edi
push    197h
push    [ebp+hwnd]
call    esi
or      eax, 0ffffffffh
jmp     short loc_27821d69
mov     ecx, [ebp+rect.bottom]
inc     edi
sub     ecx, eax
mov     eax, ecx
mov     [ebp+point.y], eax
jmp     short loc_27821d86
add     dword_2782c374, edx
jmp     short loc_27821dc0
push    ebp
mov     ebp, esp
sub     esp, 10h
mov     eax, dword_2782c068
push    ebx
push    esi
push    edi
mov     edi, [ebp+wparam]
test    eax, eax
jl      short loc_27821e41
cmp     edi, eax
jz      loc_27821ef3
mov     eax, x.x
mov     ecx, x.y
mov     [ebp+rect.left], eax
add     eax, 10h
mov     [ebp+rect.right], eax
lea     eax, [ebp+rect]
push    1
push    eax
push    [ebp+hwnd]
mov     [ebp+rect.top], ecx
add     ecx, 10h
mov     [ebp+rect.bottom], ecx
call    ds:invalidaterect
push    [ebp+hwnd]
call    ds:updatewindow
or      eax, 0ffffffffh
mov     dword_2782c068, eax
cmp     edi, eax
jz      loc_27821ef3
test    edi, edi
jl      loc_27821ef3
push    96h
push    dword_27828334
call    ds:loadicona
test    eax, eax
mov     [ebp+wparam], eax
jz      loc_27821ef3
mov     ebx, [ebp+arg_4]
lea     eax, [ebp+rect]
push    eax
push    ebx
call    ds:getwindowrect
mov     esi, ds:screentoclient
lea     eax, [ebp+rect]
push    eax
push    ebx
call    esi
mov     eax, [ebp+rect.left]
add     eax, 0fffffff0h
mov     x.x, eax
lea     eax, [ebp+rect]
push    eax
push    edi
push    198h
push    ebx
call    ds:sendmessagea
mov     eax, [ebp+rect.top]
mov     dword_2782c068, edi
mov     edi, offset x
add     eax, 0fffffff8h
push    edi
push    ebx
mov     x.y, eax
call    ds:clienttoscreen
push    edi
push    [ebp+hwnd]
call    esi
push    [ebp+hwnd]
call    ds:getdc
push    [ebp+wparam]
mov     esi, eax
push    x.y
push    x.x
push    esi
call    ds:drawicon
push    esi
push    [ebp+hwnd]
call    ds:releasedc
pop     edi
pop     esi
pop     ebx
leave
retn    0ch
mov     eax, dword_2782c378
cmp     eax, 1
jz      short loc_27821f11
test    eax, eax
jnz     short loc_27821f16
cmp     dword_2782600c, 1
jnz     short loc_27821f16
call    sub_27822276
mov     eax, [esp+arg_0]
push    eax
call    sub_278222b3
add     esp, 4
push    0ffh
call    off_2782c06c
add     esp, 4
retn
push    ebp
mov     ebp, esp
push    ebx
push    esi
push    edi
push    ebp
push    0
push    0
push    offset loc_27821f4a
push    [ebp+targetframe]
call    rtlunwind
pop     ebp
pop     edi
pop     esi
pop     ebx
mov     esp, ebp
pop     ebp
retn
mov     ecx, [esp+arg_0]
test    dword ptr [ecx+4], 6
mov     eax, 1
jz      short locret_27821f73
mov     eax, [esp+arg_4]
mov     edx, [esp+arg_c]
mov     [edx], eax
mov     eax, 3
retn
push    ebx
push    esi
push    edi
mov     eax, [esp+0ch+arg_0]
push    eax
push    0fffffffeh
push    offset sub_27821f52
push    large dword ptr fs:0
mov     large fs:0, esp
mov     eax, [esp+1ch+arg_0]
mov     ebx, [eax+8]
mov     esi, [eax+0ch]
cmp     esi, 0ffffffffh
jz      short loc_27821fce
cmp     esi, [esp+1ch+arg_4]
jz      short loc_27821fce
lea     esi, [esi+esi*2]
mov     ecx, [ebx+esi*4]
mov     [esp+1ch+var_14], ecx
mov     [eax+0ch], ecx
cmp     dword ptr [ebx+esi*4+4], 0
jnz     short loc_27821f91
push    101h
mov     eax, [ebx+esi*4+8]
call    sub_27821fdc
call    dword ptr [ebx+esi*4+8]
jmp     short loc_27821f91
pop     large dword ptr fs:0
add     esp, 0ch
pop     edi
pop     esi
pop     ebx
retn
push    ebx
push    ecx
mov     ebx, offset dword_2782c070
mov     ecx, [ebp+8]
mov     [ebx+8], ecx
mov     [ebx+4], eax
mov     [ebx+0ch], ebp
pop     ecx
pop     ebx
retn    4
push    ebp
mov     ebp, esp
sub     esp, 8
push    ebx
push    esi
push    edi
push    ebp
cld
mov     ebx, [ebp+targetframe]
mov     eax, [ebp+arg_0]
test    dword ptr [eax+4], 6
jnz     loc_2782209a
mov     [ebp+var_8], eax
mov     eax, [ebp+arg_8]
mov     [ebp+var_4], eax
lea     eax, [ebp+var_8]
mov     [ebx-4], eax
mov     esi, [ebx+0ch]
mov     edi, [ebx+8]
cmp     esi, 0ffffffffh
jz      short loc_27822093
lea     ecx, [esi+esi*2]
cmp     dword ptr [edi+ecx*4+4], 0
jz      short loc_2782207b
push    esi
push    ebp
lea     ebp, [ebx+10h]
call    dword ptr [edi+ecx*4+4]
pop     ebp
pop     esi
mov     ebx, [ebp+targetframe]
or      eax, eax
jz      short loc_2782207b
js      short loc_27822086
mov     edi, [ebx+8]
push    ebx
call    sub_27821f32
add     esp, 4
lea     ebp, [ebx+10h]
push    esi
push    ebx
call    sub_27821f74
add     esp, 8
lea     ecx, [esi+esi*2]
push    1
mov     eax, [edi+ecx*4+8]
call    sub_27821fdc
mov     eax, [edi+ecx*4]
mov     [ebx+0ch], eax
call    dword ptr [edi+ecx*4+8]
mov     edi, [ebx+8]
lea     ecx, [esi+esi*2]
mov     esi, [edi+ecx*4]
jmp     short loc_27822027
mov     eax, 0
pop     ebp
pop     edi
pop     esi
pop     ebx
mov     esp, ebp
pop     ebp
retn
mov     eax, 1
jmp     short loc_2782208b
push    ebp
lea     ebp, [ebx+10h]
push    0ffffffffh
push    ebx
call    sub_27821f74
add     esp, 8
pop     ebp
mov     eax, 1
jmp     short loc_2782208b
mov     eax, [esp+uexitcode]
push    0
push    1
push    eax
call    sub_277b2362
add     esp, 0ch
retn
push    esi
push    edi
call    ds:getlasterror
mov     edi, eax
mov     eax, dwtlsindex
push    eax
call    ds:tlsgetvalue
mov     esi, eax
test    esi, esi
jnz     short loc_27822131
push    74h
push    1
call    sub_277b28f5
mov     esi, eax
add     esp, 8
test    esi, esi
jz      short loc_27822127
mov     ecx, dwtlsindex
push    esi
push    ecx
call    ds:tlssetvalue
test    eax, eax
jz      short loc_27822127
push    esi
call    sub_277b2986
add     esp, 4
call    ds:getcurrentthreadid
push    edi
mov     [esi], eax
mov     dword ptr [esi+4], 0ffffffffh
call    ds:setlasterror
mov     eax, esi
pop     edi
pop     esi
retn
push    10h
call    sub_27821efa
add     esp, 4
push    edi
call    ds:setlasterror
mov     eax, esi
pop     edi
pop     esi
retn
mov     eax, dwtlsindex
cmp     eax, 0ffffffffh
jz      locret_278221d9
push    esi
mov     esi, [esp+4+lpmem]
test    esi, esi
jnz     short loc_27822161
push    eax
call    ds:tlsgetvalue
mov     esi, eax
test    esi, esi
jz      short loc_278221ca
mov     eax, [esi+24h]
test    eax, eax
jz      short loc_27822171
push    eax
call    sub_277b1b1b
add     esp, 4
mov     eax, [esi+28h]
test    eax, eax
jz      short loc_27822181
push    eax
call    sub_277b1b1b
add     esp, 4
mov     eax, [esi+30h]
test    eax, eax
jz      short loc_27822191
push    eax
call    sub_277b1b1b
add     esp, 4
mov     eax, [esi+38h]
test    eax, eax
jz      short loc_278221a1
push    eax
call    sub_277b1b1b
add     esp, 4
mov     eax, [esi+40h]
test    eax, eax
jz      short loc_278221b1
push    eax
call    sub_277b1b1b
add     esp, 4
mov     eax, [esi+44h]
test    eax, eax
jz      short loc_278221c1
push    eax
call    sub_277b1b1b
add     esp, 4
push    esi
call    sub_277b1b1b
add     esp, 4
mov     eax, dwtlsindex
push    0
push    eax
call    ds:tlssetvalue
pop     esi
retn
mov     eax, [esp+arg_0]
add     eax, 0fffffc5ch
cmp     eax, 12h
ja      short def_278221f0
xor     ecx, ecx
mov     cl, ds:byte_2782222c[eax]
jmp     ds:jpt_278221f0[ecx*4]
mov     eax, 411h
retn
mov     eax, 804h
retn
mov     eax, 412h
retn
mov     eax, 404h
retn
xor     eax, eax
retn
push    edi
mov     ecx, 40h
xor     eax, eax
mov     edi, offset byte_27828a58
rep stosd
stosb
xor     eax, eax
pop     edi
mov     dword_27828b5c, eax
mov     dword_27828b60, eax
mov     dword_27828b68, eax
mov     dword_27828b6c, eax
mov     dword_27828b70, eax
retn
mov     eax, [esp+arg_0]
mov     dword_2782600c, eax
retn
mov     eax, dword_2782c378
cmp     eax, 1
jz      short loc_2782228d
test    eax, eax
jnz     short locret_278222b2
cmp     dword_2782600c, 1
jnz     short locret_278222b2
push    0fch
call    sub_278222b3
mov     eax, dword_2782c37c
add     esp, 4
test    eax, eax
jz      short loc_278222a5
call    eax
push    0ffh
call    sub_278222b3
add     esp, 4
retn
mov     ecx, [esp+arg_0]
sub     esp, 1a8h
mov     eax, offset dword_2782c088
push    ebx
push    ebp
push    esi
push    edi
xor     ebp, ebp
cmp     ecx, [eax]
jz      short loc_278222d7
add     eax, 8
inc     ebp
cmp     eax, offset dword_2782c118
jb      short loc_278222c8
cmp     ecx, dword_2782c088[ebp*8]
jnz     loc_2782247e
mov     eax, dword_2782c378
cmp     eax, 1
jz      loc_27822440
test    eax, eax
jnz     short loc_27822303
cmp     dword_2782600c, 1
jz      loc_27822440
cmp     ecx, 0fch
jz      loc_2782247e
lea     eax, [esp+1b8h+filename]
push    104h
push    eax
push    0
call    ds:getmodulefilenamea
test    eax, eax
jnz     short loc_2782233e
mov     ecx, 5
mov     esi, offset aprogramnameunk
lea     edi, [esp+1b8h+filename]
rep movsd
movsw
movsb
lea     edi, [esp+1b8h+filename]
or      ecx, 0ffffffffh
xor     eax, eax
lea     ebx, [esp+1b8h+filename]
repne scasb
not     ecx
cmp     ecx, 3ch
jbe     short loc_27822387
lea     edi, [esp+1b8h+filename]
or      ecx, 0ffffffffh
repne scasb
not     ecx
dec     ecx
push    3
mov     ebx, ecx
lea     ecx, [esp+1bch+filename]
sub     ecx, 3bh
push    offset asc_277cbe94
add     ebx, ecx
push    ebx
call    sub_278226ac
add     esp, 0ch
mov     ecx, 6
mov     esi, offset aruntimeerrorpr
lea     edi, [esp+1b8h+var_1a4]
xor     eax, eax
rep movsd
movsw
or      ecx, 0ffffffffh
mov     edi, ebx
repne scasb
not     ecx
sub     edi, ecx
lea     edx, [esp+1b8h+var_1a4]
mov     ebx, ecx
mov     esi, edi
or      ecx, 0ffffffffh
mov     edi, edx
repne scasb
mov     ecx, ebx
dec     edi
shr     ecx, 2
rep movsd
mov     ecx, ebx
lea     edx, [esp+1b8h+var_1a4]
and     ecx, 3
push    12010h
rep movsb
mov     edi, offset asc_277cbe72
or      ecx, 0ffffffffh
repne scasb
not     ecx
sub     edi, ecx
push    offset amicrosoftvisua
mov     esi, edi
mov     ebx, ecx
mov     edi, edx
or      ecx, 0ffffffffh
repne scasb
mov     ecx, ebx
dec     edi
shr     ecx, 2
rep movsd
mov     ecx, ebx
lea     edx, [esp+1c0h+var_1a4]
and     ecx, 3
rep movsb
mov     edi, lpbuffer[ebp*8]
or      ecx, 0ffffffffh
repne scasb
not     ecx
sub     edi, ecx
mov     esi, edi
mov     ebx, ecx
mov     edi, edx
or      ecx, 0ffffffffh
repne scasb
mov     ecx, ebx
dec     edi
shr     ecx, 2
rep movsd
mov     ecx, ebx
lea     eax, [esp+1c0h+var_1a4]
and     ecx, 3
push    eax
rep movsb
call    sub_2782261d
add     esp, 0ch
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 1a8h
retn
mov     eax, dword_278281a0
test    eax, eax
jz      short loc_27822451
mov     esi, [eax+48h]
cmp     esi, 0ffffffffh
jnz     short loc_2782245b
push    0fffffff4h
call    ds:getstdhandle
mov     esi, eax
mov     edx, lpbuffer[ebp*8]
lea     ecx, [esp+1b8h+numberofbyteswritten]
push    0
push    ecx
mov     edi, edx
or      ecx, 0ffffffffh
xor     eax, eax
repne scasb
not     ecx
dec     ecx
push    ecx
push    edx
push    esi
call    ds:writefile
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 1a8h
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
cmp     eax, offset off_27828ca8
jb      short loc_278224b3
cmp     eax, offset dword_27828f08
ja      short loc_278224b3
sub     eax, offset off_27828ca8
sar     eax, 5
add     eax, 1ch
push    eax
call    sub_277b1911
add     esp, 4
pop     ebp
retn
add     eax, 20h
push    eax
call    ds:entercriticalsection
pop     ebp
retn
push    ebp
mov     ebp, esp
mov     eax, [ebp+arg_0]
cmp     eax, offset off_27828ca8
jb      short loc_278224e9
cmp     eax, offset dword_27828f08
ja      short loc_278224e9
sub     eax, offset off_27828ca8
sar     eax, 5
add     eax, 1ch
push    eax
call    sub_277b1a64
add     esp, 4
pop     ebp
retn
add     eax, 20h
push    eax
call    ds:leavecriticalsection
pop     ebp
retn
push    esi
mov     esi, [esp+4+lpmem]
push    8000h
push    0
mov     eax, [esi+10h]
push    eax
call    ds:virtualfree
cmp     off_27828194, esi
jnz     short loc_2782251c
mov     ecx, [esi+4]
mov     off_27828194, ecx
cmp     esi, offset off_27826048
jz      short loc_27822544
mov     edx, [esi+4]
mov     eax, [esi]
push    esi
push    0
mov     [edx], eax
mov     ecx, [esi]
mov     edx, [esi+4]
mov     [ecx+4], edx
mov     eax, hheap
push    eax
call    ds:heapfree
pop     esi
retn
mov     dword_27826058, 0ffffffffh
pop     esi
retn
push    ebx
push    ebp
push    esi
push    edi
mov     edi, off_2782604c
cmp     dword ptr [edi+10h], 0ffffffffh
jz      loc_27822604
xor     ebp, ebp
lea     esi, [edi+2010h]
mov     ebx, 3ff000h
cmp     dword ptr [esi], 0f0h
jnz     short loc_278225c0
mov     eax, [edi+10h]
push    4000h
add     eax, ebx
push    1000h
push    eax
call    ds:virtualfree
test    eax, eax
jz      short loc_278225c0
mov     dword ptr [esi], 0ffffffffh
mov     edx, dword_2782c384
dec     edx
mov     dword_2782c384, edx
mov     eax, [edi+0ch]
test    eax, eax
jz      short loc_278225b1
cmp     eax, esi
jbe     short loc_278225b4
mov     [edi+0ch], esi
mov     eax, [esp+10h+arg_0]
inc     ebp
dec     eax
mov     [esp+10h+arg_0], eax
jz      short loc_278225cd
sub     ebx, 1000h
sub     esi, 8
test    ebx, ebx
jge     short loc_27822571
mov     edx, edi
mov     edi, [edi+4]
test    ebp, ebp
jz      short loc_27822604
cmp     dword ptr [edx+18h], 0ffffffffh
jnz     short loc_27822604
mov     eax, 1
lea     ecx, [edx+20h]
cmp     dword ptr [ecx], 0ffffffffh
jnz     short loc_278225f4
inc     eax
add     ecx, 8
cmp     eax, 400h
jl      short loc_278225e4
cmp     eax, 400h
jnz     short loc_27822604
push    edx
call    sub_278224f5
add     esp, 4
cmp     edi, off_2782604c
jz      short loc_27822618
mov     eax, [esp+10h+arg_0]
test    eax, eax
jg      loc_2782255a
pop     edi
pop     esi
pop     ebp
pop     ebx
retn
mov     eax, dword_2782c388
push    ebx
xor     ebx, ebx
push    esi
test    eax, eax
push    edi
jnz     short loc_2782266d
push    offset auser32dll_0
call    ds:loadlibrarya
mov     esi, eax
test    esi, esi
jz      short loc_278226a6
mov     edi, ds:getprocaddress
push    offset amessageboxa
push    esi
call    edi
test    eax, eax
mov     dword_2782c388, eax
jz      short loc_278226a6
push    offset agetactivewindo
push    esi
call    edi
push    offset agetlastactivep
push    esi
mov     dword_2782c38c, eax
call    edi
mov     dword_2782c390, eax
mov     eax, dword_2782c38c
test    eax, eax
jz      short loc_2782267a
call    eax
mov     ebx, eax
test    ebx, ebx
jz      short loc_2782268c
mov     eax, dword_2782c390
test    eax, eax
jz      short loc_2782268c
push    ebx
call    eax
mov     ebx, eax
mov     eax, [esp+0ch+arg_8]
mov     ecx, [esp+0ch+arg_4]
mov     edx, [esp+0ch+arg_0]
push    eax
push    ecx
push    edx
push    ebx
call    dword_2782c388
pop     edi
pop     esi
pop     ebx
retn
pop     edi
pop     esi
xor     eax, eax
pop     ebx
retn
mov     ecx, [esp+arg_8]
push    edi
test    ecx, ecx
jz      short loc_2782272b
push    esi
push    ebx
mov     ebx, ecx
mov     esi, [esp+0ch+arg_4]
test    esi, 3
mov     edi, [esp+0ch+arg_0]
jnz     short loc_278226dd
shr     ecx, 2
jnz     short loc_27822739
mov     al, [esi]
inc     esi
mov     [edi], al
inc     edi
test    al, al
jz      short loc_27822726
dec     ebx
jz      short loc_278226fe
jmp     short loc_278226ce
mov     al, [esi]
inc     esi
mov     [edi], al
inc     edi
dec     ecx
jz      short loc_278226fe
test    al, al
jz      short loc_27822706
test    esi, 3
jnz     short loc_278226dd
mov     ebx, ecx
shr     ecx, 2
jnz     short loc_27822739
and     ebx, 3
jnz     short loc_278226ce
mov     eax, [esp+0ch+arg_0]
pop     ebx
pop     esi
pop     edi
retn
test    edi, 3
jz      short loc_2782271c
mov     [edi], al
inc     edi
dec     ecx
jz      short loc_27822784
test    edi, 3
jnz     short loc_2782270e
mov     ebx, ecx
shr     ecx, 2
jnz     short loc_27822775
mov     [edi], al
inc     edi
dec     ebx
jnz     short loc_27822723
pop     ebx
pop     esi
mov     eax, [esp+4+arg_0]
pop     edi
retn
mov     [edi], edx
add     edi, 4
dec     ecx
jz      short loc_278226f9
mov     edx, 7efefeffh
mov     eax, [esi]
add     edx, eax
xor     eax, 0ffffffffh
xor     eax, edx
mov     edx, [esi]
add     esi, 4
test    eax, 81010100h
jz      short loc_27822731
test    dl, dl
jz      short loc_278227a0
test    dh, dh
jz      short loc_27822796
test    edx, 0ff0000h
jz      short loc_2782278c
test    edx, 0ff000000h
jnz     short loc_27822731
mov     [edi], edx
add     edi, 4
xor     eax, eax
dec     ecx
jz      short loc_2782277f
xor     eax, eax
mov     [edi], eax
add     edi, 4
dec     ecx
jnz     short loc_27822777
and     ebx, 3
jnz     short loc_27822723
mov     eax, [esp+0ch+arg_0]
pop     ebx
pop     esi
pop     edi
retn
and     edx, 0ffffh
mov     [edi], edx
jmp     short loc_2782276d
and     edx, 0ffh
mov     [edi], edx
jmp     short loc_2782276d
xor     edx, edx
mov     [edi], edx
jmp     short loc_2782276d
mov     eax, dword_2782c394
test    eax, eax
jz      short loc_278227c3
mov     ecx, [esp+arg_0]
push    ecx
call    eax
add     esp, 4
test    eax, eax
jz      short loc_278227c3
mov     eax, 1
retn
xor     eax, eax
retn
push    esi
mov     esi, [esp+4+arg_0]
push    edi
or      edi, 0ffffffffh
test    byte ptr [esi+0ch], 40h
jz      short loc_278227e1
mov     dword ptr [esi+0ch], 0
mov     eax, edi
pop     edi
pop     esi
retn
push    esi
call    sub_27822489
add     esp, 4
push    esi
call    sub_27822803
add     esp, 4
mov     edi, eax
push    esi
call    sub_278224bf
add     esp, 4
mov     eax, edi
pop     edi
pop     esi
retn
push    esi
mov     esi, [esp+4+arg_0]
push    edi
or      edi, 0ffffffffh
test    byte ptr [esi+0ch], 83h
jz      short loc_2782285c
push    esi
call    sub_277b253f
add     esp, 4
mov     edi, eax
push    esi
call    sub_27822c79
mov     eax, [esi+10h]
add     esp, 4
push    eax
call    sub_27822b81
add     esp, 4
test    eax, eax
jge     short loc_27822845
or      edi, 0ffffffffh
mov     dword ptr [esi+0ch], 0
mov     eax, edi
pop     edi
pop     esi
retn
mov     eax, [esi+1ch]
test    eax, eax
jz      short loc_2782285c
push    eax
call    sub_277b1b1b
add     esp, 4
mov     dword ptr [esi+1ch], 0
mov     eax, edi
mov     dword ptr [esi+0ch], 0
pop     edi
pop     esi
retn
mov     eax, unumber
push    ebp
push    esi
push    edi
mov     edi, [esp+0ch+arg_0]
cmp     edi, eax
jnb     short loc_278228f4
mov     eax, edi
sar     eax, 5
lea     ebp, dword_278281a0[eax*4]
mov     eax, edi
and     eax, 1fh
mov     ecx, [ebp+0]
lea     esi, [eax+eax*8]
shl     esi, 2
test    byte ptr [ecx+esi+4], 1
jz      short loc_278228f4
push    edi
call    sub_27822d88
mov     edx, [ebp+0]
add     esp, 4
test    byte ptr [edx+esi+4], 1
jz      short loc_278228d3
push    edi
call    sub_27822d3f
add     esp, 4
push    eax
call    ds:flushfilebuffers
test    eax, eax
jnz     short loc_278228f0
call    ds:getlasterror
mov     esi, eax
test    esi, esi
jz      short loc_278228e1
call    sub_27822e8b
mov     [eax], esi
call    sub_27822e82
mov     dword ptr [eax], 9
or      esi, 0ffffffffh
push    edi
call    sub_27822ded
add     esp, 4
mov     eax, esi
pop     edi
pop     esi
pop     ebp
retn
xor     esi, esi
jmp     short loc_278228c8
call    sub_27822e82
pop     edi
mov     dword ptr [eax], 9
pop     esi
or      eax, 0ffffffffh
pop     ebp
retn
mov     eax, unumber
push    esi
mov     esi, [esp+4+arg_0]
push    edi
cmp     esi, eax
jnb     short loc_2782295c
mov     eax, esi
mov     ecx, esi
and     eax, 1fh
sar     ecx, 5
lea     edx, [eax+eax*8]
mov     eax, dword_278281a0[ecx*4]
test    byte ptr [eax+edx*4+4], 1
jz      short loc_2782295c
push    esi
call    sub_27822d88
mov     ecx, [esp+0ch+nnumberofbytestowrite]
mov     edx, [esp+0ch+lpbuffer]
add     esp, 4
push    ecx
push    edx
push    esi
call    sub_27822978
add     esp, 0ch
mov     edi, eax
push    esi
call    sub_27822ded
add     esp, 4
mov     eax, edi
pop     edi
pop     esi
retn
call    sub_27822e82
mov     dword ptr [eax], 9
call    sub_27822e8b
mov     dword ptr [eax], 0
pop     edi
or      eax, 0ffffffffh
pop     esi
retn
sub     esp, 41ch
push    ebx
mov     ebx, [esp+420h+nnumberofbytestowrite]
push    ebp
xor     ebp, ebp
push    esi
cmp     ebx, ebp
push    edi
mov     [esp+42ch+var_41c], ebp
mov     [esp+42ch+var_40c], ebp
jnz     short loc_278229a4
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 41ch
retn
mov     ecx, [esp+42ch+arg_0]
mov     eax, ecx
sar     eax, 5
lea     edi, dword_278281a0[eax*4]
mov     eax, ecx
and     eax, 1fh
mov     [esp+42ch+var_408], edi
mov     edx, [edi]
lea     esi, [eax+eax*8]
shl     esi, 2
mov     [esp+42ch+var_418], esi
test    byte ptr [esi+edx+4], 20h
jz      short loc_278229df
push    2
push    ebp
push    ecx
call    sub_27822e94
add     esp, 0ch
mov     eax, [edi]
add     eax, esi
test    byte ptr [eax+4], 80h
jz      loc_27822b41
mov     ebp, [esp+42ch+lpbuffer]
mov     [esp+42ch+var_414], 0
test    ebx, ebx
mov     edi, ebp
jbe     loc_27822a89
lea     eax, [esp+42ch+buffer]
mov     ecx, edi
sub     ecx, ebp
cmp     ecx, ebx
jnb     short loc_27822a3a
mov     cl, [edi]
inc     edi
cmp     cl, 0ah
jnz     short loc_27822a27
mov     esi, [esp+42ch+var_40c]
mov     byte ptr [eax], 0dh
inc     esi
inc     eax
mov     [esp+42ch+var_40c], esi
mov     [eax], cl
inc     eax
mov     edx, eax
lea     ecx, [esp+42ch+buffer]
sub     edx, ecx
cmp     edx, 400h
jl      short loc_27822a0a
mov     esi, eax
lea     edx, [esp+42ch+buffer]
lea     eax, [esp+42ch+numberofbyteswritten]
sub     esi, edx
mov     edx, [esp+42ch+var_408]
push    0
push    eax
lea     ecx, [esp+434h+buffer]
mov     eax, [edx]
push    esi
push    ecx
mov     ecx, [esp+43ch+var_418]
mov     edx, [ecx+eax]
push    edx
call    ds:writefile
test    eax, eax
jz      loc_27822b32
mov     eax, [esp+42ch+numberofbyteswritten]
mov     edx, [esp+42ch+var_41c]
add     edx, eax
cmp     eax, esi
mov     [esp+42ch+var_41c], edx
jl      short loc_27822a85
mov     eax, edi
sub     eax, ebp
cmp     eax, ebx
jb      short loc_27822a06
mov     esi, [esp+42ch+var_418]
mov     eax, [esp+42ch+var_41c]
test    eax, eax
jnz     loc_27822b21
mov     eax, [esp+42ch+var_414]
test    eax, eax
jz      short loc_27822add
cmp     eax, 5
jnz     short loc_27822ac6
call    sub_27822e82
mov     dword ptr [eax], 9
call    sub_27822e8b
mov     dword ptr [eax], 5
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 41ch
retn
push    eax
call    sub_27822e0f
add     esp, 4
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 41ch
retn
mov     ecx, [esp+42ch+var_408]
mov     edx, [ecx]
test    byte ptr [esi+edx+4], 40h
jz      short loc_27822afd
cmp     byte ptr [ebp+0], 1ah
jnz     short loc_27822afd
xor     eax, eax
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 41ch
retn
call    sub_27822e82
mov     dword ptr [eax], 1ch
call    sub_27822e8b
mov     dword ptr [eax], 0
or      eax, 0ffffffffh
pop     edi
pop     esi
pop     ebp
pop     ebx
add     esp, 41ch
retn
mov     ecx, [esp+42ch+var_40c]
pop     edi
pop     esi
pop     ebp
sub     eax, ecx
pop     ebx
add     esp, 41ch
retn
call    ds:getlasterror
mov     [esp+42ch+var_414], eax
jmp     loc_27822a85
mov     edx, [eax]
lea     ecx, [esp+42ch+numberofbyteswritten]
push    ebp
mov     ebp, [esp+430h+lpbuffer]
push    ecx
push    ebx
push    ebp
push    edx
call    ds:writefile
test    eax, eax
jz      short loc_27822b72
mov     eax, [esp+42ch+numberofbyteswritten]
mov     [esp+42ch+var_414], 0
mov     [esp+42ch+var_41c], eax
jmp     loc_27822a89
call    ds:getlasterror
mov     [esp+42ch+var_414], eax
jmp     loc_27822a89
mov     eax, unumber
push    esi
mov     esi, [esp+4+arg_0]
push    edi
cmp     esi, eax
jnb     short loc_27822bcd
mov     eax, esi
mov     ecx, esi
and     eax, 1fh
sar     ecx, 5
lea     edx, [eax+eax*8]
mov     eax, dword_278281a0[ecx*4]
test    byte ptr [eax+edx*4+4], 1
jz      short loc_27822bcd
push    esi
call    sub_27822d88
add     esp, 4
push    esi
call    sub_27822be9
add     esp, 4
mov     edi, eax
push    esi
call    sub_27822ded
add     esp, 4
mov     eax, edi
pop     edi
pop     esi
retn
call    sub_27822e82
mov     dword ptr [eax], 9
call    sub_27822e8b
mov     dword ptr [eax], 0
pop     edi
or      eax, 0ffffffffh
pop     esi
retn
push    esi
mov     esi, [esp+4+arg_0]
push    edi
push    esi
call    sub_27822d3f
add     esp, 4
cmp     eax, 0ffffffffh
jz      short loc_27822c70
cmp     esi, 1
jz      short loc_27822c07
cmp     esi, 2
jnz     short loc_27822c21
push    1
call    sub_27822d3f
add     esp, 4
mov     edi, eax
push    2
call    sub_27822d3f
add     esp, 4
cmp     edi, eax
jz      short loc_27822c70
push    esi
call    sub_27822d3f
add     esp, 4
push    eax
call    ds:closehandle
test    eax, eax
jnz     short loc_27822c70
call    ds:getlasterror
mov     edi, eax
push    esi
call    sub_27822cac
mov     eax, esi
and     esi, 1fh
sar     eax, 5
lea     ecx, [esi+esi*8]
add     esp, 4
mov     edx, dword_278281a0[eax*4]
test    edi, edi
mov     byte ptr [edx+ecx*4+4], 0
jz      short loc_27822c74
push    edi
call    sub_27822e0f
add     esp, 4
or      eax, 0ffffffffh
pop     edi
pop     esi
retn
xor     edi, edi
jmp     short loc_27822c3d
pop     edi
xor     eax, eax
pop     esi
retn
push    esi
mov     esi, [esp+4+arg_0]
mov     eax, [esi+0ch]
test    al, 83h
jz      short loc_27822caa
test    al, 8
jz      short loc_27822caa
mov     eax, [esi+8]
push    eax
call    sub_277b1b1b
mov     eax, [esi+0ch]
add     esp, 4
and     eax, 0fffffbf7h
mov     [esi+0ch], eax
xor     eax, eax
mov     [esi], eax
mov     [esi+8], eax
mov     [esi+4], eax
pop     esi
retn
mov     ecx, [esp+arg_0]
mov     eax, unumber
push    ebx
push    esi
cmp     ecx, eax
push    edi
jnb     short loc_27822d22
mov     eax, ecx
sar     eax, 5
lea     edi, dword_278281a0[eax*4]
mov     eax, ecx
and     eax, 1fh
mov     edx, [edi]
lea     esi, [eax+eax*8]
shl     esi, 2
mov     bl, [edx+esi+4]
lea     eax, [edx+esi]
mov     edx, 1
test    dl, bl
jz      short loc_27822d22
cmp     dword ptr [eax], 0ffffffffh
jz      short loc_27822d22
cmp     dword_2782600c, edx
jnz     short loc_27822d07
sub     ecx, 0
jz      short loc_27822d1c
dec     ecx
jz      short loc_27822d16
dec     ecx
jnz     short loc_27822d07
push    0
push    0fffffff4h
call    ds:setstdhandle
mov     eax, [edi]
mov     dword ptr [eax+esi], 0ffffffffh
xor     eax, eax
pop     edi
pop     esi
pop     ebx
retn
push    0
push    0fffffff5h
jmp     short loc_27822d01
push    0
push    0fffffff6h
jmp     short loc_27822d01
call    sub_27822e82
mov     dword ptr [eax], 9
call    sub_27822e8b
pop     edi
mov     dword ptr [eax], 0
pop     esi
or      eax, 0ffffffffh
pop     ebx
retn
mov     eax, [esp+arg_0]
mov     ecx, unumber
cmp     eax, ecx
jnb     short loc_27822d6e
mov     ecx, eax
and     eax, 1fh
sar     ecx, 5
lea     edx, [eax+eax*8]
mov     eax, dword_278281a0[ecx*4]
mov     cl, [eax+edx*4+4]
lea     eax, [eax+edx*4]
test    cl, 1
jz      short loc_27822d6e
mov     eax, [eax]
retn
call    sub_27822e82
mov     dword ptr [eax], 9
call    sub_27822e8b
mov     dword ptr [eax], 0
or      eax, 0ffffffffh
retn
mov     eax, [esp+arg_0]
push    ebx
mov     ecx, eax
and     eax, 1fh
sar     ecx, 5
push    esi
push    edi
mov     esi, dword_278281a0[ecx*4]
lea     ebx, dword_278281a0[ecx*4]
lea     edi, [eax+eax*8]
shl     edi, 2
add     esi, edi
mov     eax, [esi+8]
test    eax, eax
jnz     short loc_27822ddc
push    11h
call    sub_277b1911
mov     eax, [esi+8]
add     esp, 4
test    eax, eax
jnz     short loc_27822dd2
lea     edx, [esi+0ch]
push    edx
call    ds:initializecriticalsection
inc     dword ptr [esi+8]
push    11h
call    sub_277b1a64
add     esp, 4
mov     eax, [ebx]
lea     ecx, [eax+edi+0ch]
push    ecx
call    ds:entercriticalsection
pop     edi
pop     esi
pop     ebx
retn
mov     eax, [esp+arg_0]
mov     ecx, eax
and     eax, 1fh
sar     ecx, 5
lea     edx, [eax+eax*8]
mov     eax, dword_278281a0[ecx*4]
lea     ecx, [eax+edx*4+0ch]
push    ecx
call    ds:leavecriticalsection
retn
push    esi
call    sub_27822e8b
mov     ecx, [esp+4+arg_0]
xor     esi, esi
mov     [eax], ecx
mov     eax, offset dword_2782c118
cmp     ecx, [eax]
jz      short loc_27822e72
add     eax, 8
inc     esi
cmp     eax, offset dword_2782c280
jb      short loc_27822e22
cmp     ecx, 13h
jb      short loc_27822e48
cmp     ecx, 24h
ja      short loc_27822e48
call    sub_27822e82
mov     dword ptr [eax], 0dh
pop     esi
retn
cmp     ecx, 0bch
jb      short loc_27822e65
cmp     ecx, 0cah
ja      short loc_27822e65
call    sub_27822e82
mov     dword ptr [eax], 8
pop     esi
retn
call    sub_27822e82
mov     dword ptr [eax], 16h
pop     esi
retn
call    sub_27822e82
mov     ecx, dword_2782c11c[esi*8]
pop     esi
mov     [eax], ecx
retn
call    sub_278220c3
add     eax, 8
retn
call    sub_278220c3
add     eax, 0ch
retn
push    esi
mov     esi, [esp+4+arg_0]
push    edi
push    esi
call    sub_27822d3f
add     esp, 4
cmp     eax, 0ffffffffh
jnz     short loc_27822eb9
call    sub_27822e82
mov     dword ptr [eax], 9
or      eax, 0ffffffffh
pop     edi
pop     esi
retn
mov     ecx, [esp+8+dwmovemethod]
mov     edx, [esp+8+ldistancetomove]
push    ecx
push    0
push    edx
push    eax
call    ds:setfilepointer
mov     edi, eax
cmp     edi, 0ffffffffh
jnz     short loc_27822eec
call    ds:getlasterror
test    eax, eax
jz      short loc_27822ef0
push    eax
call    sub_27822e0f
add     esp, 4
or      eax, 0ffffffffh
pop     edi
pop     esi
retn
xor     eax, eax
jmp     short loc_27822ed9
mov     eax, esi
and     esi, 1fh
sar     eax, 5
lea     ecx, [esi+esi*8]
mov     edx, dword_278281a0[eax*4]
lea     eax, [edx+ecx*4+4]
mov     cl, [edx+ecx*4+4]
and     cl, 0fdh
mov     [eax], cl
mov     eax, edi
pop     edi
pop     esi
retn
mov     edx, [esp+arg_0]
push    ebx
push    esi
push    edi
mov     edi, [esp+0ch+arg_4]
xor     ebx, ebx
cmp     edx, edi
jnz     short loc_27822f2c
push    1
pop     eax
pop     edi
pop     esi
pop     ebx
retn
cmp     edx, ebx
jz      short loc_27822f6b
cmp     edi, ebx
jz      short loc_27822f6b
cmp     [edx], bx
jz      short loc_27822f56
mov     esi, edi
mov     eax, edx
sub     esi, edx
mov     cx, [esi+eax]
test    cx, cx
jz      short loc_27822f56
cmp     [eax], cx
jnz     short loc_27822f56
inc     ebx
inc     eax
inc     eax
cmp     word ptr [eax], 0
jnz     short loc_27822f3f
lea     eax, [ebx+ebx]
mov     cx, [edx+eax]
sub     cx, [edi+eax]
neg     cx
sbb     ecx, ecx
inc     ecx
mov     eax, ecx
jmp     short loc_27822f28
xor     eax, eax
jmp     short loc_27822f28
push    ebp
mov     ebp, esp
sub     esp, 18h
push    ebx
mov     ebx, [ebp+h]
push    edi
xor     edi, edi
cmp     ebx, edi
jnz     short loc_27822f8c
xor     eax, eax
pop     edi
pop     ebx
leave
retn
push    esi
push    edi
mov     [ebp+h], edi
mov     [ebp+hdcsrc], edi
mov     [ebp+hdcdest], edi
call    ds:getdc
cmp     eax, edi
mov     [ebp+hdc], eax
jz      loc_27823071
mov     esi, ds:createcompatibledc
push    eax
call    esi
cmp     eax, edi
mov     [ebp+hdcsrc], eax
jz      loc_27823071
push    [ebp+hdc]
call    esi
cmp     eax, edi
mov     [ebp+hdcdest], eax
jz      loc_27823071
lea     eax, [ebp+hsrc]
push    eax
lea     eax, [ebp+wsrc]
push    eax
push    ebx
call    sub_278230a3
add     esp, 0ch
cmp     [ebp+wdest], edi
jnz     short loc_27822fe8
mov     eax, [ebp+wsrc]
mov     [ebp+wdest], eax
cmp     [ebp+cy], edi
jnz     short loc_27822ff3
mov     eax, [ebp+hsrc]
mov     [ebp+cy], eax
push    [ebp+cy]
push    [ebp+wdest]
push    [ebp+hdc]
call    ds:createcompatiblebitmap
cmp     eax, edi
mov     [ebp+h], eax
jz      short loc_27823071
mov     eax, [ebx]
lea     ecx, [ebp+var_18]
push    edi
push    ecx
push    [ebp+hdcsrc]
push    ebx
call    dword ptr [eax+2ch]
push    [ebp+h]
mov     esi, ds:selectobject
push    [ebp+hdcdest]
call    esi
push    0cc0020h
mov     [ebp+h], eax
push    [ebp+hsrc]
push    [ebp+wsrc]
push    edi
push    edi
push    [ebp+hdcsrc]
push    [ebp+cy]
push    [ebp+wdest]
push    edi
push    edi
push    [ebp+hdcdest]
call    ds:stretchblt
push    edi
push    edi
push    [ebp+var_18]
mov     [ebp+cy], eax
mov     eax, [ebx]
push    ebx
call    dword ptr [eax+2ch]
push    [ebp+h]
push    [ebp+hdcdest]
call    esi
cmp     [ebp+cy], edi
mov     [ebp+h], eax
jnz     short loc_27823071
push    eax
call    ds:deleteobject
mov     [ebp+h], edi
cmp     [ebp+hdc], edi
jz      short loc_27823080
push    [ebp+hdc]
push    edi
call    ds:releasedc
cmp     [ebp+hdcsrc], edi
mov     esi, ds:deletedc
jz      short loc_27823090
push    [ebp+hdcsrc]
call    esi
cmp     [ebp+hdcdest], edi
jz      short loc_2782309a
push    [ebp+hdcdest]
call    esi
mov     eax, [ebp+h]
pop     esi
jmp     loc_27822f88
push    ebp
mov     ebp, esp
push    ebx
mov     ebx, [ebp+arg_4]
test    ebx, ebx
push    edi
jz      short loc_278230e5
mov     edi, [ebp+arg_8]
test    edi, edi
jz      short loc_278230e5
push    esi
mov     esi, [ebp+arg_0]
lea     ecx, [ebp+arg_4]
mov     eax, [esi]
push    ecx
push    esi
call    dword ptr [eax+18h]
mov     eax, [esi]
lea     ecx, [ebp+arg_8]
push    ecx
push    esi
call    dword ptr [eax+1ch]
push    [ebp+arg_4]
call    sub_277dd78b
pop     ecx
mov     [ebx], eax
push    [ebp+arg_8]
call    sub_277dd7af
pop     ecx
mov     [edi], eax
pop     esi
pop     edi
pop     ebx
pop     ebp
retn